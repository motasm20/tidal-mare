var tR=Object.defineProperty;var eR=(n,t,e)=>t in n?tR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ee=(n,t,e)=>eR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function ES(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var r_={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw;function nR(){if(Zw)return Sh;Zw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Sh.Fragment=t,Sh.jsx=e,Sh.jsxs=e,Sh}var Ww;function iR(){return Ww||(Ww=1,r_.exports=nR()),r_.exports}var w=iR(),s_={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function rR(){if(Kw)return Yt;Kw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.iterator;function M(R){return R===null||typeof R!="object"?null:(R=N&&R[N]||R["@@iterator"],typeof R=="function"?R:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,W={};function ft(R,Y,lt){this.props=R,this.context=Y,this.refs=W,this.updater=lt||$}ft.prototype.isReactComponent={},ft.prototype.setState=function(R,Y){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Y,"setState")},ft.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ut(){}ut.prototype=ft.prototype;function st(R,Y,lt){this.props=R,this.context=Y,this.refs=W,this.updater=lt||$}var xt=st.prototype=new ut;xt.constructor=st,K(xt,ft.prototype),xt.isPureReactComponent=!0;var Mt=Array.isArray;function Lt(){}var D={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function j(R,Y,lt){var ct=lt.ref;return{$$typeof:n,type:R,key:Y,ref:ct!==void 0?ct:null,props:lt}}function q(R,Y){return j(R.type,Y,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function U(R){var Y={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(lt){return Y[lt]})}var z=/\/+/g;function se(R,Y){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):Y.toString(36)}function Ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Lt,Lt):(R.status="pending",R.then(function(Y){R.status==="pending"&&(R.status="fulfilled",R.value=Y)},function(Y){R.status==="pending"&&(R.status="rejected",R.reason=Y)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function at(R,Y,lt,ct,_t){var vt=typeof R;(vt==="undefined"||vt==="boolean")&&(R=null);var wt=!1;if(R===null)wt=!0;else switch(vt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(R.$$typeof){case n:case t:wt=!0;break;case S:return wt=R._init,at(wt(R._payload),Y,lt,ct,_t)}}if(wt)return _t=_t(R),wt=ct===""?"."+se(R,0):ct,Mt(_t)?(lt="",wt!=null&&(lt=wt.replace(z,"$&/")+"/"),at(_t,Y,lt,"",function(ve){return ve})):_t!=null&&(F(_t)&&(_t=q(_t,lt+(_t.key==null||R&&R.key===_t.key?"":(""+_t.key).replace(z,"$&/")+"/")+wt)),Y.push(_t)),1;wt=0;var Nt=ct===""?".":ct+":";if(Mt(R))for(var Bt=0;Bt<R.length;Bt++)ct=R[Bt],vt=Nt+se(ct,Bt),wt+=at(ct,Y,lt,vt,_t);else if(Bt=M(R),typeof Bt=="function")for(R=Bt.call(R),Bt=0;!(ct=R.next()).done;)ct=ct.value,vt=Nt+se(ct,Bt++),wt+=at(ct,Y,lt,vt,_t);else if(vt==="object"){if(typeof R.then=="function")return at(Ze(R),Y,lt,ct,_t);throw Y=String(R),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return wt}function Tt(R,Y,lt){if(R==null)return R;var ct=[],_t=0;return at(R,ct,"","",function(vt){return Y.call(lt,vt,_t++)}),ct}function bt(R){if(R._status===-1){var Y=R._result;Y=Y(),Y.then(function(lt){(R._status===0||R._status===-1)&&(R._status=1,R._result=lt)},function(lt){(R._status===0||R._status===-1)&&(R._status=2,R._result=lt)}),R._status===-1&&(R._status=0,R._result=Y)}if(R._status===1)return R._result.default;throw R._result}var re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},H={map:Tt,forEach:function(R,Y,lt){Tt(R,function(){Y.apply(this,arguments)},lt)},count:function(R){var Y=0;return Tt(R,function(){Y++}),Y},toArray:function(R){return Tt(R,function(Y){return Y})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Yt.Activity=C,Yt.Children=H,Yt.Component=ft,Yt.Fragment=e,Yt.Profiler=o,Yt.PureComponent=st,Yt.StrictMode=r,Yt.Suspense=v,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return D.H.useMemoCache(R)}},Yt.cache=function(R){return function(){return R.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(R,Y,lt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ct=K({},R.props),_t=R.key;if(Y!=null)for(vt in Y.key!==void 0&&(_t=""+Y.key),Y)!k.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(ct[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)ct.children=lt;else if(1<vt){for(var wt=Array(vt),Nt=0;Nt<vt;Nt++)wt[Nt]=arguments[Nt+2];ct.children=wt}return j(R.type,_t,ct)},Yt.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Yt.createElement=function(R,Y,lt){var ct,_t={},vt=null;if(Y!=null)for(ct in Y.key!==void 0&&(vt=""+Y.key),Y)k.call(Y,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(_t[ct]=Y[ct]);var wt=arguments.length-2;if(wt===1)_t.children=lt;else if(1<wt){for(var Nt=Array(wt),Bt=0;Bt<wt;Bt++)Nt[Bt]=arguments[Bt+2];_t.children=Nt}if(R&&R.defaultProps)for(ct in wt=R.defaultProps,wt)_t[ct]===void 0&&(_t[ct]=wt[ct]);return j(R,vt,_t)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(R){return{$$typeof:g,render:R}},Yt.isValidElement=F,Yt.lazy=function(R){return{$$typeof:S,_payload:{_status:-1,_result:R},_init:bt}},Yt.memo=function(R,Y){return{$$typeof:y,type:R,compare:Y===void 0?null:Y}},Yt.startTransition=function(R){var Y=D.T,lt={};D.T=lt;try{var ct=R(),_t=D.S;_t!==null&&_t(lt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(Lt,re)}catch(vt){re(vt)}finally{Y!==null&&lt.types!==null&&(Y.types=lt.types),D.T=Y}},Yt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Yt.use=function(R){return D.H.use(R)},Yt.useActionState=function(R,Y,lt){return D.H.useActionState(R,Y,lt)},Yt.useCallback=function(R,Y){return D.H.useCallback(R,Y)},Yt.useContext=function(R){return D.H.useContext(R)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(R,Y){return D.H.useDeferredValue(R,Y)},Yt.useEffect=function(R,Y){return D.H.useEffect(R,Y)},Yt.useEffectEvent=function(R){return D.H.useEffectEvent(R)},Yt.useId=function(){return D.H.useId()},Yt.useImperativeHandle=function(R,Y,lt){return D.H.useImperativeHandle(R,Y,lt)},Yt.useInsertionEffect=function(R,Y){return D.H.useInsertionEffect(R,Y)},Yt.useLayoutEffect=function(R,Y){return D.H.useLayoutEffect(R,Y)},Yt.useMemo=function(R,Y){return D.H.useMemo(R,Y)},Yt.useOptimistic=function(R,Y){return D.H.useOptimistic(R,Y)},Yt.useReducer=function(R,Y,lt){return D.H.useReducer(R,Y,lt)},Yt.useRef=function(R){return D.H.useRef(R)},Yt.useState=function(R){return D.H.useState(R)},Yt.useSyncExternalStore=function(R,Y,lt){return D.H.useSyncExternalStore(R,Y,lt)},Yt.useTransition=function(){return D.H.useTransition()},Yt.version="19.2.1",Yt}var Yw;function Vm(){return Yw||(Yw=1,s_.exports=rR()),s_.exports}var Z=Vm();const Zs=ES(Z);var a_={exports:{}},xh={},o_={exports:{}},l_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qw;function sR(){return Qw||(Qw=1,(function(n){function t(at,Tt){var bt=at.length;at.push(Tt);t:for(;0<bt;){var re=bt-1>>>1,H=at[re];if(0<o(H,Tt))at[re]=Tt,at[bt]=H,bt=re;else break t}}function e(at){return at.length===0?null:at[0]}function r(at){if(at.length===0)return null;var Tt=at[0],bt=at.pop();if(bt!==Tt){at[0]=bt;t:for(var re=0,H=at.length,R=H>>>1;re<R;){var Y=2*(re+1)-1,lt=at[Y],ct=Y+1,_t=at[ct];if(0>o(lt,bt))ct<H&&0>o(_t,lt)?(at[re]=_t,at[ct]=bt,re=ct):(at[re]=lt,at[Y]=bt,re=Y);else if(ct<H&&0>o(_t,bt))at[re]=_t,at[ct]=bt,re=ct;else break t}}return Tt}function o(at,Tt){var bt=at.sortIndex-Tt.sortIndex;return bt!==0?bt:at.id-Tt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var v=[],y=[],S=1,C=null,N=3,M=!1,$=!1,K=!1,W=!1,ft=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function xt(at){for(var Tt=e(y);Tt!==null;){if(Tt.callback===null)r(y);else if(Tt.startTime<=at)r(y),Tt.sortIndex=Tt.expirationTime,t(v,Tt);else break;Tt=e(y)}}function Mt(at){if(K=!1,xt(at),!$)if(e(v)!==null)$=!0,Lt||(Lt=!0,U());else{var Tt=e(y);Tt!==null&&Ze(Mt,Tt.startTime-at)}}var Lt=!1,D=-1,k=5,j=-1;function q(){return W?!0:!(n.unstable_now()-j<k)}function F(){if(W=!1,Lt){var at=n.unstable_now();j=at;var Tt=!0;try{t:{$=!1,K&&(K=!1,ut(D),D=-1),M=!0;var bt=N;try{e:{for(xt(at),C=e(v);C!==null&&!(C.expirationTime>at&&q());){var re=C.callback;if(typeof re=="function"){C.callback=null,N=C.priorityLevel;var H=re(C.expirationTime<=at);if(at=n.unstable_now(),typeof H=="function"){C.callback=H,xt(at),Tt=!0;break e}C===e(v)&&r(v),xt(at)}else r(v);C=e(v)}if(C!==null)Tt=!0;else{var R=e(y);R!==null&&Ze(Mt,R.startTime-at),Tt=!1}}break t}finally{C=null,N=bt,M=!1}Tt=void 0}}finally{Tt?U():Lt=!1}}}var U;if(typeof st=="function")U=function(){st(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,se=z.port2;z.port1.onmessage=F,U=function(){se.postMessage(null)}}else U=function(){ft(F,0)};function Ze(at,Tt){D=ft(function(){at(n.unstable_now())},Tt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(at){at.callback=null},n.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<at?Math.floor(1e3/at):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(at){switch(N){case 1:case 2:case 3:var Tt=3;break;default:Tt=N}var bt=N;N=Tt;try{return at()}finally{N=bt}},n.unstable_requestPaint=function(){W=!0},n.unstable_runWithPriority=function(at,Tt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var bt=N;N=at;try{return Tt()}finally{N=bt}},n.unstable_scheduleCallback=function(at,Tt,bt){var re=n.unstable_now();switch(typeof bt=="object"&&bt!==null?(bt=bt.delay,bt=typeof bt=="number"&&0<bt?re+bt:re):bt=re,at){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=bt+H,at={id:S++,callback:Tt,priorityLevel:at,startTime:bt,expirationTime:H,sortIndex:-1},bt>re?(at.sortIndex=bt,t(y,at),e(v)===null&&at===e(y)&&(K?(ut(D),D=-1):K=!0,Ze(Mt,bt-re))):(at.sortIndex=H,t(v,at),$||M||($=!0,Lt||(Lt=!0,U()))),at},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(at){var Tt=N;return function(){var bt=N;N=Tt;try{return at.apply(this,arguments)}finally{N=bt}}}})(l_)),l_}var Xw;function aR(){return Xw||(Xw=1,o_.exports=sR()),o_.exports}var u_={exports:{}},ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function oR(){if($w)return ri;$w=1;var n=Vm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,y,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:v,containerInfo:y,implementation:S}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ri.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(v,y,null,S)},ri.flushSync=function(v){var y=f.T,S=r.p;try{if(f.T=null,r.p=2,v)return v()}finally{f.T=y,r.p=S,r.d.f()}},ri.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},ri.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},ri.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,C=g(S,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:N,fetchPriority:M}):S==="script"&&r.d.X(v,{crossOrigin:C,integrity:N,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ri.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},ri.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,C=g(S,y.crossOrigin);r.d.L(v,S,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ri.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=g(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},ri.requestFormReset=function(v){r.d.r(v)},ri.unstable_batchedUpdates=function(v,y){return v(y)},ri.useFormState=function(v,y,S){return f.H.useFormState(v,y,S)},ri.useFormStatus=function(){return f.H.useHostTransitionStatus()},ri.version="19.2.1",ri}var Jw;function TS(){if(Jw)return u_.exports;Jw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),u_.exports=oR(),u_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function lR(){if(tE)return xh;tE=1;var n=aR(),t=Vm(),e=TS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function f(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function v(i){if(u(i)!==i)throw Error(r(188))}function y(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return v(p),i;if(_===h)return v(p),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=p,h=_;else{for(var x=!1,O=p.child;O;){if(O===l){x=!0,l=p,h=_;break}if(O===h){x=!0,h=p,l=_;break}O=O.sibling}if(!x){for(O=_.child;O;){if(O===l){x=!0,l=_,h=p;break}if(O===h){x=!0,h=_,l=p;break}O=O.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function S(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=S(i),s!==null)return s;i=i.sibling}return null}var C=Object.assign,N=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),st=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Mt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case K:return"Fragment";case ft:return"Profiler";case W:return"StrictMode";case Mt:return"Suspense";case Lt:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case $:return"Portal";case st:return i.displayName||"Context";case ut:return(i._context.displayName||"Context")+".Consumer";case xt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:se(i.type)||"Memo";case k:s=i._payload,i=i._init;try{return se(i(s))}catch{}}return null}var Ze=Array.isArray,at=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},re=[],H=-1;function R(i){return{current:i}}function Y(i){0>H||(i.current=re[H],re[H]=null,H--)}function lt(i,s){H++,re[H]=i.current,i.current=s}var ct=R(null),_t=R(null),vt=R(null),wt=R(null);function Nt(i,s){switch(lt(vt,s),lt(_t,i),lt(ct,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?pw(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=pw(s),i=gw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(ct),lt(ct,i)}function Bt(){Y(ct),Y(_t),Y(vt)}function ve(i){i.memoizedState!==null&&lt(wt,i);var s=ct.current,l=gw(s,i.type);s!==l&&(lt(_t,i),lt(ct,l))}function ce(i){_t.current===i&&(Y(ct),Y(_t)),wt.current===i&&(Y(wt),bh._currentValue=bt)}var _e,je;function Wt(i){if(_e===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);_e=s&&s[1]||"",je=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+i+je}var tn=!1;function ln(i,s){if(!i||tn)return"";tn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(ot){var it=ot}Reflect.construct(i,[],pt)}else{try{pt.call()}catch(ot){it=ot}i.call(pt.prototype)}}else{try{throw Error()}catch(ot){it=ot}(pt=i())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(ot){if(ot&&it&&typeof ot.stack=="string")return[ot.stack,it.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),x=_[0],O=_[1];if(x&&O){var B=x.split(`
`),et=O.split(`
`);for(p=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;p<et.length&&!et[p].includes("DetermineComponentFrameRoot");)p++;if(h===B.length||p===et.length)for(h=B.length-1,p=et.length-1;1<=h&&0<=p&&B[h]!==et[p];)p--;for(;1<=h&&0<=p;h--,p--)if(B[h]!==et[p]){if(h!==1||p!==1)do if(h--,p--,0>p||B[h]!==et[p]){var ht=`
`+B[h].replace(" at new "," at ");return i.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",i.displayName)),ht}while(1<=h&&0<=p);break}}}finally{tn=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Wt(l):""}function mn(i,s){switch(i.tag){case 26:case 27:case 5:return Wt(i.type);case 16:return Wt("Lazy");case 13:return i.child!==s&&s!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return ln(i.type,!1);case 11:return ln(i.type.render,!1);case 1:return ln(i.type,!0);case 31:return Wt("Activity");default:return""}}function bn(i){try{var s="",l=null;do s+=mn(i,l),l=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ne=Object.prototype.hasOwnProperty,Ee=n.unstable_scheduleCallback,yi=n.unstable_cancelCallback,Xa=n.unstable_shouldYield,sa=n.unstable_requestPaint,wn=n.unstable_now,Gr=n.unstable_getCurrentPriorityLevel,hr=n.unstable_ImmediatePriority,Es=n.unstable_UserBlockingPriority,Bi=n.unstable_NormalPriority,$a=n.unstable_LowPriority,Ts=n.unstable_IdlePriority,Zr=n.log,Ja=n.unstable_setDisableYieldValue,Xn=null,pn=null;function ui(i){if(typeof Zr=="function"&&Ja(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Xn,i)}catch{}}var en=Math.clz32?Math.clz32:pu,Ss=Math.log,to=Math.LN2;function pu(i){return i>>>=0,i===0?32:31-(Ss(i)/to|0)|0}var Ui=256,xs=262144,nn=4194304;function fr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function dr(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var p=0,_=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var O=h&134217727;return O!==0?(h=O&~_,h!==0?p=fr(h):(x&=O,x!==0?p=fr(x):l||(l=O&~i,l!==0&&(p=fr(l))))):(O=h&~_,O!==0?p=fr(O):x!==0?p=fr(x):l||(l=h&~i,l!==0&&(p=fr(l)))),p===0?0:s!==0&&s!==p&&(s&_)===0&&(_=p&-p,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:p}function Fi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Bc(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var i=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),i}function mr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Wr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Uc(i,s,l,h,p,_){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,B=i.expirationTimes,et=i.hiddenUpdates;for(l=x&~l;0<l;){var ht=31-en(l),pt=1<<ht;O[ht]=0,B[ht]=-1;var it=et[ht];if(it!==null)for(et[ht]=null,ht=0;ht<it.length;ht++){var ot=it[ht];ot!==null&&(ot.lane&=-536870913)}l&=~pt}h!==0&&aa(i,h,0),_!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=_&~(x&~s))}function aa(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-en(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function ol(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-en(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}function ll(i,s){var l=s&-s;return l=(l&42)!==0?1:Mn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Mn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ot(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ul(){var i=Tt.p;return i!==0?i:(i=window.event,i===void 0?32:zw(i.type))}function bi(i,s){var l=Tt.p;try{return Tt.p=i,s()}finally{Tt.p=l}}var wi=Math.random().toString(36).slice(2),rn="__reactFiber$"+wi,un="__reactProps$"+wi,Hi="__reactContainer$"+wi,qi="__reactEvents$"+wi,_u="__reactListeners$"+wi,vu="__reactHandles$"+wi,yu="__reactResources$"+wi,pr="__reactMarker$"+wi;function eo(i){delete i[rn],delete i[un],delete i[qi],delete i[_u],delete i[vu]}function Gi(i){var s=i[rn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Hi]||l[rn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Tw(i);i!==null;){if(l=i[rn])return l;i=Tw(i)}return s}i=l,l=i.parentNode}return null}function Ei(i){if(i=i[rn]||i[Hi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function kn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function gr(i){var s=i[yu];return s||(s=i[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function cn(i){i[pr]=!0}var cl=new Set,hl={};function _r(i,s){Ti(i,s),Ti(i+"Capture",s)}function Ti(i,s){for(hl[i]=s,i=0;i<s.length;i++)cl.add(s[i])}var Kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),no={},io={};function As(i){return Ne.call(io,i)?!0:Ne.call(no,i)?!1:Kr.test(i)?io[i]=!0:(no[i]=!0,!1)}function ie(i,s,l){if(As(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ae(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function We(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}function Ke(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ci(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function oa(i,s,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,_=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){l=""+x,_.call(this,x)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Rt(i){if(!i._valueTracker){var s=ci(i)?"checked":"value";i._valueTracker=oa(i,s,""+i[s])}}function Le(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=ci(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Si(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vr=/[\n"\\]/g;function Ue(i){return i.replace(vr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ro(i,s,l,h,p,_,x,O){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ke(s)):i.value!==""+Ke(s)&&(i.value=""+Ke(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?Zi(i,x,Ke(s)):l!=null?Zi(i,x,Ke(l)):h!=null&&i.removeAttribute("value"),p==null&&_!=null&&(i.defaultChecked=!!_),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+Ke(O):i.removeAttribute("name")}function la(i,s,l,h,p,_,x,O){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Rt(i);return}l=l!=null?""+Ke(l):"",s=s!=null?""+Ke(s):l,O||s===i.value||(i.value=s),i.defaultValue=s}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=O?i.checked:!!h,i.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),Rt(i)}function Zi(i,s,l){s==="number"&&Si(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Me(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ke(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function yr(i,s,l){if(s!=null&&(s=""+Ke(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Ke(l):""}function xi(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(Ze(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=Ke(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Rt(i)}function En(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var so=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||so.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function ua(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in s)h=s[p],s.hasOwnProperty(p)&&l[p]!==h&&Yr(i,p,h)}else for(var _ in s)s.hasOwnProperty(_)&&Yr(i,_,s[_])}function Cs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ca=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(i){return br.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $n(){}var ao=null;function Jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Is=null,Ut=null;function Dn(i){var s=Ei(i);if(s&&(i=s.stateNode)){var l=i[un]||null;t:switch(i=s.stateNode,s.type){case"input":if(ro(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ue(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=h[un]||null;if(!p)throw Error(r(90));ro(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&Le(h)}break t;case"textarea":yr(i,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&Me(i,!!l.multiple,s,!1)}}}var Te=!1;function Qr(i,s,l){if(Te)return i(s,l);Te=!0;try{var h=i(s);return h}finally{if(Te=!1,(Is!==null||Ut!==null)&&(ld(),Is&&(s=Is,i=Ut,Ut=Is=null,Dn(s),i)))for(s=0;s<i.length;s++)Dn(i[s])}}function hi(i,s){var l=i.stateNode;if(l===null)return null;var h=l[un]||null;if(h===null)return null;l=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(ti)try{var he={};Object.defineProperty(he,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",he,he),window.removeEventListener("test",he,he)}catch{Xr=!1}var Ai=null,$r=null,Ye=null;function Wi(){if(Ye)return Ye;var i,s=$r,l=s.length,h,p="value"in Ai?Ai.value:Ai.textContent,_=p.length;for(i=0;i<l&&s[i]===p[i];i++);var x=l-i;for(h=1;h<=x&&s[l-h]===p[_-h];h++);return Ye=p.slice(i,1<h?1-h:void 0)}function Os(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wr(){return!0}function Ki(){return!1}function Tn(i){function s(l,h,p,_,x){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?wr:Ki,this.isPropagationStopped=Ki,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),s}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=Tn(Yi),Jr=C({},Yi,{view:0,detail:0}),ne=Tn(Jr),Ns,jn,ei,ha=C({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ei&&(ei&&i.type==="mousemove"?(Ns=i.screenX-ei.screenX,jn=i.screenY-ei.screenY):jn=Ns=0,ei=i),Ns)},movementY:function(i){return"movementY"in i?i.movementY:jn}}),fl=Tn(ha),ts=C({},ha,{dataTransfer:0}),bu=Tn(ts),dl=C({},Jr,{relatedTarget:0}),fa=Tn(dl),ml=C({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),oo=Tn(ml),lo=C({},Yi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fi=Tn(lo),wu=C({},Yi,{data:0}),Qi=Tn(wu),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uo(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=gl[i])?!!s[i]:!1}function Ps(){return uo}var Vn=C({},Jr,{key:function(i){if(i.key){var s=Xi[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Os(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(i){return i.type==="keypress"?Os(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Os(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_l=Tn(Vn),Eu=C({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Tn(Eu),d=C({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),E=Tn(d),A=C({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=Tn(A),J=C({},ha,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=Tn(J),Et=C({},Yi,{newState:0,oldState:0}),Gt=Tn(Et),ye=[9,13,27,32],be=ti&&"CompositionEvent"in window,Fe=null;ti&&"documentMode"in document&&(Fe=document.documentMode);var Ci=ti&&"TextEvent"in window&&!Fe,Ri=ti&&(!be||Fe&&8<Fe&&11>=Fe),di=" ",$i=!1;function da(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ma(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var co=!1;function Ji(i,s){switch(i){case"compositionend":return ma(s);case"keypress":return s.which!==32?null:($i=!0,di);case"textInput":return i=s.data,i===di&&$i?null:i;default:return null}}function ho(i,s){if(co)return i==="compositionend"||!be&&da(i,s)?(i=Wi(),Ye=$r=Ai=null,co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ri&&s.locale!=="ko"?null:s.data;default:return null}}var Ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ep[i.type]:s==="textarea"}function xf(i,s,l,h){Is?Ut?Ut.push(h):Ut=[h]:Is=h,s=pd(s,"onChange"),0<s.length&&(l=new Er("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Sr=null,vl=null;function yl(i){uw(i,0)}function bl(i){var s=kn(i);if(Le(s))return i}function wl(i,s){if(i==="change")return s}var Af=!1;if(ti){var xr;if(ti){var fo="oninput"in document;if(!fo){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),fo=typeof Cf.oninput=="function"}xr=fo}else xr=!1;Af=xr&&(!document.documentMode||9<document.documentMode)}function Tu(){Sr&&(Sr.detachEvent("onpropertychange",Rf),vl=Sr=null)}function Rf(i){if(i.propertyName==="value"&&bl(vl)){var s=[];xf(s,vl,i,Jn(i)),Qr(yl,s)}}function ns(i,s,l){i==="focusin"?(Tu(),Sr=s,vl=l,Sr.attachEvent("onpropertychange",Rf)):i==="focusout"&&Tu()}function Tp(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bl(vl)}function mo(i,s){if(i==="click")return bl(s)}function Sp(i,s){if(i==="input"||i==="change")return bl(s)}function is(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var zn=typeof Object.is=="function"?Object.is:is;function po(i,s){if(zn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Ne.call(s,p)||!zn(i[p],s[p]))return!1}return!0}function Su(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function El(i,s){var l=Su(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Su(l)}}function xu(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?xu(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Tl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Si(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Si(i.document)}return s}function Ls(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Au=ti&&"documentMode"in document&&11>=document.documentMode,Ms=null,Cu=null,Sl=null,go=!1;function If(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;go||Ms==null||Ms!==Si(h)||(h=Ms,"selectionStart"in h&&Ls(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sl&&po(Sl,h)||(Sl=h,h=pd(Cu,"onSelect"),0<h.length&&(s=new Er("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Ms)))}function ks(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var _o={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Ru={},Of={};ti&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Bn(i){if(Ru[i])return Ru[i];if(!_o[i])return i;var s=_o[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Of)return Ru[i]=s[l];return i}var xl=Bn("animationend"),Nf=Bn("animationiteration"),Al=Bn("animationstart"),xp=Bn("transitionrun"),Pf=Bn("transitionstart"),Ap=Bn("transitioncancel"),vo=Bn("transitionend"),Lf=new Map,Ds="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ds.push("scrollEnd");function Ii(i,s){Lf.set(i,s),_r(s,[i])}var Cl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Oi=[],ni=0,Iu=0;function Rl(){for(var i=ni,s=Iu=ni=0;s<i;){var l=Oi[s];Oi[s++]=null;var h=Oi[s];Oi[s++]=null;var p=Oi[s];Oi[s++]=null;var _=Oi[s];if(Oi[s++]=null,h!==null&&p!==null){var x=h.pending;x===null?p.next=p:(p.next=x.next,x.next=p),h.pending=p}_!==0&&yo(l,p,_)}}function js(i,s,l,h){Oi[ni++]=i,Oi[ni++]=s,Oi[ni++]=l,Oi[ni++]=h,Iu|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Fc(i,s,l,h){return js(i,s,l,h),Il(i)}function Ar(i,s){return js(i,null,null,s),Il(i)}function yo(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(p=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,p&&s!==null&&(p=31-en(l),i=_.hiddenUpdates,h=i[p],h===null?i[p]=[s]:h.push(s),s.lane=l|536870912),_):null}function Il(i){if(50<dh)throw dh=0,Rg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var pa={};function Cp(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(i,s,l,h){return new Cp(i,s,l,h)}function Ou(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cr(i,s){var l=i.alternate;return l===null?(l=ii(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Hc(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ol(i,s,l,h,p,_){var x=0;if(h=i,typeof i=="function")Ou(i)&&(x=1);else if(typeof i=="string")x=F2(i,l,ct.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case j:return i=ii(31,l,s,p),i.elementType=j,i.lanes=_,i;case K:return ga(l.children,p,_,s);case W:x=8,p|=24;break;case ft:return i=ii(12,l,s,p|2),i.elementType=ft,i.lanes=_,i;case Mt:return i=ii(13,l,s,p),i.elementType=Mt,i.lanes=_,i;case Lt:return i=ii(19,l,s,p),i.elementType=Lt,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case st:x=10;break t;case ut:x=9;break t;case xt:x=11;break t;case D:x=14;break t;case k:x=16,h=null;break t}x=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=ii(x,l,s,p),s.elementType=i,s.type=h,s.lanes=_,s}function ga(i,s,l,h){return i=ii(7,i,h,s),i.lanes=l,i}function Nu(i,s,l){return i=ii(6,i,null,s),i.lanes=l,i}function qc(i){var s=ii(18,null,null,0);return s.stateNode=i,s}function Gc(i,s,l){return s=ii(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var a=new WeakMap;function c(i,s){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(s={value:i,source:s,stack:bn(s)},a.set(i,s),s)}return{value:i,source:s,stack:bn(s)}}var m=[],b=0,T=null,I=0,V=[],X=0,nt=null,mt=1,St="";function Dt(i,s){m[b++]=I,m[b++]=T,T=i,I=s}function Jt(i,s,l){V[X++]=mt,V[X++]=St,V[X++]=nt,nt=i;var h=mt;i=St;var p=32-en(h)-1;h&=~(1<<p),l+=1;var _=32-en(s)+p;if(30<_){var x=p-p%5;_=(h&(1<<x)-1).toString(32),h>>=x,p-=x,mt=1<<32-en(s)+p|l<<p|h,St=_+i}else mt=1<<_|l<<p|h,St=i}function Nn(i){i.return!==null&&(Dt(i,1),Jt(i,1,0))}function hn(i){for(;i===T;)T=m[--b],m[b]=null,I=m[--b],m[b]=null;for(;i===nt;)nt=V[--X],V[X]=null,St=V[--X],V[X]=null,mt=V[--X],V[X]=null}function mi(i,s){V[X++]=mt,V[X++]=St,V[X++]=nt,mt=s.id,St=s.overflow,nt=i}var xe=null,Ae=null,oe=!1,Vs=null,Ni=!1,Pu=Error(r(519));function zs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(c(s,i)),Pu}function Zc(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[rn]=i,s[un]=h,l){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(l=0;l<ph.length;l++)ue(ph[l],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":ue("invalid",s),la(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ue("invalid",s);break;case"textarea":ue("invalid",s),xi(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||dw(s.textContent,l)?(h.popover!=null&&(ue("beforetoggle",s),ue("toggle",s)),h.onScroll!=null&&ue("scroll",s),h.onScrollEnd!=null&&ue("scrollend",s),h.onClick!=null&&(s.onclick=$n),s=!0):s=!1,s||zs(i,!0)}function sn(i){for(xe=i.return;xe;)switch(xe.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:xe=xe.return}}function rs(i){if(i!==xe)return!1;if(!oe)return sn(i),oe=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Hg(i.type,i.memoizedProps)),l=!l),l&&Ae&&zs(i),sn(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ae=Ew(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ae=Ew(i)}else s===27?(s=Ae,Lo(i.type)?(i=Kg,Kg=null,Ae=i):Ae=s):Ae=xe?Ir(i.stateNode.nextSibling):null;return!0}function _a(){Ae=xe=null,oe=!1}function Wc(){var i=Vs;return i!==null&&(ki===null?ki=i:ki.push.apply(ki,i),Vs=null),i}function Nl(i){Vs===null?Vs=[i]:Vs.push(i)}var Pl=R(null),Bs=null,ss=null;function bo(i,s,l){lt(Pl,s._currentValue),s._currentValue=l}function va(i){i._currentValue=Pl.current,Y(Pl)}function Rp(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Ip(i,s,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var _=p.dependencies;if(_!==null){var x=p.child;_=_.firstContext;t:for(;_!==null;){var O=_;_=p;for(var B=0;B<s.length;B++)if(O.context===s[B]){_.lanes|=l,O=_.alternate,O!==null&&(O.lanes|=l),Rp(_.return,l,i),h||(x=null);break t}_=O.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=l,_=x.alternate,_!==null&&(_.lanes|=l),Rp(x,l,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Lu(i,s,l,h){i=null;for(var p=s,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var O=p.type;zn(p.pendingProps.value,x.value)||(i!==null?i.push(O):i=[O])}}else if(p===wt.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(bh):i=[bh])}p=p.return}i!==null&&Ip(s,i,l,h),s.flags|=262144}function Mf(i){for(i=i.firstContext;i!==null;){if(!zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ll(i){Bs=i,ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Hn(i){return $y(Bs,i)}function kf(i,s){return Bs===null&&Ll(i),$y(i,s)}function $y(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ss===null){if(i===null)throw Error(r(308));ss=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ss=ss.next=s;return l}var VC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},zC=n.unstable_scheduleCallback,BC=n.unstable_NormalPriority,Sn={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new VC,data:new Map,refCount:0}}function Kc(i){i.refCount--,i.refCount===0&&zC(BC,function(){i.controller.abort()})}var Yc=null,Np=0,Mu=0,ku=null;function UC(i,s){if(Yc===null){var l=Yc=[];Np=0,Mu=Mg(),ku={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Np++,s.then(Jy,Jy),s}function Jy(){if(--Np===0&&Yc!==null){ku!==null&&(ku.status="fulfilled");var i=Yc;Yc=null,Mu=0,ku=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function FC(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var t0=at.S;at.S=function(i,s){jb=wn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&UC(i,s),t0!==null&&t0(i,s)};var Ml=R(null);function Pp(){var i=Ml.current;return i!==null?i:He.pooledCache}function Df(i,s){s===null?lt(Ml,Ml.current):lt(Ml,s.pool)}function e0(){var i=Pp();return i===null?null:{parent:Sn._currentValue,pool:i}}var Du=Error(r(460)),Lp=Error(r(474)),jf=Error(r(542)),Vf={then:function(){}};function n0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function i0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then($n,$n),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,s0(i),i;default:if(typeof s.status=="string")s.then($n,$n);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=h}},function(h){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,s0(i),i}throw Dl=s,Du}}function kl(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Dl=l,Du):l}}var Dl=null;function r0(){if(Dl===null)throw Error(r(459));var i=Dl;return Dl=null,i}function s0(i){if(i===Du||i===jf)throw Error(r(483))}var ju=null,Qc=0;function zf(i){var s=Qc;return Qc+=1,ju===null&&(ju=[]),i0(ju,i,s)}function Xc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Bf(i,s){throw s.$$typeof===N?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function a0(i){function s(Q,G){if(i){var tt=Q.deletions;tt===null?(Q.deletions=[G],Q.flags|=16):tt.push(G)}}function l(Q,G){if(!i)return null;for(;G!==null;)s(Q,G),G=G.sibling;return null}function h(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function p(Q,G){return Q=Cr(Q,G),Q.index=0,Q.sibling=null,Q}function _(Q,G,tt){return Q.index=tt,i?(tt=Q.alternate,tt!==null?(tt=tt.index,tt<G?(Q.flags|=67108866,G):tt):(Q.flags|=67108866,G)):(Q.flags|=1048576,G)}function x(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function O(Q,G,tt,dt){return G===null||G.tag!==6?(G=Nu(tt,Q.mode,dt),G.return=Q,G):(G=p(G,tt),G.return=Q,G)}function B(Q,G,tt,dt){var Vt=tt.type;return Vt===K?ht(Q,G,tt.props.children,dt,tt.key):G!==null&&(G.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===k&&kl(Vt)===G.type)?(G=p(G,tt.props),Xc(G,tt),G.return=Q,G):(G=Ol(tt.type,tt.key,tt.props,null,Q.mode,dt),Xc(G,tt),G.return=Q,G)}function et(Q,G,tt,dt){return G===null||G.tag!==4||G.stateNode.containerInfo!==tt.containerInfo||G.stateNode.implementation!==tt.implementation?(G=Gc(tt,Q.mode,dt),G.return=Q,G):(G=p(G,tt.children||[]),G.return=Q,G)}function ht(Q,G,tt,dt,Vt){return G===null||G.tag!==7?(G=ga(tt,Q.mode,dt,Vt),G.return=Q,G):(G=p(G,tt),G.return=Q,G)}function pt(Q,G,tt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Nu(""+G,Q.mode,tt),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case M:return tt=Ol(G.type,G.key,G.props,null,Q.mode,tt),Xc(tt,G),tt.return=Q,tt;case $:return G=Gc(G,Q.mode,tt),G.return=Q,G;case k:return G=kl(G),pt(Q,G,tt)}if(Ze(G)||U(G))return G=ga(G,Q.mode,tt,null),G.return=Q,G;if(typeof G.then=="function")return pt(Q,zf(G),tt);if(G.$$typeof===st)return pt(Q,kf(Q,G),tt);Bf(Q,G)}return null}function it(Q,G,tt,dt){var Vt=G!==null?G.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Vt!==null?null:O(Q,G,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case M:return tt.key===Vt?B(Q,G,tt,dt):null;case $:return tt.key===Vt?et(Q,G,tt,dt):null;case k:return tt=kl(tt),it(Q,G,tt,dt)}if(Ze(tt)||U(tt))return Vt!==null?null:ht(Q,G,tt,dt,null);if(typeof tt.then=="function")return it(Q,G,zf(tt),dt);if(tt.$$typeof===st)return it(Q,G,kf(Q,tt),dt);Bf(Q,tt)}return null}function ot(Q,G,tt,dt,Vt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Q=Q.get(tt)||null,O(G,Q,""+dt,Vt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case M:return Q=Q.get(dt.key===null?tt:dt.key)||null,B(G,Q,dt,Vt);case $:return Q=Q.get(dt.key===null?tt:dt.key)||null,et(G,Q,dt,Vt);case k:return dt=kl(dt),ot(Q,G,tt,dt,Vt)}if(Ze(dt)||U(dt))return Q=Q.get(tt)||null,ht(G,Q,dt,Vt,null);if(typeof dt.then=="function")return ot(Q,G,tt,zf(dt),Vt);if(dt.$$typeof===st)return ot(Q,G,tt,kf(G,dt),Vt);Bf(G,dt)}return null}function Pt(Q,G,tt,dt){for(var Vt=null,Ce=null,kt=G,te=G=0,de=null;kt!==null&&te<tt.length;te++){kt.index>te?(de=kt,kt=null):de=kt.sibling;var Re=it(Q,kt,tt[te],dt);if(Re===null){kt===null&&(kt=de);break}i&&kt&&Re.alternate===null&&s(Q,kt),G=_(Re,G,te),Ce===null?Vt=Re:Ce.sibling=Re,Ce=Re,kt=de}if(te===tt.length)return l(Q,kt),oe&&Dt(Q,te),Vt;if(kt===null){for(;te<tt.length;te++)kt=pt(Q,tt[te],dt),kt!==null&&(G=_(kt,G,te),Ce===null?Vt=kt:Ce.sibling=kt,Ce=kt);return oe&&Dt(Q,te),Vt}for(kt=h(kt);te<tt.length;te++)de=ot(kt,Q,te,tt[te],dt),de!==null&&(i&&de.alternate!==null&&kt.delete(de.key===null?te:de.key),G=_(de,G,te),Ce===null?Vt=de:Ce.sibling=de,Ce=de);return i&&kt.forEach(function(Vo){return s(Q,Vo)}),oe&&Dt(Q,te),Vt}function Ft(Q,G,tt,dt){if(tt==null)throw Error(r(151));for(var Vt=null,Ce=null,kt=G,te=G=0,de=null,Re=tt.next();kt!==null&&!Re.done;te++,Re=tt.next()){kt.index>te?(de=kt,kt=null):de=kt.sibling;var Vo=it(Q,kt,Re.value,dt);if(Vo===null){kt===null&&(kt=de);break}i&&kt&&Vo.alternate===null&&s(Q,kt),G=_(Vo,G,te),Ce===null?Vt=Vo:Ce.sibling=Vo,Ce=Vo,kt=de}if(Re.done)return l(Q,kt),oe&&Dt(Q,te),Vt;if(kt===null){for(;!Re.done;te++,Re=tt.next())Re=pt(Q,Re.value,dt),Re!==null&&(G=_(Re,G,te),Ce===null?Vt=Re:Ce.sibling=Re,Ce=Re);return oe&&Dt(Q,te),Vt}for(kt=h(kt);!Re.done;te++,Re=tt.next())Re=ot(kt,Q,te,Re.value,dt),Re!==null&&(i&&Re.alternate!==null&&kt.delete(Re.key===null?te:Re.key),G=_(Re,G,te),Ce===null?Vt=Re:Ce.sibling=Re,Ce=Re);return i&&kt.forEach(function(J2){return s(Q,J2)}),oe&&Dt(Q,te),Vt}function Be(Q,G,tt,dt){if(typeof tt=="object"&&tt!==null&&tt.type===K&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case M:t:{for(var Vt=tt.key;G!==null;){if(G.key===Vt){if(Vt=tt.type,Vt===K){if(G.tag===7){l(Q,G.sibling),dt=p(G,tt.props.children),dt.return=Q,Q=dt;break t}}else if(G.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===k&&kl(Vt)===G.type){l(Q,G.sibling),dt=p(G,tt.props),Xc(dt,tt),dt.return=Q,Q=dt;break t}l(Q,G);break}else s(Q,G);G=G.sibling}tt.type===K?(dt=ga(tt.props.children,Q.mode,dt,tt.key),dt.return=Q,Q=dt):(dt=Ol(tt.type,tt.key,tt.props,null,Q.mode,dt),Xc(dt,tt),dt.return=Q,Q=dt)}return x(Q);case $:t:{for(Vt=tt.key;G!==null;){if(G.key===Vt)if(G.tag===4&&G.stateNode.containerInfo===tt.containerInfo&&G.stateNode.implementation===tt.implementation){l(Q,G.sibling),dt=p(G,tt.children||[]),dt.return=Q,Q=dt;break t}else{l(Q,G);break}else s(Q,G);G=G.sibling}dt=Gc(tt,Q.mode,dt),dt.return=Q,Q=dt}return x(Q);case k:return tt=kl(tt),Be(Q,G,tt,dt)}if(Ze(tt))return Pt(Q,G,tt,dt);if(U(tt)){if(Vt=U(tt),typeof Vt!="function")throw Error(r(150));return tt=Vt.call(tt),Ft(Q,G,tt,dt)}if(typeof tt.then=="function")return Be(Q,G,zf(tt),dt);if(tt.$$typeof===st)return Be(Q,G,kf(Q,tt),dt);Bf(Q,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,G!==null&&G.tag===6?(l(Q,G.sibling),dt=p(G,tt),dt.return=Q,Q=dt):(l(Q,G),dt=Nu(tt,Q.mode,dt),dt.return=Q,Q=dt),x(Q)):l(Q,G)}return function(Q,G,tt,dt){try{Qc=0;var Vt=Be(Q,G,tt,dt);return ju=null,Vt}catch(kt){if(kt===Du||kt===jf)throw kt;var Ce=ii(29,kt,null,Q.mode);return Ce.lanes=dt,Ce.return=Q,Ce}finally{}}}var jl=a0(!0),o0=a0(!1),wo=!1;function Mp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Eo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function To(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,s=Il(i),yo(i,null,l),s}return js(i,h,s,l),Il(i)}function $c(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ol(i,l)}}function Dp(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=x:_=_.next=x,l=l.next}while(l!==null);_===null?p=_=s:_=_.next=s}else p=_=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var jp=!1;function Jc(){if(jp){var i=ku;if(i!==null)throw i}}function th(i,s,l,h){jp=!1;var p=i.updateQueue;wo=!1;var _=p.firstBaseUpdate,x=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var B=O,et=B.next;B.next=null,x===null?_=et:x.next=et,x=B;var ht=i.alternate;ht!==null&&(ht=ht.updateQueue,O=ht.lastBaseUpdate,O!==x&&(O===null?ht.firstBaseUpdate=et:O.next=et,ht.lastBaseUpdate=B))}if(_!==null){var pt=p.baseState;x=0,ht=et=B=null,O=_;do{var it=O.lane&-536870913,ot=it!==O.lane;if(ot?(fe&it)===it:(h&it)===it){it!==0&&it===Mu&&(jp=!0),ht!==null&&(ht=ht.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var Pt=i,Ft=O;it=s;var Be=l;switch(Ft.tag){case 1:if(Pt=Ft.payload,typeof Pt=="function"){pt=Pt.call(Be,pt,it);break t}pt=Pt;break t;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Ft.payload,it=typeof Pt=="function"?Pt.call(Be,pt,it):Pt,it==null)break t;pt=C({},pt,it);break t;case 2:wo=!0}}it=O.callback,it!==null&&(i.flags|=64,ot&&(i.flags|=8192),ot=p.callbacks,ot===null?p.callbacks=[it]:ot.push(it))}else ot={lane:it,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ht===null?(et=ht=ot,B=pt):ht=ht.next=ot,x|=it;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ot=O,O=ot.next,ot.next=null,p.lastBaseUpdate=ot,p.shared.pending=null}}while(!0);ht===null&&(B=pt),p.baseState=B,p.firstBaseUpdate=et,p.lastBaseUpdate=ht,_===null&&(p.shared.lanes=0),Ro|=x,i.lanes=x,i.memoizedState=pt}}function l0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function u0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)l0(l[i],s)}var Vu=R(null),Uf=R(0);function c0(i,s){i=Ca,lt(Uf,i),lt(Vu,s),Ca=i|s.baseLanes}function Vp(){lt(Uf,Ca),lt(Vu,Vu.current)}function zp(){Ca=Uf.current,Y(Vu),Y(Uf)}var tr=R(null),Rr=null;function So(i){var s=i.alternate;lt(gn,gn.current&1),lt(tr,i),Rr===null&&(s===null||Vu.current!==null||s.memoizedState!==null)&&(Rr=i)}function Bp(i){lt(gn,gn.current),lt(tr,i),Rr===null&&(Rr=i)}function h0(i){i.tag===22?(lt(gn,gn.current),lt(tr,i),Rr===null&&(Rr=i)):xo()}function xo(){lt(gn,gn.current),lt(tr,tr.current)}function er(i){Y(tr),Rr===i&&(Rr=null),Y(gn)}var gn=R(0);function Ff(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Zg(l)||Wg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ya=0,$t=null,Ve=null,xn=null,Hf=!1,zu=!1,Vl=!1,qf=0,eh=0,Bu=null,HC=0;function fn(){throw Error(r(321))}function Up(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!zn(i[l],s[l]))return!1;return!0}function Fp(i,s,l,h,p,_){return ya=_,$t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,at.H=i===null||i.memoizedState===null?K0:ig,Vl=!1,_=l(h,p),Vl=!1,zu&&(_=d0(s,l,h,p)),f0(i),_}function f0(i){at.H=rh;var s=Ve!==null&&Ve.next!==null;if(ya=0,xn=Ve=$t=null,Hf=!1,eh=0,Bu=null,s)throw Error(r(300));i===null||An||(i=i.dependencies,i!==null&&Mf(i)&&(An=!0))}function d0(i,s,l,h){$t=i;var p=0;do{if(zu&&(Bu=null),eh=0,zu=!1,25<=p)throw Error(r(301));if(p+=1,xn=Ve=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}at.H=Y0,_=s(l,h)}while(zu);return _}function qC(){var i=at.H,s=i.useState()[0];return s=typeof s.then=="function"?nh(s):s,i=i.useState()[0],(Ve!==null?Ve.memoizedState:null)!==i&&($t.flags|=1024),s}function Hp(){var i=qf!==0;return qf=0,i}function qp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Gp(i){if(Hf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Hf=!1}ya=0,xn=Ve=$t=null,zu=!1,eh=qf=0,Bu=null}function pi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?$t.memoizedState=xn=i:xn=xn.next=i,xn}function _n(){if(Ve===null){var i=$t.alternate;i=i!==null?i.memoizedState:null}else i=Ve.next;var s=xn===null?$t.memoizedState:xn.next;if(s!==null)xn=s,Ve=i;else{if(i===null)throw $t.alternate===null?Error(r(467)):Error(r(310));Ve=i,i={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},xn===null?$t.memoizedState=xn=i:xn=xn.next=i}return xn}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nh(i){var s=eh;return eh+=1,Bu===null&&(Bu=[]),i=i0(Bu,i,s),s=$t,(xn===null?s.memoizedState:xn.next)===null&&(s=s.alternate,at.H=s===null||s.memoizedState===null?K0:ig),i}function Zf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nh(i);if(i.$$typeof===st)return Hn(i)}throw Error(r(438,String(i)))}function Zp(i){var s=null,l=$t.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=$t.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Gf(),$t.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=q;return s.index++,l}function ba(i,s){return typeof s=="function"?s(i):s}function Wf(i){var s=_n();return Wp(s,Ve,i)}function Wp(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var p=i.baseQueue,_=h.pending;if(_!==null){if(p!==null){var x=p.next;p.next=_.next,_.next=x}s.baseQueue=p=_,h.pending=null}if(_=i.baseState,p===null)i.memoizedState=_;else{s=p.next;var O=x=null,B=null,et=s,ht=!1;do{var pt=et.lane&-536870913;if(pt!==et.lane?(fe&pt)===pt:(ya&pt)===pt){var it=et.revertLane;if(it===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),pt===Mu&&(ht=!0);else if((ya&it)===it){et=et.next,it===Mu&&(ht=!0);continue}else pt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},B===null?(O=B=pt,x=_):B=B.next=pt,$t.lanes|=it,Ro|=it;pt=et.action,Vl&&l(_,pt),_=et.hasEagerState?et.eagerState:l(_,pt)}else it={lane:pt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},B===null?(O=B=it,x=_):B=B.next=it,$t.lanes|=pt,Ro|=pt;et=et.next}while(et!==null&&et!==s);if(B===null?x=_:B.next=O,!zn(_,i.memoizedState)&&(An=!0,ht&&(l=ku,l!==null)))throw l;i.memoizedState=_,i.baseState=x,i.baseQueue=B,h.lastRenderedState=_}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Kp(i){var s=_n(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,_=s.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do _=i(_,x.action),x=x.next;while(x!==p);zn(_,s.memoizedState)||(An=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function m0(i,s,l){var h=$t,p=_n(),_=oe;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var x=!zn((Ve||p).memoizedState,l);if(x&&(p.memoizedState=l,An=!0),p=p.queue,Xp(_0.bind(null,h,p,i),[i]),p.getSnapshot!==s||x||xn!==null&&xn.memoizedState.tag&1){if(h.flags|=2048,Uu(9,{destroy:void 0},g0.bind(null,h,p,l,s),null),He===null)throw Error(r(349));_||(ya&127)!==0||p0(h,s,l)}return l}function p0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=$t.updateQueue,s===null?(s=Gf(),$t.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function g0(i,s,l,h){s.value=l,s.getSnapshot=h,v0(s)&&y0(i)}function _0(i,s,l){return l(function(){v0(s)&&y0(i)})}function v0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!zn(i,l)}catch{return!0}}function y0(i){var s=Ar(i,2);s!==null&&Di(s,i,2)}function Yp(i){var s=pi();if(typeof i=="function"){var l=i;if(i=l(),Vl){ui(!0);try{l()}finally{ui(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:i},s}function b0(i,s,l,h){return i.baseState=l,Wp(i,Ve,typeof h=="function"?h:ba)}function GC(i,s,l,h,p){if(Qf(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};at.T!==null?l(!0):_.isTransition=!1,h(_),l=s.pending,l===null?(_.next=s.pending=_,w0(s,_)):(_.next=l.next,s.pending=l.next=_)}}function w0(i,s){var l=s.action,h=s.payload,p=i.state;if(s.isTransition){var _=at.T,x={};at.T=x;try{var O=l(p,h),B=at.S;B!==null&&B(x,O),E0(i,s,O)}catch(et){Qp(i,s,et)}finally{_!==null&&x.types!==null&&(_.types=x.types),at.T=_}}else try{_=l(p,h),E0(i,s,_)}catch(et){Qp(i,s,et)}}function E0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){T0(i,s,h)},function(h){return Qp(i,s,h)}):T0(i,s,l)}function T0(i,s,l){s.status="fulfilled",s.value=l,S0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,w0(i,l)))}function Qp(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,S0(s),s=s.next;while(s!==h)}i.action=null}function S0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function x0(i,s){return s}function A0(i,s){if(oe){var l=He.formState;if(l!==null){t:{var h=$t;if(oe){if(Ae){e:{for(var p=Ae,_=Ni;p.nodeType!==8;){if(!_){p=null;break e}if(p=Ir(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){Ae=Ir(p.nextSibling),h=p.data==="F!";break t}}zs(h)}h=!1}h&&(s=l[0])}}return l=pi(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x0,lastRenderedState:s},l.queue=h,l=G0.bind(null,$t,h),h.dispatch=l,h=Yp(!1),_=ng.bind(null,$t,!1,h.queue),h=pi(),p={state:s,dispatch:null,action:i,pending:null},h.queue=p,l=GC.bind(null,$t,p,_,l),p.dispatch=l,h.memoizedState=i,[s,l,!1]}function C0(i){var s=_n();return R0(s,Ve,i)}function R0(i,s,l){if(s=Wp(i,s,x0)[0],i=Wf(ba)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=nh(s)}catch(x){throw x===Du?jf:x}else h=s;s=_n();var p=s.queue,_=p.dispatch;return l!==s.memoizedState&&($t.flags|=2048,Uu(9,{destroy:void 0},ZC.bind(null,p,l),null)),[h,_,i]}function ZC(i,s){i.action=s}function I0(i){var s=_n(),l=Ve;if(l!==null)return R0(s,l,i);_n(),s=s.memoizedState,l=_n();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function Uu(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=$t.updateQueue,s===null&&(s=Gf(),$t.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function O0(){return _n().memoizedState}function Kf(i,s,l,h){var p=pi();$t.flags|=i,p.memoizedState=Uu(1|s,{destroy:void 0},l,h===void 0?null:h)}function Yf(i,s,l,h){var p=_n();h=h===void 0?null:h;var _=p.memoizedState.inst;Ve!==null&&h!==null&&Up(h,Ve.memoizedState.deps)?p.memoizedState=Uu(s,_,l,h):($t.flags|=i,p.memoizedState=Uu(1|s,_,l,h))}function N0(i,s){Kf(8390656,8,i,s)}function Xp(i,s){Yf(2048,8,i,s)}function WC(i){$t.flags|=4;var s=$t.updateQueue;if(s===null)s=Gf(),$t.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function P0(i){var s=_n().memoizedState;return WC({ref:s,nextImpl:i}),function(){if((Oe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function L0(i,s){return Yf(4,2,i,s)}function M0(i,s){return Yf(4,4,i,s)}function k0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function D0(i,s,l){l=l!=null?l.concat([i]):null,Yf(4,4,k0.bind(null,s,i),l)}function $p(){}function j0(i,s){var l=_n();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&Up(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function V0(i,s){var l=_n();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&Up(s,h[1]))return h[0];if(h=i(),Vl){ui(!0);try{i()}finally{ui(!1)}}return l.memoizedState=[h,s],h}function Jp(i,s,l){return l===void 0||(ya&1073741824)!==0&&(fe&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=zb(),$t.lanes|=i,Ro|=i,l)}function z0(i,s,l,h){return zn(l,s)?l:Vu.current!==null?(i=Jp(i,l,h),zn(i,s)||(An=!0),i):(ya&42)===0||(ya&1073741824)!==0&&(fe&261930)===0?(An=!0,i.memoizedState=l):(i=zb(),$t.lanes|=i,Ro|=i,s)}function B0(i,s,l,h,p){var _=Tt.p;Tt.p=_!==0&&8>_?_:8;var x=at.T,O={};at.T=O,ng(i,!1,s,l);try{var B=p(),et=at.S;if(et!==null&&et(O,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ht=FC(B,h);ih(i,s,ht,rr(i))}else ih(i,s,h,rr(i))}catch(pt){ih(i,s,{then:function(){},status:"rejected",reason:pt},rr())}finally{Tt.p=_,x!==null&&O.types!==null&&(x.types=O.types),at.T=x}}function KC(){}function tg(i,s,l,h){if(i.tag!==5)throw Error(r(476));var p=U0(i).queue;B0(i,p,s,bt,l===null?KC:function(){return F0(i),l(h)})}function U0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:bt},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function F0(i){var s=U0(i);s.next===null&&(s=i.alternate.memoizedState),ih(i,s.next.queue,{},rr())}function eg(){return Hn(bh)}function H0(){return _n().memoizedState}function q0(){return _n().memoizedState}function YC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=rr();i=Eo(l);var h=To(s,i,l);h!==null&&(Di(h,s,l),$c(h,s,l)),s={cache:Op()},i.payload=s;return}s=s.return}}function QC(i,s,l){var h=rr();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qf(i)?Z0(s,l):(l=Fc(i,s,l,h),l!==null&&(Di(l,i,h),W0(l,s,h)))}function G0(i,s,l){var h=rr();ih(i,s,l,h)}function ih(i,s,l,h){var p={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qf(i))Z0(s,p);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,O=_(x,l);if(p.hasEagerState=!0,p.eagerState=O,zn(O,x))return js(i,s,p,0),He===null&&Rl(),!1}catch{}finally{}if(l=Fc(i,s,p,h),l!==null)return Di(l,i,h),W0(l,s,h),!0}return!1}function ng(i,s,l,h){if(h={lane:2,revertLane:Mg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qf(i)){if(s)throw Error(r(479))}else s=Fc(i,l,h,2),s!==null&&Di(s,i,2)}function Qf(i){var s=i.alternate;return i===$t||s!==null&&s===$t}function Z0(i,s){zu=Hf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function W0(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ol(i,l)}}var rh={readContext:Hn,use:Zf,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};rh.useEffectEvent=fn;var K0={readContext:Hn,use:Zf,useCallback:function(i,s){return pi().memoizedState=[i,s===void 0?null:s],i},useContext:Hn,useEffect:N0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Kf(4194308,4,k0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Kf(4194308,4,i,s)},useInsertionEffect:function(i,s){Kf(4,2,i,s)},useMemo:function(i,s){var l=pi();s=s===void 0?null:s;var h=i();if(Vl){ui(!0);try{i()}finally{ui(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=pi();if(l!==void 0){var p=l(s);if(Vl){ui(!0);try{l(s)}finally{ui(!1)}}}else p=s;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=QC.bind(null,$t,i),[h.memoizedState,i]},useRef:function(i){var s=pi();return i={current:i},s.memoizedState=i},useState:function(i){i=Yp(i);var s=i.queue,l=G0.bind(null,$t,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:$p,useDeferredValue:function(i,s){var l=pi();return Jp(l,i,s)},useTransition:function(){var i=Yp(!1);return i=B0.bind(null,$t,i.queue,!0,!1),pi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=$t,p=pi();if(oe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),He===null)throw Error(r(349));(fe&127)!==0||p0(h,s,l)}p.memoizedState=l;var _={value:l,getSnapshot:s};return p.queue=_,N0(_0.bind(null,h,_,i),[i]),h.flags|=2048,Uu(9,{destroy:void 0},g0.bind(null,h,_,l,s),null),l},useId:function(){var i=pi(),s=He.identifierPrefix;if(oe){var l=St,h=mt;l=(h&~(1<<32-en(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=qf++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=HC++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:eg,useFormState:A0,useActionState:A0,useOptimistic:function(i){var s=pi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=ng.bind(null,$t,!0,l),l.dispatch=s,[i,s]},useMemoCache:Zp,useCacheRefresh:function(){return pi().memoizedState=YC.bind(null,$t)},useEffectEvent:function(i){var s=pi(),l={impl:i};return s.memoizedState=l,function(){if((Oe&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},ig={readContext:Hn,use:Zf,useCallback:j0,useContext:Hn,useEffect:Xp,useImperativeHandle:D0,useInsertionEffect:L0,useLayoutEffect:M0,useMemo:V0,useReducer:Wf,useRef:O0,useState:function(){return Wf(ba)},useDebugValue:$p,useDeferredValue:function(i,s){var l=_n();return z0(l,Ve.memoizedState,i,s)},useTransition:function(){var i=Wf(ba)[0],s=_n().memoizedState;return[typeof i=="boolean"?i:nh(i),s]},useSyncExternalStore:m0,useId:H0,useHostTransitionStatus:eg,useFormState:C0,useActionState:C0,useOptimistic:function(i,s){var l=_n();return b0(l,Ve,i,s)},useMemoCache:Zp,useCacheRefresh:q0};ig.useEffectEvent=P0;var Y0={readContext:Hn,use:Zf,useCallback:j0,useContext:Hn,useEffect:Xp,useImperativeHandle:D0,useInsertionEffect:L0,useLayoutEffect:M0,useMemo:V0,useReducer:Kp,useRef:O0,useState:function(){return Kp(ba)},useDebugValue:$p,useDeferredValue:function(i,s){var l=_n();return Ve===null?Jp(l,i,s):z0(l,Ve.memoizedState,i,s)},useTransition:function(){var i=Kp(ba)[0],s=_n().memoizedState;return[typeof i=="boolean"?i:nh(i),s]},useSyncExternalStore:m0,useId:H0,useHostTransitionStatus:eg,useFormState:I0,useActionState:I0,useOptimistic:function(i,s){var l=_n();return Ve!==null?b0(l,Ve,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Zp,useCacheRefresh:q0};Y0.useEffectEvent=P0;function rg(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:C({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var sg={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=rr(),p=Eo(h);p.payload=s,l!=null&&(p.callback=l),s=To(i,p,h),s!==null&&(Di(s,i,h),$c(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=rr(),p=Eo(h);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=To(i,p,h),s!==null&&(Di(s,i,h),$c(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=rr(),h=Eo(l);h.tag=2,s!=null&&(h.callback=s),s=To(i,h,l),s!==null&&(Di(s,i,l),$c(s,i,l))}};function Q0(i,s,l,h,p,_,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,x):s.prototype&&s.prototype.isPureReactComponent?!po(l,h)||!po(p,_):!0}function X0(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&sg.enqueueReplaceState(s,s.state,null)}function zl(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=C({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function $0(i){Cl(i)}function J0(i){console.error(i)}function tb(i){Cl(i)}function Xf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function eb(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ag(i,s,l){return l=Eo(l),l.tag=3,l.payload={element:null},l.callback=function(){Xf(i,s)},l}function nb(i){return i=Eo(i),i.tag=3,i}function ib(i,s,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=h.value;i.payload=function(){return p(_)},i.callback=function(){eb(s,l,h)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){eb(s,l,h),typeof p!="function"&&(Io===null?Io=new Set([this]):Io.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function XC(i,s,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Lu(s,l,p,!0),l=tr.current,l!==null){switch(l.tag){case 31:case 13:return Rr===null?ud():l.alternate===null&&dn===0&&(dn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===Vf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),Ng(i,h,p)),!1;case 22:return l.flags|=65536,h===Vf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),Ng(i,h,p)),!1}throw Error(r(435,l.tag))}return Ng(i,h,p),ud(),!1}if(oe)return s=tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,h!==Pu&&(i=Error(r(422),{cause:h}),Nl(c(i,l)))):(h!==Pu&&(s=Error(r(423),{cause:h}),Nl(c(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=c(h,l),p=ag(i.stateNode,h,p),Dp(i,p),dn!==4&&(dn=2)),!1;var _=Error(r(520),{cause:h});if(_=c(_,l),fh===null?fh=[_]:fh.push(_),dn!==4&&(dn=2),s===null)return!0;h=c(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=ag(l.stateNode,h,i),Dp(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Io===null||!Io.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=nb(p),ib(p,i,l,h),Dp(l,p),!1}l=l.return}while(l!==null);return!1}var og=Error(r(461)),An=!1;function qn(i,s,l,h){s.child=i===null?o0(s,null,l,h):jl(s,i.child,l,h)}function rb(i,s,l,h,p){l=l.render;var _=s.ref;if("ref"in h){var x={};for(var O in h)O!=="ref"&&(x[O]=h[O])}else x=h;return Ll(s),h=Fp(i,s,l,x,_,p),O=Hp(),i!==null&&!An?(qp(i,s,p),wa(i,s,p)):(oe&&O&&Nn(s),s.flags|=1,qn(i,s,h,p),s.child)}function sb(i,s,l,h,p){if(i===null){var _=l.type;return typeof _=="function"&&!Ou(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,ab(i,s,_,h,p)):(i=Ol(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!pg(i,p)){var x=_.memoizedProps;if(l=l.compare,l=l!==null?l:po,l(x,h)&&i.ref===s.ref)return wa(i,s,p)}return s.flags|=1,i=Cr(_,h),i.ref=s.ref,i.return=s,s.child=i}function ab(i,s,l,h,p){if(i!==null){var _=i.memoizedProps;if(po(_,h)&&i.ref===s.ref)if(An=!1,s.pendingProps=h=_,pg(i,p))(i.flags&131072)!==0&&(An=!0);else return s.lanes=i.lanes,wa(i,s,p)}return lg(i,s,l,h,p)}function ob(i,s,l,h){var p=h.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(h=s.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~_}else h=0,s.child=null;return lb(i,s,_,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Df(s,_!==null?_.cachePool:null),_!==null?c0(s,_):Vp(),h0(s);else return h=s.lanes=536870912,lb(i,s,_!==null?_.baseLanes|l:l,l,h)}else _!==null?(Df(s,_.cachePool),c0(s,_),xo(),s.memoizedState=null):(i!==null&&Df(s,null),Vp(),xo());return qn(i,s,p,l),s.child}function sh(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function lb(i,s,l,h,p){var _=Pp();return _=_===null?null:{parent:Sn._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&Df(s,null),Vp(),h0(s),i!==null&&Lu(i,s,h,!0),s.childLanes=p,null}function $f(i,s){return s=td({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function ub(i,s,l){return jl(s,i.child,null,l),i=$f(s,s.pendingProps),i.flags|=2,er(s),s.memoizedState=null,i}function $C(i,s,l){var h=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(oe){if(h.mode==="hidden")return i=$f(s,h),s.lanes=536870912,sh(null,i);if(Bp(s),(i=Ae)?(i=ww(i,Ni),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:nt!==null?{id:mt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},l=qc(i),l.return=s,s.child=l,xe=s,Ae=null)):i=null,i===null)throw zs(s);return s.lanes=536870912,null}return $f(s,h)}var _=i.memoizedState;if(_!==null){var x=_.dehydrated;if(Bp(s),p)if(s.flags&256)s.flags&=-257,s=ub(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(An||Lu(i,s,l,!1),p=(l&i.childLanes)!==0,An||p){if(h=He,h!==null&&(x=ll(h,l),x!==0&&x!==_.retryLane))throw _.retryLane=x,Ar(i,x),Di(h,i,x),og;ud(),s=ub(i,s,l)}else i=_.treeContext,Ae=Ir(x.nextSibling),xe=s,oe=!0,Vs=null,Ni=!1,i!==null&&mi(s,i),s=$f(s,h),s.flags|=4096;return s}return i=Cr(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Jf(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function lg(i,s,l,h,p){return Ll(s),l=Fp(i,s,l,h,void 0,p),h=Hp(),i!==null&&!An?(qp(i,s,p),wa(i,s,p)):(oe&&h&&Nn(s),s.flags|=1,qn(i,s,l,p),s.child)}function cb(i,s,l,h,p,_){return Ll(s),s.updateQueue=null,l=d0(s,h,l,p),f0(i),h=Hp(),i!==null&&!An?(qp(i,s,_),wa(i,s,_)):(oe&&h&&Nn(s),s.flags|=1,qn(i,s,l,_),s.child)}function hb(i,s,l,h,p){if(Ll(s),s.stateNode===null){var _=pa,x=l.contextType;typeof x=="object"&&x!==null&&(_=Hn(x)),_=new l(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=sg,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},Mp(s),x=l.contextType,_.context=typeof x=="object"&&x!==null?Hn(x):pa,_.state=s.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(rg(s,l,x,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&sg.enqueueReplaceState(_,_.state,null),th(s,h,_,p),Jc(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){_=s.stateNode;var O=s.memoizedProps,B=zl(l,O);_.props=B;var et=_.context,ht=l.contextType;x=pa,typeof ht=="object"&&ht!==null&&(x=Hn(ht));var pt=l.getDerivedStateFromProps;ht=typeof pt=="function"||typeof _.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ht||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O||et!==x)&&X0(s,_,h,x),wo=!1;var it=s.memoizedState;_.state=it,th(s,h,_,p),Jc(),et=s.memoizedState,O||it!==et||wo?(typeof pt=="function"&&(rg(s,l,pt,h),et=s.memoizedState),(B=wo||Q0(s,l,B,h,it,et,x))?(ht||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=et),_.props=h,_.state=et,_.context=x,h=B):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,kp(i,s),x=s.memoizedProps,ht=zl(l,x),_.props=ht,pt=s.pendingProps,it=_.context,et=l.contextType,B=pa,typeof et=="object"&&et!==null&&(B=Hn(et)),O=l.getDerivedStateFromProps,(et=typeof O=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==pt||it!==B)&&X0(s,_,h,B),wo=!1,it=s.memoizedState,_.state=it,th(s,h,_,p),Jc();var ot=s.memoizedState;x!==pt||it!==ot||wo||i!==null&&i.dependencies!==null&&Mf(i.dependencies)?(typeof O=="function"&&(rg(s,l,O,h),ot=s.memoizedState),(ht=wo||Q0(s,l,ht,h,it,ot,B)||i!==null&&i.dependencies!==null&&Mf(i.dependencies))?(et||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ot,B),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ot,B)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ot),_.props=h,_.state=ot,_.context=B,h=ht):(typeof _.componentDidUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),h=!1)}return _=h,Jf(i,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&h?(s.child=jl(s,i.child,null,p),s.child=jl(s,null,l,p)):qn(i,s,l,p),s.memoizedState=_.state,i=s.child):i=wa(i,s,p),i}function fb(i,s,l,h){return _a(),s.flags|=256,qn(i,s,l,h),s.child}var ug={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cg(i){return{baseLanes:i,cachePool:e0()}}function hg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ir),i}function db(i,s,l){var h=s.pendingProps,p=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),x&&(p=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(oe){if(p?So(s):xo(),(i=Ae)?(i=ww(i,Ni),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:nt!==null?{id:mt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},l=qc(i),l.return=s,s.child=l,xe=s,Ae=null)):i=null,i===null)throw zs(s);return Wg(i)?s.lanes=32:s.lanes=536870912,null}var O=h.children;return h=h.fallback,p?(xo(),p=s.mode,O=td({mode:"hidden",children:O},p),h=ga(h,p,l,null),O.return=s,h.return=s,O.sibling=h,s.child=O,h=s.child,h.memoizedState=cg(l),h.childLanes=hg(i,x,l),s.memoizedState=ug,sh(null,h)):(So(s),fg(s,O))}var B=i.memoizedState;if(B!==null&&(O=B.dehydrated,O!==null)){if(_)s.flags&256?(So(s),s.flags&=-257,s=dg(i,s,l)):s.memoizedState!==null?(xo(),s.child=i.child,s.flags|=128,s=null):(xo(),O=h.fallback,p=s.mode,h=td({mode:"visible",children:h.children},p),O=ga(O,p,l,null),O.flags|=2,h.return=s,O.return=s,h.sibling=O,s.child=h,jl(s,i.child,null,l),h=s.child,h.memoizedState=cg(l),h.childLanes=hg(i,x,l),s.memoizedState=ug,s=sh(null,h));else if(So(s),Wg(O)){if(x=O.nextSibling&&O.nextSibling.dataset,x)var et=x.dgst;x=et,h=Error(r(419)),h.stack="",h.digest=x,Nl({value:h,source:null,stack:null}),s=dg(i,s,l)}else if(An||Lu(i,s,l,!1),x=(l&i.childLanes)!==0,An||x){if(x=He,x!==null&&(h=ll(x,l),h!==0&&h!==B.retryLane))throw B.retryLane=h,Ar(i,h),Di(x,i,h),og;Zg(O)||ud(),s=dg(i,s,l)}else Zg(O)?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,Ae=Ir(O.nextSibling),xe=s,oe=!0,Vs=null,Ni=!1,i!==null&&mi(s,i),s=fg(s,h.children),s.flags|=4096);return s}return p?(xo(),O=h.fallback,p=s.mode,B=i.child,et=B.sibling,h=Cr(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&65011712,et!==null?O=Cr(et,O):(O=ga(O,p,l,null),O.flags|=2),O.return=s,h.return=s,h.sibling=O,s.child=h,sh(null,h),h=s.child,O=i.child.memoizedState,O===null?O=cg(l):(p=O.cachePool,p!==null?(B=Sn._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=e0(),O={baseLanes:O.baseLanes|l,cachePool:p}),h.memoizedState=O,h.childLanes=hg(i,x,l),s.memoizedState=ug,sh(i.child,h)):(So(s),l=i.child,i=l.sibling,l=Cr(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=l,s.memoizedState=null,l)}function fg(i,s){return s=td({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function td(i,s){return i=ii(22,i,null,s),i.lanes=0,i}function dg(i,s,l){return jl(s,i.child,null,l),i=fg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function mb(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Rp(i.return,s,l)}function mg(i,s,l,h,p,_){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p,treeForkCount:_}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=l,x.tailMode=p,x.treeForkCount=_)}function pb(i,s,l){var h=s.pendingProps,p=h.revealOrder,_=h.tail;h=h.children;var x=gn.current,O=(x&2)!==0;if(O?(x=x&1|2,s.flags|=128):x&=1,lt(gn,x),qn(i,s,h,l),h=oe?I:0,!O&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&mb(i,l,s);else if(i.tag===19)mb(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Ff(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),mg(s,!1,p,l,_,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ff(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}mg(s,!0,l,null,_,h);break;case"together":mg(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function wa(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ro|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Lu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Cr(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Cr(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function pg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Mf(i)))}function JC(i,s,l){switch(s.tag){case 3:Nt(s,s.stateNode.containerInfo),bo(s,Sn,i.memoizedState.cache),_a();break;case 27:case 5:ve(s);break;case 4:Nt(s,s.stateNode.containerInfo);break;case 10:bo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Bp(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(So(s),s.flags|=128,null):(l&s.child.childLanes)!==0?db(i,s,l):(So(s),i=wa(i,s,l),i!==null?i.sibling:null);So(s);break;case 19:var p=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Lu(i,s,l,!1),h=(l&s.childLanes)!==0),p){if(h)return pb(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),lt(gn,gn.current),h)break;return null;case 22:return s.lanes=0,ob(i,s,l,s.pendingProps);case 24:bo(s,Sn,i.memoizedState.cache)}return wa(i,s,l)}function gb(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)An=!0;else{if(!pg(i,l)&&(s.flags&128)===0)return An=!1,JC(i,s,l);An=(i.flags&131072)!==0}else An=!1,oe&&(s.flags&1048576)!==0&&Jt(s,I,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(i=kl(s.elementType),s.type=i,typeof i=="function")Ou(i)?(h=zl(i,h),s.tag=1,s=hb(null,s,i,h,l)):(s.tag=0,s=lg(null,s,i,h,l));else{if(i!=null){var p=i.$$typeof;if(p===xt){s.tag=11,s=rb(null,s,i,h,l);break t}else if(p===D){s.tag=14,s=sb(null,s,i,h,l);break t}}throw s=se(i)||i,Error(r(306,s,""))}}return s;case 0:return lg(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,p=zl(h,s.pendingProps),hb(i,s,h,p,l);case 3:t:{if(Nt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;p=_.element,kp(i,s),th(s,h,null,l);var x=s.memoizedState;if(h=x.cache,bo(s,Sn,h),h!==_.cache&&Ip(s,[Sn],l,!0),Jc(),h=x.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=fb(i,s,h,l);break t}else if(h!==p){p=c(Error(r(424)),s),Nl(p),s=fb(i,s,h,l);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ae=Ir(i.firstChild),xe=s,oe=!0,Vs=null,Ni=!0,l=o0(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_a(),h===p){s=wa(i,s,l);break t}qn(i,s,h,l)}s=s.child}return s;case 26:return Jf(i,s),i===null?(l=Cw(s.type,null,s.pendingProps,null))?s.memoizedState=l:oe||(l=s.type,i=s.pendingProps,h=gd(vt.current).createElement(l),h[rn]=s,h[un]=i,Gn(h,l,i),cn(h),s.stateNode=h):s.memoizedState=Cw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ve(s),i===null&&oe&&(h=s.stateNode=Sw(s.type,s.pendingProps,vt.current),xe=s,Ni=!0,p=Ae,Lo(s.type)?(Kg=p,Ae=Ir(h.firstChild)):Ae=p),qn(i,s,s.pendingProps.children,l),Jf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&oe&&((p=h=Ae)&&(h=I2(h,s.type,s.pendingProps,Ni),h!==null?(s.stateNode=h,xe=s,Ae=Ir(h.firstChild),Ni=!1,p=!0):p=!1),p||zs(s)),ve(s),p=s.type,_=s.pendingProps,x=i!==null?i.memoizedProps:null,h=_.children,Hg(p,_)?h=null:x!==null&&Hg(p,x)&&(s.flags|=32),s.memoizedState!==null&&(p=Fp(i,s,qC,null,null,l),bh._currentValue=p),Jf(i,s),qn(i,s,h,l),s.child;case 6:return i===null&&oe&&((i=l=Ae)&&(l=O2(l,s.pendingProps,Ni),l!==null?(s.stateNode=l,xe=s,Ae=null,i=!0):i=!1),i||zs(s)),null;case 13:return db(i,s,l);case 4:return Nt(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=jl(s,null,h,l):qn(i,s,h,l),s.child;case 11:return rb(i,s,s.type,s.pendingProps,l);case 7:return qn(i,s,s.pendingProps,l),s.child;case 8:return qn(i,s,s.pendingProps.children,l),s.child;case 12:return qn(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,bo(s,s.type,h.value),qn(i,s,h.children,l),s.child;case 9:return p=s.type._context,h=s.pendingProps.children,Ll(s),p=Hn(p),h=h(p),s.flags|=1,qn(i,s,h,l),s.child;case 14:return sb(i,s,s.type,s.pendingProps,l);case 15:return ab(i,s,s.type,s.pendingProps,l);case 19:return pb(i,s,l);case 31:return $C(i,s,l);case 22:return ob(i,s,l,s.pendingProps);case 24:return Ll(s),h=Hn(Sn),i===null?(p=Pp(),p===null&&(p=He,_=Op(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),s.memoizedState={parent:h,cache:p},Mp(s),bo(s,Sn,p)):((i.lanes&l)!==0&&(kp(i,s),th(s,null,null,l),Jc()),p=i.memoizedState,_=s.memoizedState,p.parent!==h?(p={parent:h,cache:h},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),bo(s,Sn,h)):(h=_.cache,bo(s,Sn,h),h!==p.cache&&Ip(s,[Sn],l,!0))),qn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ea(i){i.flags|=4}function gg(i,s,l,h,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(Hb())i.flags|=8192;else throw Dl=Vf,Lp}else i.flags&=-16777217}function _b(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Pw(s))if(Hb())i.flags|=8192;else throw Dl=Vf,Lp}function ed(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?gu():536870912,i.lanes|=s,Gu|=s)}function ah(i,s){if(!oe)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Qe(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function t2(i,s,l){var h=s.pendingProps;switch(hn(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(s),null;case 1:return Qe(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),va(Sn),Bt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(rs(s)?Ea(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wc())),Qe(s),null;case 26:var p=s.type,_=s.memoizedState;return i===null?(Ea(s),_!==null?(Qe(s),_b(s,_)):(Qe(s),gg(s,p,null,h,l))):_?_!==i.memoizedState?(Ea(s),Qe(s),_b(s,_)):(Qe(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&Ea(s),Qe(s),gg(s,p,i,h,l)),null;case 27:if(ce(s),l=vt.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ea(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Qe(s),null}i=ct.current,rs(s)?Zc(s):(i=Sw(p,h,l),s.stateNode=i,Ea(s))}return Qe(s),null;case 5:if(ce(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ea(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Qe(s),null}if(_=ct.current,rs(s))Zc(s);else{var x=gd(vt.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?x.createElement(p,{is:h.is}):x.createElement(p)}}_[rn]=s,_[un]=h;t:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break t;for(;x.sibling===null;){if(x.return===null||x.return===s)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=_;t:switch(Gn(_,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ea(s)}}return Qe(s),gg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Ea(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=vt.current,rs(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,p=xe,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[rn]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||dw(i.nodeValue,l)),i||zs(s,!0)}else i=gd(i).createTextNode(h),i[rn]=s,s.stateNode=i}return Qe(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(h=rs(s),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[rn]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qe(s),i=!1}else l=Wc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(er(s),s):(er(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Qe(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=rs(s),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[rn]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qe(s),p=!1}else p=Wc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(er(s),s):(er(s),null)}return er(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=s.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==p&&(h.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),ed(s,s.updateQueue),Qe(s),null);case 4:return Bt(),i===null&&Vg(s.stateNode.containerInfo),Qe(s),null;case 10:return va(s.type),Qe(s),null;case 19:if(Y(gn),h=s.memoizedState,h===null)return Qe(s),null;if(p=(s.flags&128)!==0,_=h.rendering,_===null)if(p)ah(h,!1);else{if(dn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Ff(i),_!==null){for(s.flags|=128,ah(h,!1),i=_.updateQueue,s.updateQueue=i,ed(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Hc(l,i),l=l.sibling;return lt(gn,gn.current&1|2),oe&&Dt(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&wn()>ad&&(s.flags|=128,p=!0,ah(h,!1),s.lanes=4194304)}else{if(!p)if(i=Ff(_),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,ed(s,i),ah(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!oe)return Qe(s),null}else 2*wn()-h.renderingStartTime>ad&&l!==536870912&&(s.flags|=128,p=!0,ah(h,!1),s.lanes=4194304);h.isBackwards?(_.sibling=s.child,s.child=_):(i=h.last,i!==null?i.sibling=_:s.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=wn(),i.sibling=null,l=gn.current,lt(gn,p?l&1|2:l&1),oe&&Dt(s,h.treeForkCount),i):(Qe(s),null);case 22:case 23:return er(s),zp(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Qe(s),s.subtreeFlags&6&&(s.flags|=8192)):Qe(s),l=s.updateQueue,l!==null&&ed(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&Y(Ml),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),va(Sn),Qe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function e2(i,s){switch(hn(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return va(Sn),Bt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ce(s),null;case 31:if(s.memoizedState!==null){if(er(s),s.alternate===null)throw Error(r(340));_a()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(er(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_a()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Y(gn),null;case 4:return Bt(),null;case 10:return va(s.type),null;case 22:case 23:return er(s),zp(),i!==null&&Y(Ml),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return va(Sn),null;case 25:return null;default:return null}}function vb(i,s){switch(hn(s),s.tag){case 3:va(Sn),Bt();break;case 26:case 27:case 5:ce(s);break;case 4:Bt();break;case 31:s.memoizedState!==null&&er(s);break;case 13:er(s);break;case 19:Y(gn);break;case 10:va(s.type);break;case 22:case 23:er(s),zp(),i!==null&&Y(Ml);break;case 24:va(Sn)}}function oh(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var _=l.create,x=l.inst;h=_(),x.destroy=h}l=l.next}while(l!==p)}}catch(O){De(s,s.return,O)}}function Ao(i,s,l){try{var h=s.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var _=p.next;h=_;do{if((h.tag&i)===i){var x=h.inst,O=x.destroy;if(O!==void 0){x.destroy=void 0,p=s;var B=l,et=O;try{et()}catch(ht){De(p,B,ht)}}}h=h.next}while(h!==_)}}catch(ht){De(s,s.return,ht)}}function yb(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{u0(s,l)}catch(h){De(i,i.return,h)}}}function bb(i,s,l){l.props=zl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){De(i,s,h)}}function lh(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(p){De(i,s,p)}}function Us(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){De(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){De(i,s,p)}else l.current=null}function wb(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){De(i,i.return,p)}}function _g(i,s,l){try{var h=i.stateNode;T2(h,i.type,l,s),h[un]=s}catch(p){De(i,i.return,p)}}function Eb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Lo(i.type)||i.tag===4}function vg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Eb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Lo(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yg(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=$n));else if(h!==4&&(h===27&&Lo(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(yg(i,s,l),i=i.sibling;i!==null;)yg(i,s,l),i=i.sibling}function nd(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&Lo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(nd(i,s,l),i=i.sibling;i!==null;)nd(i,s,l),i=i.sibling}function Tb(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Gn(s,h,l),s[rn]=i,s[un]=l}catch(_){De(i,i.return,_)}}var Ta=!1,Cn=!1,bg=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,Un=null;function n2(i,s){if(i=i.containerInfo,Ug=Td,i=Tl(i),Ls(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var x=0,O=-1,B=-1,et=0,ht=0,pt=i,it=null;e:for(;;){for(var ot;pt!==l||p!==0&&pt.nodeType!==3||(O=x+p),pt!==_||h!==0&&pt.nodeType!==3||(B=x+h),pt.nodeType===3&&(x+=pt.nodeValue.length),(ot=pt.firstChild)!==null;)it=pt,pt=ot;for(;;){if(pt===i)break e;if(it===l&&++et===p&&(O=x),it===_&&++ht===h&&(B=x),(ot=pt.nextSibling)!==null)break;pt=it,it=pt.parentNode}pt=ot}l=O===-1||B===-1?null:{start:O,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fg={focusedElem:i,selectionRange:l},Td=!1,Un=s;Un!==null;)if(s=Un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Un=i;else for(;Un!==null;){switch(s=Un,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,p=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Pt=zl(l.type,p);i=h.getSnapshotBeforeUpdate(Pt,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ft){De(l,l.return,Ft)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Gg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Un=i;break}Un=s.return}}function xb(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:xa(i,l),h&4&&oh(5,l);break;case 1:if(xa(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(x){De(l,l.return,x)}else{var p=zl(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){De(l,l.return,x)}}h&64&&yb(l),h&512&&lh(l,l.return);break;case 3:if(xa(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{u0(i,s)}catch(x){De(l,l.return,x)}}break;case 27:s===null&&h&4&&Tb(l);case 26:case 5:xa(i,l),s===null&&h&4&&wb(l),h&512&&lh(l,l.return);break;case 12:xa(i,l);break;case 31:xa(i,l),h&4&&Rb(i,l);break;case 13:xa(i,l),h&4&&Ib(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=h2.bind(null,l),N2(i,l))));break;case 22:if(h=l.memoizedState!==null||Ta,!h){s=s!==null&&s.memoizedState!==null||Cn,p=Ta;var _=Cn;Ta=h,(Cn=s)&&!_?Aa(i,l,(l.subtreeFlags&8772)!==0):xa(i,l),Ta=p,Cn=_}break;case 30:break;default:xa(i,l)}}function Ab(i){var s=i.alternate;s!==null&&(i.alternate=null,Ab(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&eo(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,Pi=!1;function Sa(i,s,l){for(l=l.child;l!==null;)Cb(i,s,l),l=l.sibling}function Cb(i,s,l){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Xn,l)}catch{}switch(l.tag){case 26:Cn||Us(l,s),Sa(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Cn||Us(l,s);var h=$e,p=Pi;Lo(l.type)&&($e=l.stateNode,Pi=!1),Sa(i,s,l),_h(l.stateNode),$e=h,Pi=p;break;case 5:Cn||Us(l,s);case 6:if(h=$e,p=Pi,$e=null,Sa(i,s,l),$e=h,Pi=p,$e!==null)if(Pi)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(l.stateNode)}catch(_){De(l,s,_)}else try{$e.removeChild(l.stateNode)}catch(_){De(l,s,_)}break;case 18:$e!==null&&(Pi?(i=$e,yw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ju(i)):yw($e,l.stateNode));break;case 4:h=$e,p=Pi,$e=l.stateNode.containerInfo,Pi=!0,Sa(i,s,l),$e=h,Pi=p;break;case 0:case 11:case 14:case 15:Ao(2,l,s),Cn||Ao(4,l,s),Sa(i,s,l);break;case 1:Cn||(Us(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&bb(l,s,h)),Sa(i,s,l);break;case 21:Sa(i,s,l);break;case 22:Cn=(h=Cn)||l.memoizedState!==null,Sa(i,s,l),Cn=h;break;default:Sa(i,s,l)}}function Rb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ju(i)}catch(l){De(s,s.return,l)}}}function Ib(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ju(i)}catch(l){De(s,s.return,l)}}function i2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Sb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Sb),s;default:throw Error(r(435,i.tag))}}function id(i,s){var l=i2(i);s.forEach(function(h){if(!l.has(h)){l.add(h);var p=f2.bind(null,i,h);h.then(p,p)}})}function Li(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],_=i,x=s,O=x;t:for(;O!==null;){switch(O.tag){case 27:if(Lo(O.type)){$e=O.stateNode,Pi=!1;break t}break;case 5:$e=O.stateNode,Pi=!1;break t;case 3:case 4:$e=O.stateNode.containerInfo,Pi=!0;break t}O=O.return}if($e===null)throw Error(r(160));Cb(_,x,p),$e=null,Pi=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ob(s,i),s=s.sibling}var as=null;function Ob(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Li(s,i),Mi(i),h&4&&(Ao(3,i,i.return),oh(3,i),Ao(5,i,i.return));break;case 1:Li(s,i),Mi(i),h&512&&(Cn||l===null||Us(l,l.return)),h&64&&Ta&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=as;if(Li(s,i),Mi(i),h&512&&(Cn||l===null||Us(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":_=p.getElementsByTagName("title")[0],(!_||_[pr]||_[rn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(h),p.head.insertBefore(_,p.querySelector("head > title"))),Gn(_,h,l),_[rn]=i,cn(_),h=_;break t;case"link":var x=Ow("link","href",p).get(h+(l.href||""));if(x){for(var O=0;O<x.length;O++)if(_=x[O],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(O,1);break e}}_=p.createElement(h),Gn(_,h,l),p.head.appendChild(_);break;case"meta":if(x=Ow("meta","content",p).get(h+(l.content||""))){for(O=0;O<x.length;O++)if(_=x[O],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(O,1);break e}}_=p.createElement(h),Gn(_,h,l),p.head.appendChild(_);break;default:throw Error(r(468,h))}_[rn]=i,cn(_),h=_}i.stateNode=h}else Nw(p,i.type,i.stateNode);else i.stateNode=Iw(p,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?Nw(p,i.type,i.stateNode):Iw(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&_g(i,i.memoizedProps,l.memoizedProps)}break;case 27:Li(s,i),Mi(i),h&512&&(Cn||l===null||Us(l,l.return)),l!==null&&h&4&&_g(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Li(s,i),Mi(i),h&512&&(Cn||l===null||Us(l,l.return)),i.flags&32){p=i.stateNode;try{En(p,"")}catch(Pt){De(i,i.return,Pt)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,_g(i,p,l!==null?l.memoizedProps:p)),h&1024&&(bg=!0);break;case 6:if(Li(s,i),Mi(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Pt){De(i,i.return,Pt)}}break;case 3:if(yd=null,p=as,as=_d(s.containerInfo),Li(s,i),as=p,Mi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ju(s.containerInfo)}catch(Pt){De(i,i.return,Pt)}bg&&(bg=!1,Nb(i));break;case 4:h=as,as=_d(i.stateNode.containerInfo),Li(s,i),Mi(i),as=h;break;case 12:Li(s,i),Mi(i);break;case 31:Li(s,i),Mi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,id(i,h)));break;case 13:Li(s,i),Mi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(sd=wn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,id(i,h)));break;case 22:p=i.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,et=Ta,ht=Cn;if(Ta=et||p,Cn=ht||B,Li(s,i),Cn=ht,Ta=et,Mi(i),h&8192)t:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||B||Ta||Cn||Bl(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){B=l=s;try{if(_=B.stateNode,p)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{O=B.stateNode;var pt=B.memoizedProps.style,it=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;O.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Pt){De(B,B.return,Pt)}}}else if(s.tag===6){if(l===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(Pt){De(B,B.return,Pt)}}}else if(s.tag===18){if(l===null){B=s;try{var ot=B.stateNode;p?bw(ot,!0):bw(B.stateNode,!1)}catch(Pt){De(B,B.return,Pt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,id(i,l))));break;case 19:Li(s,i),Mi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,id(i,h)));break;case 30:break;case 21:break;default:Li(s,i),Mi(i)}}function Mi(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(Eb(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,_=vg(i);nd(i,_,p);break;case 5:var x=l.stateNode;l.flags&32&&(En(x,""),l.flags&=-33);var O=vg(i);nd(i,O,x);break;case 3:case 4:var B=l.stateNode.containerInfo,et=vg(i);yg(i,et,B);break;default:throw Error(r(161))}}catch(ht){De(i,i.return,ht)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Nb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Nb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function xa(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)xb(i,s.alternate,s),s=s.sibling}function Bl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ao(4,s,s.return),Bl(s);break;case 1:Us(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&bb(s,s.return,l),Bl(s);break;case 27:_h(s.stateNode);case 26:case 5:Us(s,s.return),Bl(s);break;case 22:s.memoizedState===null&&Bl(s);break;case 30:Bl(s);break;default:Bl(s)}i=i.sibling}}function Aa(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,p=i,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:Aa(p,_,l),oh(4,_);break;case 1:if(Aa(p,_,l),h=_,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(et){De(h,h.return,et)}if(h=_,p=h.updateQueue,p!==null){var O=h.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)l0(B[p],O)}catch(et){De(h,h.return,et)}}l&&x&64&&yb(_),lh(_,_.return);break;case 27:Tb(_);case 26:case 5:Aa(p,_,l),l&&h===null&&x&4&&wb(_),lh(_,_.return);break;case 12:Aa(p,_,l);break;case 31:Aa(p,_,l),l&&x&4&&Rb(p,_);break;case 13:Aa(p,_,l),l&&x&4&&Ib(p,_);break;case 22:_.memoizedState===null&&Aa(p,_,l),lh(_,_.return);break;case 30:break;default:Aa(p,_,l)}s=s.sibling}}function wg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Kc(l))}function Eg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Kc(i))}function os(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Pb(i,s,l,h),s=s.sibling}function Pb(i,s,l,h){var p=s.flags;switch(s.tag){case 0:case 11:case 15:os(i,s,l,h),p&2048&&oh(9,s);break;case 1:os(i,s,l,h);break;case 3:os(i,s,l,h),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Kc(i)));break;case 12:if(p&2048){os(i,s,l,h),i=s.stateNode;try{var _=s.memoizedProps,x=_.id,O=_.onPostCommit;typeof O=="function"&&O(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){De(s,s.return,B)}}else os(i,s,l,h);break;case 31:os(i,s,l,h);break;case 13:os(i,s,l,h);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?os(i,s,l,h):uh(i,s):_._visibility&2?os(i,s,l,h):(_._visibility|=2,Fu(i,s,l,h,(s.subtreeFlags&10256)!==0||!1)),p&2048&&wg(x,s);break;case 24:os(i,s,l,h),p&2048&&Eg(s.alternate,s);break;default:os(i,s,l,h)}}function Fu(i,s,l,h,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,x=s,O=l,B=h,et=x.flags;switch(x.tag){case 0:case 11:case 15:Fu(_,x,O,B,p),oh(8,x);break;case 23:break;case 22:var ht=x.stateNode;x.memoizedState!==null?ht._visibility&2?Fu(_,x,O,B,p):uh(_,x):(ht._visibility|=2,Fu(_,x,O,B,p)),p&&et&2048&&wg(x.alternate,x);break;case 24:Fu(_,x,O,B,p),p&&et&2048&&Eg(x.alternate,x);break;default:Fu(_,x,O,B,p)}s=s.sibling}}function uh(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,p=h.flags;switch(h.tag){case 22:uh(l,h),p&2048&&wg(h.alternate,h);break;case 24:uh(l,h),p&2048&&Eg(h.alternate,h);break;default:uh(l,h)}s=s.sibling}}var ch=8192;function Hu(i,s,l){if(i.subtreeFlags&ch)for(i=i.child;i!==null;)Lb(i,s,l),i=i.sibling}function Lb(i,s,l){switch(i.tag){case 26:Hu(i,s,l),i.flags&ch&&i.memoizedState!==null&&H2(l,as,i.memoizedState,i.memoizedProps);break;case 5:Hu(i,s,l);break;case 3:case 4:var h=as;as=_d(i.stateNode.containerInfo),Hu(i,s,l),as=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=ch,ch=16777216,Hu(i,s,l),ch=h):Hu(i,s,l));break;default:Hu(i,s,l)}}function Mb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function hh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Un=h,Db(h,i)}Mb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kb(i),i=i.sibling}function kb(i){switch(i.tag){case 0:case 11:case 15:hh(i),i.flags&2048&&Ao(9,i,i.return);break;case 3:hh(i);break;case 12:hh(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,rd(i)):hh(i);break;default:hh(i)}}function rd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Un=h,Db(h,i)}Mb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ao(8,s,s.return),rd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,rd(s));break;default:rd(s)}i=i.sibling}}function Db(i,s){for(;Un!==null;){var l=Un;switch(l.tag){case 0:case 11:case 15:Ao(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Kc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Un=h;else t:for(l=i;Un!==null;){h=Un;var p=h.sibling,_=h.return;if(Ab(h),h===l){Un=null;break t}if(p!==null){p.return=_,Un=p;break t}Un=_}}}var r2={getCacheForType:function(i){var s=Hn(Sn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Hn(Sn).controller.signal}},s2=typeof WeakMap=="function"?WeakMap:Map,Oe=0,He=null,le=null,fe=0,ke=0,nr=null,Co=!1,qu=!1,Tg=!1,Ca=0,dn=0,Ro=0,Ul=0,Sg=0,ir=0,Gu=0,fh=null,ki=null,xg=!1,sd=0,jb=0,ad=1/0,od=null,Io=null,Pn=0,Oo=null,Zu=null,Ra=0,Ag=0,Cg=null,Vb=null,dh=0,Rg=null;function rr(){return(Oe&2)!==0&&fe!==0?fe&-fe:at.T!==null?Mg():ul()}function zb(){if(ir===0)if((fe&536870912)===0||oe){var i=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),ir=i}else ir=536870912;return i=tr.current,i!==null&&(i.flags|=32),ir}function Di(i,s,l){(i===He&&(ke===2||ke===9)||i.cancelPendingCommit!==null)&&(Wu(i,0),No(i,fe,ir,!1)),Wr(i,l),((Oe&2)===0||i!==He)&&(i===He&&((Oe&2)===0&&(Ul|=l),dn===4&&No(i,fe,ir,!1)),Fs(i))}function Bb(i,s,l){if((Oe&6)!==0)throw Error(r(327));var h=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Fi(i,s),p=h?l2(i,s):Og(i,s,!0),_=h;do{if(p===0){qu&&!h&&No(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!a2(l)){p=Og(i,s,!1),_=!1;continue}if(p===2){if(_=s,i.errorRecoveryDisabledLanes&_)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;t:{var O=i;p=fh;var B=O.current.memoizedState.isDehydrated;if(B&&(Wu(O,x).flags|=256),x=Og(O,x,!1),x!==2){if(Tg&&!B){O.errorRecoveryDisabledLanes|=_,Ul|=_,p=4;break t}_=ki,ki=p,_!==null&&(ki===null?ki=_:ki.push.apply(ki,_))}p=x}if(_=!1,p!==2)continue}}if(p===1){Wu(i,0),No(i,s,0,!0);break}t:{switch(h=i,_=p,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:No(h,s,ir,!Co);break t;case 2:ki=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=sd+300-wn(),10<p)){if(No(h,s,ir,!Co),dr(h,0,!0)!==0)break t;Ra=s,h.timeoutHandle=_w(Ub.bind(null,h,l,ki,od,xg,s,ir,Ul,Gu,Co,_,"Throttled",-0,0),p);break t}Ub(h,l,ki,od,xg,s,ir,Ul,Gu,Co,_,null,-0,0)}}break}while(!0);Fs(i)}function Ub(i,s,l,h,p,_,x,O,B,et,ht,pt,it,ot){if(i.timeoutHandle=-1,pt=s.subtreeFlags,pt&8192||(pt&16785408)===16785408){pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Lb(s,_,pt);var Pt=(_&62914560)===_?sd-wn():(_&4194048)===_?jb-wn():0;if(Pt=q2(pt,Pt),Pt!==null){Ra=_,i.cancelPendingCommit=Pt(Yb.bind(null,i,s,_,l,h,p,x,O,B,ht,pt,null,it,ot)),No(i,_,x,!et);return}}Yb(i,s,_,l,h,p,x,O,B)}function a2(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],_=p.getSnapshot;p=p.value;try{if(!zn(_(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function No(i,s,l,h){s&=~Sg,s&=~Ul,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var p=s;0<p;){var _=31-en(p),x=1<<_;h[_]=-1,p&=~x}l!==0&&aa(i,l,s)}function ld(){return(Oe&6)===0?(mh(0),!1):!0}function Ig(){if(le!==null){if(ke===0)var i=le.return;else i=le,ss=Bs=null,Gp(i),ju=null,Qc=0,i=le;for(;i!==null;)vb(i.alternate,i),i=i.return;le=null}}function Wu(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,A2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ra=0,Ig(),He=i,le=l=Cr(i.current,null),fe=s,ke=0,nr=null,Co=!1,qu=Fi(i,s),Tg=!1,Gu=ir=Sg=Ul=Ro=dn=0,ki=fh=null,xg=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var p=31-en(h),_=1<<p;s|=i[p],h&=~_}return Ca=s,Rl(),l}function Fb(i,s){$t=null,at.H=rh,s===Du||s===jf?(s=r0(),ke=3):s===Lp?(s=r0(),ke=4):ke=s===og?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nr=s,le===null&&(dn=1,Xf(i,c(s,i.current)))}function Hb(){var i=tr.current;return i===null?!0:(fe&4194048)===fe?Rr===null:(fe&62914560)===fe||(fe&536870912)!==0?i===Rr:!1}function qb(){var i=at.H;return at.H=rh,i===null?rh:i}function Gb(){var i=at.A;return at.A=r2,i}function ud(){dn=4,Co||(fe&4194048)!==fe&&tr.current!==null||(qu=!0),(Ro&134217727)===0&&(Ul&134217727)===0||He===null||No(He,fe,ir,!1)}function Og(i,s,l){var h=Oe;Oe|=2;var p=qb(),_=Gb();(He!==i||fe!==s)&&(od=null,Wu(i,s)),s=!1;var x=dn;t:do try{if(ke!==0&&le!==null){var O=le,B=nr;switch(ke){case 8:Ig(),x=6;break t;case 3:case 2:case 9:case 6:tr.current===null&&(s=!0);var et=ke;if(ke=0,nr=null,Ku(i,O,B,et),l&&qu){x=0;break t}break;default:et=ke,ke=0,nr=null,Ku(i,O,B,et)}}o2(),x=dn;break}catch(ht){Fb(i,ht)}while(!0);return s&&i.shellSuspendCounter++,ss=Bs=null,Oe=h,at.H=p,at.A=_,le===null&&(He=null,fe=0,Rl()),x}function o2(){for(;le!==null;)Zb(le)}function l2(i,s){var l=Oe;Oe|=2;var h=qb(),p=Gb();He!==i||fe!==s?(od=null,ad=wn()+500,Wu(i,s)):qu=Fi(i,s);t:do try{if(ke!==0&&le!==null){s=le;var _=nr;e:switch(ke){case 1:ke=0,nr=null,Ku(i,s,_,1);break;case 2:case 9:if(n0(_)){ke=0,nr=null,Wb(s);break}s=function(){ke!==2&&ke!==9||He!==i||(ke=7),Fs(i)},_.then(s,s);break t;case 3:ke=7;break t;case 4:ke=5;break t;case 7:n0(_)?(ke=0,nr=null,Wb(s)):(ke=0,nr=null,Ku(i,s,_,7));break;case 5:var x=null;switch(le.tag){case 26:x=le.memoizedState;case 5:case 27:var O=le;if(x?Pw(x):O.stateNode.complete){ke=0,nr=null;var B=O.sibling;if(B!==null)le=B;else{var et=O.return;et!==null?(le=et,cd(et)):le=null}break e}}ke=0,nr=null,Ku(i,s,_,5);break;case 6:ke=0,nr=null,Ku(i,s,_,6);break;case 8:Ig(),dn=6;break t;default:throw Error(r(462))}}u2();break}catch(ht){Fb(i,ht)}while(!0);return ss=Bs=null,at.H=h,at.A=p,Oe=l,le!==null?0:(He=null,fe=0,Rl(),dn)}function u2(){for(;le!==null&&!Xa();)Zb(le)}function Zb(i){var s=gb(i.alternate,i,Ca);i.memoizedProps=i.pendingProps,s===null?cd(i):le=s}function Wb(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=cb(l,s,s.pendingProps,s.type,void 0,fe);break;case 11:s=cb(l,s,s.pendingProps,s.type.render,s.ref,fe);break;case 5:Gp(s);default:vb(l,s),s=le=Hc(s,Ca),s=gb(l,s,Ca)}i.memoizedProps=i.pendingProps,s===null?cd(i):le=s}function Ku(i,s,l,h){ss=Bs=null,Gp(s),ju=null,Qc=0;var p=s.return;try{if(XC(i,p,s,l,fe)){dn=1,Xf(i,c(l,i.current)),le=null;return}}catch(_){if(p!==null)throw le=p,_;dn=1,Xf(i,c(l,i.current)),le=null;return}s.flags&32768?(oe||h===1?i=!0:qu||(fe&536870912)!==0?i=!1:(Co=i=!0,(h===2||h===9||h===3||h===6)&&(h=tr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Kb(s,i)):cd(s)}function cd(i){var s=i;do{if((s.flags&32768)!==0){Kb(s,Co);return}i=s.return;var l=t2(s.alternate,s,Ca);if(l!==null){le=l;return}if(s=s.sibling,s!==null){le=s;return}le=s=i}while(s!==null);dn===0&&(dn=5)}function Kb(i,s){do{var l=e2(i.alternate,i);if(l!==null){l.flags&=32767,le=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){le=i;return}le=i=l}while(i!==null);dn=6,le=null}function Yb(i,s,l,h,p,_,x,O,B){i.cancelPendingCommit=null;do hd();while(Pn!==0);if((Oe&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Iu,Uc(i,l,_,x,O,B),i===He&&(le=He=null,fe=0),Zu=s,Oo=i,Ra=l,Ag=_,Cg=p,Vb=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,d2(Bi,function(){return tw(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=at.T,at.T=null,p=Tt.p,Tt.p=2,x=Oe,Oe|=4;try{n2(i,s,l)}finally{Oe=x,Tt.p=p,at.T=h}}Pn=1,Qb(),Xb(),$b()}}function Qb(){if(Pn===1){Pn=0;var i=Oo,s=Zu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=at.T,at.T=null;var h=Tt.p;Tt.p=2;var p=Oe;Oe|=4;try{Ob(s,i);var _=Fg,x=Tl(i.containerInfo),O=_.focusedElem,B=_.selectionRange;if(x!==O&&O&&O.ownerDocument&&xu(O.ownerDocument.documentElement,O)){if(B!==null&&Ls(O)){var et=B.start,ht=B.end;if(ht===void 0&&(ht=et),"selectionStart"in O)O.selectionStart=et,O.selectionEnd=Math.min(ht,O.value.length);else{var pt=O.ownerDocument||document,it=pt&&pt.defaultView||window;if(it.getSelection){var ot=it.getSelection(),Pt=O.textContent.length,Ft=Math.min(B.start,Pt),Be=B.end===void 0?Ft:Math.min(B.end,Pt);!ot.extend&&Ft>Be&&(x=Be,Be=Ft,Ft=x);var Q=El(O,Ft),G=El(O,Be);if(Q&&G&&(ot.rangeCount!==1||ot.anchorNode!==Q.node||ot.anchorOffset!==Q.offset||ot.focusNode!==G.node||ot.focusOffset!==G.offset)){var tt=pt.createRange();tt.setStart(Q.node,Q.offset),ot.removeAllRanges(),Ft>Be?(ot.addRange(tt),ot.extend(G.node,G.offset)):(tt.setEnd(G.node,G.offset),ot.addRange(tt))}}}}for(pt=[],ot=O;ot=ot.parentNode;)ot.nodeType===1&&pt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<pt.length;O++){var dt=pt[O];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}Td=!!Ug,Fg=Ug=null}finally{Oe=p,Tt.p=h,at.T=l}}i.current=s,Pn=2}}function Xb(){if(Pn===2){Pn=0;var i=Oo,s=Zu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=at.T,at.T=null;var h=Tt.p;Tt.p=2;var p=Oe;Oe|=4;try{xb(i,s.alternate,s)}finally{Oe=p,Tt.p=h,at.T=l}}Pn=3}}function $b(){if(Pn===4||Pn===3){Pn=0,sa();var i=Oo,s=Zu,l=Ra,h=Vb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pn=5:(Pn=0,Zu=Oo=null,Jb(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Io=null),Ot(l),s=s.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Xn,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=at.T,p=Tt.p,Tt.p=2,at.T=null;try{for(var _=i.onRecoverableError,x=0;x<h.length;x++){var O=h[x];_(O.value,{componentStack:O.stack})}}finally{at.T=s,Tt.p=p}}(Ra&3)!==0&&hd(),Fs(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Rg?dh++:(dh=0,Rg=i):dh=0,mh(0)}}function Jb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Kc(s)))}function hd(){return Qb(),Xb(),$b(),tw()}function tw(){if(Pn!==5)return!1;var i=Oo,s=Ag;Ag=0;var l=Ot(Ra),h=at.T,p=Tt.p;try{Tt.p=32>l?32:l,at.T=null,l=Cg,Cg=null;var _=Oo,x=Ra;if(Pn=0,Zu=Oo=null,Ra=0,(Oe&6)!==0)throw Error(r(331));var O=Oe;if(Oe|=4,kb(_.current),Pb(_,_.current,x,l),Oe=O,mh(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Xn,_)}catch{}return!0}finally{Tt.p=p,at.T=h,Jb(i,s)}}function ew(i,s,l){s=c(l,s),s=ag(i.stateNode,s,2),i=To(i,s,2),i!==null&&(Wr(i,2),Fs(i))}function De(i,s,l){if(i.tag===3)ew(i,i,l);else for(;s!==null;){if(s.tag===3){ew(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Io===null||!Io.has(h))){i=c(l,i),l=nb(2),h=To(s,l,2),h!==null&&(ib(l,h,s,i),Wr(h,2),Fs(h));break}}s=s.return}}function Ng(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new s2;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(Tg=!0,p.add(l),i=c2.bind(null,i,s,l),s.then(i,i))}function c2(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,He===i&&(fe&l)===l&&(dn===4||dn===3&&(fe&62914560)===fe&&300>wn()-sd?(Oe&2)===0&&Wu(i,0):Sg|=l,Gu===fe&&(Gu=0)),Fs(i)}function nw(i,s){s===0&&(s=gu()),i=Ar(i,s),i!==null&&(Wr(i,s),Fs(i))}function h2(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),nw(i,l)}function f2(i,s){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),nw(i,l)}function d2(i,s){return Ee(i,s)}var fd=null,Yu=null,Pg=!1,dd=!1,Lg=!1,Po=0;function Fs(i){i!==Yu&&i.next===null&&(Yu===null?fd=Yu=i:Yu=Yu.next=i),dd=!0,Pg||(Pg=!0,p2())}function mh(i,s){if(!Lg&&dd){Lg=!0;do for(var l=!1,h=fd;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var _=0;else{var x=h.suspendedLanes,O=h.pingedLanes;_=(1<<31-en(42|i)+1)-1,_&=p&~(x&~O),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,aw(h,_))}else _=fe,_=dr(h,h===He?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||Fi(h,_)||(l=!0,aw(h,_));h=h.next}while(l);Lg=!1}}function m2(){iw()}function iw(){dd=Pg=!1;var i=0;Po!==0&&x2()&&(i=Po);for(var s=wn(),l=null,h=fd;h!==null;){var p=h.next,_=rw(h,s);_===0?(h.next=null,l===null?fd=p:l.next=p,p===null&&(Yu=l)):(l=h,(i!==0||(_&3)!==0)&&(dd=!0)),h=p}Pn!==0&&Pn!==5||mh(i),Po!==0&&(Po=0)}function rw(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var x=31-en(_),O=1<<x,B=p[x];B===-1?((O&l)===0||(O&h)!==0)&&(p[x]=Bc(O,s)):B<=s&&(i.expiredLanes|=O),_&=~O}if(s=He,l=fe,l=dr(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(ke===2||ke===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&yi(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Fi(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&yi(h),Ot(l)){case 2:case 8:l=Es;break;case 32:l=Bi;break;case 268435456:l=Ts;break;default:l=Bi}return h=sw.bind(null,i),l=Ee(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&yi(h),i.callbackPriority=2,i.callbackNode=null,2}function sw(i,s){if(Pn!==0&&Pn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(hd()&&i.callbackNode!==l)return null;var h=fe;return h=dr(i,i===He?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Bb(i,h,s),rw(i,wn()),i.callbackNode!=null&&i.callbackNode===l?sw.bind(null,i):null)}function aw(i,s){if(hd())return null;Bb(i,s,!0)}function p2(){C2(function(){(Oe&6)!==0?Ee(hr,m2):iw()})}function Mg(){if(Po===0){var i=Mu;i===0&&(i=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),Po=i}return Po}function ow(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Rs(""+i)}function lw(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function g2(i,s,l,h,p){if(s==="submit"&&l&&l.stateNode===p){var _=ow((p[un]||null).action),x=h.submitter;x&&(s=(s=x[un]||null)?ow(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var O=new Er("action","action",null,h,p);i.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Po!==0){var B=x?lw(p,x):new FormData(p);tg(l,{pending:!0,data:B,method:p.method,action:_},null,B)}}else typeof _=="function"&&(O.preventDefault(),B=x?lw(p,x):new FormData(p),tg(l,{pending:!0,data:B,method:p.method,action:_},_,B))},currentTarget:p}]})}}for(var kg=0;kg<Ds.length;kg++){var Dg=Ds[kg],_2=Dg.toLowerCase(),v2=Dg[0].toUpperCase()+Dg.slice(1);Ii(_2,"on"+v2)}Ii(xl,"onAnimationEnd"),Ii(Nf,"onAnimationIteration"),Ii(Al,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(xp,"onTransitionRun"),Ii(Pf,"onTransitionStart"),Ii(Ap,"onTransitionCancel"),Ii(vo,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_r("onBeforeInput",["compositionend","keypress","textInput","paste"]),_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ph));function uw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;t:{var _=void 0;if(s)for(var x=h.length-1;0<=x;x--){var O=h[x],B=O.instance,et=O.currentTarget;if(O=O.listener,B!==_&&p.isPropagationStopped())break t;_=O,p.currentTarget=et;try{_(p)}catch(ht){Cl(ht)}p.currentTarget=null,_=B}else for(x=0;x<h.length;x++){if(O=h[x],B=O.instance,et=O.currentTarget,O=O.listener,B!==_&&p.isPropagationStopped())break t;_=O,p.currentTarget=et;try{_(p)}catch(ht){Cl(ht)}p.currentTarget=null,_=B}}}}function ue(i,s){var l=s[qi];l===void 0&&(l=s[qi]=new Set);var h=i+"__bubble";l.has(h)||(cw(s,i,2,!1),l.add(h))}function jg(i,s,l){var h=0;s&&(h|=4),cw(l,i,h,s)}var md="_reactListening"+Math.random().toString(36).slice(2);function Vg(i){if(!i[md]){i[md]=!0,cl.forEach(function(l){l!=="selectionchange"&&(y2.has(l)||jg(l,!1,i),jg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[md]||(s[md]=!0,jg("selectionchange",!1,s))}}function cw(i,s,l,h){switch(zw(s)){case 2:var p=W2;break;case 8:p=K2;break;default:p=Jg}l=p.bind(null,s,l,i),p=void 0,!Xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function zg(i,s,l,h,p){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var O=h.stateNode.containerInfo;if(O===p)break;if(x===4)for(x=h.return;x!==null;){var B=x.tag;if((B===3||B===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;O!==null;){if(x=Gi(O),x===null)return;if(B=x.tag,B===5||B===6||B===26||B===27){h=_=x;continue t}O=O.parentNode}}h=h.return}Qr(function(){var et=_,ht=Jn(l),pt=[];t:{var it=Lf.get(i);if(it!==void 0){var ot=Er,Pt=i;switch(i){case"keypress":if(Os(l)===0)break t;case"keydown":case"keyup":ot=_l;break;case"focusin":Pt="focus",ot=fa;break;case"focusout":Pt="blur",ot=fa;break;case"beforeblur":case"afterblur":ot=fa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=E;break;case xl:case Nf:case Al:ot=oo;break;case vo:ot=P;break;case"scroll":case"scrollend":ot=ne;break;case"wheel":ot=rt;break;case"copy":case"cut":case"paste":ot=fi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=es;break;case"toggle":case"beforetoggle":ot=Gt}var Ft=(s&4)!==0,Be=!Ft&&(i==="scroll"||i==="scrollend"),Q=Ft?it!==null?it+"Capture":null:it;Ft=[];for(var G=et,tt;G!==null;){var dt=G;if(tt=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||tt===null||Q===null||(dt=hi(G,Q),dt!=null&&Ft.push(gh(G,dt,tt))),Be)break;G=G.return}0<Ft.length&&(it=new ot(it,Pt,null,l,ht),pt.push({event:it,listeners:Ft}))}}if((s&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",ot=i==="mouseout"||i==="pointerout",it&&l!==ao&&(Pt=l.relatedTarget||l.fromElement)&&(Gi(Pt)||Pt[Hi]))break t;if((ot||it)&&(it=ht.window===ht?ht:(it=ht.ownerDocument)?it.defaultView||it.parentWindow:window,ot?(Pt=l.relatedTarget||l.toElement,ot=et,Pt=Pt?Gi(Pt):null,Pt!==null&&(Be=u(Pt),Ft=Pt.tag,Pt!==Be||Ft!==5&&Ft!==27&&Ft!==6)&&(Pt=null)):(ot=null,Pt=et),ot!==Pt)){if(Ft=fl,dt="onMouseLeave",Q="onMouseEnter",G="mouse",(i==="pointerout"||i==="pointerover")&&(Ft=es,dt="onPointerLeave",Q="onPointerEnter",G="pointer"),Be=ot==null?it:kn(ot),tt=Pt==null?it:kn(Pt),it=new Ft(dt,G+"leave",ot,l,ht),it.target=Be,it.relatedTarget=tt,dt=null,Gi(ht)===et&&(Ft=new Ft(Q,G+"enter",Pt,l,ht),Ft.target=tt,Ft.relatedTarget=Be,dt=Ft),Be=dt,ot&&Pt)e:{for(Ft=b2,Q=ot,G=Pt,tt=0,dt=Q;dt;dt=Ft(dt))tt++;dt=0;for(var Vt=G;Vt;Vt=Ft(Vt))dt++;for(;0<tt-dt;)Q=Ft(Q),tt--;for(;0<dt-tt;)G=Ft(G),dt--;for(;tt--;){if(Q===G||G!==null&&Q===G.alternate){Ft=Q;break e}Q=Ft(Q),G=Ft(G)}Ft=null}else Ft=null;ot!==null&&hw(pt,it,ot,Ft,!1),Pt!==null&&Be!==null&&hw(pt,Be,Pt,Ft,!0)}}t:{if(it=et?kn(et):window,ot=it.nodeName&&it.nodeName.toLowerCase(),ot==="select"||ot==="input"&&it.type==="file")var Ce=wl;else if(Tr(it))if(Af)Ce=Sp;else{Ce=Tp;var kt=ns}else ot=it.nodeName,!ot||ot.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&Cs(et.elementType)&&(Ce=wl):Ce=mo;if(Ce&&(Ce=Ce(i,et))){xf(pt,Ce,l,ht);break t}kt&&kt(i,it,et),i==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&Zi(it,"number",it.value)}switch(kt=et?kn(et):window,i){case"focusin":(Tr(kt)||kt.contentEditable==="true")&&(Ms=kt,Cu=et,Sl=null);break;case"focusout":Sl=Cu=Ms=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,If(pt,l,ht);break;case"selectionchange":if(Au)break;case"keydown":case"keyup":If(pt,l,ht)}var te;if(be)t:{switch(i){case"compositionstart":var de="onCompositionStart";break t;case"compositionend":de="onCompositionEnd";break t;case"compositionupdate":de="onCompositionUpdate";break t}de=void 0}else co?da(i,l)&&(de="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(de="onCompositionStart");de&&(Ri&&l.locale!=="ko"&&(co||de!=="onCompositionStart"?de==="onCompositionEnd"&&co&&(te=Wi()):(Ai=ht,$r="value"in Ai?Ai.value:Ai.textContent,co=!0)),kt=pd(et,de),0<kt.length&&(de=new Qi(de,i,null,l,ht),pt.push({event:de,listeners:kt}),te?de.data=te:(te=ma(l),te!==null&&(de.data=te)))),(te=Ci?Ji(i,l):ho(i,l))&&(de=pd(et,"onBeforeInput"),0<de.length&&(kt=new Qi("onBeforeInput","beforeinput",null,l,ht),pt.push({event:kt,listeners:de}),kt.data=te)),g2(pt,i,et,l,ht)}uw(pt,s)})}function gh(i,s,l){return{instance:i,listener:s,currentTarget:l}}function pd(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=hi(i,l),p!=null&&h.unshift(gh(i,p,_)),p=hi(i,s),p!=null&&h.push(gh(i,p,_))),i.tag===3)return h;i=i.return}return[]}function b2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function hw(i,s,l,h,p){for(var _=s._reactName,x=[];l!==null&&l!==h;){var O=l,B=O.alternate,et=O.stateNode;if(O=O.tag,B!==null&&B===h)break;O!==5&&O!==26&&O!==27||et===null||(B=et,p?(et=hi(l,_),et!=null&&x.unshift(gh(l,et,B))):p||(et=hi(l,_),et!=null&&x.push(gh(l,et,B)))),l=l.return}x.length!==0&&i.push({event:s,listeners:x})}var w2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function fw(i){return(typeof i=="string"?i:""+i).replace(w2,`
`).replace(E2,"")}function dw(i,s){return s=fw(s),fw(i)===s}function ze(i,s,l,h,p,_){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||En(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&En(i,""+h);break;case"className":ae(i,"class",h);break;case"tabIndex":ae(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ae(i,l,h);break;case"style":ua(i,h,_);break;case"data":if(s!=="object"){ae(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Rs(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&ze(i,s,"name",p.name,p,null),ze(i,s,"formEncType",p.formEncType,p,null),ze(i,s,"formMethod",p.formMethod,p,null),ze(i,s,"formTarget",p.formTarget,p,null)):(ze(i,s,"encType",p.encType,p,null),ze(i,s,"method",p.method,p,null),ze(i,s,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Rs(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=$n);break;case"onScroll":h!=null&&ue("scroll",i);break;case"onScrollEnd":h!=null&&ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Rs(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ue("beforetoggle",i),ue("toggle",i),ie(i,"popover",h);break;case"xlinkActuate":We(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":We(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":We(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":We(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":We(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":We(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":We(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":We(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":We(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ie(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ca.get(l)||l,ie(i,l,h))}}function Bg(i,s,l,h,p,_){switch(l){case"style":ua(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?En(i,h):(typeof h=="number"||typeof h=="bigint")&&En(i,""+h);break;case"onScroll":h!=null&&ue("scroll",i);break;case"onScrollEnd":h!=null&&ue("scrollend",i);break;case"onClick":h!=null&&(i.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),_=i[un]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,p),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,p);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):ie(i,l,h)}}}function Gn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",i),ue("load",i);var h=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var x=l[_];if(x!=null)switch(_){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(i,s,_,x,l,null)}}p&&ze(i,s,"srcSet",l.srcSet,l,null),h&&ze(i,s,"src",l.src,l,null);return;case"input":ue("invalid",i);var O=_=x=p=null,B=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ht=l[h];if(ht!=null)switch(h){case"name":p=ht;break;case"type":x=ht;break;case"checked":B=ht;break;case"defaultChecked":et=ht;break;case"value":_=ht;break;case"defaultValue":O=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,s));break;default:ze(i,s,h,ht,l,null)}}la(i,_,O,B,et,x,p,!1);return;case"select":ue("invalid",i),h=x=_=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":_=O;break;case"defaultValue":x=O;break;case"multiple":h=O;default:ze(i,s,p,O,l,null)}s=_,l=x,i.multiple=!!h,s!=null?Me(i,!!h,s,!1):l!=null&&Me(i,!!h,l,!0);return;case"textarea":ue("invalid",i),_=p=h=null;for(x in l)if(l.hasOwnProperty(x)&&(O=l[x],O!=null))switch(x){case"value":h=O;break;case"defaultValue":p=O;break;case"children":_=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:ze(i,s,x,O,l,null)}xi(i,h,p,_);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(h=l[B],h!=null))switch(B){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ze(i,s,B,h,l,null)}return;case"dialog":ue("beforetoggle",i),ue("toggle",i),ue("cancel",i),ue("close",i);break;case"iframe":case"object":ue("load",i);break;case"video":case"audio":for(h=0;h<ph.length;h++)ue(ph[h],i);break;case"image":ue("error",i),ue("load",i);break;case"details":ue("toggle",i);break;case"embed":case"source":case"link":ue("error",i),ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(i,s,et,h,l,null)}return;default:if(Cs(s)){for(ht in l)l.hasOwnProperty(ht)&&(h=l[ht],h!==void 0&&Bg(i,s,ht,h,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(h=l[O],h!=null&&ze(i,s,O,h,l,null))}function T2(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,x=null,O=null,B=null,et=null,ht=null;for(ot in l){var pt=l[ot];if(l.hasOwnProperty(ot)&&pt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":B=pt;default:h.hasOwnProperty(ot)||ze(i,s,ot,null,h,pt)}}for(var it in h){var ot=h[it];if(pt=l[it],h.hasOwnProperty(it)&&(ot!=null||pt!=null))switch(it){case"type":_=ot;break;case"name":p=ot;break;case"checked":et=ot;break;case"defaultChecked":ht=ot;break;case"value":x=ot;break;case"defaultValue":O=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,s));break;default:ot!==pt&&ze(i,s,it,ot,h,pt)}}ro(i,x,O,B,et,ht,_,p);return;case"select":ot=x=O=it=null;for(_ in l)if(B=l[_],l.hasOwnProperty(_)&&B!=null)switch(_){case"value":break;case"multiple":ot=B;default:h.hasOwnProperty(_)||ze(i,s,_,null,h,B)}for(p in h)if(_=h[p],B=l[p],h.hasOwnProperty(p)&&(_!=null||B!=null))switch(p){case"value":it=_;break;case"defaultValue":O=_;break;case"multiple":x=_;default:_!==B&&ze(i,s,p,_,h,B)}s=O,l=x,h=ot,it!=null?Me(i,!!l,it,!1):!!h!=!!l&&(s!=null?Me(i,!!l,s,!0):Me(i,!!l,l?[]:"",!1));return;case"textarea":ot=it=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ze(i,s,O,null,h,p)}for(x in h)if(p=h[x],_=l[x],h.hasOwnProperty(x)&&(p!=null||_!=null))switch(x){case"value":it=p;break;case"defaultValue":ot=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==_&&ze(i,s,x,p,h,_)}yr(i,it,ot);return;case"option":for(var Pt in l)if(it=l[Pt],l.hasOwnProperty(Pt)&&it!=null&&!h.hasOwnProperty(Pt))switch(Pt){case"selected":i.selected=!1;break;default:ze(i,s,Pt,null,h,it)}for(B in h)if(it=h[B],ot=l[B],h.hasOwnProperty(B)&&it!==ot&&(it!=null||ot!=null))switch(B){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:ze(i,s,B,it,h,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in l)it=l[Ft],l.hasOwnProperty(Ft)&&it!=null&&!h.hasOwnProperty(Ft)&&ze(i,s,Ft,null,h,it);for(et in h)if(it=h[et],ot=l[et],h.hasOwnProperty(et)&&it!==ot&&(it!=null||ot!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:ze(i,s,et,it,h,ot)}return;default:if(Cs(s)){for(var Be in l)it=l[Be],l.hasOwnProperty(Be)&&it!==void 0&&!h.hasOwnProperty(Be)&&Bg(i,s,Be,void 0,h,it);for(ht in h)it=h[ht],ot=l[ht],!h.hasOwnProperty(ht)||it===ot||it===void 0&&ot===void 0||Bg(i,s,ht,it,h,ot);return}}for(var Q in l)it=l[Q],l.hasOwnProperty(Q)&&it!=null&&!h.hasOwnProperty(Q)&&ze(i,s,Q,null,h,it);for(pt in h)it=h[pt],ot=l[pt],!h.hasOwnProperty(pt)||it===ot||it==null&&ot==null||ze(i,s,pt,it,h,ot)}function mw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var p=l[h],_=p.transferSize,x=p.initiatorType,O=p.duration;if(_&&O&&mw(x)){for(x=0,O=p.responseEnd,h+=1;h<l.length;h++){var B=l[h],et=B.startTime;if(et>O)break;var ht=B.transferSize,pt=B.initiatorType;ht&&mw(pt)&&(B=B.responseEnd,x+=ht*(B<O?1:(O-et)/(B-et)))}if(--h,s+=8*(_+x)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ug=null,Fg=null;function gd(i){return i.nodeType===9?i:i.ownerDocument}function pw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Hg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qg=null;function x2(){var i=window.event;return i&&i.type==="popstate"?i===qg?!1:(qg=i,!0):(qg=null,!1)}var _w=typeof setTimeout=="function"?setTimeout:void 0,A2=typeof clearTimeout=="function"?clearTimeout:void 0,vw=typeof Promise=="function"?Promise:void 0,C2=typeof queueMicrotask=="function"?queueMicrotask:typeof vw<"u"?function(i){return vw.resolve(null).then(i).catch(R2)}:_w;function R2(i){setTimeout(function(){throw i})}function Lo(i){return i==="head"}function yw(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(p),Ju(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")_h(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,_h(l);for(var _=l.firstChild;_;){var x=_.nextSibling,O=_.nodeName;_[pr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=x}}else l==="body"&&_h(i.ownerDocument.body);l=p}while(l);Ju(s)}function bw(i,s){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Gg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Gg(l),eo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function I2(i,s,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[pr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Ir(i.nextSibling),i===null)break}return null}function O2(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ir(i.nextSibling),i===null))return null;return i}function ww(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Ir(i.nextSibling),i===null))return null;return i}function Zg(i){return i.data==="$?"||i.data==="$~"}function Wg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function N2(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ir(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Kg=null;function Ew(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Ir(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function Tw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function Sw(i,s,l){switch(s=gd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function _h(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);eo(i)}var Or=new Map,xw=new Set;function _d(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ia=Tt.d;Tt.d={f:P2,r:L2,D:M2,C:k2,L:D2,m:j2,X:z2,S:V2,M:B2};function P2(){var i=Ia.f(),s=ld();return i||s}function L2(i){var s=Ei(i);s!==null&&s.tag===5&&s.type==="form"?F0(s):Ia.r(i)}var Qu=typeof document>"u"?null:document;function Aw(i,s,l){var h=Qu;if(h&&typeof s=="string"&&s){var p=Ue(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),xw.has(p)||(xw.add(p),i={rel:i,crossOrigin:l,href:s},h.querySelector(p)===null&&(s=h.createElement("link"),Gn(s,"link",i),cn(s),h.head.appendChild(s)))}}function M2(i){Ia.D(i),Aw("dns-prefetch",i,null)}function k2(i,s){Ia.C(i,s),Aw("preconnect",i,s)}function D2(i,s,l){Ia.L(i,s,l);var h=Qu;if(h&&i&&s){var p='link[rel="preload"][as="'+Ue(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ue(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ue(l.imageSizes)+'"]')):p+='[href="'+Ue(i)+'"]';var _=p;switch(s){case"style":_=Xu(i);break;case"script":_=$u(i)}Or.has(_)||(i=C({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Or.set(_,i),h.querySelector(p)!==null||s==="style"&&h.querySelector(vh(_))||s==="script"&&h.querySelector(yh(_))||(s=h.createElement("link"),Gn(s,"link",i),cn(s),h.head.appendChild(s)))}}function j2(i,s){Ia.m(i,s);var l=Qu;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Ue(h)+'"][href="'+Ue(i)+'"]',_=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$u(i)}if(!Or.has(_)&&(i=C({rel:"modulepreload",href:i},s),Or.set(_,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yh(_)))return}h=l.createElement("link"),Gn(h,"link",i),cn(h),l.head.appendChild(h)}}}function V2(i,s,l){Ia.S(i,s,l);var h=Qu;if(h&&i){var p=gr(h).hoistableStyles,_=Xu(i);s=s||"default";var x=p.get(_);if(!x){var O={loading:0,preload:null};if(x=h.querySelector(vh(_)))O.loading=5;else{i=C({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Or.get(_))&&Yg(i,l);var B=x=h.createElement("link");cn(B),Gn(B,"link",i),B._p=new Promise(function(et,ht){B.onload=et,B.onerror=ht}),B.addEventListener("load",function(){O.loading|=1}),B.addEventListener("error",function(){O.loading|=2}),O.loading|=4,vd(x,s,h)}x={type:"stylesheet",instance:x,count:1,state:O},p.set(_,x)}}}function z2(i,s){Ia.X(i,s);var l=Qu;if(l&&i){var h=gr(l).hoistableScripts,p=$u(i),_=h.get(p);_||(_=l.querySelector(yh(p)),_||(i=C({src:i,async:!0},s),(s=Or.get(p))&&Qg(i,s),_=l.createElement("script"),cn(_),Gn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function B2(i,s){Ia.M(i,s);var l=Qu;if(l&&i){var h=gr(l).hoistableScripts,p=$u(i),_=h.get(p);_||(_=l.querySelector(yh(p)),_||(i=C({src:i,async:!0,type:"module"},s),(s=Or.get(p))&&Qg(i,s),_=l.createElement("script"),cn(_),Gn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function Cw(i,s,l,h){var p=(p=vt.current)?_d(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Xu(l.href),l=gr(p).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Xu(l.href);var _=gr(p).hoistableStyles,x=_.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,x),(_=p.querySelector(vh(i)))&&!_._p&&(x.instance=_,x.state.loading=5),Or.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Or.set(i,l),_||U2(p,i,l,x.state))),s&&h===null)throw Error(r(528,""));return x}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$u(l),l=gr(p).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Xu(i){return'href="'+Ue(i)+'"'}function vh(i){return'link[rel="stylesheet"]['+i+"]"}function Rw(i){return C({},i,{"data-precedence":i.precedence,precedence:null})}function U2(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Gn(s,"link",l),cn(s),i.head.appendChild(s))}function $u(i){return'[src="'+Ue(i)+'"]'}function yh(i){return"script[async]"+i}function Iw(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+Ue(l.href)+'"]');if(h)return s.instance=h,cn(h),h;var p=C({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),cn(h),Gn(h,"style",p),vd(h,l.precedence,i),s.instance=h;case"stylesheet":p=Xu(l.href);var _=i.querySelector(vh(p));if(_)return s.state.loading|=4,s.instance=_,cn(_),_;h=Rw(l),(p=Or.get(p))&&Yg(h,p),_=(i.ownerDocument||i).createElement("link"),cn(_);var x=_;return x._p=new Promise(function(O,B){x.onload=O,x.onerror=B}),Gn(_,"link",h),s.state.loading|=4,vd(_,l.precedence,i),s.instance=_;case"script":return _=$u(l.src),(p=i.querySelector(yh(_)))?(s.instance=p,cn(p),p):(h=l,(p=Or.get(_))&&(h=C({},l),Qg(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),cn(p),Gn(p,"link",h),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,vd(h,l.precedence,i));return s.instance}function vd(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,_=p,x=0;x<h.length;x++){var O=h[x];if(O.dataset.precedence===s)_=O;else if(_!==p)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Yg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Qg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var yd=null;function Ow(i,s,l){if(yd===null){var h=new Map,p=yd=new Map;p.set(l,h)}else p=yd,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var _=l[p];if(!(_[pr]||_[rn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=i+x;var O=h.get(x);O?O.push(_):h.set(x,[_])}}return h}function Nw(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function F2(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Pw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function H2(i,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Xu(h.href),_=s.querySelector(vh(p));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=bd.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,cn(_);return}_=s.ownerDocument||s,h=Rw(h),(p=Or.get(p))&&Yg(h,p),_=_.createElement("link"),cn(_);var x=_;x._p=new Promise(function(O,B){x.onload=O,x.onerror=B}),Gn(_,"link",h),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=bd.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Xg=0;function q2(i,s){return i.stylesheets&&i.count===0&&Ed(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Ed(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Xg===0&&(Xg=62500*S2());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ed(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Xg?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wd=null;function Ed(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wd=new Map,s.forEach(G2,i),wd=null,bd.call(i))}function G2(i,s){if(!(s.state.loading&4)){var l=wd.get(i);if(l)var h=l.get(null);else{l=new Map,wd.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var x=p[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),h=x)}h&&l.set(null,h)}p=s.instance,x=p.getAttribute("data-precedence"),_=l.get(x)||h,_===h&&l.set(null,p),l.set(x,p),this.count++,h=bd.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),_?_.parentNode.insertBefore(p,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var bh={$$typeof:st,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function Z2(i,s,l,h,p,_,x,O,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function Lw(i,s,l,h,p,_,x,O,B,et,ht,pt){return i=new Z2(i,s,l,x,B,et,ht,pt,O),s=1,_===!0&&(s|=24),_=ii(3,null,null,s),i.current=_,_.stateNode=i,s=Op(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:s},Mp(_),i}function Mw(i){return i?(i=pa,i):pa}function kw(i,s,l,h,p,_){p=Mw(p),h.context===null?h.context=p:h.pendingContext=p,h=Eo(s),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=To(i,h,s),l!==null&&(Di(l,i,s),$c(l,i,s))}function Dw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function $g(i,s){Dw(i,s),(i=i.alternate)&&Dw(i,s)}function jw(i){if(i.tag===13||i.tag===31){var s=Ar(i,67108864);s!==null&&Di(s,i,67108864),$g(i,67108864)}}function Vw(i){if(i.tag===13||i.tag===31){var s=rr();s=Mn(s);var l=Ar(i,s);l!==null&&Di(l,i,s),$g(i,s)}}var Td=!0;function W2(i,s,l,h){var p=at.T;at.T=null;var _=Tt.p;try{Tt.p=2,Jg(i,s,l,h)}finally{Tt.p=_,at.T=p}}function K2(i,s,l,h){var p=at.T;at.T=null;var _=Tt.p;try{Tt.p=8,Jg(i,s,l,h)}finally{Tt.p=_,at.T=p}}function Jg(i,s,l,h){if(Td){var p=t_(h);if(p===null)zg(i,s,h,Sd,l),Bw(i,h);else if(Q2(p,i,s,l,h))h.stopPropagation();else if(Bw(i,h),s&4&&-1<Y2.indexOf(i)){for(;p!==null;){var _=Ei(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=fr(_.pendingLanes);if(x!==0){var O=_;for(O.pendingLanes|=2,O.entangledLanes|=2;x;){var B=1<<31-en(x);O.entanglements[1]|=B,x&=~B}Fs(_),(Oe&6)===0&&(ad=wn()+500,mh(0))}}break;case 31:case 13:O=Ar(_,2),O!==null&&Di(O,_,2),ld(),$g(_,2)}if(_=t_(h),_===null&&zg(i,s,h,Sd,l),_===p)break;p=_}p!==null&&h.stopPropagation()}else zg(i,s,h,null,l)}}function t_(i){return i=Jn(i),e_(i)}var Sd=null;function e_(i){if(Sd=null,i=Gi(i),i!==null){var s=u(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=f(s),i!==null)return i;i=null}else if(l===31){if(i=g(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Sd=i,null}function zw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case hr:return 2;case Es:return 8;case Bi:case $a:return 32;case Ts:return 268435456;default:return 32}default:return 32}}var n_=!1,Mo=null,ko=null,Do=null,wh=new Map,Eh=new Map,jo=[],Y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bw(i,s){switch(i){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":wh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eh.delete(s.pointerId)}}function Th(i,s,l,h,p,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[p]},s!==null&&(s=Ei(s),s!==null&&jw(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Q2(i,s,l,h,p){switch(s){case"focusin":return Mo=Th(Mo,i,s,l,h,p),!0;case"dragenter":return ko=Th(ko,i,s,l,h,p),!0;case"mouseover":return Do=Th(Do,i,s,l,h,p),!0;case"pointerover":var _=p.pointerId;return wh.set(_,Th(wh.get(_)||null,i,s,l,h,p)),!0;case"gotpointercapture":return _=p.pointerId,Eh.set(_,Th(Eh.get(_)||null,i,s,l,h,p)),!0}return!1}function Uw(i){var s=Gi(i.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=f(l),s!==null){i.blockedOn=s,bi(i.priority,function(){Vw(l)});return}}else if(s===31){if(s=g(l),s!==null){i.blockedOn=s,bi(i.priority,function(){Vw(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=t_(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ao=h,l.target.dispatchEvent(h),ao=null}else return s=Ei(l),s!==null&&jw(s),i.blockedOn=l,!1;s.shift()}return!0}function Fw(i,s,l){xd(i)&&l.delete(s)}function X2(){n_=!1,Mo!==null&&xd(Mo)&&(Mo=null),ko!==null&&xd(ko)&&(ko=null),Do!==null&&xd(Do)&&(Do=null),wh.forEach(Fw),Eh.forEach(Fw)}function Ad(i,s){i.blockedOn===s&&(i.blockedOn=null,n_||(n_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,X2)))}var Cd=null;function Hw(i){Cd!==i&&(Cd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Cd===i&&(Cd=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],p=i[s+2];if(typeof h!="function"){if(e_(h||l)===null)continue;break}var _=Ei(l);_!==null&&(i.splice(s,3),s-=3,tg(_,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Ju(i){function s(B){return Ad(B,i)}Mo!==null&&Ad(Mo,i),ko!==null&&Ad(ko,i),Do!==null&&Ad(Do,i),wh.forEach(s),Eh.forEach(s);for(var l=0;l<jo.length;l++){var h=jo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<jo.length&&(l=jo[0],l.blockedOn===null);)Uw(l),l.blockedOn===null&&jo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],_=l[h+1],x=p[un]||null;if(typeof _=="function")x||Hw(l);else if(x){var O=null;if(_&&_.hasAttribute("formAction")){if(p=_,x=_[un]||null)O=x.formAction;else if(e_(p)!==null)continue}else O=x.action;typeof O=="function"?l[h+1]=O:(l.splice(h,3),h-=3),Hw(l)}}}function qw(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function i_(i){this._internalRoot=i}Rd.prototype.render=i_.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=rr();kw(l,h,i,s,null,null)},Rd.prototype.unmount=i_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;kw(i.current,2,null,i,null,null),ld(),s[Hi]=null}};function Rd(i){this._internalRoot=i}Rd.prototype.unstable_scheduleHydration=function(i){if(i){var s=ul();i={blockedOn:null,target:i,priority:s};for(var l=0;l<jo.length&&s!==0&&s<jo[l].priority;l++);jo.splice(l,0,i),l===0&&Uw(i)}};var Gw=t.version;if(Gw!=="19.2.1")throw Error(r(527,Gw,"19.2.1"));Tt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=y(s),i=i!==null?S(i):null,i=i===null?null:i.stateNode,i};var $2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{Xn=Id.inject($2),pn=Id}catch{}}return xh.createRoot=function(i,s){if(!o(i))throw Error(r(299));var l=!1,h="",p=$0,_=J0,x=tb;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=Lw(i,1,!1,null,null,l,h,null,p,_,x,qw),i[Hi]=s.current,Vg(i),new i_(s)},xh.hydrateRoot=function(i,s,l){if(!o(i))throw Error(r(299));var h=!1,p="",_=$0,x=J0,O=tb,B=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.formState!==void 0&&(B=l.formState)),s=Lw(i,1,!0,s,l??null,h,p,B,_,x,O,qw),s.context=Mw(null),l=s.current,h=rr(),h=Mn(h),p=Eo(h),p.callback=null,To(l,p,h),l=h,s.current.lanes=l,Wr(s,l),Fs(s),i[Hi]=s.current,Vg(i),new Rd(s)},xh.version="19.2.1",xh}var eE;function uR(){if(eE)return a_.exports;eE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),a_.exports=lR(),a_.exports}var cR=uR();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nE="popstate";function hR(n={}){function t(r,o){let{pathname:u,search:f,hash:g}=r.location;return j_("",{pathname:u,search:f,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){return typeof o=="string"?o:qh(o)}return dR(t,e,null,n)}function Je(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Br(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fR(){return Math.random().toString(36).substring(2,10)}function iE(n,t){return{usr:n.state,key:n.key,idx:t}}function j_(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Cc(t):t,state:e,key:t&&t.key||r||fR()}}function qh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Cc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function dR(n,t,e,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,g="POP",v=null,y=S();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function S(){return(f.state||{idx:null}).idx}function C(){g="POP";let W=S(),ft=W==null?null:W-y;y=W,v&&v({action:g,location:K.location,delta:ft})}function N(W,ft){g="PUSH";let ut=j_(K.location,W,ft);y=S()+1;let st=iE(ut,y),xt=K.createHref(ut);try{f.pushState(st,"",xt)}catch(Mt){if(Mt instanceof DOMException&&Mt.name==="DataCloneError")throw Mt;o.location.assign(xt)}u&&v&&v({action:g,location:K.location,delta:1})}function M(W,ft){g="REPLACE";let ut=j_(K.location,W,ft);y=S();let st=iE(ut,y),xt=K.createHref(ut);f.replaceState(st,"",xt),u&&v&&v({action:g,location:K.location,delta:0})}function $(W){return mR(W)}let K={get action(){return g},get location(){return n(o,f)},listen(W){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(nE,C),v=W,()=>{o.removeEventListener(nE,C),v=null}},createHref(W){return t(o,W)},createURL:$,encodeLocation(W){let ft=$(W);return{pathname:ft.pathname,search:ft.search,hash:ft.hash}},push:N,replace:M,go(W){return f.go(W)}};return K}function mR(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Je(e,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:qh(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function SS(n,t,e="/"){return pR(n,t,e,!1)}function pR(n,t,e,r){let o=typeof t=="string"?Cc(t):t,u=Ua(o.pathname||"/",e);if(u==null)return null;let f=xS(n);gR(f);let g=null;for(let v=0;g==null&&v<f.length;++v){let y=CR(u);g=xR(f[v],y,r)}return g}function xS(n,t=[],e=[],r="",o=!1){let u=(f,g,v=o,y)=>{let S={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(r)&&v)return;Je(S.relativePath.startsWith(r),`Absolute route path "${S.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(r.length)}let C=ja([r,S.relativePath]),N=e.concat(S);f.children&&f.children.length>0&&(Je(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),xS(f.children,t,N,C,v)),!(f.path==null&&!f.index)&&t.push({path:C,score:TR(C,f.index),routesMeta:N})};return n.forEach((f,g)=>{var v;if(f.path===""||!((v=f.path)!=null&&v.includes("?")))u(f,g);else for(let y of AS(f.path))u(f,g,!0,y)}),t}function AS(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,o=e.endsWith("?"),u=e.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=AS(r.join("/")),g=[];return g.push(...f.map(v=>v===""?u:[u,v].join("/"))),o&&g.push(...f),g.map(v=>n.startsWith("/")&&v===""?"/":v)}function gR(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:SR(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var _R=/^:[\w-]+$/,vR=3,yR=2,bR=1,wR=10,ER=-2,rE=n=>n==="*";function TR(n,t){let e=n.split("/"),r=e.length;return e.some(rE)&&(r+=ER),t&&(r+=yR),e.filter(o=>!rE(o)).reduce((o,u)=>o+(_R.test(u)?vR:u===""?bR:wR),r)}function SR(n,t){return n.length===t.length&&n.slice(0,-1).every((r,o)=>r===t[o])?n[n.length-1]-t[t.length-1]:0}function xR(n,t,e=!1){let{routesMeta:r}=n,o={},u="/",f=[];for(let g=0;g<r.length;++g){let v=r[g],y=g===r.length-1,S=u==="/"?t:t.slice(u.length)||"/",C=im({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},S),N=v.route;if(!C&&y&&e&&!r[r.length-1].route.index&&(C=im({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:ja([u,C.pathname]),pathnameBase:PR(ja([u,C.pathnameBase])),route:N}),C.pathnameBase!=="/"&&(u=ja([u,C.pathnameBase]))}return f}function im(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=AR(n.path,n.caseSensitive,n.end),o=t.match(e);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:r.reduce((y,{paramName:S,isOptional:C},N)=>{if(S==="*"){let $=g[N]||"";f=u.slice(0,u.length-$.length).replace(/(.)\/+$/,"$1")}const M=g[N];return C&&!M?y[S]=void 0:y[S]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:n}}function AR(n,t=!1,e=!0){Br(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,v)=>(r.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function CR(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Br(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ua(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}var RR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IR=n=>RR.test(n);function OR(n,t="/"){let{pathname:e,search:r="",hash:o=""}=typeof n=="string"?Cc(n):n,u;if(e)if(IR(e))u=e;else{if(e.includes("//")){let f=e;e=e.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${e}`)}e.startsWith("/")?u=sE(e.substring(1),"/"):u=sE(e,t)}else u=t;return{pathname:u,search:LR(r),hash:MR(o)}}function sE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function c_(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NR(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Rv(n){let t=NR(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function Iv(n,t,e,r=!1){let o;typeof n=="string"?o=Cc(n):(o={...n},Je(!o.pathname||!o.pathname.includes("?"),c_("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),c_("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),c_("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,g;if(f==null)g=e;else{let C=t.length-1;if(!r&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),C-=1;o.pathname=N.join("/")}g=C>=0?t[C]:"/"}let v=OR(o,g),y=f&&f!=="/"&&f.endsWith("/"),S=(u||f===".")&&e.endsWith("/");return!v.pathname.endsWith("/")&&(y||S)&&(v.pathname+="/"),v}var ja=n=>n.join("/").replace(/\/\/+/g,"/"),PR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function DR(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CS=["POST","PUT","PATCH","DELETE"];new Set(CS);var jR=["GET",...CS];new Set(jR);var Rc=Z.createContext(null);Rc.displayName="DataRouter";var zm=Z.createContext(null);zm.displayName="DataRouterState";Z.createContext(!1);var RS=Z.createContext({isTransitioning:!1});RS.displayName="ViewTransition";var VR=Z.createContext(new Map);VR.displayName="Fetchers";var zR=Z.createContext(null);zR.displayName="Await";var Fr=Z.createContext(null);Fr.displayName="Navigation";var rf=Z.createContext(null);rf.displayName="Location";var Hr=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var Ov=Z.createContext(null);Ov.displayName="RouteError";function BR(n,{relative:t}={}){Je(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=Z.useContext(Fr),{hash:o,pathname:u,search:f}=sf(n,{relative:t}),g=u;return e!=="/"&&(g=u==="/"?e:ja([e,u])),r.createHref({pathname:g,search:f,hash:o})}function Ic(){return Z.useContext(rf)!=null}function nl(){return Je(Ic(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(rf).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OS(n){Z.useContext(Fr).static||Z.useLayoutEffect(n)}function su(){let{isDataRoute:n}=Z.useContext(Hr);return n?nI():UR()}function UR(){Je(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(Rc),{basename:t,navigator:e}=Z.useContext(Fr),{matches:r}=Z.useContext(Hr),{pathname:o}=nl(),u=JSON.stringify(Rv(r)),f=Z.useRef(!1);return OS(()=>{f.current=!0}),Z.useCallback((v,y={})=>{if(Br(f.current,IS),!f.current)return;if(typeof v=="number"){e.go(v);return}let S=Iv(v,JSON.parse(u),o,y.relative==="path");n==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:ja([t,S.pathname])),(y.replace?e.replace:e.push)(S,y.state,y)},[t,e,u,o,n])}var FR=Z.createContext(null);function HR(n){let t=Z.useContext(Hr).outlet;return Z.useMemo(()=>t&&Z.createElement(FR.Provider,{value:n},t),[t,n])}function qR(){let{matches:n}=Z.useContext(Hr),t=n[n.length-1];return t?t.params:{}}function sf(n,{relative:t}={}){let{matches:e}=Z.useContext(Hr),{pathname:r}=nl(),o=JSON.stringify(Rv(e));return Z.useMemo(()=>Iv(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function GR(n,t){return NS(n,t)}function NS(n,t,e,r,o){var ut;Je(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Z.useContext(Fr),{matches:f}=Z.useContext(Hr),g=f[f.length-1],v=g?g.params:{},y=g?g.pathname:"/",S=g?g.pathnameBase:"/",C=g&&g.route;{let st=C&&C.path||"";PS(y,!C||st.endsWith("*")||st.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${st}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${st}"> to <Route path="${st==="/"?"*":`${st}/*`}">.`)}let N=nl(),M;if(t){let st=typeof t=="string"?Cc(t):t;Je(S==="/"||((ut=st.pathname)==null?void 0:ut.startsWith(S)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${st.pathname}" was given in the \`location\` prop.`),M=st}else M=N;let $=M.pathname||"/",K=$;if(S!=="/"){let st=S.replace(/^\//,"").split("/");K="/"+$.replace(/^\//,"").split("/").slice(st.length).join("/")}let W=SS(n,{pathname:K});Br(C||W!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Br(W==null||W[W.length-1].route.element!==void 0||W[W.length-1].route.Component!==void 0||W[W.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ft=QR(W&&W.map(st=>Object.assign({},st,{params:Object.assign({},v,st.params),pathname:ja([S,u.encodeLocation?u.encodeLocation(st.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathname]),pathnameBase:st.pathnameBase==="/"?S:ja([S,u.encodeLocation?u.encodeLocation(st.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:st.pathnameBase])})),f,e,r,o);return t&&ft?Z.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ft):ft}function ZR(){let n=eI(),t=kR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:u},"ErrorBoundary")," or"," ",Z.createElement("code",{style:u},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),e?Z.createElement("pre",{style:o},e):null,f)}var WR=Z.createElement(ZR,null),KR=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Z.createElement(Hr.Provider,{value:this.props.routeContext},Z.createElement(Ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YR({routeContext:n,match:t,children:e}){let r=Z.useContext(Rc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Z.createElement(Hr.Provider,{value:n},e)}function QR(n,t=[],e=null,r=null,o=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let u=n,f=e==null?void 0:e.errors;if(f!=null){let S=u.findIndex(C=>C.route.id&&(f==null?void 0:f[C.route.id])!==void 0);Je(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,S+1))}let g=!1,v=-1;if(e)for(let S=0;S<u.length;S++){let C=u[S];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(v=S),C.route.id){let{loaderData:N,errors:M}=e,$=C.route.loader&&!N.hasOwnProperty(C.route.id)&&(!M||M[C.route.id]===void 0);if(C.route.lazy||$){g=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}let y=e&&r?(S,C)=>{var N,M;r(S,{location:e.location,params:((M=(N=e.matches)==null?void 0:N[0])==null?void 0:M.params)??{},unstable_pattern:DR(e.matches),errorInfo:C})}:void 0;return u.reduceRight((S,C,N)=>{let M,$=!1,K=null,W=null;e&&(M=f&&C.route.id?f[C.route.id]:void 0,K=C.route.errorElement||WR,g&&(v<0&&N===0?(PS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),$=!0,W=null):v===N&&($=!0,W=C.route.hydrateFallbackElement||null)));let ft=t.concat(u.slice(0,N+1)),ut=()=>{let st;return M?st=K:$?st=W:C.route.Component?st=Z.createElement(C.route.Component,null):C.route.element?st=C.route.element:st=S,Z.createElement(YR,{match:C,routeContext:{outlet:S,matches:ft,isDataRoute:e!=null},children:st})};return e&&(C.route.ErrorBoundary||C.route.errorElement||N===0)?Z.createElement(KR,{location:e.location,revalidation:e.revalidation,component:K,error:M,children:ut(),routeContext:{outlet:null,matches:ft,isDataRoute:!0},onError:y}):ut()},null)}function Nv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XR(n){let t=Z.useContext(Rc);return Je(t,Nv(n)),t}function $R(n){let t=Z.useContext(zm);return Je(t,Nv(n)),t}function JR(n){let t=Z.useContext(Hr);return Je(t,Nv(n)),t}function Pv(n){let t=JR(n),e=t.matches[t.matches.length-1];return Je(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function tI(){return Pv("useRouteId")}function eI(){var r;let n=Z.useContext(Ov),t=$R("useRouteError"),e=Pv("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[e]}function nI(){let{router:n}=XR("useNavigate"),t=Pv("useNavigate"),e=Z.useRef(!1);return OS(()=>{e.current=!0}),Z.useCallback(async(o,u={})=>{Br(e.current,IS),e.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:t,...u}))},[n,t])}var aE={};function PS(n,t,e){!t&&!aE[n]&&(aE[n]=!0,Br(!1,e))}Z.memo(iI);function iI({routes:n,future:t,state:e,unstable_onError:r}){return NS(n,void 0,e,r,t)}function rI({to:n,replace:t,state:e,relative:r}){Je(Ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Z.useContext(Fr);Br(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Z.useContext(Hr),{pathname:f}=nl(),g=su(),v=Iv(n,Rv(u),f,r==="path"),y=JSON.stringify(v);return Z.useEffect(()=>{g(JSON.parse(y),{replace:t,state:e,relative:r})},[g,y,r,t,e]),null}function sI(n){return HR(n.context)}function Nr(n){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aI({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Je(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),v=Z.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[g,o,u,f]);typeof e=="string"&&(e=Cc(e));let{pathname:y="/",search:S="",hash:C="",state:N=null,key:M="default"}=e,$=Z.useMemo(()=>{let K=Ua(y,g);return K==null?null:{location:{pathname:K,search:S,hash:C,state:N,key:M},navigationType:r}},[g,y,S,C,N,M,r]);return Br($!=null,`<Router basename="${g}"> is not able to match the URL "${y}${S}${C}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:Z.createElement(Fr.Provider,{value:v},Z.createElement(rf.Provider,{children:t,value:$}))}function oI({children:n,location:t}){return GR(V_(n),t)}function V_(n,t=[]){let e=[];return Z.Children.forEach(n,(r,o)=>{if(!Z.isValidElement(r))return;let u=[...t,o];if(r.type===Z.Fragment){e.push.apply(e,V_(r.props.children,u));return}Je(r.type===Nr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=V_(r.props.children,u)),e.push(f)}),e}var Ud="get",Fd="application/x-www-form-urlencoded";function Bm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function lI(n){return Bm(n)&&n.tagName.toLowerCase()==="button"}function uI(n){return Bm(n)&&n.tagName.toLowerCase()==="form"}function cI(n){return Bm(n)&&n.tagName.toLowerCase()==="input"}function hI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fI(n,t){return n.button===0&&(!t||t==="_self")&&!hI(n)}var Od=null;function dI(){if(Od===null)try{new FormData(document.createElement("form"),0),Od=!1}catch{Od=!0}return Od}var mI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h_(n){return n!=null&&!mI.has(n)?(Br(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fd}"`),null):n}function pI(n,t){let e,r,o,u,f;if(uI(n)){let g=n.getAttribute("action");r=g?Ua(g,t):null,e=n.getAttribute("method")||Ud,o=h_(n.getAttribute("enctype"))||Fd,u=new FormData(n)}else if(lI(n)||cI(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||g.getAttribute("action");if(r=v?Ua(v,t):null,e=n.getAttribute("formmethod")||g.getAttribute("method")||Ud,o=h_(n.getAttribute("formenctype"))||h_(g.getAttribute("enctype"))||Fd,u=new FormData(g,n),!dI()){let{name:y,type:S,value:C}=n;if(S==="image"){let N=y?`${y}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else y&&u.append(y,C)}}else{if(Bm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Ud,r=null,o=Fd,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:e.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lv(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function gI(n,t,e){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${e}`:t&&Ua(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${e}`,r}async function _I(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yI(n,t,e){let r=await Promise.all(n.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await _I(u,e);return f.links?f.links():[]}return[]}));return TI(r.flat(1).filter(vI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function oE(n,t,e,r,o,u){let f=(v,y)=>e[y]?v.route.id!==e[y].route.id:!0,g=(v,y)=>{var S;return e[y].pathname!==v.pathname||((S=e[y].route.path)==null?void 0:S.endsWith("*"))&&e[y].params["*"]!==v.params["*"]};return u==="assets"?t.filter((v,y)=>f(v,y)||g(v,y)):u==="data"?t.filter((v,y)=>{var C;let S=r.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(f(v,y)||g(v,y))return!0;if(v.route.shouldRevalidate){let N=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=e[0])==null?void 0:C.params)||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function bI(n,t,{includeHydrateFallback:e}={}){return wI(n.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function wI(n){return[...new Set(n)]}function EI(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function TI(n,t){let e=new Set;return new Set(t),n.reduce((r,o)=>{let u=JSON.stringify(EI(o));return e.has(u)||(e.add(u),r.push({key:u,link:o})),r},[])}function LS(){let n=Z.useContext(Rc);return Lv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SI(){let n=Z.useContext(zm);return Lv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Mv=Z.createContext(void 0);Mv.displayName="FrameworkContext";function MS(){let n=Z.useContext(Mv);return Lv(n,"You must render this element inside a <HydratedRouter> element"),n}function xI(n,t){let e=Z.useContext(Mv),[r,o]=Z.useState(!1),[u,f]=Z.useState(!1),{onFocus:g,onBlur:v,onMouseEnter:y,onMouseLeave:S,onTouchStart:C}=t,N=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let K=ft=>{ft.forEach(ut=>{f(ut.isIntersecting)})},W=new IntersectionObserver(K,{threshold:.5});return N.current&&W.observe(N.current),()=>{W.disconnect()}}},[n]),Z.useEffect(()=>{if(r){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[r]);let M=()=>{o(!0)},$=()=>{o(!1),f(!1)};return e?n!=="intent"?[u,N,{}]:[u,N,{onFocus:Ah(g,M),onBlur:Ah(v,$),onMouseEnter:Ah(y,M),onMouseLeave:Ah(S,$),onTouchStart:Ah(C,M)}]:[!1,N,{}]}function Ah(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function AI({page:n,...t}){let{router:e}=LS(),r=Z.useMemo(()=>SS(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?Z.createElement(RI,{page:n,matches:r,...t}):null}function CI(n){let{manifest:t,routeModules:e}=MS(),[r,o]=Z.useState([]);return Z.useEffect(()=>{let u=!1;return yI(n,t,e).then(f=>{u||o(f)}),()=>{u=!0}},[n,t,e]),r}function RI({page:n,matches:t,...e}){let r=nl(),{manifest:o,routeModules:u}=MS(),{basename:f}=LS(),{loaderData:g,matches:v}=SI(),y=Z.useMemo(()=>oE(n,t,v,o,r,"data"),[n,t,v,o,r]),S=Z.useMemo(()=>oE(n,t,v,o,r,"assets"),[n,t,v,o,r]),C=Z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let $=new Set,K=!1;if(t.forEach(ft=>{var st;let ut=o.routes[ft.route.id];!ut||!ut.hasLoader||(!y.some(xt=>xt.route.id===ft.route.id)&&ft.route.id in g&&((st=u[ft.route.id])!=null&&st.shouldRevalidate)||ut.hasClientLoader?K=!0:$.add(ft.route.id))}),$.size===0)return[];let W=gI(n,f,"data");return K&&$.size>0&&W.searchParams.set("_routes",t.filter(ft=>$.has(ft.route.id)).map(ft=>ft.route.id).join(",")),[W.pathname+W.search]},[f,g,r,o,y,t,n,u]),N=Z.useMemo(()=>bI(S,o),[S,o]),M=CI(S);return Z.createElement(Z.Fragment,null,C.map($=>Z.createElement("link",{key:$,rel:"prefetch",as:"fetch",href:$,...e})),N.map($=>Z.createElement("link",{key:$,rel:"modulepreload",href:$,...e})),M.map(({key:$,link:K})=>Z.createElement("link",{key:$,nonce:e.nonce,...K})))}function II(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var kS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kS&&(window.__reactRouterVersion="7.10.1")}catch{}function OI({basename:n,children:t,unstable_useTransitions:e,window:r}){let o=Z.useRef();o.current==null&&(o.current=hR({window:r,v5Compat:!0}));let u=o.current,[f,g]=Z.useState({action:u.action,location:u.location}),v=Z.useCallback(y=>{e===!1?g(y):Z.startTransition(()=>g(y))},[e]);return Z.useLayoutEffect(()=>u.listen(v),[u,v]),Z.createElement(aI,{basename:n,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:e===!0})}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lr=Z.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:g,target:v,to:y,preventScrollReset:S,viewTransition:C,...N},M){let{basename:$,unstable_useTransitions:K}=Z.useContext(Fr),W=typeof y=="string"&&DS.test(y),ft,ut=!1;if(typeof y=="string"&&W&&(ft=y,kS))try{let q=new URL(window.location.href),F=y.startsWith("//")?new URL(q.protocol+y):new URL(y),U=Ua(F.pathname,$);F.origin===q.origin&&U!=null?y=U+F.search+F.hash:ut=!0}catch{Br(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let st=BR(y,{relative:o}),[xt,Mt,Lt]=xI(r,N),D=LI(y,{replace:f,state:g,target:v,preventScrollReset:S,relative:o,viewTransition:C,unstable_useTransitions:K});function k(q){t&&t(q),q.defaultPrevented||D(q)}let j=Z.createElement("a",{...N,...Lt,href:ft||st,onClick:ut||u?t:k,ref:II(M,Mt),target:v,"data-discover":!W&&e==="render"?"true":void 0});return xt&&!W?Z.createElement(Z.Fragment,null,j,Z.createElement(AI,{page:st})):j});lr.displayName="Link";var us=Z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:g,children:v,...y},S){let C=sf(f,{relative:y.relative}),N=nl(),M=Z.useContext(zm),{navigator:$,basename:K}=Z.useContext(Fr),W=M!=null&&VI(C)&&g===!0,ft=$.encodeLocation?$.encodeLocation(C).pathname:C.pathname,ut=N.pathname,st=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;e||(ut=ut.toLowerCase(),st=st?st.toLowerCase():null,ft=ft.toLowerCase()),st&&K&&(st=Ua(st,K)||st);const xt=ft!=="/"&&ft.endsWith("/")?ft.length-1:ft.length;let Mt=ut===ft||!o&&ut.startsWith(ft)&&ut.charAt(xt)==="/",Lt=st!=null&&(st===ft||!o&&st.startsWith(ft)&&st.charAt(ft.length)==="/"),D={isActive:Mt,isPending:Lt,isTransitioning:W},k=Mt?t:void 0,j;typeof r=="function"?j=r(D):j=[r,Mt?"active":null,Lt?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let q=typeof u=="function"?u(D):u;return Z.createElement(lr,{...y,"aria-current":k,className:j,ref:S,style:q,to:f,viewTransition:g},typeof v=="function"?v(D):v)});us.displayName="NavLink";var NI=Z.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:o,state:u,method:f=Ud,action:g,onSubmit:v,relative:y,preventScrollReset:S,viewTransition:C,...N},M)=>{let{unstable_useTransitions:$}=Z.useContext(Fr),K=DI(),W=jI(g,{relative:y}),ft=f.toLowerCase()==="get"?"get":"post",ut=typeof g=="string"&&DS.test(g),st=xt=>{if(v&&v(xt),xt.defaultPrevented)return;xt.preventDefault();let Mt=xt.nativeEvent.submitter,Lt=(Mt==null?void 0:Mt.getAttribute("formmethod"))||f,D=()=>K(Mt||xt.currentTarget,{fetcherKey:t,method:Lt,navigate:e,replace:o,state:u,relative:y,preventScrollReset:S,viewTransition:C});$&&e!==!1?Z.startTransition(()=>D()):D()};return Z.createElement("form",{ref:M,method:ft,action:W,onSubmit:r?v:st,...N,"data-discover":!ut&&n==="render"?"true":void 0})});NI.displayName="Form";function PI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jS(n){let t=Z.useContext(Rc);return Je(t,PI(n)),t}function LI(n,{target:t,replace:e,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:g}={}){let v=su(),y=nl(),S=sf(n,{relative:u});return Z.useCallback(C=>{if(fI(C,t)){C.preventDefault();let N=e!==void 0?e:qh(y)===qh(S),M=()=>v(n,{replace:N,state:r,preventScrollReset:o,relative:u,viewTransition:f});g?Z.startTransition(()=>M()):M()}},[y,v,S,e,r,t,n,o,u,f,g])}var MI=0,kI=()=>`__${String(++MI)}__`;function DI(){let{router:n}=jS("useSubmit"),{basename:t}=Z.useContext(Fr),e=tI(),r=n.fetch,o=n.navigate;return Z.useCallback(async(u,f={})=>{let{action:g,method:v,encType:y,formData:S,body:C}=pI(u,t);if(f.navigate===!1){let N=f.fetcherKey||kI();await r(N,e,f.action||g,{preventScrollReset:f.preventScrollReset,formData:S,body:C,formMethod:f.method||v,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||g,{preventScrollReset:f.preventScrollReset,formData:S,body:C,formMethod:f.method||v,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:e,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,t,e])}function jI(n,{relative:t}={}){let{basename:e}=Z.useContext(Fr),r=Z.useContext(Hr);Je(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...sf(n||".",{relative:t})},f=nl();if(n==null){u.search=f.search;let g=new URLSearchParams(u.search),v=g.getAll("index");if(v.some(S=>S==="")){g.delete("index"),v.filter(C=>C).forEach(C=>g.append("index",C));let S=g.toString();u.search=S?`?${S}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(u.pathname=u.pathname==="/"?e:ja([e,u.pathname])),qh(u)}function VI(n,{relative:t}={}){let e=Z.useContext(RS);Je(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jS("useViewTransitionState"),o=sf(n,{relative:t});if(!e.isTransitioning)return!1;let u=Ua(e.currentLocation.pathname,r)||e.currentLocation.pathname,f=Ua(e.nextLocation.pathname,r)||e.nextLocation.pathname;return im(o.pathname,f)!=null||im(o.pathname,u)!=null}var VS=TS();const zI=()=>w.jsxs("div",{className:"landing-page",children:[w.jsxs("header",{className:"hero-section",style:{background:"linear-gradient(135deg, var(--ocean-800) 0%, var(--primary-900) 100%)",color:"white",border:"none"},children:[w.jsxs("div",{style:{position:"relative",zIndex:2},children:[w.jsxs("h1",{className:"hero-title",style:{color:"white"},children:["Elektrische mobiliteit",w.jsx("br",{}),"voor iedereen"]}),w.jsx("p",{className:"hero-subtitle",style:{color:"var(--primary-100)"},children:"Slim boeken. Slim rijden. Zero emission. Ervaar de vrijheid van de toekomst."}),w.jsxs(lr,{to:"/request",className:"cta-button",children:["Reis aanvragen ",w.jsx("span",{children:""})]})]}),w.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"600px",height:"600px",background:"radial-gradient(circle, var(--primary-500) 0%, transparent 70%)",opacity:.1,filter:"blur(60px)",zIndex:1}})]}),w.jsxs("section",{className:"features-grid",children:[w.jsxs("div",{className:"feature-card",children:[w.jsx("span",{className:"feature-icon",children:""}),w.jsx("h3",{className:"feature-title",children:"Duurzaam reizen"}),w.jsx("p",{className:"feature-desc",children:"100% elektrische vloot voor een schonere toekomst. Wij zorgen voor de planeet terwijl jij rijdt."})]}),w.jsxs("div",{className:"feature-card",children:[w.jsx("span",{className:"feature-icon",children:""}),w.jsx("h3",{className:"feature-title",children:"Flexibele beschikbaarheid"}),w.jsx("p",{className:"feature-desc",children:"Boek direct een auto in jouw buurt, 24/7. Geen wachttijden, geen gedoe."})]}),w.jsxs("div",{className:"feature-card",children:[w.jsx("span",{className:"feature-icon",children:""}),w.jsx("h3",{className:"feature-title",children:"Laadpunten onderweg"}),w.jsx("p",{className:"feature-desc",children:"Slimme integratie met laadpalen op je route. Altijd opgeladen aankomen."})]})]})]});function Se(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(e.length?" "+e.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var BI={};function Um(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:BI}var zS=Object.assign,rm=Object.getOwnPropertyDescriptor,Ws=Object.defineProperty,Fm=Object.prototype,z_=[];Object.freeze(z_);var BS={};Object.freeze(BS);var UI=typeof Proxy<"u",FI=Object.toString();function US(){UI||Se("Proxy not available")}function FS(n){var t=!1;return function(){if(!t)return t=!0,n.apply(this,arguments)}}var oc=function(){};function ps(n){return typeof n=="function"}function Ql(n){var t=typeof n;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Hm(n){return n!==null&&typeof n=="object"}function Fa(n){if(!Hm(n))return!1;var t=Object.getPrototypeOf(n);if(t==null)return!0;var e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e.toString()===FI}function HS(n){var t=n==null?void 0:n.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function af(n,t,e){Ws(n,t,{enumerable:!1,writable:!0,configurable:!0,value:e})}function qS(n,t,e){Ws(n,t,{enumerable:!1,writable:!1,configurable:!0,value:e})}function au(n,t){var e="isMobX"+n;return t.prototype[e]=!0,function(r){return Hm(r)&&r[e]===!0}}function Oc(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function HI(n){var t=Object.getPrototypeOf(n),e=Object.getPrototypeOf(t),r=Object.getPrototypeOf(e);return r===null}function Na(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var GS=typeof Object.getOwnPropertySymbols<"u";function qI(n){var t=Object.keys(n);if(!GS)return t;var e=Object.getOwnPropertySymbols(n);return e.length?[].concat(t,e.filter(function(r){return Fm.propertyIsEnumerable.call(n,r)})):t}var vc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:GS?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function ZS(n){return n===null?null:typeof n=="object"?""+n:n}function Va(n,t){return Fm.hasOwnProperty.call(n,t)}var GI=Object.getOwnPropertyDescriptors||function(t){var e={};return vc(t).forEach(function(r){e[r]=rm(t,r)}),e};function sr(n,t){return!!(n&t)}function ar(n,t,e){return e?n|=t:n&=~t,n}function lE(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function ZI(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,KI(r.key),r)}}function Nc(n,t,e){return t&&ZI(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function lc(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e)return(e=e.call(n)).next.bind(e);if(Array.isArray(n)||(e=YI(n))||t){e&&(n=e);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Xl.apply(null,arguments)}function WS(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,B_(n,t)}function B_(n,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},B_(n,t)}function WI(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function KI(n){var t=WI(n,"string");return typeof t=="symbol"?t:t+""}function YI(n,t){if(n){if(typeof n=="string")return lE(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?lE(n,t):void 0}}var Gs=Symbol("mobx-stored-annotations");function Ks(n){function t(e,r){if(lf(r))return n.decorate_20223_(e,r);of(e,r,n)}return Object.assign(t,n)}function of(n,t,e){Va(n,Gs)||af(n,Gs,Xl({},n[Gs])),nO(e)||(n[Gs][t]=e)}function QI(n){return Va(n,Gs)||af(n,Gs,Xl({},n[Gs])),n[Gs]}function lf(n){return typeof n=="object"&&typeof n.kind=="string"}var Zt=Symbol("mobx administration"),il=(function(){function n(e){e===void 0&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ie.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=n.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return c1(this)},t.reportChanged=function(){Dr(),h1(this),jr()},t.toString=function(){return this.name_},Nc(n,[{key:"isBeingObserved",get:function(){return sr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=ar(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return sr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=ar(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return sr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ar(this.flags_,n.diffValueMask_,r===1)}}])})();il.isBeingObservedMask_=1;il.isPendingUnobservationMask_=2;il.diffValueMask_=4;var kv=au("Atom",il);function KS(n,t,e){t===void 0&&(t=oc),e===void 0&&(e=oc);var r=new il(n);return t!==oc&&rN(r,t),e!==oc&&_1(r,e),r}function XI(n,t){return O1(n,t)}function $I(n,t){return Object.is?Object.is(n,t):n===t?n!==0||1/n===1/t:n!==n&&t!==t}var sm={structural:XI,default:$I};function $l(n,t,e){return E1(n)?n:Array.isArray(n)?Kn.array(n,{name:e}):Fa(n)?Kn.object(n,void 0,{name:e}):Oc(n)?Kn.map(n,{name:e}):Na(n)?Kn.set(n,{name:e}):typeof n=="function"&&!yc(n)&&!Zh(n)?HS(n)?bc(n):Gh(e,n):n}function JI(n,t,e){if(n==null||Qm(n)||Ym(n)||lu(n)||qs(n))return n;if(Array.isArray(n))return Kn.array(n,{name:e,deep:!1});if(Fa(n))return Kn.object(n,void 0,{name:e,deep:!1});if(Oc(n))return Kn.map(n,{name:e,deep:!1});if(Na(n))return Kn.set(n,{name:e,deep:!1})}function qm(n){return n}function tO(n,t){return O1(n,t)?t:n}var eO="override";function nO(n){return n.annotationType_===eO}function uf(n,t){return{annotationType_:n,options_:t,make_:iO,extend_:rO,decorate_20223_:sO}}function iO(n,t,e,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(n,t,e,!1)===null?0:1;if(r===n.target_)return this.extend_(n,t,e,!1)===null?0:2;if(yc(e.value))return 1;var u=YS(n,this,t,e,!1);return Ws(r,t,u),2}function rO(n,t,e,r){var o=YS(n,this,t,e);return n.defineProperty_(t,o,r)}function sO(n,t){var e=t.kind,r=t.name,o=t.addInitializer,u=this,f=function(y){var S,C,N,M;return Jl((S=(C=u.options_)==null?void 0:C.name)!=null?S:r.toString(),y,(N=(M=u.options_)==null?void 0:M.autoAction)!=null?N:!1)};if(e=="field")return function(v){var y,S=v;return yc(S)||(S=f(S)),(y=u.options_)!=null&&y.bound&&(S=S.bind(this),S.isMobxAction=!0),S};if(e=="method"){var g;return yc(n)||(n=f(n)),(g=this.options_)!=null&&g.bound&&o(function(){var v=this,y=v[r].bind(v);y.isMobxAction=!0,v[r]=y}),n}Se("Cannot apply '"+u.annotationType_+"' to '"+String(r)+"' (kind: "+e+"):"+(`
'`+u.annotationType_+"' can only be used on properties with a function value."))}function aO(n,t,e,r){t.annotationType_,r.value}function YS(n,t,e,r,o){var u,f,g,v,y,S,C;o===void 0&&(o=At.safeDescriptors),aO(n,t,e,r);var N=r.value;if((u=t.options_)!=null&&u.bound){var M;N=N.bind((M=n.proxy_)!=null?M:n.target_)}return{value:Jl((f=(g=t.options_)==null?void 0:g.name)!=null?f:e.toString(),N,(v=(y=t.options_)==null?void 0:y.autoAction)!=null?v:!1,(S=t.options_)!=null&&S.bound?(C=n.proxy_)!=null?C:n.target_:void 0),configurable:o?n.isPlainObject_:!0,enumerable:!1,writable:!o}}function QS(n,t){return{annotationType_:n,options_:t,make_:oO,extend_:lO,decorate_20223_:uO}}function oO(n,t,e,r){var o;if(r===n.target_)return this.extend_(n,t,e,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Va(n.target_,t)||!Zh(n.target_[t]))&&this.extend_(n,t,e,!1)===null)return 0;if(Zh(e.value))return 1;var u=XS(n,this,t,e,!1,!1);return Ws(r,t,u),2}function lO(n,t,e,r){var o,u=XS(n,this,t,e,(o=this.options_)==null?void 0:o.bound);return n.defineProperty_(t,u,r)}function uO(n,t){var e,r=t.name,o=t.addInitializer;return Zh(n)||(n=bc(n)),(e=this.options_)!=null&&e.bound&&o(function(){var u=this,f=u[r].bind(u);f.isMobXFlow=!0,u[r]=f}),n}function cO(n,t,e,r){t.annotationType_,r.value}function XS(n,t,e,r,o,u){u===void 0&&(u=At.safeDescriptors),cO(n,t,e,r);var f=r.value;if(Zh(f)||(f=bc(f)),o){var g;f=f.bind((g=n.proxy_)!=null?g:n.target_),f.isMobXFlow=!0}return{value:f,configurable:u?n.isPlainObject_:!0,enumerable:!1,writable:!u}}function Dv(n,t){return{annotationType_:n,options_:t,make_:hO,extend_:fO,decorate_20223_:dO}}function hO(n,t,e){return this.extend_(n,t,e,!1)===null?0:1}function fO(n,t,e,r){return mO(n,this,t,e),n.defineComputedProperty_(t,Xl({},this.options_,{get:e.get,set:e.set}),r)}function dO(n,t){var e=this,r=t.name,o=t.addInitializer;return o(function(){var u=uu(this)[Zt],f=Xl({},e.options_,{get:n,context:this});f.name||(f.name="ObservableObject."+r.toString()),u.values_.set(r,new gs(f))}),function(){return this[Zt].getObservablePropValue_(r)}}function mO(n,t,e,r){t.annotationType_,r.get}function Gm(n,t){return{annotationType_:n,options_:t,make_:pO,extend_:gO,decorate_20223_:_O}}function pO(n,t,e){return this.extend_(n,t,e,!1)===null?0:1}function gO(n,t,e,r){var o,u;return vO(n,this),n.defineObservableProperty_(t,e.value,(o=(u=this.options_)==null?void 0:u.enhancer)!=null?o:$l,r)}function _O(n,t){var e=this,r=t.kind,o=t.name,u=new WeakSet;function f(g,v){var y,S,C=uu(g)[Zt],N=new Kl(v,(y=(S=e.options_)==null?void 0:S.enhancer)!=null?y:$l,"ObservableObject."+o.toString(),!1);C.values_.set(o,N),u.add(g)}if(r=="accessor")return{get:function(){return u.has(this)||f(this,n.get.call(this)),this[Zt].getObservablePropValue_(o)},set:function(v){return u.has(this)||f(this,v),this[Zt].setObservablePropValue_(o,v)},init:function(v){return u.has(this)||f(this,v),v}}}function vO(n,t,e,r){t.annotationType_}var yO="true",bO=$S();function $S(n){return{annotationType_:yO,options_:n,make_:wO,extend_:EO,decorate_20223_:TO}}function wO(n,t,e,r){var o,u;if(e.get)return Zm.make_(n,t,e,r);if(e.set){var f=yc(e.set)?e.set:Jl(t.toString(),e.set);return r===n.target_?n.defineProperty_(t,{configurable:At.safeDescriptors?n.isPlainObject_:!0,set:f})===null?0:2:(Ws(r,t,{configurable:!0,set:f}),2)}if(r!==n.target_&&typeof e.value=="function"){var g;if(HS(e.value)){var v,y=(v=this.options_)!=null&&v.autoBind?bc.bound:bc;return y.make_(n,t,e,r)}var S=(g=this.options_)!=null&&g.autoBind?Gh.bound:Gh;return S.make_(n,t,e,r)}var C=((o=this.options_)==null?void 0:o.deep)===!1?Kn.ref:Kn;if(typeof e.value=="function"&&(u=this.options_)!=null&&u.autoBind){var N;e.value=e.value.bind((N=n.proxy_)!=null?N:n.target_)}return C.make_(n,t,e,r)}function EO(n,t,e,r){var o,u;if(e.get)return Zm.extend_(n,t,e,r);if(e.set)return n.defineProperty_(t,{configurable:At.safeDescriptors?n.isPlainObject_:!0,set:Jl(t.toString(),e.set)},r);if(typeof e.value=="function"&&(o=this.options_)!=null&&o.autoBind){var f;e.value=e.value.bind((f=n.proxy_)!=null?f:n.target_)}var g=((u=this.options_)==null?void 0:u.deep)===!1?Kn.ref:Kn;return g.extend_(n,t,e,r)}function TO(n,t){Se("'"+this.annotationType_+"' cannot be used as a decorator")}var SO="observable",xO="observable.ref",AO="observable.shallow",CO="observable.struct",JS={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(JS);function Nd(n){return n||JS}var U_=Gm(SO),RO=Gm(xO,{enhancer:qm}),IO=Gm(AO,{enhancer:JI}),OO=Gm(CO,{enhancer:tO}),t1=Ks(U_);function Pd(n){return n.deep===!0?$l:n.deep===!1?qm:PO(n.defaultDecorator)}function NO(n){var t;return n?(t=n.defaultDecorator)!=null?t:$S(n):void 0}function PO(n){var t,e;return n&&(t=(e=n.options_)==null?void 0:e.enhancer)!=null?t:$l}function e1(n,t,e){if(lf(t))return U_.decorate_20223_(n,t);if(Ql(t)){of(n,t,U_);return}return E1(n)?n:Fa(n)?Kn.object(n,t,e):Array.isArray(n)?Kn.array(n,t):Oc(n)?Kn.map(n,t):Na(n)?Kn.set(n,t):typeof n=="object"&&n!==null?n:Kn.box(n,t)}zS(e1,t1);var LO={box:function(t,e){var r=Nd(e);return new Kl(t,Pd(r),r.name,!0,r.equals)},array:function(t,e){var r=Nd(e);return(At.useProxies===!1||r.proxy===!1?RN:vN)(t,Pd(r),r.name)},map:function(t,e){var r=Nd(e);return new S1(t,Pd(r),r.name)},set:function(t,e){var r=Nd(e);return new x1(t,Pd(r),r.name)},object:function(t,e,r){return rl(function(){return y1(At.useProxies===!1||(r==null?void 0:r.proxy)===!1?uu({},r):mN({},r),t,e)})},ref:Ks(RO),shallow:Ks(IO),deep:t1,struct:Ks(OO)},Kn=zS(e1,LO),n1="computed",MO="computed.struct",F_=Dv(n1),kO=Dv(MO,{equals:sm.structural}),Zm=function(t,e){if(lf(e))return F_.decorate_20223_(t,e);if(Ql(e))return of(t,e,F_);if(Fa(t))return Ks(Dv(n1,t));var r=Fa(e)?e:{};return r.get=t,r.name||(r.name=t.name||""),new gs(r)};Object.assign(Zm,F_);Zm.struct=Ks(kO);var uE,cE,am=0,DO=1,jO=(uE=(cE=rm(function(){},"name"))==null?void 0:cE.configurable)!=null?uE:!1,hE={value:"action",configurable:!0,writable:!1,enumerable:!1};function Jl(n,t,e,r){e===void 0&&(e=!1);function o(){return i1(n,e,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},jO&&(hE.value=n,Ws(o,"name",hE)),o}function i1(n,t,e,r,o){var u=VO(n,t);try{return e.apply(r,o)}catch(f){throw u.error_=f,f}finally{zO(u)}}function VO(n,t,e,r){var o=!1,u=0,f=At.trackingDerivation,g=!t||!f;Dr();var v=At.allowStateChanges;g&&(ou(),v=jv(!0));var y=zv(!0),S={runAsAction_:g,prevDerivation_:f,prevAllowStateChanges_:v,prevAllowStateReads_:y,notifySpy_:o,startTime_:u,actionId_:DO++,parentActionId_:am};return am=S.actionId_,S}function zO(n){am!==n.actionId_&&Se(30),am=n.parentActionId_,n.error_!==void 0&&(At.suppressReactionErrors=!0),Vv(n.prevAllowStateChanges_),Dh(n.prevAllowStateReads_),jr(),n.runAsAction_&&za(n.prevDerivation_),At.suppressReactionErrors=!1}function jv(n){var t=At.allowStateChanges;return At.allowStateChanges=n,t}function Vv(n){At.allowStateChanges=n}var Kl=(function(n){function t(r,o,u,f,g){var v;return u===void 0&&(u="ObservableValue"),g===void 0&&(g=sm.default),v=n.call(this,u)||this,v.enhancer=void 0,v.name_=void 0,v.equals=void 0,v.hasUnreportedChange_=!1,v.interceptors_=void 0,v.changeListeners_=void 0,v.value_=void 0,v.dehancer=void 0,v.enhancer=o,v.name_=u,v.equals=g,v.value_=o(r,void 0,u),v}WS(t,n);var e=t.prototype;return e.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==At.UNCHANGED&&this.setNewValue_(o)},e.prepareNewValue_=function(o){if(Lr(this)){var u=Mr(this,{object:this,type:Ys,newValue:o});if(!u)return At.UNCHANGED;o=u.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?At.UNCHANGED:o},e.setNewValue_=function(o){var u=this.value_;this.value_=o,this.reportChanged(),fs(this)&&ds(this,{type:Ys,object:this,newValue:o,oldValue:u})},e.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},e.intercept_=function(o){return cf(this,o)},e.observe_=function(o,u){return u&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Ys,newValue:this.value_,oldValue:void 0}),hf(this,o)},e.raw=function(){return this.value_},e.toJSON=function(){return this.get()},e.toString=function(){return this.name_+"["+this.value_+"]"},e.valueOf=function(){return ZS(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},t})(il),gs=(function(){function n(e){this.dependenciesState_=Ie.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ie.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new lm(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=om.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||Se(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Jl("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?sm.structural:sm.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=n.prototype;return t.onBecomeStale_=function(){qO(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Se(32,this.name_,this.derivation),At.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)H_(this)&&(this.warnAboutUntrackedRead_(),Dr(),this.value_=this.computeValue_(!1),jr());else if(c1(this),H_(this)){var r=At.trackingContext;this.keepAlive_&&!r&&(At.trackingContext=this),this.trackAndCompute()&&HO(this),At.trackingContext=r}var o=this.value_;if(Hd(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&Se(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Se(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===Ie.NOT_TRACKING_,u=this.computeValue_(!0),f=o||Hd(r)||Hd(u)||!this.equals_(r,u);return f&&(this.value_=u),f},t.computeValue_=function(r){this.isComputing=!0;var o=jv(!1),u;if(r)u=r1(this,this.derivation,this.scope_);else if(At.disableErrorBoundaries===!0)u=this.derivation.call(this.scope_);else try{u=this.derivation.call(this.scope_)}catch(f){u=new lm(f)}return Vv(o),this.isComputing=!1,u},t.suspend_=function(){this.keepAlive_||(q_(this),this.value_=void 0)},t.observe_=function(r,o){var u=this,f=!0,g=void 0;return JO(function(){var v=u.get();if(!f||o){var y=ou();r({observableKind:"computed",debugObjectName:u.name_,type:Ys,object:u,newValue:v,oldValue:g}),za(y)}f=!1,g=v})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return ZS(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Nc(n,[{key:"isComputing",get:function(){return sr(this.flags_,n.isComputingMask_)},set:function(r){this.flags_=ar(this.flags_,n.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return sr(this.flags_,n.isRunningSetterMask_)},set:function(r){this.flags_=ar(this.flags_,n.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return sr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=ar(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return sr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=ar(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return sr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ar(this.flags_,n.diffValueMask_,r===1)}}])})();gs.isComputingMask_=1;gs.isRunningSetterMask_=2;gs.isBeingObservedMask_=4;gs.isPendingUnobservationMask_=8;gs.diffValueMask_=16;var Wm=au("ComputedValue",gs),Ie;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(Ie||(Ie={}));var om;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(om||(om={}));var lm=function(t){this.cause=void 0,this.cause=t};function Hd(n){return n instanceof lm}function H_(n){switch(n.dependenciesState_){case Ie.UP_TO_DATE_:return!1;case Ie.NOT_TRACKING_:case Ie.STALE_:return!0;case Ie.POSSIBLY_STALE_:{for(var t=zv(!0),e=ou(),r=n.observing_,o=r.length,u=0;u<o;u++){var f=r[u];if(Wm(f)){if(At.disableErrorBoundaries)f.get();else try{f.get()}catch{return za(e),Dh(t),!0}if(n.dependenciesState_===Ie.STALE_)return za(e),Dh(t),!0}}return a1(n),za(e),Dh(t),!1}}}function r1(n,t,e){var r=zv(!0);a1(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++At.runId;var o=At.trackingDerivation;At.trackingDerivation=n,At.inBatch++;var u;if(At.disableErrorBoundaries===!0)u=t.call(e);else try{u=t.call(e)}catch(f){u=new lm(f)}return At.inBatch--,At.trackingDerivation=o,BO(n),Dh(r),u}function BO(n){for(var t=n.observing_,e=n.observing_=n.newObserving_,r=Ie.UP_TO_DATE_,o=0,u=n.unboundDepsCount_,f=0;f<u;f++){var g=e[f];g.diffValue===0&&(g.diffValue=1,o!==f&&(e[o]=g),o++),g.dependenciesState_>r&&(r=g.dependenciesState_)}for(e.length=o,n.newObserving_=null,u=t.length;u--;){var v=t[u];v.diffValue===0&&l1(v,n),v.diffValue=0}for(;o--;){var y=e[o];y.diffValue===1&&(y.diffValue=0,FO(y,n))}r!==Ie.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function q_(n){var t=n.observing_;n.observing_=[];for(var e=t.length;e--;)l1(t[e],n);n.dependenciesState_=Ie.NOT_TRACKING_}function s1(n){var t=ou();try{return n()}finally{za(t)}}function ou(){var n=At.trackingDerivation;return At.trackingDerivation=null,n}function za(n){At.trackingDerivation=n}function zv(n){var t=At.allowStateReads;return At.allowStateReads=n,t}function Dh(n){At.allowStateReads=n}function a1(n){if(n.dependenciesState_!==Ie.UP_TO_DATE_){n.dependenciesState_=Ie.UP_TO_DATE_;for(var t=n.observing_,e=t.length;e--;)t[e].lowestObserverState_=Ie.UP_TO_DATE_}}var qd=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Gd=!0,o1=!1,At=(function(){var n=Um();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(Gd=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new qd().version&&(Gd=!1),Gd?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new qd):(setTimeout(function(){o1||Se(35)},1),new qd)})();function UO(){if((At.pendingReactions.length||At.inBatch||At.isRunningReactions)&&Se(36),o1=!0,Gd){var n=Um();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),At=new qd}}function FO(n,t){n.observers_.add(t),n.lowestObserverState_>t.dependenciesState_&&(n.lowestObserverState_=t.dependenciesState_)}function l1(n,t){n.observers_.delete(t),n.observers_.size===0&&u1(n)}function u1(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,At.pendingUnobservations.push(n))}function Dr(){At.inBatch++}function jr(){if(--At.inBatch===0){f1();for(var n=At.pendingUnobservations,t=0;t<n.length;t++){var e=n[t];e.isPendingUnobservation=!1,e.observers_.size===0&&(e.isBeingObserved&&(e.isBeingObserved=!1,e.onBUO()),e instanceof gs&&e.suspend_())}At.pendingUnobservations=[]}}function c1(n){var t=At.trackingDerivation;return t!==null?(t.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=n,!n.isBeingObserved&&At.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&At.inBatch>0&&u1(n),!1)}function h1(n){n.lowestObserverState_!==Ie.STALE_&&(n.lowestObserverState_=Ie.STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Ie.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Ie.STALE_}))}function HO(n){n.lowestObserverState_!==Ie.STALE_&&(n.lowestObserverState_=Ie.STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Ie.POSSIBLY_STALE_?t.dependenciesState_=Ie.STALE_:t.dependenciesState_===Ie.UP_TO_DATE_&&(n.lowestObserverState_=Ie.UP_TO_DATE_)}))}function qO(n){n.lowestObserverState_===Ie.UP_TO_DATE_&&(n.lowestObserverState_=Ie.POSSIBLY_STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Ie.UP_TO_DATE_&&(t.dependenciesState_=Ie.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Ha=(function(){function n(e,r,o,u){e===void 0&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ie.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=om.NONE,this.name_=e,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=u}var t=n.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,At.pendingReactions.push(this),f1())},t.runReaction_=function(){if(!this.isDisposed){Dr(),this.isScheduled=!1;var r=At.trackingContext;if(At.trackingContext=this,H_(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}At.trackingContext=r,jr()}},t.track=function(r){if(!this.isDisposed){Dr(),this.isRunning=!0;var o=At.trackingContext;At.trackingContext=this;var u=r1(this,r,void 0);At.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&q_(this),Hd(u)&&this.reportExceptionInDerivation_(u.cause),jr()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(At.disableErrorBoundaries)throw r;var u="[mobx] uncaught error in '"+this+"'";At.suppressReactionErrors||console.error(u,r),At.globalReactionErrorHandlers.forEach(function(f){return f(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Dr(),q_(this),jr()))},t.getDisposer_=function(r){var o=this,u=function f(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",f)};return r==null||r.addEventListener==null||r.addEventListener("abort",u),u[Zt]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(u[Symbol.dispose]=u),u},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Nc(n,[{key:"isDisposed",get:function(){return sr(this.flags_,n.isDisposedMask_)},set:function(r){this.flags_=ar(this.flags_,n.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return sr(this.flags_,n.isScheduledMask_)},set:function(r){this.flags_=ar(this.flags_,n.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return sr(this.flags_,n.isTrackPendingMask_)},set:function(r){this.flags_=ar(this.flags_,n.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return sr(this.flags_,n.isRunningMask_)},set:function(r){this.flags_=ar(this.flags_,n.isRunningMask_,r)}},{key:"diffValue",get:function(){return sr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ar(this.flags_,n.diffValueMask_,r===1)}}])})();Ha.isDisposedMask_=1;Ha.isScheduledMask_=2;Ha.isTrackPendingMask_=4;Ha.isRunningMask_=8;Ha.diffValueMask_=16;var GO=100,G_=function(t){return t()};function f1(){At.inBatch>0||At.isRunningReactions||G_(ZO)}function ZO(){At.isRunningReactions=!0;for(var n=At.pendingReactions,t=0;n.length>0;){++t===GO&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var e=n.splice(0),r=0,o=e.length;r<o;r++)e[r].runReaction_()}At.isRunningReactions=!1}var um=au("Reaction",Ha);function WO(n){var t=G_;G_=function(r){return n(function(){return t(r)})}}function jh(){return!1}function KO(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var d1="action",YO="action.bound",m1="autoAction",QO="autoAction.bound",p1="<unnamed action>",Z_=uf(d1),XO=uf(YO,{bound:!0}),W_=uf(m1,{autoAction:!0}),$O=uf(QO,{autoAction:!0,bound:!0});function g1(n){var t=function(r,o){if(ps(r))return Jl(r.name||p1,r,n);if(ps(o))return Jl(r,o,n);if(lf(o))return(n?W_:Z_).decorate_20223_(r,o);if(Ql(o))return of(r,o,n?W_:Z_);if(Ql(r))return Ks(uf(n?m1:d1,{name:r,autoAction:n}))};return t}var uc=g1(!1);Object.assign(uc,Z_);var Gh=g1(!0);Object.assign(Gh,W_);uc.bound=Ks(XO);Gh.bound=Ks($O);function Qt(n){return i1(n.name||p1,!1,n,this,void 0)}function yc(n){return ps(n)&&n.isMobxAction===!0}function JO(n,t){var e,r,o,u;t===void 0&&(t=BS);var f=(e=(r=t)==null?void 0:r.name)!=null?e:"Autorun",g=!t.scheduler&&!t.delay,v;if(g)v=new Ha(f,function(){this.track(C)},t.onError,t.requiresObservable);else{var y=eN(t),S=!1;v=new Ha(f,function(){S||(S=!0,y(function(){S=!1,v.isDisposed||v.track(C)}))},t.onError,t.requiresObservable)}function C(){n(v)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||v.schedule_(),v.getDisposer_((u=t)==null?void 0:u.signal)}var tN=function(t){return t()};function eN(n){return n.scheduler?n.scheduler:n.delay?function(t){return setTimeout(t,n.delay)}:tN}var nN="onBO",iN="onBUO";function rN(n,t,e){return v1(nN,n,t,e)}function _1(n,t,e){return v1(iN,n,t,e)}function v1(n,t,e,r){var o=fm(t),u=ps(r)?r:e,f=n+"L";return o[f]?o[f].add(u):o[f]=new Set([u]),function(){var g=o[f];g&&(g.delete(u),g.size===0&&delete o[f])}}var sN="never",Ld="always",aN="observed";function oN(n){n.isolateGlobalState===!0&&UO();var t=n.useProxies,e=n.enforceActions;if(t!==void 0&&(At.useProxies=t===Ld?!0:t===sN?!1:typeof Proxy<"u"),t==="ifavailable"&&(At.verifyProxies=!0),e!==void 0){var r=e===Ld?Ld:e===aN;At.enforceActions=r,At.allowStateChanges=!(r===!0||r===Ld)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in n&&(At[o]=!!n[o])}),At.allowStateReads=!At.observableRequiresReaction,n.reactionScheduler&&WO(n.reactionScheduler)}function y1(n,t,e,r){var o=GI(t);return rl(function(){var u=uu(n,r)[Zt];vc(o).forEach(function(f){u.extend_(f,o[f],e&&f in e?e[f]:!0)})}),n}function lN(n,t){return b1(fm(n,t))}function b1(n){var t={name:n.name_};return n.observing_&&n.observing_.length>0&&(t.dependencies=uN(n.observing_).map(b1)),t}function uN(n){return Array.from(new Set(n))}var cN=0;function w1(){this.message="FLOW_CANCELLED"}w1.prototype=Object.create(Error.prototype);var f_=QS("flow"),hN=QS("flow.bound",{bound:!0}),bc=Object.assign(function(t,e){if(lf(e))return f_.decorate_20223_(t,e);if(Ql(e))return of(t,e,f_);var r=t,o=r.name||"<unnamed flow>",u=function(){var g=this,v=arguments,y=++cN,S=uc(o+" - runid: "+y+" - init",r).apply(g,v),C,N=void 0,M=new Promise(function($,K){var W=0;C=K;function ft(xt){N=void 0;var Mt;try{Mt=uc(o+" - runid: "+y+" - yield "+W++,S.next).call(S,xt)}catch(Lt){return K(Lt)}st(Mt)}function ut(xt){N=void 0;var Mt;try{Mt=uc(o+" - runid: "+y+" - yield "+W++,S.throw).call(S,xt)}catch(Lt){return K(Lt)}st(Mt)}function st(xt){if(ps(xt==null?void 0:xt.then)){xt.then(st,K);return}return xt.done?$(xt.value):(N=Promise.resolve(xt.value),N.then(ft,ut))}ft(void 0)});return M.cancel=uc(o+" - runid: "+y+" - cancel",function(){try{N&&fE(N);var $=S.return(void 0),K=Promise.resolve($.value);K.then(oc,oc),fE(K),C(new w1)}catch(W){C(W)}}),M};return u.isMobXFlow=!0,u},f_);bc.bound=Ks(hN);function fE(n){ps(n.cancel)&&n.cancel()}function Zh(n){return(n==null?void 0:n.isMobXFlow)===!0}function fN(n,t){return n?Qm(n)||!!n[Zt]||kv(n)||um(n)||Wm(n):!1}function E1(n){return fN(n)}function Pa(n,t){t===void 0&&(t=void 0),Dr();try{return n.apply(t)}finally{jr()}}function tc(n){return n[Zt]}var dN={has:function(t,e){return tc(t).has_(e)},get:function(t,e){return tc(t).get_(e)},set:function(t,e,r){var o;return Ql(e)?(o=tc(t).set_(e,r,!0))!=null?o:!0:!1},deleteProperty:function(t,e){var r;return Ql(e)?(r=tc(t).delete_(e,!0))!=null?r:!0:!1},defineProperty:function(t,e,r){var o;return(o=tc(t).defineProperty_(e,r))!=null?o:!0},ownKeys:function(t){return tc(t).ownKeys_()},preventExtensions:function(t){Se(13)}};function mN(n,t){var e,r;return US(),n=uu(n,t),(r=(e=n[Zt]).proxy_)!=null?r:e.proxy_=new Proxy(n,dN)}function Lr(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function cf(n,t){var e=n.interceptors_||(n.interceptors_=[]);return e.push(t),FS(function(){var r=e.indexOf(t);r!==-1&&e.splice(r,1)})}function Mr(n,t){var e=ou();try{for(var r=[].concat(n.interceptors_||[]),o=0,u=r.length;o<u&&(t=r[o](t),t&&!t.type&&Se(14),!!t);o++);return t}finally{za(e)}}function fs(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function hf(n,t){var e=n.changeListeners_||(n.changeListeners_=[]);return e.push(t),FS(function(){var r=e.indexOf(t);r!==-1&&e.splice(r,1)})}function ds(n,t){var e=ou(),r=n.changeListeners_;if(r){r=r.slice();for(var o=0,u=r.length;o<u;o++)r[o](t);za(e)}}function pN(n,t,e){return rl(function(){var r,o=uu(n,e)[Zt];(r=t)!=null||(t=QI(n)),vc(t).forEach(function(u){return o.make_(u,t[u])})}),n}var d_=Symbol("mobx-keys");function Km(n,t,e){return Fa(n)?y1(n,n,t,e):(rl(function(){var r=uu(n,e)[Zt];if(!n[d_]){var o=Object.getPrototypeOf(n),u=new Set([].concat(vc(n),vc(o)));u.delete("constructor"),u.delete(Zt),af(o,d_,u)}n[d_].forEach(function(f){return r.make_(f,t&&f in t?t[f]:!0)})}),n)}var dE="splice",Ys="update",gN=1e4,_N={get:function(t,e){var r=t[Zt];return e===Zt?r:e==="length"?r.getArrayLength_():typeof e=="string"&&!isNaN(e)?r.get_(parseInt(e)):Va(cm,e)?cm[e]:t[e]},set:function(t,e,r){var o=t[Zt];return e==="length"&&o.setArrayLength_(r),typeof e=="symbol"||isNaN(e)?t[e]=r:o.set_(parseInt(e),r),!0},preventExtensions:function(){Se(15)}},Bv=(function(){function n(e,r,o,u){e===void 0&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=u,this.atom_=new il(e),this.enhancer_=function(f,g){return r(f,g,"ObservableArray[..]")}}var t=n.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return cf(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),hf(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Se("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var u=new Array(r-o),f=0;f<r-o;f++)u[f]=void 0;this.spliceWithArray_(o,0,u)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&Se(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&I1(r+o+1)},t.spliceWithArray_=function(r,o,u){var f=this;this.atom_;var g=this.values_.length;if(r===void 0?r=0:r>g?r=g:r<0&&(r=Math.max(0,g+r)),arguments.length===1?o=g-r:o==null?o=0:o=Math.max(0,Math.min(o,g-r)),u===void 0&&(u=z_),Lr(this)){var v=Mr(this,{object:this.proxy_,type:dE,index:r,removedCount:o,added:u});if(!v)return z_;o=v.removedCount,u=v.added}if(u=u.length===0?u:u.map(function(C){return f.enhancer_(C,void 0)}),this.legacyMode_){var y=u.length-o;this.updateArrayLength_(g,y)}var S=this.spliceItemsIntoValues_(r,o,u);return(o!==0||u.length!==0)&&this.notifyArraySplice_(r,u,S),this.dehanceValues_(S)},t.spliceItemsIntoValues_=function(r,o,u){if(u.length<gN){var f;return(f=this.values_).splice.apply(f,[r,o].concat(u))}else{var g=this.values_.slice(r,r+o),v=this.values_.slice(r+o);this.values_.length+=u.length-o;for(var y=0;y<u.length;y++)this.values_[r+y]=u[y];for(var S=0;S<v.length;S++)this.values_[r+u.length+S]=v[S];return g}},t.notifyArrayChildUpdate_=function(r,o,u){var f=!this.owned_&&jh(),g=fs(this),v=g||f?{observableKind:"array",object:this.proxy_,type:Ys,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:u}:null;this.atom_.reportChanged(),g&&ds(this,v)},t.notifyArraySplice_=function(r,o,u){var f=!this.owned_&&jh(),g=fs(this),v=g||f?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:dE,index:r,removed:u,added:o,removedCount:u.length,addedCount:o.length}:null;this.atom_.reportChanged(),g&&ds(this,v)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var u=this.values_;if(this.legacyMode_&&r>u.length&&Se(17,r,u.length),r<u.length){this.atom_;var f=u[r];if(Lr(this)){var g=Mr(this,{type:Ys,object:this.proxy_,index:r,newValue:o});if(!g)return;o=g.newValue}o=this.enhancer_(o,f);var v=o!==f;v&&(u[r]=o,this.notifyArrayChildUpdate_(r,o,f))}else{for(var y=new Array(r+1-u.length),S=0;S<y.length-1;S++)y[S]=void 0;y[y.length-1]=o,this.spliceWithArray_(u.length,0,y)}},n})();function vN(n,t,e,r){return e===void 0&&(e="ObservableArray"),r===void 0&&(r=!1),US(),rl(function(){var o=new Bv(e,t,r,!1);qS(o.values_,Zt,o);var u=new Proxy(o.values_,_N);return o.proxy_=u,n&&n.length&&o.spliceWithArray_(0,0,n),u})}var cm={clear:function(){return this.splice(0)},replace:function(t){var e=this[Zt];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var f=this[Zt];switch(arguments.length){case 0:return[];case 1:return f.spliceWithArray_(t);case 2:return f.spliceWithArray_(t,e)}return f.spliceWithArray_(t,e,o)},spliceWithArray:function(t,e,r){return this[Zt].spliceWithArray_(t,e,r)},push:function(){for(var t=this[Zt],e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Zt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Zt],e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return At.trackingDerivation&&Se(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){At.trackingDerivation&&Se(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[Zt],r=e.dehanceValues_(e.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Ge("at",cr);Ge("concat",cr);Ge("flat",cr);Ge("includes",cr);Ge("indexOf",cr);Ge("join",cr);Ge("lastIndexOf",cr);Ge("slice",cr);Ge("toString",cr);Ge("toLocaleString",cr);Ge("toSorted",cr);Ge("toSpliced",cr);Ge("with",cr);Ge("every",bs);Ge("filter",bs);Ge("find",bs);Ge("findIndex",bs);Ge("findLast",bs);Ge("findLastIndex",bs);Ge("flatMap",bs);Ge("forEach",bs);Ge("map",bs);Ge("some",bs);Ge("toReversed",bs);Ge("reduce",T1);Ge("reduceRight",T1);function Ge(n,t){typeof Array.prototype[n]=="function"&&(cm[n]=t(n))}function cr(n){return function(){var t=this[Zt];t.atom_.reportObserved();var e=t.dehanceValues_(t.values_);return e[n].apply(e,arguments)}}function bs(n){return function(t,e){var r=this,o=this[Zt];o.atom_.reportObserved();var u=o.dehanceValues_(o.values_);return u[n](function(f,g){return t.call(e,f,g,r)})}}function T1(n){return function(){var t=this,e=this[Zt];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_),o=arguments[0];return arguments[0]=function(u,f,g){return o(u,f,g,t)},r[n].apply(r,arguments)}}var yN=au("ObservableArrayAdministration",Bv);function Ym(n){return Hm(n)&&yN(n[Zt])}var bN={},Ho="add",hm="delete",S1=(function(){function n(e,r,o){var u=this;r===void 0&&(r=$l),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Zt]=bN,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,ps(Map)||Se(18),rl(function(){u.keysAtom_=KS("ObservableMap.keys()"),u.data_=new Map,u.hasMap_=new Map,e&&u.merge(e)})}var t=n.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!At.trackingDerivation)return this.has_(r);var u=this.hasMap_.get(r);if(!u){var f=u=new Kl(this.has_(r),qm,"ObservableMap.key?",!1);this.hasMap_.set(r,f),_1(f,function(){return o.hasMap_.delete(r)})}return u.get()},t.set=function(r,o){var u=this.has_(r);if(Lr(this)){var f=Mr(this,{type:u?Ys:Ho,object:this,newValue:o,name:r});if(!f)return this;o=f.newValue}return u?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,Lr(this)){var u=Mr(this,{type:hm,object:this,name:r});if(!u)return!1}if(this.has_(r)){var f=jh(),g=fs(this),v=g||f?{observableKind:"map",debugObjectName:this.name_,type:hm,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Pa(function(){var y;o.keysAtom_.reportChanged(),(y=o.hasMap_.get(r))==null||y.setNewValue_(!1);var S=o.data_.get(r);S.setNewValue_(void 0),o.data_.delete(r)}),g&&ds(this,v),!0}return!1},t.updateValue_=function(r,o){var u=this.data_.get(r);if(o=u.prepareNewValue_(o),o!==At.UNCHANGED){var f=jh(),g=fs(this),v=g||f?{observableKind:"map",debugObjectName:this.name_,type:Ys,object:this,oldValue:u.value_,name:r,newValue:o}:null;u.setNewValue_(o),g&&ds(this,v)}},t.addValue_=function(r,o){var u=this;this.keysAtom_,Pa(function(){var y,S=new Kl(o,u.enhancer_,"ObservableMap.key",!1);u.data_.set(r,S),o=S.value_,(y=u.hasMap_.get(r))==null||y.setNewValue_(!0),u.keysAtom_.reportChanged()});var f=jh(),g=fs(this),v=g||f?{observableKind:"map",debugObjectName:this.name_,type:Ho,object:this,name:r,newValue:o}:null;g&&ds(this,v)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return mE({next:function(){var f=o.next(),g=f.done,v=f.value;return{done:g,value:g?void 0:r.get(v)}}})},t.entries=function(){var r=this,o=this.keys();return mE({next:function(){var f=o.next(),g=f.done,v=f.value;return{done:g,value:g?void 0:[v,r.get(v)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var u=lc(this),f;!(f=u()).done;){var g=f.value,v=g[0],y=g[1];r.call(o,y,v,this)}},t.merge=function(r){var o=this;return lu(r)&&(r=new Map(r)),Pa(function(){Fa(r)?qI(r).forEach(function(u){return o.set(u,r[u])}):Array.isArray(r)?r.forEach(function(u){var f=u[0],g=u[1];return o.set(f,g)}):Oc(r)?(HI(r)||Se(19,r),r.forEach(function(u,f){return o.set(f,u)})):r!=null&&Se(20,r)}),this},t.clear=function(){var r=this;Pa(function(){s1(function(){for(var o=lc(r.keys()),u;!(u=o()).done;){var f=u.value;r.delete(f)}})})},t.replace=function(r){var o=this;return Pa(function(){for(var u=wN(r),f=new Map,g=!1,v=lc(o.data_.keys()),y;!(y=v()).done;){var S=y.value;if(!u.has(S)){var C=o.delete(S);if(C)g=!0;else{var N=o.data_.get(S);f.set(S,N)}}}for(var M=lc(u.entries()),$;!($=M()).done;){var K=$.value,W=K[0],ft=K[1],ut=o.data_.has(W);if(o.set(W,ft),o.data_.has(W)){var st=o.data_.get(W);f.set(W,st),ut||(g=!0)}}if(!g)if(o.data_.size!==f.size)o.keysAtom_.reportChanged();else for(var xt=o.data_.keys(),Mt=f.keys(),Lt=xt.next(),D=Mt.next();!Lt.done;){if(Lt.value!==D.value){o.keysAtom_.reportChanged();break}Lt=xt.next(),D=Mt.next()}o.data_=f}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return hf(this,r)},t.intercept_=function(r){return cf(this,r)},Nc(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),lu=au("ObservableMap",S1);function mE(n){return n[Symbol.toStringTag]="MapIterator",Fv(n)}function wN(n){if(Oc(n)||lu(n))return n;if(Array.isArray(n))return new Map(n);if(Fa(n)){var t=new Map;for(var e in n)t.set(e,n[e]);return t}else return Se(21,n)}var EN={},x1=(function(){function n(e,r,o){var u=this;r===void 0&&(r=$l),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[Zt]=EN,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,ps(Set)||Se(22),this.enhancer_=function(f,g){return r(f,g,o)},rl(function(){u.atom_=KS(u.name_),e&&u.replace(e)})}var t=n.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Pa(function(){s1(function(){for(var o=lc(r.data_.values()),u;!(u=o()).done;){var f=u.value;r.delete(f)}})})},t.forEach=function(r,o){for(var u=lc(this),f;!(f=u()).done;){var g=f.value;r.call(o,g,g,this)}},t.add=function(r){var o=this;if(this.atom_,Lr(this)){var u=Mr(this,{type:Ho,object:this,newValue:r});if(!u)return this;r=u.newValue}if(!this.has(r)){Pa(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var f=!1,g=fs(this),v=g||f?{observableKind:"set",debugObjectName:this.name_,type:Ho,object:this,newValue:r}:null;g&&ds(this,v)}return this},t.delete=function(r){var o=this;if(Lr(this)){var u=Mr(this,{type:hm,object:this,oldValue:r});if(!u)return!1}if(this.has(r)){var f=!1,g=fs(this),v=g||f?{observableKind:"set",debugObjectName:this.name_,type:hm,object:this,oldValue:r}:null;return Pa(function(){o.atom_.reportChanged(),o.data_.delete(r)}),g&&ds(this,v),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return pE({next:function(){var u=r.next(),f=u.value,g=u.done;return g?{value:void 0,done:g}:{value:[f,f],done:g}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=this.data_.values();return pE({next:function(){var f=o.next(),g=f.value,v=f.done;return v?{value:void 0,done:v}:{value:r.dehanceValue_(g),done:v}}})},t.intersection=function(r){if(Na(r)&&!qs(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(Na(r)&&!qs(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Na(r)&&!qs(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Na(r)&&!qs(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return qs(r)&&(r=new Set(r)),Pa(function(){Array.isArray(r)?(o.clear(),r.forEach(function(u){return o.add(u)})):Na(r)?(o.clear(),r.forEach(function(u){return o.add(u)})):r!=null&&Se("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return hf(this,r)},t.intercept_=function(r){return cf(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Nc(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),qs=au("ObservableSet",x1);function pE(n){return n[Symbol.toStringTag]="SetIterator",Fv(n)}var gE=Object.create(null),_E="remove",A1=(function(){function n(e,r,o,u){r===void 0&&(r=new Map),u===void 0&&(u=bO),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=r,this.name_=o,this.defaultAnnotation_=u,this.keysAtom_=new il("ObservableObject.keys"),this.isPlainObject_=Fa(this.target_)}var t=n.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var u=this.values_.get(r);if(u instanceof gs)return u.set(o),!0;if(Lr(this)){var f=Mr(this,{type:Ys,object:this.proxy_||this.target_,name:r,newValue:o});if(!f)return null;o=f.newValue}if(o=u.prepareNewValue_(o),o!==At.UNCHANGED){var g=fs(this),v=!1,y=g||v?{type:Ys,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:u.value_,name:r,newValue:o}:null;u.setNewValue_(o),g&&ds(this,y)}return!0},t.get_=function(r){return At.trackingDerivation&&!Va(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,u){return u===void 0&&(u=!1),Va(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):u?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,u)},t.has_=function(r){if(!At.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Kl(r in this.target_,qm,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var u;if((u=this.target_[Gs])!=null&&u[r])return;Se(1,o.annotationType_,this.name_+"."+r.toString())}for(var f=this.target_;f&&f!==Fm;){var g=rm(f,r);if(g){var v=o.make_(this,r,g,f);if(v===0)return;if(v===1)break}f=Object.getPrototypeOf(f)}yE(this,o,r)}},t.extend_=function(r,o,u,f){if(f===void 0&&(f=!1),u===!0&&(u=this.defaultAnnotation_),u===!1)return this.defineProperty_(r,o,f);var g=u.extend_(this,r,o,f);return g&&yE(this,u,r),g},t.defineProperty_=function(r,o,u){u===void 0&&(u=!1),this.keysAtom_;try{Dr();var f=this.delete_(r);if(!f)return f;if(Lr(this)){var g=Mr(this,{object:this.proxy_||this.target_,name:r,type:Ho,newValue:o.value});if(!g)return null;var v=g.newValue;o.value!==v&&(o=Xl({},o,{value:v}))}if(u){if(!Reflect.defineProperty(this.target_,r,o))return!1}else Ws(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{jr()}return!0},t.defineObservableProperty_=function(r,o,u,f){f===void 0&&(f=!1),this.keysAtom_;try{Dr();var g=this.delete_(r);if(!g)return g;if(Lr(this)){var v=Mr(this,{object:this.proxy_||this.target_,name:r,type:Ho,newValue:o});if(!v)return null;o=v.newValue}var y=vE(r),S={configurable:At.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:y.get,set:y.set};if(f){if(!Reflect.defineProperty(this.target_,r,S))return!1}else Ws(this.target_,r,S);var C=new Kl(o,u,"ObservableObject.key",!1);this.values_.set(r,C),this.notifyPropertyAddition_(r,C.value_)}finally{jr()}return!0},t.defineComputedProperty_=function(r,o,u){u===void 0&&(u=!1),this.keysAtom_;try{Dr();var f=this.delete_(r);if(!f)return f;if(Lr(this)){var g=Mr(this,{object:this.proxy_||this.target_,name:r,type:Ho,newValue:void 0});if(!g)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var v=vE(r),y={configurable:At.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:v.get,set:v.set};if(u){if(!Reflect.defineProperty(this.target_,r,y))return!1}else Ws(this.target_,r,y);this.values_.set(r,new gs(o)),this.notifyPropertyAddition_(r,void 0)}finally{jr()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!Va(this.target_,r))return!0;if(Lr(this)){var u=Mr(this,{object:this.proxy_||this.target_,name:r,type:_E});if(!u)return null}try{var f;Dr();var g=fs(this),v=!1,y=this.values_.get(r),S=void 0;if(!y&&(g||v)){var C;S=(C=rm(this.target_,r))==null?void 0:C.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(y&&(this.values_.delete(r),y instanceof Kl&&(S=y.value_),h1(y)),this.keysAtom_.reportChanged(),(f=this.pendingKeys_)==null||(f=f.get(r))==null||f.set(r in this.target_),g||v){var N={type:_E,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:S,name:r};g&&ds(this,N)}}finally{jr()}return!0},t.observe_=function(r,o){return hf(this,r)},t.intercept_=function(r){return cf(this,r)},t.notifyPropertyAddition_=function(r,o){var u,f=fs(this),g=!1;if(f||g){var v=f||g?{type:Ho,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;f&&ds(this,v)}(u=this.pendingKeys_)==null||(u=u.get(r))==null||u.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),vc(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n})();function uu(n,t){var e;if(Va(n,Zt))return n;var r=(e=t==null?void 0:t.name)!=null?e:"ObservableObject",o=new A1(n,new Map,String(r),NO(t));return af(n,Zt,o),n}var TN=au("ObservableObjectAdministration",A1);function vE(n){return gE[n]||(gE[n]={get:function(){return this[Zt].getObservablePropValue_(n)},set:function(e){return this[Zt].setObservablePropValue_(n,e)}})}function Qm(n){return Hm(n)?TN(n[Zt]):!1}function yE(n,t,e){var r;(r=n.target_[Gs])==null||delete r[e]}var SN=R1(0),xN=(function(){var n=!1,t={};return Object.defineProperty(t,"0",{set:function(){n=!0}}),Object.create(t)[0]=1,n===!1})(),m_=0,C1=function(){};function AN(n,t){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,t):n.prototype.__proto__!==void 0?n.prototype.__proto__=t:n.prototype=t}AN(C1,Array.prototype);var Uv=(function(n){function t(r,o,u,f){var g;return u===void 0&&(u="ObservableArray"),f===void 0&&(f=!1),g=n.call(this)||this,rl(function(){var v=new Bv(u,o,f,!0);v.proxy_=g,qS(g,Zt,v),r&&r.length&&g.spliceWithArray(0,0,r),xN&&Object.defineProperty(g,"0",SN)}),g}WS(t,n);var e=t.prototype;return e.concat=function(){this[Zt].atom_.reportObserved();for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return Array.prototype.concat.apply(this.slice(),u.map(function(g){return Ym(g)?g.slice():g}))},e[Symbol.iterator]=function(){var r=this,o=0;return Fv({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Nc(t,[{key:"length",get:function(){return this[Zt].getArrayLength_()},set:function(o){this[Zt].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(C1);Object.entries(cm).forEach(function(n){var t=n[0],e=n[1];t!=="concat"&&af(Uv.prototype,t,e)});function R1(n){return{enumerable:!1,configurable:!0,get:function(){return this[Zt].get_(n)},set:function(e){this[Zt].set_(n,e)}}}function CN(n){Ws(Uv.prototype,""+n,R1(n))}function I1(n){if(n>m_){for(var t=m_;t<n+100;t++)CN(t);m_=n}}I1(1e3);function RN(n,t,e){return new Uv(n,t,e)}function fm(n,t){if(typeof n=="object"&&n!==null){if(Ym(n))return t!==void 0&&Se(23),n[Zt].atom_;if(qs(n))return n.atom_;if(lu(n)){if(t===void 0)return n.keysAtom_;var e=n.data_.get(t)||n.hasMap_.get(t);return e||Se(25,t,K_(n)),e}if(Qm(n)){if(!t)return Se(26);var r=n[Zt].values_.get(t);return r||Se(27,t,K_(n)),r}if(kv(n)||Wm(n)||um(n))return n}else if(ps(n)&&um(n[Zt]))return n[Zt];Se(28)}function IN(n,t){if(n||Se(29),kv(n)||Wm(n)||um(n)||lu(n)||qs(n))return n;if(n[Zt])return n[Zt];Se(24,n)}function K_(n,t){var e;if(t!==void 0)e=fm(n,t);else{if(yc(n))return n.name;Qm(n)||lu(n)||qs(n)?e=IN(n):e=fm(n)}return e.name_}function rl(n){var t=ou(),e=jv(!0);Dr();try{return n()}finally{jr(),Vv(e),za(t)}}var bE=Fm.toString;function O1(n,t,e){return e===void 0&&(e=-1),Y_(n,t,e)}function Y_(n,t,e,r,o){if(n===t)return n!==0||1/n===1/t;if(n==null||t==null)return!1;if(n!==n)return t!==t;var u=typeof n;if(u!=="function"&&u!=="object"&&typeof t!="object")return!1;var f=bE.call(n);if(f!==bE.call(t))return!1;switch(f){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:+n==0?1/+n===1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":e>=0&&e++;break}n=wE(n),t=wE(t);var g=f==="[object Array]";if(!g){if(typeof n!="object"||typeof t!="object")return!1;var v=n.constructor,y=t.constructor;if(v!==y&&!(ps(v)&&v instanceof v&&ps(y)&&y instanceof y)&&"constructor"in n&&"constructor"in t)return!1}if(e===0)return!1;e<0&&(e=-1),r=r||[],o=o||[];for(var S=r.length;S--;)if(r[S]===n)return o[S]===t;if(r.push(n),o.push(t),g){if(S=n.length,S!==t.length)return!1;for(;S--;)if(!Y_(n[S],t[S],e-1,r,o))return!1}else{var C=Object.keys(n),N=C.length;if(Object.keys(t).length!==N)return!1;for(var M=0;M<N;M++){var $=C[M];if(!(Va(t,$)&&Y_(n[$],t[$],e-1,r,o)))return!1}}return r.pop(),o.pop(),!0}function wE(n){return Ym(n)?n.slice():Oc(n)||lu(n)||Na(n)||qs(n)?Array.from(n.entries()):n}var EE,ON=((EE=Um().Iterator)==null?void 0:EE.prototype)||{};function Fv(n){return n[Symbol.iterator]=NN,Object.assign(Object.create(ON),n)}function NN(){return this}["Symbol","Map","Set"].forEach(function(n){var t=Um();typeof t[n]>"u"&&Se("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:KO,extras:{getDebugName:K_},$mobx:Zt});if(!Z.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!pN)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function PN(n){n()}function LN(n){n||(n=PN),oN({reactionScheduler:n})}function MN(n){return lN(n)}var kN=1e4,DN=1e4,jN=(function(){function n(t){var e=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=kN),clearTimeout(e.sweepTimeout),e.sweepTimeout=void 0;var o=Date.now();e.registrations.forEach(function(u,f){o-u.registeredAt>=r&&(e.finalize(u.value),e.registrations.delete(f))}),e.registrations.size>0&&e.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){e.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e,r){this.registrations.set(r,{value:e,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,DN))}}),n})(),VN=typeof FinalizationRegistry<"u"?FinalizationRegistry:jN,Q_=new VN(function(n){var t;(t=n.reaction)===null||t===void 0||t.dispose(),n.reaction=null}),p_={exports:{}},g_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function zN(){if(TE)return g_;TE=1;var n=Vm();function t(C,N){return C===N&&(C!==0||1/C===1/N)||C!==C&&N!==N}var e=typeof Object.is=="function"?Object.is:t,r=n.useState,o=n.useEffect,u=n.useLayoutEffect,f=n.useDebugValue;function g(C,N){var M=N(),$=r({inst:{value:M,getSnapshot:N}}),K=$[0].inst,W=$[1];return u(function(){K.value=M,K.getSnapshot=N,v(K)&&W({inst:K})},[C,M,N]),o(function(){return v(K)&&W({inst:K}),C(function(){v(K)&&W({inst:K})})},[C]),f(M),M}function v(C){var N=C.getSnapshot;C=C.value;try{var M=N();return!e(C,M)}catch{return!0}}function y(C,N){return N()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:g;return g_.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:S,g_}var SE;function BN(){return SE||(SE=1,p_.exports=zN()),p_.exports}var UN=BN();function xE(n){n.reaction=new Ha("observer".concat(n.name),function(){var t;n.stateVersion=Symbol(),(t=n.onStoreChange)===null||t===void 0||t.call(n)})}function FN(n,t){t===void 0&&(t="observed");var e=Zs.useRef(null);if(!e.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(g){return Q_.unregister(r),r.onStoreChange=g,r.reaction||(xE(r),r.stateVersion=Symbol()),function(){var v;r.onStoreChange=null,(v=r.reaction)===null||v===void 0||v.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};e.current=r}var o=e.current;o.reaction||(xE(o),Q_.register(e,o,o)),Zs.useDebugValue(o.reaction,MN),UN.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var u,f;if(o.reaction.track(function(){try{u=n()}catch(g){f=g}}),f)throw f;return u}var __,v_,N1=typeof Symbol=="function"&&Symbol.for,HN=(v_=(__=Object.getOwnPropertyDescriptor(function(){},"name"))===null||__===void 0?void 0:__.configurable)!==null&&v_!==void 0?v_:!1,AE=N1?Symbol.for("react.forward_ref"):typeof Z.forwardRef=="function"&&Z.forwardRef(function(n){return null}).$$typeof,CE=N1?Symbol.for("react.memo"):typeof Z.memo=="function"&&Z.memo(function(n){return null}).$$typeof;function qr(n,t){var e;if(CE&&n.$$typeof===CE)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(e=void 0)!==null&&e!==void 0?e:!1,o=n,u=n.displayName||n.name;if(AE&&n.$$typeof===AE&&(r=!0,o=n.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var f=function(g,v){return FN(function(){return o(g,v)},u)};return f.displayName=n.displayName,HN&&Object.defineProperty(f,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(f.contextTypes=n.contextTypes),r&&(f=Z.forwardRef(f)),f=Z.memo(f),GN(n,f),f}var qN={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function GN(n,t){Object.keys(n).forEach(function(e){qN[e]||Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}var y_;LN(VS.unstable_batchedUpdates);y_=Q_.finalizeAllImmediately;const ZN=()=>{};var RE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},WN=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],f=n[e++],g=n[e++],v=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const u=n[e++],f=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},L1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,g=f?n[o+1]:0,v=o+2<n.length,y=v?n[o+2]:0,S=u>>2,C=(u&3)<<4|g>>4;let N=(g&15)<<2|y>>6,M=y&63;v||(M=64,f||(N=64)),r.push(e[S],e[C],e[N],e[M])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(P1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):WN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],g=o<n.length?e[n.charAt(o)]:0;++o;const y=o<n.length?e[n.charAt(o)]:64;++o;const C=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||g==null||y==null||C==null)throw new KN;const N=u<<2|g>>4;if(r.push(N),y!==64){const M=g<<4&240|y>>2;if(r.push(M),C!==64){const $=y<<6&192|C;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YN=function(n){const t=P1(n);return L1.encodeByteArray(t,!0)},dm=function(n){return YN(n).replace(/\./g,"")},M1=function(n){try{return L1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=()=>QN().__FIREBASE_DEFAULTS__,$N=()=>{if(typeof process>"u"||typeof RE>"u")return;const n=RE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&M1(n[1]);return t&&JSON.parse(t)},Xm=()=>{try{return ZN()||XN()||$N()||JN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},k1=n=>{var t,e;return(e=(t=Xm())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},tP=n=>{const t=k1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},D1=()=>{var n;return(n=Xm())==null?void 0:n.config},j1=n=>{var t;return(t=Xm())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function V1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[dm(JSON.stringify(e)),dm(JSON.stringify(f)),""].join(".")}const Vh={};function iP(){const n={prod:[],emulator:[]};for(const t of Object.keys(Vh))Vh[t]?n.emulator.push(t):n.prod.push(t);return n}function rP(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let IE=!1;function z1(n,t){if(typeof window>"u"||typeof document>"u"||!Pc(window.location.host)||Vh[n]===t||Vh[n]||IE)return;Vh[n]=t;function e(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=iP().prod.length>0;function f(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,M){N.setAttribute("width","24"),N.setAttribute("id",M),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{IE=!0,f()},N}function S(N,M){N.setAttribute("id",M),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function C(){const N=rP(r),M=e("text"),$=document.getElementById(M)||document.createElement("span"),K=e("learnmore"),W=document.getElementById(K)||document.createElement("a"),ft=e("preprendIcon"),ut=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const st=N.element;g(st),S(W,K);const xt=y();v(ut,ft),st.append(ut,$,W,xt),document.body.appendChild(st)}u?($.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())}function aP(){var t;const n=(t=Xm())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uP(){const n=li();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function cP(){return!aP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U1(){try{return typeof indexedDB=="object"}catch{return!1}}function F1(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(e){t(e)}})}function hP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="FirebaseError";class ws extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=fP,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?dP(u,r):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new ws(o,g,r)}}function dP(n,t){return n.replace(mP,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const mP=/\{\$([^}]+)}/g;function pP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Yo(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],f=t[o];if(OE(u)&&OE(f)){if(!Yo(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function OE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ih(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Oh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function gP(n,t){const e=new _P(n,t);return e.subscribe.bind(e)}class _P{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");vP(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=b_),o.error===void 0&&(o.error=b_),o.complete===void 0&&(o.complete=b_);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vP(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function b_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=1e3,bP=2,wP=14400*1e3,EP=.5;function NE(n,t=yP,e=bP){const r=t*Math.pow(e,n),o=Math.round(EP*r*(Math.random()-.5)*2);return Math.min(wP,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(n){return n&&n._delegate?n._delegate:n}class _s{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new eP;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xP(t))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Fl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fl){return this.instances.has(t)}getOptions(t=Fl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SP(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Fl){return this.component?this.component.multipleInstances?t:Fl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SP(n){return n===Fl?void 0:n}function xP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new TP(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(me||(me={}));const CP={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},RP=me.INFO,IP={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},OP=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=IP[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $m{constructor(t){this.name=t,this._logLevel=RP,this._logHandler=OP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}}const NP=(n,t)=>t.some(e=>n instanceof e);let PE,LE;function PP(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LP(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H1=new WeakMap,X_=new WeakMap,q1=new WeakMap,w_=new WeakMap,Hv=new WeakMap;function MP(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{e(Go(n.result)),o()},f=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&H1.set(e,n)}).catch(()=>{}),Hv.set(t,n),t}function kP(n){if(X_.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{e(),o()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});X_.set(n,t)}let $_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return X_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||q1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Go(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function DP(n){$_=n($_)}function jP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(E_(this),t,...e);return q1.set(r,t.sort?t.sort():[t]),Go(r)}:LP().includes(n)?function(...t){return n.apply(E_(this),t),Go(H1.get(this))}:function(...t){return Go(n.apply(E_(this),t))}}function VP(n){return typeof n=="function"?jP(n):(n instanceof IDBTransaction&&kP(n),NP(n,PP())?new Proxy(n,$_):n)}function Go(n){if(n instanceof IDBRequest)return MP(n);if(w_.has(n))return w_.get(n);const t=VP(n);return t!==n&&(w_.set(n,t),Hv.set(t,n)),t}const E_=n=>Hv.get(n);function G1(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(n,t),g=Go(f);return r&&f.addEventListener("upgradeneeded",v=>{r(Go(f.result),v.oldVersion,v.newVersion,Go(f.transaction),v)}),e&&f.addEventListener("blocked",v=>e(v.oldVersion,v.newVersion,v)),g.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const zP=["get","getKey","getAll","getAllKeys","count"],BP=["put","add","delete","clear"],T_=new Map;function ME(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(T_.get(t))return T_.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=BP.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||zP.includes(e)))return;const u=async function(f,...g){const v=this.transaction(f,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[e](...g),o&&v.done]))[0]};return T_.set(t,u),u}DP(n=>({...n,get:(t,e,r)=>ME(t,e)||n.get(t,e,r),has:(t,e)=>!!ME(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(FP(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function FP(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const J_="@firebase/app",kE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new $m("@firebase/app"),HP="@firebase/app-compat",qP="@firebase/analytics-compat",GP="@firebase/analytics",ZP="@firebase/app-check-compat",WP="@firebase/app-check",KP="@firebase/auth",YP="@firebase/auth-compat",QP="@firebase/database",XP="@firebase/data-connect",$P="@firebase/database-compat",JP="@firebase/functions",tL="@firebase/functions-compat",eL="@firebase/installations",nL="@firebase/installations-compat",iL="@firebase/messaging",rL="@firebase/messaging-compat",sL="@firebase/performance",aL="@firebase/performance-compat",oL="@firebase/remote-config",lL="@firebase/remote-config-compat",uL="@firebase/storage",cL="@firebase/storage-compat",hL="@firebase/firestore",fL="@firebase/ai",dL="@firebase/firestore-compat",mL="firebase",pL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="[DEFAULT]",gL={[J_]:"fire-core",[HP]:"fire-core-compat",[GP]:"fire-analytics",[qP]:"fire-analytics-compat",[WP]:"fire-app-check",[ZP]:"fire-app-check-compat",[KP]:"fire-auth",[YP]:"fire-auth-compat",[QP]:"fire-rtdb",[XP]:"fire-data-connect",[$P]:"fire-rtdb-compat",[JP]:"fire-fn",[tL]:"fire-fn-compat",[eL]:"fire-iid",[nL]:"fire-iid-compat",[iL]:"fire-fcm",[rL]:"fire-fcm-compat",[sL]:"fire-perf",[aL]:"fire-perf-compat",[oL]:"fire-rc",[lL]:"fire-rc-compat",[uL]:"fire-gcs",[cL]:"fire-gcs-compat",[hL]:"fire-fst",[dL]:"fire-fst-compat",[fL]:"fire-vertex","fire-js":"fire-js",[mL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new Map,_L=new Map,ev=new Map;function DE(n,t){try{n.container.addComponent(t)}catch(e){qa.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function na(n){const t=n.name;if(ev.has(t))return qa.debug(`There were multiple attempts to register component ${t}.`),!1;ev.set(t,n);for(const e of mm.values())DE(e,n);for(const e of _L.values())DE(e,n);return!0}function hu(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Vi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zo=new cu("app","Firebase",vL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=pL;function Z1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:tv,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Zo.create("bad-app-name",{appName:String(o)});if(e||(e=D1()),!e)throw Zo.create("no-options");const u=mm.get(o);if(u){if(Yo(e,u.options)&&Yo(r,u.config))return u;throw Zo.create("duplicate-app",{appName:o})}const f=new AP(o);for(const v of ev.values())f.addComponent(v);const g=new yL(e,r,f);return mm.set(o,g),g}function qv(n=tv){const t=mm.get(n);if(!t&&n===tv&&D1())return Z1();if(!t)throw Zo.create("no-app",{appName:n});return t}function Vr(n,t,e){let r=gL[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qa.warn(f.join(" "));return}na(new _s(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="firebase-heartbeat-database",wL=1,Wh="firebase-heartbeat-store";let S_=null;function W1(){return S_||(S_=G1(bL,wL,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Wh)}catch(e){console.warn(e)}}}}).catch(n=>{throw Zo.create("idb-open",{originalErrorMessage:n.message})})),S_}async function EL(n){try{const e=(await W1()).transaction(Wh),r=await e.objectStore(Wh).get(K1(n));return await e.done,r}catch(t){if(t instanceof ws)qa.warn(t.message);else{const e=Zo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qa.warn(e.message)}}}async function jE(n,t){try{const r=(await W1()).transaction(Wh,"readwrite");await r.objectStore(Wh).put(t,K1(n)),await r.done}catch(e){if(e instanceof ws)qa.warn(e.message);else{const r=Zo.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});qa.warn(r.message)}}}function K1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=1024,SL=30;class xL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new CL(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=VE();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>SL){const f=RL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qa.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=VE(),{heartbeatsToSend:r,unsentEntries:o}=AL(this._heartbeatsCache.heartbeats),u=dm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return qa.warn(e),""}}}function VE(){return new Date().toISOString().substring(0,10)}function AL(n,t=TL){const e=[];let r=n.slice();for(const o of n){const u=e.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),zE(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),zE(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class CL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U1()?F1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await EL(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return jE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return jE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function zE(n){return dm(JSON.stringify({version:2,heartbeats:n})).length}function RL(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(n){na(new _s("platform-logger",t=>new UP(t),"PRIVATE")),na(new _s("heartbeat",t=>new xL(t),"PRIVATE")),Vr(J_,kE,n),Vr(J_,kE,"esm2020"),Vr("fire-js","")}IL("");function Y1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OL=Y1,Q1=new cu("auth","Firebase",Y1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new $m("@firebase/auth");function NL(n,...t){pm.logLevel<=me.WARN&&pm.warn(`Auth (${Lc}): ${n}`,...t)}function Zd(n,...t){pm.logLevel<=me.ERROR&&pm.error(`Auth (${Lc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(n,...t){throw Zv(n,...t)}function ms(n,...t){return Zv(n,...t)}function Gv(n,t,e){const r={...OL(),[t]:e};return new cu("auth","Firebase",r).create(t,{appName:n.name})}function Qs(n){return Gv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PL(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ur(n,"argument-error"),Gv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zv(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return Q1.create(n,...t)}function Ht(n,t,...e){if(!n)throw Zv(t,...e)}function Ma(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Zd(t),new Error(t)}function Ga(n,t){n||Ma(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function LL(){return BE()==="http:"||BE()==="https:"}function BE(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LL()||B1()||"connection"in navigator)?navigator.onLine:!0}function kL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ga(e>t,"Short delay should be less than long delay!"),this.isMobile=sP()||lP()}get(){return ML()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n,t){Ga(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ma("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ma("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ma("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VL=new df(3e4,6e4);function Ya(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Qa(n,t,e,r,o={}){return $1(n,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const g=ff({key:n.config.apiKey,...f}).slice(1),v=await n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);const y={method:t,headers:v,...u};return oP()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Pc(n.emulatorConfig.host)&&(y.credentials="include"),X1.fetch()(await J1(n,n.config.apiHost,e,g),y)})}async function $1(n,t,e){n._canInitEmulator=!1;const r={...DL,...t};try{const o=new BL(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Md(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(n,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw Md(n,"email-already-in-use",f);if(v==="USER_DISABLED")throw Md(n,"user-disabled",f);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Gv(n,S,y);Ur(n,S)}}catch(o){if(o instanceof ws)throw o;Ur(n,"network-request-failed",{message:String(o)})}}async function mf(n,t,e,r,o={}){const u=await Qa(n,t,e,r,o);return"mfaPendingCredential"in u&&Ur(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function J1(n,t,e,r){const o=`${t}${e}?${r}`,u=n,f=u.config.emulator?Wv(n.config,o):`${n.config.apiScheme}://${o}`;return jL.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function zL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),VL.get())})}}function Md(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=ms(n,t,r);return o.customData._tokenResponse=e,o}function UE(n){return n!==void 0&&n.enterprise!==void 0}class UL{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return zL(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FL(n,t){return Qa(n,"GET","/v2/recaptchaConfig",Ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(n,t){return Qa(n,"POST","/v1/accounts:delete",t)}async function gm(n,t){return Qa(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qL(n,t=!1){const e=an(n),r=await e.getIdToken(t),o=Kv(r);Ht(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:zh(x_(o.auth_time)),issuedAtTime:zh(x_(o.iat)),expirationTime:zh(x_(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function x_(n){return Number(n)*1e3}function Kv(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const o=M1(e);return o?JSON.parse(o):(Zd("Failed to decode base64 JWT payload"),null)}catch(o){return Zd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function FE(n){const t=Kv(n);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof ws&&GL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function GL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=zh(this.lastLoginAt),this.creationTime=zh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(n){var C;const t=n.auth,e=await n.getIdToken(),r=await Kh(n,gm(t,{idToken:e}));Ht(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=(C=o.providerUserInfo)!=null&&C.length?tx(o.providerUserInfo):[],f=KL(n.providerData,u),g=n.isAnonymous,v=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),y=g?v:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new iv(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,S)}async function WL(n){const t=an(n);await _m(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function KL(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function tx(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YL(n,t){const e=await $1(n,{},async()=>{const r=ff({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=await J1(n,o,"/v1/token",`key=${u}`),g=await n._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:r};return n.emulatorConfig&&Pc(n.emulatorConfig.host)&&(v.credentials="include"),X1.fetch()(f,v)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function QL(n,t){return Qa(n,"POST","/v2/accounts:revokeToken",Ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):FE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const e=FE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await YL(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,f=new cc;return r&&(Ht(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(Ht(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Ht(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return Ma("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(n,t){Ht(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class hs{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new ZL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Kh(this,this.stsTokenManager.getToken(this.auth,t));return Ht(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return qL(this,t)}reload(){return WL(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new hs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await _m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(Qs(this.auth));const t=await this.getIdToken();return await Kh(this,HL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,f=e.photoURL??void 0,g=e.tenantId??void 0,v=e._redirectEventId??void 0,y=e.createdAt??void 0,S=e.lastLoginAt??void 0,{uid:C,emailVerified:N,isAnonymous:M,providerData:$,stsTokenManager:K}=e;Ht(C&&K,t,"internal-error");const W=cc.fromJSON(this.name,K);Ht(typeof C=="string",t,"internal-error"),zo(r,t.name),zo(o,t.name),Ht(typeof N=="boolean",t,"internal-error"),Ht(typeof M=="boolean",t,"internal-error"),zo(u,t.name),zo(f,t.name),zo(g,t.name),zo(v,t.name),zo(y,t.name),zo(S,t.name);const ft=new hs({uid:C,auth:t,email:o,emailVerified:N,displayName:r,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:S});return $&&Array.isArray($)&&(ft.providerData=$.map(ut=>({...ut}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,e,r=!1){const o=new cc;o.updateFromServerResponse(e);const u=new hs({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await _m(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Ht(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tx(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new cc;g.updateFromIdToken(r);const v=new hs({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new iv(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(v,y),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=new Map;function ka(n){Ga(n instanceof Function,"Expected a class definition");let t=HE.get(n);return t?(Ga(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,HE.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}ex.type="NONE";const qE=ex;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n,t,e){return`firebase:${n}:${t}:${e}`}class hc{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Wd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wd("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await gm(this.auth,{idToken:t}).catch(()=>{});return e?hs._fromGetAccountInfoResponse(this.auth,e,t):null}return hs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new hc(ka(qE),t,r);const o=(await Promise.all(e.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ka(qE);const f=Wd(r,t.config.apiKey,t.name);let g=null;for(const y of e)try{const S=await y._get(f);if(S){let C;if(typeof S=="string"){const N=await gm(t,{idToken:S}).catch(()=>{});if(!N)break;C=await hs._fromGetAccountInfoResponse(t,N,S)}else C=hs._fromJSON(t,S);y!==u&&(g=C),u=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new hc(u,t,r):(u=v[0],g&&await u._set(f,g.toJSON()),await Promise.all(e.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new hc(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ox(t))return"Blackberry";if(lx(t))return"Webos";if(ix(t))return"Safari";if((t.includes("chrome/")||rx(t))&&!t.includes("edge/"))return"Chrome";if(ax(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nx(n=li()){return/firefox\//i.test(n)}function ix(n=li()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rx(n=li()){return/crios\//i.test(n)}function sx(n=li()){return/iemobile/i.test(n)}function ax(n=li()){return/android/i.test(n)}function ox(n=li()){return/blackberry/i.test(n)}function lx(n=li()){return/webos/i.test(n)}function Yv(n=li()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XL(n=li()){var t;return Yv(n)&&!!((t=window.navigator)!=null&&t.standalone)}function $L(){return uP()&&document.documentMode===10}function ux(n=li()){return Yv(n)||ax(n)||lx(n)||ox(n)||/windows phone/i.test(n)||sx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n,t=[]){let e;switch(n){case"Browser":e=GE(li());break;case"Worker":e=`${GE(li())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((f,g)=>{try{const v=t(u);f(v)}catch(v){g(v)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(n,t={}){return Qa(n,"GET","/v2/passwordPolicy",Ya(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=6;class nM{constructor(t){var r;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??eM,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ZE(this),this.idTokenSubscription=new ZE(this),this.beforeStateQueue=new JL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ka(e)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await hc.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await gm(this,{idToken:t}),r=await hs._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Vi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=r==null?void 0:r._redirectEventId,v=await this.tryRedirectSignIn(t);(!f||f===g)&&(v!=null&&v.user)&&(r=v.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await _m(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vi(this.app))return Promise.reject(Qs(this));const e=t?an(t):null;return e&&Ht(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vi(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ka(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tM(this),e=new nM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await QL(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ka(t)||this._popupRedirectResolver;Ht(e,this,"argument-error"),this.redirectPersistenceManager=await hc.create(this,[ka(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const v=t.addObserver(e,r,o);return()=>{f=!0,v()}}else{const v=t.addObserver(e);return()=>{f=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=cx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&NL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ra(n){return an(n)}class ZE{constructor(t){this.auth=t,this.observer=null,this.addObserver=gP(e=>this.observer=e)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rM(n){Jm=n}function hx(n){return Jm.loadJS(n)}function sM(){return Jm.recaptchaEnterpriseScript}function aM(){return Jm.gapiScript}function oM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class lM{constructor(){this.enterprise=new uM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class uM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const cM="recaptcha-enterprise",fx="NO_RECAPTCHA";class hM{constructor(t){this.type=cM,this.auth=ra(t)}async verify(t="verify",e=!1){async function r(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{FL(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new UL(v);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(v=>{g(v)})})}function o(u,f,g){const v=window.grecaptcha;UE(v)?v.enterprise.ready(()=>{v.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(fx)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lM().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(g=>{if(!e&&UE(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let v=sM();v.length!==0&&(v+=g),hx(v).then(()=>{o(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function WE(n,t,e,r=!1,o=!1){const u=new hM(n);let f;if(o)f=fx;else try{f=await u.verify(e)}catch{f=await u.verify(e,!0)}const g={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const v=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const v=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function vm(n,t,e,r,o){var u;if((u=n._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await WE(n,t,e,e==="getOobCode");return r(n,f)}else return r(n,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await WE(n,t,e,e==="getOobCode");return r(n,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(n,t){const e=hu(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Yo(u,t??{}))return o;Ur(o,"already-initialized")}return e.initialize({options:t})}function dM(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(ka);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function mM(n,t,e){const r=ra(n);Ht(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=dx(t),{host:f,port:g}=pM(t),v=g===null?"":`:${g}`,y={url:`${u}//${f}${v}/`},S=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ht(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ht(Yo(y,r.config.emulator)&&Yo(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Pc(f)?(V1(`${u}//${f}${v}`),z1("Auth",!0)):gM()}function dx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function pM(n){const t=dx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:KE(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:KE(f)}}}function KE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function gM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ma("not implemented")}_getIdTokenResponse(t){return Ma("not implemented")}_linkToIdToken(t,e){return Ma("not implemented")}_getReauthenticationResolver(t){return Ma("not implemented")}}async function _M(n,t){return Qa(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(n,t){return mf(n,"POST","/v1/accounts:signInWithPassword",Ya(n,t))}async function mx(n,t){return Qa(n,"POST","/v1/accounts:sendOobCode",Ya(n,t))}async function yM(n,t){return mx(n,t)}async function bM(n,t){return mx(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(n,t){return mf(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,t))}async function EM(n,t){return mf(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Qv{constructor(t,e,r,o=null){super("password",r),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Yh(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Yh(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(t,e,"signInWithPassword",vM);case"emailLink":return wM(t,{email:this._email,oobCode:this._password});default:Ur(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(t,r,"signUpPassword",_M);case"emailLink":return EM(t,{idToken:e,email:this._email,oobCode:this._password});default:Ur(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(n,t){return mf(n,"POST","/v1/accounts:signInWithIdp",Ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="http://localhost";class tu extends Qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new tu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ur("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const f=new tu(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return fc(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,fc(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,fc(t,e)}buildRequest(){const t={requestUri:TM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ff(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xM(n){const t=Ih(Oh(n)).link,e=t?Ih(Oh(t)).deep_link_id:null,r=Ih(Oh(n)).deep_link_id;return(r?Ih(Oh(r)).link:null)||r||e||t||n}class Xv{constructor(t){const e=Ih(Oh(t)),r=e.apiKey??null,o=e.oobCode??null,u=SM(e.mode??null);Ht(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=xM(t);try{return new Xv(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.providerId=Mc.PROVIDER_ID}static credential(t,e){return Yh._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=Xv.parseLink(e);return Ht(r,"argument-error"),Yh._fromEmailAndCode(t,r.code,r.tenantId)}}Mc.PROVIDER_ID="password";Mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends pf{constructor(){super("facebook.com")}static credential(t){return tu._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bo.credentialFromTaggedObject(t)}static credentialFromError(t){return Bo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bo.credential(t.oauthAccessToken)}catch{return null}}}Bo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends pf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return tu._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return La.credential(e,r)}catch{return null}}}La.GOOGLE_SIGN_IN_METHOD="google.com";La.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends pf{constructor(){super("github.com")}static credential(t){return tu._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Uo.credentialFromTaggedObject(t)}static credentialFromError(t){return Uo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Uo.credential(t.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends pf{constructor(){super("twitter.com")}static credential(t,e){return tu._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Fo.credentialFromTaggedObject(t)}static credentialFromError(t){return Fo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Fo.credential(e,r)}catch{return null}}}Fo.TWITTER_SIGN_IN_METHOD="twitter.com";Fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(n,t){return mf(n,"POST","/v1/accounts:signUp",Ya(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await hs._fromIdTokenResponse(t,r,o),f=YE(r);return new Za({user:u,providerId:f,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=YE(r);return new Za({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function YE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(n){var o;if(Vi(n.app))return Promise.reject(Qs(n));const t=ra(n);if(await t._initializationPromise,(o=t.currentUser)!=null&&o.isAnonymous)return new Za({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await px(t,{returnSecureToken:!0}),r=await Za._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends ws{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ym.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new ym(t,e,r,o)}}function gx(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ym._fromErrorAndOperation(n,u,t,r):u})}async function CM(n,t,e=!1){const r=await Kh(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Za._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(n,t,e=!1){const{auth:r}=n;if(Vi(r.app))return Promise.reject(Qs(r));const o="reauthenticate";try{const u=await Kh(n,gx(r,o,t,n),e);Ht(u.idToken,r,"internal-error");const f=Kv(u.idToken);Ht(f,r,"internal-error");const{sub:g}=f;return Ht(n.uid===g,r,"user-mismatch"),Za._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ur(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(n,t,e=!1){if(Vi(n.app))return Promise.reject(Qs(n));const r="signIn",o=await gx(n,r,t),u=await Za._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}async function IM(n,t){return _x(ra(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(n){const t=ra(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function OM(n,t,e){const r=ra(n);await vm(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",bM)}async function NM(n,t,e){if(Vi(n.app))return Promise.reject(Qs(n));const r=ra(n),f=await vm(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",px).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&vx(n),v}),g=await Za._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function PM(n,t,e){return Vi(n.app)?Promise.reject(Qs(n)):IM(an(n),Mc.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vx(n),r})}async function QE(n,t){const e=an(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:u}=await yM(e.auth,o);u!==n.email&&await n.reload()}function LM(n,t,e,r){return an(n).onIdTokenChanged(t,e,r)}function MM(n,t,e){return an(n).beforeAuthStateChanged(t,e)}function kM(n,t,e,r){return an(n).onAuthStateChanged(t,e,r)}function DM(n){return an(n).signOut()}async function jM(n){return an(n).delete()}const bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bm,"1"),this.storage.removeItem(bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=1e3,zM=10;class bx extends yx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ux(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,g,v)=>{this.notifyListeners(f,v)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!e&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);$L()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,zM):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},VM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}bx.type="LOCAL";const BM=bx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends yx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}wx.type="SESSION";const Ex=wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new tp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(f).map(async y=>y(e.origin,u)),v=await UM(g);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,v)=>{const y=Jv("",20);o.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(C){const N=C;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(S),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(S),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(){return window}function HM(n){Xs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return typeof Xs().WorkerGlobalScope<"u"&&typeof Xs().importScripts=="function"}async function qM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function ZM(){return Tx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="firebaseLocalStorageDb",WM=1,wm="firebaseLocalStorage",xx="fbase_key";class gf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ep(n,t){return n.transaction([wm],t?"readwrite":"readonly").objectStore(wm)}function KM(){const n=indexedDB.deleteDatabase(Sx);return new gf(n).toPromise()}function rv(){const n=indexedDB.open(Sx,WM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(wm,{keyPath:xx})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(wm)?t(r):(r.close(),await KM(),t(await rv()))})})}async function XE(n,t,e){const r=ep(n,!0).put({[xx]:t,value:e});return new gf(r).toPromise()}async function YM(n,t){const e=ep(n,!1).get(t),r=await new gf(e).toPromise();return r===void 0?null:r.value}function $E(n,t){const e=ep(n,!0).delete(t);return new gf(e).toPromise()}const QM=800,XM=3;class Ax{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rv(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>XM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance(ZM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await qM(),!this.activeServiceWorker)return;this.sender=new FM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rv();return await XE(t,bm,"1"),await $E(t,bm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>XE(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>YM(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>$E(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=ep(o,!1).getAll();return new gf(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ax.type="LOCAL";const $M=Ax;new df(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n,t){return t?ka(t):(Ht(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Qv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return fc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return fc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function JM(n){return _x(n.auth,new ty(n),n.bypassAuthState)}function tk(n){const{auth:t,user:e}=n;return Ht(e,t,"internal-error"),RM(e,new ty(n),n.bypassAuthState)}async function ek(n){const{auth:t,user:e}=n;return Ht(e,t,"internal-error"),CM(e,new ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JM;case"linkViaPopup":case"linkViaRedirect":return ek;case"reauthViaPopup":case"reauthViaRedirect":return tk;default:Ur(this.auth,"internal-error")}}resolve(t){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new df(2e3,1e4);async function ik(n,t,e){if(Vi(n.app))return Promise.reject(ms(n,"operation-not-supported-in-this-environment"));const r=ra(n);PL(n,t,$v);const o=Cx(r,e);return new ql(r,"signInViaPopup",t,o).executeNotNull()}class ql extends Rx{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){Ga(this.filter.length===1,"Popup operations only handle one event");const t=Jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if((r=(e=this.authWindow)==null?void 0:e.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nk.get())};t()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="pendingRedirect",Kd=new Map;class sk extends Rx{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Kd.get(this.auth._key());if(!t){try{const r=await ak(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Kd.set(this.auth._key(),t)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ak(n,t){const e=uk(t),r=lk(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function ok(n,t){Kd.set(n._key(),t)}function lk(n){return ka(n._redirectPersistence)}function uk(n){return Wd(rk,n.config.apiKey,n.name)}async function ck(n,t,e=!1){if(Vi(n.app))return Promise.reject(Qs(n));const r=ra(n),o=Cx(r,t),f=await new sk(r,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=600*1e3;class fk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!Ix(t)){const o=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";e.onError(ms(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hk&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(t))}saveEventToCache(t){this.cachedEventUids.add(JE(t)),this.lastProcessedEventTime=Date.now()}}function JE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Ix({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function dk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ix(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(n,t={}){return Qa(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gk=/^https?/;async function _k(n){if(n.config.emulator)return;const{authorizedDomains:t}=await mk(n);for(const e of t)try{if(vk(e))return}catch{}Ur(n,"unauthorized-domain")}function vk(n){const t=nv(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===r}if(!gk.test(e))return!1;if(pk.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new df(3e4,6e4);function tT(){const n=Xs().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function bk(n){return new Promise((t,e)=>{var o,u,f;function r(){tT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tT(),e(ms(n,"network-request-failed"))},timeout:yk.get()})}if((u=(o=Xs().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Xs().gapi)!=null&&f.load)r();else{const g=oM("iframefcb");return Xs()[g]=()=>{gapi.load?r():e(ms(n,"network-request-failed"))},hx(`${aM()}?onload=${g}`).catch(v=>e(v))}}).catch(t=>{throw Yd=null,t})}let Yd=null;function wk(n){return Yd=Yd||bk(n),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new df(5e3,15e3),Tk="__/auth/iframe",Sk="emulator/auth/iframe",xk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ak=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ck(n){const t=n.config;Ht(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Wv(t,Sk):`https://${n.config.authDomain}/${Tk}`,r={apiKey:t.apiKey,appName:n.name,v:Lc},o=Ak.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${ff(r).slice(1)}`}async function Rk(n){const t=await wk(n),e=Xs().gapi;return Ht(e,n,"internal-error"),t.open({where:document.body,url:Ck(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xk,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ms(n,"network-request-failed"),g=Xs().setTimeout(()=>{u(f)},Ek.get());function v(){Xs().clearTimeout(g),o(r)}r.ping(v).then(v,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ok=500,Nk=600,Pk="_blank",Lk="http://localhost";class eT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mk(n,t,e,r=Ok,o=Nk){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const v={...Ik,width:r.toString(),height:o.toString(),top:u,left:f},y=li().toLowerCase();e&&(g=rx(y)?Pk:e),nx(y)&&(t=t||Lk,v.scrollbars="yes");const S=Object.entries(v).reduce((N,[M,$])=>`${N}${M}=${$},`,"");if(XL(y)&&g!=="_self")return kk(t||"",g),new eT(null);const C=window.open(t||"",g,S);Ht(C,n,"popup-blocked");try{C.focus()}catch{}return new eT(C)}function kk(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="__/auth/handler",jk="emulator/auth/handler",Vk=encodeURIComponent("fac");async function nT(n,t,e,r,o,u){Ht(n.config.authDomain,n,"auth-domain-config-required"),Ht(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Lc,eventId:o};if(t instanceof $v){t.setDefaultLanguage(n.languageCode),f.providerId=t.providerId||"",pP(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,C]of Object.entries({}))f[S]=C}if(t instanceof pf){const S=t.getScopes().filter(C=>C!=="");S.length>0&&(f.scopes=S.join(","))}n.tenantId&&(f.tid=n.tenantId);const g=f;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await n._getAppCheckToken(),y=v?`#${Vk}=${encodeURIComponent(v)}`:"";return`${zk(n)}?${ff(g).slice(1)}${y}`}function zk({config:n}){return n.emulator?Wv(n,jk):`https://${n.authDomain}/${Dk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="webStorageSupport";class Bk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ex,this._completeRedirectFn=ck,this._overrideRedirectResult=ok}async _openPopup(t,e,r,o){var f;Ga((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await nT(t,e,r,nv(),o);return Mk(t,u,Jv())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await nT(t,e,r,nv(),o);return HM(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Ga(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await Rk(t),r=new fk(t);return e.register("authEvent",o=>(Ht(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(A_,{type:A_},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[A_];u!==void 0&&e(!!u),Ur(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=_k(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ux()||ix()||Yv()}}const Uk=Bk;var iT="@firebase/auth",rT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qk(n){na(new _s("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Ht(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:f,authDomain:g,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cx(n)},y=new iM(r,o,u,v);return dM(y,e),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),na(new _s("auth-internal",t=>{const e=ra(t.getProvider("auth").getImmediate());return(r=>new Fk(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(iT,rT,Hk(n)),Vr(iT,rT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=300,Zk=j1("authIdTokenMaxAge")||Gk;let sT=null;const Wk=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>Zk)return;const o=e==null?void 0:e.token;sT!==o&&(sT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kk(n=qv()){const t=hu(n,"auth");if(t.isInitialized())return t.getImmediate();const e=fM(n,{popupRedirectResolver:Uk,persistence:[$M,BM,Ex]}),r=j1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=Wk(u.toString());MM(e,f,()=>f(e.currentUser)),LM(e,g=>f(g))}}const o=k1("auth");return o&&mM(e,`http://${o}`),e}function Yk(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}rM({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=ms("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",Yk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qk("Browser");var aT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wo,Ox;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,k){function j(){}j.prototype=k.prototype,D.F=k.prototype,D.prototype=new j,D.prototype.constructor=D,D.D=function(q,F,U){for(var z=Array(arguments.length-2),se=2;se<arguments.length;se++)z[se-2]=arguments[se];return k.prototype[F].apply(q,z)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,k,j){j||(j=0);const q=Array(16);if(typeof k=="string")for(var F=0;F<16;++F)q[F]=k.charCodeAt(j++)|k.charCodeAt(j++)<<8|k.charCodeAt(j++)<<16|k.charCodeAt(j++)<<24;else for(F=0;F<16;++F)q[F]=k[j++]|k[j++]<<8|k[j++]<<16|k[j++]<<24;k=D.g[0],j=D.g[1],F=D.g[2];let U=D.g[3],z;z=k+(U^j&(F^U))+q[0]+3614090360&4294967295,k=j+(z<<7&4294967295|z>>>25),z=U+(F^k&(j^F))+q[1]+3905402710&4294967295,U=k+(z<<12&4294967295|z>>>20),z=F+(j^U&(k^j))+q[2]+606105819&4294967295,F=U+(z<<17&4294967295|z>>>15),z=j+(k^F&(U^k))+q[3]+3250441966&4294967295,j=F+(z<<22&4294967295|z>>>10),z=k+(U^j&(F^U))+q[4]+4118548399&4294967295,k=j+(z<<7&4294967295|z>>>25),z=U+(F^k&(j^F))+q[5]+1200080426&4294967295,U=k+(z<<12&4294967295|z>>>20),z=F+(j^U&(k^j))+q[6]+2821735955&4294967295,F=U+(z<<17&4294967295|z>>>15),z=j+(k^F&(U^k))+q[7]+4249261313&4294967295,j=F+(z<<22&4294967295|z>>>10),z=k+(U^j&(F^U))+q[8]+1770035416&4294967295,k=j+(z<<7&4294967295|z>>>25),z=U+(F^k&(j^F))+q[9]+2336552879&4294967295,U=k+(z<<12&4294967295|z>>>20),z=F+(j^U&(k^j))+q[10]+4294925233&4294967295,F=U+(z<<17&4294967295|z>>>15),z=j+(k^F&(U^k))+q[11]+2304563134&4294967295,j=F+(z<<22&4294967295|z>>>10),z=k+(U^j&(F^U))+q[12]+1804603682&4294967295,k=j+(z<<7&4294967295|z>>>25),z=U+(F^k&(j^F))+q[13]+4254626195&4294967295,U=k+(z<<12&4294967295|z>>>20),z=F+(j^U&(k^j))+q[14]+2792965006&4294967295,F=U+(z<<17&4294967295|z>>>15),z=j+(k^F&(U^k))+q[15]+1236535329&4294967295,j=F+(z<<22&4294967295|z>>>10),z=k+(F^U&(j^F))+q[1]+4129170786&4294967295,k=j+(z<<5&4294967295|z>>>27),z=U+(j^F&(k^j))+q[6]+3225465664&4294967295,U=k+(z<<9&4294967295|z>>>23),z=F+(k^j&(U^k))+q[11]+643717713&4294967295,F=U+(z<<14&4294967295|z>>>18),z=j+(U^k&(F^U))+q[0]+3921069994&4294967295,j=F+(z<<20&4294967295|z>>>12),z=k+(F^U&(j^F))+q[5]+3593408605&4294967295,k=j+(z<<5&4294967295|z>>>27),z=U+(j^F&(k^j))+q[10]+38016083&4294967295,U=k+(z<<9&4294967295|z>>>23),z=F+(k^j&(U^k))+q[15]+3634488961&4294967295,F=U+(z<<14&4294967295|z>>>18),z=j+(U^k&(F^U))+q[4]+3889429448&4294967295,j=F+(z<<20&4294967295|z>>>12),z=k+(F^U&(j^F))+q[9]+568446438&4294967295,k=j+(z<<5&4294967295|z>>>27),z=U+(j^F&(k^j))+q[14]+3275163606&4294967295,U=k+(z<<9&4294967295|z>>>23),z=F+(k^j&(U^k))+q[3]+4107603335&4294967295,F=U+(z<<14&4294967295|z>>>18),z=j+(U^k&(F^U))+q[8]+1163531501&4294967295,j=F+(z<<20&4294967295|z>>>12),z=k+(F^U&(j^F))+q[13]+2850285829&4294967295,k=j+(z<<5&4294967295|z>>>27),z=U+(j^F&(k^j))+q[2]+4243563512&4294967295,U=k+(z<<9&4294967295|z>>>23),z=F+(k^j&(U^k))+q[7]+1735328473&4294967295,F=U+(z<<14&4294967295|z>>>18),z=j+(U^k&(F^U))+q[12]+2368359562&4294967295,j=F+(z<<20&4294967295|z>>>12),z=k+(j^F^U)+q[5]+4294588738&4294967295,k=j+(z<<4&4294967295|z>>>28),z=U+(k^j^F)+q[8]+2272392833&4294967295,U=k+(z<<11&4294967295|z>>>21),z=F+(U^k^j)+q[11]+1839030562&4294967295,F=U+(z<<16&4294967295|z>>>16),z=j+(F^U^k)+q[14]+4259657740&4294967295,j=F+(z<<23&4294967295|z>>>9),z=k+(j^F^U)+q[1]+2763975236&4294967295,k=j+(z<<4&4294967295|z>>>28),z=U+(k^j^F)+q[4]+1272893353&4294967295,U=k+(z<<11&4294967295|z>>>21),z=F+(U^k^j)+q[7]+4139469664&4294967295,F=U+(z<<16&4294967295|z>>>16),z=j+(F^U^k)+q[10]+3200236656&4294967295,j=F+(z<<23&4294967295|z>>>9),z=k+(j^F^U)+q[13]+681279174&4294967295,k=j+(z<<4&4294967295|z>>>28),z=U+(k^j^F)+q[0]+3936430074&4294967295,U=k+(z<<11&4294967295|z>>>21),z=F+(U^k^j)+q[3]+3572445317&4294967295,F=U+(z<<16&4294967295|z>>>16),z=j+(F^U^k)+q[6]+76029189&4294967295,j=F+(z<<23&4294967295|z>>>9),z=k+(j^F^U)+q[9]+3654602809&4294967295,k=j+(z<<4&4294967295|z>>>28),z=U+(k^j^F)+q[12]+3873151461&4294967295,U=k+(z<<11&4294967295|z>>>21),z=F+(U^k^j)+q[15]+530742520&4294967295,F=U+(z<<16&4294967295|z>>>16),z=j+(F^U^k)+q[2]+3299628645&4294967295,j=F+(z<<23&4294967295|z>>>9),z=k+(F^(j|~U))+q[0]+4096336452&4294967295,k=j+(z<<6&4294967295|z>>>26),z=U+(j^(k|~F))+q[7]+1126891415&4294967295,U=k+(z<<10&4294967295|z>>>22),z=F+(k^(U|~j))+q[14]+2878612391&4294967295,F=U+(z<<15&4294967295|z>>>17),z=j+(U^(F|~k))+q[5]+4237533241&4294967295,j=F+(z<<21&4294967295|z>>>11),z=k+(F^(j|~U))+q[12]+1700485571&4294967295,k=j+(z<<6&4294967295|z>>>26),z=U+(j^(k|~F))+q[3]+2399980690&4294967295,U=k+(z<<10&4294967295|z>>>22),z=F+(k^(U|~j))+q[10]+4293915773&4294967295,F=U+(z<<15&4294967295|z>>>17),z=j+(U^(F|~k))+q[1]+2240044497&4294967295,j=F+(z<<21&4294967295|z>>>11),z=k+(F^(j|~U))+q[8]+1873313359&4294967295,k=j+(z<<6&4294967295|z>>>26),z=U+(j^(k|~F))+q[15]+4264355552&4294967295,U=k+(z<<10&4294967295|z>>>22),z=F+(k^(U|~j))+q[6]+2734768916&4294967295,F=U+(z<<15&4294967295|z>>>17),z=j+(U^(F|~k))+q[13]+1309151649&4294967295,j=F+(z<<21&4294967295|z>>>11),z=k+(F^(j|~U))+q[4]+4149444226&4294967295,k=j+(z<<6&4294967295|z>>>26),z=U+(j^(k|~F))+q[11]+3174756917&4294967295,U=k+(z<<10&4294967295|z>>>22),z=F+(k^(U|~j))+q[2]+718787259&4294967295,F=U+(z<<15&4294967295|z>>>17),z=j+(U^(F|~k))+q[9]+3951481745&4294967295,D.g[0]=D.g[0]+k&4294967295,D.g[1]=D.g[1]+(F+(z<<21&4294967295|z>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.v=function(D,k){k===void 0&&(k=D.length);const j=k-this.blockSize,q=this.C;let F=this.h,U=0;for(;U<k;){if(F==0)for(;U<=j;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<k;)if(q[F++]=D.charCodeAt(U++),F==this.blockSize){o(this,q),F=0;break}}else for(;U<k;)if(q[F++]=D[U++],F==this.blockSize){o(this,q),F=0;break}}this.h=F,this.o+=k},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var k=1;k<D.length-8;++k)D[k]=0;k=this.o*8;for(var j=D.length-8;j<D.length;++j)D[j]=k&255,k/=256;for(this.v(D),D=Array(16),k=0,j=0;j<4;++j)for(let q=0;q<32;q+=8)D[k++]=this.g[j]>>>q&255;return D};function u(D,k){var j=g;return Object.prototype.hasOwnProperty.call(j,D)?j[D]:j[D]=k(D)}function f(D,k){this.h=k;const j=[];let q=!0;for(let F=D.length-1;F>=0;F--){const U=D[F]|0;q&&U==k||(j[F]=U,q=!1)}this.g=j}var g={};function v(D){return-128<=D&&D<128?u(D,function(k){return new f([k|0],k<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return C;if(D<0)return W(y(-D));const k=[];let j=1;for(let q=0;D>=j;q++)k[q]=D/j|0,j*=4294967296;return new f(k,0)}function S(D,k){if(D.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(D.charAt(0)=="-")return W(S(D.substring(1),k));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(k,8));let q=C;for(let U=0;U<D.length;U+=8){var F=Math.min(8,D.length-U);const z=parseInt(D.substring(U,U+F),k);F<8?(F=y(Math.pow(k,F)),q=q.j(F).add(y(z))):(q=q.j(j),q=q.add(y(z)))}return q}var C=v(0),N=v(1),M=v(16777216);n=f.prototype,n.m=function(){if(K(this))return-W(this).m();let D=0,k=1;for(let j=0;j<this.g.length;j++){const q=this.i(j);D+=(q>=0?q:4294967296+q)*k,k*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(K(this))return"-"+W(this).toString(D);const k=y(Math.pow(D,6));var j=this;let q="";for(;;){const F=xt(j,k).g;j=ft(j,F.j(k));let U=((j.g.length>0?j.g[0]:j.h)>>>0).toString(D);if(j=F,$(j))return U+q;for(;U.length<6;)U="0"+U;q=U+q}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(let k=0;k<D.g.length;k++)if(D.g[k]!=0)return!1;return!0}function K(D){return D.h==-1}n.l=function(D){return D=ft(this,D),K(D)?-1:$(D)?0:1};function W(D){const k=D.g.length,j=[];for(let q=0;q<k;q++)j[q]=~D.g[q];return new f(j,~D.h).add(N)}n.abs=function(){return K(this)?W(this):this},n.add=function(D){const k=Math.max(this.g.length,D.g.length),j=[];let q=0;for(let F=0;F<=k;F++){let U=q+(this.i(F)&65535)+(D.i(F)&65535),z=(U>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);q=z>>>16,U&=65535,z&=65535,j[F]=z<<16|U}return new f(j,j[j.length-1]&-2147483648?-1:0)};function ft(D,k){return D.add(W(k))}n.j=function(D){if($(this)||$(D))return C;if(K(this))return K(D)?W(this).j(W(D)):W(W(this).j(D));if(K(D))return W(this.j(W(D)));if(this.l(M)<0&&D.l(M)<0)return y(this.m()*D.m());const k=this.g.length+D.g.length,j=[];for(var q=0;q<2*k;q++)j[q]=0;for(q=0;q<this.g.length;q++)for(let F=0;F<D.g.length;F++){const U=this.i(q)>>>16,z=this.i(q)&65535,se=D.i(F)>>>16,Ze=D.i(F)&65535;j[2*q+2*F]+=z*Ze,ut(j,2*q+2*F),j[2*q+2*F+1]+=U*Ze,ut(j,2*q+2*F+1),j[2*q+2*F+1]+=z*se,ut(j,2*q+2*F+1),j[2*q+2*F+2]+=U*se,ut(j,2*q+2*F+2)}for(D=0;D<k;D++)j[D]=j[2*D+1]<<16|j[2*D];for(D=k;D<2*k;D++)j[D]=0;return new f(j,0)};function ut(D,k){for(;(D[k]&65535)!=D[k];)D[k+1]+=D[k]>>>16,D[k]&=65535,k++}function st(D,k){this.g=D,this.h=k}function xt(D,k){if($(k))throw Error("division by zero");if($(D))return new st(C,C);if(K(D))return k=xt(W(D),k),new st(W(k.g),W(k.h));if(K(k))return k=xt(D,W(k)),new st(W(k.g),k.h);if(D.g.length>30){if(K(D)||K(k))throw Error("slowDivide_ only works with positive integers.");for(var j=N,q=k;q.l(D)<=0;)j=Mt(j),q=Mt(q);var F=Lt(j,1),U=Lt(q,1);for(q=Lt(q,2),j=Lt(j,2);!$(q);){var z=U.add(q);z.l(D)<=0&&(F=F.add(j),U=z),q=Lt(q,1),j=Lt(j,1)}return k=ft(D,F.j(k)),new st(F,k)}for(F=C;D.l(k)>=0;){for(j=Math.max(1,Math.floor(D.m()/k.m())),q=Math.ceil(Math.log(j)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),U=y(j),z=U.j(k);K(z)||z.l(D)>0;)j-=q,U=y(j),z=U.j(k);$(U)&&(U=N),F=F.add(U),D=ft(D,z)}return new st(F,D)}n.B=function(D){return xt(this,D).h},n.and=function(D){const k=Math.max(this.g.length,D.g.length),j=[];for(let q=0;q<k;q++)j[q]=this.i(q)&D.i(q);return new f(j,this.h&D.h)},n.or=function(D){const k=Math.max(this.g.length,D.g.length),j=[];for(let q=0;q<k;q++)j[q]=this.i(q)|D.i(q);return new f(j,this.h|D.h)},n.xor=function(D){const k=Math.max(this.g.length,D.g.length),j=[];for(let q=0;q<k;q++)j[q]=this.i(q)^D.i(q);return new f(j,this.h^D.h)};function Mt(D){const k=D.g.length+1,j=[];for(let q=0;q<k;q++)j[q]=D.i(q)<<1|D.i(q-1)>>>31;return new f(j,D.h)}function Lt(D,k){const j=k>>5;k%=32;const q=D.g.length-j,F=[];for(let U=0;U<q;U++)F[U]=k>0?D.i(U+j)>>>k|D.i(U+j+1)<<32-k:D.i(U+j);return new f(F,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ox=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=S,Wo=f}).apply(typeof aT<"u"?aT:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nx,Nh,Px,Qd,sv,Lx,Mx,kx;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var E=0;E<d.length;++E){var A=d[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=e(this);function o(d,E){if(E)t:{var A=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var J=d[P];if(!(J in A))break t;A=A[J]}d=d[d.length-1],P=A[d],E=E(P),E!=P&&E!=null&&t(A,d,{configurable:!0,writable:!0,value:E})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(E){var A=[],P;for(P in E)Object.prototype.hasOwnProperty.call(E,P)&&A.push([P,E[P]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var E=typeof d;return E=="object"&&d!=null||E=="function"}function v(d,E,A){return d.call.apply(d.bind,arguments)}function y(d,E,A){return y=v,y.apply(null,arguments)}function S(d,E){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function C(d,E){function A(){}A.prototype=E.prototype,d.Z=E.prototype,d.prototype=new A,d.prototype.constructor=d,d.Ob=function(P,J,rt){for(var Et=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)Et[Gt-2]=arguments[Gt];return E.prototype[J].apply(P,Et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function M(d){const E=d.length;if(E>0){const A=Array(E);for(let P=0;P<E;P++)A[P]=d[P];return A}return[]}function $(d,E){for(let P=1;P<arguments.length;P++){const J=arguments[P];var A=typeof J;if(A=A!="object"?A:J?Array.isArray(J)?"array":A:"null",A=="array"||A=="object"&&typeof J.length=="number"){A=d.length||0;const rt=J.length||0;d.length=A+rt;for(let Et=0;Et<rt;Et++)d[A+Et]=J[Et]}else d.push(J)}}class K{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function W(d){f.setTimeout(()=>{throw d},0)}function ft(){var d=D;let E=null;return d.g&&(E=d.g,d.g=d.g.next,d.g||(d.h=null),E.next=null),E}class ut{constructor(){this.h=this.g=null}add(E,A){const P=st.get();P.set(E,A),this.h?this.h.next=P:this.g=P,this.h=P}}var st=new K(()=>new xt,d=>d.reset());class xt{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Mt,Lt=!1,D=new ut,k=()=>{const d=Promise.resolve(void 0);Mt=()=>{d.then(j)}};function j(){for(var d;d=ft();){try{d.h.call(d.g)}catch(A){W(A)}var E=st;E.j(d),E.h<100&&(E.h++,d.next=E.g,E.g=d)}Lt=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(d,E){this.type=d,this.g=this.target=E,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,E=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};f.addEventListener("test",A,E),f.removeEventListener("test",A,E)}catch{}return d})();function z(d){return/^[\s\xa0]*$/.test(d)}function se(d,E){F.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,E)}C(se,F),se.prototype.init=function(d,E){const A=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=E,E=d.relatedTarget,E||(A=="mouseover"?E=d.fromElement:A=="mouseout"&&(E=d.toElement)),this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),at=0;function Tt(d,E,A,P,J){this.listener=d,this.proxy=null,this.src=E,this.type=A,this.capture=!!P,this.ha=J,this.key=++at,this.da=this.fa=!1}function bt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function re(d,E,A){for(const P in d)E.call(A,d[P],P,d)}function H(d,E){for(const A in d)E.call(void 0,d[A],A,d)}function R(d){const E={};for(const A in d)E[A]=d[A];return E}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(d,E){let A,P;for(let J=1;J<arguments.length;J++){P=arguments[J];for(A in P)d[A]=P[A];for(let rt=0;rt<Y.length;rt++)A=Y[rt],Object.prototype.hasOwnProperty.call(P,A)&&(d[A]=P[A])}}function ct(d){this.src=d,this.g={},this.h=0}ct.prototype.add=function(d,E,A,P,J){const rt=d.toString();d=this.g[rt],d||(d=this.g[rt]=[],this.h++);const Et=vt(d,E,P,J);return Et>-1?(E=d[Et],A||(E.fa=!1)):(E=new Tt(E,this.src,rt,!!P,J),E.fa=A,d.push(E)),E};function _t(d,E){const A=E.type;if(A in d.g){var P=d.g[A],J=Array.prototype.indexOf.call(P,E,void 0),rt;(rt=J>=0)&&Array.prototype.splice.call(P,J,1),rt&&(bt(E),d.g[A].length==0&&(delete d.g[A],d.h--))}}function vt(d,E,A,P){for(let J=0;J<d.length;++J){const rt=d[J];if(!rt.da&&rt.listener==E&&rt.capture==!!A&&rt.ha==P)return J}return-1}var wt="closure_lm_"+(Math.random()*1e6|0),Nt={};function Bt(d,E,A,P,J){if(Array.isArray(E)){for(let rt=0;rt<E.length;rt++)Bt(d,E[rt],A,P,J);return null}return A=bn(A),d&&d[Ze]?d.J(E,A,g(P)?!!P.capture:!1,J):ve(d,E,A,!1,P,J)}function ve(d,E,A,P,J,rt){if(!E)throw Error("Invalid event type");const Et=g(J)?!!J.capture:!!J;let Gt=ln(d);if(Gt||(d[wt]=Gt=new ct(d)),A=Gt.add(E,A,P,Et,rt),A.proxy)return A;if(P=ce(),A.proxy=P,P.src=d,P.listener=A,d.addEventListener)U||(J=Et),J===void 0&&(J=!1),d.addEventListener(E.toString(),P,J);else if(d.attachEvent)d.attachEvent(Wt(E.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}function ce(){function d(A){return E.call(d.src,d.listener,A)}const E=tn;return d}function _e(d,E,A,P,J){if(Array.isArray(E))for(var rt=0;rt<E.length;rt++)_e(d,E[rt],A,P,J);else P=g(P)?!!P.capture:!!P,A=bn(A),d&&d[Ze]?(d=d.i,rt=String(E).toString(),rt in d.g&&(E=d.g[rt],A=vt(E,A,P,J),A>-1&&(bt(E[A]),Array.prototype.splice.call(E,A,1),E.length==0&&(delete d.g[rt],d.h--)))):d&&(d=ln(d))&&(E=d.g[E.toString()],d=-1,E&&(d=vt(E,A,P,J)),(A=d>-1?E[d]:null)&&je(A))}function je(d){if(typeof d!="number"&&d&&!d.da){var E=d.src;if(E&&E[Ze])_t(E.i,d);else{var A=d.type,P=d.proxy;E.removeEventListener?E.removeEventListener(A,P,d.capture):E.detachEvent?E.detachEvent(Wt(A),P):E.addListener&&E.removeListener&&E.removeListener(P),(A=ln(E))?(_t(A,d),A.h==0&&(A.src=null,E[wt]=null)):bt(d)}}}function Wt(d){return d in Nt?Nt[d]:Nt[d]="on"+d}function tn(d,E){if(d.da)d=!0;else{E=new se(E,this);const A=d.listener,P=d.ha||d.src;d.fa&&je(d),d=A.call(P,E)}return d}function ln(d){return d=d[wt],d instanceof ct?d:null}var mn="__closure_events_fn_"+(Math.random()*1e9>>>0);function bn(d){return typeof d=="function"?d:(d[mn]||(d[mn]=function(E){return d.handleEvent(E)}),d[mn])}function Ne(){q.call(this),this.i=new ct(this),this.M=this,this.G=null}C(Ne,q),Ne.prototype[Ze]=!0,Ne.prototype.removeEventListener=function(d,E,A,P){_e(this,d,E,A,P)};function Ee(d,E){var A,P=d.G;if(P)for(A=[];P;P=P.G)A.push(P);if(d=d.M,P=E.type||E,typeof E=="string")E=new F(E,d);else if(E instanceof F)E.target=E.target||d;else{var J=E;E=new F(P,d),lt(E,J)}J=!0;let rt,Et;if(A)for(Et=A.length-1;Et>=0;Et--)rt=E.g=A[Et],J=yi(rt,P,!0,E)&&J;if(rt=E.g=d,J=yi(rt,P,!0,E)&&J,J=yi(rt,P,!1,E)&&J,A)for(Et=0;Et<A.length;Et++)rt=E.g=A[Et],J=yi(rt,P,!1,E)&&J}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var d=this.i;for(const E in d.g){const A=d.g[E];for(let P=0;P<A.length;P++)bt(A[P]);delete d.g[E],d.h--}}this.G=null},Ne.prototype.J=function(d,E,A,P){return this.i.add(String(d),E,!1,A,P)},Ne.prototype.K=function(d,E,A,P){return this.i.add(String(d),E,!0,A,P)};function yi(d,E,A,P){if(E=d.i.g[String(E)],!E)return!0;E=E.concat();let J=!0;for(let rt=0;rt<E.length;++rt){const Et=E[rt];if(Et&&!Et.da&&Et.capture==A){const Gt=Et.listener,ye=Et.ha||Et.src;Et.fa&&_t(d.i,Et),J=Gt.call(ye,P)!==!1&&J}}return J&&!P.defaultPrevented}function Xa(d,E){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:f.setTimeout(d,E||0)}function sa(d){d.g=Xa(()=>{d.g=null,d.i&&(d.i=!1,sa(d))},d.l);const E=d.h;d.h=null,d.m.apply(null,E)}class wn extends q{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:sa(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(d){q.call(this),this.h=d,this.g={}}C(Gr,q);var hr=[];function Es(d){re(d.g,function(E,A){this.g.hasOwnProperty(A)&&je(E)},d),d.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),Es(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=f.JSON.stringify,$a=f.JSON.parse,Ts=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Zr(){}function Ja(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){F.call(this,"d")}C(pn,F);function ui(){F.call(this,"c")}C(ui,F);var en={},Ss=null;function to(){return Ss=Ss||new Ne}en.Ia="serverreachability";function pu(d){F.call(this,en.Ia,d)}C(pu,F);function Ui(d){const E=to();Ee(E,new pu(E))}en.STAT_EVENT="statevent";function xs(d,E){F.call(this,en.STAT_EVENT,d),this.stat=E}C(xs,F);function nn(d){const E=to();Ee(E,new xs(E,d))}en.Ja="timingevent";function fr(d,E){F.call(this,en.Ja,d),this.size=E}C(fr,F);function dr(d,E){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},E)}function Fi(){this.g=!0}Fi.prototype.ua=function(){this.g=!1};function Bc(d,E,A,P,J,rt){d.info(function(){if(d.g)if(rt){var Et="",Gt=rt.split("&");for(let be=0;be<Gt.length;be++){var ye=Gt[be].split("=");if(ye.length>1){const Fe=ye[0];ye=ye[1];const Ci=Fe.split("_");Et=Ci.length>=2&&Ci[1]=="type"?Et+(Fe+"="+ye+"&"):Et+(Fe+"=redacted&")}}}else Et=null;else Et=rt;return"XMLHTTP REQ ("+P+") [attempt "+J+"]: "+E+`
`+A+`
`+Et})}function gu(d,E,A,P,J,rt,Et){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+J+"]: "+E+`
`+A+`
`+rt+" "+Et})}function mr(d,E,A,P){d.info(function(){return"XMLHTTP TEXT ("+E+"): "+Uc(d,A)+(P?" "+P:"")})}function Wr(d,E){d.info(function(){return"TIMEOUT: "+E})}Fi.prototype.info=function(){};function Uc(d,E){if(!d.g)return E;if(!E)return null;try{const rt=JSON.parse(E);if(rt){for(d=0;d<rt.length;d++)if(Array.isArray(rt[d])){var A=rt[d];if(!(A.length<2)){var P=A[1];if(Array.isArray(P)&&!(P.length<1)){var J=P[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Et=1;Et<P.length;Et++)P[Et]=""}}}}return Bi(rt)}catch{return E}}var aa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function Mn(){}C(Mn,Zr),Mn.prototype.g=function(){return new XMLHttpRequest},ll=new Mn;function Ot(d){return encodeURIComponent(String(d))}function ul(d){var E=1;d=d.split(":");const A=[];for(;E>0&&d.length;)A.push(d.shift()),E--;return d.length&&A.push(d.join(":")),A}function bi(d,E,A,P){this.j=d,this.i=E,this.l=A,this.S=P||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var rn={},un={};function Hi(d,E,A){d.M=1,d.A=Le(We(E)),d.u=A,d.R=!0,qi(d,null)}function qi(d,E){d.F=Date.now(),pr(d),d.B=We(d.A);var A=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),Cs(A.i,"t",P),d.C=0,A=d.j.L,d.h=new wi,d.g=gl(d.j,A?E:null,!d.u),d.P>0&&(d.O=new wn(y(d.Y,d,d.g),d.P)),E=d.V,A=d.g,P=d.ba;var J="readystatechange";Array.isArray(J)||(J&&(hr[0]=J.toString()),J=hr);for(let rt=0;rt<J.length;rt++){const Et=Bt(A,J[rt],P||E.handleEvent,!1,E.h||E);if(!Et)break;E.g[Et.key]=Et}E=d.J?R(d.J):{},d.u?(d.v||(d.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,E)):(d.v="GET",d.g.ea(d.B,d.v,null,E)),Ui(),Bc(d.i,d.v,d.B,d.l,d.S,d.u)}bi.prototype.ba=function(d){d=d.target;const E=this.O;E&&Ki(d)==3?E.j():this.Y(d)},bi.prototype.Y=function(d){try{if(d==this.g)t:{const Gt=Ki(this.g),ye=this.g.ya(),be=this.g.ca();if(!(Gt<3)&&(Gt!=3||this.g&&(this.h.h||this.g.la()||Tn(this.g)))){this.K||Gt!=4||ye==7||(ye==8||be<=0?Ui(3):Ui(2)),Gi(this);var E=this.g.ca();this.X=E;var A=_u(this);if(this.o=E==200,gu(this.i,this.v,this.B,this.l,this.S,Gt,E),this.o){if(this.U&&!this.L){e:{if(this.g){var P,J=this.g;if((P=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(P)){var rt=P;break e}}rt=null}if(d=rt)mr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gr(this,d);else{this.o=!1,this.m=3,nn(12),kn(this),Ei(this);break t}}if(this.R){d=!0;let Fe;for(;!this.K&&this.C<A.length;)if(Fe=yu(this,A),Fe==un){Gt==4&&(this.m=4,nn(14),d=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==rn){this.m=4,nn(15),mr(this.i,this.l,A,"[Invalid Chunk]"),d=!1;break}else mr(this.i,this.l,Fe,null),gr(this,Fe);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||A.length!=0||this.h.h||(this.m=1,nn(16),d=!1),this.o=this.o&&d,!d)mr(this.i,this.l,A,"[Invalid Chunked Response]"),kn(this),Ei(this);else if(A.length>0&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.aa&&!Et.P&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),ml(Et),Et.P=!0,nn(11))}}else mr(this.i,this.l,A,null),gr(this,A);Gt==4&&kn(this),this.o&&!this.K&&(Gt==4?fi(this.j,this):(this.o=!1,pr(this)))}else Yi(this.g),E==400&&A.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),kn(this),Ei(this)}}}catch{}finally{}};function _u(d){if(!vu(d))return d.g.la();const E=Tn(d.g);if(E==="")return"";let A="";const P=E.length,J=Ki(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return kn(d),Ei(d),"";d.h.i=new f.TextDecoder}for(let rt=0;rt<P;rt++)d.h.h=!0,A+=d.h.i.decode(E[rt],{stream:!(J&&rt==P-1)});return E.length=0,d.h.g+=A,d.C=0,d.h.g}function vu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function yu(d,E){var A=d.C,P=E.indexOf(`
`,A);return P==-1?un:(A=Number(E.substring(A,P)),isNaN(A)?rn:(P+=1,P+A>E.length?un:(E=E.slice(P,P+A),d.C=P+A,E)))}bi.prototype.cancel=function(){this.K=!0,kn(this)};function pr(d){d.T=Date.now()+d.H,eo(d,d.H)}function eo(d,E){if(d.D!=null)throw Error("WatchDog timer not null");d.D=dr(y(d.aa,d),E)}function Gi(d){d.D&&(f.clearTimeout(d.D),d.D=null)}bi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(Ui(),nn(17)),kn(this),this.m=2,Ei(this)):eo(this,this.T-d)};function Ei(d){d.j.I==0||d.K||fi(d.j,d)}function kn(d){Gi(d);var E=d.O;E&&typeof E.dispose=="function"&&E.dispose(),d.O=null,Es(d.V),d.g&&(E=d.g,d.g=null,E.abort(),E.dispose())}function gr(d,E){try{var A=d.j;if(A.I!=0&&(A.g==d||Ti(A.h,d))){if(!d.L&&Ti(A.h,d)&&A.I==3){try{var P=A.Ba.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var J=P;if(J[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<d.F)lo(A),Ns(A);else break t;fa(A),nn(18)}}else A.xa=J[1],0<A.xa-A.K&&J[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=dr(y(A.Va,A),6e3));_r(A.h)<=1&&A.ta&&(A.ta=void 0)}else Qi(A,11)}else if((d.L||A.g==d)&&lo(A),!z(E))for(J=A.Ba.g.parse(E),E=0;E<J.length;E++){let be=J[E];const Fe=be[0];if(!(Fe<=A.K))if(A.K=Fe,be=be[1],A.I==2)if(be[0]=="c"){A.M=be[1],A.ba=be[2];const Ci=be[3];Ci!=null&&(A.ka=Ci,A.j.info("VER="+A.ka));const Ri=be[4];Ri!=null&&(A.za=Ri,A.j.info("SVER="+A.za));const di=be[5];di!=null&&typeof di=="number"&&di>0&&(P=1.5*di,A.O=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const $i=d.g;if($i){const da=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var rt=P.h;rt.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Kr(rt,rt.h),rt.h=null))}if(P.G){const ma=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;ma&&(P.wa=ma,Rt(P.J,P.G,ma))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-d.F,A.j.info("Handshake RTT: "+A.T+"ms")),P=A;var Et=d;if(P.na=pl(P,P.L?P.ba:null,P.W),Et.L){no(P.h,Et);var Gt=Et,ye=P.O;ye&&(Gt.H=ye),Gt.D&&(Gi(Gt),pr(Gt)),P.g=Et}else dl(P);A.i.length>0&&ei(A)}else be[0]!="stop"&&be[0]!="close"||Qi(A,7);else A.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Qi(A,7):ne(A):be[0]!="noop"&&A.l&&A.l.qa(be),A.A=0)}}Ui(4)}catch{}}var cn=class{constructor(d,E){this.g=d,this.map=E}};function cl(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _r(d){return d.h?1:d.g?d.g.size:0}function Ti(d,E){return d.h?d.h==E:d.g?d.g.has(E):!1}function Kr(d,E){d.g?d.g.add(E):d.h=E}function no(d,E){d.h&&d.h==E?d.h=null:d.g&&d.g.has(E)&&d.g.delete(E)}cl.prototype.cancel=function(){if(this.i=io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function io(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let E=d.i;for(const A of d.g.values())E=E.concat(A.G);return E}return M(d.i)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ie(d,E){if(d){d=d.split("&");for(let A=0;A<d.length;A++){const P=d[A].indexOf("=");let J,rt=null;P>=0?(J=d[A].substring(0,P),rt=d[A].substring(P+1)):J=d[A],E(J,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function ae(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;d instanceof ae?(this.l=d.l,Ke(this,d.j),this.o=d.o,this.g=d.g,ci(this,d.u),this.h=d.h,oa(this,ca(d.i)),this.m=d.m):d&&(E=String(d).match(As))?(this.l=!1,Ke(this,E[1]||"",!0),this.o=Si(E[2]||""),this.g=Si(E[3]||"",!0),ci(this,E[4]),this.h=Si(E[5]||"",!0),oa(this,E[6]||"",!0),this.m=Si(E[7]||"")):(this.l=!1,this.i=new xi(null,this.l))}ae.prototype.toString=function(){const d=[];var E=this.j;E&&d.push(vr(E,ro,!0),":");var A=this.g;return(A||E=="file")&&(d.push("//"),(E=this.o)&&d.push(vr(E,ro,!0),"@"),d.push(Ot(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&d.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(vr(A,A.charAt(0)=="/"?Zi:la,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",vr(A,yr)),d.join("")},ae.prototype.resolve=function(d){const E=We(this);let A=!!d.j;A?Ke(E,d.j):A=!!d.o,A?E.o=d.o:A=!!d.g,A?E.g=d.g:A=d.u!=null;var P=d.h;if(A)ci(E,d.u);else if(A=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var J=E.h.lastIndexOf("/");J!=-1&&(P=E.h.slice(0,J+1)+P)}if(J=P,J==".."||J==".")P="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){P=J.lastIndexOf("/",0)==0,J=J.split("/");const rt=[];for(let Et=0;Et<J.length;){const Gt=J[Et++];Gt=="."?P&&Et==J.length&&rt.push(""):Gt==".."?((rt.length>1||rt.length==1&&rt[0]!="")&&rt.pop(),P&&Et==J.length&&rt.push("")):(rt.push(Gt),P=!0)}P=rt.join("/")}else P=J}return A?E.h=P:A=d.i.toString()!=="",A?oa(E,ca(d.i)):A=!!d.m,A&&(E.m=d.m),E};function We(d){return new ae(d)}function Ke(d,E,A){d.j=A?Si(E,!0):E,d.j&&(d.j=d.j.replace(/:$/,""))}function ci(d,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);d.u=E}else d.u=null}function oa(d,E,A){E instanceof xi?(d.i=E,Rs(d.i,d.l)):(A||(E=vr(E,Me)),d.i=new xi(E,d.l))}function Rt(d,E,A){d.i.set(E,A)}function Le(d){return Rt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Si(d,E){return d?E?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function vr(d,E,A){return typeof d=="string"?(d=encodeURI(d).replace(E,Ue),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ue(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var ro=/[#\/\?@]/g,la=/[#\?:]/g,Zi=/[#\?]/g,Me=/[#\?@]/g,yr=/#/g;function xi(d,E){this.h=this.g=null,this.i=d||null,this.j=!!E}function En(d){d.g||(d.g=new Map,d.h=0,d.i&&ie(d.i,function(E,A){d.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=xi.prototype,n.add=function(d,E){En(this),this.i=null,d=br(this,d);let A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(E),this.h+=1,this};function so(d,E){En(d),E=br(d,E),d.g.has(E)&&(d.i=null,d.h-=d.g.get(E).length,d.g.delete(E))}function Yr(d,E){return En(d),E=br(d,E),d.g.has(E)}n.forEach=function(d,E){En(this),this.g.forEach(function(A,P){A.forEach(function(J){d.call(E,J,P,this)},this)},this)};function ua(d,E){En(d);let A=[];if(typeof E=="string")Yr(d,E)&&(A=A.concat(d.g.get(br(d,E))));else for(d=Array.from(d.g.values()),E=0;E<d.length;E++)A=A.concat(d[E]);return A}n.set=function(d,E){return En(this),this.i=null,d=br(this,d),Yr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[E]),this.h+=1,this},n.get=function(d,E){return d?(d=ua(this,d),d.length>0?String(d[0]):E):E};function Cs(d,E,A){so(d,E),A.length>0&&(d.i=null,d.g.set(br(d,E),M(A)),d.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],E=Array.from(this.g.keys());for(let P=0;P<E.length;P++){var A=E[P];const J=Ot(A);A=ua(this,A);for(let rt=0;rt<A.length;rt++){let Et=J;A[rt]!==""&&(Et+="="+Ot(A[rt])),d.push(Et)}}return this.i=d.join("&")};function ca(d){const E=new xi;return E.i=d.i,d.g&&(E.g=new Map(d.g),E.h=d.h),E}function br(d,E){return E=String(E),d.j&&(E=E.toLowerCase()),E}function Rs(d,E){E&&!d.j&&(En(d),d.i=null,d.g.forEach(function(A,P){const J=P.toLowerCase();P!=J&&(so(this,P),Cs(this,J,A))},d)),d.j=E}function $n(d,E){const A=new Fi;if(f.Image){const P=new Image;P.onload=S(Jn,A,"TestLoadImage: loaded",!0,E,P),P.onerror=S(Jn,A,"TestLoadImage: error",!1,E,P),P.onabort=S(Jn,A,"TestLoadImage: abort",!1,E,P),P.ontimeout=S(Jn,A,"TestLoadImage: timeout",!1,E,P),f.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else E(!1)}function ao(d,E){const A=new Fi,P=new AbortController,J=setTimeout(()=>{P.abort(),Jn(A,"TestPingServer: timeout",!1,E)},1e4);fetch(d,{signal:P.signal}).then(rt=>{clearTimeout(J),rt.ok?Jn(A,"TestPingServer: ok",!0,E):Jn(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(J),Jn(A,"TestPingServer: error",!1,E)})}function Jn(d,E,A,P,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),P(A)}catch{}}function Is(){this.g=new Ts}function Ut(d){this.i=d.Sb||null,this.h=d.ab||!1}C(Ut,Zr),Ut.prototype.g=function(){return new Dn(this.i,this.h)};function Dn(d,E){Ne.call(this),this.H=d,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Dn,Ne),n=Dn.prototype,n.open=function(d,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=E,this.readyState=1,hi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(E.body=d),(this.H||f).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Te(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Te(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var E=d.value?d.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!d.done}))&&(this.response=this.responseText+=E)}d.done?Qr(this):hi(this),this.readyState==3&&Te(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Qr(this))},n.Na=function(d){this.g&&(this.response=d,Qr(this))},n.ga=function(){this.g&&Qr(this)};function Qr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,hi(d)}n.setRequestHeader=function(d,E){this.A.append(d,E)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=E.next();return d.join(`\r
`)};function hi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ti(d){let E="";return re(d,function(A,P){E+=P,E+=":",E+=A,E+=`\r
`}),E}function Xr(d,E,A){t:{for(P in A){var P=!1;break t}P=!0}P||(A=ti(A),typeof d=="string"?A!=null&&Ot(A):Rt(d,E,A))}function he(d){Ne.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(he,Ne);var Ai=/^https?$/i,$r=["POST","PUT"];n=he.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,E,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);E=E?E.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(E,String(d),!0),this.B=!1}catch(rt){Ye(this,rt);return}if(d=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var J in P)A.set(J,P[J]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const rt of P.keys())A.set(rt,P.get(rt));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(rt=>rt.toLowerCase()=="content-type"),J=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call($r,E,void 0)>=0)||P||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,Et]of A)this.g.setRequestHeader(rt,Et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(rt){Ye(this,rt)}};function Ye(d,E){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=E,d.o=5,Wi(d),wr(d)}function Wi(d){d.A||(d.A=!0,Ee(d,"complete"),Ee(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ee(this,"complete"),Ee(this,"abort"),wr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wr(this,!0)),he.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},n.Xa=function(){Os(this)};function Os(d){if(d.h&&typeof u<"u"){if(d.v&&Ki(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ee(d,"readystatechange"),Ki(d)==4){d.h=!1;try{const rt=d.ca();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var A;if(!(A=E)){var P;if(P=rt===0){let Et=String(d.D).match(As)[1]||null;!Et&&f.self&&f.self.location&&(Et=f.self.location.protocol.slice(0,-1)),P=!Ai.test(Et?Et.toLowerCase():"")}A=P}if(A)Ee(d,"complete"),Ee(d,"success");else{d.o=6;try{var J=Ki(d)>2?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.ca()+"]",Wi(d)}}finally{wr(d)}}}}function wr(d,E){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const A=d.g;d.g=null,E||Ee(d,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ki(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Ki(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var E=this.g.responseText;return d&&E.indexOf(d)==0&&(E=E.substring(d.length)),$a(E)}};function Tn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(d){const E={};d=(d.g&&Ki(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(z(d[P]))continue;var A=ul(d[P]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const rt=E[J]||[];E[J]=rt,rt.push(A)}H(E,function(P){return P.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(d,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||E}function Jr(d){this.za=0,this.i=[],this.j=new Fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,d),this.Za=Er("retryDelaySeedMs",1e4,d),this.Ta=Er("forwardChannelMaxRetries",2,d),this.va=Er("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(d&&d.concurrentRequestLimit),this.Ba=new Is,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Jr.prototype,n.ka=8,n.I=1,n.connect=function(d,E,A,P){nn(0),this.W=d,this.H=E||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.J=pl(this,null,this.W),ei(this)};function ne(d){if(jn(d),d.I==3){var E=d.V++,A=We(d.J);if(Rt(A,"SID",d.M),Rt(A,"RID",E),Rt(A,"TYPE","terminate"),ts(d,A),E=new bi(d,d.j,E),E.M=2,E.A=Le(We(A)),A=!1,f.navigator&&f.navigator.sendBeacon)try{A=f.navigator.sendBeacon(E.A.toString(),"")}catch{}!A&&f.Image&&(new Image().src=E.A,A=!0),A||(E.g=gl(E.j,null),E.g.ea(E.A)),E.F=Date.now(),pr(E)}Xi(d)}function Ns(d){d.g&&(ml(d),d.g.cancel(),d.g=null)}function jn(d){Ns(d),d.v&&(f.clearTimeout(d.v),d.v=null),lo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function ei(d){if(!hl(d.h)&&!d.m){d.m=!0;var E=d.Ea;Mt||k(),Lt||(Mt(),Lt=!0),D.add(E,d),d.D=0}}function ha(d,E){return _r(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=E.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=dr(y(d.Ea,d,E),wu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const J=new bi(this,this.j,d);let rt=this.o;if(this.U&&(rt?(rt=R(rt),lt(rt,this.U)):rt=this.U),this.u!==null||this.R||(J.J=rt,rt=null),this.S)t:{for(var E=0,A=0;A<this.i.length;A++){e:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(E+=P,E>4096){E=A;break t}if(E===4096||A===this.i.length-1){E=A+1;break t}}E=1e3}else E=1e3;E=bu(this,J,E),A=We(this.J),Rt(A,"RID",d),Rt(A,"CVER",22),this.G&&Rt(A,"X-HTTP-Session-Id",this.G),ts(this,A),rt&&(this.R?E="headers="+Ot(ti(rt))+"&"+E:this.u&&Xr(A,this.u,rt)),Kr(this.h,J),this.Ra&&Rt(A,"TYPE","init"),this.S?(Rt(A,"$req",E),Rt(A,"SID","null"),J.U=!0,Hi(J,A,null)):Hi(J,A,E),this.I=2}}else this.I==3&&(d?fl(this,d):this.i.length==0||hl(this.h)||fl(this))};function fl(d,E){var A;E?A=E.l:A=d.V++;const P=We(d.J);Rt(P,"SID",d.M),Rt(P,"RID",A),Rt(P,"AID",d.K),ts(d,P),d.u&&d.o&&Xr(P,d.u,d.o),A=new bi(d,d.j,A,d.D+1),d.u===null&&(A.J=d.o),E&&(d.i=E.G.concat(d.i)),E=bu(d,A,1e3),A.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Kr(d.h,A),Hi(A,P,E)}function ts(d,E){d.H&&re(d.H,function(A,P){Rt(E,P,A)}),d.l&&re({},function(A,P){Rt(E,P,A)})}function bu(d,E,A){A=Math.min(d.i.length,A);const P=d.l?y(d.l.Ka,d.l,d):null;t:{var J=d.i;let Gt=-1;for(;;){const ye=["count="+A];Gt==-1?A>0?(Gt=J[0].g,ye.push("ofs="+Gt)):Gt=0:ye.push("ofs="+Gt);let be=!0;for(let Fe=0;Fe<A;Fe++){var rt=J[Fe].g;const Ci=J[Fe].map;if(rt-=Gt,rt<0)Gt=Math.max(0,J[Fe].g-100),be=!1;else try{rt="req"+rt+"_"||"";try{var Et=Ci instanceof Map?Ci:Object.entries(Ci);for(const[Ri,di]of Et){let $i=di;g(di)&&($i=Bi(di)),ye.push(rt+Ri+"="+encodeURIComponent($i))}}catch(Ri){throw ye.push(rt+"type="+encodeURIComponent("_badmap")),Ri}}catch{P&&P(Ci)}}if(be){Et=ye.join("&");break t}}Et=void 0}return d=d.i.splice(0,A),E.G=d,Et}function dl(d){if(!d.g&&!d.v){d.Y=1;var E=d.Da;Mt||k(),Lt||(Mt(),Lt=!0),D.add(E,d),d.A=0}}function fa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=dr(y(d.Da,d),wu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=dr(y(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),Ns(this),oo(this))};function ml(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function oo(d){d.g=new bi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var E=We(d.na);Rt(E,"RID","rpc"),Rt(E,"SID",d.M),Rt(E,"AID",d.K),Rt(E,"CI",d.F?"0":"1"),!d.F&&d.ia&&Rt(E,"TO",d.ia),Rt(E,"TYPE","xmlhttp"),ts(d,E),d.u&&d.o&&Xr(E,d.u,d.o),d.O&&(d.g.H=d.O);var A=d.g;d=d.ba,A.M=1,A.A=Le(We(E)),A.u=null,A.R=!0,qi(A,d)}n.Va=function(){this.C!=null&&(this.C=null,Ns(this),fa(this),nn(19))};function lo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function fi(d,E){var A=null;if(d.g==E){lo(d),ml(d),d.g=null;var P=2}else if(Ti(d.h,E))A=E.G,no(d.h,E),P=1;else return;if(d.I!=0){if(E.o)if(P==1){A=E.u?E.u.length:0,E=Date.now()-E.F;var J=d.D;P=to(),Ee(P,new fr(P,A)),ei(d)}else dl(d);else if(J=E.m,J==3||J==0&&E.X>0||!(P==1&&ha(d,E)||P==2&&fa(d)))switch(A&&A.length>0&&(E=d.h,E.i=E.i.concat(A)),J){case 1:Qi(d,5);break;case 4:Qi(d,10);break;case 3:Qi(d,6);break;default:Qi(d,2)}}}function wu(d,E){let A=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(A*=2),A*E}function Qi(d,E){if(d.j.info("Error code "+E),E==2){var A=y(d.bb,d),P=d.Ua;const J=!P;P=new ae(P||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ke(P,"https"),Le(P),J?$n(P.toString(),A):ao(P.toString(),A)}else nn(2);d.I=0,d.l&&d.l.pa(E),Xi(d),jn(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Xi(d){if(d.I=0,d.ja=[],d.l){const E=io(d.h);(E.length!=0||d.i.length!=0)&&($(d.ja,E),$(d.ja,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.oa()}}function pl(d,E,A){var P=A instanceof ae?We(A):new ae(A);if(P.g!="")E&&(P.g=E+"."+P.g),ci(P,P.u);else{var J=f.location;P=J.protocol,E=E?E+"."+J.hostname:J.hostname,J=+J.port;const rt=new ae(null);P&&Ke(rt,P),E&&(rt.g=E),J&&ci(rt,J),A&&(rt.h=A),P=rt}return A=d.G,E=d.wa,A&&E&&Rt(P,A,E),Rt(P,"VER",d.ka),ts(d,P),P}function gl(d,E,A){if(E&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=d.Aa&&!d.ma?new he(new Ut({ab:A})):new he(d.ma),E.Fa(d.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uo(){}n=uo.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ps(){}Ps.prototype.g=function(d,E){return new Vn(d,E)};function Vn(d,E){Ne.call(this),this.g=new Jr(E),this.l=d,this.h=E&&E.messageUrlParams||null,d=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(d?d["X-WebChannel-Content-Type"]=E.messageContentType:d={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(d?d["X-WebChannel-Client-Profile"]=E.sa:d={"X-WebChannel-Client-Profile":E.sa}),this.g.U=d,(d=E&&E.Qb)&&!z(d)&&(this.g.u=d),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!z(E)&&(this.g.G=E,d=this.h,d!==null&&E in d&&(d=this.h,E in d&&delete d[E])),this.j=new es(this)}C(Vn,Ne),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){ne(this.g)},Vn.prototype.o=function(d){var E=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.v&&(A={},A.__data__=Bi(d),d=A);E.i.push(new cn(E.Ya++,d)),E.I==3&&ei(E)},Vn.prototype.N=function(){this.g.l=null,delete this.j,ne(this.g),delete this.g,Vn.Z.N.call(this)};function _l(d){pn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var E=d.__sm__;if(E){t:{for(const A in E){d=A;break t}d=void 0}(this.i=d)&&(d=this.i,E=E!==null&&d in E?E[d]:void 0),this.data=E}else this.data=d}C(_l,pn);function Eu(){ui.call(this),this.status=1}C(Eu,ui);function es(d){this.g=d}C(es,uo),es.prototype.ra=function(){Ee(this.g,"a")},es.prototype.qa=function(d){Ee(this.g,new _l(d))},es.prototype.pa=function(d){Ee(this.g,new Eu)},es.prototype.oa=function(){Ee(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,kx=function(){return new Ps},Mx=function(){return to()},Lx=en,sv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Qd=aa,ol.COMPLETE="complete",Px=ol,Ja.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,Nh=Ja,he.prototype.listenOnce=he.prototype.K,he.prototype.getLastError=he.prototype.Ha,he.prototype.getLastErrorCode=he.prototype.ya,he.prototype.getStatus=he.prototype.ca,he.prototype.getResponseJson=he.prototype.La,he.prototype.getResponseText=he.prototype.la,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Fa,Nx=he}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});const oT="@firebase/firestore",lT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new $m("@firebase/firestore");function ic(){return eu.logLevel}function It(n,...t){if(eu.logLevel<=me.DEBUG){const e=t.map(ey);eu.debug(`Firestore (${kc}): ${n}`,...e)}}function Wa(n,...t){if(eu.logLevel<=me.ERROR){const e=t.map(ey);eu.error(`Firestore (${kc}): ${n}`,...e)}}function wc(n,...t){if(eu.logLevel<=me.WARN){const e=t.map(ey);eu.warn(`Firestore (${kc}): ${n}`,...e)}}function ey(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Dx(n,r,e)}function Dx(n,t,e){let r=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Wa(r),new Error(r)}function Pe(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||Dx(t,o,r)}function Xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends ws{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Qk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ai.UNAUTHENTICATED)))}shutdown(){}}class Xk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class $k{constructor(t){this.t=t,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Pe(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ba,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=u;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ba)}}),0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new jx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string",2055,{h:t}),new ai(t)}}class Jk{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new Jk(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ai.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Pe(this.o===void 0,3512);const r=u=>{u.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,It("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Pe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new uT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=nD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function pe(n,t){return n<t?-1:n>t?1:0}function av(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return C_(o)===C_(u)?pe(o,u):C_(o)?1:-1}return pe(n.length,t.length)}const iD=55296,rD=57343;function C_(n){const t=n.charCodeAt(0);return t>=iD&&t<=rD}function Ec(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="__name__";class Hs{constructor(t,e,r){e===void 0?e=0:e>t.length&&qt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&qt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Hs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hs?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Hs.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return pe(t.length,e.length)}static compareSegments(t,e){const r=Hs.isNumericId(t),o=Hs.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Hs.extractNumericId(t).compare(Hs.extractNumericId(e)):av(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wo.fromString(t.substring(4,t.length-2))}}class qe extends Hs{construct(t,e,r){return new qe(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ct(gt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new qe(e)}static emptyPath(){return new qe([])}}const sD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Hs{construct(t,e,r){return new Yn(t,e,r)}static isValidIdentifier(t){return sD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cT}static keyField(){return new Yn([cT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Ct(gt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new Ct(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ct(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(r+=g,o++):(u(),o++)}if(u(),f)throw new Ct(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yn(e)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.path=t}static fromPath(t){return new zt(qe.fromString(t))}static fromName(t){return new zt(qe.fromString(t).popFirst(5))}static empty(){return new zt(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return qe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new qe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n,t,e){if(!e)throw new Ct(gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function aD(n,t,e,r){if(t===!0&&r===!0)throw new Ct(gt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function hT(n){if(!zt.isDocumentKey(n))throw new Ct(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fT(n){if(zt.isDocumentKey(n))throw new Ct(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function np(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":qt(12329,{type:typeof n})}function vs(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=np(n);throw new Ct(gt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n,t){const e={typeString:n};return t&&(e.value=t),e}function _f(n,t){if(!zx(n))throw new Ct(gt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const f=n[r];if(o&&typeof f!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new Ct(gt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=-62135596800,mT=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*mT);return new Xe(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<dT)throw new Ct(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mT}_compareTo(t){return this.seconds===t.seconds?pe(this.nanoseconds,t.nanoseconds):pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_f(t,Xe._jsonSchema))return new Xe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-dT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:On("string",Xe._jsonSchemaVersion),seconds:On("number"),nanoseconds:On("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(t){return new Kt(t)}static min(){return new Kt(new Xe(0,0))}static max(){return new Kt(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=-1;function oD(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Kt.fromTimestamp(r===1e9?new Xe(e+1,0):new Xe(e,r));return new Qo(o,zt.empty(),t)}function lD(n){return new Qo(n.readTime,n.key,Qh)}class Qo{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Qo(Kt.min(),zt.empty(),Qh)}static max(){return new Qo(Kt.max(),zt.empty(),Qh)}}function uD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=zt.comparator(n.documentKey,t.documentKey),e!==0?e:pe(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(n){if(n.code!==gt.FAILED_PRECONDITION||n.message!==cD)throw n;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new yt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof yt?e:yt.resolve(e)}catch(e){return yt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):yt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):yt.reject(e)}static resolve(t){return new yt(((e,r)=>{e(t)}))}static reject(t){return new yt(((e,r)=>{r(t)}))}static waitFor(t){return new yt(((e,r)=>{let o=0,u=0,f=!1;t.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&e()}),(v=>r(v)))})),f=!0,u===o&&e()}))}static or(t){let e=yt.resolve(!1);for(const r of t)e=e.next((o=>o?yt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new yt(((r,o)=>{const u=t.length,f=new Array(u);let g=0;for(let v=0;v<u;v++){const y=v;e(t[y]).next((S=>{f[y]=S,++g,g===u&&r(f)}),(S=>o(S)))}}))}static doWhile(t,e){return new yt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function fD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function jc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ip.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-1;function rp(n){return n==null}function Em(n){return n===0&&1/n==-1/0}function dD(n){return typeof n=="number"&&Number.isInteger(n)&&!Em(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="";function mD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=pT(t)),t=pD(n.get(e),t);return pT(t)}function pD(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case Bx:e+="";break;default:e+=u}}return e}function pT(n){return n+Bx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function sl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Ux(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,e){this.comparator=t,this.root=e||Zn.EMPTY}insert(t,e){return new on(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(t){return new on(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dd(this.root,t,this.comparator,!0)}}class Dd{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Zn.RED,this.left=o??Zn.EMPTY,this.right=u??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Zn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Zn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw qt(27949);return t+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Zn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.comparator=t,this.data=new on(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(t){return new _T(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ln)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ln(this.comparator);return e.data=t,e}}class _T{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.fields=t,t.sort(Yn.comparator)}static empty(){return new or([])}unionWith(t){let e=new Ln(Yn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new or(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ec(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Fx("Invalid base64 string: "+u):u}})(t);return new Qn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Qn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(Pe(!!n,39018),typeof n=="string"){let t=0;const e=gD.exec(n);if(Pe(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vn(n.seconds),nanos:vn(n.nanos)}}function vn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?Qn.fromBase64String(n):Qn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="server_timestamp",qx="__type__",Gx="__previous_value__",Zx="__local_write_time__";function ry(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[qx])==null?void 0:r.stringValue)===Hx}function sp(n){const t=n.mapValue.fields[Gx];return ry(t)?sp(t):t}function Xh(n){const t=Xo(n.mapValue.fields[Zx].timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,e,r,o,u,f,g,v,y,S){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S}}const Tm="(default)";class $h{constructor(t,e){this.projectId=t,this.database=e||Tm}static empty(){return new $h("","")}get isDefaultDatabase(){return this.database===Tm}isEqual(t){return t instanceof $h&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__type__",vD="__max__",jd={mapValue:{}},Kx="__vector__",Sm="value";function Jo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ry(n)?4:bD(n)?9007199254740991:yD(n)?10:11:qt(28295,{value:n})}function ia(n,t){if(n===t)return!0;const e=Jo(n);if(e!==Jo(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xh(n).isEqual(Xh(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Xo(o.timestampValue),g=Xo(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return $o(o.bytesValue).isEqual($o(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return vn(o.geoPointValue.latitude)===vn(u.geoPointValue.latitude)&&vn(o.geoPointValue.longitude)===vn(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vn(o.integerValue)===vn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vn(o.doubleValue),g=vn(u.doubleValue);return f===g?Em(f)===Em(g):isNaN(f)&&isNaN(g)}return!1})(n,t);case 9:return Ec(n.arrayValue.values||[],t.arrayValue.values||[],ia);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(gT(f)!==gT(g))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(g[v]===void 0||!ia(f[v],g[v])))return!1;return!0})(n,t);default:return qt(52216,{left:n})}}function Jh(n,t){return(n.values||[]).find((e=>ia(e,t)))!==void 0}function Tc(n,t){if(n===t)return 0;const e=Jo(n),r=Jo(t);if(e!==r)return pe(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=vn(u.integerValue||u.doubleValue),v=vn(f.integerValue||f.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(n,t);case 3:return vT(n.timestampValue,t.timestampValue);case 4:return vT(Xh(n),Xh(t));case 5:return av(n.stringValue,t.stringValue);case 6:return(function(u,f){const g=$o(u),v=$o(f);return g.compareTo(v)})(n.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),v=f.split("/");for(let y=0;y<g.length&&y<v.length;y++){const S=pe(g[y],v[y]);if(S!==0)return S}return pe(g.length,v.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=pe(vn(u.latitude),vn(f.latitude));return g!==0?g:pe(vn(u.longitude),vn(f.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return yT(n.arrayValue,t.arrayValue);case 10:return(function(u,f){var N,M,$,K;const g=u.fields||{},v=f.fields||{},y=(N=g[Sm])==null?void 0:N.arrayValue,S=(M=v[Sm])==null?void 0:M.arrayValue,C=pe((($=y==null?void 0:y.values)==null?void 0:$.length)||0,((K=S==null?void 0:S.values)==null?void 0:K.length)||0);return C!==0?C:yT(y,S)})(n.mapValue,t.mapValue);case 11:return(function(u,f){if(u===jd.mapValue&&f===jd.mapValue)return 0;if(u===jd.mapValue)return 1;if(f===jd.mapValue)return-1;const g=u.fields||{},v=Object.keys(g),y=f.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let C=0;C<v.length&&C<S.length;++C){const N=av(v[C],S[C]);if(N!==0)return N;const M=Tc(g[v[C]],y[S[C]]);if(M!==0)return M}return pe(v.length,S.length)})(n.mapValue,t.mapValue);default:throw qt(23264,{he:e})}}function vT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return pe(n,t);const e=Xo(n),r=Xo(t),o=pe(e.seconds,r.seconds);return o!==0?o:pe(e.nanos,r.nanos)}function yT(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Tc(e[o],r[o]);if(u)return u}return pe(e.length,r.length)}function Sc(n){return ov(n)}function ov(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Xo(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return $o(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return zt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=ov(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${ov(e.fields[f])}`;return o+"}"})(n.mapValue):qt(61005,{value:n})}function Xd(n){switch(Jo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sp(n);return t?16+Xd(t):16;case 5:return 2*n.stringValue.length;case 6:return $o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Xd(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return sl(r.fields,((u,f)=>{o+=u.length+Xd(f)})),o})(n.mapValue);default:throw qt(13486,{value:n})}}function bT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function lv(n){return!!n&&"integerValue"in n}function sy(n){return!!n&&"arrayValue"in n}function wT(n){return!!n&&"nullValue"in n}function ET(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $d(n){return!!n&&"mapValue"in n}function yD(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[Wx])==null?void 0:r.stringValue)===Kx}function Bh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return sl(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Bh(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Bh(n.arrayValue.values[e]);return t}return{...n}}function bD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===vD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.value=t}static empty(){return new zi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!$d(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bh(e)}setAll(t){let e=Yn.emptyPath(),r={},o=[];t.forEach(((f,g)=>{if(!e.isImmediateParentOf(g)){const v=this.getFieldsMap(e);this.applyChanges(v,r,o),r={},o=[],e=g.popLast()}f?r[g.lastSegment()]=Bh(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());$d(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ia(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];$d(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){sl(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new zi(Bh(this.value))}}function Yx(n){const t=[];return sl(n.fields,((e,r)=>{const o=new Yn([e]);if($d(r)){const u=Yx(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new or(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,e,r,o,u,f,g){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new oi(t,0,Kt.min(),Kt.min(),Kt.min(),zi.empty(),0)}static newFoundDocument(t,e,r,o){return new oi(t,1,e,Kt.min(),r,o,0)}static newNoDocument(t,e){return new oi(t,2,e,Kt.min(),Kt.min(),zi.empty(),0)}static newUnknownDocument(t,e){return new oi(t,3,e,Kt.min(),Kt.min(),zi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof oi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,e){this.position=t,this.inclusive=e}}function TT(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],f=n.position[o];if(u.field.isKeyField()?r=zt.comparator(zt.fromName(f.referenceValue),e.key):r=Tc(f,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function ST(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ia(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,e="asc"){this.field=t,this.dir=e}}function wD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{}class In extends Qx{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new TD(t,e,r):e==="array-contains"?new AD(t,r):e==="in"?new CD(t,r):e==="not-in"?new RD(t,r):e==="array-contains-any"?new ID(t,r):new In(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new SD(t,r):new xD(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Tc(e,this.value)):e!==null&&Jo(this.value)===Jo(e)&&this.matchesComparison(Tc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends Qx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ys(t,e)}matches(t){return Xx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xx(n){return n.op==="and"}function $x(n){return ED(n)&&Xx(n)}function ED(n){for(const t of n.filters)if(t instanceof ys)return!1;return!0}function uv(n){if(n instanceof In)return n.field.canonicalString()+n.op.toString()+Sc(n.value);if($x(n))return n.filters.map((t=>uv(t))).join(",");{const t=n.filters.map((e=>uv(e))).join(",");return`${n.op}(${t})`}}function Jx(n,t){return n instanceof In?(function(r,o){return o instanceof In&&r.op===o.op&&r.field.isEqual(o.field)&&ia(r.value,o.value)})(n,t):n instanceof ys?(function(r,o){return o instanceof ys&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,g)=>u&&Jx(f,o.filters[g])),!0):!1})(n,t):void qt(19439)}function tA(n){return n instanceof In?(function(e){return`${e.field.canonicalString()} ${e.op} ${Sc(e.value)}`})(n):n instanceof ys?(function(e){return e.op.toString()+" {"+e.getFilters().map(tA).join(" ,")+"}"})(n):"Filter"}class TD extends In{constructor(t,e,r){super(t,e,r),this.key=zt.fromName(r.referenceValue)}matches(t){const e=zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class SD extends In{constructor(t,e){super(t,"in",e),this.keys=eA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class xD extends In{constructor(t,e){super(t,"not-in",e),this.keys=eA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function eA(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((r=>zt.fromName(r.referenceValue)))}class AD extends In{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return sy(e)&&Jh(e.arrayValue,this.value)}}class CD extends In{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Jh(this.value.arrayValue,e)}}class RD extends In{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Jh(this.value.arrayValue,e)}}class ID extends In{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!sy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Jh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,e=null,r=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function xT(n,t=null,e=[],r=[],o=null,u=null,f=null){return new OD(n,t,e,r,o,u,f)}function ay(n){const t=Xt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>uv(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),rp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Sc(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Sc(r))).join(",")),t.Te=e}return t.Te}function oy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!wD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Jx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ST(n.startAt,t.startAt)&&ST(n.endAt,t.endAt)}function cv(n){return zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e=null,r=[],o=[],u=null,f="F",g=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ND(n,t,e,r,o,u,f,g){return new vf(n,t,e,r,o,u,f,g)}function ly(n){return new vf(n)}function AT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nA(n){return n.collectionGroup!==null}function Uh(n){const t=Xt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ln(Yn.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Am(u,r))})),e.has(Yn.keyField().canonicalString())||t.Ie.push(new Am(Yn.keyField(),r))}return t.Ie}function $s(n){const t=Xt(n);return t.Ee||(t.Ee=PD(t,Uh(n))),t.Ee}function PD(n,t){if(n.limitType==="F")return xT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Am(o.field,u)}));const e=n.endAt?new xm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xm(n.startAt.position,n.startAt.inclusive):null;return xT(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function hv(n,t){const e=n.filters.concat([t]);return new vf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function fv(n,t,e){return new vf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ap(n,t){return oy($s(n),$s(t))&&n.limitType===t.limitType}function iA(n){return`${ay($s(n))}|lt:${n.limitType}`}function rc(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>tA(o))).join(", ")}]`),rp(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Sc(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Sc(o))).join(",")),`Target(${r})`})($s(n))}; limitType=${n.limitType})`}function op(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):zt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of Uh(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(f,g,v){const y=TT(f,g,v);return f.inclusive?y<=0:y<0})(r.startAt,Uh(r),o)||r.endAt&&!(function(f,g,v){const y=TT(f,g,v);return f.inclusive?y>=0:y>0})(r.endAt,Uh(r),o))})(n,t)}function LD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rA(n){return(t,e)=>{let r=!1;for(const o of Uh(n)){const u=MD(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function MD(n,t,e){const r=n.field.isKeyField()?zt.comparator(t.key,e.key):(function(u,f,g){const v=f.data.field(u),y=g.data.field(u);return v!==null&&y!==null?Tc(v,y):qt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sl(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return Ux(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new on(zt.comparator);function Ka(){return kD}const sA=new on(zt.comparator);function Ph(...n){let t=sA;for(const e of n)t=t.insert(e.key,e);return t}function aA(n){let t=sA;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Gl(){return Fh()}function oA(){return Fh()}function Fh(){return new fu((n=>n.toString()),((n,t)=>n.isEqual(t)))}const DD=new on(zt.comparator),jD=new Ln(zt.comparator);function ge(...n){let t=jD;for(const e of n)t=t.add(e);return t}const VD=new Ln(pe);function zD(){return VD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Em(t)?"-0":t}}function lA(n){return{integerValue:""+n}}function BD(n,t){return dD(t)?lA(t):uy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this._=void 0}}function UD(n,t,e){return n instanceof Cm?(function(o,u){const f={fields:{[qx]:{stringValue:Hx},[Zx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ry(u)&&(u=sp(u)),u&&(f.fields[Gx]=u),{mapValue:f}})(e,t):n instanceof tf?cA(n,t):n instanceof ef?hA(n,t):(function(o,u){const f=uA(o,u),g=CT(f)+CT(o.Ae);return lv(f)&&lv(o.Ae)?lA(g):uy(o.serializer,g)})(n,t)}function FD(n,t,e){return n instanceof tf?cA(n,t):n instanceof ef?hA(n,t):e}function uA(n,t){return n instanceof Rm?(function(r){return lv(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Cm extends lp{}class tf extends lp{constructor(t){super(),this.elements=t}}function cA(n,t){const e=fA(t);for(const r of n.elements)e.some((o=>ia(o,r)))||e.push(r);return{arrayValue:{values:e}}}class ef extends lp{constructor(t){super(),this.elements=t}}function hA(n,t){let e=fA(t);for(const r of n.elements)e=e.filter((o=>!ia(o,r)));return{arrayValue:{values:e}}}class Rm extends lp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function CT(n){return vn(n.integerValue||n.doubleValue)}function fA(n){return sy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HD(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof tf&&o instanceof tf||r instanceof ef&&o instanceof ef?Ec(r.elements,o.elements,ia):r instanceof Rm&&o instanceof Rm?ia(r.Ae,o.Ae):r instanceof Cm&&o instanceof Cm})(n.transform,t.transform)}class qD{constructor(t,e){this.version=t,this.transformResults=e}}class zr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new zr}static exists(t){return new zr(void 0,t)}static updateTime(t){return new zr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class up{}function dA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new cy(n.key,zr.none()):new yf(n.key,n.data,zr.none());{const e=n.data,r=zi.empty();let o=new Ln(Yn.comparator);for(let u of t.fields)if(!o.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new al(n.key,r,new or(o.toArray()),zr.none())}}function GD(n,t,e){n instanceof yf?(function(o,u,f){const g=o.value.clone(),v=IT(o.fieldTransforms,u,f.transformResults);g.setAll(v),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(n,t,e):n instanceof al?(function(o,u,f){if(!Jd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=IT(o.fieldTransforms,u,f.transformResults),v=u.data;v.setAll(mA(o)),v.setAll(g),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(n,t,e):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,e)}function Hh(n,t,e,r){return n instanceof yf?(function(u,f,g,v){if(!Jd(u.precondition,f))return g;const y=u.value.clone(),S=OT(u.fieldTransforms,v,f);return y.setAll(S),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(n,t,e,r):n instanceof al?(function(u,f,g,v){if(!Jd(u.precondition,f))return g;const y=OT(u.fieldTransforms,v,f),S=f.data;return S.setAll(mA(u)),S.setAll(y),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((C=>C.field)))})(n,t,e,r):(function(u,f,g){return Jd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(n,t,e)}function ZD(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=uA(r.transform,o||null);u!=null&&(e===null&&(e=zi.empty()),e.set(r.field,u))}return e||null}function RT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ec(r,o,((u,f)=>HD(u,f)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class yf extends up{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class al extends up{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function IT(n,t,e){const r=new Map;Pe(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],f=u.transform,g=t.data.field(u.field);r.set(u.field,FD(f,g,e[o]))}return r}function OT(n,t,e){const r=new Map;for(const o of n){const u=o.transform,f=e.data.field(o.field);r.set(o.field,UD(u,f,t))}return r}class cy extends up{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WD extends up{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&GD(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Hh(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Hh(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=oA();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=e.has(o.key)?null:g;const v=dA(f,g);v!==null&&r.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(Kt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),ge())}isEqual(t){return this.batchId===t.batchId&&Ec(this.mutations,t.mutations,((e,r)=>RT(e,r)))&&Ec(this.baseMutations,t.baseMutations,((e,r)=>RT(e,r)))}}class hy{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Pe(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return DD})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new hy(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,we;function XD(n){switch(n){case gt.OK:return qt(64938);case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0;default:return qt(15467,{code:n})}}function pA(n){if(n===void 0)return Wa("GRPC error has no .code"),gt.UNKNOWN;switch(n){case Rn.OK:return gt.OK;case Rn.CANCELLED:return gt.CANCELLED;case Rn.UNKNOWN:return gt.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return gt.INTERNAL;case Rn.UNAVAILABLE:return gt.UNAVAILABLE;case Rn.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case Rn.NOT_FOUND:return gt.NOT_FOUND;case Rn.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case Rn.ABORTED:return gt.ABORTED;case Rn.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case Rn.DATA_LOSS:return gt.DATA_LOSS;default:return qt(39323,{code:n})}}(we=Rn||(Rn={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=new Wo([4294967295,4294967295],0);function NT(n){const t=$D().encode(n),e=new Ox;return e.update(t),new Uint8Array(e.digest())}function PT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Wo([e,r],0),new Wo([o,u],0)]}class fy{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Lh(`Invalid padding: ${e}`);if(r<0)throw new Lh(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Lh(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Lh(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Wo.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Wo.fromNumber(r)));return o.compare(JD)===1&&(o=new Wo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=NT(t),[r,o]=PT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new fy(u,o,e);return r.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const e=NT(t),[r,o]=PT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,bf.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new cp(Kt.min(),o,new on(pe),Ka(),ge())}}class bf{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new bf(r,e,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class gA{constructor(t,e){this.targetId=t,this.Ce=e}}class _A{constructor(t,e,r=Qn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class LT{constructor(){this.ve=0,this.Fe=MT(),this.Me=Qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ge(),e=ge(),r=ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:qt(38017,{changeType:u})}})),new bf(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=MT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class t5{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ka(),this.Je=Vd(),this.He=Vd(),this.Ye=new on(pe)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:qt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(cv(u))if(r===0){const f=new zt(u.path);this.et(e,f,oi.newNoDocument(f,Kt.min()))}else Pe(r===1,20013,{expectedCount:r});else{const f=this._t(e);if(f!==r){const g=this.ut(t),v=g?this.ct(g,t,f):1;if(v!==0){this.it(e);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,y)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let f,g;try{f=$o(r).toUint8Array()}catch(v){if(v instanceof Fx)return wc("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new fy(f,o,u)}catch(v){return wc(v instanceof Lh?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&cv(g.target)){const v=new zt(g.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,oi.newNoDocument(v,t))}u.Be&&(e.set(f,u.ke()),u.qe())}}));let r=ge();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new cp(t,e,this.Ye,this.je,r);return this.je=Ka(),this.Je=Vd(),this.He=Vd(),this.Ye=new on(pe),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new LT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ln(pe),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ln(pe),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||It("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new LT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Vd(){return new on(zt.comparator)}function MT(){return new on(zt.comparator)}const e5={asc:"ASCENDING",desc:"DESCENDING"},n5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i5={and:"AND",or:"OR"};class r5{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function dv(n,t){return n.useProto3Json||rp(t)?t:{value:t}}function Im(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function s5(n,t){return Im(n,t.toTimestamp())}function Js(n){return Pe(!!n,49232),Kt.fromTimestamp((function(e){const r=Xo(e);return new Xe(r.seconds,r.nanos)})(n))}function dy(n,t){return mv(n,t).canonicalString()}function mv(n,t){const e=(function(o){return new qe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function yA(n){const t=qe.fromString(n);return Pe(SA(t),10190,{key:t.toString()}),t}function pv(n,t){return dy(n.databaseId,t.path)}function R_(n,t){const e=yA(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new zt(wA(e))}function bA(n,t){return dy(n.databaseId,t)}function a5(n){const t=yA(n);return t.length===4?qe.emptyPath():wA(t)}function gv(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wA(n){return Pe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kT(n,t,e){return{name:pv(n,t),fields:e.value.mapValue.fields}}function o5(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:qt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,S){return y.useProto3Json?(Pe(S===void 0||typeof S=="string",58123),Qn.fromBase64String(S||"")):(Pe(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qn.fromUint8Array(S||new Uint8Array))})(n,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(y){const S=y.code===void 0?gt.UNKNOWN:pA(y.code);return new Ct(S,y.message||"")})(f);e=new _A(r,o,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=R_(n,r.document.name),u=Js(r.document.updateTime),f=r.document.createTime?Js(r.document.createTime):Kt.min(),g=new zi({mapValue:{fields:r.document.fields}}),v=oi.newFoundDocument(o,u,f,g),y=r.targetIds||[],S=r.removedTargetIds||[];e=new tm(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=R_(n,r.document),u=r.readTime?Js(r.readTime):Kt.min(),f=oi.newNoDocument(o,u),g=r.removedTargetIds||[];e=new tm([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=R_(n,r.document),u=r.removedTargetIds||[];e=new tm([],u,o,null)}else{if(!("filter"in t))return qt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new QD(o,u),g=r.targetId;e=new gA(g,f)}}return e}function l5(n,t){let e;if(t instanceof yf)e={update:kT(n,t.key,t.value)};else if(t instanceof cy)e={delete:pv(n,t.key)};else if(t instanceof al)e={update:kT(n,t.key,t.data),updateMask:_5(t.fieldMask)};else{if(!(t instanceof WD))return qt(16599,{Vt:t.type});e={verify:pv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof Cm)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tf)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ef)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Rm)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw qt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:s5(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:qt(27497)})(n,t.precondition)),e}function u5(n,t){return n&&n.length>0?(Pe(t!==void 0,14353),n.map((e=>(function(o,u){let f=o.updateTime?Js(o.updateTime):Js(u);return f.isEqual(Kt.min())&&(f=Js(u)),new qD(f,o.transformResults||[])})(e,t)))):[]}function c5(n,t){return{documents:[bA(n,t.path)]}}function h5(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=bA(n,o);const u=(function(y){if(y.length!==0)return TA(ys.create(y,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((S=>(function(N){return{field:sc(N.field),direction:m5(N.dir)}})(S)))})(t.orderBy);f&&(e.structuredQuery.orderBy=f);const g=dv(n,t.limit);return g!==null&&(e.structuredQuery.limit=g),t.startAt&&(e.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:e,parent:o}}function f5(n){let t=a5(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Pe(r===1,65062);const S=e.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let u=[];e.where&&(u=(function(C){const N=EA(C);return N instanceof ys&&$x(N)?N.getFilters():[N]})(e.where));let f=[];e.orderBy&&(f=(function(C){return C.map((N=>(function($){return new Am(ac($.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(N)))})(e.orderBy));let g=null;e.limit&&(g=(function(C){let N;return N=typeof C=="object"?C.value:C,rp(N)?null:N})(e.limit));let v=null;e.startAt&&(v=(function(C){const N=!!C.before,M=C.values||[];return new xm(M,N)})(e.startAt));let y=null;return e.endAt&&(y=(function(C){const N=!C.before,M=C.values||[];return new xm(M,N)})(e.endAt)),ND(t,o,f,u,g,"F",v,y)}function d5(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function EA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=ac(e.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ac(e.unaryFilter.field);return In.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ac(e.unaryFilter.field);return In.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ac(e.unaryFilter.field);return In.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return In.create(ac(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ys.create(e.compositeFilter.filters.map((r=>EA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qt(1026)}})(e.compositeFilter.op))})(n):qt(30097,{filter:n})}function m5(n){return e5[n]}function p5(n){return n5[n]}function g5(n){return i5[n]}function sc(n){return{fieldPath:n.canonicalString()}}function ac(n){return Yn.fromServerFormat(n.fieldPath)}function TA(n){return n instanceof In?(function(e){if(e.op==="=="){if(ET(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NAN"}};if(wT(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ET(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NOT_NAN"}};if(wT(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(e.field),op:p5(e.op),value:e.value}}})(n):n instanceof ys?(function(e){const r=e.getFilters().map((o=>TA(o)));return r.length===1?r[0]:{compositeFilter:{op:g5(e.op),filters:r}}})(n):qt(54877,{filter:n})}function _5(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function SA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(t,e,r,o,u=Kt.min(),f=Kt.min(),g=Qn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new qo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(t){this.yt=t}}function y5(n){const t=f5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.Cn=new w5}addToCollectionParentIndex(t,e){return this.Cn.add(e),yt.resolve()}getCollectionParents(t,e){return yt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return yt.resolve()}deleteFieldIndex(t,e){return yt.resolve()}deleteAllFieldIndexes(t){return yt.resolve()}createTargetIndexes(t,e){return yt.resolve()}getDocumentsMatchingTarget(t,e){return yt.resolve(null)}getIndexType(t,e){return yt.resolve(0)}getFieldIndexes(t,e){return yt.resolve([])}getNextCollectionGroupToUpdate(t){return yt.resolve(null)}getMinOffset(t,e){return yt.resolve(Qo.min())}getMinOffsetFromCollectionGroup(t,e){return yt.resolve(Qo.min())}updateCollectionGroup(t,e,r){return yt.resolve()}updateIndexEntries(t,e){return yt.resolve()}}class w5{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Ln(qe.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ln(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xA=41943040;class ji{static withCacheSize(t){return new ji(t,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(xA,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new xc(0)}static cr(){return new xc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="LruGarbageCollector",E5=1048576;function VT([n,t],[e,r]){const o=pe(n,e);return o===0?pe(t,r):o}class T5{constructor(t){this.Ir=t,this.buffer=new Ln(VT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();VT(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class S5{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){It(jT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){jc(e)?It(jT,"Ignoring IndexedDB error during garbage collection: ",e):await Dc(e)}await this.Vr(3e5)}))}}class x5{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return yt.resolve(ip.ce);const r=new T5(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(DT)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,f,g,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(t,o)))).next((C=>(r=C,g=Date.now(),this.removeTargets(t,r,e)))).next((C=>(u=C,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((C=>(y=Date.now(),ic()<=me.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-S}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(v-g)+`ms
	Removed ${C} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C}))))}}function A5(n,t){return new x5(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.changes=new fu((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,oi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?yt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&Hh(r.mutation,o,or.empty(),Xe.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,ge()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=ge()){const o=Gl();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let f=Ph();return u.forEach(((g,v)=>{f=f.insert(g,v.overlayedDocument)})),f}))))}getOverlayedDocuments(t,e){const r=Gl();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,ge())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,g)=>{e.set(f,g)}))}))}computeViews(t,e,r,o){let u=Ka();const f=Fh(),g=(function(){return Fh()})();return e.forEach(((v,y)=>{const S=r.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof al)?u=u.insert(y.key,y):S!==void 0?(f.set(y.key,S.mutation.getFieldMask()),Hh(S.mutation,y,S.mutation.getFieldMask(),Xe.now())):f.set(y.key,or.empty())})),this.recalculateAndSaveOverlays(t,u).next((v=>(v.forEach(((y,S)=>f.set(y,S))),e.forEach(((y,S)=>g.set(y,new R5(S,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,e){const r=Fh();let o=new on(((f,g)=>f-g)),u=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((f=>{for(const g of f)g.keys().forEach((v=>{const y=e.get(v);if(y===null)return;let S=r.get(v)||or.empty();S=g.applyToLocalView(y,S),r.set(v,S);const C=(o.get(g.batchId)||ge()).add(v);o=o.insert(g.batchId,C)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,S=v.value,C=oA();S.forEach((N=>{if(!u.has(N)){const M=dA(e.get(N),r.get(N));M!==null&&C.set(N,M),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,C))}return yt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(f){return zt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):nA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):yt.resolve(Gl());let g=Qh,v=u;return f.next((y=>yt.forEach(y,((S,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),u.get(S)?yt.resolve():this.remoteDocumentCache.getEntry(t,S).next((N=>{v=v.insert(S,N)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,v,y,ge()))).next((S=>({batchId:g,changes:aA(S)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new zt(e)).next((r=>{let o=Ph();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let f=Ph();return this.indexManager.getCollectionParents(t,u).next((g=>yt.forEach(g,(v=>{const y=(function(C,N){return new vf(N,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(e,v.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((S=>{S.forEach(((C,N)=>{f=f.insert(C,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((f=>{u.forEach(((v,y)=>{const S=y.getKey();f.get(S)===null&&(f=f.insert(S,oi.newInvalidDocument(S)))}));let g=Ph();return f.forEach(((v,y)=>{const S=u.get(v);S!==void 0&&Hh(S.mutation,y,or.empty(),Xe.now()),op(e,y)&&(g=g.insert(v,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return yt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Js(o.createTime)}})(e)),yt.resolve()}getNamedQuery(t,e){return yt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:y5(o.bundledQuery),readTime:Js(o.readTime)}})(e)),yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.overlays=new on(zt.comparator),this.qr=new Map}getOverlay(t,e){return yt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Gl();return yt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),yt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),yt.resolve()}getOverlaysForCollection(t,e,r){const o=Gl(),u=e.length+1,f=new zt(e.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return yt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new on(((y,S)=>y-S));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>r){let S=u.get(y.largestBatchId);S===null&&(S=Gl(),u=u.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Gl(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return yt.resolve(g)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new YD(e,r));let u=this.qr.get(e);u===void 0&&(u=ge(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(t){return yt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.Qr=new Ln(Fn.$r),this.Ur=new Ln(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Fn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Fn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new zt(new qe([])),r=new Fn(e,t),o=new Fn(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new zt(new qe([])),r=new Fn(e,t),o=new Fn(e,t+1);let u=ge();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const e=new Fn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Fn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return zt.comparator(t.key,e.key)||pe(t.Yr,e.Yr)}static Kr(t,e){return pe(t.Yr,e.Yr)||zt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ln(Fn.$r)}checkEmpty(t){return yt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new KD(u,e,r,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Fn(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return yt.resolve(f)}lookupMutationBatch(t,e){return yt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return yt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(this.mutationQueue.length===0?iy:this.tr-1)}getAllMutationBatches(t){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Fn(e,0),o=new Fn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),yt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ln(pe);return e.forEach((o=>{const u=new Fn(o,0),f=new Fn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),yt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;zt.isDocumentKey(u)||(u=u.child(""));const f=new Fn(new zt(u),0);let g=new Ln(pe);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),f),yt.resolve(this.ti(g))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Pe(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return yt.forEach(e.mutations,(o=>{const u=new Fn(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Fn(e,0),o=this.Zr.firstAfterOrEqual(r);return yt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,yt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(t){this.ri=t,this.docs=(function(){return new on(zt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return yt.resolve(r?r.document.mutableCopy():oi.newInvalidDocument(e))}getEntries(t,e){let r=Ka();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():oi.newInvalidDocument(o))})),yt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Ka();const f=e.path,g=new zt(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||uD(lD(S),r)<=0||(o.has(S.key)||op(e,S))&&(u=u.insert(S.key,S.mutableCopy()))}return yt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){qt(9500)}ii(t,e){return yt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new k5(this)}getSize(t){return yt.resolve(this.size)}}class k5 extends C5{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),yt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(t){this.persistence=t,this.si=new fu((e=>ay(e)),oy),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.oi=0,this._i=new my,this.targetCount=0,this.ai=xc.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),yt.resolve()}getLastRemoteSnapshotVersion(t){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return yt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),yt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new xc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,yt.resolve()}updateTargetData(t,e){return this.Pr(e),yt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,yt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=e&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),yt.waitFor(u).next((()=>o))}getTargetCount(t){return yt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return yt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),yt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),yt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),yt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return yt.resolve(r)}containsKey(t,e){return yt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(t,e){this.ui={},this.overlays={},this.ci=new ip(0),this.li=!1,this.li=!0,this.hi=new P5,this.referenceDelegate=t(this),this.Pi=new D5(this),this.indexManager=new b5,this.remoteDocumentCache=(function(o){return new M5(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new v5(e),this.Ii=new O5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new N5,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new L5(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){It("MemoryPersistence","Starting transaction:",t);const o=new j5(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return yt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class j5 extends hD{constructor(t){super(),this.currentSequenceNumber=t}}class py{constructor(t){this.persistence=t,this.Ri=new my,this.Vi=null}static mi(t){return new py(t)}get fi(){if(this.Vi)return this.Vi;throw qt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),yt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),yt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),yt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.fi,(r=>{const o=zt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Kt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return yt.or([()=>yt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Om{constructor(t,e){this.persistence=t,this.pi=new fu((r=>mD(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=A5(this,e)}static mi(t,e){return new Om(t,e)}Ei(){}di(t){return yt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return yt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?yt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,e).next((g=>{g||(r++,u.removeEntry(f,Kt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),yt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),yt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),yt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),yt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Xd(t.data.value)),e}br(t,e,r){return yt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return yt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=ge(),o=ge();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gy(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return cP()?8:fD(li())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new V5;return this.Ss(t,e,f).next((g=>{if(u.result=g,this.Vs)return this.bs(t,e,f,g.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(ic()<=me.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",rc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),yt.resolve()):(ic()<=me.DEBUG&&It("QueryEngine","Query:",rc(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ic()<=me.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",rc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$s(e))):yt.resolve())}ys(t,e){if(AT(e))return yt.resolve(null);let r=$s(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=fv(e,null,"F"),r=$s(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=ge(...u);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,r).next((v=>{const y=this.Ds(e,g);return this.Cs(e,y,f,v.readTime)?this.ys(t,fv(e,null,"F")):this.vs(t,y,e,v)}))))})))))}ws(t,e,r,o){return AT(e)||o.isEqual(Kt.min())?yt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(e,u);return this.Cs(e,f,r,o)?yt.resolve(null):(ic()<=me.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rc(e)),this.vs(t,f,e,oD(o,Qh)).next((g=>g)))}))}Ds(t,e){let r=new Ln(rA(t));return e.forEach(((o,u)=>{op(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return ic()<=me.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",rc(e)),this.ps.getDocumentsMatchingQuery(t,e,Qo.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LocalStore",B5=3e8;class U5{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new on(pe),this.xs=new fu((u=>ay(u)),oy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new I5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function F5(n,t,e,r){return new U5(n,t,e,r)}async function CA(n,t){const e=Xt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let v=ge();for(const y of o){f.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of u){g.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return e.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function H5(n,t){const e=Xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,S){const C=y.batch,N=C.keys();let M=yt.resolve();return N.forEach(($=>{M=M.next((()=>S.getEntry(v,$))).next((K=>{const W=y.docVersions.get($);Pe(W!==null,48541),K.version.compareTo(W)<0&&(C.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),S.addEntry(K)))}))})),M.next((()=>g.mutationQueue.removeMutationBatch(v,C)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=ge();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function RA(n){const t=Xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function q5(n,t){const e=Xt(n),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const g=[];t.targetChanges.forEach(((S,C)=>{const N=o.get(C);if(!N)return;g.push(e.Pi.removeMatchingKeys(u,S.removedDocuments,C).next((()=>e.Pi.addMatchingKeys(u,S.addedDocuments,C))));let M=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(C)!==null?M=M.withResumeToken(Qn.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):S.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(S.resumeToken,r)),o=o.insert(C,M),(function(K,W,ft){return K.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=B5?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(N,M,S)&&g.push(e.Pi.updateTargetData(u,M))}));let v=Ka(),y=ge();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(u,S))})),g.push(G5(u,f,t.documentUpdates).next((S=>{v=S.ks,y=S.qs}))),!r.isEqual(Kt.min())){const S=e.Pi.getLastRemoteSnapshotVersion(u).next((C=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(S)}return yt.waitFor(g).next((()=>f.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,v,y))).next((()=>v))})).then((u=>(e.Ms=o,u)))}function G5(n,t,e){let r=ge(),o=ge();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let f=Ka();return e.forEach(((g,v)=>{const y=u.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Kt.min())?(t.removeEntry(g,v.readTime),f=f.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),f=f.insert(g,v)):It(_y,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function Z5(n,t){const e=Xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=iy),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function W5(n,t){const e=Xt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,yt.resolve(o)):e.Pi.allocateTargetId(r).next((f=>(o=new qo(t,f,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function _v(n,t,e){const r=Xt(n),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!jc(f))throw f;It(_y,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function zT(n,t,e){const r=Xt(n);let o=Kt.min(),u=ge();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,y,S){const C=Xt(v),N=C.xs.get(S);return N!==void 0?yt.resolve(C.Ms.get(N)):C.Pi.getTargetData(y,S)})(r,f,$s(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((v=>{u=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,e?o:Kt.min(),e?u:ge()))).next((g=>(K5(r,LD(t),g),{documents:g,Qs:u})))))}function K5(n,t,e){let r=n.Os.get(t)||Kt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class BT{constructor(){this.activeTargetIds=zD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y5{constructor(){this.Mo=new BT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new BT,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="ConnectivityMonitor";class FT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){It(UT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){It(UT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function vv(){return zd===null?zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="RestConnection",X5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $5{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Tm?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const f=vv(),g=this.zo(t,e.toUriEncodedString());It(I_,`Sending RPC '${t}' ${f}:`,g,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,u);const{host:y}=new URL(g),S=Pc(y);return this.Jo(t,g,v,r,S).then((C=>(It(I_,`Received RPC '${t}' ${f}: `,C),C)),(C=>{throw wc(I_,`RPC '${t}' ${f} failed with error: `,C,"url: ",g,"request:",r),C}))}Ho(t,e,r,o,u,f){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=X5[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="WebChannelConnection";class tj extends $5{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const f=vv();return new Promise(((g,v)=>{const y=new Nx;y.setWithCredentials(!0),y.listenOnce(Px.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qd.NO_ERROR:const C=y.getResponseJson();It(si,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(C)),g(C);break;case Qd.TIMEOUT:It(si,`RPC '${t}' ${f} timed out`),v(new Ct(gt.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const N=y.getStatus();if(It(si,`RPC '${t}' ${f} failed with status:`,N,"response text:",y.getResponseText()),N>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const $=M==null?void 0:M.error;if($&&$.status&&$.message){const K=(function(ft){const ut=ft.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(ut)>=0?ut:gt.UNKNOWN})($.status);v(new Ct(K,$.message))}else v(new Ct(gt.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new Ct(gt.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{It(si,`RPC '${t}' ${f} completed.`)}}));const S=JSON.stringify(o);It(si,`RPC '${t}' ${f} sending request:`,o),y.send(e,"POST",S,r,15)}))}T_(t,e,r){const o=vv(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=kx(),g=Mx(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,e,r),v.encodeInitMessageHeaders=!0;const S=u.join("");It(si,`Creating RPC '${t}' stream ${o}: ${S}`,v);const C=f.createWebChannel(S,v);this.I_(C);let N=!1,M=!1;const $=new J5({Yo:W=>{M?It(si,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(N||(It(si,`Opening RPC '${t}' stream ${o} transport.`),C.open(),N=!0),It(si,`RPC '${t}' stream ${o} sending:`,W),C.send(W))},Zo:()=>C.close()}),K=(W,ft,ut)=>{W.listen(ft,(st=>{try{ut(st)}catch(xt){setTimeout((()=>{throw xt}),0)}}))};return K(C,Nh.EventType.OPEN,(()=>{M||(It(si,`RPC '${t}' stream ${o} transport opened.`),$.o_())})),K(C,Nh.EventType.CLOSE,(()=>{M||(M=!0,It(si,`RPC '${t}' stream ${o} transport closed`),$.a_(),this.E_(C))})),K(C,Nh.EventType.ERROR,(W=>{M||(M=!0,wc(si,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),$.a_(new Ct(gt.UNAVAILABLE,"The operation could not be completed")))})),K(C,Nh.EventType.MESSAGE,(W=>{var ft;if(!M){const ut=W.data[0];Pe(!!ut,16349);const st=ut,xt=(st==null?void 0:st.error)||((ft=st[0])==null?void 0:ft.error);if(xt){It(si,`RPC '${t}' stream ${o} received error:`,xt);const Mt=xt.status;let Lt=(function(j){const q=Rn[j];if(q!==void 0)return pA(q)})(Mt),D=xt.message;Lt===void 0&&(Lt=gt.INTERNAL,D="Unknown error status: "+Mt+" with message "+xt.message),M=!0,$.a_(new Ct(Lt,D)),C.close()}else It(si,`RPC '${t}' stream ${o} received:`,ut),$.u_(ut)}})),K(g,Lx.STAT_EVENT,(W=>{W.stat===sv.PROXY?It(si,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===sv.NOPROXY&&It(si,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function O_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n){return new r5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&It("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="PersistentStream";class OA{constructor(t,e,r,o,u,f,g,v){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===gt.RESOURCE_EXHAUSTED?(Wa(e.toString()),Wa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===gt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new Ct(gt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return It(HT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(It(HT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ej extends OA{constructor(t,e,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,f),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=o5(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Kt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Kt.min():f.readTime?Js(f.readTime):Kt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=gv(this.serializer),e.addTarget=(function(u,f){let g;const v=f.target;if(g=cv(v)?{documents:c5(u,v)}:{query:h5(u,v).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=vA(u,f.resumeToken);const y=dv(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Kt.min())>0){g.readTime=Im(u,f.snapshotVersion.toTimestamp());const y=dv(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=d5(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=gv(this.serializer),e.removeTarget=t,this.q_(e)}}class nj extends OA{constructor(t,e,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Pe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Pe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Pe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=u5(t.writeResults,t.commitTime),r=Js(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=gv(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>l5(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{}class rj extends ij{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ct(gt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,mv(e,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ct(gt.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,mv(e,r),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ct(gt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wa(e),this.aa=!1):It("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="RemoteStore";class aj{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{du(this)&&(It(nu,"Restarting streams for network reachability change."),await(async function(v){const y=Xt(v);y.Ea.add(4),await wf(y),y.Ra.set("Unknown"),y.Ea.delete(4),await fp(y)})(this))}))})),this.Ra=new sj(r,o)}}async function fp(n){if(du(n))for(const t of n.da)await t(!0)}async function wf(n){for(const t of n.da)await t(!1)}function NA(n,t){const e=Xt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),wy(e)?by(e):Vc(e).O_()&&yy(e,t))}function vy(n,t){const e=Xt(n),r=Vc(e);e.Ia.delete(t),r.O_()&&PA(e,t),e.Ia.size===0&&(r.O_()?r.L_():du(e)&&e.Ra.set("Unknown"))}function yy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Vc(n).Y_(t)}function PA(n,t){n.Va.Ue(t),Vc(n).Z_(t)}function by(n){n.Va=new t5({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Vc(n).start(),n.Ra.ua()}function wy(n){return du(n)&&!Vc(n).x_()&&n.Ia.size>0}function du(n){return Xt(n).Ea.size===0}function LA(n){n.Va=void 0}async function oj(n){n.Ra.set("Online")}async function lj(n){n.Ia.forEach(((t,e)=>{yy(n,t)}))}async function uj(n,t){LA(n),wy(n)?(n.Ra.ha(t),by(n)):n.Ra.set("Unknown")}async function cj(n,t,e){if(n.Ra.set("Online"),t instanceof _A&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(n,t)}catch(r){It(nu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Nm(n,r)}else if(t instanceof tm?n.Va.Ze(t):t instanceof gA?n.Va.st(t):n.Va.tt(t),!e.isEqual(Kt.min()))try{const r=await RA(n.localStore);e.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=u.Ia.get(y);S&&u.Ia.set(y,S.withResumeToken(v.resumeToken,f))}})),g.targetMismatches.forEach(((v,y)=>{const S=u.Ia.get(v);if(!S)return;u.Ia.set(v,S.withResumeToken(Qn.EMPTY_BYTE_STRING,S.snapshotVersion)),PA(u,v);const C=new qo(S.target,v,y,S.sequenceNumber);yy(u,C)})),u.remoteSyncer.applyRemoteEvent(g)})(n,e)}catch(r){It(nu,"Failed to raise snapshot:",r),await Nm(n,r)}}async function Nm(n,t,e){if(!jc(t))throw t;n.Ea.add(1),await wf(n),n.Ra.set("Offline"),e||(e=()=>RA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{It(nu,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await fp(n)}))}function MA(n,t){return t().catch((e=>Nm(n,e,t)))}async function dp(n){const t=Xt(n),e=tl(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:iy;for(;hj(t);)try{const o=await Z5(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,fj(t,o)}catch(o){await Nm(t,o)}kA(t)&&DA(t)}function hj(n){return du(n)&&n.Ta.length<10}function fj(n,t){n.Ta.push(t);const e=tl(n);e.O_()&&e.X_&&e.ea(t.mutations)}function kA(n){return du(n)&&!tl(n).x_()&&n.Ta.length>0}function DA(n){tl(n).start()}async function dj(n){tl(n).ra()}async function mj(n){const t=tl(n);for(const e of n.Ta)t.ea(e.mutations)}async function pj(n,t,e){const r=n.Ta.shift(),o=hy.from(r,t,e);await MA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await dp(n)}async function gj(n,t){t&&tl(n).X_&&await(async function(r,o){if((function(f){return XD(f)&&f!==gt.ABORTED})(o.code)){const u=r.Ta.shift();tl(r).B_(),await MA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await dp(r)}})(n,t),kA(n)&&DA(n)}async function qT(n,t){const e=Xt(n);e.asyncQueue.verifyOperationInProgress(),It(nu,"RemoteStore received new credentials");const r=du(e);e.Ea.add(3),await wf(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await fp(e)}async function _j(n,t){const e=Xt(n);t?(e.Ea.delete(2),await fp(e)):t||(e.Ea.add(2),await wf(e),e.Ra.set("Unknown"))}function Vc(n){return n.ma||(n.ma=(function(e,r,o){const u=Xt(e);return u.sa(),new ej(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:oj.bind(null,n),t_:lj.bind(null,n),r_:uj.bind(null,n),H_:cj.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),wy(n)?by(n):n.Ra.set("Unknown")):(await n.ma.stop(),LA(n))}))),n.ma}function tl(n){return n.fa||(n.fa=(function(e,r,o){const u=Xt(e);return u.sa(),new nj(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:dj.bind(null,n),r_:gj.bind(null,n),ta:mj.bind(null,n),na:pj.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await dp(n)):(await n.fa.stop(),n.Ta.length>0&&(It(nu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const f=Date.now()+r,g=new Ey(t,e,f,o,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(gt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(n,t){if(Wa("AsyncQueue",`${t}: ${n}`),jc(n))return new Ct(gt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{static emptySet(t){return new dc(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||zt.comparator(e.key,r.key):(e,r)=>zt.comparator(e.key,r.key),this.keyedMap=Ph(),this.sortedSet=new on(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof dc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new dc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.ga=new on(zt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):qt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Ac{constructor(t,e,r,o,u,f,g,v,y){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,e,r,o,u){const f=[];return e.forEach((g=>{f.push({type:0,doc:g})})),new Ac(t,e,dc.emptySet(e),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ap(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class yj{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Xt(e),u=o.queries;o.queries=ZT(),u.forEach(((f,g)=>{for(const v of g.Sa)v.onError(r)}))})(this,new Ct(gt.ABORTED,"Firestore shutting down"))}}function ZT(){return new fu((n=>iA(n)),ap)}async function jA(n,t){const e=Xt(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new vj,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const g=Ty(f,`Initialization of query '${rc(t.query)}' failed`);return void t.onError(g)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Sy(e)}async function VA(n,t){const e=Xt(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function bj(n,t){const e=Xt(n);let r=!1;for(const o of t){const u=o.query,f=e.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(r=!0);f.wa=o}}r&&Sy(e)}function wj(n,t,e){const r=Xt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Sy(n){n.Ca.forEach((t=>{t.next()}))}var yv,WT;(WT=yv||(yv={})).Ma="default",WT.Cache="cache";class zA{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ac(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ac.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t){this.key=t}}class UA{constructor(t){this.key=t}}class Ej{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=rA(t),this.tu=new dc(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new GT,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,f=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,C)=>{const N=o.get(S),M=op(this.query,C)?C:null,$=!!N&&this.mutatedKeys.has(N.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let W=!1;N&&M?N.data.isEqual(M.data)?$!==K&&(r.track({type:3,doc:M}),W=!0):this.su(N,M)||(r.track({type:2,doc:M}),W=!0,(v&&this.eu(M,v)>0||y&&this.eu(M,y)<0)&&(g=!0)):!N&&M?(r.track({type:0,doc:M}),W=!0):N&&!M&&(r.track({type:1,doc:N}),W=!0,(v||y)&&(g=!0)),W&&(M?(f=f.add(M),u=K?u.add(S):u.delete(S)):(f=f.delete(S),u=u.delete(S)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((S,C)=>(function(M,$){const K=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{Rt:W})}};return K(M)-K($)})(S.type,C.type)||this.eu(S.doc,C.doc))),this.ou(r),o=o??!1;const g=e&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,f.length!==0||y?{snapshot:new Ac(this.query,t.tu,u,f,t.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new UA(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new BA(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=ge();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ac.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xy="SyncEngine";class Tj{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Sj{constructor(t){this.key=t,this.hu=!1}}class xj{constructor(t,e,r,o,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fu((g=>iA(g)),ap),this.Iu=new Map,this.Eu=new Set,this.du=new on(zt.comparator),this.Au=new Map,this.Ru=new my,this.Vu={},this.mu=new Map,this.fu=xc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Aj(n,t,e=!0){const r=WA(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await FA(r,t,e,!0),o}async function Cj(n,t){const e=WA(n);await FA(e,t,!0,!1)}async function FA(n,t,e,r){const o=await W5(n.localStore,$s(t)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,e);let g;return r&&(g=await Rj(n,t,u,f==="current",o.resumeToken)),n.isPrimaryClient&&e&&NA(n.remoteStore,o),g}async function Rj(n,t,e,r,o){n.pu=(C,N,M)=>(async function(K,W,ft,ut){let st=W.view.ru(ft);st.Cs&&(st=await zT(K.localStore,W.query,!1).then((({documents:D})=>W.view.ru(D,st))));const xt=ut&&ut.targetChanges.get(W.targetId),Mt=ut&&ut.targetMismatches.get(W.targetId)!=null,Lt=W.view.applyChanges(st,K.isPrimaryClient,xt,Mt);return YT(K,W.targetId,Lt.au),Lt.snapshot})(n,C,N,M);const u=await zT(n.localStore,t,!0),f=new Ej(t,u.Qs),g=f.ru(u.documents),v=bf.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),y=f.applyChanges(g,n.isPrimaryClient,v);YT(n,e,y.au);const S=new Tj(t,e,f);return n.Tu.set(t,S),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),y.snapshot}async function Ij(n,t,e){const r=Xt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!ap(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await _v(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&vy(r.remoteStore,o.targetId),bv(r,o.targetId)})).catch(Dc)):(bv(r,o.targetId),await _v(r.localStore,o.targetId,!0))}async function Oj(n,t){const e=Xt(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),vy(e.remoteStore,r.targetId))}async function Nj(n,t,e){const r=Vj(n);try{const o=await(function(f,g){const v=Xt(f),y=Xe.now(),S=g.reduce(((M,$)=>M.add($.key)),ge());let C,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let $=Ka(),K=ge();return v.Ns.getEntries(M,S).next((W=>{$=W,$.forEach(((ft,ut)=>{ut.isValidDocument()||(K=K.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(M,$))).next((W=>{C=W;const ft=[];for(const ut of g){const st=ZD(ut,C.get(ut.key).overlayedDocument);st!=null&&ft.push(new al(ut.key,st,Yx(st.value.mapValue),zr.exists(!0)))}return v.mutationQueue.addMutationBatch(M,y,ft,g)})).next((W=>{N=W;const ft=W.applyToLocalDocumentSet(C,K);return v.documentOverlayCache.saveOverlays(M,W.batchId,ft)}))})).then((()=>({batchId:N.batchId,changes:aA(C)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,g,v){let y=f.Vu[f.currentUser.toKey()];y||(y=new on(pe)),y=y.insert(g,v),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,e),await Ef(r,o.changes),await dp(r.remoteStore)}catch(o){const u=Ty(o,"Failed to persist write");e.reject(u)}}async function HA(n,t){const e=Xt(n);try{const r=await q5(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=e.Au.get(u);f&&(Pe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Pe(f.hu,14607):o.removedDocuments.size>0&&(Pe(f.hu,42227),f.hu=!1))})),await Ef(e,r,t)}catch(r){await Dc(r)}}function KT(n,t,e){const r=Xt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const v=Xt(f);v.onlineState=g;let y=!1;v.queries.forEach(((S,C)=>{for(const N of C.Sa)N.va(g)&&(y=!0)})),y&&Sy(v)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Pj(n,t,e){const r=Xt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new on(zt.comparator);f=f.insert(u,oi.newNoDocument(u,Kt.min()));const g=ge().add(u),v=new cp(Kt.min(),new Map,new on(pe),f,g);await HA(r,v),r.du=r.du.remove(u),r.Au.delete(t),Ay(r)}else await _v(r.localStore,t,!1).then((()=>bv(r,t,e))).catch(Dc)}async function Lj(n,t){const e=Xt(n),r=t.batch.batchId;try{const o=await H5(e.localStore,t);GA(e,r,null),qA(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Ef(e,o)}catch(o){await Dc(o)}}async function Mj(n,t,e){const r=Xt(n);try{const o=await(function(f,g){const v=Xt(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,g).next((C=>(Pe(C!==null,37113),S=C.keys(),v.mutationQueue.removeMutationBatch(y,C)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(r.localStore,t);GA(r,t,e),qA(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Ef(r,o)}catch(o){await Dc(o)}}function qA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function GA(n,t,e){const r=Xt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function bv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||ZA(n,r)}))}function ZA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(vy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Ay(n))}function YT(n,t,e){for(const r of e)r instanceof BA?(n.Ru.addReference(r.key,t),kj(n,r)):r instanceof UA?(It(xy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||ZA(n,r.key)):qt(19791,{wu:r})}function kj(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(It(xy,"New document in limbo: "+e),n.Eu.add(r),Ay(n))}function Ay(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new zt(qe.fromString(t)),r=n.fu.next();n.Au.set(r,new Sj(e)),n.du=n.du.insert(e,r),NA(n.remoteStore,new qo($s(ly(e.path)),r,"TargetPurposeLimboResolution",ip.ce))}}async function Ef(n,t,e){const r=Xt(n),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{f.push(r.pu(v,t,e).then((y=>{var S;if((y||e)&&r.isPrimaryClient){const C=y?!y.fromCache:(S=e==null?void 0:e.targetChanges.get(v.targetId))==null?void 0:S.current;r.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(y){o.push(y);const C=gy.As(v.targetId,y);u.push(C)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(v,y){const S=Xt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>yt.forEach(y,(N=>yt.forEach(N.Es,(M=>S.persistence.referenceDelegate.addReference(C,N.targetId,M))).next((()=>yt.forEach(N.ds,(M=>S.persistence.referenceDelegate.removeReference(C,N.targetId,M)))))))))}catch(C){if(!jc(C))throw C;It(_y,"Failed to update sequence numbers: "+C)}for(const C of y){const N=C.targetId;if(!C.fromCache){const M=S.Ms.get(N),$=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion($);S.Ms=S.Ms.insert(N,K)}}})(r.localStore,u))}async function Dj(n,t){const e=Xt(n);if(!e.currentUser.isEqual(t)){It(xy,"User change. New user:",t.toKey());const r=await CA(e.localStore,t);e.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((v=>{v.reject(new Ct(gt.CANCELLED,f))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ef(e,r.Ls)}}function jj(n,t){const e=Xt(n),r=e.Au.get(t);if(r&&r.hu)return ge().add(r.key);{let o=ge();const u=e.Iu.get(t);if(!u)return o;for(const f of u){const g=e.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function WA(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=HA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pj.bind(null,t),t.Pu.H_=bj.bind(null,t.eventManager),t.Pu.yu=wj.bind(null,t.eventManager),t}function Vj(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mj.bind(null,t),t}class Pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return F5(this.persistence,new z5,t.initialUser,this.serializer)}Cu(t){return new AA(py.mi,this.serializer)}Du(t){return new Y5}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pm.provider={build:()=>new Pm};class zj extends Pm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Pe(this.persistence.referenceDelegate instanceof Om,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new S5(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new AA((r=>Om.mi(r,e)),this.serializer)}}class wv{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dj.bind(null,this.syncEngine),await _j(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new yj})()}createDatastore(t){const e=hp(t.databaseInfo.databaseId),r=(function(u){return new tj(u)})(t.databaseInfo);return(function(u,f,g,v){return new rj(u,f,g,v)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,f,g){return new aj(r,o,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(e=>KT(this.syncEngine,e,0)),(function(){return FT.v()?new FT:new Q5})())}createSyncEngine(t,e){return(function(o,u,f,g,v,y,S){const C=new xj(o,u,f,g,v,y);return S&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(o){const u=Xt(o);It(nu,"RemoteStore shutting down."),u.Ea.add(5),await wf(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}wv.provider={build:()=>new wv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="FirestoreClient";class Bj{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=ai.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{It(el,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(It(el,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Ty(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function N_(n,t){n.asyncQueue.verifyOperationInProgress(),It(el,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await CA(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function QT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Uj(n);It(el,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>qT(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>qT(t.remoteStore,o))),n._onlineComponents=t}async function Uj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){It(el,"Using user provided OfflineComponentProvider");try{await N_(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===gt.FAILED_PRECONDITION||o.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;wc("Error using user provided cache. Falling back to memory cache: "+e),await N_(n,new Pm)}}else It(el,"Using default OfflineComponentProvider"),await N_(n,new zj(void 0));return n._offlineComponents}async function YA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(It(el,"Using user provided OnlineComponentProvider"),await QT(n,n._uninitializedComponentsProvider._online)):(It(el,"Using default OnlineComponentProvider"),await QT(n,new wv))),n._onlineComponents}function Fj(n){return YA(n).then((t=>t.syncEngine))}async function QA(n){const t=await YA(n),e=t.eventManager;return e.onListen=Aj.bind(null,t.syncEngine),e.onUnlisten=Ij.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Cj.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Oj.bind(null,t.syncEngine),e}function Hj(n,t,e={}){const r=new Ba;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,y){const S=new KA({next:N=>{S.Nu(),f.enqueueAndForget((()=>VA(u,C)));const M=N.docs.has(g);!M&&N.fromCache?y.reject(new Ct(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&N.fromCache&&v&&v.source==="server"?y.reject(new Ct(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),C=new zA(ly(g.path),S,{includeMetadataChanges:!0,qa:!0});return jA(u,C)})(await QA(n),n.asyncQueue,t,e,r))),r.promise}function qj(n,t,e={}){const r=new Ba;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,y){const S=new KA({next:N=>{S.Nu(),f.enqueueAndForget((()=>VA(u,C))),N.fromCache&&v.source==="server"?y.reject(new Ct(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),C=new zA(g,S,{includeMetadataChanges:!0,qa:!0});return jA(u,C)})(await QA(n),n.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firestore.googleapis.com",$T=!0;class JT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$A,this.ssl=$T}else this.host=t.host,this.ssl=t.ssl??$T;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<E5)throw new Ct(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ct(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ct(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ct(gt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mp{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Qk;switch(r.type){case"firstParty":return new tD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=XT.get(e);r&&(It("ComponentProvider","Removing Datastore"),XT.delete(e),r.terminate())})(this),Promise.resolve()}}function Gj(n,t,e,r={}){var y;n=vs(n,mp);const o=Pc(t),u=n._getSettings(),f={...u,emulatorOptions:n._getEmulatorOptions()},g=`${t}:${e}`;o&&(V1(`https://${g}`),z1("Firestore",!0)),u.host!==$A&&u.host!==g&&wc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:g,ssl:o,emulatorOptions:r};if(!Yo(v,f)&&(n._setSettings(v),r.mockUserToken)){let S,C;if(typeof r.mockUserToken=="string")S=r.mockUserToken,C=ai.MOCK_USER;else{S=nP(r.mockUserToken,(y=n._app)==null?void 0:y.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new Ct(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new ai(N)}n._authCredentials=new Xk(new jx(S,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zc(this.firestore,t,this._query)}}class yn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(_f(e,yn._jsonSchema))return new yn(t,r||null,new zt(qe.fromString(e.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:On("string",yn._jsonSchemaVersion),referencePath:On("string")};class Ko extends zc{constructor(t,e,r){super(t,e,ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new zt(t))}withConverter(t){return new Ko(this.firestore,t,this._path)}}function Zl(n,t,...e){if(n=an(n),Vx("collection","path",t),n instanceof mp){const r=qe.fromString(t,...e);return fT(r),new Ko(n,null,r)}{if(!(n instanceof yn||n instanceof Ko))throw new Ct(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(t,...e));return fT(r),new Ko(n.firestore,null,r)}}function Da(n,t,...e){if(n=an(n),arguments.length===1&&(t=ny.newId()),Vx("doc","path",t),n instanceof mp){const r=qe.fromString(t,...e);return hT(r),new yn(n,null,new zt(r))}{if(!(n instanceof yn||n instanceof Ko))throw new Ct(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(t,...e));return hT(r),new yn(n.firestore,n instanceof Ko?n.converter:null,new zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="AsyncQueue";class eS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IA(this,"async_queue_retry"),this._c=()=>{const r=O_();r&&It(tS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=O_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=O_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Ba;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jc(t))throw t;It(tS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Wa("INTERNAL UNHANDLED ERROR: ",nS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=Ey.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&qt(47125,{Pc:nS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function nS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class mu extends mp{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new eS,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new eS(t),this._firestoreClient=void 0,await t}}}function Zj(n,t){const e=typeof n=="object"?n:qv(),r=typeof n=="string"?n:Tm,o=hu(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=tP("firestore");u&&Gj(o,...u)}return o}function Cy(n){if(n._terminated)throw new Ct(gt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Wj(n),n._firestoreClient}function Wj(n){var r,o,u;const t=n._freezeSettings(),e=(function(g,v,y,S){return new _D(g,v,y,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,XA(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Bj(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kr(Qn.fromBase64String(t))}catch(e){throw new Ct(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new kr(Qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_f(t,kr._jsonSchema))return kr.fromBase64String(t.bytes)}}kr._jsonSchemaVersion="firestore/bytes/1.0",kr._jsonSchema={type:On("string",kr._jsonSchemaVersion),bytes:On("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pe(this._lat,t._lat)||pe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ta._jsonSchemaVersion}}static fromJSON(t){if(_f(t,ta._jsonSchema))return new ta(t.latitude,t.longitude)}}ta._jsonSchemaVersion="firestore/geoPoint/1.0",ta._jsonSchema={type:On("string",ta._jsonSchemaVersion),latitude:On("number"),longitude:On("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ea._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_f(t,ea._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ea(t.vectorValues);throw new Ct(gt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ea._jsonSchemaVersion="firestore/vectorValue/1.0",ea._jsonSchema={type:On("string",ea._jsonSchemaVersion),vectorValues:On("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=/^__.*__$/;class Yj{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new al(t,this.data,this.fieldMask,e,this.fieldTransforms):new yf(t,this.data,e,this.fieldTransforms)}}class JA{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new al(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function tC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{Ac:n})}}class Iy{constructor(t,e,r,o,u,f){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Iy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Lm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(tC(this.Ac)&&Kj.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Qj{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||hp(t)}Cc(t,e,r,o=!1){return new Iy({Ac:t,methodName:e,Dc:r,path:Yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(n){const t=n._freezeSettings(),e=hp(n._databaseId);return new Qj(n._databaseId,!!t.ignoreUndefinedProperties,e)}function eC(n,t,e,r,o,u={}){const f=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);Oy("Data must be an object, but it was:",f,r);const g=nC(r,f);let v,y;if(u.merge)v=new or(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const S=[];for(const C of u.mergeFields){const N=Ev(t,C,e);if(!f.contains(N))throw new Ct(gt.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);rC(S,N)||S.push(N)}v=new or(S),y=f.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,y=f.fieldTransforms;return new Yj(new zi(g),v,y)}class _p extends Ry{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _p}}function Xj(n,t,e,r){const o=n.Cc(1,t,e);Oy("Data must be an object, but it was:",o,r);const u=[],f=zi.empty();sl(r,((v,y)=>{const S=Ny(t,v,e);y=an(y);const C=o.yc(S);if(y instanceof _p)u.push(S);else{const N=Tf(y,C);N!=null&&(u.push(S),f.set(S,N))}}));const g=new or(u);return new JA(f,g,o.fieldTransforms)}function $j(n,t,e,r,o,u){const f=n.Cc(1,t,e),g=[Ev(t,r,e)],v=[o];if(u.length%2!=0)throw new Ct(gt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(Ev(t,u[N])),v.push(u[N+1]);const y=[],S=zi.empty();for(let N=g.length-1;N>=0;--N)if(!rC(y,g[N])){const M=g[N];let $=v[N];$=an($);const K=f.yc(M);if($ instanceof _p)y.push(M);else{const W=Tf($,K);W!=null&&(y.push(M),S.set(M,W))}}const C=new or(y);return new JA(S,C,f.fieldTransforms)}function Jj(n,t,e,r=!1){return Tf(e,n.Cc(r?4:3,t))}function Tf(n,t){if(iC(n=an(n)))return Oy("Unsupported field value:",t,n),nC(n,t);if(n instanceof Ry)return(function(r,o){if(!tC(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const g of r){let v=Tf(g,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),f++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BD(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Xe.fromDate(r);return{timestampValue:Im(o.serializer,u)}}if(r instanceof Xe){const u=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Im(o.serializer,u)}}if(r instanceof ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kr)return{bytesValue:vA(o.serializer,r._byteString)};if(r instanceof yn){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ea)return(function(f,g){return{mapValue:{fields:{[Wx]:{stringValue:Kx},[Sm]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return uy(g.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${np(r)}`)})(n,t)}function nC(n,t){const e={};return Ux(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sl(n,((r,o)=>{const u=Tf(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function iC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof ta||n instanceof kr||n instanceof yn||n instanceof Ry||n instanceof ea)}function Oy(n,t,e){if(!iC(e)||!zx(e)){const r=np(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Ev(n,t,e){if((t=an(t))instanceof pp)return t._internalPath;if(typeof t=="string")return Ny(n,t);throw Lm("Field path arguments must be of type string or ",n,!1,void 0,e)}const t4=new RegExp("[~\\*/\\[\\]]");function Ny(n,t,e){if(t.search(t4)>=0)throw Lm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new pp(...t.split("."))._internalPath}catch{throw Lm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Lm(n,t,e,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;e&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||f)&&(v+=" (found",u&&(v+=` in field ${r}`),f&&(v+=` in document ${o}`),v+=")"),new Ct(gt.INVALID_ARGUMENT,g+n+v)}function rC(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new e4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Py("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class e4 extends sC{data(){return super.data()}}function Py(n,t){return typeof t=="string"?Ny(n,t):t instanceof pp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ct(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ly{}class i4 extends Ly{}function r4(n,t,...e){let r=[];t instanceof Ly&&r.push(t),r=r.concat(e),(function(u){const f=u.filter((v=>v instanceof My)).length,g=u.filter((v=>v instanceof vp)).length;if(f>1||f>0&&g>0)throw new Ct(gt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class vp extends i4{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new vp(t,e,r)}_apply(t){const e=this._parse(t);return aC(t._query,e),new zc(t.firestore,t.converter,hv(t._query,e))}_parse(t){const e=gp(t.firestore);return(function(u,f,g,v,y,S,C){let N;if(y.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new Ct(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){rS(C,S);const $=[];for(const K of C)$.push(iS(v,u,K));N={arrayValue:{values:$}}}else N=iS(v,u,C)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||rS(C,S),N=Jj(g,f,C,S==="in"||S==="not-in");return In.create(y,S,N)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function s4(n,t,e){const r=t,o=Py("where",n);return vp._create(o,r,e)}class My extends Ly{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new My(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:ys.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const v of g)aC(f,v),f=hv(f,v)})(t._query,e),new zc(t.firestore,t.converter,hv(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function iS(n,t,e){if(typeof(e=an(e))=="string"){if(e==="")throw new Ct(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nA(t)&&e.indexOf("/")!==-1)throw new Ct(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(qe.fromString(e));if(!zt.isDocumentKey(r))throw new Ct(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bT(n,new zt(r))}if(e instanceof yn)return bT(n,e._key);throw new Ct(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${np(e)}.`)}function rS(n,t){if(!Array.isArray(n)||n.length===0)throw new Ct(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aC(n,t){const e=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Ct(gt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(gt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class a4{convertValue(t,e="none"){switch(Jo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($o(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw qt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return sl(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){var r,o,u;const e=(u=(o=(r=t.fields)==null?void 0:r[Sm].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>vn(f.doubleValue)));return new ea(e)}convertGeoPoint(t){return new ta(vn(t.latitude),vn(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=sp(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Xh(t));default:return null}}convertTimestamp(t){const e=Xo(t);return new Xe(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=qe.fromString(t);Pe(SA(r),9688,{name:t});const o=new $h(r.get(1),r.get(3)),u=new zt(r.popFirst(5));return o.isEqual(e)||Wa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class Mh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yl extends sC{constructor(t,e,r,o,u,f){super(t,e,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Py("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(gt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Yl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:On("string",Yl._jsonSchemaVersion),bundleSource:On("string","DocumentSnapshot"),bundleName:On("string"),bundle:On("string")};class em extends Yl{data(t={}){return super.data(t)}}class mc{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Mh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new em(this._firestore,this._userDataWriter,r.key,r,new Mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const v=new em(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mh(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const v=new em(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mh(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),S=f.indexOf(g.doc.key)),{type:o4(g.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(gt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ny.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function o4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(n){n=vs(n,yn);const t=vs(n.firestore,mu);return Hj(Cy(t),n._key).then((e=>u4(t,n,e)))}mc._jsonSchemaVersion="firestore/querySnapshot/1.0",mc._jsonSchema={type:On("string",mc._jsonSchemaVersion),bundleSource:On("string","QuerySnapshot"),bundleName:On("string"),bundle:On("string")};class lC extends a4{constructor(t){super(),this.firestore=t}convertBytes(t){return new kr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,e)}}function Mm(n){n=vs(n,zc);const t=vs(n.firestore,mu),e=Cy(t),r=new lC(t);return n4(n._query),qj(e,n._query).then((o=>new mc(t,r,n,o)))}function sS(n,t,e){n=vs(n,yn);const r=vs(n.firestore,mu),o=oC(n.converter,t,e);return yp(r,[eC(gp(r),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,zr.none())])}function l4(n,t,e,...r){n=vs(n,yn);const o=vs(n.firestore,mu),u=gp(o);let f;return f=typeof(t=an(t))=="string"||t instanceof pp?$j(u,"updateDoc",n._key,t,e,r):Xj(u,"updateDoc",n._key,t),yp(o,[f.toMutation(n._key,zr.exists(!0))])}function Sv(n){return yp(vs(n.firestore,mu),[new cy(n._key,zr.none())])}function xv(n,t){const e=vs(n.firestore,mu),r=Da(n),o=oC(n.converter,t);return yp(e,[eC(gp(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then((()=>r))}function yp(n,t){return(function(r,o){const u=new Ba;return r.asyncQueue.enqueueAndForget((async()=>Nj(await Fj(r),o,u))),u.promise})(Cy(n),t)}function u4(n,t,e){const r=e.docs.get(t._key),o=new lC(n);return new Yl(n,o,t._key,r,new Mh(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){kc=o})(Lc),na(new _s("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new mu(new $k(r.getProvider("auth-internal")),new eD(f,r.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ct(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(y.options.projectId,S)})(f,o),f);return u={useFetchStreams:e,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Vr(oT,lT,t),Vr(oT,lT,"esm2020")})();var c4="firebase",h4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(c4,h4,"app");const uC="@firebase/installations",ky="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=1e4,hC=`w:${ky}`,fC="FIS_v2",f4="https://firebaseinstallations.googleapis.com/v1",d4=3600*1e3,m4="installations",p4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},iu=new cu(m4,p4,g4);function dC(n){return n instanceof ws&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC({projectId:n}){return`${f4}/projects/${n}/installations`}function pC(n){return{token:n.token,requestStatus:2,expiresIn:v4(n.expiresIn),creationTime:Date.now()}}async function gC(n,t){const r=(await t.json()).error;return iu.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _C({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _4(n,{refreshToken:t}){const e=_C(n);return e.append("Authorization",y4(t)),e}async function vC(n){const t=await n();return t.status>=500&&t.status<600?n():t}function v4(n){return Number(n.replace("s","000"))}function y4(n){return`${fC} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const r=mC(n),o=_C(n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:e,authVersion:fC,appId:n.appId,sdkVersion:hC},g={method:"POST",headers:o,body:JSON.stringify(f)},v=await vC(()=>fetch(r,g));if(v.ok){const y=await v.json();return{fid:y.fid||e,registrationStatus:2,refreshToken:y.refreshToken,authToken:pC(y.authToken)}}else throw await gC("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=/^[cdef][\w-]{21}$/,Av="";function T4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=S4(n);return E4.test(e)?e:Av}catch{return Av}}function S4(n){return w4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new Map;function wC(n,t){const e=bp(n);EC(e,t),x4(e,t)}function EC(n,t){const e=bC.get(n);if(e)for(const r of e)r(t)}function x4(n,t){const e=A4();e&&e.postMessage({key:n,fid:t}),C4()}let Wl=null;function A4(){return!Wl&&"BroadcastChannel"in self&&(Wl=new BroadcastChannel("[Firebase] FID Change"),Wl.onmessage=n=>{EC(n.data.key,n.data.fid)}),Wl}function C4(){bC.size===0&&Wl&&(Wl.close(),Wl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="firebase-installations-database",I4=1,ru="firebase-installations-store";let P_=null;function Dy(){return P_||(P_=G1(R4,I4,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(ru)}}})),P_}async function km(n,t){const e=bp(n),o=(await Dy()).transaction(ru,"readwrite"),u=o.objectStore(ru),f=await u.get(e);return await u.put(t,e),await o.done,(!f||f.fid!==t.fid)&&wC(n,t.fid),t}async function TC(n){const t=bp(n),r=(await Dy()).transaction(ru,"readwrite");await r.objectStore(ru).delete(t),await r.done}async function wp(n,t){const e=bp(n),o=(await Dy()).transaction(ru,"readwrite"),u=o.objectStore(ru),f=await u.get(e),g=t(f);return g===void 0?await u.delete(e):await u.put(g,e),await o.done,g&&(!f||f.fid!==g.fid)&&wC(n,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jy(n){let t;const e=await wp(n.appConfig,r=>{const o=O4(r),u=N4(n,o);return t=u.registrationPromise,u.installationEntry});return e.fid===Av?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function O4(n){const t=n||{fid:T4(),registrationStatus:0};return SC(t)}function N4(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(iu.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=P4(n,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:L4(n)}:{installationEntry:t}}async function P4(n,t){try{const e=await b4(n,t);return km(n.appConfig,e)}catch(e){throw dC(e)&&e.customData.serverCode===409?await TC(n.appConfig):await km(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function L4(n){let t=await aS(n.appConfig);for(;t.registrationStatus===1;)await yC(100),t=await aS(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await jy(n);return r||e}return t}function aS(n){return wp(n,t=>{if(!t)throw iu.create("installation-not-found");return SC(t)})}function SC(n){return M4(n)?{fid:n.fid,registrationStatus:0}:n}function M4(n){return n.registrationStatus===1&&n.registrationTime+cC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4({appConfig:n,heartbeatServiceProvider:t},e){const r=D4(n,e),o=_4(n,e),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:hC,appId:n.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},v=await vC(()=>fetch(r,g));if(v.ok){const y=await v.json();return pC(y)}else throw await gC("Generate Auth Token",v)}function D4(n,{fid:t}){return`${mC(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(n,t=!1){let e;const r=await wp(n.appConfig,u=>{if(!xC(u))throw iu.create("not-registered");const f=u.authToken;if(!t&&z4(f))return u;if(f.requestStatus===1)return e=j4(n,t),u;{if(!navigator.onLine)throw iu.create("app-offline");const g=U4(u);return e=V4(n,g),g}});return e?await e:r.authToken}async function j4(n,t){let e=await oS(n.appConfig);for(;e.authToken.requestStatus===1;)await yC(100),e=await oS(n.appConfig);const r=e.authToken;return r.requestStatus===0?Vy(n,t):r}function oS(n){return wp(n,t=>{if(!xC(t))throw iu.create("not-registered");const e=t.authToken;return F4(e)?{...t,authToken:{requestStatus:0}}:t})}async function V4(n,t){try{const e=await k4(n,t),r={...t,authToken:e};return await km(n.appConfig,r),e}catch(e){if(dC(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await TC(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await km(n.appConfig,r)}throw e}}function xC(n){return n!==void 0&&n.registrationStatus===2}function z4(n){return n.requestStatus===2&&!B4(n)}function B4(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+d4}function U4(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function F4(n){return n.requestStatus===1&&n.requestTime+cC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(n){const t=n,{installationEntry:e,registrationPromise:r}=await jy(t);return r?r.catch(console.error):Vy(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(n,t=!1){const e=n;return await G4(e),(await Vy(e,t)).token}async function G4(n){const{registrationPromise:t}=await jy(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n){if(!n||!n.options)throw L_("App Configuration");if(!n.name)throw L_("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw L_(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function L_(n){return iu.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="installations",W4="installations-internal",K4=n=>{const t=n.getProvider("app").getImmediate(),e=Z4(t),r=hu(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Y4=n=>{const t=n.getProvider("app").getImmediate(),e=hu(t,AC).getImmediate();return{getId:()=>H4(e),getToken:o=>q4(e,o)}};function Q4(){na(new _s(AC,K4,"PUBLIC")),na(new _s(W4,Y4,"PRIVATE"))}Q4();Vr(uC,ky);Vr(uC,ky,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="analytics",X4="firebase_id",$4="origin",J4=60*1e3,tV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new $m("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ur=new cu("analytics","Analytics",eV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(n){if(!n.startsWith(zy)){const t=ur.create("invalid-gtag-resource",{gtagURL:n});return vi.warn(t.message),""}return n}function CC(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function iV(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function rV(n,t){const e=iV("firebase-js-sdk-policy",{createScriptURL:nV}),r=document.createElement("script"),o=`${zy}?l=${n}&id=${t}`;r.src=e?e==null?void 0:e.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function sV(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function aV(n,t,e,r,o,u){const f=r[o];try{if(f)await t[f];else{const v=(await CC(e)).find(y=>y.measurementId===o);v&&await t[v.appId]}}catch(g){vi.error(g)}n("config",o,u)}async function oV(n,t,e,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await CC(e);for(const v of f){const y=g.find(C=>C.measurementId===v),S=y&&t[y.appId];if(S)u.push(S);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){vi.error(u)}}function lV(n,t,e,r){async function o(u,...f){try{if(u==="event"){const[g,v]=f;await oV(n,t,e,g,v)}else if(u==="config"){const[g,v]=f;await aV(n,t,e,r,g,v)}else if(u==="consent"){const[g,v]=f;n("consent",g,v)}else if(u==="get"){const[g,v,y]=f;n("get",g,v,y)}else if(u==="set"){const[g]=f;n("set",g)}else n(u,...f)}catch(g){vi.error(g)}}return o}function uV(n,t,e,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=lV(u,n,t,e),{gtagCore:u,wrappedGtag:window[o]}}function cV(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(zy)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=30,fV=1e3;class dV{constructor(t={},e=fV){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const RC=new dV;function mV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function pV(n){var f;const{appId:t,apiKey:e}=n,r={method:"GET",headers:mV(e)},o=tV.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let g="";try{const v=await u.json();(f=v.error)!=null&&f.message&&(g=v.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function gV(n,t=RC,e){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw ur.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ur.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new yV;return setTimeout(async()=>{g.abort()},J4),IC({appId:r,apiKey:o,measurementId:u},f,g,t)}async function IC(n,{throttleEndTimeMillis:t,backoffCount:e},r,o=RC){var g;const{appId:u,measurementId:f}=n;try{await _V(r,t)}catch(v){if(f)return vi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:u,measurementId:f};throw v}try{const v=await pV(n);return o.deleteThrottleMetadata(u),v}catch(v){const y=v;if(!vV(y)){if(o.deleteThrottleMetadata(u),f)return vi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw v}const S=Number((g=y==null?void 0:y.customData)==null?void 0:g.httpStatus)===503?NE(e,o.intervalMillis,hV):NE(e,o.intervalMillis),C={throttleEndTimeMillis:Date.now()+S,backoffCount:e+1};return o.setThrottleMetadata(u,C),vi.debug(`Calling attemptFetch again in ${S} millis`),IC(n,C,r,o)}}function _V(n,t){return new Promise((e,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(u),r(ur.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function vV(n){if(!(n instanceof ws)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class yV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function bV(n,t,e,r,o){if(o&&o.global){n("event",e,r);return}else{const u=await t,f={...r,send_to:u};n("event",e,f)}}async function wV(n,t,e,r){if(r&&r.global){const o={};for(const u of Object.keys(e))o[`user_properties.${u}`]=e[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EV(){if(U1())try{await F1()}catch(n){return vi.warn(ur.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return vi.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function TV(n,t,e,r,o,u,f){const g=gV(n);g.then(N=>{e[N.measurementId]=N.appId,n.options.measurementId&&N.measurementId!==n.options.measurementId&&vi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>vi.error(N)),t.push(g);const v=EV().then(N=>{if(N)return r.getId()}),[y,S]=await Promise.all([g,v]);cV(u)||rV(u,y.measurementId),o("js",new Date);const C=(f==null?void 0:f.config)??{};return C[$4]="firebase",C.update=!0,S!=null&&(C[X4]=S),o("config",y.measurementId,C),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(t){this.app=t}_delete(){return delete pc[this.app.options.appId],Promise.resolve()}}let pc={},lS=[];const uS={};let M_="dataLayer",xV="gtag",cS,By,hS=!1;function AV(){const n=[];if(B1()&&n.push("This is a browser extension environment."),hP()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),e=ur.create("invalid-analytics-context",{errorInfo:t});vi.warn(e.message)}}function CV(n,t,e){AV();const r=n.options.appId;if(!r)throw ur.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)vi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ur.create("no-api-key");if(pc[r]!=null)throw ur.create("already-exists",{id:r});if(!hS){sV(M_);const{wrappedGtag:u,gtagCore:f}=uV(pc,lS,uS,M_,xV);By=u,cS=f,hS=!0}return pc[r]=TV(n,lS,uS,t,cS,M_,e),new SV(n)}function RV(n=qv()){n=an(n);const t=hu(n,Dm);return t.isInitialized()?t.getImmediate():IV(n)}function IV(n,t={}){const e=hu(n,Dm);if(e.isInitialized()){const o=e.getImmediate();if(Yo(t,e.getOptions()))return o;throw ur.create("already-initialized")}return e.initialize({options:t})}function OV(n,t,e){n=an(n),wV(By,pc[n.app.options.appId],t,e).catch(r=>vi.error(r))}function NV(n,t,e,r){n=an(n),bV(By,pc[n.app.options.appId],t,e,r).catch(o=>vi.error(o))}const fS="@firebase/analytics",dS="0.10.19";function PV(){na(new _s(Dm,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return CV(r,o,e)},"PUBLIC")),na(new _s("analytics-internal",n,"PRIVATE")),Vr(fS,dS),Vr(fS,dS,"esm2020");function n(t){try{const e=t.getProvider(Dm).getImmediate();return{logEvent:(r,o,u)=>NV(e,r,o,u),setUserProperties:(r,o)=>OV(e,r,o)}}catch(e){throw ur.create("interop-component-reg-failed",{reason:e})}}}PV();const LV={apiKey:"AIzaSyBpUED221Qngm9iO2vMU8HRzOaPzAQgbb0",authDomain:"tidal-mare.firebaseapp.com",projectId:"tidal-mare",storageBucket:"tidal-mare.firebasestorage.app",messagingSenderId:"411121995154",appId:"1:411121995154:web:9be647215a9de1efc8454b",measurementId:"G-YZNZQZJT7T"},Uy=Z1(LV),cs=Kk(Uy),_i=Zj(Uy);RV(Uy);class Hl{static getToken(){return localStorage.getItem(this.TOKEN_KEY)}static setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}static removeToken(){localStorage.removeItem(this.TOKEN_KEY)}}ee(Hl,"TOKEN_KEY","auth_token");class Pr{static async login(t,e){const r=await PM(cs,t,e),o=await r.user.getIdToken();return Hl.setToken(o),r.user}static async loginWithGoogle(){const t=new La,r=(await ik(cs,t)).user,o=await r.getIdToken();return Hl.setToken(o),await this.createUserDocument(r),r}static async loginAnonymously(){const t=await AM(cs),e=await t.user.getIdToken();return Hl.setToken(e),t.user}static async deleteAccount(){const t=cs.currentUser;if(!t)throw new Error("No user logged in");const e=Da(_i,"users",t.uid);await Sv(e),await jM(t),Hl.removeToken()}static async register(t,e){const o=(await NM(cs,t,e)).user,u=await o.getIdToken();return Hl.setToken(u),await this.createUserDocument(o),await this.sendVerificationEmail(o),o}static async sendVerificationEmail(t){await QE(t)}static async resendCurrentVerificationEmail(){cs.currentUser&&await QE(cs.currentUser)}static async resetPassword(t){await OM(cs,t)}static async logout(){await DM(cs),Hl.removeToken()}static onAuthStateChanged(t){return kM(cs,t)}static async getUserProfile(t){const e=Da(_i,"users",t),r=await Tv(e);return r.exists()?r.data():null}static async createUserDocument(t){const e=Da(_i,"users",t.uid);(await Tv(e)).exists()||await sS(e,{email:t.email,role:"customer",createdAt:new Date().toISOString(),displayName:t.displayName||"",photoURL:t.photoURL||""})}static async updateUserProfile(t,e){const r=Da(_i,"users",t);await sS(r,e,{merge:!0})}}class MV{constructor(){ee(this,"user",null);ee(this,"isLoading",!1);ee(this,"error",null);ee(this,"sustainabilityStats",{co2Saved:124,treesPlanted:12,distance:850});ee(this,"unsubscribeAuth",null);Km(this,{},{autoBind:!0}),this.checkAuth()}get isAuthenticated(){return!!this.user}get isAdmin(){var t;return((t=this.user)==null?void 0:t.role)==="admin"}getFriendlyErrorMessage(t){const e=t.code||"",r=t.message||"";switch(e){case"auth/email-already-in-use":return"Dit e-mailadres is al in gebruik. Log in of probeer een ander adres.";case"auth/invalid-email":return"Het opgegeven e-mailadres is ongeldig.";case"auth/weak-password":return"Het wachtwoord is te zwak. Gebruik minimaal 6 tekens.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Ongeldig e-mailadres of wachtwoord.";case"auth/too-many-requests":return"Te veel mislukte pogingen. Probeer het later opnieuw.";case"auth/network-request-failed":return"Er is een netwerkfout opgetreden. Controleer je verbinding.";case"auth/requires-recent-login":return"Voor deze actie moet je opnieuw inloggen.";default:return r.includes("email-already-in-use")?"Dit e-mailadres is al in gebruik.":"Er is een fout opgetreden. Probeer het opnieuw."}}async login(t,e){this.isLoading=!0,this.error=null;try{const r=await Pr.login(t,e);Qt(()=>{this.user={id:r.uid,email:r.email||"",role:"customer"}})}catch(r){Qt(()=>{this.error=this.getFriendlyErrorMessage(r)})}finally{Qt(()=>{this.isLoading=!1})}}async loginWithGoogle(){this.isLoading=!0,this.error=null;try{const t=await Pr.loginWithGoogle();Qt(()=>{this.user={id:t.uid,email:t.email||"",role:"customer"}})}catch(t){Qt(()=>{this.error=this.getFriendlyErrorMessage(t)})}finally{Qt(()=>{this.isLoading=!1})}}async loginAnonymously(){this.isLoading=!0,this.error=null;try{const t=await Pr.loginAnonymously();Qt(()=>{this.user={id:t.uid,email:"guest@tidalmare.com",role:"guest"}})}catch(t){Qt(()=>{console.error("Guest login error:",t),this.error=this.getFriendlyErrorMessage(t)})}finally{Qt(()=>{this.isLoading=!1})}}async register(t,e){this.isLoading=!0,this.error=null,this.unsubscribeAuth&&(this.unsubscribeAuth(),this.unsubscribeAuth=null);try{await Pr.register(t,e),await Pr.logout(),Qt(()=>{this.user=null})}catch(r){throw Qt(()=>{this.error=this.getFriendlyErrorMessage(r)}),r}finally{Qt(()=>{this.isLoading=!1}),this.checkAuth()}}async logout(){try{await Pr.logout(),Qt(()=>{this.user=null})}catch(t){console.error("Logout failed:",t)}}async deleteAccount(){this.isLoading=!0;try{await Pr.deleteAccount(),Qt(()=>{this.user=null})}catch(t){throw Qt(()=>{this.error=this.getFriendlyErrorMessage(t)}),t}finally{Qt(()=>{this.isLoading=!1})}}async resetPassword(t){this.isLoading=!0,this.error=null;try{await Pr.resetPassword(t)}catch(e){throw Qt(()=>{this.error=this.getFriendlyErrorMessage(e)}),e}finally{Qt(()=>{this.isLoading=!1})}}async resendVerificationEmail(){this.isLoading=!0;try{await Pr.resendCurrentVerificationEmail()}catch(t){Qt(()=>{this.error=this.getFriendlyErrorMessage(t)})}finally{Qt(()=>{this.isLoading=!1})}}checkAuth(){this.unsubscribeAuth&&this.unsubscribeAuth(),this.unsubscribeAuth=Pr.onAuthStateChanged(async t=>{if(t){if(t.isAnonymous){Qt(()=>{this.user={id:t.uid,email:"guest@tidalmare.com",role:"guest"}});return}try{const e=await Pr.getUserProfile(t.uid);Qt(()=>{this.user={id:t.uid,email:t.email||"",role:(e==null?void 0:e.role)||"customer"}})}catch{Qt(()=>{this.user={id:t.uid,email:t.email||"",role:"customer"}})}}else Qt(()=>{this.user=null})})}}const mS={REQUESTED:"REQUESTED",CONFIRMED:"CONFIRMED",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED"},gc={DUMMY:"DUMMY",GREENWHEELS:"GREENWHEELS",MYWHEELS:"MYWHEELS"},_c={EV:"EV",HYBRID:"HYBRID",PETROL:"PETROL"},Ch="bookings";class nm{static async createBooking(t){try{return(await xv(Zl(_i,Ch),{...t,createdAt:new Date().toISOString()})).id}catch(e){throw console.error("Error creating booking: ",e),e}}static async getUserBookings(t){try{const e=r4(Zl(_i,Ch),s4("userId","==",t));return(await Mm(e)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error fetching user bookings: ",e),[]}}static async getAllBookings(){try{return(await Mm(Zl(_i,Ch))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Error fetching all bookings: ",t),[]}}static async updateBookingStatus(t,e,r){const o=Da(_i,Ch,t);await l4(o,{status:e,cancellationReason:r})}static async getBookingById(t){const e=Da(_i,Ch,t),r=await Tv(e);return r.exists()?{id:r.id,...r.data()}:null}}class OC{constructor(){ee(this,"startStreet","");ee(this,"startHouseNumber","");ee(this,"startPostcode","");ee(this,"startCity","");ee(this,"startCountry","Nederland");ee(this,"isStartAddressValid",!1);ee(this,"startLat",null);ee(this,"startLng",null);ee(this,"endStreet","");ee(this,"endHouseNumber","");ee(this,"endPostcode","");ee(this,"endCity","");ee(this,"endCountry","Nederland");ee(this,"isEndAddressValid",!1);ee(this,"endLat",null);ee(this,"endLng",null);ee(this,"bookingNote","");ee(this,"dateTime",new Date().toISOString());ee(this,"passengers",1);ee(this,"luggageLevel",0);ee(this,"availableCars",[]);ee(this,"selectedCar",null);ee(this,"isLoading",!1);ee(this,"error",null);ee(this,"bookingStatus",null);ee(this,"selectedBookingDetails",null);ee(this,"isCancelling",!1);ee(this,"showValidationErrors",!1);Km(this)}setStartAddress(t){this.startStreet=t.street,this.startHouseNumber=t.houseNumber,this.startPostcode=t.postcode,this.startCity=t.city,this.startCountry=t.country,this.startLat=t.latitude,this.startLng=t.longitude,this.isStartAddressValid=!0}setEndAddress(t){this.endStreet=t.street,this.endHouseNumber=t.houseNumber,this.endPostcode=t.postcode,this.endCity=t.city,this.endCountry=t.country,this.endLat=t.latitude,this.endLng=t.longitude,this.isEndAddressValid=!0}updateStartField(t,e){t==="street"?(this.startStreet=e,this.startHouseNumber="",this.startPostcode="",this.startCity=""):t==="houseNumber"?this.startHouseNumber=e:t==="postcode"?this.startPostcode=e:t==="city"&&(this.startCity=e),this.isStartAddressValid=!1}updateEndField(t,e){t==="street"?(this.endStreet=e,this.endHouseNumber="",this.endPostcode="",this.endCity=""):t==="houseNumber"?this.endHouseNumber=e:t==="postcode"?this.endPostcode=e:t==="city"&&(this.endCity=e),this.isEndAddressValid=!1}setPassengers(t){this.passengers=t}setLuggageLevel(t){this.luggageLevel=t}setBookingNote(t){this.bookingNote=t}get canSearch(){return this.isStartAddressValid&&this.isEndAddressValid&&this.passengers>0}async searchCars(){if(this.showValidationErrors=!0,!this.canSearch){Qt(()=>{this.error="Vul a.u.b. geldige start- en eindadressen in."});return}this.isLoading=!0,this.error=null,this.availableCars=[],setTimeout(()=>{Qt(()=>{this.availableCars=[{id:"car-1",make:"Tesla",model:"Model Y",provider:gc.MYWHEELS,seats:4,fuelType:_c.EV,luggageCapacity:1,range:450,pricePerHourEstimate:18,rating:4.8,location:{latitude:52.3676,longitude:4.9041,address:"Amsterdam Centrum"}},{id:"car-2",make:"BMW",model:"iX",provider:gc.GREENWHEELS,seats:5,fuelType:_c.EV,luggageCapacity:2,range:520,pricePerHourEstimate:24,rating:4.9,location:{latitude:52.365,longitude:4.9,address:"Amsterdam Zuid"}},{id:"car-3",make:"Polestar",model:"2",provider:gc.MYWHEELS,seats:4,fuelType:_c.EV,luggageCapacity:1,range:400,pricePerHourEstimate:16,rating:4.7,location:{latitude:52.37,longitude:4.91,address:"Amsterdam Oost"}}],this.isLoading=!1})},800)}selectCar(t){this.selectedCar=t}async confirmBooking(){if(!this.selectedCar||!this.isStartAddressValid||!this.isEndAddressValid)return;const t=cs.currentUser;if(!t){Qt(()=>{this.error="Je moet ingelogd zijn om te boeken."});return}this.isLoading=!0;try{const e={userId:t.uid,carId:this.selectedCar.id,startLocation:{address:`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`,latitude:this.startLat||0,longitude:this.startLng||0},endLocation:{address:`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`,latitude:this.endLat||0,longitude:this.endLng||0},startTime:this.dateTime,totalPrice:this.selectedCar.pricePerHourEstimate*2,note:this.bookingNote,status:mS.REQUESTED};await nm.createBooking(e),Qt(()=>{this.bookingStatus=mS.REQUESTED})}catch(e){Qt(()=>{this.error=e.message||"Booking failed"})}finally{Qt(()=>{this.isLoading=!1})}}clearForm(){this.startStreet="",this.startHouseNumber="",this.startPostcode="",this.startCity="",this.isStartAddressValid=!1,this.endStreet="",this.endHouseNumber="",this.endPostcode="",this.endCity="",this.isEndAddressValid=!1,this.bookingNote="",this.availableCars=[],this.bookingStatus=null}get startAddressSummary(){return this.startStreet?`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`:"-"}get endAddressSummary(){return this.endStreet?`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`:"-"}async cancelBooking(t,e){var r;this.isCancelling=!0;try{await nm.updateBookingStatus(t,"CANCELLED",e),((r=this.selectedBookingDetails)==null?void 0:r.id)===t&&await this.loadBookingDetails(t)}catch(o){console.error(o)}finally{Qt(()=>{this.isCancelling=!1})}}async loadBookingDetails(t){try{const e=await nm.getBookingById(t);Qt(()=>this.selectedBookingDetails=e)}catch(e){console.error(e)}}}class kV{constructor(){ee(this,"user",null);ee(this,"isLoading",!1);Km(this)}setUser(t){this.user=t}async updateProfile(t){if(this.user){this.isLoading=!0;try{await Pr.updateUserProfile(this.user.id,t),Qt(()=>{this.user&&(this.user={...this.user,...t})})}catch(e){throw console.error("Failed to update profile",e),e}finally{Qt(()=>{this.isLoading=!1})}}}}class ec{static async getCars(){return(await Mm(Zl(_i,"cars"))).docs.map(e=>({id:e.id,...e.data()}))}static async addCar(t){return{id:(await xv(Zl(_i,"cars"),t)).id,...t}}static async deleteCar(t){await Sv(Da(_i,"cars",t))}static async getChargingPoints(){return(await Mm(Zl(_i,"charging_points"))).docs.map(e=>({id:e.id,...e.data()}))}static async addChargingPoint(t){return{id:(await xv(Zl(_i,"charging_points"),t)).id,...t}}static async deleteChargingPoint(t){await Sv(Da(_i,"charging_points",t))}}class DV{constructor(){ee(this,"cars",[]);ee(this,"chargingPoints",[]);ee(this,"isLoading",!1);Km(this)}async loadData(){this.isLoading=!0;try{const[t,e]=await Promise.all([ec.getCars(),ec.getChargingPoints()]);Qt(()=>{this.cars=t,this.chargingPoints=e})}catch(t){console.error("Failed to load admin data",t)}finally{Qt(()=>{this.isLoading=!1})}}async addCar(t){this.isLoading=!0;try{const e=await ec.addCar(t);Qt(()=>{this.cars.push(e)})}catch(e){throw console.error("Failed to add car",e),e}finally{Qt(()=>{this.isLoading=!1})}}async deleteCar(t){this.isLoading=!0;try{await ec.deleteCar(t),Qt(()=>{this.cars=this.cars.filter(e=>e.id!==t)})}catch(e){console.error("Failed to delete car",e)}finally{Qt(()=>{this.isLoading=!1})}}async addChargingPoint(t){this.isLoading=!0;try{const e=await ec.addChargingPoint(t);Qt(()=>{this.chargingPoints.push(e)})}catch(e){throw console.error("Failed to add charging point",e),e}finally{Qt(()=>{this.isLoading=!1})}}async deleteChargingPoint(t){this.isLoading=!0;try{await ec.deleteChargingPoint(t),Qt(()=>{this.chargingPoints=this.chargingPoints.filter(e=>e.id!==t)})}catch(e){console.error("Failed to delete charging point",e)}finally{Qt(()=>{this.isLoading=!1})}}}const Wn=new MV,nc=new DV,Rh=new kV,Cv=({className:n,...t})=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),NC=({className:n,...t})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),PC=({className:n,...t})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),LC=({className:n,...t})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})}),nf=({className:n,...t})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),Fy=({className:n,...t})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),jV=({className:n,...t})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),gi=Wn,VV=qr(()=>{const[n,t]=Z.useState(""),[e,r]=Z.useState(""),[o,u]=Z.useState(!1),[f,g]=Z.useState(""),[v,y]=Z.useState(null),S=su(),C=async K=>{K.preventDefault(),await gi.login(n,e),gi.isAuthenticated&&S("/dashboard")},N=async()=>{await gi.loginWithGoogle(),gi.isAuthenticated&&S("/dashboard")},M=async()=>{await gi.loginAnonymously(),gi.isAuthenticated&&S("/dashboard")},$=async K=>{K.preventDefault();try{await gi.resetPassword(f),y("Check je email voor instructies om je wachtwoord te resetten.")}catch{}};return o?w.jsx("div",{className:"auth-background",children:w.jsxs("div",{className:"auth-card",children:[w.jsx("h2",{className:"auth-title",children:"Wachtwoord Resetten"}),w.jsx("p",{className:"auth-subtitle",children:"Vul je email in om een reset link te ontvangen."}),gi.error&&w.jsx("p",{className:"error-message mb-4",children:gi.error}),v&&w.jsx("p",{className:"success-message mb-4",style:{color:"green",background:"#e6fffa",padding:"10px",borderRadius:"4px"},children:v}),w.jsxs("form",{onSubmit:$,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Email"}),w.jsxs("div",{className:"input-group",children:[w.jsx(nf,{className:"input-icon"}),w.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:f,onChange:K=>g(K.target.value),required:!0})]})]}),w.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:gi.isLoading,style:{width:"100%",padding:"12px"},children:gi.isLoading?"Verzenden...":"Reset Link Sturen"})]}),w.jsx("button",{onClick:()=>u(!1),className:"text-btn block mt-4 text-center w-full",style:{background:"none",border:"none",color:"#666",cursor:"pointer",marginTop:"1rem"},children:"Terug naar Inloggen"})]})}):w.jsx("div",{className:"auth-background",children:w.jsxs("div",{className:"auth-card",children:[w.jsx("h2",{className:"auth-title",children:"Welkom terug"}),w.jsx("p",{className:"auth-subtitle",children:"Log in om verder te gaan met Tidal Mare"}),gi.error&&w.jsxs("div",{className:"error-message mb-4",style:{background:"rgba(254, 226, 226, 0.5)",backdropFilter:"blur(8px)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#b91c1c",padding:"12px 16px",borderRadius:"12px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px",marginBottom:"1rem"},children:[w.jsx("span",{style:{fontSize:"1.2rem"},children:""}),gi.error]}),w.jsxs("form",{onSubmit:C,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Email"}),w.jsxs("div",{className:"input-group",children:[w.jsx(nf,{className:"input-icon"}),w.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:K=>t(K.target.value),required:!0})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Wachtwoord"}),w.jsxs("div",{className:"input-group",children:[w.jsx(Fy,{className:"input-icon"}),w.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:e,onChange:K=>r(K.target.value),required:!0})]})]}),w.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:gi.isLoading,style:{width:"100%",padding:"12px"},children:gi.isLoading?"Bezig met inloggen...":"Inloggen"})]}),w.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[w.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),w.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of log in met"}),w.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),w.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:w.jsx("button",{onClick:N,className:"social-btn-round",title:"Inloggen met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:w.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),w.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:w.jsx("button",{onClick:M,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),w.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[w.jsx("button",{type:"button",onClick:()=>u(!0),style:{background:"none",border:"none",color:"#666",fontSize:"0.9rem",cursor:"pointer",textDecoration:"none"},children:"Wachtwoord vergeten?"}),w.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--slate-500)"},children:["Nog geen account? ",w.jsx(lr,{to:"/register",style:{fontWeight:600},children:"Registreer hier"})]})]})]})})}),ls=Wn,zV=qr(()=>{const[n,t]=Z.useState(""),[e,r]=Z.useState(""),[o,u]=Z.useState(!1),f=su(),g=async S=>{S.preventDefault(),await ls.register(n,e),ls.error||u(!0)},v=async()=>{await ls.loginWithGoogle(),ls.isAuthenticated&&f("/dashboard")},y=async()=>{await ls.loginAnonymously(),ls.isAuthenticated&&f("/dashboard")};return o?w.jsx("div",{className:"auth-background",children:w.jsxs("div",{className:"auth-card",style:{textAlign:"center"},children:[w.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),w.jsx("h2",{className:"auth-title",children:"Controleer je e-mail"}),w.jsxs("p",{className:"auth-subtitle",children:["We hebben een verificatielink gestuurd naar ",w.jsx("strong",{children:n}),". Klik op de link in de e-mail om je account te activeren."]}),w.jsxs("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[w.jsxs("button",{onClick:()=>window.open("https://gmail.com","_blank"),className:"btn-primary",style:{width:"100%",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:["Open Email App ",w.jsx(nf,{className:"w-5 h-5"})]}),w.jsx("button",{onClick:()=>f("/login"),className:"btn-secondary",style:{width:"100%",padding:"12px",background:"white",border:"1px solid #cbd5e1",color:"#334155",fontWeight:"600",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:"Terug naar inloggen"})]}),w.jsxs("p",{style:{marginTop:"2rem",fontSize:"0.9rem",color:"#64748b"},children:["Geen e-mail ontvangen? ",w.jsx("button",{onClick:()=>ls.resendVerificationEmail(),style:{color:"var(--primary-600)",fontWeight:600,background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Stuur opnieuw"})]})]})}):w.jsx("div",{className:"auth-background",children:w.jsxs("div",{className:"auth-card",children:[w.jsx("h2",{className:"auth-title",children:"Maak een account"}),w.jsx("p",{className:"auth-subtitle",children:"Begin vandaag nog met jouw duurzame reis"}),ls.error&&w.jsxs("div",{className:"error-message mb-4",style:{background:"rgba(254, 226, 226, 0.5)",backdropFilter:"blur(8px)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#b91c1c",padding:"12px 16px",borderRadius:"12px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px",marginBottom:"1rem"},children:[w.jsx("span",{style:{fontSize:"1.2rem"},children:""}),ls.error]}),w.jsxs("form",{onSubmit:g,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Email"}),w.jsxs("div",{className:"input-group",children:[w.jsx(nf,{className:"input-icon"}),w.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:S=>t(S.target.value),required:!0})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Wachtwoord"}),w.jsxs("div",{className:"input-group",children:[w.jsx(Fy,{className:"input-icon"}),w.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:e,onChange:S=>r(S.target.value),required:!0})]})]}),w.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:ls.isLoading,style:{width:"100%",padding:"12px"},children:ls.isLoading?"Bezig met registreren...":"Registreren"})]}),w.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[w.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),w.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of registreer met"}),w.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),w.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:w.jsx("button",{onClick:v,className:"social-btn-round",title:"Registreren met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:w.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),w.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:w.jsx("button",{onClick:y,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),w.jsxs("div",{className:"mt-4 text-center",style:{marginTop:"1.5rem",fontSize:"0.9rem",color:"var(--slate-500)"},children:["Heb je al een account? ",w.jsx(lr,{to:"/login",style:{fontWeight:600},children:"Log in"})]})]})})}),k_=Wn,pS=qr(({roles:n})=>k_.isAuthenticated?n&&k_.user&&!n.includes(k_.user.role)?w.jsx("div",{className:"error-page",children:"403 - Geen toegang"}):w.jsx(sI,{}):w.jsx(rI,{to:"/login",replace:!0})),D_=({value:n,duration:t=2e3})=>{const[e,r]=Z.useState(0);return Z.useEffect(()=>{let o=null;const u=0,f=g=>{o||(o=g);const v=Math.min((g-o)/t,1),y=1-Math.pow(1-v,4);r(Math.floor(y*(n-u)+u)),v<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[n,t]),w.jsx("span",{children:e})},BV=qr(({co2Saved:n,treesPlanted:t,distance:e})=>{const r={background:"linear-gradient(135deg, #4ade80 0%, #059669 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"};return w.jsxs("div",{className:"sustainability-stats",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"2rem",marginTop:"1rem"},children:[w.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[w.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),w.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[w.jsx(D_,{value:n})," ",w.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"kg"})]}),w.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"CO2 Bespaard"})]}),w.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[w.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),w.jsx("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:w.jsx(D_,{value:t})}),w.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Bomen Equivalent"})]}),w.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[w.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),w.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[w.jsx(D_,{value:e})," ",w.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"km"})]}),w.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Emissievrij Gereden"})]}),w.jsx("style",{children:`
                @media (max-width: 768px) {
                    .sustainability-stats {
                        grid-template-columns: 1fr !important;
                    }
                }
            `})]})}),gS=({booking:n})=>{var e;const t=r=>{switch(r){case"CONFIRMED":return"status-confirmed";case"CANCELLED":return"status-cancelled";case"COMPLETED":return"status-completed";default:return"status-requested"}};return w.jsx(lr,{to:`/booking/${n.id}`,className:"booking-card-link",children:w.jsxs("div",{className:"booking-card",children:[w.jsxs("div",{className:"booking-card-header",children:[w.jsxs("div",{className:"booking-time",children:[w.jsx("span",{className:"date",children:new Date(n.startTime).toLocaleDateString()}),w.jsx("span",{className:"time",children:new Date(n.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),w.jsx("span",{className:`status-badge ${t(n.status)}`,children:n.status})]}),w.jsxs("div",{className:"booking-route",children:[w.jsxs("div",{className:"route-point",children:[w.jsx("span",{className:"icon text-lg",children:""}),w.jsx("span",{className:"address",children:n.startLocation.address})]}),w.jsx("div",{className:"route-arrow",children:""}),w.jsxs("div",{className:"route-point",children:[w.jsx("span",{className:"icon text-lg",children:""}),w.jsx("span",{className:"address",children:((e=n.endLocation)==null?void 0:e.address)||"Bestemming"})]})]})]})})},UV=qr(()=>{var o,u;const[n,t]=Zs.useState([]);Zs.useEffect(()=>{(async()=>{var v;const g=(v=Wn.user)==null?void 0:v.id;if(g)try{const y=await nm.getUserBookings(g);t(y)}catch(y){console.error("Failed to fetch bookings",y)}})()},[Wn.user]);const e=n.filter(f=>["REQUESTED","CONFIRMED"].includes(f.status)),r=n.filter(f=>["CANCELLED","COMPLETED"].includes(f.status));return w.jsxs("div",{className:"dashboard app-container",children:[w.jsxs("div",{className:"dashboard-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[w.jsx("h2",{style:{fontSize:"2rem",margin:0},children:"Mijn Dashboard"}),w.jsxs("div",{className:"dashboard-actions",style:{display:"flex",gap:"1rem"},children:[w.jsx(lr,{to:"/request",className:"btn-primary",children:"+ Nieuwe Rit"}),((o=Wn.user)==null?void 0:o.role)!=="guest"?w.jsx(lr,{to:"/profile",className:"logout-btn",style:{textDecoration:"none",display:"inline-flex",alignItems:"center"},children:"Mijn Profiel"}):w.jsx(lr,{to:"/register",className:"btn-primary",style:{background:"#f59e0b",border:"none"},children:"Account Aanmaken"})]})]}),((u=Wn.user)==null?void 0:u.role)==="guest"&&w.jsxs("div",{style:{background:"#fffbeb",border:"1px solid #fcd34d",color:"#92400e",padding:"1rem",borderRadius:"12px",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"12px"},children:[w.jsx("span",{style:{fontSize:"1.5rem"},children:""}),w.jsxs("div",{children:[w.jsx("strong",{children:"Welkom als gast!"}),w.jsx("p",{style:{margin:0,fontSize:"0.95rem",opacity:.9},children:"Je kunt rondkijken en ritten zoeken, maar om daadwerkelijk te boeken moet je een account aanmaken."})]})]}),w.jsx(BV,{co2Saved:Wn.sustainabilityStats.co2Saved,treesPlanted:Wn.sustainabilityStats.treesPlanted,distance:Wn.sustainabilityStats.distance}),w.jsxs("section",{style:{marginBottom:"3rem"},children:[w.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--slate-200)",paddingBottom:"0.5rem"},children:" Aankomende Ritten"}),e.length===0?w.jsx("div",{className:"empty-state card",style:{textAlign:"center",color:"var(--text-muted)"},children:w.jsx("p",{children:"Je hebt nog geen ritten gepland."})}):w.jsx("div",{className:"bookings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:e.map(f=>w.jsx("div",{className:"booking-wrapper",children:w.jsx(gS,{booking:f})},f.id))})]}),w.jsxs("section",{children:[w.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--slate-200)",paddingBottom:"0.5rem"},children:" Geschiedenis"}),r.length===0?w.jsx("div",{className:"empty-state card",style:{textAlign:"center",color:"var(--text-muted)"},children:w.jsx("p",{children:"Nog geen ritten gemaakt."})}):w.jsx("div",{className:"bookings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:r.map(f=>w.jsx("div",{className:"booking-wrapper",children:w.jsx(gS,{booking:f})},f.id))})]})]})});var Hy={};(function n(t,e,r,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",g=(function(){if(!t.OffscreenCanvas)return!1;try{var H=new OffscreenCanvas(1,1),R=H.getContext("2d");R.fillRect(0,0,1,1);var Y=H.transferToImageBitmap();R.createPattern(Y,"no-repeat")}catch{return!1}return!0})();function v(){}function y(H){var R=e.exports.Promise,Y=R!==void 0?R:t.Promise;return typeof Y=="function"?new Y(H):(H(v,v),null)}var S=(function(H,R){return{transform:function(Y){if(H)return Y;if(R.has(Y))return R.get(Y);var lt=new OffscreenCanvas(Y.width,Y.height),ct=lt.getContext("2d");return ct.drawImage(Y,0,0),R.set(Y,lt),lt},clear:function(){R.clear()}}})(g,new Map),C=(function(){var H=Math.floor(16.666666666666668),R,Y,lt={},ct=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(R=function(_t){var vt=Math.random();return lt[vt]=requestAnimationFrame(function wt(Nt){ct===Nt||ct+H-1<Nt?(ct=Nt,delete lt[vt],_t()):lt[vt]=requestAnimationFrame(wt)}),vt},Y=function(_t){lt[_t]&&cancelAnimationFrame(lt[_t])}):(R=function(_t){return setTimeout(_t,H)},Y=function(_t){return clearTimeout(_t)}),{frame:R,cancel:Y}})(),N=(function(){var H,R,Y={};function lt(ct){function _t(vt,wt){ct.postMessage({options:vt||{},callback:wt})}ct.init=function(wt){var Nt=wt.transferControlToOffscreen();ct.postMessage({canvas:Nt},[Nt])},ct.fire=function(wt,Nt,Bt){if(R)return _t(wt,null),R;var ve=Math.random().toString(36).slice(2);return R=y(function(ce){function _e(je){je.data.callback===ve&&(delete Y[ve],ct.removeEventListener("message",_e),R=null,S.clear(),Bt(),ce())}ct.addEventListener("message",_e),_t(wt,ve),Y[ve]=_e.bind(null,{data:{callback:ve}})}),R},ct.reset=function(){ct.postMessage({reset:!0});for(var wt in Y)Y[wt](),delete Y[wt]}}return function(){if(H)return H;if(!r&&u){var ct=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{H=new Worker(URL.createObjectURL(new Blob([ct])))}catch(_t){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",_t),null}lt(H)}return H}})(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function $(H,R){return R?R(H):H}function K(H){return H!=null}function W(H,R,Y){return $(H&&K(H[R])?H[R]:M[R],Y)}function ft(H){return H<0?0:Math.floor(H)}function ut(H,R){return Math.floor(Math.random()*(R-H))+H}function st(H){return parseInt(H,16)}function xt(H){return H.map(Mt)}function Mt(H){var R=String(H).replace(/[^0-9a-f]/gi,"");return R.length<6&&(R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]),{r:st(R.substring(0,2)),g:st(R.substring(2,4)),b:st(R.substring(4,6))}}function Lt(H){var R=W(H,"origin",Object);return R.x=W(R,"x",Number),R.y=W(R,"y",Number),R}function D(H){H.width=document.documentElement.clientWidth,H.height=document.documentElement.clientHeight}function k(H){var R=H.getBoundingClientRect();H.width=R.width,H.height=R.height}function j(H){var R=document.createElement("canvas");return R.style.position="fixed",R.style.top="0px",R.style.left="0px",R.style.pointerEvents="none",R.style.zIndex=H,R}function q(H,R,Y,lt,ct,_t,vt,wt,Nt){H.save(),H.translate(R,Y),H.rotate(_t),H.scale(lt,ct),H.arc(0,0,1,vt,wt,Nt),H.restore()}function F(H){var R=H.angle*(Math.PI/180),Y=H.spread*(Math.PI/180);return{x:H.x,y:H.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:H.startVelocity*.5+Math.random()*H.startVelocity,angle2D:-R+(.5*Y-Math.random()*Y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:H.color,shape:H.shape,tick:0,totalTicks:H.ticks,decay:H.decay,drift:H.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:H.gravity*3,ovalScalar:.6,scalar:H.scalar,flat:H.flat}}function U(H,R){R.x+=Math.cos(R.angle2D)*R.velocity+R.drift,R.y+=Math.sin(R.angle2D)*R.velocity+R.gravity,R.velocity*=R.decay,R.flat?(R.wobble=0,R.wobbleX=R.x+10*R.scalar,R.wobbleY=R.y+10*R.scalar,R.tiltSin=0,R.tiltCos=0,R.random=1):(R.wobble+=R.wobbleSpeed,R.wobbleX=R.x+10*R.scalar*Math.cos(R.wobble),R.wobbleY=R.y+10*R.scalar*Math.sin(R.wobble),R.tiltAngle+=.1,R.tiltSin=Math.sin(R.tiltAngle),R.tiltCos=Math.cos(R.tiltAngle),R.random=Math.random()+2);var Y=R.tick++/R.totalTicks,lt=R.x+R.random*R.tiltCos,ct=R.y+R.random*R.tiltSin,_t=R.wobbleX+R.random*R.tiltCos,vt=R.wobbleY+R.random*R.tiltSin;if(H.fillStyle="rgba("+R.color.r+", "+R.color.g+", "+R.color.b+", "+(1-Y)+")",H.beginPath(),f&&R.shape.type==="path"&&typeof R.shape.path=="string"&&Array.isArray(R.shape.matrix))H.fill(Tt(R.shape.path,R.shape.matrix,R.x,R.y,Math.abs(_t-lt)*.1,Math.abs(vt-ct)*.1,Math.PI/10*R.wobble));else if(R.shape.type==="bitmap"){var wt=Math.PI/10*R.wobble,Nt=Math.abs(_t-lt)*.1,Bt=Math.abs(vt-ct)*.1,ve=R.shape.bitmap.width*R.scalar,ce=R.shape.bitmap.height*R.scalar,_e=new DOMMatrix([Math.cos(wt)*Nt,Math.sin(wt)*Nt,-Math.sin(wt)*Bt,Math.cos(wt)*Bt,R.x,R.y]);_e.multiplySelf(new DOMMatrix(R.shape.matrix));var je=H.createPattern(S.transform(R.shape.bitmap),"no-repeat");je.setTransform(_e),H.globalAlpha=1-Y,H.fillStyle=je,H.fillRect(R.x-ve/2,R.y-ce/2,ve,ce),H.globalAlpha=1}else if(R.shape==="circle")H.ellipse?H.ellipse(R.x,R.y,Math.abs(_t-lt)*R.ovalScalar,Math.abs(vt-ct)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI):q(H,R.x,R.y,Math.abs(_t-lt)*R.ovalScalar,Math.abs(vt-ct)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI);else if(R.shape==="star")for(var Wt=Math.PI/2*3,tn=4*R.scalar,ln=8*R.scalar,mn=R.x,bn=R.y,Ne=5,Ee=Math.PI/Ne;Ne--;)mn=R.x+Math.cos(Wt)*ln,bn=R.y+Math.sin(Wt)*ln,H.lineTo(mn,bn),Wt+=Ee,mn=R.x+Math.cos(Wt)*tn,bn=R.y+Math.sin(Wt)*tn,H.lineTo(mn,bn),Wt+=Ee;else H.moveTo(Math.floor(R.x),Math.floor(R.y)),H.lineTo(Math.floor(R.wobbleX),Math.floor(ct)),H.lineTo(Math.floor(_t),Math.floor(vt)),H.lineTo(Math.floor(lt),Math.floor(R.wobbleY));return H.closePath(),H.fill(),R.tick<R.totalTicks}function z(H,R,Y,lt,ct){var _t=R.slice(),vt=H.getContext("2d"),wt,Nt,Bt=y(function(ve){function ce(){wt=Nt=null,vt.clearRect(0,0,lt.width,lt.height),S.clear(),ct(),ve()}function _e(){r&&!(lt.width===o.width&&lt.height===o.height)&&(lt.width=H.width=o.width,lt.height=H.height=o.height),!lt.width&&!lt.height&&(Y(H),lt.width=H.width,lt.height=H.height),vt.clearRect(0,0,lt.width,lt.height),_t=_t.filter(function(je){return U(vt,je)}),_t.length?wt=C.frame(_e):ce()}wt=C.frame(_e),Nt=ce});return{addFettis:function(ve){return _t=_t.concat(ve),Bt},canvas:H,promise:Bt,reset:function(){wt&&C.cancel(wt),Nt&&Nt()}}}function se(H,R){var Y=!H,lt=!!W(R||{},"resize"),ct=!1,_t=W(R,"disableForReducedMotion",Boolean),vt=u&&!!W(R||{},"useWorker"),wt=vt?N():null,Nt=Y?D:k,Bt=H&&wt?!!H.__confetti_initialized:!1,ve=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ce;function _e(Wt,tn,ln){for(var mn=W(Wt,"particleCount",ft),bn=W(Wt,"angle",Number),Ne=W(Wt,"spread",Number),Ee=W(Wt,"startVelocity",Number),yi=W(Wt,"decay",Number),Xa=W(Wt,"gravity",Number),sa=W(Wt,"drift",Number),wn=W(Wt,"colors",xt),Gr=W(Wt,"ticks",Number),hr=W(Wt,"shapes"),Es=W(Wt,"scalar"),Bi=!!W(Wt,"flat"),$a=Lt(Wt),Ts=mn,Zr=[],Ja=H.width*$a.x,Xn=H.height*$a.y;Ts--;)Zr.push(F({x:Ja,y:Xn,angle:bn,spread:Ne,startVelocity:Ee,color:wn[Ts%wn.length],shape:hr[ut(0,hr.length)],ticks:Gr,decay:yi,gravity:Xa,drift:sa,scalar:Es,flat:Bi}));return ce?ce.addFettis(Zr):(ce=z(H,Zr,Nt,tn,ln),ce.promise)}function je(Wt){var tn=_t||W(Wt,"disableForReducedMotion",Boolean),ln=W(Wt,"zIndex",Number);if(tn&&ve)return y(function(Ee){Ee()});Y&&ce?H=ce.canvas:Y&&!H&&(H=j(ln),document.body.appendChild(H)),lt&&!Bt&&Nt(H);var mn={width:H.width,height:H.height};wt&&!Bt&&wt.init(H),Bt=!0,wt&&(H.__confetti_initialized=!0);function bn(){if(wt){var Ee={getBoundingClientRect:function(){if(!Y)return H.getBoundingClientRect()}};Nt(Ee),wt.postMessage({resize:{width:Ee.width,height:Ee.height}});return}mn.width=mn.height=null}function Ne(){ce=null,lt&&(ct=!1,t.removeEventListener("resize",bn)),Y&&H&&(document.body.contains(H)&&document.body.removeChild(H),H=null,Bt=!1)}return lt&&!ct&&(ct=!0,t.addEventListener("resize",bn,!1)),wt?wt.fire(Wt,mn,Ne):_e(Wt,mn,Ne)}return je.reset=function(){wt&&wt.reset(),ce&&ce.reset()},je}var Ze;function at(){return Ze||(Ze=se(null,{useWorker:!0,resize:!0})),Ze}function Tt(H,R,Y,lt,ct,_t,vt){var wt=new Path2D(H),Nt=new Path2D;Nt.addPath(wt,new DOMMatrix(R));var Bt=new Path2D;return Bt.addPath(Nt,new DOMMatrix([Math.cos(vt)*ct,Math.sin(vt)*ct,-Math.sin(vt)*_t,Math.cos(vt)*_t,Y,lt])),Bt}function bt(H){if(!f)throw new Error("path confetti are not supported in this browser");var R,Y;typeof H=="string"?R=H:(R=H.path,Y=H.matrix);var lt=new Path2D(R),ct=document.createElement("canvas"),_t=ct.getContext("2d");if(!Y){for(var vt=1e3,wt=vt,Nt=vt,Bt=0,ve=0,ce,_e,je=0;je<vt;je+=2)for(var Wt=0;Wt<vt;Wt+=2)_t.isPointInPath(lt,je,Wt,"nonzero")&&(wt=Math.min(wt,je),Nt=Math.min(Nt,Wt),Bt=Math.max(Bt,je),ve=Math.max(ve,Wt));ce=Bt-wt,_e=ve-Nt;var tn=10,ln=Math.min(tn/ce,tn/_e);Y=[ln,0,0,ln,-Math.round(ce/2+wt)*ln,-Math.round(_e/2+Nt)*ln]}return{type:"path",path:R,matrix:Y}}function re(H){var R,Y=1,lt="#000000",ct='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof H=="string"?R=H:(R=H.text,Y="scalar"in H?H.scalar:Y,ct="fontFamily"in H?H.fontFamily:ct,lt="color"in H?H.color:lt);var _t=10*Y,vt=""+_t+"px "+ct,wt=new OffscreenCanvas(_t,_t),Nt=wt.getContext("2d");Nt.font=vt;var Bt=Nt.measureText(R),ve=Math.ceil(Bt.actualBoundingBoxRight+Bt.actualBoundingBoxLeft),ce=Math.ceil(Bt.actualBoundingBoxAscent+Bt.actualBoundingBoxDescent),_e=2,je=Bt.actualBoundingBoxLeft+_e,Wt=Bt.actualBoundingBoxAscent+_e;ve+=_e+_e,ce+=_e+_e,wt=new OffscreenCanvas(ve,ce),Nt=wt.getContext("2d"),Nt.font=vt,Nt.fillStyle=lt,Nt.fillText(R,je,Wt);var tn=1/Y;return{type:"bitmap",bitmap:wt.transferToImageBitmap(),matrix:[tn,0,0,tn,-ve*tn/2,-ce*tn/2]}}e.exports=function(){return at().apply(this,arguments)},e.exports.reset=function(){at().reset()},e.exports.create=se,e.exports.shapeFromPath=bt,e.exports.shapeFromText=re})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Hy,!1);const _S=Hy.exports;Hy.exports.create;class FV{constructor(){ee(this,"API_URL","https://api.pdok.nl/bzk/locatieserver/search/v3_1/free")}async search(t){if(!t||t.length<2)return[];try{const e=new URLSearchParams({q:`${t} and type:adres`,rows:"5",fl:"id,weergavenaam,straatnaam,huisnummer,postcode,woonplaatsnaam,centroide_ll"}),r=await fetch(`${this.API_URL}?${e.toString()}`);return r.ok?(await r.json()).response.docs.map(u=>{const{lat:f,lon:g}=this.parseWktPoint(u.centroide_ll);return{id:u.id,displayLabel:u.weergavenaam,street:u.straatnaam,houseNumber:u.huisnummer,postcode:u.postcode,city:u.woonplaatsnaam,country:"Nederland",latitude:f,longitude:g}}):[]}catch(e){return console.error("PDOK API Error:",e),[]}}parseWktPoint(t){try{const e=t.match(/POINT\(([\d.]+) ([\d.]+)\)/);return e&&e.length===3?{lon:parseFloat(e[1]),lat:parseFloat(e[2])}:{lat:0,lon:0}}catch{return{lat:0,lon:0}}}}const vS=new FV,jm=({label:n,value:t,onChange:e,onSelect:r,placeholder:o,className:u,isValid:f,hasError:g})=>{const[v,y]=Z.useState([]),[S,C]=Z.useState(!1),[N,M]=Z.useState(!1),$=Z.useRef(null);Z.useEffect(()=>{const W=setTimeout(async()=>{if(t.length>=2&&S){M(!0);const ft=await vS.search(t);y(ft),M(!1)}else y([])},300);return()=>clearTimeout(W)},[t,S]),Z.useEffect(()=>{const W=ft=>{$.current&&!$.current.contains(ft.target)&&C(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]);const K=W=>{r(W),y([]),C(!1)};return w.jsxs("div",{className:`form-group relative ${u||""}`,ref:$,style:{position:"relative"},children:[w.jsxs("div",{className:"flex justify-between items-center mb-1.5",style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[w.jsx("label",{className:"form-label",children:n}),f&&w.jsxs("span",{className:"text-green-600",style:{color:"var(--accent-hover)",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px",fontWeight:"bold"},children:[w.jsx(jV,{className:"w-4 h-4"})," Bevestigd"]})]}),w.jsxs("div",{className:"relative group",style:{position:"relative"},children:[w.jsx("div",{className:"absolute inset-y-0 left-0",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:f?"var(--accent-color)":"var(--slate-400)",pointerEvents:"none"},children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:w.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),w.jsx("input",{type:"text",className:`form-input ${f?"valid":""} ${g?"error":""}`,style:{paddingLeft:"2.5rem",borderColor:g?"#f87171":f?"var(--accent-color)":""},value:t,onChange:W=>{e(W.target.value),C(!0)},onFocus:()=>{C(!0),v.length===0&&t.length>=2&&vS.search(t).then(y)},placeholder:o||"Zoek adres...",autoComplete:"off"}),N&&w.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:w.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid var(--primary-color)",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})})]}),g&&!f&&w.jsx("p",{className:"error-message",style:{marginTop:"0.5rem",marginBottom:0,padding:"0.5rem",fontSize:"0.8rem"},children:"Kies een geldig adres uit de lijst"}),S&&v.length>0&&w.jsxs("ul",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",maxHeight:"18rem",overflowY:"auto",marginTop:"0.5rem",padding:"0.5rem 0",listStyle:"none",border:"1px solid var(--slate-200)"},children:[v.map(W=>w.jsx("li",{style:{padding:"0.75rem 1rem",cursor:"pointer",borderBottom:"1px solid var(--slate-50)",transition:"background-color 0.2s"},onMouseEnter:ft=>ft.currentTarget.style.backgroundColor="var(--slate-50)",onMouseLeave:ft=>ft.currentTarget.style.backgroundColor="transparent",onClick:ft=>{ft.stopPropagation(),K(W)},children:w.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[w.jsx("div",{style:{color:"var(--slate-400)",marginTop:"2px"},children:w.jsxs("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),w.jsxs("div",{style:{marginLeft:"0.75rem"},children:[w.jsxs("p",{style:{margin:0,fontWeight:600,color:"var(--slate-900)",fontSize:"0.9rem"},children:[W.street," ",W.houseNumber]}),w.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--slate-500)"},children:[W.postcode," ",W.city]})]})]})},W.id)),w.jsx("li",{style:{padding:"0.5rem 1rem",fontSize:"0.75rem",color:"var(--slate-400)",textAlign:"center",backgroundColor:"var(--slate-50)",borderTop:"1px solid var(--slate-100)",fontStyle:"italic"},children:"Powered by PDOK"})]}),S&&t.length>=2&&!N&&v.length===0&&w.jsx("div",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",padding:"1rem",textAlign:"center",color:"var(--slate-500)",fontStyle:"italic",marginTop:"0.5rem"},children:"Geen adressen gevonden"})]})};function MC(n,t){const e=Z.useRef(t);Z.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const HV=1;function qV(n){return Object.freeze({__version:HV,map:n})}function GV(n,t){return Object.freeze({...n,...t})}const qy=Z.createContext(null);function Gy(){const n=Z.use(qy);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function ZV(n){function t(e,r){const{instance:o,context:u}=n(e).current;Z.useImperativeHandle(r,()=>o);const{children:f}=e;return f==null?null:Zs.createElement(qy,{value:u},f)}return Z.forwardRef(t)}function WV(n){function t(e,r){const[o,u]=Z.useState(!1),{instance:f}=n(e,u).current;Z.useImperativeHandle(r,()=>f),Z.useEffect(function(){o&&f.update()},[f,o,e.children]);const g=f._contentNode;return g?VS.createPortal(e.children,g):null}return Z.forwardRef(t)}function KV(n){function t(e,r){const{instance:o}=n(e).current;return Z.useImperativeHandle(r,()=>o),null}return Z.forwardRef(t)}function kC(n,t){const e=Z.useRef(void 0);Z.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function Zy(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function YV(n,t){return function(r,o){const u=Gy(),f=n(Zy(r,u),u);return MC(u.map,r.attribution),kC(f.current,r.eventHandlers),t(f.current,u,r,o),f}}var kh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var QV=kh.exports,yS;function XV(){return yS||(yS=1,(function(n,t){(function(e,r){r(t)})(QV,(function(e){var r="1.9.4";function o(a){var c,m,b,T;for(m=1,b=arguments.length;m<b;m++){T=arguments[m];for(c in T)a[c]=T[c]}return a}var u=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function f(a,c){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var b=m.call(arguments,2);return function(){return a.apply(c,b.length?b.concat(m.call(arguments)):arguments)}}var g=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++g),a._leaflet_id}function y(a,c,m){var b,T,I,V;return V=function(){b=!1,T&&(I.apply(m,T),T=!1)},I=function(){b?T=arguments:(a.apply(m,arguments),setTimeout(V,c),b=!0)},I}function S(a,c,m){var b=c[1],T=c[0],I=b-T;return a===b&&m?a:((a-T)%I+I)%I+T}function C(){return!1}function N(a,c){if(c===!1)return a;var m=Math.pow(10,c===void 0?6:c);return Math.round(a*m)/m}function M(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function $(a){return M(a).split(/\s+/)}function K(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var m in c)a.options[m]=c[m];return a.options}function W(a,c,m){var b=[];for(var T in a)b.push(encodeURIComponent(m?T.toUpperCase():T)+"="+encodeURIComponent(a[T]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var ft=/\{ *([\w_ -]+) *\}/g;function ut(a,c){return a.replace(ft,function(m,b){var T=c[b];if(T===void 0)throw new Error("No value provided for variable "+m);return typeof T=="function"&&(T=T(c)),T})}var st=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function xt(a,c){for(var m=0;m<a.length;m++)if(a[m]===c)return m;return-1}var Mt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Lt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var D=0;function k(a){var c=+new Date,m=Math.max(0,16-(c-D));return D=c+m,window.setTimeout(a,m)}var j=window.requestAnimationFrame||Lt("RequestAnimationFrame")||k,q=window.cancelAnimationFrame||Lt("CancelAnimationFrame")||Lt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function F(a,c,m){if(m&&j===k)a.call(c);else return j.call(window,f(a,c))}function U(a){a&&q.call(window,a)}var z={__proto__:null,extend:o,create:u,bind:f,get lastId(){return g},stamp:v,throttle:y,wrapNum:S,falseFn:C,formatNum:N,trim:M,splitWords:$,setOptions:K,getParamString:W,template:ut,isArray:st,indexOf:xt,emptyImageUrl:Mt,requestFn:j,cancelFn:q,requestAnimFrame:F,cancelAnimFrame:U};function se(){}se.extend=function(a){var c=function(){K(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,b=u(m);b.constructor=c,c.prototype=b;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(c[T]=this[T]);return a.statics&&o(c,a.statics),a.includes&&(Ze(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=m.options?u(m.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,V=b._initHooks.length;I<V;I++)b._initHooks[I].call(this)}},c},se.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},se.mergeOptions=function(a){return o(this.prototype.options,a),this},se.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Ze(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=st(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var at={on:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c);else{a=$(a);for(var T=0,I=a.length;T<I;T++)this._on(a[T],c,m)}return this},off:function(a,c,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],c);else{a=$(a);for(var T=arguments.length===1,I=0,V=a.length;I<V;I++)T?this._off(a[I]):this._off(a[I],c,m)}return this},_on:function(a,c,m,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,m)===!1){m===this&&(m=void 0);var T={fn:c,ctx:m};b&&(T.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(T)}},_off:function(a,c,m){var b,T,I;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(T=0,I=b.length;T<I;T++)b[T].fn=C;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var V=this._listens(a,c,m);if(V!==!1){var X=b[V];this._firingCount&&(X.fn=C,this._events[a]=b=b.slice()),b.splice(V,1)}}},fire:function(a,c,m){if(!this.listens(a,m))return this;var b=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var T=this._events[a];if(T){this._firingCount=this._firingCount+1||1;for(var I=0,V=T.length;I<V;I++){var X=T[I],nt=X.fn;X.once&&this.off(a,nt,X.ctx),nt.call(X.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(a,c,m,b){typeof a!="string"&&console.warn('"string" type argument expected');var T=c;typeof c!="function"&&(b=!!c,T=void 0,m=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,T,m)!==!1)return!0;if(b){for(var V in this._eventParents)if(this._eventParents[V].listens(a,c,m,b))return!0}return!1},_listens:function(a,c,m){if(!this._events)return!1;var b=this._events[a]||[];if(!c)return!!b.length;m===this&&(m=void 0);for(var T=0,I=b.length;T<I;T++)if(b[T].fn===c&&b[T].ctx===m)return T;return!1},once:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c,!0);else{a=$(a);for(var T=0,I=a.length;T<I;T++)this._on(a[T],c,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};at.addEventListener=at.on,at.removeEventListener=at.clearAllEventListeners=at.off,at.addOneTimeEventListener=at.once,at.fireEvent=at.fire,at.hasEventListeners=at.listens;var Tt=se.extend(at);function bt(a,c,m){this.x=m?Math.round(a):a,this.y=m?Math.round(c):c}var re=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};bt.prototype={clone:function(){return new bt(this.x,this.y)},add:function(a){return this.clone()._add(H(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(H(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new bt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new bt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(a){a=H(a);var c=a.x-this.x,m=a.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(a){return a=H(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=H(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function H(a,c,m){return a instanceof bt?a:st(a)?new bt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new bt(a.x,a.y):new bt(a,c,m)}function R(a,c){if(a)for(var m=c?[a,c]:a,b=0,T=m.length;b<T;b++)this.extend(m[b])}R.prototype={extend:function(a){var c,m;if(!a)return this;if(a instanceof bt||typeof a[0]=="number"||"x"in a)c=m=H(a);else if(a=Y(a),c=a.min,m=a.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,m;return typeof a[0]=="number"||a instanceof bt?a=H(a):a=Y(a),a instanceof R?(c=a.min,m=a.max):c=m=a,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=Y(a);var c=this.min,m=this.max,b=a.min,T=a.max,I=T.x>=c.x&&b.x<=m.x,V=T.y>=c.y&&b.y<=m.y;return I&&V},overlaps:function(a){a=Y(a);var c=this.min,m=this.max,b=a.min,T=a.max,I=T.x>c.x&&b.x<m.x,V=T.y>c.y&&b.y<m.y;return I&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,m=this.max,b=Math.abs(c.x-m.x)*a,T=Math.abs(c.y-m.y)*a;return Y(H(c.x-b,c.y-T),H(m.x+b,m.y+T))},equals:function(a){return a?(a=Y(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Y(a,c){return!a||a instanceof R?a:new R(a,c)}function lt(a,c){if(a)for(var m=c?[a,c]:a,b=0,T=m.length;b<T;b++)this.extend(m[b])}lt.prototype={extend:function(a){var c=this._southWest,m=this._northEast,b,T;if(a instanceof _t)b=a,T=a;else if(a instanceof lt){if(b=a._southWest,T=a._northEast,!b||!T)return this}else return a?this.extend(vt(a)||ct(a)):this;return!c&&!m?(this._southWest=new _t(b.lat,b.lng),this._northEast=new _t(T.lat,T.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),m.lat=Math.max(T.lat,m.lat),m.lng=Math.max(T.lng,m.lng)),this},pad:function(a){var c=this._southWest,m=this._northEast,b=Math.abs(c.lat-m.lat)*a,T=Math.abs(c.lng-m.lng)*a;return new lt(new _t(c.lat-b,c.lng-T),new _t(m.lat+b,m.lng+T))},getCenter:function(){return new _t((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _t(this.getNorth(),this.getWest())},getSouthEast:function(){return new _t(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof _t||"lat"in a?a=vt(a):a=ct(a);var c=this._southWest,m=this._northEast,b,T;return a instanceof lt?(b=a.getSouthWest(),T=a.getNorthEast()):b=T=a,b.lat>=c.lat&&T.lat<=m.lat&&b.lng>=c.lng&&T.lng<=m.lng},intersects:function(a){a=ct(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),I=T.lat>=c.lat&&b.lat<=m.lat,V=T.lng>=c.lng&&b.lng<=m.lng;return I&&V},overlaps:function(a){a=ct(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),I=T.lat>c.lat&&b.lat<m.lat,V=T.lng>c.lng&&b.lng<m.lng;return I&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=ct(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ct(a,c){return a instanceof lt?a:new lt(a,c)}function _t(a,c,m){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,m!==void 0&&(this.alt=+m)}_t.prototype={equals:function(a,c){if(!a)return!1;a=vt(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return Nt.distance(this,vt(a))},wrap:function(){return Nt.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,m=c/Math.cos(Math.PI/180*this.lat);return ct([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new _t(this.lat,this.lng,this.alt)}};function vt(a,c,m){return a instanceof _t?a:st(a)&&typeof a[0]!="object"?a.length===3?new _t(a[0],a[1],a[2]):a.length===2?new _t(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new _t(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new _t(a,c,m)}var wt={latLngToPoint:function(a,c){var m=this.projection.project(a),b=this.scale(c);return this.transformation._transform(m,b)},pointToLatLng:function(a,c){var m=this.scale(c),b=this.transformation.untransform(a,m);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(a),b=this.transformation.transform(c.min,m),T=this.transformation.transform(c.max,m);return new R(b,T)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?S(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?S(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new _t(m,c,b)},wrapLatLngBounds:function(a){var c=a.getCenter(),m=this.wrapLatLng(c),b=c.lat-m.lat,T=c.lng-m.lng;if(b===0&&T===0)return a;var I=a.getSouthWest(),V=a.getNorthEast(),X=new _t(I.lat-b,I.lng-T),nt=new _t(V.lat-b,V.lng-T);return new lt(X,nt)}},Nt=o({},wt,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var m=Math.PI/180,b=a.lat*m,T=c.lat*m,I=Math.sin((c.lat-a.lat)*m/2),V=Math.sin((c.lng-a.lng)*m/2),X=I*I+Math.cos(b)*Math.cos(T)*V*V,nt=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*nt}}),Bt=6378137,ve={R:Bt,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,a.lat),-m),T=Math.sin(b*c);return new bt(this.R*a.lng*c,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(a){var c=180/Math.PI;return new _t((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=Bt*Math.PI;return new R([-a,-a],[a,a])})()};function ce(a,c,m,b){if(st(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=m,this._d=b}ce.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new bt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function _e(a,c,m,b){return new ce(a,c,m,b)}var je=o({},Nt,{code:"EPSG:3857",projection:ve,transformation:(function(){var a=.5/(Math.PI*ve.R);return _e(a,.5,-a,.5)})()}),Wt=o({},je,{code:"EPSG:900913"});function tn(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ln(a,c){var m="",b,T,I,V,X,nt;for(b=0,I=a.length;b<I;b++){for(X=a[b],T=0,V=X.length;T<V;T++)nt=X[T],m+=(T?"L":"M")+nt.x+" "+nt.y;m+=c?Ot.svg?"z":"x":""}return m||"M0 0"}var mn=document.documentElement.style,bn="ActiveXObject"in window,Ne=bn&&!document.addEventListener,Ee="msLaunchUri"in navigator&&!("documentMode"in document),yi=Mn("webkit"),Xa=Mn("android"),sa=Mn("android 2")||Mn("android 3"),wn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Gr=Xa&&Mn("Google")&&wn<537&&!("AudioNode"in window),hr=!!window.opera,Es=!Ee&&Mn("chrome"),Bi=Mn("gecko")&&!yi&&!hr&&!bn,$a=!Es&&Mn("safari"),Ts=Mn("phantom"),Zr="OTransition"in mn,Ja=navigator.platform.indexOf("Win")===0,Xn=bn&&"transition"in mn,pn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!sa,ui="MozPerspective"in mn,en=!window.L_DISABLE_3D&&(Xn||pn||ui)&&!Zr&&!Ts,Ss=typeof orientation<"u"||Mn("mobile"),to=Ss&&yi,pu=Ss&&pn,Ui=!window.PointerEvent&&window.MSPointerEvent,xs=!!(window.PointerEvent||Ui),nn="ontouchstart"in window||!!window.TouchEvent,fr=!window.L_NO_TOUCH&&(nn||xs),dr=Ss&&hr,Fi=Ss&&Bi,Bc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gu=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",C,c),window.removeEventListener("testPassiveEventSupport",C,c)}catch{}return a})(),mr=(function(){return!!document.createElement("canvas").getContext})(),Wr=!!(document.createElementNS&&tn("svg").createSVGRect),Uc=!!Wr&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),aa=!Wr&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),ol=navigator.platform.indexOf("Mac")===0,ll=navigator.platform.indexOf("Linux")===0;function Mn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ot={ie:bn,ielt9:Ne,edge:Ee,webkit:yi,android:Xa,android23:sa,androidStock:Gr,opera:hr,chrome:Es,gecko:Bi,safari:$a,phantom:Ts,opera12:Zr,win:Ja,ie3d:Xn,webkit3d:pn,gecko3d:ui,any3d:en,mobile:Ss,mobileWebkit:to,mobileWebkit3d:pu,msPointer:Ui,pointer:xs,touch:fr,touchNative:nn,mobileOpera:dr,mobileGecko:Fi,retina:Bc,passiveEvents:gu,canvas:mr,svg:Wr,vml:aa,inlineSvg:Uc,mac:ol,linux:ll},ul=Ot.msPointer?"MSPointerDown":"pointerdown",bi=Ot.msPointer?"MSPointerMove":"pointermove",wi=Ot.msPointer?"MSPointerUp":"pointerup",rn=Ot.msPointer?"MSPointerCancel":"pointercancel",un={touchstart:ul,touchmove:bi,touchend:wi,touchcancel:rn},Hi={touchstart:gr,touchmove:kn,touchend:kn,touchcancel:kn},qi={},_u=!1;function vu(a,c,m){return c==="touchstart"&&Ei(),Hi[c]?(m=Hi[c].bind(this,m),a.addEventListener(un[c],m,!1),m):(console.warn("wrong event specified:",c),C)}function yu(a,c,m){if(!un[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(un[c],m,!1)}function pr(a){qi[a.pointerId]=a}function eo(a){qi[a.pointerId]&&(qi[a.pointerId]=a)}function Gi(a){delete qi[a.pointerId]}function Ei(){_u||(document.addEventListener(ul,pr,!0),document.addEventListener(bi,eo,!0),document.addEventListener(wi,Gi,!0),document.addEventListener(rn,Gi,!0),_u=!0)}function kn(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in qi)c.touches.push(qi[m]);c.changedTouches=[c],a(c)}}function gr(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Ye(c),kn(a,c)}function cn(a){var c={},m,b;for(b in a)m=a[b],c[b]=m&&m.bind?m.bind(a):m;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var cl=200;function hl(a,c){a.addEventListener("dblclick",c);var m=0,b;function T(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var V=Os(I);if(!(V.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!V.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var X=Date.now();X-m<=cl?(b++,b===2&&c(cn(I))):b=1,m=X}}}return a.addEventListener("click",T),{dblclick:c,simDblclick:T}}function _r(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Ti=la(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kr=la(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),no=Kr==="webkitTransition"||Kr==="OTransition"?Kr+"End":"transitionend";function io(a){return typeof a=="string"?document.getElementById(a):a}function As(a,c){var m=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);m=b?b[c]:null}return m==="auto"?null:m}function ie(a,c,m){var b=document.createElement(a);return b.className=c||"",m&&m.appendChild(b),b}function ae(a){var c=a.parentNode;c&&c.removeChild(a)}function We(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ke(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function ci(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function oa(a,c){if(a.classList!==void 0)return a.classList.contains(c);var m=vr(a);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Rt(a,c){if(a.classList!==void 0)for(var m=$(c),b=0,T=m.length;b<T;b++)a.classList.add(m[b]);else if(!oa(a,c)){var I=vr(a);Si(a,(I?I+" ":"")+c)}}function Le(a,c){a.classList!==void 0?a.classList.remove(c):Si(a,M((" "+vr(a)+" ").replace(" "+c+" "," ")))}function Si(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function vr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ue(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&ro(a,c)}function ro(a,c){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):a.style.filter+=" progid:"+b+"(opacity="+c+")"}function la(a){for(var c=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in c)return a[m];return!1}function Zi(a,c,m){var b=c||new bt(0,0);a.style[Ti]=(Ot.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function Me(a,c){a._leaflet_pos=c,Ot.any3d?Zi(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function yr(a){return a._leaflet_pos||new bt(0,0)}var xi,En,so;if("onselectstart"in document)xi=function(){Ut(window,"selectstart",Ye)},En=function(){Te(window,"selectstart",Ye)};else{var Yr=la(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xi=function(){if(Yr){var a=document.documentElement.style;so=a[Yr],a[Yr]="none"}},En=function(){Yr&&(document.documentElement.style[Yr]=so,so=void 0)}}function ua(){Ut(window,"dragstart",Ye)}function Cs(){Te(window,"dragstart",Ye)}var ca,br;function Rs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&($n(),ca=a,br=a.style.outlineStyle,a.style.outlineStyle="none",Ut(window,"keydown",$n))}function $n(){ca&&(ca.style.outlineStyle=br,ca=void 0,br=void 0,Te(window,"keydown",$n))}function ao(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Jn(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Is={__proto__:null,TRANSFORM:Ti,TRANSITION:Kr,TRANSITION_END:no,get:io,getStyle:As,create:ie,remove:ae,empty:We,toFront:Ke,toBack:ci,hasClass:oa,addClass:Rt,removeClass:Le,setClass:Si,getClass:vr,setOpacity:Ue,testProp:la,setTransform:Zi,setPosition:Me,getPosition:yr,get disableTextSelection(){return xi},get enableTextSelection(){return En},disableImageDrag:ua,enableImageDrag:Cs,preventOutline:Rs,restoreOutline:$n,getSizedParentNode:ao,getScale:Jn};function Ut(a,c,m,b){if(c&&typeof c=="object")for(var T in c)ti(a,T,c[T],m);else{c=$(c);for(var I=0,V=c.length;I<V;I++)ti(a,c[I],m,b)}return this}var Dn="_leaflet_events";function Te(a,c,m,b){if(arguments.length===1)Qr(a),delete a[Dn];else if(c&&typeof c=="object")for(var T in c)Xr(a,T,c[T],m);else if(c=$(c),arguments.length===2)Qr(a,function(X){return xt(c,X)!==-1});else for(var I=0,V=c.length;I<V;I++)Xr(a,c[I],m,b);return this}function Qr(a,c){for(var m in a[Dn]){var b=m.split(/\d/)[0];(!c||c(b))&&Xr(a,b,null,null,m)}}var hi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ti(a,c,m,b){var T=c+v(m)+(b?"_"+v(b):"");if(a[Dn]&&a[Dn][T])return this;var I=function(X){return m.call(b||a,X||window.event)},V=I;!Ot.touchNative&&Ot.pointer&&c.indexOf("touch")===0?I=vu(a,c,I):Ot.touch&&c==="dblclick"?I=hl(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(hi[c]||c,I,Ot.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function(X){X=X||window.event,Yi(a,X)&&V(X)},a.addEventListener(hi[c],I,!1)):a.addEventListener(c,V,!1):a.attachEvent("on"+c,I),a[Dn]=a[Dn]||{},a[Dn][T]=I}function Xr(a,c,m,b,T){T=T||c+v(m)+(b?"_"+v(b):"");var I=a[Dn]&&a[Dn][T];if(!I)return this;!Ot.touchNative&&Ot.pointer&&c.indexOf("touch")===0?yu(a,c,I):Ot.touch&&c==="dblclick"?_r(a,I):"removeEventListener"in a?a.removeEventListener(hi[c]||c,I,!1):a.detachEvent("on"+c,I),a[Dn][T]=null}function he(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ai(a){return ti(a,"wheel",he),this}function $r(a){return Ut(a,"mousedown touchstart dblclick contextmenu",he),a._leaflet_disable_click=!0,this}function Ye(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Wi(a){return Ye(a),he(a),this}function Os(a){if(a.composedPath)return a.composedPath();for(var c=[],m=a.target;m;)c.push(m),m=m.parentNode;return c}function wr(a,c){if(!c)return new bt(a.clientX,a.clientY);var m=Jn(c),b=m.boundingClientRect;return new bt((a.clientX-b.left)/m.x-c.clientLeft,(a.clientY-b.top)/m.y-c.clientTop)}var Ki=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tn(a){return Ot.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ki:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Yi(a,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var Er={__proto__:null,on:Ut,off:Te,stopPropagation:he,disableScrollPropagation:Ai,disableClickPropagation:$r,preventDefault:Ye,stop:Wi,getPropagationPath:Os,getMousePosition:wr,getWheelDelta:Tn,isExternalTarget:Yi,addListener:Ut,removeListener:Te},Jr=Tt.extend({run:function(a,c,m,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=yr(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var m=this._startPos.add(this._offset.multiplyBy(a));c&&m._round(),Me(this._el,m),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),ne=Tt.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=K(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(vt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kr&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,no,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(vt(a),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,m.zoom):this._tryAnimatedPan(a,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,m){var b=this.getZoomScale(c),T=this.getSize().divideBy(2),I=a instanceof bt?a:this.latLngToContainerPoint(a),V=I.subtract(T).multiplyBy(1-1/b),X=this.containerPointToLatLng(T.add(V));return this.setView(X,c,{zoom:m})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():ct(a);var m=H(c.paddingTopLeft||c.padding||[0,0]),b=H(c.paddingBottomRight||c.padding||[0,0]),T=this.getBoundsZoom(a,!1,m.add(b));if(T=typeof c.maxZoom=="number"?Math.min(c.maxZoom,T):T,T===1/0)return{center:a.getCenter(),zoom:T};var I=b.subtract(m).divideBy(2),V=this.project(a.getSouthWest(),T),X=this.project(a.getNorthEast(),T),nt=this.unproject(V.add(X).divideBy(2).add(I),T);return{center:nt,zoom:T}},fitBounds:function(a,c){if(a=ct(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=H(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Rt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,m){if(m=m||{},m.animate===!1||!Ot.any3d)return this.setView(a,c,m);this._stop();var b=this.project(this.getCenter()),T=this.project(a),I=this.getSize(),V=this._zoom;a=vt(a),c=c===void 0?V:c;var X=Math.max(I.x,I.y),nt=X*this.getZoomScale(V,c),mt=T.distanceTo(b)||1,St=1.42,Dt=St*St;function Jt(sn){var rs=sn?-1:1,_a=sn?nt:X,Wc=nt*nt-X*X+rs*Dt*Dt*mt*mt,Nl=2*_a*Dt*mt,Pl=Wc/Nl,Bs=Math.sqrt(Pl*Pl+1)-Pl,ss=Bs<1e-9?-18:Math.log(Bs);return ss}function Nn(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function hn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function mi(sn){return Nn(sn)/hn(sn)}var xe=Jt(0);function Ae(sn){return X*(hn(xe)/hn(xe+St*sn))}function oe(sn){return X*(hn(xe)*mi(xe+St*sn)-Nn(xe))/Dt}function Vs(sn){return 1-Math.pow(1-sn,1.5)}var Ni=Date.now(),Pu=(Jt(1)-xe)/St,zs=m.duration?1e3*m.duration:1e3*Pu*.8;function Zc(){var sn=(Date.now()-Ni)/zs,rs=Vs(sn)*Pu;sn<=1?(this._flyToFrame=F(Zc,this),this._move(this.unproject(b.add(T.subtract(b).multiplyBy(oe(rs)/mt)),V),this.getScaleZoom(X/Ae(rs),V),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Zc.call(this),this},flyToBounds:function(a,c){var m=this._getBoundsCenterZoom(a,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(a){return a=ct(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,ct(a));return m.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var m=H(c.paddingTopLeft||c.padding||[0,0]),b=H(c.paddingBottomRight||c.padding||[0,0]),T=this.project(this.getCenter()),I=this.project(a),V=this.getPixelBounds(),X=Y([V.min.add(m),V.max.subtract(b)]),nt=X.getSize();if(!X.contains(I)){this._enforcingBounds=!0;var mt=I.subtract(X.getCenter()),St=X.extend(I).getSize().subtract(nt);T.x+=mt.x<0?-St.x:St.x,T.y+=mt.y<0?-St.y:St.y,this.panTo(this.unproject(T),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=c.divideBy(2).round(),T=m.divideBy(2).round(),I=b.subtract(T);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,a):navigator.geolocation.getCurrentPosition(c,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,m=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,m=a.coords.longitude,b=new _t(c,m),T=b.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var V=this.getBoundsZoom(T);this.setView(b,I.maxZoom?Math.min(V,I.maxZoom):V)}var X={latlng:b,bounds:T,timestamp:a.timestamp};for(var nt in a.coords)typeof a.coords[nt]=="number"&&(X[nt]=a.coords[nt]);this.fire("locationfound",X)}},addHandler:function(a,c){if(!c)return this;var m=this[a]=new c(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ae(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=ie("div",m,c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new lt(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,m){a=ct(a),m=H(m||[0,0]);var b=this.getZoom()||0,T=this.getMinZoom(),I=this.getMaxZoom(),V=a.getNorthWest(),X=a.getSouthEast(),nt=this.getSize().subtract(m),mt=Y(this.project(X,b),this.project(V,b)).getSize(),St=Ot.any3d?this.options.zoomSnap:1,Dt=nt.x/mt.x,Jt=nt.y/mt.y,Nn=c?Math.max(Dt,Jt):Math.min(Dt,Jt);return b=this.getScaleZoom(Nn,b),St&&(b=Math.round(b/(St/100))*(St/100),b=c?Math.ceil(b/St)*St:Math.floor(b/St)*St),Math.max(T,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new bt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var m=this._getTopLeftPoint(a,c);return new R(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(a)/m.scale(c)},getScaleZoom:function(a,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var b=m.zoom(a*m.scale(c));return isNaN(b)?1/0:b},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(vt(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(H(a),c)},layerPointToLatLng:function(a){var c=H(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(vt(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(vt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ct(a))},distance:function(a,c){return this.options.crs.distance(vt(a),vt(c))},containerPointToLayerPoint:function(a){return H(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return H(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(H(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(vt(a)))},mouseEventToContainerPoint:function(a){return wr(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=io(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(c,"scroll",this._onScroll,this),this._containerId=v(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Rt(a,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=As(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new bt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Rt(a.markerPane,"leaflet-zoom-hide"),Rt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,m){Me(this._mapPane,new bt(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var T=this._zoom!==c;this._moveStart(T,m)._move(a,c)._moveEnd(T),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,m,b){c===void 0&&(c=this._zoom);var T=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?m&&m.pinch&&this.fire("zoom",m):((T||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Me(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var c=a?Te:Ut;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var m=[],b,T=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,V=!1;I;){if(b=this._targets[v(I)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){V=!0;break}if(b&&b.listens(c,!0)&&(T&&!Yi(I,a)||(m.push(b),T))||I===this._container)break;I=I.parentNode}return!m.length&&!V&&!T&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var m=a.type;m==="mousedown"&&Rs(c),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,m){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var T=this._findEventTargets(a,c);if(m){for(var I=[],V=0;V<m.length;V++)m[V].listens(c,!0)&&I.push(m[V]);T=I.concat(T)}if(T.length){c==="contextmenu"&&Ye(a);var X=T[0],nt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var mt=X.getLatLng&&(!X._radius||X._radius<=10);nt.containerPoint=mt?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(a),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=mt?X.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(V=0;V<T.length;V++)if(T[V].fire(c,nt,!0),nt.originalEvent._stopped||T[V].options.bubblingMouseEvents===!1&&xt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return yr(this._mapPane)||new bt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var m=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var m=this.getSize()._divideBy(2);return this.project(a,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return this.project(a,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return Y([this.project(a.getSouthWest(),c)._subtract(b),this.project(a.getNorthWest(),c)._subtract(b),this.project(a.getSouthEast(),c)._subtract(b),this.project(a.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,m){if(!m)return a;var b=this.project(a,c),T=this.getSize().divideBy(2),I=new R(b.subtract(T),b.add(T)),V=this._getBoundsOffset(I,m,c);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?a:this.unproject(b.add(V),c)},_limitOffset:function(a,c){if(!c)return a;var m=this.getPixelBounds(),b=new R(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(a,c,m){var b=Y(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),T=b.min.subtract(a.min),I=b.max.subtract(a.max),V=this._rebound(T.x,-I.x),X=this._rebound(T.y,-I.y);return new bt(V,X)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),m=this.getMaxZoom(),b=Ot.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var m=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var a=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var m=Ti,b=this._proxy.style[m];Zi(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Zi(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),T=this._getCenterOffset(a)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(T)?!1:(F(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ns(a,c){return new ne(a,c)}var jn=se.extend({options:{position:"topright"},initialize:function(a){K(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),m=this.getPosition(),b=a._controlCorners[m];return Rt(c,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),ei=function(a){return new jn(a)};ne.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",m=this._controlContainer=ie("div",c+"control-container",this._container);function b(T,I){var V=c+T+" "+c+I;a[T+I]=ie("div",V,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ae(this._controlCorners[a]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ha=jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,m,b){return m<b?-1:b<m?1:0}},initialize:function(a,c,m){K(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return jn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(v(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=ie("div",a),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),$r(c),Ai(c);var b=this._section=ie("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Ut(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=ie("a",a+"-toggle",c);T.href="#",T.title="Layers",T.setAttribute("role","button"),Ut(T,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Ye(I),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ie("div",a+"-base",b),this._separator=ie("div",a+"-separator",b),this._overlaysList=ie("div",a+"-overlays",b),c.appendChild(b)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&v(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(b,T){return this.options.sortFunction(b.layer,T.layer,b.name,T.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var a,c,m,b,T=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,T+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&T>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(v(a.target)),m=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(a,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(a){var c=document.createElement("label"),m=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+v(this),m),this._layerControlInputs.push(b),b.layerId=v(a.layer),Ut(b,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(b),I.appendChild(T);var V=a.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,m,b=[],T=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],m=this._getLayer(c.layerId).layer,c.checked?b.push(m):c.checked||T.push(m);for(I=0;I<T.length;I++)this._map.hasLayer(T[I])&&this._map.removeLayer(T[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,m,b=this._map.getZoom(),T=a.length-1;T>=0;T--)c=a[T],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ut(a,"click",Ye),this.expand();var c=this;setTimeout(function(){Te(a,"click",Ye),c._preventClick=!1})}}),fl=function(a,c,m){return new ha(a,c,m)},ts=jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",m=ie("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,m,b,T){var I=ie("a",m,b);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),$r(I),Ut(I,"click",Wi),Ut(I,"click",T,this),Ut(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Le(this._zoomInButton,c),Le(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Rt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Rt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ts,this.addControl(this.zoomControl))});var bu=function(a){return new ts(a)},dl=jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",m=ie("div",c),b=this.options;return this._addScales(b,c+"-line",m),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,m){a.metric&&(this._mScale=ie("div",c,m)),a.imperial&&(this._iScale=ie("div",c,m))},_update:function(){var a=this._map,c=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/a)},_updateImperial:function(a){var c=a*3.2808399,m,b,T;c>5280?(m=c/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(T=this._getRoundNum(c),this._updateScale(this._iScale,T+" ft",T/c))},_updateScale:function(a,c,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),m=a/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),fa=function(a){return new dl(a)},ml='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',oo=jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?ml+" ":"")+"Leaflet</a>"},initialize:function(a){K(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),$r(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&new oo().addTo(this)});var lo=function(a){return new oo(a)};jn.Layers=ha,jn.Zoom=ts,jn.Scale=dl,jn.Attribution=oo,ei.layers=fl,ei.zoom=bu,ei.scale=fa,ei.attribution=lo;var fi=se.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fi.addTo=function(a,c){return a.addHandler(c,this),this};var wu={Events:at},Qi=Ot.touch?"touchstart mousedown":"mousedown",Xi=Tt.extend({options:{clickTolerance:3},initialize:function(a,c,m,b){K(this,b),this._element=a,this._dragStartTarget=c||a,this._preventOutline=m},enable:function(){this._enabled||(Ut(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xi._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!oa(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Xi._dragging===this&&this.finishDrag();return}if(!(Xi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Xi._dragging=this,this._preventOutline&&Rs(this._element),ua(),xi(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,m=ao(this._element);this._startPoint=new bt(c.clientX,c.clientY),this._startPos=yr(this._element),this._parentScale=Jn(m);var b=a.type==="mousedown";Ut(document,b?"mousemove":"touchmove",this._onMove,this),Ut(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,m=new bt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ye(a),this._moved||(this.fire("dragstart"),this._moved=!0,Rt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Me(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),Cs(),En();var c=this._moved&&this._moving;this._moving=!1,Xi._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function pl(a,c,m){var b,T=[1,4,2,8],I,V,X,nt,mt,St,Dt,Jt;for(I=0,St=a.length;I<St;I++)a[I]._code=rt(a[I],c);for(X=0;X<4;X++){for(Dt=T[X],b=[],I=0,St=a.length,V=St-1;I<St;V=I++)nt=a[I],mt=a[V],nt._code&Dt?mt._code&Dt||(Jt=J(mt,nt,Dt,c,m),Jt._code=rt(Jt,c),b.push(Jt)):(mt._code&Dt&&(Jt=J(mt,nt,Dt,c,m),Jt._code=rt(Jt,c),b.push(Jt)),b.push(nt));a=b}return a}function gl(a,c){var m,b,T,I,V,X,nt,mt,St;if(!a||a.length===0)throw new Error("latlngs not passed");ye(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Dt=vt([0,0]),Jt=ct(a),Nn=Jt.getNorthWest().distanceTo(Jt.getSouthWest())*Jt.getNorthEast().distanceTo(Jt.getNorthWest());Nn<1700&&(Dt=uo(a));var hn=a.length,mi=[];for(m=0;m<hn;m++){var xe=vt(a[m]);mi.push(c.project(vt([xe.lat-Dt.lat,xe.lng-Dt.lng])))}for(X=nt=mt=0,m=0,b=hn-1;m<hn;b=m++)T=mi[m],I=mi[b],V=T.y*I.x-I.y*T.x,nt+=(T.x+I.x)*V,mt+=(T.y+I.y)*V,X+=V*3;X===0?St=mi[0]:St=[nt/X,mt/X];var Ae=c.unproject(H(St));return vt([Ae.lat+Dt.lat,Ae.lng+Dt.lng])}function uo(a){for(var c=0,m=0,b=0,T=0;T<a.length;T++){var I=vt(a[T]);c+=I.lat,m+=I.lng,b++}return vt([c/b,m/b])}var Ps={__proto__:null,clipPolygon:pl,polygonCenter:gl,centroid:uo};function Vn(a,c){if(!c||!a.length)return a.slice();var m=c*c;return a=E(a,m),a=es(a,m),a}function _l(a,c,m){return Math.sqrt(Gt(a,c,m,!0))}function Eu(a,c,m){return Gt(a,c,m)}function es(a,c){var m=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,T=new b(m);T[0]=T[m-1]=1,d(a,T,c,0,m-1);var I,V=[];for(I=0;I<m;I++)T[I]&&V.push(a[I]);return V}function d(a,c,m,b,T){var I=0,V,X,nt;for(X=b+1;X<=T-1;X++)nt=Gt(a[X],a[b],a[T],!0),nt>I&&(V=X,I=nt);I>m&&(c[V]=1,d(a,c,m,b,V),d(a,c,m,V,T))}function E(a,c){for(var m=[a[0]],b=1,T=0,I=a.length;b<I;b++)Et(a[b],a[T])>c&&(m.push(a[b]),T=b);return T<I-1&&m.push(a[I-1]),m}var A;function P(a,c,m,b,T){var I=b?A:rt(a,m),V=rt(c,m),X,nt,mt;for(A=V;;){if(!(I|V))return[a,c];if(I&V)return!1;X=I||V,nt=J(a,c,X,m,T),mt=rt(nt,m),X===I?(a=nt,I=mt):(c=nt,V=mt)}}function J(a,c,m,b,T){var I=c.x-a.x,V=c.y-a.y,X=b.min,nt=b.max,mt,St;return m&8?(mt=a.x+I*(nt.y-a.y)/V,St=nt.y):m&4?(mt=a.x+I*(X.y-a.y)/V,St=X.y):m&2?(mt=nt.x,St=a.y+V*(nt.x-a.x)/I):m&1&&(mt=X.x,St=a.y+V*(X.x-a.x)/I),new bt(mt,St,T)}function rt(a,c){var m=0;return a.x<c.min.x?m|=1:a.x>c.max.x&&(m|=2),a.y<c.min.y?m|=4:a.y>c.max.y&&(m|=8),m}function Et(a,c){var m=c.x-a.x,b=c.y-a.y;return m*m+b*b}function Gt(a,c,m,b){var T=c.x,I=c.y,V=m.x-T,X=m.y-I,nt=V*V+X*X,mt;return nt>0&&(mt=((a.x-T)*V+(a.y-I)*X)/nt,mt>1?(T=m.x,I=m.y):mt>0&&(T+=V*mt,I+=X*mt)),V=a.x-T,X=a.y-I,b?V*V+X*X:new bt(T,I)}function ye(a){return!st(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function be(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ye(a)}function Fe(a,c){var m,b,T,I,V,X,nt,mt;if(!a||a.length===0)throw new Error("latlngs not passed");ye(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var St=vt([0,0]),Dt=ct(a),Jt=Dt.getNorthWest().distanceTo(Dt.getSouthWest())*Dt.getNorthEast().distanceTo(Dt.getNorthWest());Jt<1700&&(St=uo(a));var Nn=a.length,hn=[];for(m=0;m<Nn;m++){var mi=vt(a[m]);hn.push(c.project(vt([mi.lat-St.lat,mi.lng-St.lng])))}for(m=0,b=0;m<Nn-1;m++)b+=hn[m].distanceTo(hn[m+1])/2;if(b===0)mt=hn[0];else for(m=0,I=0;m<Nn-1;m++)if(V=hn[m],X=hn[m+1],T=V.distanceTo(X),I+=T,I>b){nt=(I-b)/T,mt=[X.x-nt*(X.x-V.x),X.y-nt*(X.y-V.y)];break}var xe=c.unproject(H(mt));return vt([xe.lat+St.lat,xe.lng+St.lng])}var Ci={__proto__:null,simplify:Vn,pointToSegmentDistance:_l,closestPointOnSegment:Eu,clipSegment:P,_getEdgeIntersection:J,_getBitCode:rt,_sqClosestPointOnSegment:Gt,isFlat:ye,_flat:be,polylineCenter:Fe},Ri={project:function(a){return new bt(a.lng,a.lat)},unproject:function(a){return new _t(a.y,a.x)},bounds:new R([-180,-90],[180,90])},di={R:6378137,R_MINOR:6356752314245179e-9,bounds:new R([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,m=this.R,b=a.lat*c,T=this.R_MINOR/m,I=Math.sqrt(1-T*T),V=I*Math.sin(b),X=Math.tan(Math.PI/4-b/2)/Math.pow((1-V)/(1+V),I/2);return b=-m*Math.log(Math.max(X,1e-10)),new bt(a.lng*c*m,b)},unproject:function(a){for(var c=180/Math.PI,m=this.R,b=this.R_MINOR/m,T=Math.sqrt(1-b*b),I=Math.exp(-a.y/m),V=Math.PI/2-2*Math.atan(I),X=0,nt=.1,mt;X<15&&Math.abs(nt)>1e-7;X++)mt=T*Math.sin(V),mt=Math.pow((1-mt)/(1+mt),T/2),nt=Math.PI/2-2*Math.atan(I*mt)-V,V+=nt;return new _t(V*c,a.x*c/m)}},$i={__proto__:null,LonLat:Ri,Mercator:di,SphericalMercator:ve},da=o({},Nt,{code:"EPSG:3395",projection:di,transformation:(function(){var a=.5/(Math.PI*di.R);return _e(a,.5,-a,.5)})()}),ma=o({},Nt,{code:"EPSG:4326",projection:Ri,transformation:_e(1/180,1,-1/180,.5)}),co=o({},wt,{projection:Ri,transformation:_e(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var m=c.lng-a.lng,b=c.lat-a.lat;return Math.sqrt(m*m+b*b)},infinite:!0});wt.Earth=Nt,wt.EPSG3395=da,wt.EPSG3857=je,wt.EPSG900913=Wt,wt.EPSG4326=ma,wt.Simple=co;var Ji=Tt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=v(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=v(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},_addLayers:function(a){a=a?st(a)?a:[a]:[];for(var c=0,m=a.length;c<m;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=v(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var T=this._zoomBoundLayers[b].options;a=T.minZoom===void 0?a:Math.min(a,T.minZoom),c=T.maxZoom===void 0?c:Math.max(c,T.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ho=Ji.extend({initialize:function(a,c){K(this,c),this._layers={};var m,b;if(a)for(m=0,b=a.length;m<b;m++)this.addLayer(a[m])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),Ep=function(a,c){return new ho(a,c)},Tr=ho.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),ho.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),ho.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new lt;for(var c in this._layers){var m=this._layers[c];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),xf=function(a,c){return new Tr(a,c)},Sr=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){K(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,c){var m=this.options,b=m[c+"Size"];typeof b=="number"&&(b=[b,b]);var T=H(b),I=H(c==="shadow"&&m.shadowAnchor||m.iconAnchor||T&&T.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(m.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),T&&(a.style.width=T.x+"px",a.style.height=T.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Ot.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function vl(a){return new Sr(a)}var yl=Sr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof yl.imagePath!="string"&&(yl.imagePath=this._detectIconPath()),(this.options.imagePath||yl.imagePath)+Sr.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(m,b,T){var I=b.exec(m);return I&&I[T]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ie("div","leaflet-default-icon-path",document.body),c=As(a,"background-image")||As(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),bl=fi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Xi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Rt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,m=c._map,b=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,I=yr(c._icon),V=m.getPixelBounds(),X=m.getPixelOrigin(),nt=Y(V.min._subtract(X).add(T),V.max._subtract(X).subtract(T));if(!nt.contains(I)){var mt=H((Math.max(nt.max.x,I.x)-nt.max.x)/(V.max.x-nt.max.x)-(Math.min(nt.min.x,I.x)-nt.min.x)/(V.min.x-nt.min.x),(Math.max(nt.max.y,I.y)-nt.max.y)/(V.max.y-nt.max.y)-(Math.min(nt.min.y,I.y)-nt.min.y)/(V.min.y-nt.min.y)).multiplyBy(b);m.panBy(mt,{animate:!1}),this._draggable._newPos._add(mt),this._draggable._startPos._add(mt),Me(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=F(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,m=c._shadow,b=yr(c._icon),T=c._map.layerPointToLatLng(b);m&&Me(m,b),c._latlng=T,a.latlng=T,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),wl=Ji.extend({options:{icon:new yl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){K(this,c),this._latlng=vt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=vt(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Rt(m,c),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(m,"focus",this._panOnFocus,this);var T=a.icon.createShadow(this._shadow),I=!1;T!==this._shadow&&(this._removeShadow(),I=!0),T&&(Rt(T,c),T.alt=""),this._shadow=T,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Me(this._icon,a),this._shadow&&Me(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ue(this._icon,a),this._shadow&&Ue(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,m=c.iconSize?H(c.iconSize):H(0,0),b=c.iconAnchor?H(c.iconAnchor):H(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Af(a,c){return new wl(a,c)}var xr=Ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return K(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fo=xr.extend({options:{fill:!0,radius:10},initialize:function(a,c){K(this,c),this._latlng=vt(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=vt(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return xr.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,m=this._clickTolerance(),b=[a+m,c+m];this._pxBounds=new R(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cf(a,c){return new fo(a,c)}var Tu=fo.extend({initialize:function(a,c,m){if(typeof c=="number"&&(c=o({},m,{radius:c})),K(this,c),this._latlng=vt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new lt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:xr.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===Nt.distance){var T=Math.PI/180,I=this._mRadius/Nt.R/T,V=m.project([c+I,a]),X=m.project([c-I,a]),nt=V.add(X).divideBy(2),mt=m.unproject(nt).lat,St=Math.acos((Math.cos(I*T)-Math.sin(c*T)*Math.sin(mt*T))/(Math.cos(c*T)*Math.cos(mt*T)))/T;(isNaN(St)||St===0)&&(St=I/Math.cos(Math.PI/180*c)),this._point=nt.subtract(m.getPixelOrigin()),this._radius=isNaN(St)?0:nt.x-m.project([mt,a-St]).x,this._radiusY=nt.y-V.y}else{var Dt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Dt).x}this._updateBounds()}});function Rf(a,c,m){return new Tu(a,c,m)}var ns=xr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){K(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,m=null,b=Gt,T,I,V=0,X=this._parts.length;V<X;V++)for(var nt=this._parts[V],mt=1,St=nt.length;mt<St;mt++){T=nt[mt-1],I=nt[mt];var Dt=b(a,T,I,!0);Dt<c&&(c=Dt,m=b(a,T,I))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fe(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=vt(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new lt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],m=ye(a),b=0,T=a.length;b<T;b++)m?(c[b]=vt(a[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(a[b]);return c},_project:function(){var a=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new bt(a,a);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,m){var b=a[0]instanceof _t,T=a.length,I,V;if(b){for(V=[],I=0;I<T;I++)V[I]=this._map.latLngToLayerPoint(a[I]),m.extend(V[I]);c.push(V)}else for(I=0;I<T;I++)this._projectLatlngs(a[I],c,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,b,T,I,V,X,nt;for(m=0,T=0,I=this._rings.length;m<I;m++)for(nt=this._rings[m],b=0,V=nt.length;b<V-1;b++)X=P(nt[b],nt[b+1],a,b,!0),X&&(c[T]=c[T]||[],c[T].push(X[0]),(X[1]!==nt[b+1]||b===V-2)&&(c[T].push(X[1]),T++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,m=0,b=a.length;m<b;m++)a[m]=Vn(a[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var m,b,T,I,V,X,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,I=this._parts.length;m<I;m++)for(X=this._parts[m],b=0,V=X.length,T=V-1;b<V;T=b++)if(!(!c&&b===0)&&_l(a,X[T],X[b])<=nt)return!0;return!1}});function Tp(a,c){return new ns(a,c)}ns._flat=be;var mo=ns.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=ns.prototype._convertLatLngs.call(this,a),m=c.length;return m>=2&&c[0]instanceof _t&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(a){ns.prototype._setLatLngs.call(this,a),ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,m=new bt(c,c);if(a=new R(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,T=this._rings.length,I;b<T;b++)I=pl(this._rings[b],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,m,b,T,I,V,X,nt,mt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,nt=this._parts.length;I<nt;I++)for(m=this._parts[I],V=0,mt=m.length,X=mt-1;V<mt;X=V++)b=m[V],T=m[X],b.y>a.y!=T.y>a.y&&a.x<(T.x-b.x)*(a.y-b.y)/(T.y-b.y)+b.x&&(c=!c);return c||ns.prototype._containsPoint.call(this,a,!0)}});function Sp(a,c){return new mo(a,c)}var is=Tr.extend({initialize:function(a,c){K(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=st(a)?a:a.features,m,b,T;if(c){for(m=0,b=c.length;m<b;m++)T=c[m],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var V=zn(a,I);return V?(V.feature=Au(a),V.defaultOptions=V.options,this.resetStyle(V),I.onEachFeature&&I.onEachFeature(a,V),this.addLayer(V)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function zn(a,c){var m=a.type==="Feature"?a.geometry:a,b=m?m.coordinates:null,T=[],I=c&&c.pointToLayer,V=c&&c.coordsToLatLng||Su,X,nt,mt,St;if(!b&&!m)return null;switch(m.type){case"Point":return X=V(b),po(I,a,X,c);case"MultiPoint":for(mt=0,St=b.length;mt<St;mt++)X=V(b[mt]),T.push(po(I,a,X,c));return new Tr(T);case"LineString":case"MultiLineString":return nt=El(b,m.type==="LineString"?0:1,V),new ns(nt,c);case"Polygon":case"MultiPolygon":return nt=El(b,m.type==="Polygon"?1:2,V),new mo(nt,c);case"GeometryCollection":for(mt=0,St=m.geometries.length;mt<St;mt++){var Dt=zn({geometry:m.geometries[mt],type:"Feature",properties:a.properties},c);Dt&&T.push(Dt)}return new Tr(T);case"FeatureCollection":for(mt=0,St=m.features.length;mt<St;mt++){var Jt=zn(m.features[mt],c);Jt&&T.push(Jt)}return new Tr(T);default:throw new Error("Invalid GeoJSON object.")}}function po(a,c,m,b){return a?a(c,m):new wl(m,b&&b.markersInheritOptions&&b)}function Su(a){return new _t(a[1],a[0],a[2])}function El(a,c,m){for(var b=[],T=0,I=a.length,V;T<I;T++)V=c?El(a[T],c-1,m):(m||Su)(a[T]),b.push(V);return b}function xu(a,c){return a=vt(a),a.alt!==void 0?[N(a.lng,c),N(a.lat,c),N(a.alt,c)]:[N(a.lng,c),N(a.lat,c)]}function Tl(a,c,m,b){for(var T=[],I=0,V=a.length;I<V;I++)T.push(c?Tl(a[I],ye(a[I])?0:c-1,m,b):xu(a[I],b));return!c&&m&&T.length>0&&T.push(T[0].slice()),T}function Ls(a,c){return a.feature?o({},a.feature,{geometry:c}):Au(c)}function Au(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ms={toGeoJSON:function(a){return Ls(this,{type:"Point",coordinates:xu(this.getLatLng(),a)})}};wl.include(Ms),Tu.include(Ms),fo.include(Ms),ns.include({toGeoJSON:function(a){var c=!ye(this._latlngs),m=Tl(this._latlngs,c?1:0,!1,a);return Ls(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),mo.include({toGeoJSON:function(a){var c=!ye(this._latlngs),m=c&&!ye(this._latlngs[0]),b=Tl(this._latlngs,m?2:c?1:0,!0,a);return c||(b=[b]),Ls(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),ho.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(a).geometry.coordinates)}),Ls(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var m=c==="GeometryCollection",b=[];return this.eachLayer(function(T){if(T.toGeoJSON){var I=T.toGeoJSON(a);if(m)b.push(I.geometry);else{var V=Au(I);V.type==="FeatureCollection"?b.push.apply(b,V.features):b.push(V)}}}),m?Ls(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Cu(a,c){return new is(a,c)}var Sl=Cu,go=Ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,m){this._url=a,this._bounds=ct(c),K(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ke(this._image),this},bringToBack:function(){return this._map&&ci(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ct(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:ie("img");if(Rt(c,"leaflet-image-layer"),this._zoomAnimated&&Rt(c,"leaflet-zoom-animated"),this.options.className&&Rt(c,this.options.className),c.onselectstart=C,c.onmousemove=C,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Zi(this._image,m,c)},_reset:function(){var a=this._image,c=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Me(a,c.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Ue(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),If=function(a,c,m){return new go(a,c,m)},ks=go.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:ie("video");if(Rt(c,"leaflet-image-layer"),this._zoomAnimated&&Rt(c,"leaflet-zoom-animated"),this.options.className&&Rt(c,this.options.className),c.onselectstart=C,c.onmousemove=C,c.onloadeddata=f(this.fire,this,"load"),a){for(var m=c.getElementsByTagName("source"),b=[],T=0;T<m.length;T++)b.push(m[T].src);this._url=m.length>0?b:[c.src];return}st(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var V=ie("source");V.src=this._url[I],c.appendChild(V)}}});function _o(a,c,m){return new ks(a,c,m)}var Ru=go.extend({_initImage:function(){var a=this._image=this._url;Rt(a,"leaflet-image-layer"),this._zoomAnimated&&Rt(a,"leaflet-zoom-animated"),this.options.className&&Rt(a,this.options.className),a.onselectstart=C,a.onmousemove=C}});function Of(a,c,m){return new Ru(a,c,m)}var Bn=Ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof _t||st(a))?(this._latlng=vt(a),K(this,c)):(K(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ue(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ue(this._container,1),this.bringToFront(),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ue(this._container,0),this._removeTimeout=setTimeout(f(ae,void 0,this._container),200)):ae(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=vt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ke(this._container),this},bringToBack:function(){return this._map&&ci(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Tr){c=null;var m=this._source._layers;for(var b in m)if(m[b]._map){c=m[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=H(this.options.offset),m=this._getAnchor();this._zoomAnimated?Me(this._container,a.add(m)):c=c.add(a).add(m);var b=this._containerBottom=-c.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(a,c,m,b){var T=c;return T instanceof a||(T=new a(b).setContent(c)),m&&T.setLatLng(m),T}}),Ji.include({_initOverlay:function(a,c,m,b){var T=m;return T instanceof a?(K(T,b),T._source=this):(T=c&&!b?c:new a(b,this),T.setContent(m)),T}});var xl=Bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Bn.prototype.openOn.call(this,a)},onAdd:function(a){Bn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xr||this._source.on("preclick",he))},onRemove:function(a){Bn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xr||this._source.off("preclick",he))},getEvents:function(){var a=Bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=ie("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ie("div",a+"-content-wrapper",c);if(this._contentNode=ie("div",a+"-content",m),$r(c),Ai(this._contentNode),Ut(c,"contextmenu",he),this._tipContainer=ie("div",a+"-tip-container",c),this._tip=ie("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=ie("a",a+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(b,"click",function(T){Ye(T),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var b=a.offsetHeight,T=this.options.maxHeight,I="leaflet-popup-scrolled";T&&b>T?(c.height=T+"px",Rt(a,I)):Le(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Me(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(As(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,b=this._containerWidth,T=new bt(this._containerLeft,-m-this._containerBottom);T._add(yr(this._container));var I=a.layerPointToContainerPoint(T),V=H(this.options.autoPanPadding),X=H(this.options.autoPanPaddingTopLeft||V),nt=H(this.options.autoPanPaddingBottomRight||V),mt=a.getSize(),St=0,Dt=0;I.x+b+nt.x>mt.x&&(St=I.x+b-mt.x+nt.x),I.x-St-X.x<0&&(St=I.x-X.x),I.y+m+nt.y>mt.y&&(Dt=I.y+m-mt.y+nt.y),I.y-Dt-X.y<0&&(Dt=I.y-X.y),(St||Dt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([St,Dt]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Nf=function(a,c){return new xl(a,c)};ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(a,c,m){return this._initOverlay(xl,a,c,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Ji.include({bindPopup:function(a,c){return this._popup=this._initOverlay(xl,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Tr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Wi(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof xr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Al=Bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Bn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Bn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Bn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,m,b=this._map,T=this._container,I=b.latLngToContainerPoint(b.getCenter()),V=b.layerPointToContainerPoint(a),X=this.options.direction,nt=T.offsetWidth,mt=T.offsetHeight,St=H(this.options.offset),Dt=this._getAnchor();X==="top"?(c=nt/2,m=mt):X==="bottom"?(c=nt/2,m=0):X==="center"?(c=nt/2,m=mt/2):X==="right"?(c=0,m=mt/2):X==="left"?(c=nt,m=mt/2):V.x<I.x?(X="right",c=0,m=mt/2):(X="left",c=nt+(St.x+Dt.x)*2,m=mt/2),a=a.subtract(H(c,m,!0)).add(St).add(Dt),Le(T,"leaflet-tooltip-right"),Le(T,"leaflet-tooltip-left"),Le(T,"leaflet-tooltip-top"),Le(T,"leaflet-tooltip-bottom"),Rt(T,"leaflet-tooltip-"+X),Me(T,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ue(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xp=function(a,c){return new Al(a,c)};ne.include({openTooltip:function(a,c,m){return this._initOverlay(Al,a,c,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Ji.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Al,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Tr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ut(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ut(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,m,b;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var Pf=Sr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(We(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=H(m.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Ap(a){return new Pf(a)}Sr.Default=yl;var vo=Ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){K(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ae(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ke(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ci(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof bt?a:new bt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,m=-a(-1/0,1/0),b=0,T=c.length,I;b<T;b++)I=c[b].style.zIndex,c[b]!==this._container&&I&&(m=a(m,+I));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){Ue(this._container,this.options.opacity);var a=+new Date,c=!1,m=!1;for(var b in this._tiles){var T=this._tiles[b];if(!(!T.current||!T.loaded)){var I=Math.min(1,(a-T.loaded)/200);Ue(T.el,I),I<1?c=!0:(T.active?m=!0:this._onOpaqueTile(T),T.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=c-Math.abs(a-m),this._onUpdateLevel(m)):(ae(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[a],T=this._map;return b||(b=this._levels[a]={},b.el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=T.project(T.unproject(T.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,T.getCenter(),T.getZoom()),C(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var a,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ae(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,m,b){var T=Math.floor(a/2),I=Math.floor(c/2),V=m-1,X=new bt(+T,+I);X.z=+V;var nt=this._tileCoordsToKey(X),mt=this._tiles[nt];return mt&&mt.active?(mt.retain=!0,!0):(mt&&mt.loaded&&(mt.retain=!0),V>b?this._retainParent(T,I,V,b):!1)},_retainChildren:function(a,c,m,b){for(var T=2*a;T<2*a+2;T++)for(var I=2*c;I<2*c+2;I++){var V=new bt(T,I);V.z=m+1;var X=this._tileCoordsToKey(V),nt=this._tiles[X];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);m+1<b&&this._retainChildren(T,I,m+1,b)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,m,b){var T=Math.round(c);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var I=this.options.updateWhenZooming&&T!==this._tileZoom;(!b||I)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,c)},_setZoomTransform:function(a,c,m){var b=this._map.getZoomScale(m,a.zoom),T=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,m)).round();Ot.any3d?Zi(a.el,T,b):Me(a.el,T)},_resetGrid:function(){var a=this._map,c=a.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],b).x/m.x),Math.ceil(a.project([0,c.wrapLng[1]],b).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],b).y/m.x),Math.ceil(a.project([c.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(m,this._tileZoom),T=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(b*2);return new R(T.subtract(I),T.add(I))},_update:function(a){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),T=this._pxBoundsToTileRange(b),I=T.getCenter(),V=[],X=this.options.keepBuffer,nt=new R(T.getBottomLeft().subtract([X,-X]),T.getTopRight().add([X,-X]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var mt in this._tiles){var St=this._tiles[mt].coords;(St.z!==this._tileZoom||!nt.contains(new bt(St.x,St.y)))&&(this._tiles[mt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Dt=T.min.y;Dt<=T.max.y;Dt++)for(var Jt=T.min.x;Jt<=T.max.x;Jt++){var Nn=new bt(Jt,Dt);if(Nn.z=this._tileZoom,!!this._isValidTile(Nn)){var hn=this._tiles[this._tileCoordsToKey(Nn)];hn?hn.current=!0:V.push(Nn)}}if(V.sort(function(xe,Ae){return xe.distanceTo(I)-Ae.distanceTo(I)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mi=document.createDocumentFragment();for(Jt=0;Jt<V.length;Jt++)this._addTile(V[Jt],mi);this._level.el.appendChild(mi)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!c.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return ct(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,m=this.getTileSize(),b=a.scaleBy(m),T=b.add(m),I=c.unproject(b,a.z),V=c.unproject(T,a.z);return[I,V]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),m=new lt(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),m=new bt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(a){var c=this._tiles[a];c&&(ae(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Rt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=C,a.onmousemove=C,Ot.ielt9&&this.options.opacity<1&&Ue(a,this.options.opacity)},_addTile:function(a,c){var m=this._getTilePos(a),b=this._tileCoordsToKey(a),T=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(T),this.createTile.length<2&&F(f(this._tileReady,this,a,null,T)),Me(T,m),this._tiles[b]={el:T,coords:a,current:!0},c.appendChild(T),this.fire("tileloadstart",{tile:T,coords:a})},_tileReady:function(a,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:a});var b=this._tileCoordsToKey(a);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Ue(m.el,0),U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Rt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new bt(this._wrapX?S(a.x,this._wrapX):a.x,this._wrapY?S(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new R(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Lf(a){return new vo(a)}var Ds=vo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=K(this,c),c.detectRetina&&Ot.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var m=document.createElement("img");return Ut(m,"load",f(this._tileOnLoad,this,c,m)),Ut(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var c={r:Ot.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=m),c["-y"]=m}return ut(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Ot.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,m){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),a(m,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(a=c-a),a+b},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=C,c.onerror=C,!c.complete)){c.src=Mt;var m=this._tiles[a].coords;ae(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",Mt),vo.prototype._removeTile.call(this,a)},_tileReady:function(a,c,m){if(!(!this._map||m&&m.getAttribute("src")===Mt))return vo.prototype._tileReady.call(this,a,c,m)}});function Ii(a,c){return new Ds(a,c)}var Cl=Ds.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var m=o({},this.defaultWmsParams);for(var b in c)b in this.options||(m[b]=c[b]);c=K(this,c);var T=c.detectRetina&&Ot.retina?2:1,I=this.getTileSize();m.width=I.x*T,m.height=I.y*T,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Ds.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),m=this._crs,b=Y(m.project(c[0]),m.project(c[1])),T=b.min,I=b.max,V=(this._wmsVersion>=1.3&&this._crs===ma?[T.y,T.x,I.y,I.x]:[T.x,T.y,I.x,I.y]).join(","),X=Ds.prototype.getTileUrl.call(this,a);return X+W(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Oi(a,c){return new Cl(a,c)}Ds.WMS=Cl,Ii.wms=Oi;var ni=Ji.extend({options:{padding:.1},initialize:function(a){K(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var m=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,c),I=b.multiplyBy(-m).add(T).subtract(this._map._getNewPixelOrigin(a,c));Ot.any3d?Zi(this._container,I,m):Me(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new R(m,m.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Iu=ni.extend({options:{tolerance:0},getEvents:function(){var a=ni.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ni.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ut(a,"mousemove",this._onMouseMove,this),Ut(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,ae(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ni.prototype._update.call(this);var a=this._bounds,c=this._container,m=a.getSize(),b=Ot.retina?2:1;Me(c,a.min),c.width=b*m.x,c.height=b*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ni.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,m=c.next,b=c.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),m=[],b,T;for(T=0;T<c.length;T++){if(b=Number(c[T]),isNaN(b))return;m.push(b)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var m,b,T,I,V=a._parts,X=V.length,nt=this._ctx;if(X){for(nt.beginPath(),m=0;m<X;m++){for(b=0,T=V[m].length;b<T;b++)I=V[m][b],nt[b?"lineTo":"moveTo"](I.x,I.y);c&&nt.closePath()}this._fillStroke(nt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,m=this._ctx,b=Math.max(Math.round(a._radius),1),T=(Math.max(Math.round(a._radiusY),1)||b)/b;T!==1&&(m.save(),m.scale(1,T)),m.beginPath(),m.arc(c.x,c.y/T,b,0,Math.PI*2,!1),T!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,c){var m=c.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),m,b,T=this._drawFirst;T;T=T.next)m=T.layer,m.options.interactive&&m._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Le(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var m,b,T=this._drawFirst;T;T=T.next)m=T.layer,m.options.interactive&&m._containsPoint(c)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,m){this._map._fireDOMEvent(c,m||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Rl(a){return Ot.canvas?new Iu(a):null}var js=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Fc={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ni.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=js("shape");Rt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=js("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;ae(c),a.removeInteractiveTarget(c),delete this._layers[v(a)]},_updateStyle:function(a){var c=a._stroke,m=a._fill,b=a.options,T=a._container;T.stroked=!!b.stroke,T.filled=!!b.fill,b.stroke?(c||(c=a._stroke=js("stroke")),T.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=st(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(T.removeChild(c),a._stroke=null),b.fill?(m||(m=a._fill=js("fill")),T.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(T.removeChild(m),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),m=Math.round(a._radius),b=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Ke(a._container)},_bringToBack:function(a){ci(a._container)}},Ar=Ot.vml?js:tn,yo=ni.extend({_initContainer:function(){this._container=Ar("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ar("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ni.prototype._update.call(this);var a=this._bounds,c=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Me(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=Ar("path");a.options.className&&Rt(c,a.options.className),a.options.interactive&&Rt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ae(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,m=a.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,ln(a._parts,c))},_updateCircle:function(a){var c=a._point,m=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||m,T="a"+m+","+b+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-m)+","+c.y+T+m*2+",0 "+T+-m*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Ke(a._path)},_bringToBack:function(a){ci(a._path)}});Ot.vml&&yo.include(Fc);function Il(a){return Ot.svg||Ot.vml?new yo(a):null}ne.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Rl(a)||Il(a)}});var pa=mo.extend({initialize:function(a,c){mo.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ct(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Cp(a,c){return new pa(a,c)}yo.create=Ar,yo.pointsToPath=ln,is.geometryToLayer=zn,is.coordsToLatLng=Su,is.coordsToLatLngs=El,is.latLngToCoords=xu,is.latLngsToCoords=Tl,is.getFeature=Ls,is.asFeature=Au,ne.mergeOptions({boxZoom:!0});var ii=fi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xi(),ua(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ut(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),Rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new R(this._point,this._startPoint),m=c.getSize();Me(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ae(this._box),Le(this._container,"leaflet-crosshair")),En(),Cs(),Te(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",ii),ne.mergeOptions({doubleClickZoom:!0});var Ou=fi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,m=c.getZoom(),b=c.options.zoomDelta,T=a.originalEvent.shiftKey?m-b:m+b;c.options.doubleClickZoom==="center"?c.setZoom(T):c.setZoomAround(a.containerPoint,T)}});ne.addInitHook("addHandler","doubleClickZoom",Ou),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cr=fi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Xi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ct(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,T=(b-c+m)%a+c-m,I=(b+c+m)%a-c-m,V=Math.abs(T+m)<Math.abs(I+m)?T:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(a){var c=this._map,m=c.options,b=!m.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),b)c.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,V=m.easeLinearity,X=T.multiplyBy(V/I),nt=X.distanceTo([0,0]),mt=Math.min(m.inertiaMaxSpeed,nt),St=X.multiplyBy(mt/nt),Dt=mt/(m.inertiaDeceleration*V),Jt=St.multiplyBy(-Dt/2).round();!Jt.x&&!Jt.y?c.fire("moveend"):(Jt=c._limitOffset(Jt,c.options.maxBounds),F(function(){c.panBy(Jt,{duration:Dt,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});ne.addInitHook("addHandler","dragging",Cr),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hc=fi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ut(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,m=a.scrollTop||c.scrollTop,b=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},m=this.keyCodes,b,T;for(b=0,T=m.left.length;b<T;b++)c[m.left[b]]=[-1*a,0];for(b=0,T=m.right.length;b<T;b++)c[m.right[b]]=[a,0];for(b=0,T=m.down.length;b<T;b++)c[m.down[b]]=[0,a];for(b=0,T=m.up.length;b<T;b++)c[m.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},m=this.keyCodes,b,T;for(b=0,T=m.zoomIn.length;b<T;b++)c[m.zoomIn[b]]=a;for(b=0,T=m.zoomOut.length;b<T;b++)c[m.zoomOut[b]]=-a},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,m=this._map,b;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[c],a.shiftKey&&(b=H(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(H(b),m.options.maxBounds)),m.options.worldCopyJump){var T=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(T)}else m.panBy(b)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Wi(a)}}});ne.addInitHook("addHandler","keyboard",Hc),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ol=fi.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Tn(a),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),Wi(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=m?Math.ceil(T/m)*m:T,V=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,V&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+V):a.setZoomAround(this._lastMousePos,c+V))}});ne.addInitHook("addHandler","scrollWheelZoom",Ol);var ga=600;ne.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var Nu=fi.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new bt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Ye),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),ga),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Te(document,"touchend",Ye),Te(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new bt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});ne.addInitHook("addHandler","tapHold",Nu),ne.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var qc=fi.extend({addHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Ye(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]),T=m.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(T,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&T<1||this._zoom>c.getMaxZoom()&&T>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var I=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(T===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var V=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(V,this,!0),Ye(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ne.addInitHook("addHandler","touchZoom",qc),ne.BoxZoom=ii,ne.DoubleClickZoom=Ou,ne.Drag=Cr,ne.Keyboard=Hc,ne.ScrollWheelZoom=Ol,ne.TapHold=Nu,ne.TouchZoom=qc,e.Bounds=R,e.Browser=Ot,e.CRS=wt,e.Canvas=Iu,e.Circle=Tu,e.CircleMarker=fo,e.Class=se,e.Control=jn,e.DivIcon=Pf,e.DivOverlay=Bn,e.DomEvent=Er,e.DomUtil=Is,e.Draggable=Xi,e.Evented=Tt,e.FeatureGroup=Tr,e.GeoJSON=is,e.GridLayer=vo,e.Handler=fi,e.Icon=Sr,e.ImageOverlay=go,e.LatLng=_t,e.LatLngBounds=lt,e.Layer=Ji,e.LayerGroup=ho,e.LineUtil=Ci,e.Map=ne,e.Marker=wl,e.Mixin=wu,e.Path=xr,e.Point=bt,e.PolyUtil=Ps,e.Polygon=mo,e.Polyline=ns,e.Popup=xl,e.PosAnimation=Jr,e.Projection=$i,e.Rectangle=pa,e.Renderer=ni,e.SVG=yo,e.SVGOverlay=Ru,e.TileLayer=Ds,e.Tooltip=Al,e.Transformation=ce,e.Util=z,e.VideoOverlay=ks,e.bind=f,e.bounds=Y,e.canvas=Rl,e.circle=Rf,e.circleMarker=Cf,e.control=ei,e.divIcon=Ap,e.extend=o,e.featureGroup=xf,e.geoJSON=Cu,e.geoJson=Sl,e.gridLayer=Lf,e.icon=vl,e.imageOverlay=If,e.latLng=vt,e.latLngBounds=ct,e.layerGroup=Ep,e.map=Ns,e.marker=Af,e.point=H,e.polygon=Sp,e.polyline=Tp,e.popup=Nf,e.rectangle=Cp,e.setOptions=K,e.stamp=v,e.svg=Il,e.svgOverlay=Of,e.tileLayer=Ii,e.tooltip=xp,e.transformation=_e,e.version=r,e.videoOverlay=_o;var Gc=window.L;e.noConflict=function(){return window.L=Gc,this},window.L=e}))})(kh,kh.exports)),kh.exports}var Sf=XV();const Wy=ES(Sf);function Ky(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function Yy(n,t){return t==null?function(r,o){const u=Z.useRef(void 0);return u.current||(u.current=n(r,o)),u}:function(r,o){const u=Z.useRef(void 0);u.current||(u.current=n(r,o));const f=Z.useRef(r),{instance:g}=u.current;return Z.useEffect(function(){f.current!==r&&(t(g,r,f.current),f.current=r)},[g,r,t]),u}}function $V(n,t){Z.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function DC(n){return function(e){const r=Gy(),o=n(Zy(e,r),r);return MC(r.map,e.attribution),kC(o.current,e.eventHandlers),$V(o.current,r),o}}function JV(n,t){const e=Yy(n,t),r=DC(e);return ZV(r)}function t3(n,t){const e=Yy(n),r=YV(e,t);return WV(r)}function e3(n,t){const e=Yy(n,t),r=DC(e);return KV(r)}function n3(n,t,e){const{opacity:r,zIndex:o}=t;r!=null&&r!==e.opacity&&n.setOpacity(r),o!=null&&o!==e.zIndex&&n.setZIndex(o)}function i3(){return Gy().map}function r3({bounds:n,boundsOptions:t,center:e,children:r,className:o,id:u,placeholder:f,style:g,whenReady:v,zoom:y,...S},C){const[N]=Z.useState({className:o,id:u,style:g}),[M,$]=Z.useState(null),K=Z.useRef(void 0);Z.useImperativeHandle(C,()=>(M==null?void 0:M.map)??null,[M]);const W=Z.useCallback(ut=>{if(ut!==null&&!K.current){const st=new Sf.Map(ut,S);K.current=st,e!=null&&y!=null?st.setView(e,y):n!=null&&st.fitBounds(n,t),v!=null&&st.whenReady(v),$(qV(st))}},[]);Z.useEffect(()=>()=>{M==null||M.map.remove()},[M]);const ft=M?Zs.createElement(qy,{value:M},r):f??null;return Zs.createElement("div",{...N,ref:W},ft)}const s3=Z.forwardRef(r3),bS=JV(function({position:t,...e},r){const o=new Sf.Marker(t,e);return Ky(o,GV(r,{overlayContainer:o}))},function(t,e,r){e.position!==r.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),wS=t3(function(t,e){const r=new Sf.Popup(t,e.overlayContainer);return Ky(r,e)},function(t,e,{position:r},o){Z.useEffect(function(){const{instance:f}=t;function g(y){y.popup===f&&(f.update(),o(!0))}function v(y){y.popup===f&&o(!1)}return e.map.on({popupopen:g,popupclose:v}),e.overlayContainer==null?(r!=null&&f.setLatLng(r),f.openOn(e.map)):e.overlayContainer.bindPopup(f),function(){var S;e.map.off({popupopen:g,popupclose:v}),(S=e.overlayContainer)==null||S.unbindPopup(),e.map.removeLayer(f)}},[t,e,o,r])}),a3=e3(function({url:t,...e},r){const o=new Sf.TileLayer(t,Zy(e,r));return Ky(o,r)},function(t,e,r){n3(t,e,r);const{url:o}=e;o!=null&&o!==r.url&&t.setUrl(o)});delete Wy.Icon.Default.prototype._getIconUrl;Wy.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const o3=new Wy.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/3202/3202926.png",iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[0,-16]}),l3=({center:n})=>(i3().flyTo(n,13),null),u3=({cars:n,center:t,onSelectCar:e})=>w.jsx("div",{style:{height:"400px",width:"100%",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",border:"1px solid var(--slate-200)"},children:w.jsxs(s3,{center:t,zoom:13,style:{height:"100%",width:"100%"},children:[w.jsx(a3,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),w.jsx(l3,{center:t}),w.jsx(bS,{position:t,children:w.jsx(wS,{children:"Jouw Locatie"})}),n.map((r,o)=>{const u=(Math.random()-.5)*.02,f=(Math.random()-.5)*.02,g=[t[0]+u,t[1]+f];return w.jsx(bS,{position:g,icon:o3,eventHandlers:{click:()=>e(r)},children:w.jsx(wS,{children:w.jsxs("div",{style:{textAlign:"center"},children:[w.jsxs("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem"},children:[r.make," ",r.model]}),w.jsx("p",{style:{margin:0,color:"#64748b"},children:r.provider}),w.jsx("button",{onClick:()=>e(r),style:{marginTop:"0.5rem",background:"#0ea5e9",color:"white",border:"none",padding:"0.25rem 0.75rem",borderRadius:"4px",cursor:"pointer"},children:"Kies deze"})]})})},r.id||o)})]})}),Qy=()=>w.jsxs("div",{style:{position:"fixed",inset:0,zIndex:0,overflow:"hidden",pointerEvents:"none",backgroundColor:"#111827"},children:[w.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, #111827, #1f2937, #111827)",opacity:.8}}),w.jsxs("div",{style:{position:"absolute",inset:0,opacity:.3},children:[w.jsx("style",{children:`
                        @keyframes moveRight {
                            0% { transform: translateX(-100%) skewX(-30deg); }
                            100% { transform: translateX(200%) skewX(-30deg); }
                        }
                        @keyframes moveLeft {
                            0% { transform: translateX(200%) skewX(30deg); }
                            100% { transform: translateX(-100%) skewX(30deg); }
                        }
                        .traffic-light {
                            position: absolute;
                            height: 4px;
                            border-radius: 9999px;
                            filter: blur(3px);
                            box-shadow: 0 0 10px currentColor;
                        }
                        .light-red { color: #ef4444; background: currentColor; animation: moveLeft 8s linear infinite; }
                        .light-white { color: #facc15; background: currentColor; animation: moveRight 7s linear infinite; }
                        
                        .delay-1 { animation-delay: 0s; }
                        .delay-2 { animation-delay: 2s; }
                        .delay-3 { animation-delay: 4s; }
                        .delay-4 { animation-delay: 1.5s; }
                        .delay-5 { animation-delay: 3.5s; }
                    `}),w.jsx("div",{className:"traffic-light light-red",style:{width:"16rem",top:"15%",animationDuration:"15s"}}),w.jsx("div",{className:"traffic-light light-white",style:{width:"16rem",top:"18%",animationDuration:"12s",animationDelay:"5s"}}),w.jsx("div",{className:"traffic-light light-red delay-1",style:{width:"24rem",top:"40%"}}),w.jsx("div",{className:"traffic-light light-red delay-2",style:{width:"18rem",top:"42%"}}),w.jsx("div",{className:"traffic-light light-white delay-3",style:{width:"20rem",top:"45%"}}),w.jsx("div",{className:"traffic-light light-white delay-1",style:{width:"24rem",top:"48%"}}),w.jsx("div",{className:"traffic-light light-red",style:{width:"500px",top:"75%",opacity:.6,height:"6px",animationDuration:"6s"}}),w.jsx("div",{className:"traffic-light light-white",style:{width:"500px",top:"80%",opacity:.6,height:"6px",animationDuration:"5s",animationDelay:"1s"}})]}),w.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"url('https://grainy-gradients.vercel.app/noise.svg')",opacity:.1,mixBlendMode:"overlay"}})]}),Xy=({isOpen:n,onClose:t,title:e,children:r,footer:o})=>n?w.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.2s ease"},children:[w.jsxs("div",{style:{background:"rgba(23, 23, 23, 0.9)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"24px",width:"90%",maxWidth:"450px",padding:"2rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",transform:"translateY(0)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",color:"white"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[w.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"800",margin:0,color:"white"},children:e}),w.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#9ca3af",padding:"0.5rem",transition:"color 0.2s"},onMouseEnter:u=>u.currentTarget.style.color="white",onMouseLeave:u=>u.currentTarget.style.color="#9ca3af",children:""})]}),w.jsx("div",{style:{color:"#d1d5db",lineHeight:"1.6",marginBottom:"2rem"},children:r}),o&&w.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:o})]}),w.jsx("style",{children:`
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}):null,c3=()=>w.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),h3=()=>w.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),jC=({message:n,type:t="success",onClose:e})=>{const[r,o]=Z.useState(!1);Z.useEffect(()=>{const f=setTimeout(()=>{o(!0),setTimeout(e,400)},3e3);return()=>clearTimeout(f)},[e]);const u=t==="success"?{gradient:"linear-gradient(135deg, #059669, #10b981)",shadow:"0 0 20px rgba(16, 185, 129, 0.3)"}:{gradient:"linear-gradient(135deg, #dc2626, #ef4444)",shadow:"0 0 20px rgba(239, 68, 68, 0.3)"};return w.jsxs("div",{className:r?"toast-exit":"toast-enter",style:{position:"fixed",bottom:"30px",right:"30px",background:"rgba(23, 23, 23, 0.85)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"1rem 1.25rem",borderRadius:"16px",boxShadow:`0 10px 30px -5px rgba(0,0,0,0.5), ${u.shadow}`,display:"flex",alignItems:"center",gap:"1rem",zIndex:9999,color:"white",minWidth:"320px",maxWidth:"400px",overflow:"hidden"},children:[w.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:u.gradient,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:w.jsx("div",{style:{color:"white"},children:t==="success"?w.jsx(c3,{}):w.jsx(h3,{})})}),w.jsxs("div",{style:{flex:1},children:[w.jsx("div",{style:{fontWeight:"700",fontSize:"0.95rem",marginBottom:"2px"},children:t==="success"?"Succesvol":"Foutmelding"}),w.jsx("div",{style:{fontSize:"0.9rem",color:"#9ca3af",fontWeight:"500"},children:n})]}),w.jsx("button",{onClick:()=>{o(!0),setTimeout(e,400)},style:{background:"none",border:"none",color:"#6b7280",cursor:"pointer",padding:"4px",borderRadius:"50%",display:"flex",transition:"all 0.2s"},onMouseEnter:f=>f.currentTarget.style.background="rgba(255,255,255,0.1)",onMouseLeave:f=>f.currentTarget.style.background="none",children:w.jsx("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),w.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"3px",background:u.gradient,width:"100%",animation:"progress 3s linear forwards",transformOrigin:"left"}}),w.jsx("style",{children:`
                .toast-enter {
                    animation: slideUpFade 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                }
                .toast-exit {
                    animation: slideDownFade 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                }
                @keyframes slideUpFade {
                    from { transform: translateY(20px) scale(0.95); opacity: 0; }
                    to { transform: translateY(0) scale(1); opacity: 1; }
                }
                @keyframes slideDownFade {
                    from { transform: translateY(0) scale(1); opacity: 1; }
                    to { transform: translateY(10px) scale(0.95); opacity: 0; }
                }
                @keyframes progress {
                    from { transform: scaleX(1); }
                    to { transform: scaleX(0); }
                }
            `})]})},jt=new OC,f3=qr(()=>{const{user:n}=Wn,t=su(),[e,r]=Zs.useState(!0),[o,u]=Zs.useState(!1),[f,g]=Zs.useState(!1),v=()=>{try{const ut=window.AudioContext||window.webkitAudioContext;if(!ut)return;const st=new ut;[{freq:440,type:"sine",delay:0},{freq:554,type:"sine",delay:.1},{freq:659,type:"sine",delay:.2},{freq:880,type:"sine",delay:.3}].forEach(({freq:Mt,type:Lt,delay:D})=>{const k=st.createOscillator(),j=st.createGain();k.type=Lt,k.frequency.setValueAtTime(Mt,st.currentTime+D),j.gain.setValueAtTime(0,st.currentTime+D),j.gain.linearRampToValueAtTime(.3,st.currentTime+D+.1),j.gain.exponentialRampToValueAtTime(.001,st.currentTime+D+.5),k.connect(j),j.connect(st.destination),k.start(st.currentTime+D),k.stop(st.currentTime+D+.6)})}catch(ut){console.error("Audio playback failed",ut)}};Z.useEffect(()=>{if(jt.bookingStatus==="CONFIRMED"){v();const st=Date.now()+3e3;g(!0);const xt=()=>{_S({particleCount:7,angle:60,spread:55,origin:{x:0},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),_S({particleCount:7,angle:120,spread:55,origin:{x:1},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),Date.now()<st&&requestAnimationFrame(xt)};xt()}},[jt.bookingStatus]);const y=async ut=>{ut.preventDefault(),await jt.searchCars()},S=ut=>{ut==="home"&&(n!=null&&n.homeLocation)?(jt.startStreet=n.homeLocation.address,jt.isStartAddressValid=!0):ut==="work"&&(n!=null&&n.workLocation)&&(jt.startStreet=n.workLocation.address,jt.isStartAddressValid=!0)},C={maxWidth:"1280px",margin:"0 auto",padding:"2rem 1rem",position:"relative",zIndex:10},N={background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",borderRadius:"16px",padding:"2rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)"},M={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},$={display:"grid",gridTemplateColumns:"minmax(0, 7fr) minmax(0, 5fr)",gap:"2rem"},K={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0,0,0,0.05)",padding:"1.5rem 0",marginBottom:"2rem"},W=window.innerWidth<=768,ft=()=>{if((n==null?void 0:n.role)==="guest"){u(!0);return}jt.confirmBooking()};return w.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",paddingBottom:"3rem",overflowX:"hidden"},children:[w.jsx(Qy,{}),w.jsx("div",{style:{position:"relative",zIndex:20,...K},children:w.jsx("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"0 1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:w.jsxs("div",{children:[w.jsx("span",{style:{color:"var(--primary-600)",fontWeight:"700",textTransform:"uppercase",fontSize:"0.85rem",letterSpacing:"0.05em"},children:"Tidal Mare"}),w.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",color:"#111827",margin:"0.25rem 0 0.5rem 0"},children:"Waar wil je heen vandaag?"}),w.jsx("p",{style:{color:"#4b5563",fontSize:"1.1rem"},children:"Regel binnen enkele seconden een comfortabele rit."})]})})}),w.jsxs("div",{style:C,children:[w.jsxs("div",{style:W?{display:"flex",flexDirection:"column",gap:"1.5rem"}:$,children:[w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[w.jsxs("div",{style:N,children:[w.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx("span",{style:{background:"var(--primary-100)",color:"var(--primary-600)",padding:"6px",borderRadius:"8px",display:"flex"},children:w.jsx(Cv,{className:"w-5 h-5"})}),"Startlocatie"]}),w.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[w.jsxs("button",{type:"button",onClick:()=>S("home"),className:"shortcut-chip",children:[w.jsx(PC,{className:"w-4 h-4"})," Thuis"]}),w.jsxs("button",{type:"button",onClick:()=>S("work"),className:"shortcut-chip",children:[w.jsx(LC,{className:"w-4 h-4"})," Werk"]})]}),w.jsx("div",{style:M,children:w.jsx("div",{style:{gridColumn:"1 / -1"},children:w.jsx(jm,{label:"Straat en Huisnummer",value:jt.startStreet+(jt.startHouseNumber?` ${jt.startHouseNumber}`:""),onChange:ut=>jt.updateStartField("street",ut),onSelect:ut=>jt.setStartAddress(ut),isValid:jt.isStartAddressValid,hasError:jt.showValidationErrors&&!jt.isStartAddressValid,placeholder:"Zoek hier (bijv. Kalverstraat)..."})})}),w.jsxs("div",{style:{...M,marginTop:"1rem"},children:[w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Postcode"}),w.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:jt.startPostcode,onChange:ut=>jt.updateStartField("postcode",ut.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]}),w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Plaats"}),w.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:jt.startCity,onChange:ut=>jt.updateStartField("city",ut.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]})]})]}),w.jsxs("div",{style:N,children:[w.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx("span",{style:{background:"#fee2e2",color:"#dc2626",padding:"6px",borderRadius:"8px",display:"flex"},children:w.jsx(Cv,{className:"w-5 h-5"})}),"Eindlocatie"]}),w.jsx("div",{style:M,children:w.jsx("div",{style:{gridColumn:"1 / -1"},children:w.jsx(jm,{label:"Straat en Huisnummer",value:jt.endStreet+(jt.endHouseNumber?` ${jt.endHouseNumber}`:""),onChange:ut=>jt.updateEndField("street",ut),onSelect:ut=>jt.setEndAddress(ut),isValid:jt.isEndAddressValid,hasError:jt.showValidationErrors&&!jt.isEndAddressValid,placeholder:"Waar gaat de reis naartoe?"})})}),w.jsxs("div",{style:{...M,marginTop:"1rem"},children:[w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Postcode"}),w.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:jt.endPostcode,onChange:ut=>jt.updateEndField("postcode",ut.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]}),w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Plaats"}),w.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:jt.endCity,onChange:ut=>jt.updateEndField("city",ut.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]})]})]}),w.jsxs("div",{style:N,children:[w.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[w.jsx("span",{style:{background:"#e0e7ff",color:"#4f46e5",padding:"6px",borderRadius:"8px",display:"flex"},children:w.jsx(NC,{className:"w-5 h-5"})}),"Reisdetails"]}),w.jsxs("div",{style:M,children:[w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Passagiers"}),w.jsx("input",{type:"number",min:"1",max:"8",className:"form-input",value:jt.passengers,onChange:ut=>jt.setPassengers(parseInt(ut.target.value))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"form-label",children:"Bagage"}),w.jsxs("select",{className:"form-input",value:jt.luggageLevel,onChange:ut=>jt.setLuggageLevel(parseInt(ut.target.value)),children:[w.jsx("option",{value:"0",children:"Geen bagage"}),w.jsx("option",{value:"1",children:"Klein (handbagage)"}),w.jsx("option",{value:"2",children:"Normaal"}),w.jsx("option",{value:"3",children:"Veel bagage"})]})]})]}),w.jsxs("div",{style:{marginTop:"1.5rem"},children:[w.jsx("label",{className:"form-label",children:"Opmerkingen (Optioneel)"}),w.jsx("textarea",{className:"form-input",rows:3,style:{resize:"none"},placeholder:"Bijv. graag ophalen aan de achterzijde...",value:jt.bookingNote,onChange:ut=>jt.setBookingNote(ut.target.value)})]})]})]}),w.jsx("div",{style:{position:"relative"},children:w.jsxs("div",{style:{...N,position:"sticky",top:"24px"},children:[w.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700",marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Samenvatting",w.jsx("span",{className:"status-badge status-requested",children:"Rit info"})]}),w.jsxs("div",{style:{position:"relative",paddingLeft:"24px",marginBottom:"2rem"},children:[w.jsx("div",{style:{position:"absolute",left:"7px",top:"10px",bottom:"10px",width:"2px",background:"linear-gradient(to bottom, #10b981, #e5e7eb, #ef4444)"}}),w.jsxs("div",{style:{marginBottom:"1.5rem",position:"relative"},children:[w.jsx("div",{style:{position:"absolute",left:"-24px",width:"16px",height:"16px",background:"#d1fae5",borderRadius:"50%",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 0 2px #10b981"},children:w.jsx("div",{style:{width:"6px",height:"6px",background:"#047857",borderRadius:"50%"}})}),w.jsx("span",{style:{display:"block",fontSize:"0.75rem",textTransform:"uppercase",color:"var(--slate-500)",fontWeight:"700"},children:"Startlocatie"}),w.jsx("span",{style:{fontWeight:"500",display:"block",color:jt.startAddressSummary?"#111827":"#9ca3af",fontStyle:jt.startAddressSummary?"normal":"italic"},children:jt.startAddressSummary||"Kies een startlocatie"})]}),w.jsxs("div",{style:{position:"relative"},children:[w.jsx("div",{style:{position:"absolute",left:"-24px",width:"16px",height:"16px",background:"#fee2e2",borderRadius:"50%",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 0 2px #ef4444"},children:w.jsx("div",{style:{width:"6px",height:"6px",background:"#b91c1c",borderRadius:"50%"}})}),w.jsx("span",{style:{display:"block",fontSize:"0.75rem",textTransform:"uppercase",color:"var(--slate-500)",fontWeight:"700"},children:"Eindlocatie"}),w.jsx("span",{style:{fontWeight:"500",display:"block",color:jt.endAddressSummary?"#111827":"#9ca3af",fontStyle:jt.endAddressSummary?"normal":"italic"},children:jt.endAddressSummary||"Kies een eindlocatie"})]})]}),w.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem",border:"1px solid #f3f4f6"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",marginBottom:"0.5rem"},children:[w.jsx("span",{style:{color:"#6b7280"},children:"Reizigers"}),w.jsxs("span",{style:{fontWeight:"600",color:"#111827"},children:[jt.passengers," personen"]})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[w.jsx("span",{style:{color:"#6b7280"},children:"Bagage"}),w.jsx("span",{style:{fontWeight:"600",color:"#111827"},children:["Geen","Klein","Normaal","Veel"][jt.luggageLevel]})]})]}),jt.error&&w.jsxs("div",{className:"error-message",children:[w.jsx("span",{style:{marginRight:"8px"},children:""}),jt.error]}),w.jsx("button",{onClick:y,disabled:jt.isLoading,className:"btn-primary",style:{width:"100%",justifyContent:"center"},children:jt.isLoading?"Zoeken...":"Zoek Beschikbare Auto's "})]})})]}),jt.availableCars.length>0&&w.jsxs("div",{style:{marginTop:"4rem"},children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[w.jsx("h3",{style:{fontSize:"1.8rem",fontWeight:"800",color:"white"},children:"Beschikbare Auto's"}),w.jsxs("div",{style:{display:"flex",background:"#374151",padding:"4px",borderRadius:"12px"},children:[w.jsx("button",{onClick:()=>r(!1),style:{padding:"0.5rem 1.25rem",borderRadius:"8px",background:e?"transparent":"#111827",color:e?"#9ca3af":"white",border:"none",cursor:"pointer",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:" Lijst"}),w.jsx("button",{onClick:()=>r(!0),style:{padding:"0.5rem 1.25rem",borderRadius:"8px",background:e?"#111827":"transparent",color:e?"white":"#9ca3af",border:"none",cursor:"pointer",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:" Kaart"})]})]}),e?w.jsxs("div",{className:"fade-in",children:[w.jsx(u3,{cars:jt.availableCars,center:[52.3676,4.9041],onSelectCar:ut=>{jt.selectCar(ut),ft()}}),w.jsx("p",{style:{marginTop:"1rem",color:"#6b7280",fontSize:"0.85rem",textAlign:"center"},children:"* Locaties zijn bij benadering weergegeven."})]}):w.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"2rem"},children:jt.availableCars.map(ut=>w.jsxs("div",{style:{...N,padding:0,overflow:"hidden"},children:[w.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, #f3f4f6, #e5e7eb)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[w.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:""}),w.jsxs("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255,255,255,0.9)",padding:"0.25rem 0.75rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"700",color:"#374151"},children:[ut.seats," stoelen"]})]}),w.jsxs("div",{style:{padding:"1.5rem"},children:[w.jsxs("h4",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"0.5rem",color:"#111827"},children:[ut.make," ",ut.model]}),w.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[w.jsx("span",{style:{background:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",color:"#4b5563"},children:ut.fuelType}),w.jsx("span",{style:{background:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",color:"#4b5563"},children:"Automaat"})]}),w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",borderTop:"1px solid #f3f4f6",paddingTop:"1rem"},children:[w.jsxs("div",{children:[w.jsx("div",{style:{fontSize:"0.75rem",textTransform:"uppercase",color:"#9ca3af",fontWeight:"700",marginBottom:"2px"},children:"Prijs indicatie"}),w.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#111827"},children:["",ut.pricePerHourEstimate,w.jsx("span",{style:{fontSize:"0.9rem",color:"#6b7280",fontWeight:"400"},children:"/u"})]})]}),w.jsx("button",{onClick:()=>{jt.selectCar(ut),ft()},className:"btn-primary",style:{background:"#111827",boxShadow:"0 4px 6px rgba(0,0,0,0.2)"},children:"Boek Nu"})]})]})]},ut.id))}),w.jsx("style",{children:`
                            .fade-in { animation: fadeIn 0.5s ease-out forwards; }
                            @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                        `})]}),w.jsx(Xy,{isOpen:o,onClose:()=>u(!1),title:"Account vereist",footer:w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>u(!1),style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.1)",fontWeight:"600",cursor:"pointer",color:"white",transition:"background 0.2s"},children:"Annuleren"}),w.jsx("button",{onClick:()=>t("/register"),className:"btn-primary",style:{padding:"0.75rem 1.5rem",borderRadius:"12px",fontWeight:"700",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:"Registreren"})]}),children:w.jsx("p",{children:"Als gast kun je niet boeken. Wil je een account aanmaken om verder te gaan?"})}),f&&w.jsx(jC,{message:"Je rit is succesvol ingepland! Bevestiging verstuurd.",type:"success",onClose:()=>{g(!1),jt.clearForm()}})]})]})}),d3=qr(({carName:n,licensePlate:t,onUnlock:e})=>{const[r,o]=Z.useState(!1),[u,f]=Z.useState(0),[g,v]=Z.useState(!1),y=Z.useRef(null),S=2.5;Z.useEffect(()=>{const M=()=>{r&&!g?(f($=>{const K=$+S;return K>=100?(v(!0),o(!1),e(),100):K}),y.current=requestAnimationFrame(M)):!r&&!g&&u>0&&(f($=>Math.max(0,$-S*3)),y.current=requestAnimationFrame(M))};return y.current=requestAnimationFrame(M),()=>{y.current!==null&&cancelAnimationFrame(y.current)}},[r,g,u,e]);const C=()=>{g||o(!0)},N=()=>{o(!1)};return w.jsxs("div",{className:"smart-key-container",style:{background:"#111827",borderRadius:"20px",padding:"2.5rem 2rem",color:"white",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px solid #1f2937",userSelect:"none"},children:[g&&w.jsx("div",{onClick:()=>{v(!1),f(0)},style:{position:"absolute",top:"1rem",right:"1rem",background:"#374151",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#9ca3af",transition:"all 0.2s",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"},title:"Vergrendelen",children:w.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),w.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),w.jsxs("div",{style:{marginBottom:"2.5rem",opacity:g?.5:1,transition:"opacity 0.5s"},children:[w.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"500",margin:0,color:"#e5e7eb",letterSpacing:"0.025em"},children:n}),t&&w.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#9ca3af",background:"#1f2937",padding:"0.25rem 0.75rem",borderRadius:"4px",display:"inline-block",fontFamily:"monospace",letterSpacing:"1px"},children:t})]}),w.jsxs("div",{onMouseDown:C,onMouseUp:N,onMouseLeave:N,onTouchStart:C,onTouchEnd:N,style:{width:"140px",height:"140px",borderRadius:"50%",background:g?"rgba(16, 185, 129, 0.1)":"linear-gradient(145deg, #1f2937, #111827)",boxShadow:g?"0 0 30px rgba(16, 185, 129, 0.2)":r?"inset 0 4px 10px rgba(0,0,0,0.5)":"5px 5px 15px #0b0f19, -5px -5px 15px #273549",display:"flex",alignItems:"center",justifyContent:"center",cursor:g?"default":"pointer",position:"relative",transform:r?"scale(0.96)":"scale(1)",transition:"all 0.2s ease-out",border:"1px solid #374151",marginBottom:"2rem"},children:[w.jsxs("svg",{width:"140",height:"140",style:{position:"absolute",top:0,left:0,transform:"rotate(-90deg)",pointerEvents:"none"},children:[w.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:"#374151",strokeWidth:"2",fill:"transparent"}),w.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:g?"#10b981":"#3b82f6",strokeWidth:"3",fill:"transparent",strokeDasharray:427,strokeDashoffset:427-427*u/100,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0s linear, opacity 0.3s"},opacity:r||g?1:0})]}),w.jsx("div",{style:{color:g?"#10b981":r?"#60a5fa":"#9ca3af",transition:"color 0.3s"},children:g?w.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),w.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),w.jsx("path",{d:"M7 7h10"}),w.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}):w.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),w.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]}),w.jsxs("div",{style:{minHeight:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[w.jsx("p",{style:{fontSize:"0.875rem",color:g?"#10b981":r?"#e5e7eb":"#6b7280",fontWeight:"600",margin:0,letterSpacing:"0.05em",textTransform:"uppercase",transition:"color 0.3s"},children:g?"Auto is open":r?"Authenticeren...":"Houd vast om te openen"}),g&&w.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"0.5rem 0 0 0",animation:"fadeIn 0.5s"},children:"Verbinding stabiel  Gereed voor start"})]})]})}),Oa=new OC,m3=qr(()=>{var S,C,N,M,$;const{id:n}=qR(),[t,e]=Z.useState(""),[r,o]=Z.useState(!1);Z.useEffect(()=>{n&&Oa.loadBookingDetails(n)},[n]);const u=async()=>{n&&(await Oa.cancelBooking(n,t),o(!1))};if(Oa.isLoading&&!Oa.selectedBookingDetails)return w.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Laden..."});if(Oa.error)return w.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#ef4444"},children:["Error: ",Oa.error]});const f=Oa.selectedBookingDetails;if(!f)return w.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Geen boeking gevonden."});const g=f.status==="REQUESTED"||f.status==="CONFIRMED",y=(K=>{switch(K){case"CONFIRMED":return{color:"#059669",background:"#d1fae5"};case"CANCELLED":return{color:"#dc2626",background:"#fee2e2"};case"COMPLETED":return{color:"#374151",background:"#f3f4f6"};default:return{color:"#2563eb",background:"#dbeafe"}}})(f.status);return w.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem 1rem"},children:[w.jsx("div",{style:{marginBottom:"1.5rem"},children:w.jsx(lr,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#4b5563",textDecoration:"none",padding:"0.5rem 0.75rem",borderRadius:"8px",background:"#f9fafb",transition:"background 0.2s",fontWeight:"500"},children:" Terug naar Dashboard"})}),w.jsxs("div",{style:{background:"white",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",overflow:"hidden",border:"1px solid #f3f4f6"},children:[w.jsxs("div",{style:{background:"#f9fafb",padding:"1.5rem",borderBottom:"1px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[w.jsxs("div",{children:[w.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#111827",margin:0},children:["Boeking #",f.id.substring(0,8)]}),w.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:["Aangemaakt op ",new Date(f.createdAt).toLocaleDateString()," om ",new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),w.jsx("div",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"700",letterSpacing:"0.025em",...y},children:f.status})]}),w.jsxs("div",{style:{padding:"2rem"},children:[f.status==="CANCELLED"&&w.jsx("div",{style:{background:"#fef2f2",borderLeft:"4px solid #ef4444",padding:"1rem",marginBottom:"2rem",borderRadius:"0 8px 8px 0"},children:w.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[w.jsx("span",{style:{fontSize:"1.25rem"},children:""}),w.jsxs("div",{children:[w.jsx("h4",{style:{fontWeight:"700",color:"#7f1d1d",margin:0},children:"Deze rit is geannuleerd"}),w.jsxs("p",{style:{fontSize:"0.875rem",color:"#b91c1c",marginTop:"0.25rem"},children:["Datum: ",f.cancelledAt?new Date(f.cancelledAt).toLocaleString():"-",f.cancellationReason&&w.jsxs("span",{style:{display:"block",marginTop:"0.25rem",fontStyle:"italic"},children:['"',f.cancellationReason,'"']})]})]})]})}),w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[w.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[w.jsx("span",{children:""})," Route"]}),w.jsxs("div",{style:{position:"relative",paddingLeft:"1.5rem",marginLeft:"0.5rem",borderLeft:"2px solid #e5e7eb",display:"flex",flexDirection:"column",gap:"2rem"},children:[w.jsxs("div",{style:{position:"relative"},children:[w.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#3b82f6",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),w.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Vertrek"}),w.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.startLocation.address})]}),w.jsxs("div",{style:{position:"relative"},children:[w.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#111827",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),w.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Aankomst"}),w.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.endLocation.address})]})]})]}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[w.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[w.jsx("span",{children:""})," Details"]}),w.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Voertuig"}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx("div",{style:{fontSize:"1.5rem"},children:""}),w.jsxs("div",{children:[w.jsxs("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:[(S=f.car)==null?void 0:S.make," ",(C=f.car)==null?void 0:C.model]}),w.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:(N=f.car)==null?void 0:N.provider})]})]})]}),w.jsxs("div",{children:[w.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Tijdstip"}),w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[w.jsx("div",{style:{fontSize:"1.5rem"},children:""}),w.jsxs("div",{children:[w.jsx("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:new Date(f.startTime).toLocaleDateString()}),w.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:new Date(f.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})]})]}),f.status==="CONFIRMED"&&w.jsxs("div",{style:{marginTop:"2.5rem",paddingTop:"2rem",borderTop:"1px solid #f3f4f6"},children:[w.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"1.5rem",textAlign:"center"},children:"Jouw Digitale Sleutel"}),w.jsx("div",{style:{maxWidth:"360px",margin:"0 auto"},children:w.jsx(d3,{carName:`${(M=f.car)==null?void 0:M.make} ${($=f.car)==null?void 0:$.model}`,licensePlate:"T-123-XY",onUnlock:()=>console.log("Unlocked from details!")})})]}),g&&w.jsx("div",{style:{marginTop:"2.5rem",paddingTop:"1.5rem",borderTop:"1px solid #f3f4f6",display:"flex",justifyContent:"flex-end"},children:w.jsx("button",{onClick:()=>o(!0),style:{padding:"0.625rem 1.5rem",background:"white",border:"1px solid #fecaca",color:"#dc2626",fontWeight:"500",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:" Rit Annuleren"})})]}),w.jsx(Xy,{isOpen:r,onClose:()=>o(!1),title:"Rit Annuleren",footer:w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>o(!1),style:{padding:"0.625rem 1rem",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.1)",color:"white",fontWeight:"500",borderRadius:"8px",cursor:"pointer"},children:"Terug"}),w.jsx("button",{onClick:u,disabled:Oa.isCancelling,style:{padding:"0.625rem 1rem",background:"#dc2626",color:"white",fontWeight:"700",borderRadius:"8px",border:"none",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(220, 38, 38, 0.2)"},children:Oa.isCancelling?"Bezig...":"Bevestig Annulering"})]}),children:w.jsxs("div",{style:{marginBottom:"1.5rem"},children:[w.jsx("p",{style:{color:"#d1d5db",marginBottom:"1rem",fontSize:"0.9rem"},children:"Je staat op het punt deze rit te annuleren. Dit kan niet ongedaan worden gemaakt."}),w.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#d1d5db",marginBottom:"0.5rem"},children:"Reden van annulering (optioneel)"}),w.jsx("input",{type:"text",style:{width:"100%",border:"1px solid #4b5563",background:"rgba(0,0,0,0.2)",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",outline:"none",transition:"border-color 0.2s"},placeholder:"Bijv. Plannen gewijzigd...",value:t,onChange:K=>e(K.target.value)})]})})]})}),Bd=({title:n,icon:t,children:e})=>w.jsxs("div",{style:{marginBottom:"2rem"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(0,0,0,0.05)"},children:[t&&w.jsx("span",{style:{color:"var(--primary-600)",background:"var(--primary-50)",padding:"0.5rem",borderRadius:"8px",display:"flex"},children:t}),w.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#111827"},children:n})]}),w.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:e})]}),p3=qr(()=>{const{user:n}=Wn,{isLoading:t}=Rh,[e,r]=Z.useState(""),[o,u]=Z.useState(""),[f,g]=Z.useState(""),[v,y]=Z.useState(""),[S,C]=Z.useState(""),[N,M]=Z.useState(""),[$,K]=Z.useState(""),[W,ft]=Z.useState(""),[ut,st]=Z.useState(""),[xt,Mt]=Z.useState(void 0),[Lt,D]=Z.useState(void 0),[k,j]=Z.useState(!1);Z.useEffect(()=>{n&&(Rh.setUser(n),n.firstName&&r(n.firstName),n.lastName&&u(n.lastName),n.phoneNumber&&g(n.phoneNumber),n.dateOfBirth&&y(n.dateOfBirth),n.licenseNumber&&C(n.licenseNumber),n.licenseExpiryDate&&M(n.licenseExpiryDate),n.emergencyContactName&&K(n.emergencyContactName),n.emergencyContactPhone&&ft(n.emergencyContactPhone),n.iban&&st(n.iban),n.homeLocation&&Mt(n.homeLocation),n.workLocation&&D(n.workLocation))},[n]);const q=async U=>{U.preventDefault();const z={firstName:e,lastName:o,phoneNumber:f,dateOfBirth:v,licenseNumber:S,licenseExpiryDate:N,emergencyContactName:$,emergencyContactPhone:W,iban:ut,homeLocation:xt,workLocation:Lt};await Rh.updateProfile(z),Rh.user&&(Wn.user=Rh.user),j(!0)};if(!n)return w.jsx("div",{className:"p-8 text-center text-gray-500",children:"Niet ingelogd."});const F={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",maxWidth:"800px",margin:"0 auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(255, 255, 255, 0.5)",position:"relative",zIndex:10,overflow:"hidden"};return w.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",padding:"2rem 1rem"},children:[w.jsx(Qy,{}),k&&w.jsx(jC,{message:"Updates succesvol opgeslagen!",onClose:()=>j(!1)}),w.jsx("div",{style:{maxWidth:"800px",margin:"0 auto 2rem auto",position:"relative",zIndex:10},children:w.jsx(lr,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"white",textDecoration:"none",padding:"0.5rem 1rem",borderRadius:"99px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(4px)",transition:"background 0.2s",fontWeight:"500",fontSize:"0.9rem"},children:" Terug naar Dashboard"})}),w.jsxs("div",{style:F,children:[w.jsx("div",{style:{background:"linear-gradient(to right, #0099cc, #0077a8)",padding:"3rem 2rem",color:"white"},children:w.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"1rem"},children:[w.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:""}),w.jsxs("div",{children:[w.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",margin:0,textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Mijn Profiel"}),w.jsx("p",{style:{opacity:.9,fontSize:"1.1rem",marginTop:"0.25rem"},children:"Beheer je gegevens en locaties"})]})]})}),w.jsxs("div",{style:{padding:"2.5rem"},children:[w.jsxs("form",{onSubmit:q,children:[w.jsxs(Bd,{title:"Accountgegevens",icon:w.jsx("div",{style:{width:"20px",height:"20px"},children:w.jsx(NC,{})}),children:[w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[w.jsx("span",{style:{color:"#6b7280"},children:w.jsx(nf,{className:"w-4 h-4"})}),w.jsx("span",{children:"E-mailadres"})]}),w.jsxs("div",{style:{position:"relative"},children:[w.jsx("input",{type:"text",className:"form-input",value:n.email,readOnly:!0,disabled:!0,style:{paddingLeft:"2.5rem",background:"#f3f4f6",color:"#6b7280",cursor:"not-allowed",borderColor:"#e5e7eb"}}),w.jsx("div",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},children:w.jsx(Fy,{className:"w-4 h-4"})})]}),w.jsx("p",{style:{fontSize:"0.8rem",color:"#9ca3af",marginTop:"0.5rem",fontStyle:"italic"},children:"Je e-mailadres is gekoppeld aan je account en kan niet worden gewijzigd."})]}),w.jsxs("div",{className:"grid-2-cols",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Voornaam"}),w.jsx("input",{type:"text",className:"form-input",placeholder:"Je voornaam",value:e,onChange:U=>r(U.target.value)})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Achternaam"}),w.jsx("input",{type:"text",className:"form-input",placeholder:"Je achternaam",value:o,onChange:U=>u(U.target.value)})]})]}),w.jsxs("div",{className:"grid-2-cols",style:{marginTop:"1rem"},children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Geboortedatum"}),w.jsx("input",{type:"date",className:"form-input",value:v,onChange:U=>y(U.target.value)})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Telefoonnummer"}),w.jsx("input",{type:"tel",className:"form-input",placeholder:"06 12345678",value:f,onChange:U=>g(U.target.value)})]})]}),w.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[w.jsx("label",{className:"form-label",children:"IBAN (voor betalingen)"}),w.jsx("input",{type:"text",className:"form-input",placeholder:"NL00 RABO 0123 4567 89",value:ut,onChange:U=>st(U.target.value)})]})]}),w.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),w.jsx(Bd,{title:"Rijbewijs",icon:w.jsx("div",{style:{fontSize:"1.2rem"},children:""}),children:w.jsxs("div",{className:"grid-2-cols",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Rijbewijsnummer"}),w.jsx("input",{type:"text",className:"form-input",placeholder:"1234567890",value:S,onChange:U=>C(U.target.value)})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Geldig tot"}),w.jsx("input",{type:"date",className:"form-input",value:N,onChange:U=>M(U.target.value)})]})]})}),w.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),w.jsx(Bd,{title:"Noodcontact",icon:w.jsx("div",{style:{fontSize:"1.2rem"},children:""}),children:w.jsxs("div",{className:"grid-2-cols",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Naam Contactpersoon"}),w.jsx("input",{type:"text",className:"form-input",placeholder:"Naam",value:$,onChange:U=>K(U.target.value)})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{className:"form-label",children:"Telefoonnummer"}),w.jsx("input",{type:"tel",className:"form-input",placeholder:"06 12345678",value:W,onChange:U=>ft(U.target.value)})]})]})}),w.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),w.jsxs(Bd,{title:"Favoriete Locaties",icon:w.jsx("div",{style:{width:"20px",height:"20px"},children:w.jsx(Cv,{})}),children:[w.jsxs("div",{className:"form-group",children:[w.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[w.jsx("span",{style:{color:"var(--primary-600)"},children:w.jsx(PC,{})}),w.jsx("span",{children:"Thuisadres"})]}),w.jsx(jm,{label:"",value:(xt==null?void 0:xt.address)||"",onChange:U=>Mt(z=>({...z,address:U,label:"Thuis"})),onSelect:U=>{Mt({address:`${U.street} ${U.houseNumber}, ${U.city}`,latitude:U.latitude,longitude:U.longitude,label:"Thuis"})},placeholder:"Bijv. Kerkstraat 1, Amsterdam"})]}),w.jsxs("div",{className:"form-group",style:{marginTop:"1.5rem"},children:[w.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[w.jsx("span",{style:{color:"var(--primary-600)"},children:w.jsx(LC,{})}),w.jsx("span",{children:"Werkadres"})]}),w.jsx(jm,{label:"",value:(Lt==null?void 0:Lt.address)||"",onChange:U=>D(z=>({...z,address:U,label:"Werk"})),onSelect:U=>{D({address:`${U.street} ${U.houseNumber}, ${U.city}`,latitude:U.latitude,longitude:U.longitude,label:"Werk"})},placeholder:"Bijv. Stationsplein 5, Utrecht"})]})]}),w.jsx("style",{children:`
                            .grid-2-cols {
                                display: grid;
                                grid-template-columns: 1fr 1fr;
                                gap: 1.5rem;
                            }
                            @media (max-width: 640px) {
                                .grid-2-cols {
                                    grid-template-columns: 1fr;
                                }
                            }
                        `}),w.jsxs("div",{style:{marginTop:"3rem",display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[w.jsx(lr,{to:"/dashboard",style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"white",border:"1px solid #e5e7eb",color:"#374151",textDecoration:"none",fontWeight:"600",transition:"background 0.2s"},children:"Annuleren"}),w.jsx("button",{type:"submit",disabled:t,className:"btn-primary",style:{padding:"0.75rem 2rem",borderRadius:"12px",fontWeight:"700",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:t?"Opslaan...":"Wijzigingen Opslaan"})]})]}),w.jsx("div",{style:{marginTop:"3rem",paddingTop:"2rem",borderTop:"1px solid #fee2e2",display:"flex",justifyContent:"center"},children:w.jsx(lr,{to:"/delete-account",style:{color:"#dc2626",fontWeight:"600",fontSize:"0.95rem",textDecoration:"none",padding:"0.75rem 1.5rem",borderRadius:"12px",background:"#fef2f2",border:"1px solid #fee2e2",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"8px"},children:" Account definitief verwijderen"})})]})]})]})}),g3=qr(()=>{const n=su(),{isLoading:t,error:e}=Wn,[r,o]=Z.useState(!1),u=()=>{o(!0)},f=async()=>{try{await Wn.deleteAccount(),n("/login")}catch{o(!1)}};return w.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",padding:"2rem 1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:[w.jsx(Qy,{}),w.jsx(Xy,{isOpen:r,onClose:()=>o(!1),title:"Weet je het zeker?",footer:w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>o(!1),style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.1)",fontWeight:"600",cursor:"pointer",color:"white",transition:"background 0.2s"},children:"Annuleren"}),w.jsx("button",{onClick:f,style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"#dc2626",border:"none",fontWeight:"600",cursor:"pointer",color:"white"},children:"Ja, verwijder alles"})]}),children:w.jsx("p",{children:"Dit is definitief. Al je gegevens worden direct gewist en de actie kan niet ongedaan worden gemaakt."})}),w.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderRadius:"24px",padding:"3rem 2rem",maxWidth:"500px",width:"100%",position:"relative",zIndex:10,textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[w.jsx("div",{style:{fontSize:"4rem",marginBottom:"1.5rem"},children:""}),w.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",color:"#dc2626",marginBottom:"1rem"},children:"Account Verwijderen"}),w.jsxs("p",{style:{color:"#4b5563",marginBottom:"1.5rem",lineHeight:"1.6"},children:["Je staat op het punt om je account permanent te verwijderen.",w.jsx("br",{}),w.jsx("br",{}),w.jsx("strong",{children:"Wat gebeurt er?"})]}),w.jsxs("ul",{style:{textAlign:"left",marginTop:"0.5rem",marginBottom:"1rem",color:"#4b5563",paddingLeft:"1.5rem"},children:[w.jsx("li",{children:" Je profiel en privgegevens worden gewist."}),w.jsx("li",{children:" Je kunt niet meer inloggen."}),w.jsxs("li",{children:[" Je rithistorie wordt ",w.jsx("span",{style:{color:"#059669",fontWeight:600},children:"geanonimiseerd bewaard"})," voor statistieken."]})]}),e&&w.jsx("div",{style:{background:"#fee2e2",color:"#991b1b",padding:"1rem",borderRadius:"12px",marginBottom:"1.5rem",fontSize:"0.9rem"},children:e}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[w.jsx("button",{onClick:u,disabled:t,style:{background:"#dc2626",color:"white",border:"none",padding:"1rem",borderRadius:"12px",fontWeight:"700",fontSize:"1rem",cursor:t?"not-allowed":"pointer",opacity:t?.7:1,transition:"all 0.2s"},children:t?"Bezig met verwijderen...":"Ja, verwijder mijn account"}),w.jsx("button",{onClick:()=>n("/dashboard"),style:{background:"transparent",color:"#4b5563",border:"1px solid #e5e7eb",padding:"1rem",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"Annuleren, breng me terug"})]})]})]})}),_3=qr(()=>{const{cars:n,chargingPoints:t,isLoading:e}=nc,[r,o]=Z.useState(!1),[u,f]=Z.useState({make:"",model:"",seats:"",luggageCapacity:"",fuelType:_c.EV,provider:gc.DUMMY,pricePerHourEstimate:""}),[g,v]=Z.useState(!1),[y,S]=Z.useState({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"});Z.useEffect(()=>{nc.loadData()},[]);const C=async M=>{M.preventDefault(),await nc.addCar({...u,seats:Number(u.seats),luggageCapacity:Number(u.luggageCapacity),pricePerHourEstimate:Number(u.pricePerHourEstimate)}),o(!1),f({make:"",model:"",seats:"",luggageCapacity:"",fuelType:_c.EV,provider:gc.DUMMY,pricePerHourEstimate:""})},N=async M=>{M.preventDefault(),await nc.addChargingPoint({...y,latitude:Number(y.latitude),longitude:Number(y.longitude)}),v(!1),S({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"})};return w.jsxs("div",{className:"admin-panel",children:[w.jsx("h2",{className:"mb-4",children:"Admin Beheer"}),e&&w.jsx("p",{children:"Laden..."}),w.jsxs("section",{className:"admin-section card",children:[w.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[w.jsx("h3",{style:{margin:0},children:"Auto's Beheren"}),w.jsx("button",{className:"cta-button",onClick:()=>o(!r),children:r?"Annuleren":"+ Auto Toevoegen"})]}),r&&w.jsxs("form",{className:"admin-form mb-4",onSubmit:C,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Merk"}),w.jsx("input",{type:"text",placeholder:"Bijv. Tesla",value:u.make,onChange:M=>f({...u,make:M.target.value}),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Model"}),w.jsx("input",{type:"text",placeholder:"Bijv. Model Y",value:u.model,onChange:M=>f({...u,model:M.target.value}),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Aantal Stoelen"}),w.jsx("input",{type:"number",placeholder:"5",value:u.seats,onChange:M=>f({...u,seats:M.target.value}),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Bagageruimte"}),w.jsx("input",{type:"number",placeholder:"2",value:u.luggageCapacity,onChange:M=>f({...u,luggageCapacity:M.target.value}),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Brandstof / Type"}),w.jsx("select",{value:u.fuelType,onChange:M=>f({...u,fuelType:M.target.value}),children:Object.values(_c).map(M=>w.jsx("option",{value:M,children:M},M))})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Prijs per uur ()"}),w.jsx("input",{type:"number",placeholder:"Prijs per uur ()",value:u.pricePerHourEstimate,onChange:M=>f({...u,pricePerHourEstimate:M.target.value}),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Provider"}),w.jsx("select",{value:u.provider,onChange:M=>f({...u,provider:M.target.value}),children:Object.values(gc).map(M=>w.jsx("option",{value:M,children:M},M))})]}),w.jsx("button",{type:"submit",children:"Opslaan"})]}),w.jsx("div",{style:{overflowX:"auto"},children:w.jsxs("table",{className:"admin-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Merk/Model"}),w.jsx("th",{children:"Provider"}),w.jsx("th",{children:"Prijs/u"}),w.jsx("th",{children:"Acties"})]})}),w.jsx("tbody",{children:n.map(M=>w.jsxs("tr",{children:[w.jsxs("td",{children:[M.make," ",M.model," (",M.fuelType,")"]}),w.jsx("td",{children:M.provider}),w.jsxs("td",{children:["",M.pricePerHourEstimate]}),w.jsx("td",{children:w.jsx("button",{onClick:()=>nc.deleteCar(M.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})})]},M.id))})]})})]}),w.jsxs("section",{className:"admin-section card",children:[w.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[w.jsx("h3",{style:{margin:0},children:"Laadpunten Beheren"}),w.jsx("button",{className:"cta-button",onClick:()=>v(!g),children:g?"Annuleren":"+ Laadpunt Toevoegen"})]}),g&&w.jsxs("form",{className:"admin-form mb-4",onSubmit:N,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Naam"}),w.jsx("input",{type:"text",placeholder:"Bijv. Fastned Rotterdam",value:y.name,onChange:M=>S({...y,name:M.target.value}),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Status"}),w.jsxs("select",{value:y.status,onChange:M=>S({...y,status:M.target.value}),children:[w.jsx("option",{value:"AVAILABLE",children:"Beschikbaar"}),w.jsx("option",{value:"OCCUPIED",children:"Bezet"}),w.jsx("option",{value:"UNKNOWN",children:"Onbekend"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Latitude"}),w.jsx("input",{type:"number",placeholder:"52.08",step:"any",value:y.latitude,onChange:M=>S({...y,latitude:M.target.value}),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Longitude"}),w.jsx("input",{type:"number",placeholder:"4.32",step:"any",value:y.longitude,onChange:M=>S({...y,longitude:M.target.value}),required:!0})]}),w.jsx("button",{type:"submit",children:"Opslaan"})]}),w.jsx("ul",{className:"admin-list",style:{listStyle:"none",padding:0},children:t.map(M=>w.jsxs("li",{className:"list-item",style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[w.jsxs("span",{children:[M.name," (",M.status,") - [",M.latitude.toFixed(3),", ",M.longitude.toFixed(3),"]"]}),w.jsx("button",{onClick:()=>nc.deleteChargingPoint(M.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})]},M.id))})]})]})}),v3=qr(()=>{const n=su(),{user:t,isAuthenticated:e}=Wn,r=()=>{Wn.logout(),n("/")};return w.jsx("nav",{className:"navbar",children:w.jsxs("div",{className:"navbar-inner",children:[w.jsx("div",{className:"navbar-brand",children:"Onze Bedrijf Mobility"}),w.jsx("div",{className:"navbar-menu",children:w.jsxs("div",{className:"navbar-links",children:[!e&&w.jsx(us,{to:"/",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Home"}),e&&(t==null?void 0:t.role)==="customer"&&w.jsxs(w.Fragment,{children:[w.jsx(us,{to:"/dashboard",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Home"}),w.jsx(us,{to:"/request",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Reis aanvragen"}),w.jsx(us,{to:"/profile",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Profiel"})]}),e&&(t==null?void 0:t.role)==="guest"&&w.jsxs(w.Fragment,{children:[w.jsx(us,{to:"/dashboard",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Home"}),w.jsx(us,{to:"/request",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Reis aanvragen"})]}),e&&(t==null?void 0:t.role)==="admin"&&w.jsxs(w.Fragment,{children:[w.jsx(us,{to:"/dashboard",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Dashboard"}),w.jsx(us,{to:"/admin",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Admin Panel"})]})]})}),w.jsx("div",{className:"navbar-end",children:e?w.jsx("button",{onClick:r,className:"logout-btn",children:"Uitloggen"}):w.jsxs("div",{className:"navbar-links",children:[w.jsx(us,{to:"/login",className:"nav-item",children:"Inloggen"}),w.jsx(us,{to:"/register",className:"nav-item",children:"Registreren"})]})})]})})});function y3(){return w.jsx(OI,{basename:"/tidal-mare",children:w.jsxs("div",{className:"app-shell",children:[w.jsx(v3,{}),w.jsx("main",{className:"app-content",children:w.jsx("div",{className:"app-container",children:w.jsxs(oI,{children:[w.jsx(Nr,{path:"/",element:w.jsx(zI,{})}),w.jsx(Nr,{path:"/login",element:w.jsx(VV,{})}),w.jsx(Nr,{path:"/register",element:w.jsx(zV,{})}),w.jsxs(Nr,{element:w.jsx(pS,{roles:["customer","admin","guest"]}),children:[w.jsx(Nr,{path:"/dashboard",element:w.jsx(UV,{})}),w.jsx(Nr,{path:"/request",element:w.jsx(f3,{})}),w.jsx(Nr,{path:"/booking/:id",element:w.jsx(m3,{})}),w.jsx(Nr,{path:"/profile",element:w.jsx(p3,{})}),w.jsx(Nr,{path:"/delete-account",element:w.jsx(g3,{})})]}),w.jsx(Nr,{element:w.jsx(pS,{roles:["admin"]}),children:w.jsx(Nr,{path:"/admin",element:w.jsx(_3,{})})})]})})})]})})}cR.createRoot(document.getElementById("root")).render(w.jsx(Z.StrictMode,{children:w.jsx(y3,{})}));
