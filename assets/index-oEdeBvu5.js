var $2=Object.defineProperty;var J2=(n,t,e)=>t in n?$2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ee=(n,t,e)=>J2(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function ES(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var r_={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function tR(){if(GE)return Sh;GE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Sh.Fragment=t,Sh.jsx=e,Sh.jsxs=e,Sh}var ZE;function eR(){return ZE||(ZE=1,r_.exports=tR()),r_.exports}var E=eR(),s_={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WE;function nR(){if(WE)return Yt;WE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.iterator;function M(R){return R===null||typeof R!="object"?null:(R=N&&R[N]||R["@@iterator"],typeof R=="function"?R:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,K={};function ht(R,Q,ot){this.props=R,this.context=Q,this.refs=K,this.updater=ot||H}ht.prototype.isReactComponent={},ht.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},ht.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Et(){}Et.prototype=ht.prototype;function lt(R,Q,ot){this.props=R,this.context=Q,this.refs=K,this.updater=ot||H}var xt=lt.prototype=new Et;xt.constructor=lt,Y(xt,ht.prototype),xt.isPureReactComponent=!0;var Nt=Array.isArray;function Dt(){}var k={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function j(R,Q,ot){var ut=ot.ref;return{$$typeof:n,type:R,key:Q,ref:ut!==void 0?ut:null,props:ot}}function G(R,Q){return j(R.type,Q,R.props)}function F(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function U(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ot){return Q[ot]})}var z=/\/+/g;function se(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?U(""+R.key):Q.toString(36)}function Ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Dt,Dt):(R.status="pending",R.then(function(Q){R.status==="pending"&&(R.status="fulfilled",R.value=Q)},function(Q){R.status==="pending"&&(R.status="rejected",R.reason=Q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function st(R,Q,ot,ut,gt){var _t=typeof R;(_t==="undefined"||_t==="boolean")&&(R=null);var bt=!1;if(R===null)bt=!0;else switch(_t){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(R.$$typeof){case n:case t:bt=!0;break;case S:return bt=R._init,st(bt(R._payload),Q,ot,ut,gt)}}if(bt)return gt=gt(R),bt=ut===""?"."+se(R,0):ut,Nt(gt)?(ot="",bt!=null&&(ot=bt.replace(z,"$&/")+"/"),st(gt,Q,ot,"",function(ve){return ve})):gt!=null&&(F(gt)&&(gt=G(gt,ot+(gt.key==null||R&&R.key===gt.key?"":(""+gt.key).replace(z,"$&/")+"/")+bt)),Q.push(gt)),1;bt=0;var Pt=ut===""?".":ut+":";if(Nt(R))for(var Bt=0;Bt<R.length;Bt++)ut=R[Bt],_t=Pt+se(ut,Bt),bt+=st(ut,Q,ot,_t,gt);else if(Bt=M(R),typeof Bt=="function")for(R=Bt.call(R),Bt=0;!(ut=R.next()).done;)ut=ut.value,_t=Pt+se(ut,Bt++),bt+=st(ut,Q,ot,_t,gt);else if(_t==="object"){if(typeof R.then=="function")return st(Ze(R),Q,ot,ut,gt);throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return bt}function Tt(R,Q,ot){if(R==null)return R;var ut=[],gt=0;return st(R,ut,"","",function(_t){return Q.call(ot,_t,gt++)}),ut}function yt(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(ot){(R._status===0||R._status===-1)&&(R._status=1,R._result=ot)},function(ot){(R._status===0||R._status===-1)&&(R._status=2,R._result=ot)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},q={map:Tt,forEach:function(R,Q,ot){Tt(R,function(){Q.apply(this,arguments)},ot)},count:function(R){var Q=0;return Tt(R,function(){Q++}),Q},toArray:function(R){return Tt(R,function(Q){return Q})||[]},only:function(R){if(!F(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Yt.Activity=C,Yt.Children=q,Yt.Component=ht,Yt.Fragment=e,Yt.Profiler=o,Yt.PureComponent=lt,Yt.StrictMode=r,Yt.Suspense=v,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},Yt.cache=function(R){return function(){return R.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(R,Q,ot){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ut=Y({},R.props),gt=R.key;if(Q!=null)for(_t in Q.key!==void 0&&(gt=""+Q.key),Q)!D.call(Q,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Q.ref===void 0||(ut[_t]=Q[_t]);var _t=arguments.length-2;if(_t===1)ut.children=ot;else if(1<_t){for(var bt=Array(_t),Pt=0;Pt<_t;Pt++)bt[Pt]=arguments[Pt+2];ut.children=bt}return j(R.type,gt,ut)},Yt.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Yt.createElement=function(R,Q,ot){var ut,gt={},_t=null;if(Q!=null)for(ut in Q.key!==void 0&&(_t=""+Q.key),Q)D.call(Q,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(gt[ut]=Q[ut]);var bt=arguments.length-2;if(bt===1)gt.children=ot;else if(1<bt){for(var Pt=Array(bt),Bt=0;Bt<bt;Bt++)Pt[Bt]=arguments[Bt+2];gt.children=Pt}if(R&&R.defaultProps)for(ut in bt=R.defaultProps,bt)gt[ut]===void 0&&(gt[ut]=bt[ut]);return j(R,_t,gt)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(R){return{$$typeof:g,render:R}},Yt.isValidElement=F,Yt.lazy=function(R){return{$$typeof:S,_payload:{_status:-1,_result:R},_init:yt}},Yt.memo=function(R,Q){return{$$typeof:y,type:R,compare:Q===void 0?null:Q}},Yt.startTransition=function(R){var Q=k.T,ot={};k.T=ot;try{var ut=R(),gt=k.S;gt!==null&&gt(ot,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Dt,re)}catch(_t){re(_t)}finally{Q!==null&&ot.types!==null&&(Q.types=ot.types),k.T=Q}},Yt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Yt.use=function(R){return k.H.use(R)},Yt.useActionState=function(R,Q,ot){return k.H.useActionState(R,Q,ot)},Yt.useCallback=function(R,Q){return k.H.useCallback(R,Q)},Yt.useContext=function(R){return k.H.useContext(R)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(R,Q){return k.H.useDeferredValue(R,Q)},Yt.useEffect=function(R,Q){return k.H.useEffect(R,Q)},Yt.useEffectEvent=function(R){return k.H.useEffectEvent(R)},Yt.useId=function(){return k.H.useId()},Yt.useImperativeHandle=function(R,Q,ot){return k.H.useImperativeHandle(R,Q,ot)},Yt.useInsertionEffect=function(R,Q){return k.H.useInsertionEffect(R,Q)},Yt.useLayoutEffect=function(R,Q){return k.H.useLayoutEffect(R,Q)},Yt.useMemo=function(R,Q){return k.H.useMemo(R,Q)},Yt.useOptimistic=function(R,Q){return k.H.useOptimistic(R,Q)},Yt.useReducer=function(R,Q,ot){return k.H.useReducer(R,Q,ot)},Yt.useRef=function(R){return k.H.useRef(R)},Yt.useState=function(R){return k.H.useState(R)},Yt.useSyncExternalStore=function(R,Q,ot){return k.H.useSyncExternalStore(R,Q,ot)},Yt.useTransition=function(){return k.H.useTransition()},Yt.version="19.2.1",Yt}var KE;function Vm(){return KE||(KE=1,s_.exports=nR()),s_.exports}var W=Vm();const Ko=ES(W);var a_={exports:{}},xh={},o_={exports:{}},l_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function iR(){return YE||(YE=1,(function(n){function t(st,Tt){var yt=st.length;st.push(Tt);t:for(;0<yt;){var re=yt-1>>>1,q=st[re];if(0<o(q,Tt))st[re]=Tt,st[yt]=q,yt=re;else break t}}function e(st){return st.length===0?null:st[0]}function r(st){if(st.length===0)return null;var Tt=st[0],yt=st.pop();if(yt!==Tt){st[0]=yt;t:for(var re=0,q=st.length,R=q>>>1;re<R;){var Q=2*(re+1)-1,ot=st[Q],ut=Q+1,gt=st[ut];if(0>o(ot,yt))ut<q&&0>o(gt,ot)?(st[re]=gt,st[ut]=yt,re=ut):(st[re]=ot,st[Q]=yt,re=Q);else if(ut<q&&0>o(gt,yt))st[re]=gt,st[ut]=yt,re=ut;else break t}}return Tt}function o(st,Tt){var yt=st.sortIndex-Tt.sortIndex;return yt!==0?yt:st.id-Tt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var v=[],y=[],S=1,C=null,N=3,M=!1,H=!1,Y=!1,K=!1,ht=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function xt(st){for(var Tt=e(y);Tt!==null;){if(Tt.callback===null)r(y);else if(Tt.startTime<=st)r(y),Tt.sortIndex=Tt.expirationTime,t(v,Tt);else break;Tt=e(y)}}function Nt(st){if(Y=!1,xt(st),!H)if(e(v)!==null)H=!0,Dt||(Dt=!0,U());else{var Tt=e(y);Tt!==null&&Ze(Nt,Tt.startTime-st)}}var Dt=!1,k=-1,D=5,j=-1;function G(){return K?!0:!(n.unstable_now()-j<D)}function F(){if(K=!1,Dt){var st=n.unstable_now();j=st;var Tt=!0;try{t:{H=!1,Y&&(Y=!1,Et(k),k=-1),M=!0;var yt=N;try{e:{for(xt(st),C=e(v);C!==null&&!(C.expirationTime>st&&G());){var re=C.callback;if(typeof re=="function"){C.callback=null,N=C.priorityLevel;var q=re(C.expirationTime<=st);if(st=n.unstable_now(),typeof q=="function"){C.callback=q,xt(st),Tt=!0;break e}C===e(v)&&r(v),xt(st)}else r(v);C=e(v)}if(C!==null)Tt=!0;else{var R=e(y);R!==null&&Ze(Nt,R.startTime-st),Tt=!1}}break t}finally{C=null,N=yt,M=!1}Tt=void 0}}finally{Tt?U():Dt=!1}}}var U;if(typeof lt=="function")U=function(){lt(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,se=z.port2;z.port1.onmessage=F,U=function(){se.postMessage(null)}}else U=function(){ht(F,0)};function Ze(st,Tt){k=ht(function(){st(n.unstable_now())},Tt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(st){st.callback=null},n.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<st?Math.floor(1e3/st):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(st){switch(N){case 1:case 2:case 3:var Tt=3;break;default:Tt=N}var yt=N;N=Tt;try{return st()}finally{N=yt}},n.unstable_requestPaint=function(){K=!0},n.unstable_runWithPriority=function(st,Tt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var yt=N;N=st;try{return Tt()}finally{N=yt}},n.unstable_scheduleCallback=function(st,Tt,yt){var re=n.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?re+yt:re):yt=re,st){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=yt+q,st={id:S++,callback:Tt,priorityLevel:st,startTime:yt,expirationTime:q,sortIndex:-1},yt>re?(st.sortIndex=yt,t(y,st),e(v)===null&&st===e(y)&&(Y?(Et(k),k=-1):Y=!0,Ze(Nt,yt-re))):(st.sortIndex=q,t(v,st),H||M||(H=!0,Dt||(Dt=!0,U()))),st},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(st){var Tt=N;return function(){var yt=N;N=Tt;try{return st.apply(this,arguments)}finally{N=yt}}}})(l_)),l_}var QE;function rR(){return QE||(QE=1,o_.exports=iR()),o_.exports}var u_={exports:{}},ri={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function sR(){if(XE)return ri;XE=1;var n=Vm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,y,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:v,containerInfo:y,implementation:S}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ri.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ri.createPortal=function(v,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(v,y,null,S)},ri.flushSync=function(v){var y=f.T,S=r.p;try{if(f.T=null,r.p=2,v)return v()}finally{f.T=y,r.p=S,r.d.f()}},ri.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},ri.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},ri.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var S=y.as,C=g(S,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:N,fetchPriority:M}):S==="script"&&r.d.X(v,{crossOrigin:C,integrity:N,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ri.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},ri.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,C=g(S,y.crossOrigin);r.d.L(v,S,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ri.preloadModule=function(v,y){if(typeof v=="string")if(y){var S=g(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},ri.requestFormReset=function(v){r.d.r(v)},ri.unstable_batchedUpdates=function(v,y){return v(y)},ri.useFormState=function(v,y,S){return f.H.useFormState(v,y,S)},ri.useFormStatus=function(){return f.H.useHostTransitionStatus()},ri.version="19.2.1",ri}var $E;function wS(){if($E)return u_.exports;$E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),u_.exports=sR(),u_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function aR(){if(JE)return xh;JE=1;var n=rR(),t=Vm(),e=wS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function f(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function v(i){if(u(i)!==i)throw Error(r(188))}function y(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return v(p),i;if(_===h)return v(p),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=p,h=_;else{for(var x=!1,O=p.child;O;){if(O===l){x=!0,l=p,h=_;break}if(O===h){x=!0,h=p,l=_;break}O=O.sibling}if(!x){for(O=_.child;O;){if(O===l){x=!0,l=_,h=p;break}if(O===h){x=!0,h=_,l=p;break}O=O.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function S(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=S(i),s!==null)return s;i=i.sibling}return null}var C=Object.assign,N=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Nt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Y:return"Fragment";case ht:return"Profiler";case K:return"StrictMode";case Nt:return"Suspense";case Dt:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case H:return"Portal";case lt:return i.displayName||"Context";case Et:return(i._context.displayName||"Context")+".Consumer";case xt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return s=i.displayName||null,s!==null?s:se(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return se(i(s))}catch{}}return null}var Ze=Array.isArray,st=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},re=[],q=-1;function R(i){return{current:i}}function Q(i){0>q||(i.current=re[q],re[q]=null,q--)}function ot(i,s){q++,re[q]=i.current,i.current=s}var ut=R(null),gt=R(null),_t=R(null),bt=R(null);function Pt(i,s){switch(ot(_t,s),ot(gt,i),ot(ut,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?mE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=mE(s),i=pE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(ut),ot(ut,i)}function Bt(){Q(ut),Q(gt),Q(_t)}function ve(i){i.memoizedState!==null&&ot(bt,i);var s=ut.current,l=pE(s,i.type);s!==l&&(ot(gt,i),ot(ut,l))}function ce(i){gt.current===i&&(Q(ut),Q(gt)),bt.current===i&&(Q(bt),bh._currentValue=yt)}var _e,je;function Wt(i){if(_e===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);_e=s&&s[1]||"",je=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+i+je}var tn=!1;function ln(i,s){if(!i||tn)return"";tn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(at){var it=at}Reflect.construct(i,[],mt)}else{try{mt.call()}catch(at){it=at}i.call(mt.prototype)}}else{try{throw Error()}catch(at){it=at}(mt=i())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(at){if(at&&it&&typeof at.stack=="string")return[at.stack,it.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),x=_[0],O=_[1];if(x&&O){var B=x.split(`
`),et=O.split(`
`);for(p=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;p<et.length&&!et[p].includes("DetermineComponentFrameRoot");)p++;if(h===B.length||p===et.length)for(h=B.length-1,p=et.length-1;1<=h&&0<=p&&B[h]!==et[p];)p--;for(;1<=h&&0<=p;h--,p--)if(B[h]!==et[p]){if(h!==1||p!==1)do if(h--,p--,0>p||B[h]!==et[p]){var ct=`
`+B[h].replace(" at new "," at ");return i.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",i.displayName)),ct}while(1<=h&&0<=p);break}}}finally{tn=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Wt(l):""}function mn(i,s){switch(i.tag){case 26:case 27:case 5:return Wt(i.type);case 16:return Wt("Lazy");case 13:return i.child!==s&&s!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return ln(i.type,!1);case 11:return ln(i.type.render,!1);case 1:return ln(i.type,!0);case 31:return Wt("Activity");default:return""}}function bn(i){try{var s="",l=null;do s+=mn(i,l),l=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ne=Object.prototype.hasOwnProperty,we=n.unstable_scheduleCallback,yi=n.unstable_cancelCallback,Qa=n.unstable_shouldYield,ra=n.unstable_requestPaint,En=n.unstable_now,Gr=n.unstable_getCurrentPriorityLevel,hr=n.unstable_ImmediatePriority,ws=n.unstable_UserBlockingPriority,Bi=n.unstable_NormalPriority,Xa=n.unstable_LowPriority,Ts=n.unstable_IdlePriority,Zr=n.log,$a=n.unstable_setDisableYieldValue,Xn=null,pn=null;function ui(i){if(typeof Zr=="function"&&$a(i),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Xn,i)}catch{}}var en=Math.clz32?Math.clz32:pu,Ss=Math.log,Ja=Math.LN2;function pu(i){return i>>>=0,i===0?32:31-(Ss(i)/Ja|0)|0}var Ui=256,xs=262144,nn=4194304;function fr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function dr(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var p=0,_=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var O=h&134217727;return O!==0?(h=O&~_,h!==0?p=fr(h):(x&=O,x!==0?p=fr(x):l||(l=O&~i,l!==0&&(p=fr(l))))):(O=h&~_,O!==0?p=fr(O):x!==0?p=fr(x):l||(l=h&~i,l!==0&&(p=fr(l)))),p===0?0:s!==0&&s!==p&&(s&_)===0&&(_=p&-p,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:p}function Fi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Bc(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var i=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),i}function mr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Wr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Uc(i,s,l,h,p,_){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,B=i.expirationTimes,et=i.hiddenUpdates;for(l=x&~l;0<l;){var ct=31-en(l),mt=1<<ct;O[ct]=0,B[ct]=-1;var it=et[ct];if(it!==null)for(et[ct]=null,ct=0;ct<it.length;ct++){var at=it[ct];at!==null&&(at.lane&=-536870913)}l&=~mt}h!==0&&sa(i,h,0),_!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=_&~(x&~s))}function sa(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-en(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function ol(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-en(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}function ll(i,s){var l=s&-s;return l=(l&42)!==0?1:Mn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Mn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ot(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ul(){var i=Tt.p;return i!==0?i:(i=window.event,i===void 0?32:VE(i.type))}function bi(i,s){var l=Tt.p;try{return Tt.p=i,s()}finally{Tt.p=l}}var Ei=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ei,un="__reactProps$"+Ei,Hi="__reactContainer$"+Ei,qi="__reactEvents$"+Ei,_u="__reactListeners$"+Ei,vu="__reactHandles$"+Ei,yu="__reactResources$"+Ei,pr="__reactMarker$"+Ei;function to(i){delete i[rn],delete i[un],delete i[qi],delete i[_u],delete i[vu]}function Gi(i){var s=i[rn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Hi]||l[rn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=wE(i);i!==null;){if(l=i[rn])return l;i=wE(i)}return s}i=l,l=i.parentNode}return null}function wi(i){if(i=i[rn]||i[Hi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Dn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function gr(i){var s=i[yu];return s||(s=i[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function cn(i){i[pr]=!0}var cl=new Set,hl={};function _r(i,s){Ti(i,s),Ti(i+"Capture",s)}function Ti(i,s){for(hl[i]=s,i=0;i<s.length;i++)cl.add(s[i])}var Kr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eo={},no={};function As(i){return Ne.call(no,i)?!0:Ne.call(eo,i)?!1:Kr.test(i)?no[i]=!0:(eo[i]=!0,!1)}function ie(i,s,l){if(As(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ae(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function We(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}function Ke(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ci(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function aa(i,s,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,_=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(x){l=""+x,_.call(this,x)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Rt(i){if(!i._valueTracker){var s=ci(i)?"checked":"value";i._valueTracker=aa(i,s,""+i[s])}}function Le(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=ci(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Si(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var vr=/[\n"\\]/g;function Ue(i){return i.replace(vr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function io(i,s,l,h,p,_,x,O){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Ke(s)):i.value!==""+Ke(s)&&(i.value=""+Ke(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?Zi(i,x,Ke(s)):l!=null?Zi(i,x,Ke(l)):h!=null&&i.removeAttribute("value"),p==null&&_!=null&&(i.defaultChecked=!!_),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+Ke(O):i.removeAttribute("name")}function oa(i,s,l,h,p,_,x,O){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Rt(i);return}l=l!=null?""+Ke(l):"",s=s!=null?""+Ke(s):l,O||s===i.value||(i.value=s),i.defaultValue=s}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=O?i.checked:!!h,i.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),Rt(i)}function Zi(i,s,l){s==="number"&&Si(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Me(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ke(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function yr(i,s,l){if(s!=null&&(s=""+Ke(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Ke(l):""}function xi(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(Ze(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=Ke(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Rt(i)}function wn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||ro.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function la(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in s)h=s[p],s.hasOwnProperty(p)&&l[p]!==h&&Yr(i,p,h)}else for(var _ in s)s.hasOwnProperty(_)&&Yr(i,_,s[_])}function Cs(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ua=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(i){return br.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $n(){}var so=null;function Jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Is=null,Ut=null;function kn(i){var s=wi(i);if(s&&(i=s.stateNode)){var l=i[un]||null;t:switch(i=s.stateNode,s.type){case"input":if(io(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ue(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=h[un]||null;if(!p)throw Error(r(90));io(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&Le(h)}break t;case"textarea":yr(i,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&Me(i,!!l.multiple,s,!1)}}}var Te=!1;function Qr(i,s,l){if(Te)return i(s,l);Te=!0;try{var h=i(s);return h}finally{if(Te=!1,(Is!==null||Ut!==null)&&(ld(),Is&&(s=Is,i=Ut,Ut=Is=null,kn(s),i)))for(s=0;s<i.length;s++)kn(i[s])}}function hi(i,s){var l=i.stateNode;if(l===null)return null;var h=l[un]||null;if(h===null)return null;l=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xr=!1;if(ti)try{var he={};Object.defineProperty(he,"passive",{get:function(){Xr=!0}}),window.addEventListener("test",he,he),window.removeEventListener("test",he,he)}catch{Xr=!1}var Ai=null,$r=null,Ye=null;function Wi(){if(Ye)return Ye;var i,s=$r,l=s.length,h,p="value"in Ai?Ai.value:Ai.textContent,_=p.length;for(i=0;i<l&&s[i]===p[i];i++);var x=l-i;for(h=1;h<=x&&s[l-h]===p[_-h];h++);return Ye=p.slice(i,1<h?1-h:void 0)}function Os(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Er(){return!0}function Ki(){return!1}function Tn(i){function s(l,h,p,_,x){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Er:Ki,this.isPropagationStopped=Ki,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),s}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Tn(Yi),Jr=C({},Yi,{view:0,detail:0}),ne=Tn(Jr),Ns,jn,ei,ca=C({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ei&&(ei&&i.type==="mousemove"?(Ns=i.screenX-ei.screenX,jn=i.screenY-ei.screenY):jn=Ns=0,ei=i),Ns)},movementY:function(i){return"movementY"in i?i.movementY:jn}}),fl=Tn(ca),ts=C({},ca,{dataTransfer:0}),bu=Tn(ts),dl=C({},Jr,{relatedTarget:0}),ha=Tn(dl),ml=C({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),ao=Tn(ml),oo=C({},Yi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fi=Tn(oo),Eu=C({},Yi,{data:0}),Qi=Tn(Eu),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lo(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=gl[i])?!!s[i]:!1}function Ps(){return lo}var Vn=C({},Jr,{key:function(i){if(i.key){var s=Xi[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Os(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(i){return i.type==="keypress"?Os(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Os(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_l=Tn(Vn),wu=C({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Tn(wu),d=C({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),w=Tn(d),A=C({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=Tn(A),J=C({},ca,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=Tn(J),wt=C({},Yi,{newState:0,oldState:0}),Gt=Tn(wt),ye=[9,13,27,32],be=ti&&"CompositionEvent"in window,Fe=null;ti&&"documentMode"in document&&(Fe=document.documentMode);var Ci=ti&&"TextEvent"in window&&!Fe,Ri=ti&&(!be||Fe&&8<Fe&&11>=Fe),di=" ",$i=!1;function fa(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var uo=!1;function Ji(i,s){switch(i){case"compositionend":return da(s);case"keypress":return s.which!==32?null:($i=!0,di);case"textInput":return i=s.data,i===di&&$i?null:i;default:return null}}function co(i,s){if(uo)return i==="compositionend"||!be&&fa(i,s)?(i=Wi(),Ye=$r=Ai=null,uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ri&&s.locale!=="ko"?null:s.data;default:return null}}var wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!wp[i.type]:s==="textarea"}function xf(i,s,l,h){Is?Ut?Ut.push(h):Ut=[h]:Is=h,s=pd(s,"onChange"),0<s.length&&(l=new wr("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Sr=null,vl=null;function yl(i){lE(i,0)}function bl(i){var s=Dn(i);if(Le(s))return i}function El(i,s){if(i==="change")return s}var Af=!1;if(ti){var xr;if(ti){var ho="oninput"in document;if(!ho){var Cf=document.createElement("div");Cf.setAttribute("oninput","return;"),ho=typeof Cf.oninput=="function"}xr=ho}else xr=!1;Af=xr&&(!document.documentMode||9<document.documentMode)}function Tu(){Sr&&(Sr.detachEvent("onpropertychange",Rf),vl=Sr=null)}function Rf(i){if(i.propertyName==="value"&&bl(vl)){var s=[];xf(s,vl,i,Jn(i)),Qr(yl,s)}}function ns(i,s,l){i==="focusin"?(Tu(),Sr=s,vl=l,Sr.attachEvent("onpropertychange",Rf)):i==="focusout"&&Tu()}function Tp(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bl(vl)}function fo(i,s){if(i==="click")return bl(s)}function Sp(i,s){if(i==="input"||i==="change")return bl(s)}function is(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var zn=typeof Object.is=="function"?Object.is:is;function mo(i,s){if(zn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Ne.call(s,p)||!zn(i[p],s[p]))return!1}return!0}function Su(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wl(i,s){var l=Su(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Su(l)}}function xu(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?xu(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Tl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Si(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Si(i.document)}return s}function Ls(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Au=ti&&"documentMode"in document&&11>=document.documentMode,Ms=null,Cu=null,Sl=null,po=!1;function If(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;po||Ms==null||Ms!==Si(h)||(h=Ms,"selectionStart"in h&&Ls(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sl&&mo(Sl,h)||(Sl=h,h=pd(Cu,"onSelect"),0<h.length&&(s=new wr("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Ms)))}function Ds(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var go={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},Ru={},Of={};ti&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Bn(i){if(Ru[i])return Ru[i];if(!go[i])return i;var s=go[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Of)return Ru[i]=s[l];return i}var xl=Bn("animationend"),Nf=Bn("animationiteration"),Al=Bn("animationstart"),xp=Bn("transitionrun"),Pf=Bn("transitionstart"),Ap=Bn("transitioncancel"),_o=Bn("transitionend"),Lf=new Map,ks="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ks.push("scrollEnd");function Ii(i,s){Lf.set(i,s),_r(s,[i])}var Cl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Oi=[],ni=0,Iu=0;function Rl(){for(var i=ni,s=Iu=ni=0;s<i;){var l=Oi[s];Oi[s++]=null;var h=Oi[s];Oi[s++]=null;var p=Oi[s];Oi[s++]=null;var _=Oi[s];if(Oi[s++]=null,h!==null&&p!==null){var x=h.pending;x===null?p.next=p:(p.next=x.next,x.next=p),h.pending=p}_!==0&&vo(l,p,_)}}function js(i,s,l,h){Oi[ni++]=i,Oi[ni++]=s,Oi[ni++]=l,Oi[ni++]=h,Iu|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Fc(i,s,l,h){return js(i,s,l,h),Il(i)}function Ar(i,s){return js(i,null,null,s),Il(i)}function vo(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(p=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,p&&s!==null&&(p=31-en(l),i=_.hiddenUpdates,h=i[p],h===null?i[p]=[s]:h.push(s),s.lane=l|536870912),_):null}function Il(i){if(50<dh)throw dh=0,Rg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ma={};function Cp(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(i,s,l,h){return new Cp(i,s,l,h)}function Ou(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cr(i,s){var l=i.alternate;return l===null?(l=ii(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Hc(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ol(i,s,l,h,p,_){var x=0;if(h=i,typeof i=="function")Ou(i)&&(x=1);else if(typeof i=="string")x=B2(i,l,ut.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case j:return i=ii(31,l,s,p),i.elementType=j,i.lanes=_,i;case Y:return pa(l.children,p,_,s);case K:x=8,p|=24;break;case ht:return i=ii(12,l,s,p|2),i.elementType=ht,i.lanes=_,i;case Nt:return i=ii(13,l,s,p),i.elementType=Nt,i.lanes=_,i;case Dt:return i=ii(19,l,s,p),i.elementType=Dt,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case lt:x=10;break t;case Et:x=9;break t;case xt:x=11;break t;case k:x=14;break t;case D:x=16,h=null;break t}x=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=ii(x,l,s,p),s.elementType=i,s.type=h,s.lanes=_,s}function pa(i,s,l,h){return i=ii(7,i,h,s),i.lanes=l,i}function Nu(i,s,l){return i=ii(6,i,null,s),i.lanes=l,i}function qc(i){var s=ii(18,null,null,0);return s.stateNode=i,s}function Gc(i,s,l){return s=ii(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var a=new WeakMap;function c(i,s){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(s={value:i,source:s,stack:bn(s)},a.set(i,s),s)}return{value:i,source:s,stack:bn(s)}}var m=[],b=0,T=null,I=0,V=[],$=0,nt=null,dt=1,St="";function kt(i,s){m[b++]=I,m[b++]=T,T=i,I=s}function Jt(i,s,l){V[$++]=dt,V[$++]=St,V[$++]=nt,nt=i;var h=dt;i=St;var p=32-en(h)-1;h&=~(1<<p),l+=1;var _=32-en(s)+p;if(30<_){var x=p-p%5;_=(h&(1<<x)-1).toString(32),h>>=x,p-=x,dt=1<<32-en(s)+p|l<<p|h,St=_+i}else dt=1<<_|l<<p|h,St=i}function Nn(i){i.return!==null&&(kt(i,1),Jt(i,1,0))}function hn(i){for(;i===T;)T=m[--b],m[b]=null,I=m[--b],m[b]=null;for(;i===nt;)nt=V[--$],V[$]=null,St=V[--$],V[$]=null,dt=V[--$],V[$]=null}function mi(i,s){V[$++]=dt,V[$++]=St,V[$++]=nt,dt=s.id,St=s.overflow,nt=i}var xe=null,Ae=null,oe=!1,Vs=null,Ni=!1,Pu=Error(r(519));function zs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(c(s,i)),Pu}function Zc(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[rn]=i,s[un]=h,l){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(l=0;l<ph.length;l++)ue(ph[l],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":ue("invalid",s),oa(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ue("invalid",s);break;case"textarea":ue("invalid",s),xi(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||fE(s.textContent,l)?(h.popover!=null&&(ue("beforetoggle",s),ue("toggle",s)),h.onScroll!=null&&ue("scroll",s),h.onScrollEnd!=null&&ue("scrollend",s),h.onClick!=null&&(s.onclick=$n),s=!0):s=!1,s||zs(i,!0)}function sn(i){for(xe=i.return;xe;)switch(xe.tag){case 5:case 31:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:xe=xe.return}}function rs(i){if(i!==xe)return!1;if(!oe)return sn(i),oe=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Hg(i.type,i.memoizedProps)),l=!l),l&&Ae&&zs(i),sn(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ae=EE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ae=EE(i)}else s===27?(s=Ae,Po(i.type)?(i=Kg,Kg=null,Ae=i):Ae=s):Ae=xe?Ir(i.stateNode.nextSibling):null;return!0}function ga(){Ae=xe=null,oe=!1}function Wc(){var i=Vs;return i!==null&&(Di===null?Di=i:Di.push.apply(Di,i),Vs=null),i}function Nl(i){Vs===null?Vs=[i]:Vs.push(i)}var Pl=R(null),Bs=null,ss=null;function yo(i,s,l){ot(Pl,s._currentValue),s._currentValue=l}function _a(i){i._currentValue=Pl.current,Q(Pl)}function Rp(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Ip(i,s,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var _=p.dependencies;if(_!==null){var x=p.child;_=_.firstContext;t:for(;_!==null;){var O=_;_=p;for(var B=0;B<s.length;B++)if(O.context===s[B]){_.lanes|=l,O=_.alternate,O!==null&&(O.lanes|=l),Rp(_.return,l,i),h||(x=null);break t}_=O.next}}else if(p.tag===18){if(x=p.return,x===null)throw Error(r(341));x.lanes|=l,_=x.alternate,_!==null&&(_.lanes|=l),Rp(x,l,i),x=null}else x=p.child;if(x!==null)x.return=p;else for(x=p;x!==null;){if(x===i){x=null;break}if(p=x.sibling,p!==null){p.return=x.return,x=p;break}x=x.return}p=x}}function Lu(i,s,l,h){i=null;for(var p=s,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var x=p.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var O=p.type;zn(p.pendingProps.value,x.value)||(i!==null?i.push(O):i=[O])}}else if(p===bt.current){if(x=p.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(bh):i=[bh])}p=p.return}i!==null&&Ip(s,i,l,h),s.flags|=262144}function Mf(i){for(i=i.firstContext;i!==null;){if(!zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ll(i){Bs=i,ss=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Hn(i){return Xy(Bs,i)}function Df(i,s){return Bs===null&&Ll(i),Xy(i,s)}function Xy(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ss===null){if(i===null)throw Error(r(308));ss=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ss=ss.next=s;return l}var kC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},jC=n.unstable_scheduleCallback,VC=n.unstable_NormalPriority,Sn={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new kC,data:new Map,refCount:0}}function Kc(i){i.refCount--,i.refCount===0&&jC(VC,function(){i.controller.abort()})}var Yc=null,Np=0,Mu=0,Du=null;function zC(i,s){if(Yc===null){var l=Yc=[];Np=0,Mu=Mg(),Du={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Np++,s.then($y,$y),s}function $y(){if(--Np===0&&Yc!==null){Du!==null&&(Du.status="fulfilled");var i=Yc;Yc=null,Mu=0,Du=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function BC(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var Jy=st.S;st.S=function(i,s){kb=En(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&zC(i,s),Jy!==null&&Jy(i,s)};var Ml=R(null);function Pp(){var i=Ml.current;return i!==null?i:He.pooledCache}function kf(i,s){s===null?ot(Ml,Ml.current):ot(Ml,s.pool)}function t0(){var i=Pp();return i===null?null:{parent:Sn._currentValue,pool:i}}var ku=Error(r(460)),Lp=Error(r(474)),jf=Error(r(542)),Vf={then:function(){}};function e0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function n0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then($n,$n),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,r0(i),i;default:if(typeof s.status=="string")s.then($n,$n);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=h}},function(h){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,r0(i),i}throw kl=s,ku}}function Dl(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(kl=l,ku):l}}var kl=null;function i0(){if(kl===null)throw Error(r(459));var i=kl;return kl=null,i}function r0(i){if(i===ku||i===jf)throw Error(r(483))}var ju=null,Qc=0;function zf(i){var s=Qc;return Qc+=1,ju===null&&(ju=[]),n0(ju,i,s)}function Xc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Bf(i,s){throw s.$$typeof===N?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function s0(i){function s(X,Z){if(i){var tt=X.deletions;tt===null?(X.deletions=[Z],X.flags|=16):tt.push(Z)}}function l(X,Z){if(!i)return null;for(;Z!==null;)s(X,Z),Z=Z.sibling;return null}function h(X){for(var Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function p(X,Z){return X=Cr(X,Z),X.index=0,X.sibling=null,X}function _(X,Z,tt){return X.index=tt,i?(tt=X.alternate,tt!==null?(tt=tt.index,tt<Z?(X.flags|=67108866,Z):tt):(X.flags|=67108866,Z)):(X.flags|=1048576,Z)}function x(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function O(X,Z,tt,ft){return Z===null||Z.tag!==6?(Z=Nu(tt,X.mode,ft),Z.return=X,Z):(Z=p(Z,tt),Z.return=X,Z)}function B(X,Z,tt,ft){var Vt=tt.type;return Vt===Y?ct(X,Z,tt.props.children,ft,tt.key):Z!==null&&(Z.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===D&&Dl(Vt)===Z.type)?(Z=p(Z,tt.props),Xc(Z,tt),Z.return=X,Z):(Z=Ol(tt.type,tt.key,tt.props,null,X.mode,ft),Xc(Z,tt),Z.return=X,Z)}function et(X,Z,tt,ft){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==tt.containerInfo||Z.stateNode.implementation!==tt.implementation?(Z=Gc(tt,X.mode,ft),Z.return=X,Z):(Z=p(Z,tt.children||[]),Z.return=X,Z)}function ct(X,Z,tt,ft,Vt){return Z===null||Z.tag!==7?(Z=pa(tt,X.mode,ft,Vt),Z.return=X,Z):(Z=p(Z,tt),Z.return=X,Z)}function mt(X,Z,tt){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Nu(""+Z,X.mode,tt),Z.return=X,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:return tt=Ol(Z.type,Z.key,Z.props,null,X.mode,tt),Xc(tt,Z),tt.return=X,tt;case H:return Z=Gc(Z,X.mode,tt),Z.return=X,Z;case D:return Z=Dl(Z),mt(X,Z,tt)}if(Ze(Z)||U(Z))return Z=pa(Z,X.mode,tt,null),Z.return=X,Z;if(typeof Z.then=="function")return mt(X,zf(Z),tt);if(Z.$$typeof===lt)return mt(X,Df(X,Z),tt);Bf(X,Z)}return null}function it(X,Z,tt,ft){var Vt=Z!==null?Z.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Vt!==null?null:O(X,Z,""+tt,ft);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case M:return tt.key===Vt?B(X,Z,tt,ft):null;case H:return tt.key===Vt?et(X,Z,tt,ft):null;case D:return tt=Dl(tt),it(X,Z,tt,ft)}if(Ze(tt)||U(tt))return Vt!==null?null:ct(X,Z,tt,ft,null);if(typeof tt.then=="function")return it(X,Z,zf(tt),ft);if(tt.$$typeof===lt)return it(X,Z,Df(X,tt),ft);Bf(X,tt)}return null}function at(X,Z,tt,ft,Vt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return X=X.get(tt)||null,O(Z,X,""+ft,Vt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case M:return X=X.get(ft.key===null?tt:ft.key)||null,B(Z,X,ft,Vt);case H:return X=X.get(ft.key===null?tt:ft.key)||null,et(Z,X,ft,Vt);case D:return ft=Dl(ft),at(X,Z,tt,ft,Vt)}if(Ze(ft)||U(ft))return X=X.get(tt)||null,ct(Z,X,ft,Vt,null);if(typeof ft.then=="function")return at(X,Z,tt,zf(ft),Vt);if(ft.$$typeof===lt)return at(X,Z,tt,Df(Z,ft),Vt);Bf(Z,ft)}return null}function Lt(X,Z,tt,ft){for(var Vt=null,Ce=null,Mt=Z,te=Z=0,de=null;Mt!==null&&te<tt.length;te++){Mt.index>te?(de=Mt,Mt=null):de=Mt.sibling;var Re=it(X,Mt,tt[te],ft);if(Re===null){Mt===null&&(Mt=de);break}i&&Mt&&Re.alternate===null&&s(X,Mt),Z=_(Re,Z,te),Ce===null?Vt=Re:Ce.sibling=Re,Ce=Re,Mt=de}if(te===tt.length)return l(X,Mt),oe&&kt(X,te),Vt;if(Mt===null){for(;te<tt.length;te++)Mt=mt(X,tt[te],ft),Mt!==null&&(Z=_(Mt,Z,te),Ce===null?Vt=Mt:Ce.sibling=Mt,Ce=Mt);return oe&&kt(X,te),Vt}for(Mt=h(Mt);te<tt.length;te++)de=at(Mt,X,te,tt[te],ft),de!==null&&(i&&de.alternate!==null&&Mt.delete(de.key===null?te:de.key),Z=_(de,Z,te),Ce===null?Vt=de:Ce.sibling=de,Ce=de);return i&&Mt.forEach(function(jo){return s(X,jo)}),oe&&kt(X,te),Vt}function Ft(X,Z,tt,ft){if(tt==null)throw Error(r(151));for(var Vt=null,Ce=null,Mt=Z,te=Z=0,de=null,Re=tt.next();Mt!==null&&!Re.done;te++,Re=tt.next()){Mt.index>te?(de=Mt,Mt=null):de=Mt.sibling;var jo=it(X,Mt,Re.value,ft);if(jo===null){Mt===null&&(Mt=de);break}i&&Mt&&jo.alternate===null&&s(X,Mt),Z=_(jo,Z,te),Ce===null?Vt=jo:Ce.sibling=jo,Ce=jo,Mt=de}if(Re.done)return l(X,Mt),oe&&kt(X,te),Vt;if(Mt===null){for(;!Re.done;te++,Re=tt.next())Re=mt(X,Re.value,ft),Re!==null&&(Z=_(Re,Z,te),Ce===null?Vt=Re:Ce.sibling=Re,Ce=Re);return oe&&kt(X,te),Vt}for(Mt=h(Mt);!Re.done;te++,Re=tt.next())Re=at(Mt,X,te,Re.value,ft),Re!==null&&(i&&Re.alternate!==null&&Mt.delete(Re.key===null?te:Re.key),Z=_(Re,Z,te),Ce===null?Vt=Re:Ce.sibling=Re,Ce=Re);return i&&Mt.forEach(function(X2){return s(X,X2)}),oe&&kt(X,te),Vt}function Be(X,Z,tt,ft){if(typeof tt=="object"&&tt!==null&&tt.type===Y&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case M:t:{for(var Vt=tt.key;Z!==null;){if(Z.key===Vt){if(Vt=tt.type,Vt===Y){if(Z.tag===7){l(X,Z.sibling),ft=p(Z,tt.props.children),ft.return=X,X=ft;break t}}else if(Z.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===D&&Dl(Vt)===Z.type){l(X,Z.sibling),ft=p(Z,tt.props),Xc(ft,tt),ft.return=X,X=ft;break t}l(X,Z);break}else s(X,Z);Z=Z.sibling}tt.type===Y?(ft=pa(tt.props.children,X.mode,ft,tt.key),ft.return=X,X=ft):(ft=Ol(tt.type,tt.key,tt.props,null,X.mode,ft),Xc(ft,tt),ft.return=X,X=ft)}return x(X);case H:t:{for(Vt=tt.key;Z!==null;){if(Z.key===Vt)if(Z.tag===4&&Z.stateNode.containerInfo===tt.containerInfo&&Z.stateNode.implementation===tt.implementation){l(X,Z.sibling),ft=p(Z,tt.children||[]),ft.return=X,X=ft;break t}else{l(X,Z);break}else s(X,Z);Z=Z.sibling}ft=Gc(tt,X.mode,ft),ft.return=X,X=ft}return x(X);case D:return tt=Dl(tt),Be(X,Z,tt,ft)}if(Ze(tt))return Lt(X,Z,tt,ft);if(U(tt)){if(Vt=U(tt),typeof Vt!="function")throw Error(r(150));return tt=Vt.call(tt),Ft(X,Z,tt,ft)}if(typeof tt.then=="function")return Be(X,Z,zf(tt),ft);if(tt.$$typeof===lt)return Be(X,Z,Df(X,tt),ft);Bf(X,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,Z!==null&&Z.tag===6?(l(X,Z.sibling),ft=p(Z,tt),ft.return=X,X=ft):(l(X,Z),ft=Nu(tt,X.mode,ft),ft.return=X,X=ft),x(X)):l(X,Z)}return function(X,Z,tt,ft){try{Qc=0;var Vt=Be(X,Z,tt,ft);return ju=null,Vt}catch(Mt){if(Mt===ku||Mt===jf)throw Mt;var Ce=ii(29,Mt,null,X.mode);return Ce.lanes=ft,Ce.return=X,Ce}finally{}}}var jl=s0(!0),a0=s0(!1),bo=!1;function Mp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Eo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function wo(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,s=Il(i),vo(i,null,l),s}return js(i,h,s,l),Il(i)}function $c(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ol(i,l)}}function kp(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=x:_=_.next=x,l=l.next}while(l!==null);_===null?p=_=s:_=_.next=s}else p=_=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var jp=!1;function Jc(){if(jp){var i=Du;if(i!==null)throw i}}function th(i,s,l,h){jp=!1;var p=i.updateQueue;bo=!1;var _=p.firstBaseUpdate,x=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var B=O,et=B.next;B.next=null,x===null?_=et:x.next=et,x=B;var ct=i.alternate;ct!==null&&(ct=ct.updateQueue,O=ct.lastBaseUpdate,O!==x&&(O===null?ct.firstBaseUpdate=et:O.next=et,ct.lastBaseUpdate=B))}if(_!==null){var mt=p.baseState;x=0,ct=et=B=null,O=_;do{var it=O.lane&-536870913,at=it!==O.lane;if(at?(fe&it)===it:(h&it)===it){it!==0&&it===Mu&&(jp=!0),ct!==null&&(ct=ct.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var Lt=i,Ft=O;it=s;var Be=l;switch(Ft.tag){case 1:if(Lt=Ft.payload,typeof Lt=="function"){mt=Lt.call(Be,mt,it);break t}mt=Lt;break t;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Ft.payload,it=typeof Lt=="function"?Lt.call(Be,mt,it):Lt,it==null)break t;mt=C({},mt,it);break t;case 2:bo=!0}}it=O.callback,it!==null&&(i.flags|=64,at&&(i.flags|=8192),at=p.callbacks,at===null?p.callbacks=[it]:at.push(it))}else at={lane:it,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ct===null?(et=ct=at,B=mt):ct=ct.next=at,x|=it;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;at=O,O=at.next,at.next=null,p.lastBaseUpdate=at,p.shared.pending=null}}while(!0);ct===null&&(B=mt),p.baseState=B,p.firstBaseUpdate=et,p.lastBaseUpdate=ct,_===null&&(p.shared.lanes=0),Co|=x,i.lanes=x,i.memoizedState=mt}}function o0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function l0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)o0(l[i],s)}var Vu=R(null),Uf=R(0);function u0(i,s){i=Aa,ot(Uf,i),ot(Vu,s),Aa=i|s.baseLanes}function Vp(){ot(Uf,Aa),ot(Vu,Vu.current)}function zp(){Aa=Uf.current,Q(Vu),Q(Uf)}var tr=R(null),Rr=null;function To(i){var s=i.alternate;ot(gn,gn.current&1),ot(tr,i),Rr===null&&(s===null||Vu.current!==null||s.memoizedState!==null)&&(Rr=i)}function Bp(i){ot(gn,gn.current),ot(tr,i),Rr===null&&(Rr=i)}function c0(i){i.tag===22?(ot(gn,gn.current),ot(tr,i),Rr===null&&(Rr=i)):So()}function So(){ot(gn,gn.current),ot(tr,tr.current)}function er(i){Q(tr),Rr===i&&(Rr=null),Q(gn)}var gn=R(0);function Ff(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Zg(l)||Wg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var va=0,$t=null,Ve=null,xn=null,Hf=!1,zu=!1,Vl=!1,qf=0,eh=0,Bu=null,UC=0;function fn(){throw Error(r(321))}function Up(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!zn(i[l],s[l]))return!1;return!0}function Fp(i,s,l,h,p,_){return va=_,$t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,st.H=i===null||i.memoizedState===null?W0:ig,Vl=!1,_=l(h,p),Vl=!1,zu&&(_=f0(s,l,h,p)),h0(i),_}function h0(i){st.H=rh;var s=Ve!==null&&Ve.next!==null;if(va=0,xn=Ve=$t=null,Hf=!1,eh=0,Bu=null,s)throw Error(r(300));i===null||An||(i=i.dependencies,i!==null&&Mf(i)&&(An=!0))}function f0(i,s,l,h){$t=i;var p=0;do{if(zu&&(Bu=null),eh=0,zu=!1,25<=p)throw Error(r(301));if(p+=1,xn=Ve=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}st.H=K0,_=s(l,h)}while(zu);return _}function FC(){var i=st.H,s=i.useState()[0];return s=typeof s.then=="function"?nh(s):s,i=i.useState()[0],(Ve!==null?Ve.memoizedState:null)!==i&&($t.flags|=1024),s}function Hp(){var i=qf!==0;return qf=0,i}function qp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Gp(i){if(Hf){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Hf=!1}va=0,xn=Ve=$t=null,zu=!1,eh=qf=0,Bu=null}function pi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?$t.memoizedState=xn=i:xn=xn.next=i,xn}function _n(){if(Ve===null){var i=$t.alternate;i=i!==null?i.memoizedState:null}else i=Ve.next;var s=xn===null?$t.memoizedState:xn.next;if(s!==null)xn=s,Ve=i;else{if(i===null)throw $t.alternate===null?Error(r(467)):Error(r(310));Ve=i,i={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},xn===null?$t.memoizedState=xn=i:xn=xn.next=i}return xn}function Gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nh(i){var s=eh;return eh+=1,Bu===null&&(Bu=[]),i=n0(Bu,i,s),s=$t,(xn===null?s.memoizedState:xn.next)===null&&(s=s.alternate,st.H=s===null||s.memoizedState===null?W0:ig),i}function Zf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nh(i);if(i.$$typeof===lt)return Hn(i)}throw Error(r(438,String(i)))}function Zp(i){var s=null,l=$t.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=$t.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Gf(),$t.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=G;return s.index++,l}function ya(i,s){return typeof s=="function"?s(i):s}function Wf(i){var s=_n();return Wp(s,Ve,i)}function Wp(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var p=i.baseQueue,_=h.pending;if(_!==null){if(p!==null){var x=p.next;p.next=_.next,_.next=x}s.baseQueue=p=_,h.pending=null}if(_=i.baseState,p===null)i.memoizedState=_;else{s=p.next;var O=x=null,B=null,et=s,ct=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(fe&mt)===mt:(va&mt)===mt){var it=et.revertLane;if(it===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===Mu&&(ct=!0);else if((va&it)===it){et=et.next,it===Mu&&(ct=!0);continue}else mt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},B===null?(O=B=mt,x=_):B=B.next=mt,$t.lanes|=it,Co|=it;mt=et.action,Vl&&l(_,mt),_=et.hasEagerState?et.eagerState:l(_,mt)}else it={lane:mt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},B===null?(O=B=it,x=_):B=B.next=it,$t.lanes|=mt,Co|=mt;et=et.next}while(et!==null&&et!==s);if(B===null?x=_:B.next=O,!zn(_,i.memoizedState)&&(An=!0,ct&&(l=Du,l!==null)))throw l;i.memoizedState=_,i.baseState=x,i.baseQueue=B,h.lastRenderedState=_}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Kp(i){var s=_n(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,_=s.memoizedState;if(p!==null){l.pending=null;var x=p=p.next;do _=i(_,x.action),x=x.next;while(x!==p);zn(_,s.memoizedState)||(An=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function d0(i,s,l){var h=$t,p=_n(),_=oe;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var x=!zn((Ve||p).memoizedState,l);if(x&&(p.memoizedState=l,An=!0),p=p.queue,Xp(g0.bind(null,h,p,i),[i]),p.getSnapshot!==s||x||xn!==null&&xn.memoizedState.tag&1){if(h.flags|=2048,Uu(9,{destroy:void 0},p0.bind(null,h,p,l,s),null),He===null)throw Error(r(349));_||(va&127)!==0||m0(h,s,l)}return l}function m0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=$t.updateQueue,s===null?(s=Gf(),$t.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function p0(i,s,l,h){s.value=l,s.getSnapshot=h,_0(s)&&v0(i)}function g0(i,s,l){return l(function(){_0(s)&&v0(i)})}function _0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!zn(i,l)}catch{return!0}}function v0(i){var s=Ar(i,2);s!==null&&ki(s,i,2)}function Yp(i){var s=pi();if(typeof i=="function"){var l=i;if(i=l(),Vl){ui(!0);try{l()}finally{ui(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:i},s}function y0(i,s,l,h){return i.baseState=l,Wp(i,Ve,typeof h=="function"?h:ya)}function HC(i,s,l,h,p){if(Qf(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};st.T!==null?l(!0):_.isTransition=!1,h(_),l=s.pending,l===null?(_.next=s.pending=_,b0(s,_)):(_.next=l.next,s.pending=l.next=_)}}function b0(i,s){var l=s.action,h=s.payload,p=i.state;if(s.isTransition){var _=st.T,x={};st.T=x;try{var O=l(p,h),B=st.S;B!==null&&B(x,O),E0(i,s,O)}catch(et){Qp(i,s,et)}finally{_!==null&&x.types!==null&&(_.types=x.types),st.T=_}}else try{_=l(p,h),E0(i,s,_)}catch(et){Qp(i,s,et)}}function E0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){w0(i,s,h)},function(h){return Qp(i,s,h)}):w0(i,s,l)}function w0(i,s,l){s.status="fulfilled",s.value=l,T0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,b0(i,l)))}function Qp(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,T0(s),s=s.next;while(s!==h)}i.action=null}function T0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function S0(i,s){return s}function x0(i,s){if(oe){var l=He.formState;if(l!==null){t:{var h=$t;if(oe){if(Ae){e:{for(var p=Ae,_=Ni;p.nodeType!==8;){if(!_){p=null;break e}if(p=Ir(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){Ae=Ir(p.nextSibling),h=p.data==="F!";break t}}zs(h)}h=!1}h&&(s=l[0])}}return l=pi(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:s},l.queue=h,l=q0.bind(null,$t,h),h.dispatch=l,h=Yp(!1),_=ng.bind(null,$t,!1,h.queue),h=pi(),p={state:s,dispatch:null,action:i,pending:null},h.queue=p,l=HC.bind(null,$t,p,_,l),p.dispatch=l,h.memoizedState=i,[s,l,!1]}function A0(i){var s=_n();return C0(s,Ve,i)}function C0(i,s,l){if(s=Wp(i,s,S0)[0],i=Wf(ya)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=nh(s)}catch(x){throw x===ku?jf:x}else h=s;s=_n();var p=s.queue,_=p.dispatch;return l!==s.memoizedState&&($t.flags|=2048,Uu(9,{destroy:void 0},qC.bind(null,p,l),null)),[h,_,i]}function qC(i,s){i.action=s}function R0(i){var s=_n(),l=Ve;if(l!==null)return C0(s,l,i);_n(),s=s.memoizedState,l=_n();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function Uu(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=$t.updateQueue,s===null&&(s=Gf(),$t.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function I0(){return _n().memoizedState}function Kf(i,s,l,h){var p=pi();$t.flags|=i,p.memoizedState=Uu(1|s,{destroy:void 0},l,h===void 0?null:h)}function Yf(i,s,l,h){var p=_n();h=h===void 0?null:h;var _=p.memoizedState.inst;Ve!==null&&h!==null&&Up(h,Ve.memoizedState.deps)?p.memoizedState=Uu(s,_,l,h):($t.flags|=i,p.memoizedState=Uu(1|s,_,l,h))}function O0(i,s){Kf(8390656,8,i,s)}function Xp(i,s){Yf(2048,8,i,s)}function GC(i){$t.flags|=4;var s=$t.updateQueue;if(s===null)s=Gf(),$t.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function N0(i){var s=_n().memoizedState;return GC({ref:s,nextImpl:i}),function(){if((Oe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function P0(i,s){return Yf(4,2,i,s)}function L0(i,s){return Yf(4,4,i,s)}function M0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function D0(i,s,l){l=l!=null?l.concat([i]):null,Yf(4,4,M0.bind(null,s,i),l)}function $p(){}function k0(i,s){var l=_n();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&Up(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function j0(i,s){var l=_n();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&Up(s,h[1]))return h[0];if(h=i(),Vl){ui(!0);try{i()}finally{ui(!1)}}return l.memoizedState=[h,s],h}function Jp(i,s,l){return l===void 0||(va&1073741824)!==0&&(fe&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=Vb(),$t.lanes|=i,Co|=i,l)}function V0(i,s,l,h){return zn(l,s)?l:Vu.current!==null?(i=Jp(i,l,h),zn(i,s)||(An=!0),i):(va&42)===0||(va&1073741824)!==0&&(fe&261930)===0?(An=!0,i.memoizedState=l):(i=Vb(),$t.lanes|=i,Co|=i,s)}function z0(i,s,l,h,p){var _=Tt.p;Tt.p=_!==0&&8>_?_:8;var x=st.T,O={};st.T=O,ng(i,!1,s,l);try{var B=p(),et=st.S;if(et!==null&&et(O,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ct=BC(B,h);ih(i,s,ct,rr(i))}else ih(i,s,h,rr(i))}catch(mt){ih(i,s,{then:function(){},status:"rejected",reason:mt},rr())}finally{Tt.p=_,x!==null&&O.types!==null&&(x.types=O.types),st.T=x}}function ZC(){}function tg(i,s,l,h){if(i.tag!==5)throw Error(r(476));var p=B0(i).queue;z0(i,p,s,yt,l===null?ZC:function(){return U0(i),l(h)})}function B0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:yt},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function U0(i){var s=B0(i);s.next===null&&(s=i.alternate.memoizedState),ih(i,s.next.queue,{},rr())}function eg(){return Hn(bh)}function F0(){return _n().memoizedState}function H0(){return _n().memoizedState}function WC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=rr();i=Eo(l);var h=wo(s,i,l);h!==null&&(ki(h,s,l),$c(h,s,l)),s={cache:Op()},i.payload=s;return}s=s.return}}function KC(i,s,l){var h=rr();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qf(i)?G0(s,l):(l=Fc(i,s,l,h),l!==null&&(ki(l,i,h),Z0(l,s,h)))}function q0(i,s,l){var h=rr();ih(i,s,l,h)}function ih(i,s,l,h){var p={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qf(i))G0(s,p);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,O=_(x,l);if(p.hasEagerState=!0,p.eagerState=O,zn(O,x))return js(i,s,p,0),He===null&&Rl(),!1}catch{}finally{}if(l=Fc(i,s,p,h),l!==null)return ki(l,i,h),Z0(l,s,h),!0}return!1}function ng(i,s,l,h){if(h={lane:2,revertLane:Mg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qf(i)){if(s)throw Error(r(479))}else s=Fc(i,l,h,2),s!==null&&ki(s,i,2)}function Qf(i){var s=i.alternate;return i===$t||s!==null&&s===$t}function G0(i,s){zu=Hf=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Z0(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ol(i,l)}}var rh={readContext:Hn,use:Zf,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};rh.useEffectEvent=fn;var W0={readContext:Hn,use:Zf,useCallback:function(i,s){return pi().memoizedState=[i,s===void 0?null:s],i},useContext:Hn,useEffect:O0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Kf(4194308,4,M0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Kf(4194308,4,i,s)},useInsertionEffect:function(i,s){Kf(4,2,i,s)},useMemo:function(i,s){var l=pi();s=s===void 0?null:s;var h=i();if(Vl){ui(!0);try{i()}finally{ui(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=pi();if(l!==void 0){var p=l(s);if(Vl){ui(!0);try{l(s)}finally{ui(!1)}}}else p=s;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=KC.bind(null,$t,i),[h.memoizedState,i]},useRef:function(i){var s=pi();return i={current:i},s.memoizedState=i},useState:function(i){i=Yp(i);var s=i.queue,l=q0.bind(null,$t,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:$p,useDeferredValue:function(i,s){var l=pi();return Jp(l,i,s)},useTransition:function(){var i=Yp(!1);return i=z0.bind(null,$t,i.queue,!0,!1),pi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=$t,p=pi();if(oe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),He===null)throw Error(r(349));(fe&127)!==0||m0(h,s,l)}p.memoizedState=l;var _={value:l,getSnapshot:s};return p.queue=_,O0(g0.bind(null,h,_,i),[i]),h.flags|=2048,Uu(9,{destroy:void 0},p0.bind(null,h,_,l,s),null),l},useId:function(){var i=pi(),s=He.identifierPrefix;if(oe){var l=St,h=dt;l=(h&~(1<<32-en(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=qf++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=UC++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:eg,useFormState:x0,useActionState:x0,useOptimistic:function(i){var s=pi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=ng.bind(null,$t,!0,l),l.dispatch=s,[i,s]},useMemoCache:Zp,useCacheRefresh:function(){return pi().memoizedState=WC.bind(null,$t)},useEffectEvent:function(i){var s=pi(),l={impl:i};return s.memoizedState=l,function(){if((Oe&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},ig={readContext:Hn,use:Zf,useCallback:k0,useContext:Hn,useEffect:Xp,useImperativeHandle:D0,useInsertionEffect:P0,useLayoutEffect:L0,useMemo:j0,useReducer:Wf,useRef:I0,useState:function(){return Wf(ya)},useDebugValue:$p,useDeferredValue:function(i,s){var l=_n();return V0(l,Ve.memoizedState,i,s)},useTransition:function(){var i=Wf(ya)[0],s=_n().memoizedState;return[typeof i=="boolean"?i:nh(i),s]},useSyncExternalStore:d0,useId:F0,useHostTransitionStatus:eg,useFormState:A0,useActionState:A0,useOptimistic:function(i,s){var l=_n();return y0(l,Ve,i,s)},useMemoCache:Zp,useCacheRefresh:H0};ig.useEffectEvent=N0;var K0={readContext:Hn,use:Zf,useCallback:k0,useContext:Hn,useEffect:Xp,useImperativeHandle:D0,useInsertionEffect:P0,useLayoutEffect:L0,useMemo:j0,useReducer:Kp,useRef:I0,useState:function(){return Kp(ya)},useDebugValue:$p,useDeferredValue:function(i,s){var l=_n();return Ve===null?Jp(l,i,s):V0(l,Ve.memoizedState,i,s)},useTransition:function(){var i=Kp(ya)[0],s=_n().memoizedState;return[typeof i=="boolean"?i:nh(i),s]},useSyncExternalStore:d0,useId:F0,useHostTransitionStatus:eg,useFormState:R0,useActionState:R0,useOptimistic:function(i,s){var l=_n();return Ve!==null?y0(l,Ve,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Zp,useCacheRefresh:H0};K0.useEffectEvent=N0;function rg(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:C({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var sg={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=rr(),p=Eo(h);p.payload=s,l!=null&&(p.callback=l),s=wo(i,p,h),s!==null&&(ki(s,i,h),$c(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=rr(),p=Eo(h);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=wo(i,p,h),s!==null&&(ki(s,i,h),$c(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=rr(),h=Eo(l);h.tag=2,s!=null&&(h.callback=s),s=wo(i,h,l),s!==null&&(ki(s,i,l),$c(s,i,l))}};function Y0(i,s,l,h,p,_,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,x):s.prototype&&s.prototype.isPureReactComponent?!mo(l,h)||!mo(p,_):!0}function Q0(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&sg.enqueueReplaceState(s,s.state,null)}function zl(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=C({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function X0(i){Cl(i)}function $0(i){console.error(i)}function J0(i){Cl(i)}function Xf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function tb(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ag(i,s,l){return l=Eo(l),l.tag=3,l.payload={element:null},l.callback=function(){Xf(i,s)},l}function eb(i){return i=Eo(i),i.tag=3,i}function nb(i,s,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=h.value;i.payload=function(){return p(_)},i.callback=function(){tb(s,l,h)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){tb(s,l,h),typeof p!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function YC(i,s,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Lu(s,l,p,!0),l=tr.current,l!==null){switch(l.tag){case 31:case 13:return Rr===null?ud():l.alternate===null&&dn===0&&(dn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===Vf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),Ng(i,h,p)),!1;case 22:return l.flags|=65536,h===Vf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),Ng(i,h,p)),!1}throw Error(r(435,l.tag))}return Ng(i,h,p),ud(),!1}if(oe)return s=tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,h!==Pu&&(i=Error(r(422),{cause:h}),Nl(c(i,l)))):(h!==Pu&&(s=Error(r(423),{cause:h}),Nl(c(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=c(h,l),p=ag(i.stateNode,h,p),kp(i,p),dn!==4&&(dn=2)),!1;var _=Error(r(520),{cause:h});if(_=c(_,l),fh===null?fh=[_]:fh.push(_),dn!==4&&(dn=2),s===null)return!0;h=c(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=ag(l.stateNode,h,i),kp(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ro===null||!Ro.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=eb(p),nb(p,i,l,h),kp(l,p),!1}l=l.return}while(l!==null);return!1}var og=Error(r(461)),An=!1;function qn(i,s,l,h){s.child=i===null?a0(s,null,l,h):jl(s,i.child,l,h)}function ib(i,s,l,h,p){l=l.render;var _=s.ref;if("ref"in h){var x={};for(var O in h)O!=="ref"&&(x[O]=h[O])}else x=h;return Ll(s),h=Fp(i,s,l,x,_,p),O=Hp(),i!==null&&!An?(qp(i,s,p),ba(i,s,p)):(oe&&O&&Nn(s),s.flags|=1,qn(i,s,h,p),s.child)}function rb(i,s,l,h,p){if(i===null){var _=l.type;return typeof _=="function"&&!Ou(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,sb(i,s,_,h,p)):(i=Ol(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!pg(i,p)){var x=_.memoizedProps;if(l=l.compare,l=l!==null?l:mo,l(x,h)&&i.ref===s.ref)return ba(i,s,p)}return s.flags|=1,i=Cr(_,h),i.ref=s.ref,i.return=s,s.child=i}function sb(i,s,l,h,p){if(i!==null){var _=i.memoizedProps;if(mo(_,h)&&i.ref===s.ref)if(An=!1,s.pendingProps=h=_,pg(i,p))(i.flags&131072)!==0&&(An=!0);else return s.lanes=i.lanes,ba(i,s,p)}return lg(i,s,l,h,p)}function ab(i,s,l,h){var p=h.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(h=s.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~_}else h=0,s.child=null;return ob(i,s,_,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&kf(s,_!==null?_.cachePool:null),_!==null?u0(s,_):Vp(),c0(s);else return h=s.lanes=536870912,ob(i,s,_!==null?_.baseLanes|l:l,l,h)}else _!==null?(kf(s,_.cachePool),u0(s,_),So(),s.memoizedState=null):(i!==null&&kf(s,null),Vp(),So());return qn(i,s,p,l),s.child}function sh(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ob(i,s,l,h,p){var _=Pp();return _=_===null?null:{parent:Sn._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&kf(s,null),Vp(),c0(s),i!==null&&Lu(i,s,h,!0),s.childLanes=p,null}function $f(i,s){return s=td({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function lb(i,s,l){return jl(s,i.child,null,l),i=$f(s,s.pendingProps),i.flags|=2,er(s),s.memoizedState=null,i}function QC(i,s,l){var h=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(oe){if(h.mode==="hidden")return i=$f(s,h),s.lanes=536870912,sh(null,i);if(Bp(s),(i=Ae)?(i=bE(i,Ni),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:nt!==null?{id:dt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},l=qc(i),l.return=s,s.child=l,xe=s,Ae=null)):i=null,i===null)throw zs(s);return s.lanes=536870912,null}return $f(s,h)}var _=i.memoizedState;if(_!==null){var x=_.dehydrated;if(Bp(s),p)if(s.flags&256)s.flags&=-257,s=lb(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(An||Lu(i,s,l,!1),p=(l&i.childLanes)!==0,An||p){if(h=He,h!==null&&(x=ll(h,l),x!==0&&x!==_.retryLane))throw _.retryLane=x,Ar(i,x),ki(h,i,x),og;ud(),s=lb(i,s,l)}else i=_.treeContext,Ae=Ir(x.nextSibling),xe=s,oe=!0,Vs=null,Ni=!1,i!==null&&mi(s,i),s=$f(s,h),s.flags|=4096;return s}return i=Cr(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Jf(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function lg(i,s,l,h,p){return Ll(s),l=Fp(i,s,l,h,void 0,p),h=Hp(),i!==null&&!An?(qp(i,s,p),ba(i,s,p)):(oe&&h&&Nn(s),s.flags|=1,qn(i,s,l,p),s.child)}function ub(i,s,l,h,p,_){return Ll(s),s.updateQueue=null,l=f0(s,h,l,p),h0(i),h=Hp(),i!==null&&!An?(qp(i,s,_),ba(i,s,_)):(oe&&h&&Nn(s),s.flags|=1,qn(i,s,l,_),s.child)}function cb(i,s,l,h,p){if(Ll(s),s.stateNode===null){var _=ma,x=l.contextType;typeof x=="object"&&x!==null&&(_=Hn(x)),_=new l(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=sg,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},Mp(s),x=l.contextType,_.context=typeof x=="object"&&x!==null?Hn(x):ma,_.state=s.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(rg(s,l,x,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&sg.enqueueReplaceState(_,_.state,null),th(s,h,_,p),Jc(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){_=s.stateNode;var O=s.memoizedProps,B=zl(l,O);_.props=B;var et=_.context,ct=l.contextType;x=ma,typeof ct=="object"&&ct!==null&&(x=Hn(ct));var mt=l.getDerivedStateFromProps;ct=typeof mt=="function"||typeof _.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ct||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O||et!==x)&&Q0(s,_,h,x),bo=!1;var it=s.memoizedState;_.state=it,th(s,h,_,p),Jc(),et=s.memoizedState,O||it!==et||bo?(typeof mt=="function"&&(rg(s,l,mt,h),et=s.memoizedState),(B=bo||Y0(s,l,B,h,it,et,x))?(ct||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=et),_.props=h,_.state=et,_.context=x,h=B):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,Dp(i,s),x=s.memoizedProps,ct=zl(l,x),_.props=ct,mt=s.pendingProps,it=_.context,et=l.contextType,B=ma,typeof et=="object"&&et!==null&&(B=Hn(et)),O=l.getDerivedStateFromProps,(et=typeof O=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==mt||it!==B)&&Q0(s,_,h,B),bo=!1,it=s.memoizedState,_.state=it,th(s,h,_,p),Jc();var at=s.memoizedState;x!==mt||it!==at||bo||i!==null&&i.dependencies!==null&&Mf(i.dependencies)?(typeof O=="function"&&(rg(s,l,O,h),at=s.memoizedState),(ct=bo||Y0(s,l,ct,h,it,at,B)||i!==null&&i.dependencies!==null&&Mf(i.dependencies))?(et||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,at,B),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,at,B)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=at),_.props=h,_.state=at,_.context=B,h=ct):(typeof _.componentDidUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),h=!1)}return _=h,Jf(i,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&h?(s.child=jl(s,i.child,null,p),s.child=jl(s,null,l,p)):qn(i,s,l,p),s.memoizedState=_.state,i=s.child):i=ba(i,s,p),i}function hb(i,s,l,h){return ga(),s.flags|=256,qn(i,s,l,h),s.child}var ug={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cg(i){return{baseLanes:i,cachePool:t0()}}function hg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ir),i}function fb(i,s,l){var h=s.pendingProps,p=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=i!==null&&i.memoizedState===null?!1:(gn.current&2)!==0),x&&(p=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(oe){if(p?To(s):So(),(i=Ae)?(i=bE(i,Ni),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:nt!==null?{id:dt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},l=qc(i),l.return=s,s.child=l,xe=s,Ae=null)):i=null,i===null)throw zs(s);return Wg(i)?s.lanes=32:s.lanes=536870912,null}var O=h.children;return h=h.fallback,p?(So(),p=s.mode,O=td({mode:"hidden",children:O},p),h=pa(h,p,l,null),O.return=s,h.return=s,O.sibling=h,s.child=O,h=s.child,h.memoizedState=cg(l),h.childLanes=hg(i,x,l),s.memoizedState=ug,sh(null,h)):(To(s),fg(s,O))}var B=i.memoizedState;if(B!==null&&(O=B.dehydrated,O!==null)){if(_)s.flags&256?(To(s),s.flags&=-257,s=dg(i,s,l)):s.memoizedState!==null?(So(),s.child=i.child,s.flags|=128,s=null):(So(),O=h.fallback,p=s.mode,h=td({mode:"visible",children:h.children},p),O=pa(O,p,l,null),O.flags|=2,h.return=s,O.return=s,h.sibling=O,s.child=h,jl(s,i.child,null,l),h=s.child,h.memoizedState=cg(l),h.childLanes=hg(i,x,l),s.memoizedState=ug,s=sh(null,h));else if(To(s),Wg(O)){if(x=O.nextSibling&&O.nextSibling.dataset,x)var et=x.dgst;x=et,h=Error(r(419)),h.stack="",h.digest=x,Nl({value:h,source:null,stack:null}),s=dg(i,s,l)}else if(An||Lu(i,s,l,!1),x=(l&i.childLanes)!==0,An||x){if(x=He,x!==null&&(h=ll(x,l),h!==0&&h!==B.retryLane))throw B.retryLane=h,Ar(i,h),ki(x,i,h),og;Zg(O)||ud(),s=dg(i,s,l)}else Zg(O)?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,Ae=Ir(O.nextSibling),xe=s,oe=!0,Vs=null,Ni=!1,i!==null&&mi(s,i),s=fg(s,h.children),s.flags|=4096);return s}return p?(So(),O=h.fallback,p=s.mode,B=i.child,et=B.sibling,h=Cr(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&65011712,et!==null?O=Cr(et,O):(O=pa(O,p,l,null),O.flags|=2),O.return=s,h.return=s,h.sibling=O,s.child=h,sh(null,h),h=s.child,O=i.child.memoizedState,O===null?O=cg(l):(p=O.cachePool,p!==null?(B=Sn._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=t0(),O={baseLanes:O.baseLanes|l,cachePool:p}),h.memoizedState=O,h.childLanes=hg(i,x,l),s.memoizedState=ug,sh(i.child,h)):(To(s),l=i.child,i=l.sibling,l=Cr(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=l,s.memoizedState=null,l)}function fg(i,s){return s=td({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function td(i,s){return i=ii(22,i,null,s),i.lanes=0,i}function dg(i,s,l){return jl(s,i.child,null,l),i=fg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function db(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Rp(i.return,s,l)}function mg(i,s,l,h,p,_){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p,treeForkCount:_}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=l,x.tailMode=p,x.treeForkCount=_)}function mb(i,s,l){var h=s.pendingProps,p=h.revealOrder,_=h.tail;h=h.children;var x=gn.current,O=(x&2)!==0;if(O?(x=x&1|2,s.flags|=128):x&=1,ot(gn,x),qn(i,s,h,l),h=oe?I:0,!O&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&db(i,l,s);else if(i.tag===19)db(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Ff(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),mg(s,!1,p,l,_,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ff(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}mg(s,!0,l,null,_,h);break;case"together":mg(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function ba(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Co|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Lu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Cr(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Cr(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function pg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Mf(i)))}function XC(i,s,l){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),yo(s,Sn,i.memoizedState.cache),ga();break;case 27:case 5:ve(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:yo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Bp(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(To(s),s.flags|=128,null):(l&s.child.childLanes)!==0?fb(i,s,l):(To(s),i=ba(i,s,l),i!==null?i.sibling:null);To(s);break;case 19:var p=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Lu(i,s,l,!1),h=(l&s.childLanes)!==0),p){if(h)return mb(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ot(gn,gn.current),h)break;return null;case 22:return s.lanes=0,ab(i,s,l,s.pendingProps);case 24:yo(s,Sn,i.memoizedState.cache)}return ba(i,s,l)}function pb(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)An=!0;else{if(!pg(i,l)&&(s.flags&128)===0)return An=!1,XC(i,s,l);An=(i.flags&131072)!==0}else An=!1,oe&&(s.flags&1048576)!==0&&Jt(s,I,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(i=Dl(s.elementType),s.type=i,typeof i=="function")Ou(i)?(h=zl(i,h),s.tag=1,s=cb(null,s,i,h,l)):(s.tag=0,s=lg(null,s,i,h,l));else{if(i!=null){var p=i.$$typeof;if(p===xt){s.tag=11,s=ib(null,s,i,h,l);break t}else if(p===k){s.tag=14,s=rb(null,s,i,h,l);break t}}throw s=se(i)||i,Error(r(306,s,""))}}return s;case 0:return lg(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,p=zl(h,s.pendingProps),cb(i,s,h,p,l);case 3:t:{if(Pt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;p=_.element,Dp(i,s),th(s,h,null,l);var x=s.memoizedState;if(h=x.cache,yo(s,Sn,h),h!==_.cache&&Ip(s,[Sn],l,!0),Jc(),h=x.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=hb(i,s,h,l);break t}else if(h!==p){p=c(Error(r(424)),s),Nl(p),s=hb(i,s,h,l);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ae=Ir(i.firstChild),xe=s,oe=!0,Vs=null,Ni=!0,l=a0(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ga(),h===p){s=ba(i,s,l);break t}qn(i,s,h,l)}s=s.child}return s;case 26:return Jf(i,s),i===null?(l=AE(s.type,null,s.pendingProps,null))?s.memoizedState=l:oe||(l=s.type,i=s.pendingProps,h=gd(_t.current).createElement(l),h[rn]=s,h[un]=i,Gn(h,l,i),cn(h),s.stateNode=h):s.memoizedState=AE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ve(s),i===null&&oe&&(h=s.stateNode=TE(s.type,s.pendingProps,_t.current),xe=s,Ni=!0,p=Ae,Po(s.type)?(Kg=p,Ae=Ir(h.firstChild)):Ae=p),qn(i,s,s.pendingProps.children,l),Jf(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&oe&&((p=h=Ae)&&(h=C2(h,s.type,s.pendingProps,Ni),h!==null?(s.stateNode=h,xe=s,Ae=Ir(h.firstChild),Ni=!1,p=!0):p=!1),p||zs(s)),ve(s),p=s.type,_=s.pendingProps,x=i!==null?i.memoizedProps:null,h=_.children,Hg(p,_)?h=null:x!==null&&Hg(p,x)&&(s.flags|=32),s.memoizedState!==null&&(p=Fp(i,s,FC,null,null,l),bh._currentValue=p),Jf(i,s),qn(i,s,h,l),s.child;case 6:return i===null&&oe&&((i=l=Ae)&&(l=R2(l,s.pendingProps,Ni),l!==null?(s.stateNode=l,xe=s,Ae=null,i=!0):i=!1),i||zs(s)),null;case 13:return fb(i,s,l);case 4:return Pt(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=jl(s,null,h,l):qn(i,s,h,l),s.child;case 11:return ib(i,s,s.type,s.pendingProps,l);case 7:return qn(i,s,s.pendingProps,l),s.child;case 8:return qn(i,s,s.pendingProps.children,l),s.child;case 12:return qn(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,yo(s,s.type,h.value),qn(i,s,h.children,l),s.child;case 9:return p=s.type._context,h=s.pendingProps.children,Ll(s),p=Hn(p),h=h(p),s.flags|=1,qn(i,s,h,l),s.child;case 14:return rb(i,s,s.type,s.pendingProps,l);case 15:return sb(i,s,s.type,s.pendingProps,l);case 19:return mb(i,s,l);case 31:return QC(i,s,l);case 22:return ab(i,s,l,s.pendingProps);case 24:return Ll(s),h=Hn(Sn),i===null?(p=Pp(),p===null&&(p=He,_=Op(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),s.memoizedState={parent:h,cache:p},Mp(s),yo(s,Sn,p)):((i.lanes&l)!==0&&(Dp(i,s),th(s,null,null,l),Jc()),p=i.memoizedState,_=s.memoizedState,p.parent!==h?(p={parent:h,cache:h},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),yo(s,Sn,h)):(h=_.cache,yo(s,Sn,h),h!==p.cache&&Ip(s,[Sn],l,!0))),qn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ea(i){i.flags|=4}function gg(i,s,l,h,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(Fb())i.flags|=8192;else throw kl=Vf,Lp}else i.flags&=-16777217}function gb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!NE(s))if(Fb())i.flags|=8192;else throw kl=Vf,Lp}function ed(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?gu():536870912,i.lanes|=s,Gu|=s)}function ah(i,s){if(!oe)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Qe(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function $C(i,s,l){var h=s.pendingProps;switch(hn(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(s),null;case 1:return Qe(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),_a(Sn),Bt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(rs(s)?Ea(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wc())),Qe(s),null;case 26:var p=s.type,_=s.memoizedState;return i===null?(Ea(s),_!==null?(Qe(s),gb(s,_)):(Qe(s),gg(s,p,null,h,l))):_?_!==i.memoizedState?(Ea(s),Qe(s),gb(s,_)):(Qe(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&Ea(s),Qe(s),gg(s,p,i,h,l)),null;case 27:if(ce(s),l=_t.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ea(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Qe(s),null}i=ut.current,rs(s)?Zc(s):(i=TE(p,h,l),s.stateNode=i,Ea(s))}return Qe(s),null;case 5:if(ce(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ea(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Qe(s),null}if(_=ut.current,rs(s))Zc(s);else{var x=gd(_t.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?x.createElement(p,{is:h.is}):x.createElement(p)}}_[rn]=s,_[un]=h;t:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break t;for(;x.sibling===null;){if(x.return===null||x.return===s)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=_;t:switch(Gn(_,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ea(s)}}return Qe(s),gg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Ea(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=_t.current,rs(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,p=xe,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[rn]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||fE(i.nodeValue,l)),i||zs(s,!0)}else i=gd(i).createTextNode(h),i[rn]=s,s.stateNode=i}return Qe(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(h=rs(s),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[rn]=s}else ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qe(s),i=!1}else l=Wc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(er(s),s):(er(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Qe(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=rs(s),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[rn]=s}else ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qe(s),p=!1}else p=Wc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(er(s),s):(er(s),null)}return er(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=s.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==p&&(h.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),ed(s,s.updateQueue),Qe(s),null);case 4:return Bt(),i===null&&Vg(s.stateNode.containerInfo),Qe(s),null;case 10:return _a(s.type),Qe(s),null;case 19:if(Q(gn),h=s.memoizedState,h===null)return Qe(s),null;if(p=(s.flags&128)!==0,_=h.rendering,_===null)if(p)ah(h,!1);else{if(dn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Ff(i),_!==null){for(s.flags|=128,ah(h,!1),i=_.updateQueue,s.updateQueue=i,ed(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Hc(l,i),l=l.sibling;return ot(gn,gn.current&1|2),oe&&kt(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&En()>ad&&(s.flags|=128,p=!0,ah(h,!1),s.lanes=4194304)}else{if(!p)if(i=Ff(_),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,ed(s,i),ah(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!oe)return Qe(s),null}else 2*En()-h.renderingStartTime>ad&&l!==536870912&&(s.flags|=128,p=!0,ah(h,!1),s.lanes=4194304);h.isBackwards?(_.sibling=s.child,s.child=_):(i=h.last,i!==null?i.sibling=_:s.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,l=gn.current,ot(gn,p?l&1|2:l&1),oe&&kt(s,h.treeForkCount),i):(Qe(s),null);case 22:case 23:return er(s),zp(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Qe(s),s.subtreeFlags&6&&(s.flags|=8192)):Qe(s),l=s.updateQueue,l!==null&&ed(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&Q(Ml),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),_a(Sn),Qe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function JC(i,s){switch(hn(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return _a(Sn),Bt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ce(s),null;case 31:if(s.memoizedState!==null){if(er(s),s.alternate===null)throw Error(r(340));ga()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(er(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ga()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Q(gn),null;case 4:return Bt(),null;case 10:return _a(s.type),null;case 22:case 23:return er(s),zp(),i!==null&&Q(Ml),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return _a(Sn),null;case 25:return null;default:return null}}function _b(i,s){switch(hn(s),s.tag){case 3:_a(Sn),Bt();break;case 26:case 27:case 5:ce(s);break;case 4:Bt();break;case 31:s.memoizedState!==null&&er(s);break;case 13:er(s);break;case 19:Q(gn);break;case 10:_a(s.type);break;case 22:case 23:er(s),zp(),i!==null&&Q(Ml);break;case 24:_a(Sn)}}function oh(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var _=l.create,x=l.inst;h=_(),x.destroy=h}l=l.next}while(l!==p)}}catch(O){ke(s,s.return,O)}}function xo(i,s,l){try{var h=s.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var _=p.next;h=_;do{if((h.tag&i)===i){var x=h.inst,O=x.destroy;if(O!==void 0){x.destroy=void 0,p=s;var B=l,et=O;try{et()}catch(ct){ke(p,B,ct)}}}h=h.next}while(h!==_)}}catch(ct){ke(s,s.return,ct)}}function vb(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{l0(s,l)}catch(h){ke(i,i.return,h)}}}function yb(i,s,l){l.props=zl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){ke(i,s,h)}}function lh(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(p){ke(i,s,p)}}function Us(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){ke(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ke(i,s,p)}else l.current=null}function bb(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){ke(i,i.return,p)}}function _g(i,s,l){try{var h=i.stateNode;E2(h,i.type,l,s),h[un]=s}catch(p){ke(i,i.return,p)}}function Eb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Po(i.type)||i.tag===4}function vg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Eb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Po(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yg(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=$n));else if(h!==4&&(h===27&&Po(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(yg(i,s,l),i=i.sibling;i!==null;)yg(i,s,l),i=i.sibling}function nd(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&Po(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(nd(i,s,l),i=i.sibling;i!==null;)nd(i,s,l),i=i.sibling}function wb(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Gn(s,h,l),s[rn]=i,s[un]=l}catch(_){ke(i,i.return,_)}}var wa=!1,Cn=!1,bg=!1,Tb=typeof WeakSet=="function"?WeakSet:Set,Un=null;function t2(i,s){if(i=i.containerInfo,Ug=Td,i=Tl(i),Ls(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var x=0,O=-1,B=-1,et=0,ct=0,mt=i,it=null;e:for(;;){for(var at;mt!==l||p!==0&&mt.nodeType!==3||(O=x+p),mt!==_||h!==0&&mt.nodeType!==3||(B=x+h),mt.nodeType===3&&(x+=mt.nodeValue.length),(at=mt.firstChild)!==null;)it=mt,mt=at;for(;;){if(mt===i)break e;if(it===l&&++et===p&&(O=x),it===_&&++ct===h&&(B=x),(at=mt.nextSibling)!==null)break;mt=it,it=mt.parentNode}mt=at}l=O===-1||B===-1?null:{start:O,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fg={focusedElem:i,selectionRange:l},Td=!1,Un=s;Un!==null;)if(s=Un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Un=i;else for(;Un!==null;){switch(s=Un,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,p=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Lt=zl(l.type,p);i=h.getSnapshotBeforeUpdate(Lt,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ft){ke(l,l.return,Ft)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Gg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Un=i;break}Un=s.return}}function Sb(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Sa(i,l),h&4&&oh(5,l);break;case 1:if(Sa(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(x){ke(l,l.return,x)}else{var p=zl(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){ke(l,l.return,x)}}h&64&&vb(l),h&512&&lh(l,l.return);break;case 3:if(Sa(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{l0(i,s)}catch(x){ke(l,l.return,x)}}break;case 27:s===null&&h&4&&wb(l);case 26:case 5:Sa(i,l),s===null&&h&4&&bb(l),h&512&&lh(l,l.return);break;case 12:Sa(i,l);break;case 31:Sa(i,l),h&4&&Cb(i,l);break;case 13:Sa(i,l),h&4&&Rb(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=u2.bind(null,l),I2(i,l))));break;case 22:if(h=l.memoizedState!==null||wa,!h){s=s!==null&&s.memoizedState!==null||Cn,p=wa;var _=Cn;wa=h,(Cn=s)&&!_?xa(i,l,(l.subtreeFlags&8772)!==0):Sa(i,l),wa=p,Cn=_}break;case 30:break;default:Sa(i,l)}}function xb(i){var s=i.alternate;s!==null&&(i.alternate=null,xb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&to(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,Pi=!1;function Ta(i,s,l){for(l=l.child;l!==null;)Ab(i,s,l),l=l.sibling}function Ab(i,s,l){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Xn,l)}catch{}switch(l.tag){case 26:Cn||Us(l,s),Ta(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Cn||Us(l,s);var h=$e,p=Pi;Po(l.type)&&($e=l.stateNode,Pi=!1),Ta(i,s,l),_h(l.stateNode),$e=h,Pi=p;break;case 5:Cn||Us(l,s);case 6:if(h=$e,p=Pi,$e=null,Ta(i,s,l),$e=h,Pi=p,$e!==null)if(Pi)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(l.stateNode)}catch(_){ke(l,s,_)}else try{$e.removeChild(l.stateNode)}catch(_){ke(l,s,_)}break;case 18:$e!==null&&(Pi?(i=$e,vE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ju(i)):vE($e,l.stateNode));break;case 4:h=$e,p=Pi,$e=l.stateNode.containerInfo,Pi=!0,Ta(i,s,l),$e=h,Pi=p;break;case 0:case 11:case 14:case 15:xo(2,l,s),Cn||xo(4,l,s),Ta(i,s,l);break;case 1:Cn||(Us(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&yb(l,s,h)),Ta(i,s,l);break;case 21:Ta(i,s,l);break;case 22:Cn=(h=Cn)||l.memoizedState!==null,Ta(i,s,l),Cn=h;break;default:Ta(i,s,l)}}function Cb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ju(i)}catch(l){ke(s,s.return,l)}}}function Rb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ju(i)}catch(l){ke(s,s.return,l)}}function e2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Tb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Tb),s;default:throw Error(r(435,i.tag))}}function id(i,s){var l=e2(i);s.forEach(function(h){if(!l.has(h)){l.add(h);var p=c2.bind(null,i,h);h.then(p,p)}})}function Li(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],_=i,x=s,O=x;t:for(;O!==null;){switch(O.tag){case 27:if(Po(O.type)){$e=O.stateNode,Pi=!1;break t}break;case 5:$e=O.stateNode,Pi=!1;break t;case 3:case 4:$e=O.stateNode.containerInfo,Pi=!0;break t}O=O.return}if($e===null)throw Error(r(160));Ab(_,x,p),$e=null,Pi=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ib(s,i),s=s.sibling}var as=null;function Ib(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Li(s,i),Mi(i),h&4&&(xo(3,i,i.return),oh(3,i),xo(5,i,i.return));break;case 1:Li(s,i),Mi(i),h&512&&(Cn||l===null||Us(l,l.return)),h&64&&wa&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=as;if(Li(s,i),Mi(i),h&512&&(Cn||l===null||Us(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":_=p.getElementsByTagName("title")[0],(!_||_[pr]||_[rn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(h),p.head.insertBefore(_,p.querySelector("head > title"))),Gn(_,h,l),_[rn]=i,cn(_),h=_;break t;case"link":var x=IE("link","href",p).get(h+(l.href||""));if(x){for(var O=0;O<x.length;O++)if(_=x[O],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(O,1);break e}}_=p.createElement(h),Gn(_,h,l),p.head.appendChild(_);break;case"meta":if(x=IE("meta","content",p).get(h+(l.content||""))){for(O=0;O<x.length;O++)if(_=x[O],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(O,1);break e}}_=p.createElement(h),Gn(_,h,l),p.head.appendChild(_);break;default:throw Error(r(468,h))}_[rn]=i,cn(_),h=_}i.stateNode=h}else OE(p,i.type,i.stateNode);else i.stateNode=RE(p,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?OE(p,i.type,i.stateNode):RE(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&_g(i,i.memoizedProps,l.memoizedProps)}break;case 27:Li(s,i),Mi(i),h&512&&(Cn||l===null||Us(l,l.return)),l!==null&&h&4&&_g(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Li(s,i),Mi(i),h&512&&(Cn||l===null||Us(l,l.return)),i.flags&32){p=i.stateNode;try{wn(p,"")}catch(Lt){ke(i,i.return,Lt)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,_g(i,p,l!==null?l.memoizedProps:p)),h&1024&&(bg=!0);break;case 6:if(Li(s,i),Mi(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Lt){ke(i,i.return,Lt)}}break;case 3:if(yd=null,p=as,as=_d(s.containerInfo),Li(s,i),as=p,Mi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Ju(s.containerInfo)}catch(Lt){ke(i,i.return,Lt)}bg&&(bg=!1,Ob(i));break;case 4:h=as,as=_d(i.stateNode.containerInfo),Li(s,i),Mi(i),as=h;break;case 12:Li(s,i),Mi(i);break;case 31:Li(s,i),Mi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,id(i,h)));break;case 13:Li(s,i),Mi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(sd=En()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,id(i,h)));break;case 22:p=i.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,et=wa,ct=Cn;if(wa=et||p,Cn=ct||B,Li(s,i),Cn=ct,wa=et,Mi(i),h&8192)t:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||B||wa||Cn||Bl(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){B=l=s;try{if(_=B.stateNode,p)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{O=B.stateNode;var mt=B.memoizedProps.style,it=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;O.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Lt){ke(B,B.return,Lt)}}}else if(s.tag===6){if(l===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(Lt){ke(B,B.return,Lt)}}}else if(s.tag===18){if(l===null){B=s;try{var at=B.stateNode;p?yE(at,!0):yE(B.stateNode,!1)}catch(Lt){ke(B,B.return,Lt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,id(i,l))));break;case 19:Li(s,i),Mi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,id(i,h)));break;case 30:break;case 21:break;default:Li(s,i),Mi(i)}}function Mi(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(Eb(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,_=vg(i);nd(i,_,p);break;case 5:var x=l.stateNode;l.flags&32&&(wn(x,""),l.flags&=-33);var O=vg(i);nd(i,O,x);break;case 3:case 4:var B=l.stateNode.containerInfo,et=vg(i);yg(i,et,B);break;default:throw Error(r(161))}}catch(ct){ke(i,i.return,ct)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Ob(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Ob(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Sa(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Sb(i,s.alternate,s),s=s.sibling}function Bl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:xo(4,s,s.return),Bl(s);break;case 1:Us(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&yb(s,s.return,l),Bl(s);break;case 27:_h(s.stateNode);case 26:case 5:Us(s,s.return),Bl(s);break;case 22:s.memoizedState===null&&Bl(s);break;case 30:Bl(s);break;default:Bl(s)}i=i.sibling}}function xa(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,p=i,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:xa(p,_,l),oh(4,_);break;case 1:if(xa(p,_,l),h=_,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(et){ke(h,h.return,et)}if(h=_,p=h.updateQueue,p!==null){var O=h.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)o0(B[p],O)}catch(et){ke(h,h.return,et)}}l&&x&64&&vb(_),lh(_,_.return);break;case 27:wb(_);case 26:case 5:xa(p,_,l),l&&h===null&&x&4&&bb(_),lh(_,_.return);break;case 12:xa(p,_,l);break;case 31:xa(p,_,l),l&&x&4&&Cb(p,_);break;case 13:xa(p,_,l),l&&x&4&&Rb(p,_);break;case 22:_.memoizedState===null&&xa(p,_,l),lh(_,_.return);break;case 30:break;default:xa(p,_,l)}s=s.sibling}}function Eg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Kc(l))}function wg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Kc(i))}function os(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Nb(i,s,l,h),s=s.sibling}function Nb(i,s,l,h){var p=s.flags;switch(s.tag){case 0:case 11:case 15:os(i,s,l,h),p&2048&&oh(9,s);break;case 1:os(i,s,l,h);break;case 3:os(i,s,l,h),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Kc(i)));break;case 12:if(p&2048){os(i,s,l,h),i=s.stateNode;try{var _=s.memoizedProps,x=_.id,O=_.onPostCommit;typeof O=="function"&&O(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){ke(s,s.return,B)}}else os(i,s,l,h);break;case 31:os(i,s,l,h);break;case 13:os(i,s,l,h);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?os(i,s,l,h):uh(i,s):_._visibility&2?os(i,s,l,h):(_._visibility|=2,Fu(i,s,l,h,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Eg(x,s);break;case 24:os(i,s,l,h),p&2048&&wg(s.alternate,s);break;default:os(i,s,l,h)}}function Fu(i,s,l,h,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,x=s,O=l,B=h,et=x.flags;switch(x.tag){case 0:case 11:case 15:Fu(_,x,O,B,p),oh(8,x);break;case 23:break;case 22:var ct=x.stateNode;x.memoizedState!==null?ct._visibility&2?Fu(_,x,O,B,p):uh(_,x):(ct._visibility|=2,Fu(_,x,O,B,p)),p&&et&2048&&Eg(x.alternate,x);break;case 24:Fu(_,x,O,B,p),p&&et&2048&&wg(x.alternate,x);break;default:Fu(_,x,O,B,p)}s=s.sibling}}function uh(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,p=h.flags;switch(h.tag){case 22:uh(l,h),p&2048&&Eg(h.alternate,h);break;case 24:uh(l,h),p&2048&&wg(h.alternate,h);break;default:uh(l,h)}s=s.sibling}}var ch=8192;function Hu(i,s,l){if(i.subtreeFlags&ch)for(i=i.child;i!==null;)Pb(i,s,l),i=i.sibling}function Pb(i,s,l){switch(i.tag){case 26:Hu(i,s,l),i.flags&ch&&i.memoizedState!==null&&U2(l,as,i.memoizedState,i.memoizedProps);break;case 5:Hu(i,s,l);break;case 3:case 4:var h=as;as=_d(i.stateNode.containerInfo),Hu(i,s,l),as=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=ch,ch=16777216,Hu(i,s,l),ch=h):Hu(i,s,l));break;default:Hu(i,s,l)}}function Lb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function hh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Un=h,Db(h,i)}Lb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Mb(i),i=i.sibling}function Mb(i){switch(i.tag){case 0:case 11:case 15:hh(i),i.flags&2048&&xo(9,i,i.return);break;case 3:hh(i);break;case 12:hh(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,rd(i)):hh(i);break;default:hh(i)}}function rd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Un=h,Db(h,i)}Lb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:xo(8,s,s.return),rd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,rd(s));break;default:rd(s)}i=i.sibling}}function Db(i,s){for(;Un!==null;){var l=Un;switch(l.tag){case 0:case 11:case 15:xo(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Kc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Un=h;else t:for(l=i;Un!==null;){h=Un;var p=h.sibling,_=h.return;if(xb(h),h===l){Un=null;break t}if(p!==null){p.return=_,Un=p;break t}Un=_}}}var n2={getCacheForType:function(i){var s=Hn(Sn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Hn(Sn).controller.signal}},i2=typeof WeakMap=="function"?WeakMap:Map,Oe=0,He=null,le=null,fe=0,De=0,nr=null,Ao=!1,qu=!1,Tg=!1,Aa=0,dn=0,Co=0,Ul=0,Sg=0,ir=0,Gu=0,fh=null,Di=null,xg=!1,sd=0,kb=0,ad=1/0,od=null,Ro=null,Pn=0,Io=null,Zu=null,Ca=0,Ag=0,Cg=null,jb=null,dh=0,Rg=null;function rr(){return(Oe&2)!==0&&fe!==0?fe&-fe:st.T!==null?Mg():ul()}function Vb(){if(ir===0)if((fe&536870912)===0||oe){var i=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),ir=i}else ir=536870912;return i=tr.current,i!==null&&(i.flags|=32),ir}function ki(i,s,l){(i===He&&(De===2||De===9)||i.cancelPendingCommit!==null)&&(Wu(i,0),Oo(i,fe,ir,!1)),Wr(i,l),((Oe&2)===0||i!==He)&&(i===He&&((Oe&2)===0&&(Ul|=l),dn===4&&Oo(i,fe,ir,!1)),Fs(i))}function zb(i,s,l){if((Oe&6)!==0)throw Error(r(327));var h=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Fi(i,s),p=h?a2(i,s):Og(i,s,!0),_=h;do{if(p===0){qu&&!h&&Oo(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!r2(l)){p=Og(i,s,!1),_=!1;continue}if(p===2){if(_=s,i.errorRecoveryDisabledLanes&_)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;t:{var O=i;p=fh;var B=O.current.memoizedState.isDehydrated;if(B&&(Wu(O,x).flags|=256),x=Og(O,x,!1),x!==2){if(Tg&&!B){O.errorRecoveryDisabledLanes|=_,Ul|=_,p=4;break t}_=Di,Di=p,_!==null&&(Di===null?Di=_:Di.push.apply(Di,_))}p=x}if(_=!1,p!==2)continue}}if(p===1){Wu(i,0),Oo(i,s,0,!0);break}t:{switch(h=i,_=p,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Oo(h,s,ir,!Ao);break t;case 2:Di=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=sd+300-En(),10<p)){if(Oo(h,s,ir,!Ao),dr(h,0,!0)!==0)break t;Ca=s,h.timeoutHandle=gE(Bb.bind(null,h,l,Di,od,xg,s,ir,Ul,Gu,Ao,_,"Throttled",-0,0),p);break t}Bb(h,l,Di,od,xg,s,ir,Ul,Gu,Ao,_,null,-0,0)}}break}while(!0);Fs(i)}function Bb(i,s,l,h,p,_,x,O,B,et,ct,mt,it,at){if(i.timeoutHandle=-1,mt=s.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},Pb(s,_,mt);var Lt=(_&62914560)===_?sd-En():(_&4194048)===_?kb-En():0;if(Lt=F2(mt,Lt),Lt!==null){Ca=_,i.cancelPendingCommit=Lt(Kb.bind(null,i,s,_,l,h,p,x,O,B,ct,mt,null,it,at)),Oo(i,_,x,!et);return}}Kb(i,s,_,l,h,p,x,O,B)}function r2(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],_=p.getSnapshot;p=p.value;try{if(!zn(_(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Oo(i,s,l,h){s&=~Sg,s&=~Ul,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var p=s;0<p;){var _=31-en(p),x=1<<_;h[_]=-1,p&=~x}l!==0&&sa(i,l,s)}function ld(){return(Oe&6)===0?(mh(0),!1):!0}function Ig(){if(le!==null){if(De===0)var i=le.return;else i=le,ss=Bs=null,Gp(i),ju=null,Qc=0,i=le;for(;i!==null;)_b(i.alternate,i),i=i.return;le=null}}function Wu(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,S2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ca=0,Ig(),He=i,le=l=Cr(i.current,null),fe=s,De=0,nr=null,Ao=!1,qu=Fi(i,s),Tg=!1,Gu=ir=Sg=Ul=Co=dn=0,Di=fh=null,xg=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var p=31-en(h),_=1<<p;s|=i[p],h&=~_}return Aa=s,Rl(),l}function Ub(i,s){$t=null,st.H=rh,s===ku||s===jf?(s=i0(),De=3):s===Lp?(s=i0(),De=4):De=s===og?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nr=s,le===null&&(dn=1,Xf(i,c(s,i.current)))}function Fb(){var i=tr.current;return i===null?!0:(fe&4194048)===fe?Rr===null:(fe&62914560)===fe||(fe&536870912)!==0?i===Rr:!1}function Hb(){var i=st.H;return st.H=rh,i===null?rh:i}function qb(){var i=st.A;return st.A=n2,i}function ud(){dn=4,Ao||(fe&4194048)!==fe&&tr.current!==null||(qu=!0),(Co&134217727)===0&&(Ul&134217727)===0||He===null||Oo(He,fe,ir,!1)}function Og(i,s,l){var h=Oe;Oe|=2;var p=Hb(),_=qb();(He!==i||fe!==s)&&(od=null,Wu(i,s)),s=!1;var x=dn;t:do try{if(De!==0&&le!==null){var O=le,B=nr;switch(De){case 8:Ig(),x=6;break t;case 3:case 2:case 9:case 6:tr.current===null&&(s=!0);var et=De;if(De=0,nr=null,Ku(i,O,B,et),l&&qu){x=0;break t}break;default:et=De,De=0,nr=null,Ku(i,O,B,et)}}s2(),x=dn;break}catch(ct){Ub(i,ct)}while(!0);return s&&i.shellSuspendCounter++,ss=Bs=null,Oe=h,st.H=p,st.A=_,le===null&&(He=null,fe=0,Rl()),x}function s2(){for(;le!==null;)Gb(le)}function a2(i,s){var l=Oe;Oe|=2;var h=Hb(),p=qb();He!==i||fe!==s?(od=null,ad=En()+500,Wu(i,s)):qu=Fi(i,s);t:do try{if(De!==0&&le!==null){s=le;var _=nr;e:switch(De){case 1:De=0,nr=null,Ku(i,s,_,1);break;case 2:case 9:if(e0(_)){De=0,nr=null,Zb(s);break}s=function(){De!==2&&De!==9||He!==i||(De=7),Fs(i)},_.then(s,s);break t;case 3:De=7;break t;case 4:De=5;break t;case 7:e0(_)?(De=0,nr=null,Zb(s)):(De=0,nr=null,Ku(i,s,_,7));break;case 5:var x=null;switch(le.tag){case 26:x=le.memoizedState;case 5:case 27:var O=le;if(x?NE(x):O.stateNode.complete){De=0,nr=null;var B=O.sibling;if(B!==null)le=B;else{var et=O.return;et!==null?(le=et,cd(et)):le=null}break e}}De=0,nr=null,Ku(i,s,_,5);break;case 6:De=0,nr=null,Ku(i,s,_,6);break;case 8:Ig(),dn=6;break t;default:throw Error(r(462))}}o2();break}catch(ct){Ub(i,ct)}while(!0);return ss=Bs=null,st.H=h,st.A=p,Oe=l,le!==null?0:(He=null,fe=0,Rl(),dn)}function o2(){for(;le!==null&&!Qa();)Gb(le)}function Gb(i){var s=pb(i.alternate,i,Aa);i.memoizedProps=i.pendingProps,s===null?cd(i):le=s}function Zb(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=ub(l,s,s.pendingProps,s.type,void 0,fe);break;case 11:s=ub(l,s,s.pendingProps,s.type.render,s.ref,fe);break;case 5:Gp(s);default:_b(l,s),s=le=Hc(s,Aa),s=pb(l,s,Aa)}i.memoizedProps=i.pendingProps,s===null?cd(i):le=s}function Ku(i,s,l,h){ss=Bs=null,Gp(s),ju=null,Qc=0;var p=s.return;try{if(YC(i,p,s,l,fe)){dn=1,Xf(i,c(l,i.current)),le=null;return}}catch(_){if(p!==null)throw le=p,_;dn=1,Xf(i,c(l,i.current)),le=null;return}s.flags&32768?(oe||h===1?i=!0:qu||(fe&536870912)!==0?i=!1:(Ao=i=!0,(h===2||h===9||h===3||h===6)&&(h=tr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Wb(s,i)):cd(s)}function cd(i){var s=i;do{if((s.flags&32768)!==0){Wb(s,Ao);return}i=s.return;var l=$C(s.alternate,s,Aa);if(l!==null){le=l;return}if(s=s.sibling,s!==null){le=s;return}le=s=i}while(s!==null);dn===0&&(dn=5)}function Wb(i,s){do{var l=JC(i.alternate,i);if(l!==null){l.flags&=32767,le=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){le=i;return}le=i=l}while(i!==null);dn=6,le=null}function Kb(i,s,l,h,p,_,x,O,B){i.cancelPendingCommit=null;do hd();while(Pn!==0);if((Oe&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Iu,Uc(i,l,_,x,O,B),i===He&&(le=He=null,fe=0),Zu=s,Io=i,Ca=l,Ag=_,Cg=p,jb=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,h2(Bi,function(){return Jb(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=st.T,st.T=null,p=Tt.p,Tt.p=2,x=Oe,Oe|=4;try{t2(i,s,l)}finally{Oe=x,Tt.p=p,st.T=h}}Pn=1,Yb(),Qb(),Xb()}}function Yb(){if(Pn===1){Pn=0;var i=Io,s=Zu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=st.T,st.T=null;var h=Tt.p;Tt.p=2;var p=Oe;Oe|=4;try{Ib(s,i);var _=Fg,x=Tl(i.containerInfo),O=_.focusedElem,B=_.selectionRange;if(x!==O&&O&&O.ownerDocument&&xu(O.ownerDocument.documentElement,O)){if(B!==null&&Ls(O)){var et=B.start,ct=B.end;if(ct===void 0&&(ct=et),"selectionStart"in O)O.selectionStart=et,O.selectionEnd=Math.min(ct,O.value.length);else{var mt=O.ownerDocument||document,it=mt&&mt.defaultView||window;if(it.getSelection){var at=it.getSelection(),Lt=O.textContent.length,Ft=Math.min(B.start,Lt),Be=B.end===void 0?Ft:Math.min(B.end,Lt);!at.extend&&Ft>Be&&(x=Be,Be=Ft,Ft=x);var X=wl(O,Ft),Z=wl(O,Be);if(X&&Z&&(at.rangeCount!==1||at.anchorNode!==X.node||at.anchorOffset!==X.offset||at.focusNode!==Z.node||at.focusOffset!==Z.offset)){var tt=mt.createRange();tt.setStart(X.node,X.offset),at.removeAllRanges(),Ft>Be?(at.addRange(tt),at.extend(Z.node,Z.offset)):(tt.setEnd(Z.node,Z.offset),at.addRange(tt))}}}}for(mt=[],at=O;at=at.parentNode;)at.nodeType===1&&mt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<mt.length;O++){var ft=mt[O];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}Td=!!Ug,Fg=Ug=null}finally{Oe=p,Tt.p=h,st.T=l}}i.current=s,Pn=2}}function Qb(){if(Pn===2){Pn=0;var i=Io,s=Zu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=st.T,st.T=null;var h=Tt.p;Tt.p=2;var p=Oe;Oe|=4;try{Sb(i,s.alternate,s)}finally{Oe=p,Tt.p=h,st.T=l}}Pn=3}}function Xb(){if(Pn===4||Pn===3){Pn=0,ra();var i=Io,s=Zu,l=Ca,h=jb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pn=5:(Pn=0,Zu=Io=null,$b(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ro=null),Ot(l),s=s.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Xn,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=st.T,p=Tt.p,Tt.p=2,st.T=null;try{for(var _=i.onRecoverableError,x=0;x<h.length;x++){var O=h[x];_(O.value,{componentStack:O.stack})}}finally{st.T=s,Tt.p=p}}(Ca&3)!==0&&hd(),Fs(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Rg?dh++:(dh=0,Rg=i):dh=0,mh(0)}}function $b(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Kc(s)))}function hd(){return Yb(),Qb(),Xb(),Jb()}function Jb(){if(Pn!==5)return!1;var i=Io,s=Ag;Ag=0;var l=Ot(Ca),h=st.T,p=Tt.p;try{Tt.p=32>l?32:l,st.T=null,l=Cg,Cg=null;var _=Io,x=Ca;if(Pn=0,Zu=Io=null,Ca=0,(Oe&6)!==0)throw Error(r(331));var O=Oe;if(Oe|=4,Mb(_.current),Nb(_,_.current,x,l),Oe=O,mh(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Xn,_)}catch{}return!0}finally{Tt.p=p,st.T=h,$b(i,s)}}function tE(i,s,l){s=c(l,s),s=ag(i.stateNode,s,2),i=wo(i,s,2),i!==null&&(Wr(i,2),Fs(i))}function ke(i,s,l){if(i.tag===3)tE(i,i,l);else for(;s!==null;){if(s.tag===3){tE(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ro===null||!Ro.has(h))){i=c(l,i),l=eb(2),h=wo(s,l,2),h!==null&&(nb(l,h,s,i),Wr(h,2),Fs(h));break}}s=s.return}}function Ng(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new i2;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(Tg=!0,p.add(l),i=l2.bind(null,i,s,l),s.then(i,i))}function l2(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,He===i&&(fe&l)===l&&(dn===4||dn===3&&(fe&62914560)===fe&&300>En()-sd?(Oe&2)===0&&Wu(i,0):Sg|=l,Gu===fe&&(Gu=0)),Fs(i)}function eE(i,s){s===0&&(s=gu()),i=Ar(i,s),i!==null&&(Wr(i,s),Fs(i))}function u2(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),eE(i,l)}function c2(i,s){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),eE(i,l)}function h2(i,s){return we(i,s)}var fd=null,Yu=null,Pg=!1,dd=!1,Lg=!1,No=0;function Fs(i){i!==Yu&&i.next===null&&(Yu===null?fd=Yu=i:Yu=Yu.next=i),dd=!0,Pg||(Pg=!0,d2())}function mh(i,s){if(!Lg&&dd){Lg=!0;do for(var l=!1,h=fd;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var _=0;else{var x=h.suspendedLanes,O=h.pingedLanes;_=(1<<31-en(42|i)+1)-1,_&=p&~(x&~O),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,sE(h,_))}else _=fe,_=dr(h,h===He?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||Fi(h,_)||(l=!0,sE(h,_));h=h.next}while(l);Lg=!1}}function f2(){nE()}function nE(){dd=Pg=!1;var i=0;No!==0&&T2()&&(i=No);for(var s=En(),l=null,h=fd;h!==null;){var p=h.next,_=iE(h,s);_===0?(h.next=null,l===null?fd=p:l.next=p,p===null&&(Yu=l)):(l=h,(i!==0||(_&3)!==0)&&(dd=!0)),h=p}Pn!==0&&Pn!==5||mh(i),No!==0&&(No=0)}function iE(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var x=31-en(_),O=1<<x,B=p[x];B===-1?((O&l)===0||(O&h)!==0)&&(p[x]=Bc(O,s)):B<=s&&(i.expiredLanes|=O),_&=~O}if(s=He,l=fe,l=dr(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(De===2||De===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&yi(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Fi(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&yi(h),Ot(l)){case 2:case 8:l=ws;break;case 32:l=Bi;break;case 268435456:l=Ts;break;default:l=Bi}return h=rE.bind(null,i),l=we(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&yi(h),i.callbackPriority=2,i.callbackNode=null,2}function rE(i,s){if(Pn!==0&&Pn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(hd()&&i.callbackNode!==l)return null;var h=fe;return h=dr(i,i===He?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(zb(i,h,s),iE(i,En()),i.callbackNode!=null&&i.callbackNode===l?rE.bind(null,i):null)}function sE(i,s){if(hd())return null;zb(i,s,!0)}function d2(){x2(function(){(Oe&6)!==0?we(hr,f2):nE()})}function Mg(){if(No===0){var i=Mu;i===0&&(i=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),No=i}return No}function aE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Rs(""+i)}function oE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function m2(i,s,l,h,p){if(s==="submit"&&l&&l.stateNode===p){var _=aE((p[un]||null).action),x=h.submitter;x&&(s=(s=x[un]||null)?aE(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var O=new wr("action","action",null,h,p);i.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(No!==0){var B=x?oE(p,x):new FormData(p);tg(l,{pending:!0,data:B,method:p.method,action:_},null,B)}}else typeof _=="function"&&(O.preventDefault(),B=x?oE(p,x):new FormData(p),tg(l,{pending:!0,data:B,method:p.method,action:_},_,B))},currentTarget:p}]})}}for(var Dg=0;Dg<ks.length;Dg++){var kg=ks[Dg],p2=kg.toLowerCase(),g2=kg[0].toUpperCase()+kg.slice(1);Ii(p2,"on"+g2)}Ii(xl,"onAnimationEnd"),Ii(Nf,"onAnimationIteration"),Ii(Al,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(xp,"onTransitionRun"),Ii(Pf,"onTransitionStart"),Ii(Ap,"onTransitionCancel"),Ii(_o,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_r("onBeforeInput",["compositionend","keypress","textInput","paste"]),_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ph));function lE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;t:{var _=void 0;if(s)for(var x=h.length-1;0<=x;x--){var O=h[x],B=O.instance,et=O.currentTarget;if(O=O.listener,B!==_&&p.isPropagationStopped())break t;_=O,p.currentTarget=et;try{_(p)}catch(ct){Cl(ct)}p.currentTarget=null,_=B}else for(x=0;x<h.length;x++){if(O=h[x],B=O.instance,et=O.currentTarget,O=O.listener,B!==_&&p.isPropagationStopped())break t;_=O,p.currentTarget=et;try{_(p)}catch(ct){Cl(ct)}p.currentTarget=null,_=B}}}}function ue(i,s){var l=s[qi];l===void 0&&(l=s[qi]=new Set);var h=i+"__bubble";l.has(h)||(uE(s,i,2,!1),l.add(h))}function jg(i,s,l){var h=0;s&&(h|=4),uE(l,i,h,s)}var md="_reactListening"+Math.random().toString(36).slice(2);function Vg(i){if(!i[md]){i[md]=!0,cl.forEach(function(l){l!=="selectionchange"&&(_2.has(l)||jg(l,!1,i),jg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[md]||(s[md]=!0,jg("selectionchange",!1,s))}}function uE(i,s,l,h){switch(VE(s)){case 2:var p=G2;break;case 8:p=Z2;break;default:p=Jg}l=p.bind(null,s,l,i),p=void 0,!Xr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function zg(i,s,l,h,p){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var O=h.stateNode.containerInfo;if(O===p)break;if(x===4)for(x=h.return;x!==null;){var B=x.tag;if((B===3||B===4)&&x.stateNode.containerInfo===p)return;x=x.return}for(;O!==null;){if(x=Gi(O),x===null)return;if(B=x.tag,B===5||B===6||B===26||B===27){h=_=x;continue t}O=O.parentNode}}h=h.return}Qr(function(){var et=_,ct=Jn(l),mt=[];t:{var it=Lf.get(i);if(it!==void 0){var at=wr,Lt=i;switch(i){case"keypress":if(Os(l)===0)break t;case"keydown":case"keyup":at=_l;break;case"focusin":Lt="focus",at=ha;break;case"focusout":Lt="blur",at=ha;break;case"beforeblur":case"afterblur":at=ha;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=w;break;case xl:case Nf:case Al:at=ao;break;case _o:at=P;break;case"scroll":case"scrollend":at=ne;break;case"wheel":at=rt;break;case"copy":case"cut":case"paste":at=fi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=es;break;case"toggle":case"beforetoggle":at=Gt}var Ft=(s&4)!==0,Be=!Ft&&(i==="scroll"||i==="scrollend"),X=Ft?it!==null?it+"Capture":null:it;Ft=[];for(var Z=et,tt;Z!==null;){var ft=Z;if(tt=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||tt===null||X===null||(ft=hi(Z,X),ft!=null&&Ft.push(gh(Z,ft,tt))),Be)break;Z=Z.return}0<Ft.length&&(it=new at(it,Lt,null,l,ct),mt.push({event:it,listeners:Ft}))}}if((s&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",at=i==="mouseout"||i==="pointerout",it&&l!==so&&(Lt=l.relatedTarget||l.fromElement)&&(Gi(Lt)||Lt[Hi]))break t;if((at||it)&&(it=ct.window===ct?ct:(it=ct.ownerDocument)?it.defaultView||it.parentWindow:window,at?(Lt=l.relatedTarget||l.toElement,at=et,Lt=Lt?Gi(Lt):null,Lt!==null&&(Be=u(Lt),Ft=Lt.tag,Lt!==Be||Ft!==5&&Ft!==27&&Ft!==6)&&(Lt=null)):(at=null,Lt=et),at!==Lt)){if(Ft=fl,ft="onMouseLeave",X="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(Ft=es,ft="onPointerLeave",X="onPointerEnter",Z="pointer"),Be=at==null?it:Dn(at),tt=Lt==null?it:Dn(Lt),it=new Ft(ft,Z+"leave",at,l,ct),it.target=Be,it.relatedTarget=tt,ft=null,Gi(ct)===et&&(Ft=new Ft(X,Z+"enter",Lt,l,ct),Ft.target=tt,Ft.relatedTarget=Be,ft=Ft),Be=ft,at&&Lt)e:{for(Ft=v2,X=at,Z=Lt,tt=0,ft=X;ft;ft=Ft(ft))tt++;ft=0;for(var Vt=Z;Vt;Vt=Ft(Vt))ft++;for(;0<tt-ft;)X=Ft(X),tt--;for(;0<ft-tt;)Z=Ft(Z),ft--;for(;tt--;){if(X===Z||Z!==null&&X===Z.alternate){Ft=X;break e}X=Ft(X),Z=Ft(Z)}Ft=null}else Ft=null;at!==null&&cE(mt,it,at,Ft,!1),Lt!==null&&Be!==null&&cE(mt,Be,Lt,Ft,!0)}}t:{if(it=et?Dn(et):window,at=it.nodeName&&it.nodeName.toLowerCase(),at==="select"||at==="input"&&it.type==="file")var Ce=El;else if(Tr(it))if(Af)Ce=Sp;else{Ce=Tp;var Mt=ns}else at=it.nodeName,!at||at.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&Cs(et.elementType)&&(Ce=El):Ce=fo;if(Ce&&(Ce=Ce(i,et))){xf(mt,Ce,l,ct);break t}Mt&&Mt(i,it,et),i==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&Zi(it,"number",it.value)}switch(Mt=et?Dn(et):window,i){case"focusin":(Tr(Mt)||Mt.contentEditable==="true")&&(Ms=Mt,Cu=et,Sl=null);break;case"focusout":Sl=Cu=Ms=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,If(mt,l,ct);break;case"selectionchange":if(Au)break;case"keydown":case"keyup":If(mt,l,ct)}var te;if(be)t:{switch(i){case"compositionstart":var de="onCompositionStart";break t;case"compositionend":de="onCompositionEnd";break t;case"compositionupdate":de="onCompositionUpdate";break t}de=void 0}else uo?fa(i,l)&&(de="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(de="onCompositionStart");de&&(Ri&&l.locale!=="ko"&&(uo||de!=="onCompositionStart"?de==="onCompositionEnd"&&uo&&(te=Wi()):(Ai=ct,$r="value"in Ai?Ai.value:Ai.textContent,uo=!0)),Mt=pd(et,de),0<Mt.length&&(de=new Qi(de,i,null,l,ct),mt.push({event:de,listeners:Mt}),te?de.data=te:(te=da(l),te!==null&&(de.data=te)))),(te=Ci?Ji(i,l):co(i,l))&&(de=pd(et,"onBeforeInput"),0<de.length&&(Mt=new Qi("onBeforeInput","beforeinput",null,l,ct),mt.push({event:Mt,listeners:de}),Mt.data=te)),m2(mt,i,et,l,ct)}lE(mt,s)})}function gh(i,s,l){return{instance:i,listener:s,currentTarget:l}}function pd(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=hi(i,l),p!=null&&h.unshift(gh(i,p,_)),p=hi(i,s),p!=null&&h.push(gh(i,p,_))),i.tag===3)return h;i=i.return}return[]}function v2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function cE(i,s,l,h,p){for(var _=s._reactName,x=[];l!==null&&l!==h;){var O=l,B=O.alternate,et=O.stateNode;if(O=O.tag,B!==null&&B===h)break;O!==5&&O!==26&&O!==27||et===null||(B=et,p?(et=hi(l,_),et!=null&&x.unshift(gh(l,et,B))):p||(et=hi(l,_),et!=null&&x.push(gh(l,et,B)))),l=l.return}x.length!==0&&i.push({event:s,listeners:x})}var y2=/\r\n?/g,b2=/\u0000|\uFFFD/g;function hE(i){return(typeof i=="string"?i:""+i).replace(y2,`
`).replace(b2,"")}function fE(i,s){return s=hE(s),hE(i)===s}function ze(i,s,l,h,p,_){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||wn(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&wn(i,""+h);break;case"className":ae(i,"class",h);break;case"tabIndex":ae(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ae(i,l,h);break;case"style":la(i,h,_);break;case"data":if(s!=="object"){ae(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Rs(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&ze(i,s,"name",p.name,p,null),ze(i,s,"formEncType",p.formEncType,p,null),ze(i,s,"formMethod",p.formMethod,p,null),ze(i,s,"formTarget",p.formTarget,p,null)):(ze(i,s,"encType",p.encType,p,null),ze(i,s,"method",p.method,p,null),ze(i,s,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Rs(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=$n);break;case"onScroll":h!=null&&ue("scroll",i);break;case"onScrollEnd":h!=null&&ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Rs(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ue("beforetoggle",i),ue("toggle",i),ie(i,"popover",h);break;case"xlinkActuate":We(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":We(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":We(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":We(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":We(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":We(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":We(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":We(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":We(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ie(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ua.get(l)||l,ie(i,l,h))}}function Bg(i,s,l,h,p,_){switch(l){case"style":la(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?wn(i,h):(typeof h=="number"||typeof h=="bigint")&&wn(i,""+h);break;case"onScroll":h!=null&&ue("scroll",i);break;case"onScrollEnd":h!=null&&ue("scrollend",i);break;case"onClick":h!=null&&(i.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),_=i[un]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,p),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,p);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):ie(i,l,h)}}}function Gn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",i),ue("load",i);var h=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var x=l[_];if(x!=null)switch(_){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(i,s,_,x,l,null)}}p&&ze(i,s,"srcSet",l.srcSet,l,null),h&&ze(i,s,"src",l.src,l,null);return;case"input":ue("invalid",i);var O=_=x=p=null,B=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ct=l[h];if(ct!=null)switch(h){case"name":p=ct;break;case"type":x=ct;break;case"checked":B=ct;break;case"defaultChecked":et=ct;break;case"value":_=ct;break;case"defaultValue":O=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,s));break;default:ze(i,s,h,ct,l,null)}}oa(i,_,O,B,et,x,p,!1);return;case"select":ue("invalid",i),h=x=_=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":_=O;break;case"defaultValue":x=O;break;case"multiple":h=O;default:ze(i,s,p,O,l,null)}s=_,l=x,i.multiple=!!h,s!=null?Me(i,!!h,s,!1):l!=null&&Me(i,!!h,l,!0);return;case"textarea":ue("invalid",i),_=p=h=null;for(x in l)if(l.hasOwnProperty(x)&&(O=l[x],O!=null))switch(x){case"value":h=O;break;case"defaultValue":p=O;break;case"children":_=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:ze(i,s,x,O,l,null)}xi(i,h,p,_);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(h=l[B],h!=null))switch(B){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ze(i,s,B,h,l,null)}return;case"dialog":ue("beforetoggle",i),ue("toggle",i),ue("cancel",i),ue("close",i);break;case"iframe":case"object":ue("load",i);break;case"video":case"audio":for(h=0;h<ph.length;h++)ue(ph[h],i);break;case"image":ue("error",i),ue("load",i);break;case"details":ue("toggle",i);break;case"embed":case"source":case"link":ue("error",i),ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(i,s,et,h,l,null)}return;default:if(Cs(s)){for(ct in l)l.hasOwnProperty(ct)&&(h=l[ct],h!==void 0&&Bg(i,s,ct,h,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(h=l[O],h!=null&&ze(i,s,O,h,l,null))}function E2(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,x=null,O=null,B=null,et=null,ct=null;for(at in l){var mt=l[at];if(l.hasOwnProperty(at)&&mt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":B=mt;default:h.hasOwnProperty(at)||ze(i,s,at,null,h,mt)}}for(var it in h){var at=h[it];if(mt=l[it],h.hasOwnProperty(it)&&(at!=null||mt!=null))switch(it){case"type":_=at;break;case"name":p=at;break;case"checked":et=at;break;case"defaultChecked":ct=at;break;case"value":x=at;break;case"defaultValue":O=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,s));break;default:at!==mt&&ze(i,s,it,at,h,mt)}}io(i,x,O,B,et,ct,_,p);return;case"select":at=x=O=it=null;for(_ in l)if(B=l[_],l.hasOwnProperty(_)&&B!=null)switch(_){case"value":break;case"multiple":at=B;default:h.hasOwnProperty(_)||ze(i,s,_,null,h,B)}for(p in h)if(_=h[p],B=l[p],h.hasOwnProperty(p)&&(_!=null||B!=null))switch(p){case"value":it=_;break;case"defaultValue":O=_;break;case"multiple":x=_;default:_!==B&&ze(i,s,p,_,h,B)}s=O,l=x,h=at,it!=null?Me(i,!!l,it,!1):!!h!=!!l&&(s!=null?Me(i,!!l,s,!0):Me(i,!!l,l?[]:"",!1));return;case"textarea":at=it=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ze(i,s,O,null,h,p)}for(x in h)if(p=h[x],_=l[x],h.hasOwnProperty(x)&&(p!=null||_!=null))switch(x){case"value":it=p;break;case"defaultValue":at=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==_&&ze(i,s,x,p,h,_)}yr(i,it,at);return;case"option":for(var Lt in l)if(it=l[Lt],l.hasOwnProperty(Lt)&&it!=null&&!h.hasOwnProperty(Lt))switch(Lt){case"selected":i.selected=!1;break;default:ze(i,s,Lt,null,h,it)}for(B in h)if(it=h[B],at=l[B],h.hasOwnProperty(B)&&it!==at&&(it!=null||at!=null))switch(B){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:ze(i,s,B,it,h,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in l)it=l[Ft],l.hasOwnProperty(Ft)&&it!=null&&!h.hasOwnProperty(Ft)&&ze(i,s,Ft,null,h,it);for(et in h)if(it=h[et],at=l[et],h.hasOwnProperty(et)&&it!==at&&(it!=null||at!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:ze(i,s,et,it,h,at)}return;default:if(Cs(s)){for(var Be in l)it=l[Be],l.hasOwnProperty(Be)&&it!==void 0&&!h.hasOwnProperty(Be)&&Bg(i,s,Be,void 0,h,it);for(ct in h)it=h[ct],at=l[ct],!h.hasOwnProperty(ct)||it===at||it===void 0&&at===void 0||Bg(i,s,ct,it,h,at);return}}for(var X in l)it=l[X],l.hasOwnProperty(X)&&it!=null&&!h.hasOwnProperty(X)&&ze(i,s,X,null,h,it);for(mt in h)it=h[mt],at=l[mt],!h.hasOwnProperty(mt)||it===at||it==null&&at==null||ze(i,s,mt,it,h,at)}function dE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function w2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var p=l[h],_=p.transferSize,x=p.initiatorType,O=p.duration;if(_&&O&&dE(x)){for(x=0,O=p.responseEnd,h+=1;h<l.length;h++){var B=l[h],et=B.startTime;if(et>O)break;var ct=B.transferSize,mt=B.initiatorType;ct&&dE(mt)&&(B=B.responseEnd,x+=ct*(B<O?1:(O-et)/(B-et)))}if(--h,s+=8*(_+x)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ug=null,Fg=null;function gd(i){return i.nodeType===9?i:i.ownerDocument}function mE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Hg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qg=null;function T2(){var i=window.event;return i&&i.type==="popstate"?i===qg?!1:(qg=i,!0):(qg=null,!1)}var gE=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,_E=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof _E<"u"?function(i){return _E.resolve(null).then(i).catch(A2)}:gE;function A2(i){setTimeout(function(){throw i})}function Po(i){return i==="head"}function vE(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(p),Ju(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")_h(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,_h(l);for(var _=l.firstChild;_;){var x=_.nextSibling,O=_.nodeName;_[pr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=x}}else l==="body"&&_h(i.ownerDocument.body);l=p}while(l);Ju(s)}function yE(i,s){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Gg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Gg(l),to(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function C2(i,s,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[pr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Ir(i.nextSibling),i===null)break}return null}function R2(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Ir(i.nextSibling),i===null))return null;return i}function bE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Ir(i.nextSibling),i===null))return null;return i}function Zg(i){return i.data==="$?"||i.data==="$~"}function Wg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function I2(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ir(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Kg=null;function EE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Ir(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function wE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function TE(i,s,l){switch(s=gd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function _h(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);to(i)}var Or=new Map,SE=new Set;function _d(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ra=Tt.d;Tt.d={f:O2,r:N2,D:P2,C:L2,L:M2,m:D2,X:j2,S:k2,M:V2};function O2(){var i=Ra.f(),s=ld();return i||s}function N2(i){var s=wi(i);s!==null&&s.tag===5&&s.type==="form"?U0(s):Ra.r(i)}var Qu=typeof document>"u"?null:document;function xE(i,s,l){var h=Qu;if(h&&typeof s=="string"&&s){var p=Ue(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),SE.has(p)||(SE.add(p),i={rel:i,crossOrigin:l,href:s},h.querySelector(p)===null&&(s=h.createElement("link"),Gn(s,"link",i),cn(s),h.head.appendChild(s)))}}function P2(i){Ra.D(i),xE("dns-prefetch",i,null)}function L2(i,s){Ra.C(i,s),xE("preconnect",i,s)}function M2(i,s,l){Ra.L(i,s,l);var h=Qu;if(h&&i&&s){var p='link[rel="preload"][as="'+Ue(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ue(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ue(l.imageSizes)+'"]')):p+='[href="'+Ue(i)+'"]';var _=p;switch(s){case"style":_=Xu(i);break;case"script":_=$u(i)}Or.has(_)||(i=C({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Or.set(_,i),h.querySelector(p)!==null||s==="style"&&h.querySelector(vh(_))||s==="script"&&h.querySelector(yh(_))||(s=h.createElement("link"),Gn(s,"link",i),cn(s),h.head.appendChild(s)))}}function D2(i,s){Ra.m(i,s);var l=Qu;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Ue(h)+'"][href="'+Ue(i)+'"]',_=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$u(i)}if(!Or.has(_)&&(i=C({rel:"modulepreload",href:i},s),Or.set(_,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yh(_)))return}h=l.createElement("link"),Gn(h,"link",i),cn(h),l.head.appendChild(h)}}}function k2(i,s,l){Ra.S(i,s,l);var h=Qu;if(h&&i){var p=gr(h).hoistableStyles,_=Xu(i);s=s||"default";var x=p.get(_);if(!x){var O={loading:0,preload:null};if(x=h.querySelector(vh(_)))O.loading=5;else{i=C({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Or.get(_))&&Yg(i,l);var B=x=h.createElement("link");cn(B),Gn(B,"link",i),B._p=new Promise(function(et,ct){B.onload=et,B.onerror=ct}),B.addEventListener("load",function(){O.loading|=1}),B.addEventListener("error",function(){O.loading|=2}),O.loading|=4,vd(x,s,h)}x={type:"stylesheet",instance:x,count:1,state:O},p.set(_,x)}}}function j2(i,s){Ra.X(i,s);var l=Qu;if(l&&i){var h=gr(l).hoistableScripts,p=$u(i),_=h.get(p);_||(_=l.querySelector(yh(p)),_||(i=C({src:i,async:!0},s),(s=Or.get(p))&&Qg(i,s),_=l.createElement("script"),cn(_),Gn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function V2(i,s){Ra.M(i,s);var l=Qu;if(l&&i){var h=gr(l).hoistableScripts,p=$u(i),_=h.get(p);_||(_=l.querySelector(yh(p)),_||(i=C({src:i,async:!0,type:"module"},s),(s=Or.get(p))&&Qg(i,s),_=l.createElement("script"),cn(_),Gn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function AE(i,s,l,h){var p=(p=_t.current)?_d(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Xu(l.href),l=gr(p).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Xu(l.href);var _=gr(p).hoistableStyles,x=_.get(i);if(x||(p=p.ownerDocument||p,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,x),(_=p.querySelector(vh(i)))&&!_._p&&(x.instance=_,x.state.loading=5),Or.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Or.set(i,l),_||z2(p,i,l,x.state))),s&&h===null)throw Error(r(528,""));return x}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=$u(l),l=gr(p).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Xu(i){return'href="'+Ue(i)+'"'}function vh(i){return'link[rel="stylesheet"]['+i+"]"}function CE(i){return C({},i,{"data-precedence":i.precedence,precedence:null})}function z2(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Gn(s,"link",l),cn(s),i.head.appendChild(s))}function $u(i){return'[src="'+Ue(i)+'"]'}function yh(i){return"script[async]"+i}function RE(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+Ue(l.href)+'"]');if(h)return s.instance=h,cn(h),h;var p=C({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),cn(h),Gn(h,"style",p),vd(h,l.precedence,i),s.instance=h;case"stylesheet":p=Xu(l.href);var _=i.querySelector(vh(p));if(_)return s.state.loading|=4,s.instance=_,cn(_),_;h=CE(l),(p=Or.get(p))&&Yg(h,p),_=(i.ownerDocument||i).createElement("link"),cn(_);var x=_;return x._p=new Promise(function(O,B){x.onload=O,x.onerror=B}),Gn(_,"link",h),s.state.loading|=4,vd(_,l.precedence,i),s.instance=_;case"script":return _=$u(l.src),(p=i.querySelector(yh(_)))?(s.instance=p,cn(p),p):(h=l,(p=Or.get(_))&&(h=C({},l),Qg(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),cn(p),Gn(p,"link",h),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,vd(h,l.precedence,i));return s.instance}function vd(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,_=p,x=0;x<h.length;x++){var O=h[x];if(O.dataset.precedence===s)_=O;else if(_!==p)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Yg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Qg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var yd=null;function IE(i,s,l){if(yd===null){var h=new Map,p=yd=new Map;p.set(l,h)}else p=yd,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var _=l[p];if(!(_[pr]||_[rn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=i+x;var O=h.get(x);O?O.push(_):h.set(x,[_])}}return h}function OE(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function B2(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function NE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function U2(i,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Xu(h.href),_=s.querySelector(vh(p));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=bd.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,cn(_);return}_=s.ownerDocument||s,h=CE(h),(p=Or.get(p))&&Yg(h,p),_=_.createElement("link"),cn(_);var x=_;x._p=new Promise(function(O,B){x.onload=O,x.onerror=B}),Gn(_,"link",h),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=bd.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Xg=0;function F2(i,s){return i.stylesheets&&i.count===0&&wd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&wd(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Xg===0&&(Xg=62500*w2());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&wd(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Xg?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ed=null;function wd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ed=new Map,s.forEach(H2,i),Ed=null,bd.call(i))}function H2(i,s){if(!(s.state.loading&4)){var l=Ed.get(i);if(l)var h=l.get(null);else{l=new Map,Ed.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var x=p[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),h=x)}h&&l.set(null,h)}p=s.instance,x=p.getAttribute("data-precedence"),_=l.get(x)||h,_===h&&l.set(null,p),l.set(x,p),this.count++,h=bd.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),_?_.parentNode.insertBefore(p,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var bh={$$typeof:lt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function q2(i,s,l,h,p,_,x,O,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.hiddenUpdates=mr(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function PE(i,s,l,h,p,_,x,O,B,et,ct,mt){return i=new q2(i,s,l,x,B,et,ct,mt,O),s=1,_===!0&&(s|=24),_=ii(3,null,null,s),i.current=_,_.stateNode=i,s=Op(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:s},Mp(_),i}function LE(i){return i?(i=ma,i):ma}function ME(i,s,l,h,p,_){p=LE(p),h.context===null?h.context=p:h.pendingContext=p,h=Eo(s),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=wo(i,h,s),l!==null&&(ki(l,i,s),$c(l,i,s))}function DE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function $g(i,s){DE(i,s),(i=i.alternate)&&DE(i,s)}function kE(i){if(i.tag===13||i.tag===31){var s=Ar(i,67108864);s!==null&&ki(s,i,67108864),$g(i,67108864)}}function jE(i){if(i.tag===13||i.tag===31){var s=rr();s=Mn(s);var l=Ar(i,s);l!==null&&ki(l,i,s),$g(i,s)}}var Td=!0;function G2(i,s,l,h){var p=st.T;st.T=null;var _=Tt.p;try{Tt.p=2,Jg(i,s,l,h)}finally{Tt.p=_,st.T=p}}function Z2(i,s,l,h){var p=st.T;st.T=null;var _=Tt.p;try{Tt.p=8,Jg(i,s,l,h)}finally{Tt.p=_,st.T=p}}function Jg(i,s,l,h){if(Td){var p=t_(h);if(p===null)zg(i,s,h,Sd,l),zE(i,h);else if(K2(p,i,s,l,h))h.stopPropagation();else if(zE(i,h),s&4&&-1<W2.indexOf(i)){for(;p!==null;){var _=wi(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=fr(_.pendingLanes);if(x!==0){var O=_;for(O.pendingLanes|=2,O.entangledLanes|=2;x;){var B=1<<31-en(x);O.entanglements[1]|=B,x&=~B}Fs(_),(Oe&6)===0&&(ad=En()+500,mh(0))}}break;case 31:case 13:O=Ar(_,2),O!==null&&ki(O,_,2),ld(),$g(_,2)}if(_=t_(h),_===null&&zg(i,s,h,Sd,l),_===p)break;p=_}p!==null&&h.stopPropagation()}else zg(i,s,h,null,l)}}function t_(i){return i=Jn(i),e_(i)}var Sd=null;function e_(i){if(Sd=null,i=Gi(i),i!==null){var s=u(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=f(s),i!==null)return i;i=null}else if(l===31){if(i=g(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Sd=i,null}function VE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gr()){case hr:return 2;case ws:return 8;case Bi:case Xa:return 32;case Ts:return 268435456;default:return 32}default:return 32}}var n_=!1,Lo=null,Mo=null,Do=null,Eh=new Map,wh=new Map,ko=[],W2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zE(i,s){switch(i){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Mo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Eh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(s.pointerId)}}function Th(i,s,l,h,p,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[p]},s!==null&&(s=wi(s),s!==null&&kE(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function K2(i,s,l,h,p){switch(s){case"focusin":return Lo=Th(Lo,i,s,l,h,p),!0;case"dragenter":return Mo=Th(Mo,i,s,l,h,p),!0;case"mouseover":return Do=Th(Do,i,s,l,h,p),!0;case"pointerover":var _=p.pointerId;return Eh.set(_,Th(Eh.get(_)||null,i,s,l,h,p)),!0;case"gotpointercapture":return _=p.pointerId,wh.set(_,Th(wh.get(_)||null,i,s,l,h,p)),!0}return!1}function BE(i){var s=Gi(i.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=f(l),s!==null){i.blockedOn=s,bi(i.priority,function(){jE(l)});return}}else if(s===31){if(s=g(l),s!==null){i.blockedOn=s,bi(i.priority,function(){jE(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=t_(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);so=h,l.target.dispatchEvent(h),so=null}else return s=wi(l),s!==null&&kE(s),i.blockedOn=l,!1;s.shift()}return!0}function UE(i,s,l){xd(i)&&l.delete(s)}function Y2(){n_=!1,Lo!==null&&xd(Lo)&&(Lo=null),Mo!==null&&xd(Mo)&&(Mo=null),Do!==null&&xd(Do)&&(Do=null),Eh.forEach(UE),wh.forEach(UE)}function Ad(i,s){i.blockedOn===s&&(i.blockedOn=null,n_||(n_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y2)))}var Cd=null;function FE(i){Cd!==i&&(Cd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Cd===i&&(Cd=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],p=i[s+2];if(typeof h!="function"){if(e_(h||l)===null)continue;break}var _=wi(l);_!==null&&(i.splice(s,3),s-=3,tg(_,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Ju(i){function s(B){return Ad(B,i)}Lo!==null&&Ad(Lo,i),Mo!==null&&Ad(Mo,i),Do!==null&&Ad(Do,i),Eh.forEach(s),wh.forEach(s);for(var l=0;l<ko.length;l++){var h=ko[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<ko.length&&(l=ko[0],l.blockedOn===null);)BE(l),l.blockedOn===null&&ko.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],_=l[h+1],x=p[un]||null;if(typeof _=="function")x||FE(l);else if(x){var O=null;if(_&&_.hasAttribute("formAction")){if(p=_,x=_[un]||null)O=x.formAction;else if(e_(p)!==null)continue}else O=x.action;typeof O=="function"?l[h+1]=O:(l.splice(h,3),h-=3),FE(l)}}}function HE(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return p=x})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function i_(i){this._internalRoot=i}Rd.prototype.render=i_.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=rr();ME(l,h,i,s,null,null)},Rd.prototype.unmount=i_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ME(i.current,2,null,i,null,null),ld(),s[Hi]=null}};function Rd(i){this._internalRoot=i}Rd.prototype.unstable_scheduleHydration=function(i){if(i){var s=ul();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ko.length&&s!==0&&s<ko[l].priority;l++);ko.splice(l,0,i),l===0&&BE(i)}};var qE=t.version;if(qE!=="19.2.1")throw Error(r(527,qE,"19.2.1"));Tt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=y(s),i=i!==null?S(i):null,i=i===null?null:i.stateNode,i};var Q2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{Xn=Id.inject(Q2),pn=Id}catch{}}return xh.createRoot=function(i,s){if(!o(i))throw Error(r(299));var l=!1,h="",p=X0,_=$0,x=J0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=PE(i,1,!1,null,null,l,h,null,p,_,x,HE),i[Hi]=s.current,Vg(i),new i_(s)},xh.hydrateRoot=function(i,s,l){if(!o(i))throw Error(r(299));var h=!1,p="",_=X0,x=$0,O=J0,B=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.formState!==void 0&&(B=l.formState)),s=PE(i,1,!0,s,l??null,h,p,B,_,x,O,HE),s.context=LE(null),l=s.current,h=rr(),h=Mn(h),p=Eo(h),p.callback=null,wo(l,p,h),l=h,s.current.lanes=l,Wr(s,l),Fs(s),i[Hi]=s.current,Vg(i),new Rd(s)},xh.version="19.2.1",xh}var tw;function oR(){if(tw)return a_.exports;tw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),a_.exports=aR(),a_.exports}var lR=oR();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ew="popstate";function uR(n={}){function t(r,o){let{pathname:u,search:f,hash:g}=r.location;return j_("",{pathname:u,search:f,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){return typeof o=="string"?o:qh(o)}return hR(t,e,null,n)}function Je(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Br(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function cR(){return Math.random().toString(36).substring(2,10)}function nw(n,t){return{usr:n.state,key:n.key,idx:t}}function j_(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Cc(t):t,state:e,key:t&&t.key||r||cR()}}function qh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Cc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function hR(n,t,e,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,g="POP",v=null,y=S();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function S(){return(f.state||{idx:null}).idx}function C(){g="POP";let K=S(),ht=K==null?null:K-y;y=K,v&&v({action:g,location:Y.location,delta:ht})}function N(K,ht){g="PUSH";let Et=j_(Y.location,K,ht);y=S()+1;let lt=nw(Et,y),xt=Y.createHref(Et);try{f.pushState(lt,"",xt)}catch(Nt){if(Nt instanceof DOMException&&Nt.name==="DataCloneError")throw Nt;o.location.assign(xt)}u&&v&&v({action:g,location:Y.location,delta:1})}function M(K,ht){g="REPLACE";let Et=j_(Y.location,K,ht);y=S();let lt=nw(Et,y),xt=Y.createHref(Et);f.replaceState(lt,"",xt),u&&v&&v({action:g,location:Y.location,delta:0})}function H(K){return fR(K)}let Y={get action(){return g},get location(){return n(o,f)},listen(K){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(ew,C),v=K,()=>{o.removeEventListener(ew,C),v=null}},createHref(K){return t(o,K)},createURL:H,encodeLocation(K){let ht=H(K);return{pathname:ht.pathname,search:ht.search,hash:ht.hash}},push:N,replace:M,go(K){return f.go(K)}};return Y}function fR(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Je(e,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:qh(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function TS(n,t,e="/"){return dR(n,t,e,!1)}function dR(n,t,e,r){let o=typeof t=="string"?Cc(t):t,u=Ba(o.pathname||"/",e);if(u==null)return null;let f=SS(n);mR(f);let g=null;for(let v=0;g==null&&v<f.length;++v){let y=xR(u);g=TR(f[v],y,r)}return g}function SS(n,t=[],e=[],r="",o=!1){let u=(f,g,v=o,y)=>{let S={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(r)&&v)return;Je(S.relativePath.startsWith(r),`Absolute route path "${S.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(r.length)}let C=ka([r,S.relativePath]),N=e.concat(S);f.children&&f.children.length>0&&(Je(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),SS(f.children,t,N,C,v)),!(f.path==null&&!f.index)&&t.push({path:C,score:ER(C,f.index),routesMeta:N})};return n.forEach((f,g)=>{var v;if(f.path===""||!((v=f.path)!=null&&v.includes("?")))u(f,g);else for(let y of xS(f.path))u(f,g,!0,y)}),t}function xS(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,o=e.endsWith("?"),u=e.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=xS(r.join("/")),g=[];return g.push(...f.map(v=>v===""?u:[u,v].join("/"))),o&&g.push(...f),g.map(v=>n.startsWith("/")&&v===""?"/":v)}function mR(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:wR(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var pR=/^:[\w-]+$/,gR=3,_R=2,vR=1,yR=10,bR=-2,iw=n=>n==="*";function ER(n,t){let e=n.split("/"),r=e.length;return e.some(iw)&&(r+=bR),t&&(r+=_R),e.filter(o=>!iw(o)).reduce((o,u)=>o+(pR.test(u)?gR:u===""?vR:yR),r)}function wR(n,t){return n.length===t.length&&n.slice(0,-1).every((r,o)=>r===t[o])?n[n.length-1]-t[t.length-1]:0}function TR(n,t,e=!1){let{routesMeta:r}=n,o={},u="/",f=[];for(let g=0;g<r.length;++g){let v=r[g],y=g===r.length-1,S=u==="/"?t:t.slice(u.length)||"/",C=im({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},S),N=v.route;if(!C&&y&&e&&!r[r.length-1].route.index&&(C=im({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:ka([u,C.pathname]),pathnameBase:OR(ka([u,C.pathnameBase])),route:N}),C.pathnameBase!=="/"&&(u=ka([u,C.pathnameBase]))}return f}function im(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=SR(n.path,n.caseSensitive,n.end),o=t.match(e);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:r.reduce((y,{paramName:S,isOptional:C},N)=>{if(S==="*"){let H=g[N]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const M=g[N];return C&&!M?y[S]=void 0:y[S]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:n}}function SR(n,t=!1,e=!0){Br(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,v)=>(r.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function xR(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Br(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ba(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}var AR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CR=n=>AR.test(n);function RR(n,t="/"){let{pathname:e,search:r="",hash:o=""}=typeof n=="string"?Cc(n):n,u;if(e)if(CR(e))u=e;else{if(e.includes("//")){let f=e;e=e.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${e}`)}e.startsWith("/")?u=rw(e.substring(1),"/"):u=rw(e,t)}else u=t;return{pathname:u,search:NR(r),hash:PR(o)}}function rw(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function c_(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Rv(n){let t=IR(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function Iv(n,t,e,r=!1){let o;typeof n=="string"?o=Cc(n):(o={...n},Je(!o.pathname||!o.pathname.includes("?"),c_("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),c_("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),c_("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,g;if(f==null)g=e;else{let C=t.length-1;if(!r&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),C-=1;o.pathname=N.join("/")}g=C>=0?t[C]:"/"}let v=RR(o,g),y=f&&f!=="/"&&f.endsWith("/"),S=(u||f===".")&&e.endsWith("/");return!v.pathname.endsWith("/")&&(y||S)&&(v.pathname+="/"),v}var ka=n=>n.join("/").replace(/\/\/+/g,"/"),OR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function LR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function MR(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var DR=["GET",...AS];new Set(DR);var Rc=W.createContext(null);Rc.displayName="DataRouter";var zm=W.createContext(null);zm.displayName="DataRouterState";W.createContext(!1);var CS=W.createContext({isTransitioning:!1});CS.displayName="ViewTransition";var kR=W.createContext(new Map);kR.displayName="Fetchers";var jR=W.createContext(null);jR.displayName="Await";var Fr=W.createContext(null);Fr.displayName="Navigation";var rf=W.createContext(null);rf.displayName="Location";var Hr=W.createContext({outlet:null,matches:[],isDataRoute:!1});Hr.displayName="Route";var Ov=W.createContext(null);Ov.displayName="RouteError";function VR(n,{relative:t}={}){Je(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=W.useContext(Fr),{hash:o,pathname:u,search:f}=sf(n,{relative:t}),g=u;return e!=="/"&&(g=u==="/"?e:ka([e,u])),r.createHref({pathname:g,search:f,hash:o})}function Ic(){return W.useContext(rf)!=null}function nl(){return Je(Ic(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(rf).location}var RS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IS(n){W.useContext(Fr).static||W.useLayoutEffect(n)}function su(){let{isDataRoute:n}=W.useContext(Hr);return n?tI():zR()}function zR(){Je(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Rc),{basename:t,navigator:e}=W.useContext(Fr),{matches:r}=W.useContext(Hr),{pathname:o}=nl(),u=JSON.stringify(Rv(r)),f=W.useRef(!1);return IS(()=>{f.current=!0}),W.useCallback((v,y={})=>{if(Br(f.current,RS),!f.current)return;if(typeof v=="number"){e.go(v);return}let S=Iv(v,JSON.parse(u),o,y.relative==="path");n==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:ka([t,S.pathname])),(y.replace?e.replace:e.push)(S,y.state,y)},[t,e,u,o,n])}var BR=W.createContext(null);function UR(n){let t=W.useContext(Hr).outlet;return W.useMemo(()=>t&&W.createElement(BR.Provider,{value:n},t),[t,n])}function FR(){let{matches:n}=W.useContext(Hr),t=n[n.length-1];return t?t.params:{}}function sf(n,{relative:t}={}){let{matches:e}=W.useContext(Hr),{pathname:r}=nl(),o=JSON.stringify(Rv(e));return W.useMemo(()=>Iv(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function HR(n,t){return OS(n,t)}function OS(n,t,e,r,o){var Et;Je(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=W.useContext(Fr),{matches:f}=W.useContext(Hr),g=f[f.length-1],v=g?g.params:{},y=g?g.pathname:"/",S=g?g.pathnameBase:"/",C=g&&g.route;{let lt=C&&C.path||"";NS(y,!C||lt.endsWith("*")||lt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${lt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${lt}"> to <Route path="${lt==="/"?"*":`${lt}/*`}">.`)}let N=nl(),M;if(t){let lt=typeof t=="string"?Cc(t):t;Je(S==="/"||((Et=lt.pathname)==null?void 0:Et.startsWith(S)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${lt.pathname}" was given in the \`location\` prop.`),M=lt}else M=N;let H=M.pathname||"/",Y=H;if(S!=="/"){let lt=S.replace(/^\//,"").split("/");Y="/"+H.replace(/^\//,"").split("/").slice(lt.length).join("/")}let K=TS(n,{pathname:Y});Br(C||K!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Br(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ht=KR(K&&K.map(lt=>Object.assign({},lt,{params:Object.assign({},v,lt.params),pathname:ka([S,u.encodeLocation?u.encodeLocation(lt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathname]),pathnameBase:lt.pathnameBase==="/"?S:ka([S,u.encodeLocation?u.encodeLocation(lt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathnameBase])})),f,e,r,o);return t&&ht?W.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ht):ht}function qR(){let n=JR(),t=LR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:u},"ErrorBoundary")," or"," ",W.createElement("code",{style:u},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),e?W.createElement("pre",{style:o},e):null,f)}var GR=W.createElement(qR,null),ZR=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?W.createElement(Hr.Provider,{value:this.props.routeContext},W.createElement(Ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WR({routeContext:n,match:t,children:e}){let r=W.useContext(Rc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),W.createElement(Hr.Provider,{value:n},e)}function KR(n,t=[],e=null,r=null,o=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let u=n,f=e==null?void 0:e.errors;if(f!=null){let S=u.findIndex(C=>C.route.id&&(f==null?void 0:f[C.route.id])!==void 0);Je(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,S+1))}let g=!1,v=-1;if(e)for(let S=0;S<u.length;S++){let C=u[S];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(v=S),C.route.id){let{loaderData:N,errors:M}=e,H=C.route.loader&&!N.hasOwnProperty(C.route.id)&&(!M||M[C.route.id]===void 0);if(C.route.lazy||H){g=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}let y=e&&r?(S,C)=>{var N,M;r(S,{location:e.location,params:((M=(N=e.matches)==null?void 0:N[0])==null?void 0:M.params)??{},unstable_pattern:MR(e.matches),errorInfo:C})}:void 0;return u.reduceRight((S,C,N)=>{let M,H=!1,Y=null,K=null;e&&(M=f&&C.route.id?f[C.route.id]:void 0,Y=C.route.errorElement||GR,g&&(v<0&&N===0?(NS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,K=null):v===N&&(H=!0,K=C.route.hydrateFallbackElement||null)));let ht=t.concat(u.slice(0,N+1)),Et=()=>{let lt;return M?lt=Y:H?lt=K:C.route.Component?lt=W.createElement(C.route.Component,null):C.route.element?lt=C.route.element:lt=S,W.createElement(WR,{match:C,routeContext:{outlet:S,matches:ht,isDataRoute:e!=null},children:lt})};return e&&(C.route.ErrorBoundary||C.route.errorElement||N===0)?W.createElement(ZR,{location:e.location,revalidation:e.revalidation,component:Y,error:M,children:Et(),routeContext:{outlet:null,matches:ht,isDataRoute:!0},onError:y}):Et()},null)}function Nv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YR(n){let t=W.useContext(Rc);return Je(t,Nv(n)),t}function QR(n){let t=W.useContext(zm);return Je(t,Nv(n)),t}function XR(n){let t=W.useContext(Hr);return Je(t,Nv(n)),t}function Pv(n){let t=XR(n),e=t.matches[t.matches.length-1];return Je(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function $R(){return Pv("useRouteId")}function JR(){var r;let n=W.useContext(Ov),t=QR("useRouteError"),e=Pv("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[e]}function tI(){let{router:n}=YR("useNavigate"),t=Pv("useNavigate"),e=W.useRef(!1);return IS(()=>{e.current=!0}),W.useCallback(async(o,u={})=>{Br(e.current,RS),e.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:t,...u}))},[n,t])}var sw={};function NS(n,t,e){!t&&!sw[n]&&(sw[n]=!0,Br(!1,e))}W.memo(eI);function eI({routes:n,future:t,state:e,unstable_onError:r}){return OS(n,void 0,e,r,t)}function nI({to:n,replace:t,state:e,relative:r}){Je(Ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=W.useContext(Fr);Br(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=W.useContext(Hr),{pathname:f}=nl(),g=su(),v=Iv(n,Rv(u),f,r==="path"),y=JSON.stringify(v);return W.useEffect(()=>{g(JSON.parse(y),{replace:t,state:e,relative:r})},[g,y,r,t,e]),null}function iI(n){return UR(n.context)}function Nr(n){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rI({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Je(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),v=W.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[g,o,u,f]);typeof e=="string"&&(e=Cc(e));let{pathname:y="/",search:S="",hash:C="",state:N=null,key:M="default"}=e,H=W.useMemo(()=>{let Y=Ba(y,g);return Y==null?null:{location:{pathname:Y,search:S,hash:C,state:N,key:M},navigationType:r}},[g,y,S,C,N,M,r]);return Br(H!=null,`<Router basename="${g}"> is not able to match the URL "${y}${S}${C}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:W.createElement(Fr.Provider,{value:v},W.createElement(rf.Provider,{children:t,value:H}))}function sI({children:n,location:t}){return HR(V_(n),t)}function V_(n,t=[]){let e=[];return W.Children.forEach(n,(r,o)=>{if(!W.isValidElement(r))return;let u=[...t,o];if(r.type===W.Fragment){e.push.apply(e,V_(r.props.children,u));return}Je(r.type===Nr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=V_(r.props.children,u)),e.push(f)}),e}var Ud="get",Fd="application/x-www-form-urlencoded";function Bm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function aI(n){return Bm(n)&&n.tagName.toLowerCase()==="button"}function oI(n){return Bm(n)&&n.tagName.toLowerCase()==="form"}function lI(n){return Bm(n)&&n.tagName.toLowerCase()==="input"}function uI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function cI(n,t){return n.button===0&&(!t||t==="_self")&&!uI(n)}var Od=null;function hI(){if(Od===null)try{new FormData(document.createElement("form"),0),Od=!1}catch{Od=!0}return Od}var fI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h_(n){return n!=null&&!fI.has(n)?(Br(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fd}"`),null):n}function dI(n,t){let e,r,o,u,f;if(oI(n)){let g=n.getAttribute("action");r=g?Ba(g,t):null,e=n.getAttribute("method")||Ud,o=h_(n.getAttribute("enctype"))||Fd,u=new FormData(n)}else if(aI(n)||lI(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||g.getAttribute("action");if(r=v?Ba(v,t):null,e=n.getAttribute("formmethod")||g.getAttribute("method")||Ud,o=h_(n.getAttribute("formenctype"))||h_(g.getAttribute("enctype"))||Fd,u=new FormData(g,n),!hI()){let{name:y,type:S,value:C}=n;if(S==="image"){let N=y?`${y}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else y&&u.append(y,C)}}else{if(Bm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Ud,r=null,o=Fd,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:e.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lv(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function mI(n,t,e){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${e}`:t&&Ba(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${e}`,r}async function pI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _I(n,t,e){let r=await Promise.all(n.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await pI(u,e);return f.links?f.links():[]}return[]}));return EI(r.flat(1).filter(gI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function aw(n,t,e,r,o,u){let f=(v,y)=>e[y]?v.route.id!==e[y].route.id:!0,g=(v,y)=>{var S;return e[y].pathname!==v.pathname||((S=e[y].route.path)==null?void 0:S.endsWith("*"))&&e[y].params["*"]!==v.params["*"]};return u==="assets"?t.filter((v,y)=>f(v,y)||g(v,y)):u==="data"?t.filter((v,y)=>{var C;let S=r.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(f(v,y)||g(v,y))return!0;if(v.route.shouldRevalidate){let N=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=e[0])==null?void 0:C.params)||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function vI(n,t,{includeHydrateFallback:e}={}){return yI(n.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yI(n){return[...new Set(n)]}function bI(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function EI(n,t){let e=new Set;return new Set(t),n.reduce((r,o)=>{let u=JSON.stringify(bI(o));return e.has(u)||(e.add(u),r.push({key:u,link:o})),r},[])}function PS(){let n=W.useContext(Rc);return Lv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wI(){let n=W.useContext(zm);return Lv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Mv=W.createContext(void 0);Mv.displayName="FrameworkContext";function LS(){let n=W.useContext(Mv);return Lv(n,"You must render this element inside a <HydratedRouter> element"),n}function TI(n,t){let e=W.useContext(Mv),[r,o]=W.useState(!1),[u,f]=W.useState(!1),{onFocus:g,onBlur:v,onMouseEnter:y,onMouseLeave:S,onTouchStart:C}=t,N=W.useRef(null);W.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let Y=ht=>{ht.forEach(Et=>{f(Et.isIntersecting)})},K=new IntersectionObserver(Y,{threshold:.5});return N.current&&K.observe(N.current),()=>{K.disconnect()}}},[n]),W.useEffect(()=>{if(r){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[r]);let M=()=>{o(!0)},H=()=>{o(!1),f(!1)};return e?n!=="intent"?[u,N,{}]:[u,N,{onFocus:Ah(g,M),onBlur:Ah(v,H),onMouseEnter:Ah(y,M),onMouseLeave:Ah(S,H),onTouchStart:Ah(C,M)}]:[!1,N,{}]}function Ah(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function SI({page:n,...t}){let{router:e}=PS(),r=W.useMemo(()=>TS(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?W.createElement(AI,{page:n,matches:r,...t}):null}function xI(n){let{manifest:t,routeModules:e}=LS(),[r,o]=W.useState([]);return W.useEffect(()=>{let u=!1;return _I(n,t,e).then(f=>{u||o(f)}),()=>{u=!0}},[n,t,e]),r}function AI({page:n,matches:t,...e}){let r=nl(),{manifest:o,routeModules:u}=LS(),{basename:f}=PS(),{loaderData:g,matches:v}=wI(),y=W.useMemo(()=>aw(n,t,v,o,r,"data"),[n,t,v,o,r]),S=W.useMemo(()=>aw(n,t,v,o,r,"assets"),[n,t,v,o,r]),C=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let H=new Set,Y=!1;if(t.forEach(ht=>{var lt;let Et=o.routes[ht.route.id];!Et||!Et.hasLoader||(!y.some(xt=>xt.route.id===ht.route.id)&&ht.route.id in g&&((lt=u[ht.route.id])!=null&&lt.shouldRevalidate)||Et.hasClientLoader?Y=!0:H.add(ht.route.id))}),H.size===0)return[];let K=mI(n,f,"data");return Y&&H.size>0&&K.searchParams.set("_routes",t.filter(ht=>H.has(ht.route.id)).map(ht=>ht.route.id).join(",")),[K.pathname+K.search]},[f,g,r,o,y,t,n,u]),N=W.useMemo(()=>vI(S,o),[S,o]),M=xI(S);return W.createElement(W.Fragment,null,C.map(H=>W.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...e})),N.map(H=>W.createElement("link",{key:H,rel:"modulepreload",href:H,...e})),M.map(({key:H,link:Y})=>W.createElement("link",{key:H,nonce:e.nonce,...Y})))}function CI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var MS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MS&&(window.__reactRouterVersion="7.10.1")}catch{}function RI({basename:n,children:t,unstable_useTransitions:e,window:r}){let o=W.useRef();o.current==null&&(o.current=uR({window:r,v5Compat:!0}));let u=o.current,[f,g]=W.useState({action:u.action,location:u.location}),v=W.useCallback(y=>{e===!1?g(y):W.startTransition(()=>g(y))},[e]);return W.useLayoutEffect(()=>u.listen(v),[u,v]),W.createElement(rI,{basename:n,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:e===!0})}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lr=W.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:g,target:v,to:y,preventScrollReset:S,viewTransition:C,...N},M){let{basename:H,unstable_useTransitions:Y}=W.useContext(Fr),K=typeof y=="string"&&DS.test(y),ht,Et=!1;if(typeof y=="string"&&K&&(ht=y,MS))try{let G=new URL(window.location.href),F=y.startsWith("//")?new URL(G.protocol+y):new URL(y),U=Ba(F.pathname,H);F.origin===G.origin&&U!=null?y=U+F.search+F.hash:Et=!0}catch{Br(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let lt=VR(y,{relative:o}),[xt,Nt,Dt]=TI(r,N),k=NI(y,{replace:f,state:g,target:v,preventScrollReset:S,relative:o,viewTransition:C,unstable_useTransitions:Y});function D(G){t&&t(G),G.defaultPrevented||k(G)}let j=W.createElement("a",{...N,...Dt,href:ht||lt,onClick:Et||u?t:D,ref:CI(M,Nt),target:v,"data-discover":!K&&e==="render"?"true":void 0});return xt&&!K?W.createElement(W.Fragment,null,j,W.createElement(SI,{page:lt})):j});lr.displayName="Link";var us=W.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:g,children:v,...y},S){let C=sf(f,{relative:y.relative}),N=nl(),M=W.useContext(zm),{navigator:H,basename:Y}=W.useContext(Fr),K=M!=null&&kI(C)&&g===!0,ht=H.encodeLocation?H.encodeLocation(C).pathname:C.pathname,Et=N.pathname,lt=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;e||(Et=Et.toLowerCase(),lt=lt?lt.toLowerCase():null,ht=ht.toLowerCase()),lt&&Y&&(lt=Ba(lt,Y)||lt);const xt=ht!=="/"&&ht.endsWith("/")?ht.length-1:ht.length;let Nt=Et===ht||!o&&Et.startsWith(ht)&&Et.charAt(xt)==="/",Dt=lt!=null&&(lt===ht||!o&&lt.startsWith(ht)&&lt.charAt(ht.length)==="/"),k={isActive:Nt,isPending:Dt,isTransitioning:K},D=Nt?t:void 0,j;typeof r=="function"?j=r(k):j=[r,Nt?"active":null,Dt?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let G=typeof u=="function"?u(k):u;return W.createElement(lr,{...y,"aria-current":D,className:j,ref:S,style:G,to:f,viewTransition:g},typeof v=="function"?v(k):v)});us.displayName="NavLink";var II=W.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:o,state:u,method:f=Ud,action:g,onSubmit:v,relative:y,preventScrollReset:S,viewTransition:C,...N},M)=>{let{unstable_useTransitions:H}=W.useContext(Fr),Y=MI(),K=DI(g,{relative:y}),ht=f.toLowerCase()==="get"?"get":"post",Et=typeof g=="string"&&DS.test(g),lt=xt=>{if(v&&v(xt),xt.defaultPrevented)return;xt.preventDefault();let Nt=xt.nativeEvent.submitter,Dt=(Nt==null?void 0:Nt.getAttribute("formmethod"))||f,k=()=>Y(Nt||xt.currentTarget,{fetcherKey:t,method:Dt,navigate:e,replace:o,state:u,relative:y,preventScrollReset:S,viewTransition:C});H&&e!==!1?W.startTransition(()=>k()):k()};return W.createElement("form",{ref:M,method:ht,action:K,onSubmit:r?v:lt,...N,"data-discover":!Et&&n==="render"?"true":void 0})});II.displayName="Form";function OI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kS(n){let t=W.useContext(Rc);return Je(t,OI(n)),t}function NI(n,{target:t,replace:e,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:g}={}){let v=su(),y=nl(),S=sf(n,{relative:u});return W.useCallback(C=>{if(cI(C,t)){C.preventDefault();let N=e!==void 0?e:qh(y)===qh(S),M=()=>v(n,{replace:N,state:r,preventScrollReset:o,relative:u,viewTransition:f});g?W.startTransition(()=>M()):M()}},[y,v,S,e,r,t,n,o,u,f,g])}var PI=0,LI=()=>`__${String(++PI)}__`;function MI(){let{router:n}=kS("useSubmit"),{basename:t}=W.useContext(Fr),e=$R(),r=n.fetch,o=n.navigate;return W.useCallback(async(u,f={})=>{let{action:g,method:v,encType:y,formData:S,body:C}=dI(u,t);if(f.navigate===!1){let N=f.fetcherKey||LI();await r(N,e,f.action||g,{preventScrollReset:f.preventScrollReset,formData:S,body:C,formMethod:f.method||v,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||g,{preventScrollReset:f.preventScrollReset,formData:S,body:C,formMethod:f.method||v,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:e,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,t,e])}function DI(n,{relative:t}={}){let{basename:e}=W.useContext(Fr),r=W.useContext(Hr);Je(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...sf(n||".",{relative:t})},f=nl();if(n==null){u.search=f.search;let g=new URLSearchParams(u.search),v=g.getAll("index");if(v.some(S=>S==="")){g.delete("index"),v.filter(C=>C).forEach(C=>g.append("index",C));let S=g.toString();u.search=S?`?${S}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(u.pathname=u.pathname==="/"?e:ka([e,u.pathname])),qh(u)}function kI(n,{relative:t}={}){let e=W.useContext(CS);Je(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kS("useViewTransitionState"),o=sf(n,{relative:t});if(!e.isTransitioning)return!1;let u=Ba(e.currentLocation.pathname,r)||e.currentLocation.pathname,f=Ba(e.nextLocation.pathname,r)||e.nextLocation.pathname;return im(o.pathname,f)!=null||im(o.pathname,u)!=null}var jS=wS();const jI=()=>E.jsxs("div",{className:"landing-page",children:[E.jsxs("header",{className:"hero-section",style:{background:"linear-gradient(135deg, var(--ocean-800) 0%, var(--primary-900) 100%)",color:"white",border:"none"},children:[E.jsxs("div",{style:{position:"relative",zIndex:2},children:[E.jsxs("h1",{className:"hero-title",style:{color:"white"},children:["Elektrische mobiliteit",E.jsx("br",{}),"voor iedereen"]}),E.jsx("p",{className:"hero-subtitle",style:{color:"var(--primary-100)"},children:"Slim boeken. Slim rijden. Zero emission. Ervaar de vrijheid van de toekomst."}),E.jsxs(lr,{to:"/request",className:"cta-button",children:["Reis aanvragen ",E.jsx("span",{children:""})]})]}),E.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"600px",height:"600px",background:"radial-gradient(circle, var(--primary-500) 0%, transparent 70%)",opacity:.1,filter:"blur(60px)",zIndex:1}})]}),E.jsxs("section",{className:"features-grid",children:[E.jsxs("div",{className:"feature-card",children:[E.jsx("span",{className:"feature-icon",children:""}),E.jsx("h3",{className:"feature-title",children:"Duurzaam reizen"}),E.jsx("p",{className:"feature-desc",children:"100% elektrische vloot voor een schonere toekomst. Wij zorgen voor de planeet terwijl jij rijdt."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("span",{className:"feature-icon",children:""}),E.jsx("h3",{className:"feature-title",children:"Flexibele beschikbaarheid"}),E.jsx("p",{className:"feature-desc",children:"Boek direct een auto in jouw buurt, 24/7. Geen wachttijden, geen gedoe."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("span",{className:"feature-icon",children:""}),E.jsx("h3",{className:"feature-title",children:"Laadpunten onderweg"}),E.jsx("p",{className:"feature-desc",children:"Slimme integratie met laadpalen op je route. Altijd opgeladen aankomen."})]})]})]});function Se(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(e.length?" "+e.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var VI={};function Um(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:VI}var VS=Object.assign,rm=Object.getOwnPropertyDescriptor,Zs=Object.defineProperty,Fm=Object.prototype,z_=[];Object.freeze(z_);var zS={};Object.freeze(zS);var zI=typeof Proxy<"u",BI=Object.toString();function BS(){zI||Se("Proxy not available")}function US(n){var t=!1;return function(){if(!t)return t=!0,n.apply(this,arguments)}}var oc=function(){};function ps(n){return typeof n=="function"}function Ql(n){var t=typeof n;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Hm(n){return n!==null&&typeof n=="object"}function Ua(n){if(!Hm(n))return!1;var t=Object.getPrototypeOf(n);if(t==null)return!0;var e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e.toString()===BI}function FS(n){var t=n==null?void 0:n.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function af(n,t,e){Zs(n,t,{enumerable:!1,writable:!0,configurable:!0,value:e})}function HS(n,t,e){Zs(n,t,{enumerable:!1,writable:!1,configurable:!0,value:e})}function au(n,t){var e="isMobX"+n;return t.prototype[e]=!0,function(r){return Hm(r)&&r[e]===!0}}function Oc(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function UI(n){var t=Object.getPrototypeOf(n),e=Object.getPrototypeOf(t),r=Object.getPrototypeOf(e);return r===null}function Oa(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var qS=typeof Object.getOwnPropertySymbols<"u";function FI(n){var t=Object.keys(n);if(!qS)return t;var e=Object.getOwnPropertySymbols(n);return e.length?[].concat(t,e.filter(function(r){return Fm.propertyIsEnumerable.call(n,r)})):t}var vc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:qS?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function GS(n){return n===null?null:typeof n=="object"?""+n:n}function ja(n,t){return Fm.hasOwnProperty.call(n,t)}var HI=Object.getOwnPropertyDescriptors||function(t){var e={};return vc(t).forEach(function(r){e[r]=rm(t,r)}),e};function sr(n,t){return!!(n&t)}function ar(n,t,e){return e?n|=t:n&=~t,n}function ow(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function qI(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ZI(r.key),r)}}function Nc(n,t,e){return t&&qI(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function lc(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e)return(e=e.call(n)).next.bind(e);if(Array.isArray(n)||(e=WI(n))||t){e&&(n=e);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Xl.apply(null,arguments)}function ZS(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,B_(n,t)}function B_(n,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},B_(n,t)}function GI(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function ZI(n){var t=GI(n,"string");return typeof t=="symbol"?t:t+""}function WI(n,t){if(n){if(typeof n=="string")return ow(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ow(n,t):void 0}}var Gs=Symbol("mobx-stored-annotations");function Ws(n){function t(e,r){if(lf(r))return n.decorate_20223_(e,r);of(e,r,n)}return Object.assign(t,n)}function of(n,t,e){ja(n,Gs)||af(n,Gs,Xl({},n[Gs])),tO(e)||(n[Gs][t]=e)}function KI(n){return ja(n,Gs)||af(n,Gs,Xl({},n[Gs])),n[Gs]}function lf(n){return typeof n=="object"&&typeof n.kind=="string"}var Zt=Symbol("mobx administration"),il=(function(){function n(e){e===void 0&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ie.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=n.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return u1(this)},t.reportChanged=function(){kr(),c1(this),jr()},t.toString=function(){return this.name_},Nc(n,[{key:"isBeingObserved",get:function(){return sr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=ar(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return sr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=ar(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return sr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ar(this.flags_,n.diffValueMask_,r===1)}}])})();il.isBeingObservedMask_=1;il.isPendingUnobservationMask_=2;il.diffValueMask_=4;var Dv=au("Atom",il);function WS(n,t,e){t===void 0&&(t=oc),e===void 0&&(e=oc);var r=new il(n);return t!==oc&&nN(r,t),e!==oc&&g1(r,e),r}function YI(n,t){return I1(n,t)}function QI(n,t){return Object.is?Object.is(n,t):n===t?n!==0||1/n===1/t:n!==n&&t!==t}var sm={structural:YI,default:QI};function $l(n,t,e){return E1(n)?n:Array.isArray(n)?Kn.array(n,{name:e}):Ua(n)?Kn.object(n,void 0,{name:e}):Oc(n)?Kn.map(n,{name:e}):Oa(n)?Kn.set(n,{name:e}):typeof n=="function"&&!yc(n)&&!Zh(n)?FS(n)?bc(n):Gh(e,n):n}function XI(n,t,e){if(n==null||Qm(n)||Ym(n)||lu(n)||qs(n))return n;if(Array.isArray(n))return Kn.array(n,{name:e,deep:!1});if(Ua(n))return Kn.object(n,void 0,{name:e,deep:!1});if(Oc(n))return Kn.map(n,{name:e,deep:!1});if(Oa(n))return Kn.set(n,{name:e,deep:!1})}function qm(n){return n}function $I(n,t){return I1(n,t)?t:n}var JI="override";function tO(n){return n.annotationType_===JI}function uf(n,t){return{annotationType_:n,options_:t,make_:eO,extend_:nO,decorate_20223_:iO}}function eO(n,t,e,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(n,t,e,!1)===null?0:1;if(r===n.target_)return this.extend_(n,t,e,!1)===null?0:2;if(yc(e.value))return 1;var u=KS(n,this,t,e,!1);return Zs(r,t,u),2}function nO(n,t,e,r){var o=KS(n,this,t,e);return n.defineProperty_(t,o,r)}function iO(n,t){var e=t.kind,r=t.name,o=t.addInitializer,u=this,f=function(y){var S,C,N,M;return Jl((S=(C=u.options_)==null?void 0:C.name)!=null?S:r.toString(),y,(N=(M=u.options_)==null?void 0:M.autoAction)!=null?N:!1)};if(e=="field")return function(v){var y,S=v;return yc(S)||(S=f(S)),(y=u.options_)!=null&&y.bound&&(S=S.bind(this),S.isMobxAction=!0),S};if(e=="method"){var g;return yc(n)||(n=f(n)),(g=this.options_)!=null&&g.bound&&o(function(){var v=this,y=v[r].bind(v);y.isMobxAction=!0,v[r]=y}),n}Se("Cannot apply '"+u.annotationType_+"' to '"+String(r)+"' (kind: "+e+"):"+(`
'`+u.annotationType_+"' can only be used on properties with a function value."))}function rO(n,t,e,r){t.annotationType_,r.value}function KS(n,t,e,r,o){var u,f,g,v,y,S,C;o===void 0&&(o=At.safeDescriptors),rO(n,t,e,r);var N=r.value;if((u=t.options_)!=null&&u.bound){var M;N=N.bind((M=n.proxy_)!=null?M:n.target_)}return{value:Jl((f=(g=t.options_)==null?void 0:g.name)!=null?f:e.toString(),N,(v=(y=t.options_)==null?void 0:y.autoAction)!=null?v:!1,(S=t.options_)!=null&&S.bound?(C=n.proxy_)!=null?C:n.target_:void 0),configurable:o?n.isPlainObject_:!0,enumerable:!1,writable:!o}}function YS(n,t){return{annotationType_:n,options_:t,make_:sO,extend_:aO,decorate_20223_:oO}}function sO(n,t,e,r){var o;if(r===n.target_)return this.extend_(n,t,e,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!ja(n.target_,t)||!Zh(n.target_[t]))&&this.extend_(n,t,e,!1)===null)return 0;if(Zh(e.value))return 1;var u=QS(n,this,t,e,!1,!1);return Zs(r,t,u),2}function aO(n,t,e,r){var o,u=QS(n,this,t,e,(o=this.options_)==null?void 0:o.bound);return n.defineProperty_(t,u,r)}function oO(n,t){var e,r=t.name,o=t.addInitializer;return Zh(n)||(n=bc(n)),(e=this.options_)!=null&&e.bound&&o(function(){var u=this,f=u[r].bind(u);f.isMobXFlow=!0,u[r]=f}),n}function lO(n,t,e,r){t.annotationType_,r.value}function QS(n,t,e,r,o,u){u===void 0&&(u=At.safeDescriptors),lO(n,t,e,r);var f=r.value;if(Zh(f)||(f=bc(f)),o){var g;f=f.bind((g=n.proxy_)!=null?g:n.target_),f.isMobXFlow=!0}return{value:f,configurable:u?n.isPlainObject_:!0,enumerable:!1,writable:!u}}function kv(n,t){return{annotationType_:n,options_:t,make_:uO,extend_:cO,decorate_20223_:hO}}function uO(n,t,e){return this.extend_(n,t,e,!1)===null?0:1}function cO(n,t,e,r){return fO(n,this,t,e),n.defineComputedProperty_(t,Xl({},this.options_,{get:e.get,set:e.set}),r)}function hO(n,t){var e=this,r=t.name,o=t.addInitializer;return o(function(){var u=uu(this)[Zt],f=Xl({},e.options_,{get:n,context:this});f.name||(f.name="ObservableObject."+r.toString()),u.values_.set(r,new gs(f))}),function(){return this[Zt].getObservablePropValue_(r)}}function fO(n,t,e,r){t.annotationType_,r.get}function Gm(n,t){return{annotationType_:n,options_:t,make_:dO,extend_:mO,decorate_20223_:pO}}function dO(n,t,e){return this.extend_(n,t,e,!1)===null?0:1}function mO(n,t,e,r){var o,u;return gO(n,this),n.defineObservableProperty_(t,e.value,(o=(u=this.options_)==null?void 0:u.enhancer)!=null?o:$l,r)}function pO(n,t){var e=this,r=t.kind,o=t.name,u=new WeakSet;function f(g,v){var y,S,C=uu(g)[Zt],N=new Kl(v,(y=(S=e.options_)==null?void 0:S.enhancer)!=null?y:$l,"ObservableObject."+o.toString(),!1);C.values_.set(o,N),u.add(g)}if(r=="accessor")return{get:function(){return u.has(this)||f(this,n.get.call(this)),this[Zt].getObservablePropValue_(o)},set:function(v){return u.has(this)||f(this,v),this[Zt].setObservablePropValue_(o,v)},init:function(v){return u.has(this)||f(this,v),v}}}function gO(n,t,e,r){t.annotationType_}var _O="true",vO=XS();function XS(n){return{annotationType_:_O,options_:n,make_:yO,extend_:bO,decorate_20223_:EO}}function yO(n,t,e,r){var o,u;if(e.get)return Zm.make_(n,t,e,r);if(e.set){var f=yc(e.set)?e.set:Jl(t.toString(),e.set);return r===n.target_?n.defineProperty_(t,{configurable:At.safeDescriptors?n.isPlainObject_:!0,set:f})===null?0:2:(Zs(r,t,{configurable:!0,set:f}),2)}if(r!==n.target_&&typeof e.value=="function"){var g;if(FS(e.value)){var v,y=(v=this.options_)!=null&&v.autoBind?bc.bound:bc;return y.make_(n,t,e,r)}var S=(g=this.options_)!=null&&g.autoBind?Gh.bound:Gh;return S.make_(n,t,e,r)}var C=((o=this.options_)==null?void 0:o.deep)===!1?Kn.ref:Kn;if(typeof e.value=="function"&&(u=this.options_)!=null&&u.autoBind){var N;e.value=e.value.bind((N=n.proxy_)!=null?N:n.target_)}return C.make_(n,t,e,r)}function bO(n,t,e,r){var o,u;if(e.get)return Zm.extend_(n,t,e,r);if(e.set)return n.defineProperty_(t,{configurable:At.safeDescriptors?n.isPlainObject_:!0,set:Jl(t.toString(),e.set)},r);if(typeof e.value=="function"&&(o=this.options_)!=null&&o.autoBind){var f;e.value=e.value.bind((f=n.proxy_)!=null?f:n.target_)}var g=((u=this.options_)==null?void 0:u.deep)===!1?Kn.ref:Kn;return g.extend_(n,t,e,r)}function EO(n,t){Se("'"+this.annotationType_+"' cannot be used as a decorator")}var wO="observable",TO="observable.ref",SO="observable.shallow",xO="observable.struct",$S={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze($S);function Nd(n){return n||$S}var U_=Gm(wO),AO=Gm(TO,{enhancer:qm}),CO=Gm(SO,{enhancer:XI}),RO=Gm(xO,{enhancer:$I}),JS=Ws(U_);function Pd(n){return n.deep===!0?$l:n.deep===!1?qm:OO(n.defaultDecorator)}function IO(n){var t;return n?(t=n.defaultDecorator)!=null?t:XS(n):void 0}function OO(n){var t,e;return n&&(t=(e=n.options_)==null?void 0:e.enhancer)!=null?t:$l}function t1(n,t,e){if(lf(t))return U_.decorate_20223_(n,t);if(Ql(t)){of(n,t,U_);return}return E1(n)?n:Ua(n)?Kn.object(n,t,e):Array.isArray(n)?Kn.array(n,t):Oc(n)?Kn.map(n,t):Oa(n)?Kn.set(n,t):typeof n=="object"&&n!==null?n:Kn.box(n,t)}VS(t1,JS);var NO={box:function(t,e){var r=Nd(e);return new Kl(t,Pd(r),r.name,!0,r.equals)},array:function(t,e){var r=Nd(e);return(At.useProxies===!1||r.proxy===!1?AN:gN)(t,Pd(r),r.name)},map:function(t,e){var r=Nd(e);return new T1(t,Pd(r),r.name)},set:function(t,e){var r=Nd(e);return new S1(t,Pd(r),r.name)},object:function(t,e,r){return rl(function(){return v1(At.useProxies===!1||(r==null?void 0:r.proxy)===!1?uu({},r):fN({},r),t,e)})},ref:Ws(AO),shallow:Ws(CO),deep:JS,struct:Ws(RO)},Kn=VS(t1,NO),e1="computed",PO="computed.struct",F_=kv(e1),LO=kv(PO,{equals:sm.structural}),Zm=function(t,e){if(lf(e))return F_.decorate_20223_(t,e);if(Ql(e))return of(t,e,F_);if(Ua(t))return Ws(kv(e1,t));var r=Ua(e)?e:{};return r.get=t,r.name||(r.name=t.name||""),new gs(r)};Object.assign(Zm,F_);Zm.struct=Ws(LO);var lw,uw,am=0,MO=1,DO=(lw=(uw=rm(function(){},"name"))==null?void 0:uw.configurable)!=null?lw:!1,cw={value:"action",configurable:!0,writable:!1,enumerable:!1};function Jl(n,t,e,r){e===void 0&&(e=!1);function o(){return n1(n,e,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},DO&&(cw.value=n,Zs(o,"name",cw)),o}function n1(n,t,e,r,o){var u=kO(n,t);try{return e.apply(r,o)}catch(f){throw u.error_=f,f}finally{jO(u)}}function kO(n,t,e,r){var o=!1,u=0,f=At.trackingDerivation,g=!t||!f;kr();var v=At.allowStateChanges;g&&(ou(),v=jv(!0));var y=zv(!0),S={runAsAction_:g,prevDerivation_:f,prevAllowStateChanges_:v,prevAllowStateReads_:y,notifySpy_:o,startTime_:u,actionId_:MO++,parentActionId_:am};return am=S.actionId_,S}function jO(n){am!==n.actionId_&&Se(30),am=n.parentActionId_,n.error_!==void 0&&(At.suppressReactionErrors=!0),Vv(n.prevAllowStateChanges_),kh(n.prevAllowStateReads_),jr(),n.runAsAction_&&Va(n.prevDerivation_),At.suppressReactionErrors=!1}function jv(n){var t=At.allowStateChanges;return At.allowStateChanges=n,t}function Vv(n){At.allowStateChanges=n}var Kl=(function(n){function t(r,o,u,f,g){var v;return u===void 0&&(u="ObservableValue"),g===void 0&&(g=sm.default),v=n.call(this,u)||this,v.enhancer=void 0,v.name_=void 0,v.equals=void 0,v.hasUnreportedChange_=!1,v.interceptors_=void 0,v.changeListeners_=void 0,v.value_=void 0,v.dehancer=void 0,v.enhancer=o,v.name_=u,v.equals=g,v.value_=o(r,void 0,u),v}ZS(t,n);var e=t.prototype;return e.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==At.UNCHANGED&&this.setNewValue_(o)},e.prepareNewValue_=function(o){if(Lr(this)){var u=Mr(this,{object:this,type:Ks,newValue:o});if(!u)return At.UNCHANGED;o=u.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?At.UNCHANGED:o},e.setNewValue_=function(o){var u=this.value_;this.value_=o,this.reportChanged(),fs(this)&&ds(this,{type:Ks,object:this,newValue:o,oldValue:u})},e.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},e.intercept_=function(o){return cf(this,o)},e.observe_=function(o,u){return u&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Ks,newValue:this.value_,oldValue:void 0}),hf(this,o)},e.raw=function(){return this.value_},e.toJSON=function(){return this.get()},e.toString=function(){return this.name_+"["+this.value_+"]"},e.valueOf=function(){return GS(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},t})(il),gs=(function(){function n(e){this.dependenciesState_=Ie.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ie.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new lm(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=om.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||Se(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=Jl("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?sm.structural:sm.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=n.prototype;return t.onBecomeStale_=function(){FO(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Se(32,this.name_,this.derivation),At.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)H_(this)&&(this.warnAboutUntrackedRead_(),kr(),this.value_=this.computeValue_(!1),jr());else if(u1(this),H_(this)){var r=At.trackingContext;this.keepAlive_&&!r&&(At.trackingContext=this),this.trackAndCompute()&&UO(this),At.trackingContext=r}var o=this.value_;if(Hd(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&Se(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Se(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===Ie.NOT_TRACKING_,u=this.computeValue_(!0),f=o||Hd(r)||Hd(u)||!this.equals_(r,u);return f&&(this.value_=u),f},t.computeValue_=function(r){this.isComputing=!0;var o=jv(!1),u;if(r)u=i1(this,this.derivation,this.scope_);else if(At.disableErrorBoundaries===!0)u=this.derivation.call(this.scope_);else try{u=this.derivation.call(this.scope_)}catch(f){u=new lm(f)}return Vv(o),this.isComputing=!1,u},t.suspend_=function(){this.keepAlive_||(q_(this),this.value_=void 0)},t.observe_=function(r,o){var u=this,f=!0,g=void 0;return XO(function(){var v=u.get();if(!f||o){var y=ou();r({observableKind:"computed",debugObjectName:u.name_,type:Ks,object:u,newValue:v,oldValue:g}),Va(y)}f=!1,g=v})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return GS(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Nc(n,[{key:"isComputing",get:function(){return sr(this.flags_,n.isComputingMask_)},set:function(r){this.flags_=ar(this.flags_,n.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return sr(this.flags_,n.isRunningSetterMask_)},set:function(r){this.flags_=ar(this.flags_,n.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return sr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=ar(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return sr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=ar(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return sr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ar(this.flags_,n.diffValueMask_,r===1)}}])})();gs.isComputingMask_=1;gs.isRunningSetterMask_=2;gs.isBeingObservedMask_=4;gs.isPendingUnobservationMask_=8;gs.diffValueMask_=16;var Wm=au("ComputedValue",gs),Ie;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(Ie||(Ie={}));var om;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(om||(om={}));var lm=function(t){this.cause=void 0,this.cause=t};function Hd(n){return n instanceof lm}function H_(n){switch(n.dependenciesState_){case Ie.UP_TO_DATE_:return!1;case Ie.NOT_TRACKING_:case Ie.STALE_:return!0;case Ie.POSSIBLY_STALE_:{for(var t=zv(!0),e=ou(),r=n.observing_,o=r.length,u=0;u<o;u++){var f=r[u];if(Wm(f)){if(At.disableErrorBoundaries)f.get();else try{f.get()}catch{return Va(e),kh(t),!0}if(n.dependenciesState_===Ie.STALE_)return Va(e),kh(t),!0}}return s1(n),Va(e),kh(t),!1}}}function i1(n,t,e){var r=zv(!0);s1(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++At.runId;var o=At.trackingDerivation;At.trackingDerivation=n,At.inBatch++;var u;if(At.disableErrorBoundaries===!0)u=t.call(e);else try{u=t.call(e)}catch(f){u=new lm(f)}return At.inBatch--,At.trackingDerivation=o,VO(n),kh(r),u}function VO(n){for(var t=n.observing_,e=n.observing_=n.newObserving_,r=Ie.UP_TO_DATE_,o=0,u=n.unboundDepsCount_,f=0;f<u;f++){var g=e[f];g.diffValue===0&&(g.diffValue=1,o!==f&&(e[o]=g),o++),g.dependenciesState_>r&&(r=g.dependenciesState_)}for(e.length=o,n.newObserving_=null,u=t.length;u--;){var v=t[u];v.diffValue===0&&o1(v,n),v.diffValue=0}for(;o--;){var y=e[o];y.diffValue===1&&(y.diffValue=0,BO(y,n))}r!==Ie.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function q_(n){var t=n.observing_;n.observing_=[];for(var e=t.length;e--;)o1(t[e],n);n.dependenciesState_=Ie.NOT_TRACKING_}function r1(n){var t=ou();try{return n()}finally{Va(t)}}function ou(){var n=At.trackingDerivation;return At.trackingDerivation=null,n}function Va(n){At.trackingDerivation=n}function zv(n){var t=At.allowStateReads;return At.allowStateReads=n,t}function kh(n){At.allowStateReads=n}function s1(n){if(n.dependenciesState_!==Ie.UP_TO_DATE_){n.dependenciesState_=Ie.UP_TO_DATE_;for(var t=n.observing_,e=t.length;e--;)t[e].lowestObserverState_=Ie.UP_TO_DATE_}}var qd=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Gd=!0,a1=!1,At=(function(){var n=Um();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(Gd=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new qd().version&&(Gd=!1),Gd?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new qd):(setTimeout(function(){a1||Se(35)},1),new qd)})();function zO(){if((At.pendingReactions.length||At.inBatch||At.isRunningReactions)&&Se(36),a1=!0,Gd){var n=Um();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),At=new qd}}function BO(n,t){n.observers_.add(t),n.lowestObserverState_>t.dependenciesState_&&(n.lowestObserverState_=t.dependenciesState_)}function o1(n,t){n.observers_.delete(t),n.observers_.size===0&&l1(n)}function l1(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,At.pendingUnobservations.push(n))}function kr(){At.inBatch++}function jr(){if(--At.inBatch===0){h1();for(var n=At.pendingUnobservations,t=0;t<n.length;t++){var e=n[t];e.isPendingUnobservation=!1,e.observers_.size===0&&(e.isBeingObserved&&(e.isBeingObserved=!1,e.onBUO()),e instanceof gs&&e.suspend_())}At.pendingUnobservations=[]}}function u1(n){var t=At.trackingDerivation;return t!==null?(t.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=n,!n.isBeingObserved&&At.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&At.inBatch>0&&l1(n),!1)}function c1(n){n.lowestObserverState_!==Ie.STALE_&&(n.lowestObserverState_=Ie.STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Ie.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Ie.STALE_}))}function UO(n){n.lowestObserverState_!==Ie.STALE_&&(n.lowestObserverState_=Ie.STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Ie.POSSIBLY_STALE_?t.dependenciesState_=Ie.STALE_:t.dependenciesState_===Ie.UP_TO_DATE_&&(n.lowestObserverState_=Ie.UP_TO_DATE_)}))}function FO(n){n.lowestObserverState_===Ie.UP_TO_DATE_&&(n.lowestObserverState_=Ie.POSSIBLY_STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Ie.UP_TO_DATE_&&(t.dependenciesState_=Ie.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Fa=(function(){function n(e,r,o,u){e===void 0&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ie.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=om.NONE,this.name_=e,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=u}var t=n.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,At.pendingReactions.push(this),h1())},t.runReaction_=function(){if(!this.isDisposed){kr(),this.isScheduled=!1;var r=At.trackingContext;if(At.trackingContext=this,H_(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}At.trackingContext=r,jr()}},t.track=function(r){if(!this.isDisposed){kr(),this.isRunning=!0;var o=At.trackingContext;At.trackingContext=this;var u=i1(this,r,void 0);At.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&q_(this),Hd(u)&&this.reportExceptionInDerivation_(u.cause),jr()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(At.disableErrorBoundaries)throw r;var u="[mobx] uncaught error in '"+this+"'";At.suppressReactionErrors||console.error(u,r),At.globalReactionErrorHandlers.forEach(function(f){return f(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(kr(),q_(this),jr()))},t.getDisposer_=function(r){var o=this,u=function f(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",f)};return r==null||r.addEventListener==null||r.addEventListener("abort",u),u[Zt]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(u[Symbol.dispose]=u),u},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Nc(n,[{key:"isDisposed",get:function(){return sr(this.flags_,n.isDisposedMask_)},set:function(r){this.flags_=ar(this.flags_,n.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return sr(this.flags_,n.isScheduledMask_)},set:function(r){this.flags_=ar(this.flags_,n.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return sr(this.flags_,n.isTrackPendingMask_)},set:function(r){this.flags_=ar(this.flags_,n.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return sr(this.flags_,n.isRunningMask_)},set:function(r){this.flags_=ar(this.flags_,n.isRunningMask_,r)}},{key:"diffValue",get:function(){return sr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ar(this.flags_,n.diffValueMask_,r===1)}}])})();Fa.isDisposedMask_=1;Fa.isScheduledMask_=2;Fa.isTrackPendingMask_=4;Fa.isRunningMask_=8;Fa.diffValueMask_=16;var HO=100,G_=function(t){return t()};function h1(){At.inBatch>0||At.isRunningReactions||G_(qO)}function qO(){At.isRunningReactions=!0;for(var n=At.pendingReactions,t=0;n.length>0;){++t===HO&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var e=n.splice(0),r=0,o=e.length;r<o;r++)e[r].runReaction_()}At.isRunningReactions=!1}var um=au("Reaction",Fa);function GO(n){var t=G_;G_=function(r){return n(function(){return t(r)})}}function jh(){return!1}function ZO(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var f1="action",WO="action.bound",d1="autoAction",KO="autoAction.bound",m1="<unnamed action>",Z_=uf(f1),YO=uf(WO,{bound:!0}),W_=uf(d1,{autoAction:!0}),QO=uf(KO,{autoAction:!0,bound:!0});function p1(n){var t=function(r,o){if(ps(r))return Jl(r.name||m1,r,n);if(ps(o))return Jl(r,o,n);if(lf(o))return(n?W_:Z_).decorate_20223_(r,o);if(Ql(o))return of(r,o,n?W_:Z_);if(Ql(r))return Ws(uf(n?d1:f1,{name:r,autoAction:n}))};return t}var uc=p1(!1);Object.assign(uc,Z_);var Gh=p1(!0);Object.assign(Gh,W_);uc.bound=Ws(YO);Gh.bound=Ws(QO);function Qt(n){return n1(n.name||m1,!1,n,this,void 0)}function yc(n){return ps(n)&&n.isMobxAction===!0}function XO(n,t){var e,r,o,u;t===void 0&&(t=zS);var f=(e=(r=t)==null?void 0:r.name)!=null?e:"Autorun",g=!t.scheduler&&!t.delay,v;if(g)v=new Fa(f,function(){this.track(C)},t.onError,t.requiresObservable);else{var y=JO(t),S=!1;v=new Fa(f,function(){S||(S=!0,y(function(){S=!1,v.isDisposed||v.track(C)}))},t.onError,t.requiresObservable)}function C(){n(v)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||v.schedule_(),v.getDisposer_((u=t)==null?void 0:u.signal)}var $O=function(t){return t()};function JO(n){return n.scheduler?n.scheduler:n.delay?function(t){return setTimeout(t,n.delay)}:$O}var tN="onBO",eN="onBUO";function nN(n,t,e){return _1(tN,n,t,e)}function g1(n,t,e){return _1(eN,n,t,e)}function _1(n,t,e,r){var o=fm(t),u=ps(r)?r:e,f=n+"L";return o[f]?o[f].add(u):o[f]=new Set([u]),function(){var g=o[f];g&&(g.delete(u),g.size===0&&delete o[f])}}var iN="never",Ld="always",rN="observed";function sN(n){n.isolateGlobalState===!0&&zO();var t=n.useProxies,e=n.enforceActions;if(t!==void 0&&(At.useProxies=t===Ld?!0:t===iN?!1:typeof Proxy<"u"),t==="ifavailable"&&(At.verifyProxies=!0),e!==void 0){var r=e===Ld?Ld:e===rN;At.enforceActions=r,At.allowStateChanges=!(r===!0||r===Ld)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in n&&(At[o]=!!n[o])}),At.allowStateReads=!At.observableRequiresReaction,n.reactionScheduler&&GO(n.reactionScheduler)}function v1(n,t,e,r){var o=HI(t);return rl(function(){var u=uu(n,r)[Zt];vc(o).forEach(function(f){u.extend_(f,o[f],e&&f in e?e[f]:!0)})}),n}function aN(n,t){return y1(fm(n,t))}function y1(n){var t={name:n.name_};return n.observing_&&n.observing_.length>0&&(t.dependencies=oN(n.observing_).map(y1)),t}function oN(n){return Array.from(new Set(n))}var lN=0;function b1(){this.message="FLOW_CANCELLED"}b1.prototype=Object.create(Error.prototype);var f_=YS("flow"),uN=YS("flow.bound",{bound:!0}),bc=Object.assign(function(t,e){if(lf(e))return f_.decorate_20223_(t,e);if(Ql(e))return of(t,e,f_);var r=t,o=r.name||"<unnamed flow>",u=function(){var g=this,v=arguments,y=++lN,S=uc(o+" - runid: "+y+" - init",r).apply(g,v),C,N=void 0,M=new Promise(function(H,Y){var K=0;C=Y;function ht(xt){N=void 0;var Nt;try{Nt=uc(o+" - runid: "+y+" - yield "+K++,S.next).call(S,xt)}catch(Dt){return Y(Dt)}lt(Nt)}function Et(xt){N=void 0;var Nt;try{Nt=uc(o+" - runid: "+y+" - yield "+K++,S.throw).call(S,xt)}catch(Dt){return Y(Dt)}lt(Nt)}function lt(xt){if(ps(xt==null?void 0:xt.then)){xt.then(lt,Y);return}return xt.done?H(xt.value):(N=Promise.resolve(xt.value),N.then(ht,Et))}ht(void 0)});return M.cancel=uc(o+" - runid: "+y+" - cancel",function(){try{N&&hw(N);var H=S.return(void 0),Y=Promise.resolve(H.value);Y.then(oc,oc),hw(Y),C(new b1)}catch(K){C(K)}}),M};return u.isMobXFlow=!0,u},f_);bc.bound=Ws(uN);function hw(n){ps(n.cancel)&&n.cancel()}function Zh(n){return(n==null?void 0:n.isMobXFlow)===!0}function cN(n,t){return n?Qm(n)||!!n[Zt]||Dv(n)||um(n)||Wm(n):!1}function E1(n){return cN(n)}function Na(n,t){t===void 0&&(t=void 0),kr();try{return n.apply(t)}finally{jr()}}function tc(n){return n[Zt]}var hN={has:function(t,e){return tc(t).has_(e)},get:function(t,e){return tc(t).get_(e)},set:function(t,e,r){var o;return Ql(e)?(o=tc(t).set_(e,r,!0))!=null?o:!0:!1},deleteProperty:function(t,e){var r;return Ql(e)?(r=tc(t).delete_(e,!0))!=null?r:!0:!1},defineProperty:function(t,e,r){var o;return(o=tc(t).defineProperty_(e,r))!=null?o:!0},ownKeys:function(t){return tc(t).ownKeys_()},preventExtensions:function(t){Se(13)}};function fN(n,t){var e,r;return BS(),n=uu(n,t),(r=(e=n[Zt]).proxy_)!=null?r:e.proxy_=new Proxy(n,hN)}function Lr(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function cf(n,t){var e=n.interceptors_||(n.interceptors_=[]);return e.push(t),US(function(){var r=e.indexOf(t);r!==-1&&e.splice(r,1)})}function Mr(n,t){var e=ou();try{for(var r=[].concat(n.interceptors_||[]),o=0,u=r.length;o<u&&(t=r[o](t),t&&!t.type&&Se(14),!!t);o++);return t}finally{Va(e)}}function fs(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function hf(n,t){var e=n.changeListeners_||(n.changeListeners_=[]);return e.push(t),US(function(){var r=e.indexOf(t);r!==-1&&e.splice(r,1)})}function ds(n,t){var e=ou(),r=n.changeListeners_;if(r){r=r.slice();for(var o=0,u=r.length;o<u;o++)r[o](t);Va(e)}}function dN(n,t,e){return rl(function(){var r,o=uu(n,e)[Zt];(r=t)!=null||(t=KI(n)),vc(t).forEach(function(u){return o.make_(u,t[u])})}),n}var d_=Symbol("mobx-keys");function Km(n,t,e){return Ua(n)?v1(n,n,t,e):(rl(function(){var r=uu(n,e)[Zt];if(!n[d_]){var o=Object.getPrototypeOf(n),u=new Set([].concat(vc(n),vc(o)));u.delete("constructor"),u.delete(Zt),af(o,d_,u)}n[d_].forEach(function(f){return r.make_(f,t&&f in t?t[f]:!0)})}),n)}var fw="splice",Ks="update",mN=1e4,pN={get:function(t,e){var r=t[Zt];return e===Zt?r:e==="length"?r.getArrayLength_():typeof e=="string"&&!isNaN(e)?r.get_(parseInt(e)):ja(cm,e)?cm[e]:t[e]},set:function(t,e,r){var o=t[Zt];return e==="length"&&o.setArrayLength_(r),typeof e=="symbol"||isNaN(e)?t[e]=r:o.set_(parseInt(e),r),!0},preventExtensions:function(){Se(15)}},Bv=(function(){function n(e,r,o,u){e===void 0&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=u,this.atom_=new il(e),this.enhancer_=function(f,g){return r(f,g,"ObservableArray[..]")}}var t=n.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return cf(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),hf(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Se("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var u=new Array(r-o),f=0;f<r-o;f++)u[f]=void 0;this.spliceWithArray_(o,0,u)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&Se(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&R1(r+o+1)},t.spliceWithArray_=function(r,o,u){var f=this;this.atom_;var g=this.values_.length;if(r===void 0?r=0:r>g?r=g:r<0&&(r=Math.max(0,g+r)),arguments.length===1?o=g-r:o==null?o=0:o=Math.max(0,Math.min(o,g-r)),u===void 0&&(u=z_),Lr(this)){var v=Mr(this,{object:this.proxy_,type:fw,index:r,removedCount:o,added:u});if(!v)return z_;o=v.removedCount,u=v.added}if(u=u.length===0?u:u.map(function(C){return f.enhancer_(C,void 0)}),this.legacyMode_){var y=u.length-o;this.updateArrayLength_(g,y)}var S=this.spliceItemsIntoValues_(r,o,u);return(o!==0||u.length!==0)&&this.notifyArraySplice_(r,u,S),this.dehanceValues_(S)},t.spliceItemsIntoValues_=function(r,o,u){if(u.length<mN){var f;return(f=this.values_).splice.apply(f,[r,o].concat(u))}else{var g=this.values_.slice(r,r+o),v=this.values_.slice(r+o);this.values_.length+=u.length-o;for(var y=0;y<u.length;y++)this.values_[r+y]=u[y];for(var S=0;S<v.length;S++)this.values_[r+u.length+S]=v[S];return g}},t.notifyArrayChildUpdate_=function(r,o,u){var f=!this.owned_&&jh(),g=fs(this),v=g||f?{observableKind:"array",object:this.proxy_,type:Ks,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:u}:null;this.atom_.reportChanged(),g&&ds(this,v)},t.notifyArraySplice_=function(r,o,u){var f=!this.owned_&&jh(),g=fs(this),v=g||f?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:fw,index:r,removed:u,added:o,removedCount:u.length,addedCount:o.length}:null;this.atom_.reportChanged(),g&&ds(this,v)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var u=this.values_;if(this.legacyMode_&&r>u.length&&Se(17,r,u.length),r<u.length){this.atom_;var f=u[r];if(Lr(this)){var g=Mr(this,{type:Ks,object:this.proxy_,index:r,newValue:o});if(!g)return;o=g.newValue}o=this.enhancer_(o,f);var v=o!==f;v&&(u[r]=o,this.notifyArrayChildUpdate_(r,o,f))}else{for(var y=new Array(r+1-u.length),S=0;S<y.length-1;S++)y[S]=void 0;y[y.length-1]=o,this.spliceWithArray_(u.length,0,y)}},n})();function gN(n,t,e,r){return e===void 0&&(e="ObservableArray"),r===void 0&&(r=!1),BS(),rl(function(){var o=new Bv(e,t,r,!1);HS(o.values_,Zt,o);var u=new Proxy(o.values_,pN);return o.proxy_=u,n&&n.length&&o.spliceWithArray_(0,0,n),u})}var cm={clear:function(){return this.splice(0)},replace:function(t){var e=this[Zt];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var f=this[Zt];switch(arguments.length){case 0:return[];case 1:return f.spliceWithArray_(t);case 2:return f.spliceWithArray_(t,e)}return f.spliceWithArray_(t,e,o)},spliceWithArray:function(t,e,r){return this[Zt].spliceWithArray_(t,e,r)},push:function(){for(var t=this[Zt],e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Zt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Zt],e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return At.trackingDerivation&&Se(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){At.trackingDerivation&&Se(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[Zt],r=e.dehanceValues_(e.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Ge("at",cr);Ge("concat",cr);Ge("flat",cr);Ge("includes",cr);Ge("indexOf",cr);Ge("join",cr);Ge("lastIndexOf",cr);Ge("slice",cr);Ge("toString",cr);Ge("toLocaleString",cr);Ge("toSorted",cr);Ge("toSpliced",cr);Ge("with",cr);Ge("every",bs);Ge("filter",bs);Ge("find",bs);Ge("findIndex",bs);Ge("findLast",bs);Ge("findLastIndex",bs);Ge("flatMap",bs);Ge("forEach",bs);Ge("map",bs);Ge("some",bs);Ge("toReversed",bs);Ge("reduce",w1);Ge("reduceRight",w1);function Ge(n,t){typeof Array.prototype[n]=="function"&&(cm[n]=t(n))}function cr(n){return function(){var t=this[Zt];t.atom_.reportObserved();var e=t.dehanceValues_(t.values_);return e[n].apply(e,arguments)}}function bs(n){return function(t,e){var r=this,o=this[Zt];o.atom_.reportObserved();var u=o.dehanceValues_(o.values_);return u[n](function(f,g){return t.call(e,f,g,r)})}}function w1(n){return function(){var t=this,e=this[Zt];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_),o=arguments[0];return arguments[0]=function(u,f,g){return o(u,f,g,t)},r[n].apply(r,arguments)}}var _N=au("ObservableArrayAdministration",Bv);function Ym(n){return Hm(n)&&_N(n[Zt])}var vN={},Fo="add",hm="delete",T1=(function(){function n(e,r,o){var u=this;r===void 0&&(r=$l),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Zt]=vN,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,ps(Map)||Se(18),rl(function(){u.keysAtom_=WS("ObservableMap.keys()"),u.data_=new Map,u.hasMap_=new Map,e&&u.merge(e)})}var t=n.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!At.trackingDerivation)return this.has_(r);var u=this.hasMap_.get(r);if(!u){var f=u=new Kl(this.has_(r),qm,"ObservableMap.key?",!1);this.hasMap_.set(r,f),g1(f,function(){return o.hasMap_.delete(r)})}return u.get()},t.set=function(r,o){var u=this.has_(r);if(Lr(this)){var f=Mr(this,{type:u?Ks:Fo,object:this,newValue:o,name:r});if(!f)return this;o=f.newValue}return u?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,Lr(this)){var u=Mr(this,{type:hm,object:this,name:r});if(!u)return!1}if(this.has_(r)){var f=jh(),g=fs(this),v=g||f?{observableKind:"map",debugObjectName:this.name_,type:hm,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Na(function(){var y;o.keysAtom_.reportChanged(),(y=o.hasMap_.get(r))==null||y.setNewValue_(!1);var S=o.data_.get(r);S.setNewValue_(void 0),o.data_.delete(r)}),g&&ds(this,v),!0}return!1},t.updateValue_=function(r,o){var u=this.data_.get(r);if(o=u.prepareNewValue_(o),o!==At.UNCHANGED){var f=jh(),g=fs(this),v=g||f?{observableKind:"map",debugObjectName:this.name_,type:Ks,object:this,oldValue:u.value_,name:r,newValue:o}:null;u.setNewValue_(o),g&&ds(this,v)}},t.addValue_=function(r,o){var u=this;this.keysAtom_,Na(function(){var y,S=new Kl(o,u.enhancer_,"ObservableMap.key",!1);u.data_.set(r,S),o=S.value_,(y=u.hasMap_.get(r))==null||y.setNewValue_(!0),u.keysAtom_.reportChanged()});var f=jh(),g=fs(this),v=g||f?{observableKind:"map",debugObjectName:this.name_,type:Fo,object:this,name:r,newValue:o}:null;g&&ds(this,v)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return dw({next:function(){var f=o.next(),g=f.done,v=f.value;return{done:g,value:g?void 0:r.get(v)}}})},t.entries=function(){var r=this,o=this.keys();return dw({next:function(){var f=o.next(),g=f.done,v=f.value;return{done:g,value:g?void 0:[v,r.get(v)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var u=lc(this),f;!(f=u()).done;){var g=f.value,v=g[0],y=g[1];r.call(o,y,v,this)}},t.merge=function(r){var o=this;return lu(r)&&(r=new Map(r)),Na(function(){Ua(r)?FI(r).forEach(function(u){return o.set(u,r[u])}):Array.isArray(r)?r.forEach(function(u){var f=u[0],g=u[1];return o.set(f,g)}):Oc(r)?(UI(r)||Se(19,r),r.forEach(function(u,f){return o.set(f,u)})):r!=null&&Se(20,r)}),this},t.clear=function(){var r=this;Na(function(){r1(function(){for(var o=lc(r.keys()),u;!(u=o()).done;){var f=u.value;r.delete(f)}})})},t.replace=function(r){var o=this;return Na(function(){for(var u=yN(r),f=new Map,g=!1,v=lc(o.data_.keys()),y;!(y=v()).done;){var S=y.value;if(!u.has(S)){var C=o.delete(S);if(C)g=!0;else{var N=o.data_.get(S);f.set(S,N)}}}for(var M=lc(u.entries()),H;!(H=M()).done;){var Y=H.value,K=Y[0],ht=Y[1],Et=o.data_.has(K);if(o.set(K,ht),o.data_.has(K)){var lt=o.data_.get(K);f.set(K,lt),Et||(g=!0)}}if(!g)if(o.data_.size!==f.size)o.keysAtom_.reportChanged();else for(var xt=o.data_.keys(),Nt=f.keys(),Dt=xt.next(),k=Nt.next();!Dt.done;){if(Dt.value!==k.value){o.keysAtom_.reportChanged();break}Dt=xt.next(),k=Nt.next()}o.data_=f}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return hf(this,r)},t.intercept_=function(r){return cf(this,r)},Nc(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),lu=au("ObservableMap",T1);function dw(n){return n[Symbol.toStringTag]="MapIterator",Fv(n)}function yN(n){if(Oc(n)||lu(n))return n;if(Array.isArray(n))return new Map(n);if(Ua(n)){var t=new Map;for(var e in n)t.set(e,n[e]);return t}else return Se(21,n)}var bN={},S1=(function(){function n(e,r,o){var u=this;r===void 0&&(r=$l),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[Zt]=bN,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,ps(Set)||Se(22),this.enhancer_=function(f,g){return r(f,g,o)},rl(function(){u.atom_=WS(u.name_),e&&u.replace(e)})}var t=n.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Na(function(){r1(function(){for(var o=lc(r.data_.values()),u;!(u=o()).done;){var f=u.value;r.delete(f)}})})},t.forEach=function(r,o){for(var u=lc(this),f;!(f=u()).done;){var g=f.value;r.call(o,g,g,this)}},t.add=function(r){var o=this;if(this.atom_,Lr(this)){var u=Mr(this,{type:Fo,object:this,newValue:r});if(!u)return this;r=u.newValue}if(!this.has(r)){Na(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var f=!1,g=fs(this),v=g||f?{observableKind:"set",debugObjectName:this.name_,type:Fo,object:this,newValue:r}:null;g&&ds(this,v)}return this},t.delete=function(r){var o=this;if(Lr(this)){var u=Mr(this,{type:hm,object:this,oldValue:r});if(!u)return!1}if(this.has(r)){var f=!1,g=fs(this),v=g||f?{observableKind:"set",debugObjectName:this.name_,type:hm,object:this,oldValue:r}:null;return Na(function(){o.atom_.reportChanged(),o.data_.delete(r)}),g&&ds(this,v),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return mw({next:function(){var u=r.next(),f=u.value,g=u.done;return g?{value:void 0,done:g}:{value:[f,f],done:g}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=this.data_.values();return mw({next:function(){var f=o.next(),g=f.value,v=f.done;return v?{value:void 0,done:v}:{value:r.dehanceValue_(g),done:v}}})},t.intersection=function(r){if(Oa(r)&&!qs(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(Oa(r)&&!qs(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Oa(r)&&!qs(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Oa(r)&&!qs(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return qs(r)&&(r=new Set(r)),Na(function(){Array.isArray(r)?(o.clear(),r.forEach(function(u){return o.add(u)})):Oa(r)?(o.clear(),r.forEach(function(u){return o.add(u)})):r!=null&&Se("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return hf(this,r)},t.intercept_=function(r){return cf(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Nc(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),qs=au("ObservableSet",S1);function mw(n){return n[Symbol.toStringTag]="SetIterator",Fv(n)}var pw=Object.create(null),gw="remove",x1=(function(){function n(e,r,o,u){r===void 0&&(r=new Map),u===void 0&&(u=vO),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=r,this.name_=o,this.defaultAnnotation_=u,this.keysAtom_=new il("ObservableObject.keys"),this.isPlainObject_=Ua(this.target_)}var t=n.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var u=this.values_.get(r);if(u instanceof gs)return u.set(o),!0;if(Lr(this)){var f=Mr(this,{type:Ks,object:this.proxy_||this.target_,name:r,newValue:o});if(!f)return null;o=f.newValue}if(o=u.prepareNewValue_(o),o!==At.UNCHANGED){var g=fs(this),v=!1,y=g||v?{type:Ks,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:u.value_,name:r,newValue:o}:null;u.setNewValue_(o),g&&ds(this,y)}return!0},t.get_=function(r){return At.trackingDerivation&&!ja(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,u){return u===void 0&&(u=!1),ja(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):u?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,u)},t.has_=function(r){if(!At.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Kl(r in this.target_,qm,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var u;if((u=this.target_[Gs])!=null&&u[r])return;Se(1,o.annotationType_,this.name_+"."+r.toString())}for(var f=this.target_;f&&f!==Fm;){var g=rm(f,r);if(g){var v=o.make_(this,r,g,f);if(v===0)return;if(v===1)break}f=Object.getPrototypeOf(f)}vw(this,o,r)}},t.extend_=function(r,o,u,f){if(f===void 0&&(f=!1),u===!0&&(u=this.defaultAnnotation_),u===!1)return this.defineProperty_(r,o,f);var g=u.extend_(this,r,o,f);return g&&vw(this,u,r),g},t.defineProperty_=function(r,o,u){u===void 0&&(u=!1),this.keysAtom_;try{kr();var f=this.delete_(r);if(!f)return f;if(Lr(this)){var g=Mr(this,{object:this.proxy_||this.target_,name:r,type:Fo,newValue:o.value});if(!g)return null;var v=g.newValue;o.value!==v&&(o=Xl({},o,{value:v}))}if(u){if(!Reflect.defineProperty(this.target_,r,o))return!1}else Zs(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{jr()}return!0},t.defineObservableProperty_=function(r,o,u,f){f===void 0&&(f=!1),this.keysAtom_;try{kr();var g=this.delete_(r);if(!g)return g;if(Lr(this)){var v=Mr(this,{object:this.proxy_||this.target_,name:r,type:Fo,newValue:o});if(!v)return null;o=v.newValue}var y=_w(r),S={configurable:At.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:y.get,set:y.set};if(f){if(!Reflect.defineProperty(this.target_,r,S))return!1}else Zs(this.target_,r,S);var C=new Kl(o,u,"ObservableObject.key",!1);this.values_.set(r,C),this.notifyPropertyAddition_(r,C.value_)}finally{jr()}return!0},t.defineComputedProperty_=function(r,o,u){u===void 0&&(u=!1),this.keysAtom_;try{kr();var f=this.delete_(r);if(!f)return f;if(Lr(this)){var g=Mr(this,{object:this.proxy_||this.target_,name:r,type:Fo,newValue:void 0});if(!g)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var v=_w(r),y={configurable:At.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:v.get,set:v.set};if(u){if(!Reflect.defineProperty(this.target_,r,y))return!1}else Zs(this.target_,r,y);this.values_.set(r,new gs(o)),this.notifyPropertyAddition_(r,void 0)}finally{jr()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!ja(this.target_,r))return!0;if(Lr(this)){var u=Mr(this,{object:this.proxy_||this.target_,name:r,type:gw});if(!u)return null}try{var f;kr();var g=fs(this),v=!1,y=this.values_.get(r),S=void 0;if(!y&&(g||v)){var C;S=(C=rm(this.target_,r))==null?void 0:C.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(y&&(this.values_.delete(r),y instanceof Kl&&(S=y.value_),c1(y)),this.keysAtom_.reportChanged(),(f=this.pendingKeys_)==null||(f=f.get(r))==null||f.set(r in this.target_),g||v){var N={type:gw,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:S,name:r};g&&ds(this,N)}}finally{jr()}return!0},t.observe_=function(r,o){return hf(this,r)},t.intercept_=function(r){return cf(this,r)},t.notifyPropertyAddition_=function(r,o){var u,f=fs(this),g=!1;if(f||g){var v=f||g?{type:Fo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;f&&ds(this,v)}(u=this.pendingKeys_)==null||(u=u.get(r))==null||u.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),vc(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n})();function uu(n,t){var e;if(ja(n,Zt))return n;var r=(e=t==null?void 0:t.name)!=null?e:"ObservableObject",o=new x1(n,new Map,String(r),IO(t));return af(n,Zt,o),n}var EN=au("ObservableObjectAdministration",x1);function _w(n){return pw[n]||(pw[n]={get:function(){return this[Zt].getObservablePropValue_(n)},set:function(e){return this[Zt].setObservablePropValue_(n,e)}})}function Qm(n){return Hm(n)?EN(n[Zt]):!1}function vw(n,t,e){var r;(r=n.target_[Gs])==null||delete r[e]}var wN=C1(0),TN=(function(){var n=!1,t={};return Object.defineProperty(t,"0",{set:function(){n=!0}}),Object.create(t)[0]=1,n===!1})(),m_=0,A1=function(){};function SN(n,t){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,t):n.prototype.__proto__!==void 0?n.prototype.__proto__=t:n.prototype=t}SN(A1,Array.prototype);var Uv=(function(n){function t(r,o,u,f){var g;return u===void 0&&(u="ObservableArray"),f===void 0&&(f=!1),g=n.call(this)||this,rl(function(){var v=new Bv(u,o,f,!0);v.proxy_=g,HS(g,Zt,v),r&&r.length&&g.spliceWithArray(0,0,r),TN&&Object.defineProperty(g,"0",wN)}),g}ZS(t,n);var e=t.prototype;return e.concat=function(){this[Zt].atom_.reportObserved();for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return Array.prototype.concat.apply(this.slice(),u.map(function(g){return Ym(g)?g.slice():g}))},e[Symbol.iterator]=function(){var r=this,o=0;return Fv({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Nc(t,[{key:"length",get:function(){return this[Zt].getArrayLength_()},set:function(o){this[Zt].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(A1);Object.entries(cm).forEach(function(n){var t=n[0],e=n[1];t!=="concat"&&af(Uv.prototype,t,e)});function C1(n){return{enumerable:!1,configurable:!0,get:function(){return this[Zt].get_(n)},set:function(e){this[Zt].set_(n,e)}}}function xN(n){Zs(Uv.prototype,""+n,C1(n))}function R1(n){if(n>m_){for(var t=m_;t<n+100;t++)xN(t);m_=n}}R1(1e3);function AN(n,t,e){return new Uv(n,t,e)}function fm(n,t){if(typeof n=="object"&&n!==null){if(Ym(n))return t!==void 0&&Se(23),n[Zt].atom_;if(qs(n))return n.atom_;if(lu(n)){if(t===void 0)return n.keysAtom_;var e=n.data_.get(t)||n.hasMap_.get(t);return e||Se(25,t,K_(n)),e}if(Qm(n)){if(!t)return Se(26);var r=n[Zt].values_.get(t);return r||Se(27,t,K_(n)),r}if(Dv(n)||Wm(n)||um(n))return n}else if(ps(n)&&um(n[Zt]))return n[Zt];Se(28)}function CN(n,t){if(n||Se(29),Dv(n)||Wm(n)||um(n)||lu(n)||qs(n))return n;if(n[Zt])return n[Zt];Se(24,n)}function K_(n,t){var e;if(t!==void 0)e=fm(n,t);else{if(yc(n))return n.name;Qm(n)||lu(n)||qs(n)?e=CN(n):e=fm(n)}return e.name_}function rl(n){var t=ou(),e=jv(!0);kr();try{return n()}finally{jr(),Vv(e),Va(t)}}var yw=Fm.toString;function I1(n,t,e){return e===void 0&&(e=-1),Y_(n,t,e)}function Y_(n,t,e,r,o){if(n===t)return n!==0||1/n===1/t;if(n==null||t==null)return!1;if(n!==n)return t!==t;var u=typeof n;if(u!=="function"&&u!=="object"&&typeof t!="object")return!1;var f=yw.call(n);if(f!==yw.call(t))return!1;switch(f){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:+n==0?1/+n===1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":e>=0&&e++;break}n=bw(n),t=bw(t);var g=f==="[object Array]";if(!g){if(typeof n!="object"||typeof t!="object")return!1;var v=n.constructor,y=t.constructor;if(v!==y&&!(ps(v)&&v instanceof v&&ps(y)&&y instanceof y)&&"constructor"in n&&"constructor"in t)return!1}if(e===0)return!1;e<0&&(e=-1),r=r||[],o=o||[];for(var S=r.length;S--;)if(r[S]===n)return o[S]===t;if(r.push(n),o.push(t),g){if(S=n.length,S!==t.length)return!1;for(;S--;)if(!Y_(n[S],t[S],e-1,r,o))return!1}else{var C=Object.keys(n),N=C.length;if(Object.keys(t).length!==N)return!1;for(var M=0;M<N;M++){var H=C[M];if(!(ja(t,H)&&Y_(n[H],t[H],e-1,r,o)))return!1}}return r.pop(),o.pop(),!0}function bw(n){return Ym(n)?n.slice():Oc(n)||lu(n)||Oa(n)||qs(n)?Array.from(n.entries()):n}var Ew,RN=((Ew=Um().Iterator)==null?void 0:Ew.prototype)||{};function Fv(n){return n[Symbol.iterator]=IN,Object.assign(Object.create(RN),n)}function IN(){return this}["Symbol","Map","Set"].forEach(function(n){var t=Um();typeof t[n]>"u"&&Se("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ZO,extras:{getDebugName:K_},$mobx:Zt});if(!W.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!dN)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function ON(n){n()}function NN(n){n||(n=ON),sN({reactionScheduler:n})}function PN(n){return aN(n)}var LN=1e4,MN=1e4,DN=(function(){function n(t){var e=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=LN),clearTimeout(e.sweepTimeout),e.sweepTimeout=void 0;var o=Date.now();e.registrations.forEach(function(u,f){o-u.registeredAt>=r&&(e.finalize(u.value),e.registrations.delete(f))}),e.registrations.size>0&&e.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){e.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e,r){this.registrations.set(r,{value:e,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,MN))}}),n})(),kN=typeof FinalizationRegistry<"u"?FinalizationRegistry:DN,Q_=new kN(function(n){var t;(t=n.reaction)===null||t===void 0||t.dispose(),n.reaction=null}),p_={exports:{}},g_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function jN(){if(ww)return g_;ww=1;var n=Vm();function t(C,N){return C===N&&(C!==0||1/C===1/N)||C!==C&&N!==N}var e=typeof Object.is=="function"?Object.is:t,r=n.useState,o=n.useEffect,u=n.useLayoutEffect,f=n.useDebugValue;function g(C,N){var M=N(),H=r({inst:{value:M,getSnapshot:N}}),Y=H[0].inst,K=H[1];return u(function(){Y.value=M,Y.getSnapshot=N,v(Y)&&K({inst:Y})},[C,M,N]),o(function(){return v(Y)&&K({inst:Y}),C(function(){v(Y)&&K({inst:Y})})},[C]),f(M),M}function v(C){var N=C.getSnapshot;C=C.value;try{var M=N();return!e(C,M)}catch{return!0}}function y(C,N){return N()}var S=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:g;return g_.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:S,g_}var Tw;function VN(){return Tw||(Tw=1,p_.exports=jN()),p_.exports}var zN=VN();function Sw(n){n.reaction=new Fa("observer".concat(n.name),function(){var t;n.stateVersion=Symbol(),(t=n.onStoreChange)===null||t===void 0||t.call(n)})}function BN(n,t){t===void 0&&(t="observed");var e=Ko.useRef(null);if(!e.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(g){return Q_.unregister(r),r.onStoreChange=g,r.reaction||(Sw(r),r.stateVersion=Symbol()),function(){var v;r.onStoreChange=null,(v=r.reaction)===null||v===void 0||v.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};e.current=r}var o=e.current;o.reaction||(Sw(o),Q_.register(e,o,o)),Ko.useDebugValue(o.reaction,PN),zN.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var u,f;if(o.reaction.track(function(){try{u=n()}catch(g){f=g}}),f)throw f;return u}var __,v_,O1=typeof Symbol=="function"&&Symbol.for,UN=(v_=(__=Object.getOwnPropertyDescriptor(function(){},"name"))===null||__===void 0?void 0:__.configurable)!==null&&v_!==void 0?v_:!1,xw=O1?Symbol.for("react.forward_ref"):typeof W.forwardRef=="function"&&W.forwardRef(function(n){return null}).$$typeof,Aw=O1?Symbol.for("react.memo"):typeof W.memo=="function"&&W.memo(function(n){return null}).$$typeof;function qr(n,t){var e;if(Aw&&n.$$typeof===Aw)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(e=void 0)!==null&&e!==void 0?e:!1,o=n,u=n.displayName||n.name;if(xw&&n.$$typeof===xw&&(r=!0,o=n.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var f=function(g,v){return BN(function(){return o(g,v)},u)};return f.displayName=n.displayName,UN&&Object.defineProperty(f,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(f.contextTypes=n.contextTypes),r&&(f=W.forwardRef(f)),f=W.memo(f),HN(n,f),f}var FN={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function HN(n,t){Object.keys(n).forEach(function(e){FN[e]||Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}var y_;NN(jS.unstable_batchedUpdates);y_=Q_.finalizeAllImmediately;const qN=()=>{};var Cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},GN=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],f=n[e++],g=n[e++],v=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const u=n[e++],f=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,g=f?n[o+1]:0,v=o+2<n.length,y=v?n[o+2]:0,S=u>>2,C=(u&3)<<4|g>>4;let N=(g&15)<<2|y>>6,M=y&63;v||(M=64,f||(N=64)),r.push(e[S],e[C],e[N],e[M])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(N1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):GN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],g=o<n.length?e[n.charAt(o)]:0;++o;const y=o<n.length?e[n.charAt(o)]:64;++o;const C=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||g==null||y==null||C==null)throw new ZN;const N=u<<2|g>>4;if(r.push(N),y!==64){const M=g<<4&240|y>>2;if(r.push(M),C!==64){const H=y<<6&192|C;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WN=function(n){const t=N1(n);return P1.encodeByteArray(t,!0)},dm=function(n){return WN(n).replace(/\./g,"")},L1=function(n){try{return P1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=()=>KN().__FIREBASE_DEFAULTS__,QN=()=>{if(typeof process>"u"||typeof Cw>"u")return;const n=Cw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&L1(n[1]);return t&&JSON.parse(t)},Xm=()=>{try{return qN()||YN()||QN()||XN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},M1=n=>{var t,e;return(e=(t=Xm())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},$N=n=>{const t=M1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},D1=()=>{var n;return(n=Xm())==null?void 0:n.config},k1=n=>{var t;return(t=Xm())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[dm(JSON.stringify(e)),dm(JSON.stringify(f)),""].join(".")}const Vh={};function eP(){const n={prod:[],emulator:[]};for(const t of Object.keys(Vh))Vh[t]?n.emulator.push(t):n.prod.push(t);return n}function nP(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Rw=!1;function V1(n,t){if(typeof window>"u"||typeof document>"u"||!Pc(window.location.host)||Vh[n]===t||Vh[n]||Rw)return;Vh[n]=t;function e(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=eP().prod.length>0;function f(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,M){N.setAttribute("width","24"),N.setAttribute("id",M),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Rw=!0,f()},N}function S(N,M){N.setAttribute("id",M),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function C(){const N=nP(r),M=e("text"),H=document.getElementById(M)||document.createElement("span"),Y=e("learnmore"),K=document.getElementById(Y)||document.createElement("a"),ht=e("preprendIcon"),Et=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const lt=N.element;g(lt),S(K,Y);const xt=y();v(Et,ht),lt.append(Et,H,K,xt),document.body.appendChild(lt)}u?(H.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(li())}function rP(){var t;const n=(t=Xm())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oP(){const n=li();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lP(){return!rP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B1(){try{return typeof indexedDB=="object"}catch{return!1}}function U1(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(e){t(e)}})}function uP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="FirebaseError";class Es extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=cP,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?hP(u,r):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Es(o,g,r)}}function hP(n,t){return n.replace(fP,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const fP=/\{\$([^}]+)}/g;function dP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Yo(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],f=t[o];if(Iw(u)&&Iw(f)){if(!Yo(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function Iw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ih(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Oh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function mP(n,t){const e=new pP(n,t);return e.subscribe.bind(e)}class pP{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");gP(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=b_),o.error===void 0&&(o.error=b_),o.complete===void 0&&(o.complete=b_);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gP(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function b_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=1e3,vP=2,yP=14400*1e3,bP=.5;function Ow(n,t=_P,e=vP){const r=t*Math.pow(e,n),o=Math.round(bP*r*(Math.random()-.5)*2);return Math.min(yP,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(n){return n&&n._delegate?n._delegate:n}class _s{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new JN;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TP(t))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Fl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fl){return this.instances.has(t)}getOptions(t=Fl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wP(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Fl){return this.component?this.component.multipleInstances?t:Fl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wP(n){return n===Fl?void 0:n}function TP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new EP(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(me||(me={}));const xP={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},AP=me.INFO,CP={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},RP=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=CP[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $m{constructor(t){this.name=t,this._logLevel=AP,this._logHandler=RP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}}const IP=(n,t)=>t.some(e=>n instanceof e);let Nw,Pw;function OP(){return Nw||(Nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NP(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F1=new WeakMap,X_=new WeakMap,H1=new WeakMap,E_=new WeakMap,Hv=new WeakMap;function PP(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{e(qo(n.result)),o()},f=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&F1.set(e,n)}).catch(()=>{}),Hv.set(t,n),t}function LP(n){if(X_.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{e(),o()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});X_.set(n,t)}let $_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return X_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||H1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return qo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function MP(n){$_=n($_)}function DP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(w_(this),t,...e);return H1.set(r,t.sort?t.sort():[t]),qo(r)}:NP().includes(n)?function(...t){return n.apply(w_(this),t),qo(F1.get(this))}:function(...t){return qo(n.apply(w_(this),t))}}function kP(n){return typeof n=="function"?DP(n):(n instanceof IDBTransaction&&LP(n),IP(n,OP())?new Proxy(n,$_):n)}function qo(n){if(n instanceof IDBRequest)return PP(n);if(E_.has(n))return E_.get(n);const t=kP(n);return t!==n&&(E_.set(n,t),Hv.set(t,n)),t}const w_=n=>Hv.get(n);function q1(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(n,t),g=qo(f);return r&&f.addEventListener("upgradeneeded",v=>{r(qo(f.result),v.oldVersion,v.newVersion,qo(f.transaction),v)}),e&&f.addEventListener("blocked",v=>e(v.oldVersion,v.newVersion,v)),g.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const jP=["get","getKey","getAll","getAllKeys","count"],VP=["put","add","delete","clear"],T_=new Map;function Lw(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(T_.get(t))return T_.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=VP.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||jP.includes(e)))return;const u=async function(f,...g){const v=this.transaction(f,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[e](...g),o&&v.done]))[0]};return T_.set(t,u),u}MP(n=>({...n,get:(t,e,r)=>Lw(t,e)||n.get(t,e,r),has:(t,e)=>!!Lw(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(BP(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function BP(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const J_="@firebase/app",Mw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=new $m("@firebase/app"),UP="@firebase/app-compat",FP="@firebase/analytics-compat",HP="@firebase/analytics",qP="@firebase/app-check-compat",GP="@firebase/app-check",ZP="@firebase/auth",WP="@firebase/auth-compat",KP="@firebase/database",YP="@firebase/data-connect",QP="@firebase/database-compat",XP="@firebase/functions",$P="@firebase/functions-compat",JP="@firebase/installations",tL="@firebase/installations-compat",eL="@firebase/messaging",nL="@firebase/messaging-compat",iL="@firebase/performance",rL="@firebase/performance-compat",sL="@firebase/remote-config",aL="@firebase/remote-config-compat",oL="@firebase/storage",lL="@firebase/storage-compat",uL="@firebase/firestore",cL="@firebase/ai",hL="@firebase/firestore-compat",fL="firebase",dL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="[DEFAULT]",mL={[J_]:"fire-core",[UP]:"fire-core-compat",[HP]:"fire-analytics",[FP]:"fire-analytics-compat",[GP]:"fire-app-check",[qP]:"fire-app-check-compat",[ZP]:"fire-auth",[WP]:"fire-auth-compat",[KP]:"fire-rtdb",[YP]:"fire-data-connect",[QP]:"fire-rtdb-compat",[XP]:"fire-fn",[$P]:"fire-fn-compat",[JP]:"fire-iid",[tL]:"fire-iid-compat",[eL]:"fire-fcm",[nL]:"fire-fcm-compat",[iL]:"fire-perf",[rL]:"fire-perf-compat",[sL]:"fire-rc",[aL]:"fire-rc-compat",[oL]:"fire-gcs",[lL]:"fire-gcs-compat",[uL]:"fire-fst",[hL]:"fire-fst-compat",[cL]:"fire-vertex","fire-js":"fire-js",[fL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new Map,pL=new Map,ev=new Map;function Dw(n,t){try{n.container.addComponent(t)}catch(e){Ha.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function ea(n){const t=n.name;if(ev.has(t))return Ha.debug(`There were multiple attempts to register component ${t}.`),!1;ev.set(t,n);for(const e of mm.values())Dw(e,n);for(const e of pL.values())Dw(e,n);return!0}function hu(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Vi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Go=new cu("app","Firebase",gL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=dL;function G1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:tv,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Go.create("bad-app-name",{appName:String(o)});if(e||(e=D1()),!e)throw Go.create("no-options");const u=mm.get(o);if(u){if(Yo(e,u.options)&&Yo(r,u.config))return u;throw Go.create("duplicate-app",{appName:o})}const f=new SP(o);for(const v of ev.values())f.addComponent(v);const g=new _L(e,r,f);return mm.set(o,g),g}function qv(n=tv){const t=mm.get(n);if(!t&&n===tv&&D1())return G1();if(!t)throw Go.create("no-app",{appName:n});return t}function Vr(n,t,e){let r=mL[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ha.warn(f.join(" "));return}ea(new _s(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="firebase-heartbeat-database",yL=1,Wh="firebase-heartbeat-store";let S_=null;function Z1(){return S_||(S_=q1(vL,yL,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Wh)}catch(e){console.warn(e)}}}}).catch(n=>{throw Go.create("idb-open",{originalErrorMessage:n.message})})),S_}async function bL(n){try{const e=(await Z1()).transaction(Wh),r=await e.objectStore(Wh).get(W1(n));return await e.done,r}catch(t){if(t instanceof Es)Ha.warn(t.message);else{const e=Go.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ha.warn(e.message)}}}async function kw(n,t){try{const r=(await Z1()).transaction(Wh,"readwrite");await r.objectStore(Wh).put(t,W1(n)),await r.done}catch(e){if(e instanceof Es)Ha.warn(e.message);else{const r=Go.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ha.warn(r.message)}}}function W1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1024,wL=30;class TL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new xL(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=jw();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>wL){const f=AL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ha.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jw(),{heartbeatsToSend:r,unsentEntries:o}=SL(this._heartbeatsCache.heartbeats),u=dm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Ha.warn(e),""}}}function jw(){return new Date().toISOString().substring(0,10)}function SL(n,t=EL){const e=[];let r=n.slice();for(const o of n){const u=e.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Vw(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),Vw(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class xL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B1()?U1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await bL(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return kw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return kw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Vw(n){return dm(JSON.stringify({version:2,heartbeats:n})).length}function AL(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(n){ea(new _s("platform-logger",t=>new zP(t),"PRIVATE")),ea(new _s("heartbeat",t=>new TL(t),"PRIVATE")),Vr(J_,Mw,n),Vr(J_,Mw,"esm2020"),Vr("fire-js","")}CL("");function K1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RL=K1,Y1=new cu("auth","Firebase",K1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new $m("@firebase/auth");function IL(n,...t){pm.logLevel<=me.WARN&&pm.warn(`Auth (${Lc}): ${n}`,...t)}function Zd(n,...t){pm.logLevel<=me.ERROR&&pm.error(`Auth (${Lc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(n,...t){throw Zv(n,...t)}function ms(n,...t){return Zv(n,...t)}function Gv(n,t,e){const r={...RL(),[t]:e};return new cu("auth","Firebase",r).create(t,{appName:n.name})}function Ys(n){return Gv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OL(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Ur(n,"argument-error"),Gv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zv(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return Y1.create(n,...t)}function Ht(n,t,...e){if(!n)throw Zv(t,...e)}function La(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Zd(t),new Error(t)}function qa(n,t){n||La(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function NL(){return zw()==="http:"||zw()==="https:"}function zw(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NL()||z1()||"connection"in navigator)?navigator.onLine:!0}function LL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t,e){this.shortDelay=t,this.longDelay=e,qa(e>t,"Short delay should be less than long delay!"),this.isMobile=iP()||aP()}get(){return PL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n,t){qa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;La("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;La("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;La("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kL=new df(3e4,6e4);function Ka(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ya(n,t,e,r,o={}){return X1(n,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const g=ff({key:n.config.apiKey,...f}).slice(1),v=await n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);const y={method:t,headers:v,...u};return sP()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Pc(n.emulatorConfig.host)&&(y.credentials="include"),Q1.fetch()(await $1(n,n.config.apiHost,e,g),y)})}async function X1(n,t,e){n._canInitEmulator=!1;const r={...ML,...t};try{const o=new VL(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Md(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(n,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw Md(n,"email-already-in-use",f);if(v==="USER_DISABLED")throw Md(n,"user-disabled",f);const S=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Gv(n,S,y);Ur(n,S)}}catch(o){if(o instanceof Es)throw o;Ur(n,"network-request-failed",{message:String(o)})}}async function mf(n,t,e,r,o={}){const u=await Ya(n,t,e,r,o);return"mfaPendingCredential"in u&&Ur(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function $1(n,t,e,r){const o=`${t}${e}?${r}`,u=n,f=u.config.emulator?Wv(n.config,o):`${n.config.apiScheme}://${o}`;return DL.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function jL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),kL.get())})}}function Md(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=ms(n,t,r);return o.customData._tokenResponse=e,o}function Bw(n){return n!==void 0&&n.enterprise!==void 0}class zL{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return jL(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BL(n,t){return Ya(n,"GET","/v2/recaptchaConfig",Ka(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(n,t){return Ya(n,"POST","/v1/accounts:delete",t)}async function gm(n,t){return Ya(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function FL(n,t=!1){const e=an(n),r=await e.getIdToken(t),o=Kv(r);Ht(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:zh(x_(o.auth_time)),issuedAtTime:zh(x_(o.iat)),expirationTime:zh(x_(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function x_(n){return Number(n)*1e3}function Kv(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const o=L1(e);return o?JSON.parse(o):(Zd("Failed to decode base64 JWT payload"),null)}catch(o){return Zd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Uw(n){const t=Kv(n);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Es&&HL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function HL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=zh(this.lastLoginAt),this.creationTime=zh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(n){var C;const t=n.auth,e=await n.getIdToken(),r=await Kh(n,gm(t,{idToken:e}));Ht(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=(C=o.providerUserInfo)!=null&&C.length?J1(o.providerUserInfo):[],f=ZL(n.providerData,u),g=n.isAnonymous,v=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),y=g?v:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new iv(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,S)}async function GL(n){const t=an(n);await _m(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZL(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function J1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(n,t){const e=await X1(n,{},async()=>{const r=ff({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=await $1(n,o,"/v1/token",`key=${u}`),g=await n._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:r};return n.emulatorConfig&&Pc(n.emulatorConfig.host)&&(v.credentials="include"),Q1.fetch()(f,v)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function KL(n,t){return Ya(n,"POST","/v2/accounts:revokeToken",Ka(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Uw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const e=Uw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await WL(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,f=new cc;return r&&(Ht(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(Ht(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Ht(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new cc,this.toJSON())}_performRefresh(){return La("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(n,t){Ht(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class hs{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new qL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Kh(this,this.stsTokenManager.getToken(this.auth,t));return Ht(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return FL(this,t)}reload(){return GL(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new hs({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await _m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(Ys(this.auth));const t=await this.getIdToken();return await Kh(this,UL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,f=e.photoURL??void 0,g=e.tenantId??void 0,v=e._redirectEventId??void 0,y=e.createdAt??void 0,S=e.lastLoginAt??void 0,{uid:C,emailVerified:N,isAnonymous:M,providerData:H,stsTokenManager:Y}=e;Ht(C&&Y,t,"internal-error");const K=cc.fromJSON(this.name,Y);Ht(typeof C=="string",t,"internal-error"),Vo(r,t.name),Vo(o,t.name),Ht(typeof N=="boolean",t,"internal-error"),Ht(typeof M=="boolean",t,"internal-error"),Vo(u,t.name),Vo(f,t.name),Vo(g,t.name),Vo(v,t.name),Vo(y,t.name),Vo(S,t.name);const ht=new hs({uid:C,auth:t,email:o,emailVerified:N,displayName:r,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:K,createdAt:y,lastLoginAt:S});return H&&Array.isArray(H)&&(ht.providerData=H.map(Et=>({...Et}))),v&&(ht._redirectEventId=v),ht}static async _fromIdTokenResponse(t,e,r=!1){const o=new cc;o.updateFromServerResponse(e);const u=new hs({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await _m(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Ht(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?J1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new cc;g.updateFromIdToken(r);const v=new hs({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new iv(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(v,y),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function Ma(n){qa(n instanceof Function,"Expected a class definition");let t=Fw.get(n);return t?(qa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Fw.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}tx.type="NONE";const Hw=tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n,t,e){return`firebase:${n}:${t}:${e}`}class hc{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Wd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wd("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await gm(this.auth,{idToken:t}).catch(()=>{});return e?hs._fromGetAccountInfoResponse(this.auth,e,t):null}return hs._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new hc(Ma(Hw),t,r);const o=(await Promise.all(e.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ma(Hw);const f=Wd(r,t.config.apiKey,t.name);let g=null;for(const y of e)try{const S=await y._get(f);if(S){let C;if(typeof S=="string"){const N=await gm(t,{idToken:S}).catch(()=>{});if(!N)break;C=await hs._fromGetAccountInfoResponse(t,N,S)}else C=hs._fromJSON(t,S);y!==u&&(g=C),u=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new hc(u,t,r):(u=v[0],g&&await u._set(f,g.toJSON()),await Promise.all(e.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new hc(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ex(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ax(t))return"Blackberry";if(ox(t))return"Webos";if(nx(t))return"Safari";if((t.includes("chrome/")||ix(t))&&!t.includes("edge/"))return"Chrome";if(sx(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ex(n=li()){return/firefox\//i.test(n)}function nx(n=li()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ix(n=li()){return/crios\//i.test(n)}function rx(n=li()){return/iemobile/i.test(n)}function sx(n=li()){return/android/i.test(n)}function ax(n=li()){return/blackberry/i.test(n)}function ox(n=li()){return/webos/i.test(n)}function Yv(n=li()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YL(n=li()){var t;return Yv(n)&&!!((t=window.navigator)!=null&&t.standalone)}function QL(){return oP()&&document.documentMode===10}function lx(n=li()){return Yv(n)||sx(n)||ox(n)||ax(n)||/windows phone/i.test(n)||rx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n,t=[]){let e;switch(n){case"Browser":e=qw(li());break;case"Worker":e=`${qw(li())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((f,g)=>{try{const v=t(u);f(v)}catch(v){g(v)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(n,t={}){return Ya(n,"GET","/v2/passwordPolicy",Ka(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=6;class tM{constructor(t){var r;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??JL,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gw(this),this.idTokenSubscription=new Gw(this),this.beforeStateQueue=new XL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ma(e)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await hc.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await gm(this,{idToken:t}),r=await hs._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Vi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=r==null?void 0:r._redirectEventId,v=await this.tryRedirectSignIn(t);(!f||f===g)&&(v!=null&&v.user)&&(r=v.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await _m(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=LL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vi(this.app))return Promise.reject(Ys(this));const e=t?an(t):null;return e&&Ht(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vi(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ma(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $L(this),e=new tM(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await KL(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ma(t)||this._popupRedirectResolver;Ht(e,this,"argument-error"),this.redirectPersistenceManager=await hc.create(this,[Ma(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const v=t.addObserver(e,r,o);return()=>{f=!0,v()}}else{const v=t.addObserver(e);return()=>{f=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&IL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ia(n){return an(n)}class Gw{constructor(t){this.auth=t,this.observer=null,this.addObserver=mP(e=>this.observer=e)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nM(n){Jm=n}function cx(n){return Jm.loadJS(n)}function iM(){return Jm.recaptchaEnterpriseScript}function rM(){return Jm.gapiScript}function sM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class aM{constructor(){this.enterprise=new oM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class oM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const lM="recaptcha-enterprise",hx="NO_RECAPTCHA";class uM{constructor(t){this.type=lM,this.auth=ia(t)}async verify(t="verify",e=!1){async function r(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{BL(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new zL(v);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(v=>{g(v)})})}function o(u,f,g){const v=window.grecaptcha;Bw(v)?v.enterprise.ready(()=>{v.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(hx)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aM().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(g=>{if(!e&&Bw(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let v=iM();v.length!==0&&(v+=g),cx(v).then(()=>{o(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function Zw(n,t,e,r=!1,o=!1){const u=new uM(n);let f;if(o)f=hx;else try{f=await u.verify(e)}catch{f=await u.verify(e,!0)}const g={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const v=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const v=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function vm(n,t,e,r,o){var u;if((u=n._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Zw(n,t,e,e==="getOobCode");return r(n,f)}else return r(n,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Zw(n,t,e,e==="getOobCode");return r(n,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(n,t){const e=hu(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Yo(u,t??{}))return o;Ur(o,"already-initialized")}return e.initialize({options:t})}function hM(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(Ma);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function fM(n,t,e){const r=ia(n);Ht(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=fx(t),{host:f,port:g}=dM(t),v=g===null?"":`:${g}`,y={url:`${u}//${f}${v}/`},S=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ht(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ht(Yo(y,r.config.emulator)&&Yo(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,Pc(f)?(j1(`${u}//${f}${v}`),V1("Auth",!0)):mM()}function fx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function dM(n){const t=fx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:Ww(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:Ww(f)}}}function Ww(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function mM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return La("not implemented")}_getIdTokenResponse(t){return La("not implemented")}_linkToIdToken(t,e){return La("not implemented")}_getReauthenticationResolver(t){return La("not implemented")}}async function pM(n,t){return Ya(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(n,t){return mf(n,"POST","/v1/accounts:signInWithPassword",Ka(n,t))}async function dx(n,t){return Ya(n,"POST","/v1/accounts:sendOobCode",Ka(n,t))}async function _M(n,t){return dx(n,t)}async function vM(n,t){return dx(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(n,t){return mf(n,"POST","/v1/accounts:signInWithEmailLink",Ka(n,t))}async function bM(n,t){return mf(n,"POST","/v1/accounts:signInWithEmailLink",Ka(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Qv{constructor(t,e,r,o=null){super("password",r),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Yh(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Yh(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(t,e,"signInWithPassword",gM);case"emailLink":return yM(t,{email:this._email,oobCode:this._password});default:Ur(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vm(t,r,"signUpPassword",pM);case"emailLink":return bM(t,{idToken:e,email:this._email,oobCode:this._password});default:Ur(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(n,t){return mf(n,"POST","/v1/accounts:signInWithIdp",Ka(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="http://localhost";class tu extends Qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new tu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ur("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const f=new tu(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return fc(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,fc(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,fc(t,e)}buildRequest(){const t={requestUri:EM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ff(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TM(n){const t=Ih(Oh(n)).link,e=t?Ih(Oh(t)).deep_link_id:null,r=Ih(Oh(n)).deep_link_id;return(r?Ih(Oh(r)).link:null)||r||e||t||n}class Xv{constructor(t){const e=Ih(Oh(t)),r=e.apiKey??null,o=e.oobCode??null,u=wM(e.mode??null);Ht(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=TM(t);try{return new Xv(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.providerId=Mc.PROVIDER_ID}static credential(t,e){return Yh._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=Xv.parseLink(e);return Ht(r,"argument-error"),Yh._fromEmailAndCode(t,r.code,r.tenantId)}}Mc.PROVIDER_ID="password";Mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends pf{constructor(){super("facebook.com")}static credential(t){return tu._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zo.credentialFromTaggedObject(t)}static credentialFromError(t){return zo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zo.credential(t.oauthAccessToken)}catch{return null}}}zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";zo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends pf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return tu._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Pa.credential(e,r)}catch{return null}}}Pa.GOOGLE_SIGN_IN_METHOD="google.com";Pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends pf{constructor(){super("github.com")}static credential(t){return tu._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bo.credentialFromTaggedObject(t)}static credentialFromError(t){return Bo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bo.credential(t.oauthAccessToken)}catch{return null}}}Bo.GITHUB_SIGN_IN_METHOD="github.com";Bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends pf{constructor(){super("twitter.com")}static credential(t,e){return tu._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Uo.credentialFromTaggedObject(t)}static credentialFromError(t){return Uo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Uo.credential(e,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(n,t){return mf(n,"POST","/v1/accounts:signUp",Ka(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await hs._fromIdTokenResponse(t,r,o),f=Kw(r);return new Ga({user:u,providerId:f,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=Kw(r);return new Ga({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function Kw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(n){var o;if(Vi(n.app))return Promise.reject(Ys(n));const t=ia(n);if(await t._initializationPromise,(o=t.currentUser)!=null&&o.isAnonymous)return new Ga({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await mx(t,{returnSecureToken:!0}),r=await Ga._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends Es{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ym.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new ym(t,e,r,o)}}function px(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ym._fromErrorAndOperation(n,u,t,r):u})}async function xM(n,t,e=!1){const r=await Kh(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ga._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(n,t,e=!1){const{auth:r}=n;if(Vi(r.app))return Promise.reject(Ys(r));const o="reauthenticate";try{const u=await Kh(n,px(r,o,t,n),e);Ht(u.idToken,r,"internal-error");const f=Kv(u.idToken);Ht(f,r,"internal-error");const{sub:g}=f;return Ht(n.uid===g,r,"user-mismatch"),Ga._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ur(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(n,t,e=!1){if(Vi(n.app))return Promise.reject(Ys(n));const r="signIn",o=await px(n,r,t),u=await Ga._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}async function CM(n,t){return gx(ia(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(n){const t=ia(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function RM(n,t,e){const r=ia(n);await vm(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",vM)}async function IM(n,t,e){if(Vi(n.app))return Promise.reject(Ys(n));const r=ia(n),f=await vm(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mx).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&_x(n),v}),g=await Ga._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function OM(n,t,e){return Vi(n.app)?Promise.reject(Ys(n)):CM(an(n),Mc.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_x(n),r})}async function Yw(n,t){const e=an(n),o={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:u}=await _M(e.auth,o);u!==n.email&&await n.reload()}function NM(n,t,e,r){return an(n).onIdTokenChanged(t,e,r)}function PM(n,t,e){return an(n).beforeAuthStateChanged(t,e)}function LM(n,t,e,r){return an(n).onAuthStateChanged(t,e,r)}function MM(n){return an(n).signOut()}async function DM(n){return an(n).delete()}const bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bm,"1"),this.storage.removeItem(bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=1e3,jM=10;class yx extends vx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,g,v)=>{this.notifyListeners(f,v)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!e&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);QL()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,jM):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},kM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}yx.type="LOCAL";const VM=yx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx extends vx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}bx.type="SESSION";const Ex=bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new tp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(f).map(async y=>y(e.origin,u)),v=await zM(g);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,v)=>{const y=Jv("",20);o.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(C){const N=C;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(S),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(S),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return window}function UM(n){Qs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return typeof Qs().WorkerGlobalScope<"u"&&typeof Qs().importScripts=="function"}async function FM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function qM(){return wx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="firebaseLocalStorageDb",GM=1,Em="firebaseLocalStorage",Sx="fbase_key";class gf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ep(n,t){return n.transaction([Em],t?"readwrite":"readonly").objectStore(Em)}function ZM(){const n=indexedDB.deleteDatabase(Tx);return new gf(n).toPromise()}function rv(){const n=indexedDB.open(Tx,GM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Em,{keyPath:Sx})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Em)?t(r):(r.close(),await ZM(),t(await rv()))})})}async function Qw(n,t,e){const r=ep(n,!0).put({[Sx]:t,value:e});return new gf(r).toPromise()}async function WM(n,t){const e=ep(n,!1).get(t),r=await new gf(e).toPromise();return r===void 0?null:r.value}function Xw(n,t){const e=ep(n,!0).delete(t);return new gf(e).toPromise()}const KM=800,YM=3;class xx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rv(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>YM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance(qM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await FM(),!this.activeServiceWorker)return;this.sender=new BM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rv();return await Qw(t,bm,"1"),await Xw(t,bm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qw(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>WM(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Xw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=ep(o,!1).getAll();return new gf(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xx.type="LOCAL";const QM=xx;new df(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n,t){return t?Ma(t):(Ht(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Qv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return fc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return fc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function XM(n){return gx(n.auth,new ty(n),n.bypassAuthState)}function $M(n){const{auth:t,user:e}=n;return Ht(e,t,"internal-error"),AM(e,new ty(n),n.bypassAuthState)}async function JM(n){const{auth:t,user:e}=n;return Ht(e,t,"internal-error"),xM(e,new ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return XM;case"linkViaPopup":case"linkViaRedirect":return JM;case"reauthViaPopup":case"reauthViaRedirect":return $M;default:Ur(this.auth,"internal-error")}}resolve(t){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new df(2e3,1e4);async function eD(n,t,e){if(Vi(n.app))return Promise.reject(ms(n,"operation-not-supported-in-this-environment"));const r=ia(n);OL(n,t,$v);const o=Ax(r,e);return new ql(r,"signInViaPopup",t,o).executeNotNull()}class ql extends Cx{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){qa(this.filter.length===1,"Popup operations only handle one event");const t=Jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if((r=(e=this.authWindow)==null?void 0:e.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tD.get())};t()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="pendingRedirect",Kd=new Map;class iD extends Cx{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Kd.get(this.auth._key());if(!t){try{const r=await rD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Kd.set(this.auth._key(),t)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rD(n,t){const e=oD(t),r=aD(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function sD(n,t){Kd.set(n._key(),t)}function aD(n){return Ma(n._redirectPersistence)}function oD(n){return Wd(nD,n.config.apiKey,n.name)}async function lD(n,t,e=!1){if(Vi(n.app))return Promise.reject(Ys(n));const r=ia(n),o=Ax(r,t),f=await new iD(r,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=600*1e3;class cD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!Rx(t)){const o=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";e.onError(ms(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uD&&this.cachedEventUids.clear(),this.cachedEventUids.has($w(t))}saveEventToCache(t){this.cachedEventUids.add($w(t)),this.lastProcessedEventTime=Date.now()}}function $w(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Rx({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function hD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,t={}){return Ya(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mD=/^https?/;async function pD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await fD(n);for(const e of t)try{if(gD(e))return}catch{}Ur(n,"unauthorized-domain")}function gD(n){const t=nv(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===r}if(!mD.test(e))return!1;if(dD.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new df(3e4,6e4);function Jw(){const n=Qs().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function vD(n){return new Promise((t,e)=>{var o,u,f;function r(){Jw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Jw(),e(ms(n,"network-request-failed"))},timeout:_D.get()})}if((u=(o=Qs().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Qs().gapi)!=null&&f.load)r();else{const g=sM("iframefcb");return Qs()[g]=()=>{gapi.load?r():e(ms(n,"network-request-failed"))},cx(`${rM()}?onload=${g}`).catch(v=>e(v))}}).catch(t=>{throw Yd=null,t})}let Yd=null;function yD(n){return Yd=Yd||vD(n),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new df(5e3,15e3),ED="__/auth/iframe",wD="emulator/auth/iframe",TD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xD(n){const t=n.config;Ht(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Wv(t,wD):`https://${n.config.authDomain}/${ED}`,r={apiKey:t.apiKey,appName:n.name,v:Lc},o=SD.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${ff(r).slice(1)}`}async function AD(n){const t=await yD(n),e=Qs().gapi;return Ht(e,n,"internal-error"),t.open({where:document.body,url:xD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ms(n,"network-request-failed"),g=Qs().setTimeout(()=>{u(f)},bD.get());function v(){Qs().clearTimeout(g),o(r)}r.ping(v).then(v,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RD=500,ID=600,OD="_blank",ND="http://localhost";class tT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PD(n,t,e,r=RD,o=ID){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const v={...CD,width:r.toString(),height:o.toString(),top:u,left:f},y=li().toLowerCase();e&&(g=ix(y)?OD:e),ex(y)&&(t=t||ND,v.scrollbars="yes");const S=Object.entries(v).reduce((N,[M,H])=>`${N}${M}=${H},`,"");if(YL(y)&&g!=="_self")return LD(t||"",g),new tT(null);const C=window.open(t||"",g,S);Ht(C,n,"popup-blocked");try{C.focus()}catch{}return new tT(C)}function LD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="__/auth/handler",DD="emulator/auth/handler",kD=encodeURIComponent("fac");async function eT(n,t,e,r,o,u){Ht(n.config.authDomain,n,"auth-domain-config-required"),Ht(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Lc,eventId:o};if(t instanceof $v){t.setDefaultLanguage(n.languageCode),f.providerId=t.providerId||"",dP(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,C]of Object.entries({}))f[S]=C}if(t instanceof pf){const S=t.getScopes().filter(C=>C!=="");S.length>0&&(f.scopes=S.join(","))}n.tenantId&&(f.tid=n.tenantId);const g=f;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await n._getAppCheckToken(),y=v?`#${kD}=${encodeURIComponent(v)}`:"";return`${jD(n)}?${ff(g).slice(1)}${y}`}function jD({config:n}){return n.emulator?Wv(n,DD):`https://${n.authDomain}/${MD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="webStorageSupport";class VD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ex,this._completeRedirectFn=lD,this._overrideRedirectResult=sD}async _openPopup(t,e,r,o){var f;qa((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await eT(t,e,r,nv(),o);return PD(t,u,Jv())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await eT(t,e,r,nv(),o);return UM(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(qa(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await AD(t),r=new cD(t);return e.register("authEvent",o=>(Ht(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(A_,{type:A_},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[A_];u!==void 0&&e(!!u),Ur(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=pD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return lx()||nx()||Yv()}}const zD=VD;var nT="@firebase/auth",iT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FD(n){ea(new _s("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Ht(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:f,authDomain:g,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(n)},y=new eM(r,o,u,v);return hM(y,e),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),ea(new _s("auth-internal",t=>{const e=ia(t.getProvider("auth").getImmediate());return(r=>new BD(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(nT,iT,UD(n)),Vr(nT,iT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=300,qD=k1("authIdTokenMaxAge")||HD;let rT=null;const GD=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>qD)return;const o=e==null?void 0:e.token;rT!==o&&(rT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ZD(n=qv()){const t=hu(n,"auth");if(t.isInitialized())return t.getImmediate();const e=cM(n,{popupRedirectResolver:zD,persistence:[QM,VM,Ex]}),r=k1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=GD(u.toString());PM(e,f,()=>f(e.currentUser)),NM(e,g=>f(g))}}const o=M1("auth");return o&&fM(e,`http://${o}`),e}function WD(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}nM({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=ms("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",WD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FD("Browser");var sT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,Ix;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,D){function j(){}j.prototype=D.prototype,k.F=D.prototype,k.prototype=new j,k.prototype.constructor=k,k.D=function(G,F,U){for(var z=Array(arguments.length-2),se=2;se<arguments.length;se++)z[se-2]=arguments[se];return D.prototype[F].apply(G,z)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,D,j){j||(j=0);const G=Array(16);if(typeof D=="string")for(var F=0;F<16;++F)G[F]=D.charCodeAt(j++)|D.charCodeAt(j++)<<8|D.charCodeAt(j++)<<16|D.charCodeAt(j++)<<24;else for(F=0;F<16;++F)G[F]=D[j++]|D[j++]<<8|D[j++]<<16|D[j++]<<24;D=k.g[0],j=k.g[1],F=k.g[2];let U=k.g[3],z;z=D+(U^j&(F^U))+G[0]+3614090360&4294967295,D=j+(z<<7&4294967295|z>>>25),z=U+(F^D&(j^F))+G[1]+3905402710&4294967295,U=D+(z<<12&4294967295|z>>>20),z=F+(j^U&(D^j))+G[2]+606105819&4294967295,F=U+(z<<17&4294967295|z>>>15),z=j+(D^F&(U^D))+G[3]+3250441966&4294967295,j=F+(z<<22&4294967295|z>>>10),z=D+(U^j&(F^U))+G[4]+4118548399&4294967295,D=j+(z<<7&4294967295|z>>>25),z=U+(F^D&(j^F))+G[5]+1200080426&4294967295,U=D+(z<<12&4294967295|z>>>20),z=F+(j^U&(D^j))+G[6]+2821735955&4294967295,F=U+(z<<17&4294967295|z>>>15),z=j+(D^F&(U^D))+G[7]+4249261313&4294967295,j=F+(z<<22&4294967295|z>>>10),z=D+(U^j&(F^U))+G[8]+1770035416&4294967295,D=j+(z<<7&4294967295|z>>>25),z=U+(F^D&(j^F))+G[9]+2336552879&4294967295,U=D+(z<<12&4294967295|z>>>20),z=F+(j^U&(D^j))+G[10]+4294925233&4294967295,F=U+(z<<17&4294967295|z>>>15),z=j+(D^F&(U^D))+G[11]+2304563134&4294967295,j=F+(z<<22&4294967295|z>>>10),z=D+(U^j&(F^U))+G[12]+1804603682&4294967295,D=j+(z<<7&4294967295|z>>>25),z=U+(F^D&(j^F))+G[13]+4254626195&4294967295,U=D+(z<<12&4294967295|z>>>20),z=F+(j^U&(D^j))+G[14]+2792965006&4294967295,F=U+(z<<17&4294967295|z>>>15),z=j+(D^F&(U^D))+G[15]+1236535329&4294967295,j=F+(z<<22&4294967295|z>>>10),z=D+(F^U&(j^F))+G[1]+4129170786&4294967295,D=j+(z<<5&4294967295|z>>>27),z=U+(j^F&(D^j))+G[6]+3225465664&4294967295,U=D+(z<<9&4294967295|z>>>23),z=F+(D^j&(U^D))+G[11]+643717713&4294967295,F=U+(z<<14&4294967295|z>>>18),z=j+(U^D&(F^U))+G[0]+3921069994&4294967295,j=F+(z<<20&4294967295|z>>>12),z=D+(F^U&(j^F))+G[5]+3593408605&4294967295,D=j+(z<<5&4294967295|z>>>27),z=U+(j^F&(D^j))+G[10]+38016083&4294967295,U=D+(z<<9&4294967295|z>>>23),z=F+(D^j&(U^D))+G[15]+3634488961&4294967295,F=U+(z<<14&4294967295|z>>>18),z=j+(U^D&(F^U))+G[4]+3889429448&4294967295,j=F+(z<<20&4294967295|z>>>12),z=D+(F^U&(j^F))+G[9]+568446438&4294967295,D=j+(z<<5&4294967295|z>>>27),z=U+(j^F&(D^j))+G[14]+3275163606&4294967295,U=D+(z<<9&4294967295|z>>>23),z=F+(D^j&(U^D))+G[3]+4107603335&4294967295,F=U+(z<<14&4294967295|z>>>18),z=j+(U^D&(F^U))+G[8]+1163531501&4294967295,j=F+(z<<20&4294967295|z>>>12),z=D+(F^U&(j^F))+G[13]+2850285829&4294967295,D=j+(z<<5&4294967295|z>>>27),z=U+(j^F&(D^j))+G[2]+4243563512&4294967295,U=D+(z<<9&4294967295|z>>>23),z=F+(D^j&(U^D))+G[7]+1735328473&4294967295,F=U+(z<<14&4294967295|z>>>18),z=j+(U^D&(F^U))+G[12]+2368359562&4294967295,j=F+(z<<20&4294967295|z>>>12),z=D+(j^F^U)+G[5]+4294588738&4294967295,D=j+(z<<4&4294967295|z>>>28),z=U+(D^j^F)+G[8]+2272392833&4294967295,U=D+(z<<11&4294967295|z>>>21),z=F+(U^D^j)+G[11]+1839030562&4294967295,F=U+(z<<16&4294967295|z>>>16),z=j+(F^U^D)+G[14]+4259657740&4294967295,j=F+(z<<23&4294967295|z>>>9),z=D+(j^F^U)+G[1]+2763975236&4294967295,D=j+(z<<4&4294967295|z>>>28),z=U+(D^j^F)+G[4]+1272893353&4294967295,U=D+(z<<11&4294967295|z>>>21),z=F+(U^D^j)+G[7]+4139469664&4294967295,F=U+(z<<16&4294967295|z>>>16),z=j+(F^U^D)+G[10]+3200236656&4294967295,j=F+(z<<23&4294967295|z>>>9),z=D+(j^F^U)+G[13]+681279174&4294967295,D=j+(z<<4&4294967295|z>>>28),z=U+(D^j^F)+G[0]+3936430074&4294967295,U=D+(z<<11&4294967295|z>>>21),z=F+(U^D^j)+G[3]+3572445317&4294967295,F=U+(z<<16&4294967295|z>>>16),z=j+(F^U^D)+G[6]+76029189&4294967295,j=F+(z<<23&4294967295|z>>>9),z=D+(j^F^U)+G[9]+3654602809&4294967295,D=j+(z<<4&4294967295|z>>>28),z=U+(D^j^F)+G[12]+3873151461&4294967295,U=D+(z<<11&4294967295|z>>>21),z=F+(U^D^j)+G[15]+530742520&4294967295,F=U+(z<<16&4294967295|z>>>16),z=j+(F^U^D)+G[2]+3299628645&4294967295,j=F+(z<<23&4294967295|z>>>9),z=D+(F^(j|~U))+G[0]+4096336452&4294967295,D=j+(z<<6&4294967295|z>>>26),z=U+(j^(D|~F))+G[7]+1126891415&4294967295,U=D+(z<<10&4294967295|z>>>22),z=F+(D^(U|~j))+G[14]+2878612391&4294967295,F=U+(z<<15&4294967295|z>>>17),z=j+(U^(F|~D))+G[5]+4237533241&4294967295,j=F+(z<<21&4294967295|z>>>11),z=D+(F^(j|~U))+G[12]+1700485571&4294967295,D=j+(z<<6&4294967295|z>>>26),z=U+(j^(D|~F))+G[3]+2399980690&4294967295,U=D+(z<<10&4294967295|z>>>22),z=F+(D^(U|~j))+G[10]+4293915773&4294967295,F=U+(z<<15&4294967295|z>>>17),z=j+(U^(F|~D))+G[1]+2240044497&4294967295,j=F+(z<<21&4294967295|z>>>11),z=D+(F^(j|~U))+G[8]+1873313359&4294967295,D=j+(z<<6&4294967295|z>>>26),z=U+(j^(D|~F))+G[15]+4264355552&4294967295,U=D+(z<<10&4294967295|z>>>22),z=F+(D^(U|~j))+G[6]+2734768916&4294967295,F=U+(z<<15&4294967295|z>>>17),z=j+(U^(F|~D))+G[13]+1309151649&4294967295,j=F+(z<<21&4294967295|z>>>11),z=D+(F^(j|~U))+G[4]+4149444226&4294967295,D=j+(z<<6&4294967295|z>>>26),z=U+(j^(D|~F))+G[11]+3174756917&4294967295,U=D+(z<<10&4294967295|z>>>22),z=F+(D^(U|~j))+G[2]+718787259&4294967295,F=U+(z<<15&4294967295|z>>>17),z=j+(U^(F|~D))+G[9]+3951481745&4294967295,k.g[0]=k.g[0]+D&4294967295,k.g[1]=k.g[1]+(F+(z<<21&4294967295|z>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.v=function(k,D){D===void 0&&(D=k.length);const j=D-this.blockSize,G=this.C;let F=this.h,U=0;for(;U<D;){if(F==0)for(;U<=j;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<D;)if(G[F++]=k.charCodeAt(U++),F==this.blockSize){o(this,G),F=0;break}}else for(;U<D;)if(G[F++]=k[U++],F==this.blockSize){o(this,G),F=0;break}}this.h=F,this.o+=D},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var D=1;D<k.length-8;++D)k[D]=0;D=this.o*8;for(var j=k.length-8;j<k.length;++j)k[j]=D&255,D/=256;for(this.v(k),k=Array(16),D=0,j=0;j<4;++j)for(let G=0;G<32;G+=8)k[D++]=this.g[j]>>>G&255;return k};function u(k,D){var j=g;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=D(k)}function f(k,D){this.h=D;const j=[];let G=!0;for(let F=k.length-1;F>=0;F--){const U=k[F]|0;G&&U==D||(j[F]=U,G=!1)}this.g=j}var g={};function v(k){return-128<=k&&k<128?u(k,function(D){return new f([D|0],D<0?-1:0)}):new f([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return C;if(k<0)return K(y(-k));const D=[];let j=1;for(let G=0;k>=j;G++)D[G]=k/j|0,j*=4294967296;return new f(D,0)}function S(k,D){if(k.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(k.charAt(0)=="-")return K(S(k.substring(1),D));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(D,8));let G=C;for(let U=0;U<k.length;U+=8){var F=Math.min(8,k.length-U);const z=parseInt(k.substring(U,U+F),D);F<8?(F=y(Math.pow(D,F)),G=G.j(F).add(y(z))):(G=G.j(j),G=G.add(y(z)))}return G}var C=v(0),N=v(1),M=v(16777216);n=f.prototype,n.m=function(){if(Y(this))return-K(this).m();let k=0,D=1;for(let j=0;j<this.g.length;j++){const G=this.i(j);k+=(G>=0?G:4294967296+G)*D,D*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(H(this))return"0";if(Y(this))return"-"+K(this).toString(k);const D=y(Math.pow(k,6));var j=this;let G="";for(;;){const F=xt(j,D).g;j=ht(j,F.j(D));let U=((j.g.length>0?j.g[0]:j.h)>>>0).toString(k);if(j=F,H(j))return U+G;for(;U.length<6;)U="0"+U;G=U+G}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function H(k){if(k.h!=0)return!1;for(let D=0;D<k.g.length;D++)if(k.g[D]!=0)return!1;return!0}function Y(k){return k.h==-1}n.l=function(k){return k=ht(this,k),Y(k)?-1:H(k)?0:1};function K(k){const D=k.g.length,j=[];for(let G=0;G<D;G++)j[G]=~k.g[G];return new f(j,~k.h).add(N)}n.abs=function(){return Y(this)?K(this):this},n.add=function(k){const D=Math.max(this.g.length,k.g.length),j=[];let G=0;for(let F=0;F<=D;F++){let U=G+(this.i(F)&65535)+(k.i(F)&65535),z=(U>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);G=z>>>16,U&=65535,z&=65535,j[F]=z<<16|U}return new f(j,j[j.length-1]&-2147483648?-1:0)};function ht(k,D){return k.add(K(D))}n.j=function(k){if(H(this)||H(k))return C;if(Y(this))return Y(k)?K(this).j(K(k)):K(K(this).j(k));if(Y(k))return K(this.j(K(k)));if(this.l(M)<0&&k.l(M)<0)return y(this.m()*k.m());const D=this.g.length+k.g.length,j=[];for(var G=0;G<2*D;G++)j[G]=0;for(G=0;G<this.g.length;G++)for(let F=0;F<k.g.length;F++){const U=this.i(G)>>>16,z=this.i(G)&65535,se=k.i(F)>>>16,Ze=k.i(F)&65535;j[2*G+2*F]+=z*Ze,Et(j,2*G+2*F),j[2*G+2*F+1]+=U*Ze,Et(j,2*G+2*F+1),j[2*G+2*F+1]+=z*se,Et(j,2*G+2*F+1),j[2*G+2*F+2]+=U*se,Et(j,2*G+2*F+2)}for(k=0;k<D;k++)j[k]=j[2*k+1]<<16|j[2*k];for(k=D;k<2*D;k++)j[k]=0;return new f(j,0)};function Et(k,D){for(;(k[D]&65535)!=k[D];)k[D+1]+=k[D]>>>16,k[D]&=65535,D++}function lt(k,D){this.g=k,this.h=D}function xt(k,D){if(H(D))throw Error("division by zero");if(H(k))return new lt(C,C);if(Y(k))return D=xt(K(k),D),new lt(K(D.g),K(D.h));if(Y(D))return D=xt(k,K(D)),new lt(K(D.g),D.h);if(k.g.length>30){if(Y(k)||Y(D))throw Error("slowDivide_ only works with positive integers.");for(var j=N,G=D;G.l(k)<=0;)j=Nt(j),G=Nt(G);var F=Dt(j,1),U=Dt(G,1);for(G=Dt(G,2),j=Dt(j,2);!H(G);){var z=U.add(G);z.l(k)<=0&&(F=F.add(j),U=z),G=Dt(G,1),j=Dt(j,1)}return D=ht(k,F.j(D)),new lt(F,D)}for(F=C;k.l(D)>=0;){for(j=Math.max(1,Math.floor(k.m()/D.m())),G=Math.ceil(Math.log(j)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),U=y(j),z=U.j(D);Y(z)||z.l(k)>0;)j-=G,U=y(j),z=U.j(D);H(U)&&(U=N),F=F.add(U),k=ht(k,z)}return new lt(F,k)}n.B=function(k){return xt(this,k).h},n.and=function(k){const D=Math.max(this.g.length,k.g.length),j=[];for(let G=0;G<D;G++)j[G]=this.i(G)&k.i(G);return new f(j,this.h&k.h)},n.or=function(k){const D=Math.max(this.g.length,k.g.length),j=[];for(let G=0;G<D;G++)j[G]=this.i(G)|k.i(G);return new f(j,this.h|k.h)},n.xor=function(k){const D=Math.max(this.g.length,k.g.length),j=[];for(let G=0;G<D;G++)j[G]=this.i(G)^k.i(G);return new f(j,this.h^k.h)};function Nt(k){const D=k.g.length+1,j=[];for(let G=0;G<D;G++)j[G]=k.i(G)<<1|k.i(G-1)>>>31;return new f(j,k.h)}function Dt(k,D){const j=D>>5;D%=32;const G=k.g.length-j,F=[];for(let U=0;U<G;U++)F[U]=D>0?k.i(U+j)>>>D|k.i(U+j+1)<<32-D:k.i(U+j);return new f(F,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ix=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=S,Zo=f}).apply(typeof sT<"u"?sT:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ox,Nh,Nx,Qd,sv,Px,Lx,Mx;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var w=0;w<d.length;++w){var A=d[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=e(this);function o(d,w){if(w)t:{var A=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var J=d[P];if(!(J in A))break t;A=A[J]}d=d[d.length-1],P=A[d],w=w(P),w!=P&&w!=null&&t(A,d,{configurable:!0,writable:!0,value:w})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(w){var A=[],P;for(P in w)Object.prototype.hasOwnProperty.call(w,P)&&A.push([P,w[P]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function v(d,w,A){return d.call.apply(d.bind,arguments)}function y(d,w,A){return y=v,y.apply(null,arguments)}function S(d,w){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function C(d,w){function A(){}A.prototype=w.prototype,d.Z=w.prototype,d.prototype=new A,d.prototype.constructor=d,d.Ob=function(P,J,rt){for(var wt=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)wt[Gt-2]=arguments[Gt];return w.prototype[J].apply(P,wt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function M(d){const w=d.length;if(w>0){const A=Array(w);for(let P=0;P<w;P++)A[P]=d[P];return A}return[]}function H(d,w){for(let P=1;P<arguments.length;P++){const J=arguments[P];var A=typeof J;if(A=A!="object"?A:J?Array.isArray(J)?"array":A:"null",A=="array"||A=="object"&&typeof J.length=="number"){A=d.length||0;const rt=J.length||0;d.length=A+rt;for(let wt=0;wt<rt;wt++)d[A+wt]=J[wt]}else d.push(J)}}class Y{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function K(d){f.setTimeout(()=>{throw d},0)}function ht(){var d=k;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Et{constructor(){this.h=this.g=null}add(w,A){const P=lt.get();P.set(w,A),this.h?this.h.next=P:this.g=P,this.h=P}}var lt=new Y(()=>new xt,d=>d.reset());class xt{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Nt,Dt=!1,k=new Et,D=()=>{const d=Promise.resolve(void 0);Nt=()=>{d.then(j)}};function j(){for(var d;d=ht();){try{d.h.call(d.g)}catch(A){K(A)}var w=lt;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}Dt=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};f.addEventListener("test",A,w),f.removeEventListener("test",A,w)}catch{}return d})();function z(d){return/^[\s\xa0]*$/.test(d)}function se(d,w){F.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}C(se,F),se.prototype.init=function(d,w){const A=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(A=="mouseover"?w=d.fromElement:A=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),st=0;function Tt(d,w,A,P,J){this.listener=d,this.proxy=null,this.src=w,this.type=A,this.capture=!!P,this.ha=J,this.key=++st,this.da=this.fa=!1}function yt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function re(d,w,A){for(const P in d)w.call(A,d[P],P,d)}function q(d,w){for(const A in d)w.call(void 0,d[A],A,d)}function R(d){const w={};for(const A in d)w[A]=d[A];return w}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(d,w){let A,P;for(let J=1;J<arguments.length;J++){P=arguments[J];for(A in P)d[A]=P[A];for(let rt=0;rt<Q.length;rt++)A=Q[rt],Object.prototype.hasOwnProperty.call(P,A)&&(d[A]=P[A])}}function ut(d){this.src=d,this.g={},this.h=0}ut.prototype.add=function(d,w,A,P,J){const rt=d.toString();d=this.g[rt],d||(d=this.g[rt]=[],this.h++);const wt=_t(d,w,P,J);return wt>-1?(w=d[wt],A||(w.fa=!1)):(w=new Tt(w,this.src,rt,!!P,J),w.fa=A,d.push(w)),w};function gt(d,w){const A=w.type;if(A in d.g){var P=d.g[A],J=Array.prototype.indexOf.call(P,w,void 0),rt;(rt=J>=0)&&Array.prototype.splice.call(P,J,1),rt&&(yt(w),d.g[A].length==0&&(delete d.g[A],d.h--))}}function _t(d,w,A,P){for(let J=0;J<d.length;++J){const rt=d[J];if(!rt.da&&rt.listener==w&&rt.capture==!!A&&rt.ha==P)return J}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),Pt={};function Bt(d,w,A,P,J){if(Array.isArray(w)){for(let rt=0;rt<w.length;rt++)Bt(d,w[rt],A,P,J);return null}return A=bn(A),d&&d[Ze]?d.J(w,A,g(P)?!!P.capture:!1,J):ve(d,w,A,!1,P,J)}function ve(d,w,A,P,J,rt){if(!w)throw Error("Invalid event type");const wt=g(J)?!!J.capture:!!J;let Gt=ln(d);if(Gt||(d[bt]=Gt=new ut(d)),A=Gt.add(w,A,P,wt,rt),A.proxy)return A;if(P=ce(),A.proxy=P,P.src=d,P.listener=A,d.addEventListener)U||(J=wt),J===void 0&&(J=!1),d.addEventListener(w.toString(),P,J);else if(d.attachEvent)d.attachEvent(Wt(w.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}function ce(){function d(A){return w.call(d.src,d.listener,A)}const w=tn;return d}function _e(d,w,A,P,J){if(Array.isArray(w))for(var rt=0;rt<w.length;rt++)_e(d,w[rt],A,P,J);else P=g(P)?!!P.capture:!!P,A=bn(A),d&&d[Ze]?(d=d.i,rt=String(w).toString(),rt in d.g&&(w=d.g[rt],A=_t(w,A,P,J),A>-1&&(yt(w[A]),Array.prototype.splice.call(w,A,1),w.length==0&&(delete d.g[rt],d.h--)))):d&&(d=ln(d))&&(w=d.g[w.toString()],d=-1,w&&(d=_t(w,A,P,J)),(A=d>-1?w[d]:null)&&je(A))}function je(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[Ze])gt(w.i,d);else{var A=d.type,P=d.proxy;w.removeEventListener?w.removeEventListener(A,P,d.capture):w.detachEvent?w.detachEvent(Wt(A),P):w.addListener&&w.removeListener&&w.removeListener(P),(A=ln(w))?(gt(A,d),A.h==0&&(A.src=null,w[bt]=null)):yt(d)}}}function Wt(d){return d in Pt?Pt[d]:Pt[d]="on"+d}function tn(d,w){if(d.da)d=!0;else{w=new se(w,this);const A=d.listener,P=d.ha||d.src;d.fa&&je(d),d=A.call(P,w)}return d}function ln(d){return d=d[bt],d instanceof ut?d:null}var mn="__closure_events_fn_"+(Math.random()*1e9>>>0);function bn(d){return typeof d=="function"?d:(d[mn]||(d[mn]=function(w){return d.handleEvent(w)}),d[mn])}function Ne(){G.call(this),this.i=new ut(this),this.M=this,this.G=null}C(Ne,G),Ne.prototype[Ze]=!0,Ne.prototype.removeEventListener=function(d,w,A,P){_e(this,d,w,A,P)};function we(d,w){var A,P=d.G;if(P)for(A=[];P;P=P.G)A.push(P);if(d=d.M,P=w.type||w,typeof w=="string")w=new F(w,d);else if(w instanceof F)w.target=w.target||d;else{var J=w;w=new F(P,d),ot(w,J)}J=!0;let rt,wt;if(A)for(wt=A.length-1;wt>=0;wt--)rt=w.g=A[wt],J=yi(rt,P,!0,w)&&J;if(rt=w.g=d,J=yi(rt,P,!0,w)&&J,J=yi(rt,P,!1,w)&&J,A)for(wt=0;wt<A.length;wt++)rt=w.g=A[wt],J=yi(rt,P,!1,w)&&J}Ne.prototype.N=function(){if(Ne.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const A=d.g[w];for(let P=0;P<A.length;P++)yt(A[P]);delete d.g[w],d.h--}}this.G=null},Ne.prototype.J=function(d,w,A,P){return this.i.add(String(d),w,!1,A,P)},Ne.prototype.K=function(d,w,A,P){return this.i.add(String(d),w,!0,A,P)};function yi(d,w,A,P){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let J=!0;for(let rt=0;rt<w.length;++rt){const wt=w[rt];if(wt&&!wt.da&&wt.capture==A){const Gt=wt.listener,ye=wt.ha||wt.src;wt.fa&&gt(d.i,wt),J=Gt.call(ye,P)!==!1&&J}}return J&&!P.defaultPrevented}function Qa(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:f.setTimeout(d,w||0)}function ra(d){d.g=Qa(()=>{d.g=null,d.i&&(d.i=!1,ra(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class En extends G{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ra(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(d){G.call(this),this.h=d,this.g={}}C(Gr,G);var hr=[];function ws(d){re(d.g,function(w,A){this.g.hasOwnProperty(A)&&je(w)},d),d.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),ws(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=f.JSON.stringify,Xa=f.JSON.parse,Ts=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Zr(){}function $a(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){F.call(this,"d")}C(pn,F);function ui(){F.call(this,"c")}C(ui,F);var en={},Ss=null;function Ja(){return Ss=Ss||new Ne}en.Ia="serverreachability";function pu(d){F.call(this,en.Ia,d)}C(pu,F);function Ui(d){const w=Ja();we(w,new pu(w))}en.STAT_EVENT="statevent";function xs(d,w){F.call(this,en.STAT_EVENT,d),this.stat=w}C(xs,F);function nn(d){const w=Ja();we(w,new xs(w,d))}en.Ja="timingevent";function fr(d,w){F.call(this,en.Ja,d),this.size=w}C(fr,F);function dr(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},w)}function Fi(){this.g=!0}Fi.prototype.ua=function(){this.g=!1};function Bc(d,w,A,P,J,rt){d.info(function(){if(d.g)if(rt){var wt="",Gt=rt.split("&");for(let be=0;be<Gt.length;be++){var ye=Gt[be].split("=");if(ye.length>1){const Fe=ye[0];ye=ye[1];const Ci=Fe.split("_");wt=Ci.length>=2&&Ci[1]=="type"?wt+(Fe+"="+ye+"&"):wt+(Fe+"=redacted&")}}}else wt=null;else wt=rt;return"XMLHTTP REQ ("+P+") [attempt "+J+"]: "+w+`
`+A+`
`+wt})}function gu(d,w,A,P,J,rt,wt){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+J+"]: "+w+`
`+A+`
`+rt+" "+wt})}function mr(d,w,A,P){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Uc(d,A)+(P?" "+P:"")})}function Wr(d,w){d.info(function(){return"TIMEOUT: "+w})}Fi.prototype.info=function(){};function Uc(d,w){if(!d.g)return w;if(!w)return null;try{const rt=JSON.parse(w);if(rt){for(d=0;d<rt.length;d++)if(Array.isArray(rt[d])){var A=rt[d];if(!(A.length<2)){var P=A[1];if(Array.isArray(P)&&!(P.length<1)){var J=P[0];if(J!="noop"&&J!="stop"&&J!="close")for(let wt=1;wt<P.length;wt++)P[wt]=""}}}}return Bi(rt)}catch{return w}}var sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function Mn(){}C(Mn,Zr),Mn.prototype.g=function(){return new XMLHttpRequest},ll=new Mn;function Ot(d){return encodeURIComponent(String(d))}function ul(d){var w=1;d=d.split(":");const A=[];for(;w>0&&d.length;)A.push(d.shift()),w--;return d.length&&A.push(d.join(":")),A}function bi(d,w,A,P){this.j=d,this.i=w,this.l=A,this.S=P||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var rn={},un={};function Hi(d,w,A){d.M=1,d.A=Le(We(w)),d.u=A,d.R=!0,qi(d,null)}function qi(d,w){d.F=Date.now(),pr(d),d.B=We(d.A);var A=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),Cs(A.i,"t",P),d.C=0,A=d.j.L,d.h=new Ei,d.g=gl(d.j,A?w:null,!d.u),d.P>0&&(d.O=new En(y(d.Y,d,d.g),d.P)),w=d.V,A=d.g,P=d.ba;var J="readystatechange";Array.isArray(J)||(J&&(hr[0]=J.toString()),J=hr);for(let rt=0;rt<J.length;rt++){const wt=Bt(A,J[rt],P||w.handleEvent,!1,w.h||w);if(!wt)break;w.g[wt.key]=wt}w=d.J?R(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Ui(),Bc(d.i,d.v,d.B,d.l,d.S,d.u)}bi.prototype.ba=function(d){d=d.target;const w=this.O;w&&Ki(d)==3?w.j():this.Y(d)},bi.prototype.Y=function(d){try{if(d==this.g)t:{const Gt=Ki(this.g),ye=this.g.ya(),be=this.g.ca();if(!(Gt<3)&&(Gt!=3||this.g&&(this.h.h||this.g.la()||Tn(this.g)))){this.K||Gt!=4||ye==7||(ye==8||be<=0?Ui(3):Ui(2)),Gi(this);var w=this.g.ca();this.X=w;var A=_u(this);if(this.o=w==200,gu(this.i,this.v,this.B,this.l,this.S,Gt,w),this.o){if(this.U&&!this.L){e:{if(this.g){var P,J=this.g;if((P=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(P)){var rt=P;break e}}rt=null}if(d=rt)mr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gr(this,d);else{this.o=!1,this.m=3,nn(12),Dn(this),wi(this);break t}}if(this.R){d=!0;let Fe;for(;!this.K&&this.C<A.length;)if(Fe=yu(this,A),Fe==un){Gt==4&&(this.m=4,nn(14),d=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==rn){this.m=4,nn(15),mr(this.i,this.l,A,"[Invalid Chunk]"),d=!1;break}else mr(this.i,this.l,Fe,null),gr(this,Fe);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||A.length!=0||this.h.h||(this.m=1,nn(16),d=!1),this.o=this.o&&d,!d)mr(this.i,this.l,A,"[Invalid Chunked Response]"),Dn(this),wi(this);else if(A.length>0&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.aa&&!wt.P&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),ml(wt),wt.P=!0,nn(11))}}else mr(this.i,this.l,A,null),gr(this,A);Gt==4&&Dn(this),this.o&&!this.K&&(Gt==4?fi(this.j,this):(this.o=!1,pr(this)))}else Yi(this.g),w==400&&A.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),Dn(this),wi(this)}}}catch{}finally{}};function _u(d){if(!vu(d))return d.g.la();const w=Tn(d.g);if(w==="")return"";let A="";const P=w.length,J=Ki(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Dn(d),wi(d),"";d.h.i=new f.TextDecoder}for(let rt=0;rt<P;rt++)d.h.h=!0,A+=d.h.i.decode(w[rt],{stream:!(J&&rt==P-1)});return w.length=0,d.h.g+=A,d.C=0,d.h.g}function vu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function yu(d,w){var A=d.C,P=w.indexOf(`
`,A);return P==-1?un:(A=Number(w.substring(A,P)),isNaN(A)?rn:(P+=1,P+A>w.length?un:(w=w.slice(P,P+A),d.C=P+A,w)))}bi.prototype.cancel=function(){this.K=!0,Dn(this)};function pr(d){d.T=Date.now()+d.H,to(d,d.H)}function to(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=dr(y(d.aa,d),w)}function Gi(d){d.D&&(f.clearTimeout(d.D),d.D=null)}bi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(Ui(),nn(17)),Dn(this),this.m=2,wi(this)):to(this,this.T-d)};function wi(d){d.j.I==0||d.K||fi(d.j,d)}function Dn(d){Gi(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,ws(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function gr(d,w){try{var A=d.j;if(A.I!=0&&(A.g==d||Ti(A.h,d))){if(!d.L&&Ti(A.h,d)&&A.I==3){try{var P=A.Ba.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var J=P;if(J[0]==0){t:if(!A.v){if(A.g)if(A.g.F+3e3<d.F)oo(A),Ns(A);else break t;ha(A),nn(18)}}else A.xa=J[1],0<A.xa-A.K&&J[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=dr(y(A.Va,A),6e3));_r(A.h)<=1&&A.ta&&(A.ta=void 0)}else Qi(A,11)}else if((d.L||A.g==d)&&oo(A),!z(w))for(J=A.Ba.g.parse(w),w=0;w<J.length;w++){let be=J[w];const Fe=be[0];if(!(Fe<=A.K))if(A.K=Fe,be=be[1],A.I==2)if(be[0]=="c"){A.M=be[1],A.ba=be[2];const Ci=be[3];Ci!=null&&(A.ka=Ci,A.j.info("VER="+A.ka));const Ri=be[4];Ri!=null&&(A.za=Ri,A.j.info("SVER="+A.za));const di=be[5];di!=null&&typeof di=="number"&&di>0&&(P=1.5*di,A.O=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const $i=d.g;if($i){const fa=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fa){var rt=P.h;rt.g||fa.indexOf("spdy")==-1&&fa.indexOf("quic")==-1&&fa.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Kr(rt,rt.h),rt.h=null))}if(P.G){const da=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(P.wa=da,Rt(P.J,P.G,da))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-d.F,A.j.info("Handshake RTT: "+A.T+"ms")),P=A;var wt=d;if(P.na=pl(P,P.L?P.ba:null,P.W),wt.L){eo(P.h,wt);var Gt=wt,ye=P.O;ye&&(Gt.H=ye),Gt.D&&(Gi(Gt),pr(Gt)),P.g=wt}else dl(P);A.i.length>0&&ei(A)}else be[0]!="stop"&&be[0]!="close"||Qi(A,7);else A.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Qi(A,7):ne(A):be[0]!="noop"&&A.l&&A.l.qa(be),A.A=0)}}Ui(4)}catch{}}var cn=class{constructor(d,w){this.g=d,this.map=w}};function cl(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _r(d){return d.h?1:d.g?d.g.size:0}function Ti(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Kr(d,w){d.g?d.g.add(w):d.h=w}function eo(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}cl.prototype.cancel=function(){if(this.i=no(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function no(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const A of d.g.values())w=w.concat(A.G);return w}return M(d.i)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ie(d,w){if(d){d=d.split("&");for(let A=0;A<d.length;A++){const P=d[A].indexOf("=");let J,rt=null;P>=0?(J=d[A].substring(0,P),rt=d[A].substring(P+1)):J=d[A],w(J,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function ae(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof ae?(this.l=d.l,Ke(this,d.j),this.o=d.o,this.g=d.g,ci(this,d.u),this.h=d.h,aa(this,ua(d.i)),this.m=d.m):d&&(w=String(d).match(As))?(this.l=!1,Ke(this,w[1]||"",!0),this.o=Si(w[2]||""),this.g=Si(w[3]||"",!0),ci(this,w[4]),this.h=Si(w[5]||"",!0),aa(this,w[6]||"",!0),this.m=Si(w[7]||"")):(this.l=!1,this.i=new xi(null,this.l))}ae.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(vr(w,io,!0),":");var A=this.g;return(A||w=="file")&&(d.push("//"),(w=this.o)&&d.push(vr(w,io,!0),"@"),d.push(Ot(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&d.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(vr(A,A.charAt(0)=="/"?Zi:oa,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",vr(A,yr)),d.join("")},ae.prototype.resolve=function(d){const w=We(this);let A=!!d.j;A?Ke(w,d.j):A=!!d.o,A?w.o=d.o:A=!!d.g,A?w.g=d.g:A=d.u!=null;var P=d.h;if(A)ci(w,d.u);else if(A=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var J=w.h.lastIndexOf("/");J!=-1&&(P=w.h.slice(0,J+1)+P)}if(J=P,J==".."||J==".")P="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){P=J.lastIndexOf("/",0)==0,J=J.split("/");const rt=[];for(let wt=0;wt<J.length;){const Gt=J[wt++];Gt=="."?P&&wt==J.length&&rt.push(""):Gt==".."?((rt.length>1||rt.length==1&&rt[0]!="")&&rt.pop(),P&&wt==J.length&&rt.push("")):(rt.push(Gt),P=!0)}P=rt.join("/")}else P=J}return A?w.h=P:A=d.i.toString()!=="",A?aa(w,ua(d.i)):A=!!d.m,A&&(w.m=d.m),w};function We(d){return new ae(d)}function Ke(d,w,A){d.j=A?Si(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function ci(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function aa(d,w,A){w instanceof xi?(d.i=w,Rs(d.i,d.l)):(A||(w=vr(w,Me)),d.i=new xi(w,d.l))}function Rt(d,w,A){d.i.set(w,A)}function Le(d){return Rt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Si(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function vr(d,w,A){return typeof d=="string"?(d=encodeURI(d).replace(w,Ue),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ue(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var io=/[#\/\?@]/g,oa=/[#\?:]/g,Zi=/[#\?]/g,Me=/[#\?@]/g,yr=/#/g;function xi(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function wn(d){d.g||(d.g=new Map,d.h=0,d.i&&ie(d.i,function(w,A){d.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}n=xi.prototype,n.add=function(d,w){wn(this),this.i=null,d=br(this,d);let A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(w),this.h+=1,this};function ro(d,w){wn(d),w=br(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Yr(d,w){return wn(d),w=br(d,w),d.g.has(w)}n.forEach=function(d,w){wn(this),this.g.forEach(function(A,P){A.forEach(function(J){d.call(w,J,P,this)},this)},this)};function la(d,w){wn(d);let A=[];if(typeof w=="string")Yr(d,w)&&(A=A.concat(d.g.get(br(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)A=A.concat(d[w]);return A}n.set=function(d,w){return wn(this),this.i=null,d=br(this,d),Yr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=la(this,d),d.length>0?String(d[0]):w):w};function Cs(d,w,A){ro(d,w),A.length>0&&(d.i=null,d.g.set(br(d,w),M(A)),d.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let P=0;P<w.length;P++){var A=w[P];const J=Ot(A);A=la(this,A);for(let rt=0;rt<A.length;rt++){let wt=J;A[rt]!==""&&(wt+="="+Ot(A[rt])),d.push(wt)}}return this.i=d.join("&")};function ua(d){const w=new xi;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function br(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Rs(d,w){w&&!d.j&&(wn(d),d.i=null,d.g.forEach(function(A,P){const J=P.toLowerCase();P!=J&&(ro(this,P),Cs(this,J,A))},d)),d.j=w}function $n(d,w){const A=new Fi;if(f.Image){const P=new Image;P.onload=S(Jn,A,"TestLoadImage: loaded",!0,w,P),P.onerror=S(Jn,A,"TestLoadImage: error",!1,w,P),P.onabort=S(Jn,A,"TestLoadImage: abort",!1,w,P),P.ontimeout=S(Jn,A,"TestLoadImage: timeout",!1,w,P),f.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else w(!1)}function so(d,w){const A=new Fi,P=new AbortController,J=setTimeout(()=>{P.abort(),Jn(A,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:P.signal}).then(rt=>{clearTimeout(J),rt.ok?Jn(A,"TestPingServer: ok",!0,w):Jn(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),Jn(A,"TestPingServer: error",!1,w)})}function Jn(d,w,A,P,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),P(A)}catch{}}function Is(){this.g=new Ts}function Ut(d){this.i=d.Sb||null,this.h=d.ab||!1}C(Ut,Zr),Ut.prototype.g=function(){return new kn(this.i,this.h)};function kn(d,w){Ne.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(kn,Ne),n=kn.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,hi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||f).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Te(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Te(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Qr(this):hi(this),this.readyState==3&&Te(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Qr(this))},n.Na=function(d){this.g&&(this.response=d,Qr(this))},n.ga=function(){this.g&&Qr(this)};function Qr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,hi(d)}n.setRequestHeader=function(d,w){this.A.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=w.next();return d.join(`\r
`)};function hi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ti(d){let w="";return re(d,function(A,P){w+=P,w+=":",w+=A,w+=`\r
`}),w}function Xr(d,w,A){t:{for(P in A){var P=!1;break t}P=!0}P||(A=ti(A),typeof d=="string"?A!=null&&Ot(A):Rt(d,w,A))}function he(d){Ne.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(he,Ne);var Ai=/^https?$/i,$r=["POST","PUT"];n=he.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,w,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(rt){Ye(this,rt);return}if(d=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var J in P)A.set(J,P[J]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const rt of P.keys())A.set(rt,P.get(rt));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(rt=>rt.toLowerCase()=="content-type"),J=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call($r,w,void 0)>=0)||P||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,wt]of A)this.g.setRequestHeader(rt,wt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(rt){Ye(this,rt)}};function Ye(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,Wi(d),Er(d)}function Wi(d){d.A||(d.A=!0,we(d,"complete"),we(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,we(this,"complete"),we(this,"abort"),Er(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Er(this,!0)),he.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},n.Xa=function(){Os(this)};function Os(d){if(d.h&&typeof u<"u"){if(d.v&&Ki(d)==4)setTimeout(d.Ca.bind(d),0);else if(we(d,"readystatechange"),Ki(d)==4){d.h=!1;try{const rt=d.ca();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var A;if(!(A=w)){var P;if(P=rt===0){let wt=String(d.D).match(As)[1]||null;!wt&&f.self&&f.self.location&&(wt=f.self.location.protocol.slice(0,-1)),P=!Ai.test(wt?wt.toLowerCase():"")}A=P}if(A)we(d,"complete"),we(d,"success");else{d.o=6;try{var J=Ki(d)>2?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.ca()+"]",Wi(d)}}finally{Er(d)}}}}function Er(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const A=d.g;d.g=null,w||we(d,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ki(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Ki(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Xa(w)}};function Tn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(d){const w={};d=(d.g&&Ki(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(z(d[P]))continue;var A=ul(d[P]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const rt=w[J]||[];w[J]=rt,rt.push(A)}q(w,function(P){return P.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(d,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||w}function Jr(d){this.za=0,this.i=[],this.j=new Fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wr("baseRetryDelayMs",5e3,d),this.Za=wr("retryDelaySeedMs",1e4,d),this.Ta=wr("forwardChannelMaxRetries",2,d),this.va=wr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(d&&d.concurrentRequestLimit),this.Ba=new Is,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Jr.prototype,n.ka=8,n.I=1,n.connect=function(d,w,A,P){nn(0),this.W=d,this.H=w||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.J=pl(this,null,this.W),ei(this)};function ne(d){if(jn(d),d.I==3){var w=d.V++,A=We(d.J);if(Rt(A,"SID",d.M),Rt(A,"RID",w),Rt(A,"TYPE","terminate"),ts(d,A),w=new bi(d,d.j,w),w.M=2,w.A=Le(We(A)),A=!1,f.navigator&&f.navigator.sendBeacon)try{A=f.navigator.sendBeacon(w.A.toString(),"")}catch{}!A&&f.Image&&(new Image().src=w.A,A=!0),A||(w.g=gl(w.j,null),w.g.ea(w.A)),w.F=Date.now(),pr(w)}Xi(d)}function Ns(d){d.g&&(ml(d),d.g.cancel(),d.g=null)}function jn(d){Ns(d),d.v&&(f.clearTimeout(d.v),d.v=null),oo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function ei(d){if(!hl(d.h)&&!d.m){d.m=!0;var w=d.Ea;Nt||D(),Dt||(Nt(),Dt=!0),k.add(w,d),d.D=0}}function ca(d,w){return _r(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=dr(y(d.Ea,d,w),Eu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const J=new bi(this,this.j,d);let rt=this.o;if(this.U&&(rt?(rt=R(rt),ot(rt,this.U)):rt=this.U),this.u!==null||this.R||(J.J=rt,rt=null),this.S)t:{for(var w=0,A=0;A<this.i.length;A++){e:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(w+=P,w>4096){w=A;break t}if(w===4096||A===this.i.length-1){w=A+1;break t}}w=1e3}else w=1e3;w=bu(this,J,w),A=We(this.J),Rt(A,"RID",d),Rt(A,"CVER",22),this.G&&Rt(A,"X-HTTP-Session-Id",this.G),ts(this,A),rt&&(this.R?w="headers="+Ot(ti(rt))+"&"+w:this.u&&Xr(A,this.u,rt)),Kr(this.h,J),this.Ra&&Rt(A,"TYPE","init"),this.S?(Rt(A,"$req",w),Rt(A,"SID","null"),J.U=!0,Hi(J,A,null)):Hi(J,A,w),this.I=2}}else this.I==3&&(d?fl(this,d):this.i.length==0||hl(this.h)||fl(this))};function fl(d,w){var A;w?A=w.l:A=d.V++;const P=We(d.J);Rt(P,"SID",d.M),Rt(P,"RID",A),Rt(P,"AID",d.K),ts(d,P),d.u&&d.o&&Xr(P,d.u,d.o),A=new bi(d,d.j,A,d.D+1),d.u===null&&(A.J=d.o),w&&(d.i=w.G.concat(d.i)),w=bu(d,A,1e3),A.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Kr(d.h,A),Hi(A,P,w)}function ts(d,w){d.H&&re(d.H,function(A,P){Rt(w,P,A)}),d.l&&re({},function(A,P){Rt(w,P,A)})}function bu(d,w,A){A=Math.min(d.i.length,A);const P=d.l?y(d.l.Ka,d.l,d):null;t:{var J=d.i;let Gt=-1;for(;;){const ye=["count="+A];Gt==-1?A>0?(Gt=J[0].g,ye.push("ofs="+Gt)):Gt=0:ye.push("ofs="+Gt);let be=!0;for(let Fe=0;Fe<A;Fe++){var rt=J[Fe].g;const Ci=J[Fe].map;if(rt-=Gt,rt<0)Gt=Math.max(0,J[Fe].g-100),be=!1;else try{rt="req"+rt+"_"||"";try{var wt=Ci instanceof Map?Ci:Object.entries(Ci);for(const[Ri,di]of wt){let $i=di;g(di)&&($i=Bi(di)),ye.push(rt+Ri+"="+encodeURIComponent($i))}}catch(Ri){throw ye.push(rt+"type="+encodeURIComponent("_badmap")),Ri}}catch{P&&P(Ci)}}if(be){wt=ye.join("&");break t}}wt=void 0}return d=d.i.splice(0,A),w.G=d,wt}function dl(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;Nt||D(),Dt||(Nt(),Dt=!0),k.add(w,d),d.A=0}}function ha(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=dr(y(d.Da,d),Eu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,ao(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=dr(y(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),Ns(this),ao(this))};function ml(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function ao(d){d.g=new bi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=We(d.na);Rt(w,"RID","rpc"),Rt(w,"SID",d.M),Rt(w,"AID",d.K),Rt(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&Rt(w,"TO",d.ia),Rt(w,"TYPE","xmlhttp"),ts(d,w),d.u&&d.o&&Xr(w,d.u,d.o),d.O&&(d.g.H=d.O);var A=d.g;d=d.ba,A.M=1,A.A=Le(We(w)),A.u=null,A.R=!0,qi(A,d)}n.Va=function(){this.C!=null&&(this.C=null,Ns(this),ha(this),nn(19))};function oo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function fi(d,w){var A=null;if(d.g==w){oo(d),ml(d),d.g=null;var P=2}else if(Ti(d.h,w))A=w.G,eo(d.h,w),P=1;else return;if(d.I!=0){if(w.o)if(P==1){A=w.u?w.u.length:0,w=Date.now()-w.F;var J=d.D;P=Ja(),we(P,new fr(P,A)),ei(d)}else dl(d);else if(J=w.m,J==3||J==0&&w.X>0||!(P==1&&ca(d,w)||P==2&&ha(d)))switch(A&&A.length>0&&(w=d.h,w.i=w.i.concat(A)),J){case 1:Qi(d,5);break;case 4:Qi(d,10);break;case 3:Qi(d,6);break;default:Qi(d,2)}}}function Eu(d,w){let A=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(A*=2),A*w}function Qi(d,w){if(d.j.info("Error code "+w),w==2){var A=y(d.bb,d),P=d.Ua;const J=!P;P=new ae(P||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ke(P,"https"),Le(P),J?$n(P.toString(),A):so(P.toString(),A)}else nn(2);d.I=0,d.l&&d.l.pa(w),Xi(d),jn(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Xi(d){if(d.I=0,d.ja=[],d.l){const w=no(d.h);(w.length!=0||d.i.length!=0)&&(H(d.ja,w),H(d.ja,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.oa()}}function pl(d,w,A){var P=A instanceof ae?We(A):new ae(A);if(P.g!="")w&&(P.g=w+"."+P.g),ci(P,P.u);else{var J=f.location;P=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;const rt=new ae(null);P&&Ke(rt,P),w&&(rt.g=w),J&&ci(rt,J),A&&(rt.h=A),P=rt}return A=d.G,w=d.wa,A&&w&&Rt(P,A,w),Rt(P,"VER",d.ka),ts(d,P),P}function gl(d,w,A){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new he(new Ut({ab:A})):new he(d.ma),w.Fa(d.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function lo(){}n=lo.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ps(){}Ps.prototype.g=function(d,w){return new Vn(d,w)};function Vn(d,w){Ne.call(this),this.g=new Jr(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!z(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!z(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new es(this)}C(Vn,Ne),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){ne(this.g)},Vn.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.v&&(A={},A.__data__=Bi(d),d=A);w.i.push(new cn(w.Ya++,d)),w.I==3&&ei(w)},Vn.prototype.N=function(){this.g.l=null,delete this.j,ne(this.g),delete this.g,Vn.Z.N.call(this)};function _l(d){pn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){t:{for(const A in w){d=A;break t}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}C(_l,pn);function wu(){ui.call(this),this.status=1}C(wu,ui);function es(d){this.g=d}C(es,lo),es.prototype.ra=function(){we(this.g,"a")},es.prototype.qa=function(d){we(this.g,new _l(d))},es.prototype.pa=function(d){we(this.g,new wu)},es.prototype.oa=function(){we(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,Mx=function(){return new Ps},Lx=function(){return Ja()},Px=en,sv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sa.NO_ERROR=0,sa.TIMEOUT=8,sa.HTTP_ERROR=6,Qd=sa,ol.COMPLETE="complete",Nx=ol,$a.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ne.prototype.listen=Ne.prototype.J,Nh=$a,he.prototype.listenOnce=he.prototype.K,he.prototype.getLastError=he.prototype.Ha,he.prototype.getLastErrorCode=he.prototype.ya,he.prototype.getStatus=he.prototype.ca,he.prototype.getResponseJson=he.prototype.La,he.prototype.getResponseText=he.prototype.la,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Fa,Ox=he}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});const aT="@firebase/firestore",oT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new $m("@firebase/firestore");function ic(){return eu.logLevel}function It(n,...t){if(eu.logLevel<=me.DEBUG){const e=t.map(ey);eu.debug(`Firestore (${Dc}): ${n}`,...e)}}function Za(n,...t){if(eu.logLevel<=me.ERROR){const e=t.map(ey);eu.error(`Firestore (${Dc}): ${n}`,...e)}}function Ec(n,...t){if(eu.logLevel<=me.WARN){const e=t.map(ey);eu.warn(`Firestore (${Dc}): ${n}`,...e)}}function ey(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Dx(n,r,e)}function Dx(n,t,e){let r=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Za(r),new Error(r)}function Pe(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||Dx(t,o,r)}function Xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Es{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ai.UNAUTHENTICATED)))}shutdown(){}}class YD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class QD{constructor(t){this.t=t,this.currentUser=ai.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Pe(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new za;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new za,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=u;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new za)}}),0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new kx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Pe(t===null||typeof t=="string",2055,{h:t}),new ai(t)}}class XD{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $D{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new XD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ai.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Pe(this.o===void 0,3512);const r=u=>{u.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,It("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Pe(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new lT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=tk(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function pe(n,t){return n<t?-1:n>t?1:0}function av(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return C_(o)===C_(u)?pe(o,u):C_(o)?1:-1}return pe(n.length,t.length)}const ek=55296,nk=57343;function C_(n){const t=n.charCodeAt(0);return t>=ek&&t<=nk}function wc(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="__name__";class Hs{constructor(t,e,r){e===void 0?e=0:e>t.length&&qt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&qt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Hs.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hs?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Hs.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return pe(t.length,e.length)}static compareSegments(t,e){const r=Hs.isNumericId(t),o=Hs.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Hs.extractNumericId(t).compare(Hs.extractNumericId(e)):av(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zo.fromString(t.substring(4,t.length-2))}}class qe extends Hs{construct(t,e,r){return new qe(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ct(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new qe(e)}static emptyPath(){return new qe([])}}const ik=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Hs{construct(t,e,r){return new Yn(t,e,r)}static isValidIdentifier(t){return ik.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uT}static keyField(){return new Yn([uT])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Ct(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new Ct(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ct(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(r+=g,o++):(u(),o++)}if(u(),f)throw new Ct(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yn(e)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.path=t}static fromPath(t){return new zt(qe.fromString(t))}static fromName(t){return new zt(qe.fromString(t).popFirst(5))}static empty(){return new zt(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return qe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new qe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n,t,e){if(!e)throw new Ct(pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function rk(n,t,e,r){if(t===!0&&r===!0)throw new Ct(pt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function cT(n){if(!zt.isDocumentKey(n))throw new Ct(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hT(n){if(zt.isDocumentKey(n))throw new Ct(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function np(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":qt(12329,{type:typeof n})}function vs(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=np(n);throw new Ct(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n,t){const e={typeString:n};return t&&(e.value=t),e}function _f(n,t){if(!Vx(n))throw new Ct(pt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const f=n[r];if(o&&typeof f!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new Ct(pt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=-62135596800,dT=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*dT);return new Xe(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<fT)throw new Ct(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dT}_compareTo(t){return this.seconds===t.seconds?pe(this.nanoseconds,t.nanoseconds):pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_f(t,Xe._jsonSchema))return new Xe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:On("string",Xe._jsonSchemaVersion),seconds:On("number"),nanoseconds:On("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(t){return new Kt(t)}static min(){return new Kt(new Xe(0,0))}static max(){return new Kt(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=-1;function sk(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Kt.fromTimestamp(r===1e9?new Xe(e+1,0):new Xe(e,r));return new Qo(o,zt.empty(),t)}function ak(n){return new Qo(n.readTime,n.key,Qh)}class Qo{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Qo(Kt.min(),zt.empty(),Qh)}static max(){return new Qo(Kt.max(),zt.empty(),Qh)}}function ok(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=zt.comparator(n.documentKey,t.documentKey),e!==0?e:pe(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==lk)throw n;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new vt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof vt?e:vt.resolve(e)}catch(e){return vt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):vt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):vt.reject(e)}static resolve(t){return new vt(((e,r)=>{e(t)}))}static reject(t){return new vt(((e,r)=>{r(t)}))}static waitFor(t){return new vt(((e,r)=>{let o=0,u=0,f=!1;t.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&e()}),(v=>r(v)))})),f=!0,u===o&&e()}))}static or(t){let e=vt.resolve(!1);for(const r of t)e=e.next((o=>o?vt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new vt(((r,o)=>{const u=t.length,f=new Array(u);let g=0;for(let v=0;v<u;v++){const y=v;e(t[y]).next((S=>{f[y]=S,++g,g===u&&r(f)}),(S=>o(S)))}}))}static doWhile(t,e){return new vt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function ck(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function jc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ip.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-1;function rp(n){return n==null}function wm(n){return n===0&&1/n==-1/0}function hk(n){return typeof n=="number"&&Number.isInteger(n)&&!wm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="";function fk(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=mT(t)),t=dk(n.get(e),t);return mT(t)}function dk(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case zx:e+="";break;default:e+=u}}return e}function mT(n){return n+zx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function sl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Bx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,e){this.comparator=t,this.root=e||Zn.EMPTY}insert(t,e){return new on(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(t){return new on(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kd(this.root,t,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kd(this.root,t,this.comparator,!0)}}class kd{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Zn.RED,this.left=o??Zn.EMPTY,this.right=u??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Zn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Zn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw qt(27949);return t+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Zn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.comparator=t,this.data=new on(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new gT(this.data.getIterator())}getIteratorFrom(t){return new gT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ln)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ln(this.comparator);return e.data=t,e}}class gT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.fields=t,t.sort(Yn.comparator)}static empty(){return new or([])}unionWith(t){let e=new Ln(Yn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new or(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wc(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ux("Invalid base64 string: "+u):u}})(t);return new Qn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Qn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const mk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(Pe(!!n,39018),typeof n=="string"){let t=0;const e=mk.exec(n);if(Pe(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vn(n.seconds),nanos:vn(n.nanos)}}function vn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?Qn.fromBase64String(n):Qn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="server_timestamp",Hx="__type__",qx="__previous_value__",Gx="__local_write_time__";function ry(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[Hx])==null?void 0:r.stringValue)===Fx}function sp(n){const t=n.mapValue.fields[qx];return ry(t)?sp(t):t}function Xh(n){const t=Xo(n.mapValue.fields[Gx].timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(t,e,r,o,u,f,g,v,y,S){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=S}}const Tm="(default)";class $h{constructor(t,e){this.projectId=t,this.database=e||Tm}static empty(){return new $h("","")}get isDefaultDatabase(){return this.database===Tm}isEqual(t){return t instanceof $h&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="__type__",gk="__max__",jd={mapValue:{}},Wx="__vector__",Sm="value";function Jo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ry(n)?4:vk(n)?9007199254740991:_k(n)?10:11:qt(28295,{value:n})}function na(n,t){if(n===t)return!0;const e=Jo(n);if(e!==Jo(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xh(n).isEqual(Xh(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Xo(o.timestampValue),g=Xo(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return $o(o.bytesValue).isEqual($o(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return vn(o.geoPointValue.latitude)===vn(u.geoPointValue.latitude)&&vn(o.geoPointValue.longitude)===vn(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vn(o.integerValue)===vn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vn(o.doubleValue),g=vn(u.doubleValue);return f===g?wm(f)===wm(g):isNaN(f)&&isNaN(g)}return!1})(n,t);case 9:return wc(n.arrayValue.values||[],t.arrayValue.values||[],na);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(pT(f)!==pT(g))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(g[v]===void 0||!na(f[v],g[v])))return!1;return!0})(n,t);default:return qt(52216,{left:n})}}function Jh(n,t){return(n.values||[]).find((e=>na(e,t)))!==void 0}function Tc(n,t){if(n===t)return 0;const e=Jo(n),r=Jo(t);if(e!==r)return pe(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=vn(u.integerValue||u.doubleValue),v=vn(f.integerValue||f.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(n,t);case 3:return _T(n.timestampValue,t.timestampValue);case 4:return _T(Xh(n),Xh(t));case 5:return av(n.stringValue,t.stringValue);case 6:return(function(u,f){const g=$o(u),v=$o(f);return g.compareTo(v)})(n.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),v=f.split("/");for(let y=0;y<g.length&&y<v.length;y++){const S=pe(g[y],v[y]);if(S!==0)return S}return pe(g.length,v.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=pe(vn(u.latitude),vn(f.latitude));return g!==0?g:pe(vn(u.longitude),vn(f.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return vT(n.arrayValue,t.arrayValue);case 10:return(function(u,f){var N,M,H,Y;const g=u.fields||{},v=f.fields||{},y=(N=g[Sm])==null?void 0:N.arrayValue,S=(M=v[Sm])==null?void 0:M.arrayValue,C=pe(((H=y==null?void 0:y.values)==null?void 0:H.length)||0,((Y=S==null?void 0:S.values)==null?void 0:Y.length)||0);return C!==0?C:vT(y,S)})(n.mapValue,t.mapValue);case 11:return(function(u,f){if(u===jd.mapValue&&f===jd.mapValue)return 0;if(u===jd.mapValue)return 1;if(f===jd.mapValue)return-1;const g=u.fields||{},v=Object.keys(g),y=f.fields||{},S=Object.keys(y);v.sort(),S.sort();for(let C=0;C<v.length&&C<S.length;++C){const N=av(v[C],S[C]);if(N!==0)return N;const M=Tc(g[v[C]],y[S[C]]);if(M!==0)return M}return pe(v.length,S.length)})(n.mapValue,t.mapValue);default:throw qt(23264,{he:e})}}function _T(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return pe(n,t);const e=Xo(n),r=Xo(t),o=pe(e.seconds,r.seconds);return o!==0?o:pe(e.nanos,r.nanos)}function vT(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Tc(e[o],r[o]);if(u)return u}return pe(e.length,r.length)}function Sc(n){return ov(n)}function ov(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Xo(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return $o(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return zt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=ov(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${ov(e.fields[f])}`;return o+"}"})(n.mapValue):qt(61005,{value:n})}function Xd(n){switch(Jo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sp(n);return t?16+Xd(t):16;case 5:return 2*n.stringValue.length;case 6:return $o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Xd(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return sl(r.fields,((u,f)=>{o+=u.length+Xd(f)})),o})(n.mapValue);default:throw qt(13486,{value:n})}}function yT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function lv(n){return!!n&&"integerValue"in n}function sy(n){return!!n&&"arrayValue"in n}function bT(n){return!!n&&"nullValue"in n}function ET(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $d(n){return!!n&&"mapValue"in n}function _k(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[Zx])==null?void 0:r.stringValue)===Wx}function Bh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return sl(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Bh(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Bh(n.arrayValue.values[e]);return t}return{...n}}function vk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===gk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.value=t}static empty(){return new zi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!$d(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bh(e)}setAll(t){let e=Yn.emptyPath(),r={},o=[];t.forEach(((f,g)=>{if(!e.isImmediateParentOf(g)){const v=this.getFieldsMap(e);this.applyChanges(v,r,o),r={},o=[],e=g.popLast()}f?r[g.lastSegment()]=Bh(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());$d(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return na(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];$d(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){sl(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new zi(Bh(this.value))}}function Kx(n){const t=[];return sl(n.fields,((e,r)=>{const o=new Yn([e]);if($d(r)){const u=Kx(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new or(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,e,r,o,u,f,g){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new oi(t,0,Kt.min(),Kt.min(),Kt.min(),zi.empty(),0)}static newFoundDocument(t,e,r,o){return new oi(t,1,e,Kt.min(),r,o,0)}static newNoDocument(t,e){return new oi(t,2,e,Kt.min(),Kt.min(),zi.empty(),0)}static newUnknownDocument(t,e){return new oi(t,3,e,Kt.min(),Kt.min(),zi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof oi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(t,e){this.position=t,this.inclusive=e}}function wT(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],f=n.position[o];if(u.field.isKeyField()?r=zt.comparator(zt.fromName(f.referenceValue),e.key):r=Tc(f,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function TT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!na(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,e="asc"){this.field=t,this.dir=e}}function yk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{}class In extends Yx{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new Ek(t,e,r):e==="array-contains"?new Sk(t,r):e==="in"?new xk(t,r):e==="not-in"?new Ak(t,r):e==="array-contains-any"?new Ck(t,r):new In(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new wk(t,r):new Tk(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Tc(e,this.value)):e!==null&&Jo(this.value)===Jo(e)&&this.matchesComparison(Tc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends Yx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ys(t,e)}matches(t){return Qx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qx(n){return n.op==="and"}function Xx(n){return bk(n)&&Qx(n)}function bk(n){for(const t of n.filters)if(t instanceof ys)return!1;return!0}function uv(n){if(n instanceof In)return n.field.canonicalString()+n.op.toString()+Sc(n.value);if(Xx(n))return n.filters.map((t=>uv(t))).join(",");{const t=n.filters.map((e=>uv(e))).join(",");return`${n.op}(${t})`}}function $x(n,t){return n instanceof In?(function(r,o){return o instanceof In&&r.op===o.op&&r.field.isEqual(o.field)&&na(r.value,o.value)})(n,t):n instanceof ys?(function(r,o){return o instanceof ys&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,g)=>u&&$x(f,o.filters[g])),!0):!1})(n,t):void qt(19439)}function Jx(n){return n instanceof In?(function(e){return`${e.field.canonicalString()} ${e.op} ${Sc(e.value)}`})(n):n instanceof ys?(function(e){return e.op.toString()+" {"+e.getFilters().map(Jx).join(" ,")+"}"})(n):"Filter"}class Ek extends In{constructor(t,e,r){super(t,e,r),this.key=zt.fromName(r.referenceValue)}matches(t){const e=zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class wk extends In{constructor(t,e){super(t,"in",e),this.keys=tA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Tk extends In{constructor(t,e){super(t,"not-in",e),this.keys=tA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function tA(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((r=>zt.fromName(r.referenceValue)))}class Sk extends In{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return sy(e)&&Jh(e.arrayValue,this.value)}}class xk extends In{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Jh(this.value.arrayValue,e)}}class Ak extends In{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Jh(this.value.arrayValue,e)}}class Ck extends In{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!sy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Jh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(t,e=null,r=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function ST(n,t=null,e=[],r=[],o=null,u=null,f=null){return new Rk(n,t,e,r,o,u,f)}function ay(n){const t=Xt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>uv(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),rp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Sc(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Sc(r))).join(",")),t.Te=e}return t.Te}function oy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!yk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!$x(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!TT(n.startAt,t.startAt)&&TT(n.endAt,t.endAt)}function cv(n){return zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e=null,r=[],o=[],u=null,f="F",g=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ik(n,t,e,r,o,u,f,g){return new vf(n,t,e,r,o,u,f,g)}function ly(n){return new vf(n)}function xT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eA(n){return n.collectionGroup!==null}function Uh(n){const t=Xt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ln(Yn.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Am(u,r))})),e.has(Yn.keyField().canonicalString())||t.Ie.push(new Am(Yn.keyField(),r))}return t.Ie}function Xs(n){const t=Xt(n);return t.Ee||(t.Ee=Ok(t,Uh(n))),t.Ee}function Ok(n,t){if(n.limitType==="F")return ST(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Am(o.field,u)}));const e=n.endAt?new xm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xm(n.startAt.position,n.startAt.inclusive):null;return ST(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function hv(n,t){const e=n.filters.concat([t]);return new vf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function fv(n,t,e){return new vf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ap(n,t){return oy(Xs(n),Xs(t))&&n.limitType===t.limitType}function nA(n){return`${ay(Xs(n))}|lt:${n.limitType}`}function rc(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>Jx(o))).join(", ")}]`),rp(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>Sc(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>Sc(o))).join(",")),`Target(${r})`})(Xs(n))}; limitType=${n.limitType})`}function op(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):zt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of Uh(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(f,g,v){const y=wT(f,g,v);return f.inclusive?y<=0:y<0})(r.startAt,Uh(r),o)||r.endAt&&!(function(f,g,v){const y=wT(f,g,v);return f.inclusive?y>=0:y>0})(r.endAt,Uh(r),o))})(n,t)}function Nk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iA(n){return(t,e)=>{let r=!1;for(const o of Uh(n)){const u=Pk(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function Pk(n,t,e){const r=n.field.isKeyField()?zt.comparator(t.key,e.key):(function(u,f,g){const v=f.data.field(u),y=g.data.field(u);return v!==null&&y!==null?Tc(v,y):qt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sl(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return Bx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new on(zt.comparator);function Wa(){return Lk}const rA=new on(zt.comparator);function Ph(...n){let t=rA;for(const e of n)t=t.insert(e.key,e);return t}function sA(n){let t=rA;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Gl(){return Fh()}function aA(){return Fh()}function Fh(){return new fu((n=>n.toString()),((n,t)=>n.isEqual(t)))}const Mk=new on(zt.comparator),Dk=new Ln(zt.comparator);function ge(...n){let t=Dk;for(const e of n)t=t.add(e);return t}const kk=new Ln(pe);function jk(){return kk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wm(t)?"-0":t}}function oA(n){return{integerValue:""+n}}function Vk(n,t){return hk(t)?oA(t):uy(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this._=void 0}}function zk(n,t,e){return n instanceof Cm?(function(o,u){const f={fields:{[Hx]:{stringValue:Fx},[Gx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ry(u)&&(u=sp(u)),u&&(f.fields[qx]=u),{mapValue:f}})(e,t):n instanceof tf?uA(n,t):n instanceof ef?cA(n,t):(function(o,u){const f=lA(o,u),g=AT(f)+AT(o.Ae);return lv(f)&&lv(o.Ae)?oA(g):uy(o.serializer,g)})(n,t)}function Bk(n,t,e){return n instanceof tf?uA(n,t):n instanceof ef?cA(n,t):e}function lA(n,t){return n instanceof Rm?(function(r){return lv(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Cm extends lp{}class tf extends lp{constructor(t){super(),this.elements=t}}function uA(n,t){const e=hA(t);for(const r of n.elements)e.some((o=>na(o,r)))||e.push(r);return{arrayValue:{values:e}}}class ef extends lp{constructor(t){super(),this.elements=t}}function cA(n,t){let e=hA(t);for(const r of n.elements)e=e.filter((o=>!na(o,r)));return{arrayValue:{values:e}}}class Rm extends lp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function AT(n){return vn(n.integerValue||n.doubleValue)}function hA(n){return sy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Uk(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof tf&&o instanceof tf||r instanceof ef&&o instanceof ef?wc(r.elements,o.elements,na):r instanceof Rm&&o instanceof Rm?na(r.Ae,o.Ae):r instanceof Cm&&o instanceof Cm})(n.transform,t.transform)}class Fk{constructor(t,e){this.version=t,this.transformResults=e}}class zr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new zr}static exists(t){return new zr(void 0,t)}static updateTime(t){return new zr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class up{}function fA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new cy(n.key,zr.none()):new yf(n.key,n.data,zr.none());{const e=n.data,r=zi.empty();let o=new Ln(Yn.comparator);for(let u of t.fields)if(!o.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new al(n.key,r,new or(o.toArray()),zr.none())}}function Hk(n,t,e){n instanceof yf?(function(o,u,f){const g=o.value.clone(),v=RT(o.fieldTransforms,u,f.transformResults);g.setAll(v),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(n,t,e):n instanceof al?(function(o,u,f){if(!Jd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=RT(o.fieldTransforms,u,f.transformResults),v=u.data;v.setAll(dA(o)),v.setAll(g),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(n,t,e):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,e)}function Hh(n,t,e,r){return n instanceof yf?(function(u,f,g,v){if(!Jd(u.precondition,f))return g;const y=u.value.clone(),S=IT(u.fieldTransforms,v,f);return y.setAll(S),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(n,t,e,r):n instanceof al?(function(u,f,g,v){if(!Jd(u.precondition,f))return g;const y=IT(u.fieldTransforms,v,f),S=f.data;return S.setAll(dA(u)),S.setAll(y),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((C=>C.field)))})(n,t,e,r):(function(u,f,g){return Jd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(n,t,e)}function qk(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=lA(r.transform,o||null);u!=null&&(e===null&&(e=zi.empty()),e.set(r.field,u))}return e||null}function CT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wc(r,o,((u,f)=>Uk(u,f)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class yf extends up{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class al extends up{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function RT(n,t,e){const r=new Map;Pe(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],f=u.transform,g=t.data.field(u.field);r.set(u.field,Bk(f,g,e[o]))}return r}function IT(n,t,e){const r=new Map;for(const o of n){const u=o.transform,f=e.data.field(o.field);r.set(o.field,zk(u,f,t))}return r}class cy extends up{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gk extends up{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Hk(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Hh(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Hh(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=aA();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=e.has(o.key)?null:g;const v=fA(f,g);v!==null&&r.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(Kt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),ge())}isEqual(t){return this.batchId===t.batchId&&wc(this.mutations,t.mutations,((e,r)=>CT(e,r)))&&wc(this.baseMutations,t.baseMutations,((e,r)=>CT(e,r)))}}class hy{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Pe(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return Mk})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new hy(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,Ee;function Yk(n){switch(n){case pt.OK:return qt(64938);case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return qt(15467,{code:n})}}function mA(n){if(n===void 0)return Za("GRPC error has no .code"),pt.UNKNOWN;switch(n){case Rn.OK:return pt.OK;case Rn.CANCELLED:return pt.CANCELLED;case Rn.UNKNOWN:return pt.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return pt.INTERNAL;case Rn.UNAVAILABLE:return pt.UNAVAILABLE;case Rn.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Rn.NOT_FOUND:return pt.NOT_FOUND;case Rn.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Rn.ABORTED:return pt.ABORTED;case Rn.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Rn.DATA_LOSS:return pt.DATA_LOSS;default:return qt(39323,{code:n})}}(Ee=Rn||(Rn={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new Zo([4294967295,4294967295],0);function OT(n){const t=Qk().encode(n),e=new Ix;return e.update(t),new Uint8Array(e.digest())}function NT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zo([e,r],0),new Zo([o,u],0)]}class fy{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Lh(`Invalid padding: ${e}`);if(r<0)throw new Lh(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Lh(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Lh(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Zo.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Zo.fromNumber(r)));return o.compare(Xk)===1&&(o=new Zo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=OT(t),[r,o]=NT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new fy(u,o,e);return r.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const e=OT(t),[r,o]=NT(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,bf.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new cp(Kt.min(),o,new on(pe),Wa(),ge())}}class bf{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new bf(r,e,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class pA{constructor(t,e){this.targetId=t,this.Ce=e}}class gA{constructor(t,e,r=Qn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class PT{constructor(){this.ve=0,this.Fe=LT(),this.Me=Qn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ge(),e=ge(),r=ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:qt(38017,{changeType:u})}})),new bf(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=LT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $k{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wa(),this.Je=Vd(),this.He=Vd(),this.Ye=new on(pe)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:qt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(cv(u))if(r===0){const f=new zt(u.path);this.et(e,f,oi.newNoDocument(f,Kt.min()))}else Pe(r===1,20013,{expectedCount:r});else{const f=this._t(e);if(f!==r){const g=this.ut(t),v=g?this.ct(g,t,f):1;if(v!==0){this.it(e);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,y)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let f,g;try{f=$o(r).toUint8Array()}catch(v){if(v instanceof Ux)return Ec("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new fy(f,o,u)}catch(v){return Ec(v instanceof Lh?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&cv(g.target)){const v=new zt(g.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,oi.newNoDocument(v,t))}u.Be&&(e.set(f,u.ke()),u.qe())}}));let r=ge();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new cp(t,e,this.Ye,this.je,r);return this.je=Wa(),this.Je=Vd(),this.He=Vd(),this.Ye=new on(pe),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new PT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ln(pe),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ln(pe),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||It("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new PT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Vd(){return new on(zt.comparator)}function LT(){return new on(zt.comparator)}const Jk={asc:"ASCENDING",desc:"DESCENDING"},t5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e5={and:"AND",or:"OR"};class n5{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function dv(n,t){return n.useProto3Json||rp(t)?t:{value:t}}function Im(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _A(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function i5(n,t){return Im(n,t.toTimestamp())}function $s(n){return Pe(!!n,49232),Kt.fromTimestamp((function(e){const r=Xo(e);return new Xe(r.seconds,r.nanos)})(n))}function dy(n,t){return mv(n,t).canonicalString()}function mv(n,t){const e=(function(o){return new qe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function vA(n){const t=qe.fromString(n);return Pe(TA(t),10190,{key:t.toString()}),t}function pv(n,t){return dy(n.databaseId,t.path)}function R_(n,t){const e=vA(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new zt(bA(e))}function yA(n,t){return dy(n.databaseId,t)}function r5(n){const t=vA(n);return t.length===4?qe.emptyPath():bA(t)}function gv(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bA(n){return Pe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function MT(n,t,e){return{name:pv(n,t),fields:e.value.mapValue.fields}}function s5(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:qt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,S){return y.useProto3Json?(Pe(S===void 0||typeof S=="string",58123),Qn.fromBase64String(S||"")):(Pe(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Qn.fromUint8Array(S||new Uint8Array))})(n,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(y){const S=y.code===void 0?pt.UNKNOWN:mA(y.code);return new Ct(S,y.message||"")})(f);e=new gA(r,o,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=R_(n,r.document.name),u=$s(r.document.updateTime),f=r.document.createTime?$s(r.document.createTime):Kt.min(),g=new zi({mapValue:{fields:r.document.fields}}),v=oi.newFoundDocument(o,u,f,g),y=r.targetIds||[],S=r.removedTargetIds||[];e=new tm(y,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=R_(n,r.document),u=r.readTime?$s(r.readTime):Kt.min(),f=oi.newNoDocument(o,u),g=r.removedTargetIds||[];e=new tm([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=R_(n,r.document),u=r.removedTargetIds||[];e=new tm([],u,o,null)}else{if(!("filter"in t))return qt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new Kk(o,u),g=r.targetId;e=new pA(g,f)}}return e}function a5(n,t){let e;if(t instanceof yf)e={update:MT(n,t.key,t.value)};else if(t instanceof cy)e={delete:pv(n,t.key)};else if(t instanceof al)e={update:MT(n,t.key,t.data),updateMask:p5(t.fieldMask)};else{if(!(t instanceof Gk))return qt(16599,{Vt:t.type});e={verify:pv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof Cm)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tf)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ef)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Rm)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw qt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:i5(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:qt(27497)})(n,t.precondition)),e}function o5(n,t){return n&&n.length>0?(Pe(t!==void 0,14353),n.map((e=>(function(o,u){let f=o.updateTime?$s(o.updateTime):$s(u);return f.isEqual(Kt.min())&&(f=$s(u)),new Fk(f,o.transformResults||[])})(e,t)))):[]}function l5(n,t){return{documents:[yA(n,t.path)]}}function u5(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=yA(n,o);const u=(function(y){if(y.length!==0)return wA(ys.create(y,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((S=>(function(N){return{field:sc(N.field),direction:f5(N.dir)}})(S)))})(t.orderBy);f&&(e.structuredQuery.orderBy=f);const g=dv(n,t.limit);return g!==null&&(e.structuredQuery.limit=g),t.startAt&&(e.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:e,parent:o}}function c5(n){let t=r5(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Pe(r===1,65062);const S=e.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let u=[];e.where&&(u=(function(C){const N=EA(C);return N instanceof ys&&Xx(N)?N.getFilters():[N]})(e.where));let f=[];e.orderBy&&(f=(function(C){return C.map((N=>(function(H){return new Am(ac(H.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(N)))})(e.orderBy));let g=null;e.limit&&(g=(function(C){let N;return N=typeof C=="object"?C.value:C,rp(N)?null:N})(e.limit));let v=null;e.startAt&&(v=(function(C){const N=!!C.before,M=C.values||[];return new xm(M,N)})(e.startAt));let y=null;return e.endAt&&(y=(function(C){const N=!C.before,M=C.values||[];return new xm(M,N)})(e.endAt)),Ik(t,o,f,u,g,"F",v,y)}function h5(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function EA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=ac(e.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ac(e.unaryFilter.field);return In.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ac(e.unaryFilter.field);return In.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ac(e.unaryFilter.field);return In.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return In.create(ac(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ys.create(e.compositeFilter.filters.map((r=>EA(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qt(1026)}})(e.compositeFilter.op))})(n):qt(30097,{filter:n})}function f5(n){return Jk[n]}function d5(n){return t5[n]}function m5(n){return e5[n]}function sc(n){return{fieldPath:n.canonicalString()}}function ac(n){return Yn.fromServerFormat(n.fieldPath)}function wA(n){return n instanceof In?(function(e){if(e.op==="=="){if(ET(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NAN"}};if(bT(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ET(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NOT_NAN"}};if(bT(e.value))return{unaryFilter:{field:sc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(e.field),op:d5(e.op),value:e.value}}})(n):n instanceof ys?(function(e){const r=e.getFilters().map((o=>wA(o)));return r.length===1?r[0]:{compositeFilter:{op:m5(e.op),filters:r}}})(n):qt(54877,{filter:n})}function p5(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function TA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t,e,r,o,u=Kt.min(),f=Kt.min(),g=Qn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Ho(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(t){this.yt=t}}function _5(n){const t=c5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?fv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.Cn=new y5}addToCollectionParentIndex(t,e){return this.Cn.add(e),vt.resolve()}getCollectionParents(t,e){return vt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return vt.resolve()}deleteFieldIndex(t,e){return vt.resolve()}deleteAllFieldIndexes(t){return vt.resolve()}createTargetIndexes(t,e){return vt.resolve()}getDocumentsMatchingTarget(t,e){return vt.resolve(null)}getIndexType(t,e){return vt.resolve(0)}getFieldIndexes(t,e){return vt.resolve([])}getNextCollectionGroupToUpdate(t){return vt.resolve(null)}getMinOffset(t,e){return vt.resolve(Qo.min())}getMinOffsetFromCollectionGroup(t,e){return vt.resolve(Qo.min())}updateCollectionGroup(t,e,r){return vt.resolve()}updateIndexEntries(t,e){return vt.resolve()}}class y5{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Ln(qe.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ln(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SA=41943040;class ji{static withCacheSize(t){return new ji(t,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(SA,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new xc(0)}static cr(){return new xc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="LruGarbageCollector",b5=1048576;function jT([n,t],[e,r]){const o=pe(n,e);return o===0?pe(t,r):o}class E5{constructor(t){this.Ir=t,this.buffer=new Ln(jT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();jT(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class w5{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){It(kT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){jc(e)?It(kT,"Ignoring IndexedDB error during garbage collection: ",e):await kc(e)}await this.Vr(3e5)}))}}class T5{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return vt.resolve(ip.ce);const r=new E5(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(DT)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,f,g,v,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(t,o)))).next((C=>(r=C,g=Date.now(),this.removeTargets(t,r,e)))).next((C=>(u=C,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((C=>(y=Date.now(),ic()<=me.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-S}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(v-g)+`ms
	Removed ${C} documents in `+(y-v)+`ms
Total Duration: ${y-S}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C}))))}}function S5(n,t){return new T5(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.changes=new fu((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,oi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?vt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&Hh(r.mutation,o,or.empty(),Xe.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,ge()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=ge()){const o=Gl();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let f=Ph();return u.forEach(((g,v)=>{f=f.insert(g,v.overlayedDocument)})),f}))))}getOverlayedDocuments(t,e){const r=Gl();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,ge())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,g)=>{e.set(f,g)}))}))}computeViews(t,e,r,o){let u=Wa();const f=Fh(),g=(function(){return Fh()})();return e.forEach(((v,y)=>{const S=r.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof al)?u=u.insert(y.key,y):S!==void 0?(f.set(y.key,S.mutation.getFieldMask()),Hh(S.mutation,y,S.mutation.getFieldMask(),Xe.now())):f.set(y.key,or.empty())})),this.recalculateAndSaveOverlays(t,u).next((v=>(v.forEach(((y,S)=>f.set(y,S))),e.forEach(((y,S)=>g.set(y,new A5(S,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,e){const r=Fh();let o=new on(((f,g)=>f-g)),u=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((f=>{for(const g of f)g.keys().forEach((v=>{const y=e.get(v);if(y===null)return;let S=r.get(v)||or.empty();S=g.applyToLocalView(y,S),r.set(v,S);const C=(o.get(g.batchId)||ge()).add(v);o=o.insert(g.batchId,C)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,S=v.value,C=aA();S.forEach((N=>{if(!u.has(N)){const M=fA(e.get(N),r.get(N));M!==null&&C.set(N,M),u=u.add(N)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,C))}return vt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(f){return zt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):eA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):vt.resolve(Gl());let g=Qh,v=u;return f.next((y=>vt.forEach(y,((S,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),u.get(S)?vt.resolve():this.remoteDocumentCache.getEntry(t,S).next((N=>{v=v.insert(S,N)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,v,y,ge()))).next((S=>({batchId:g,changes:sA(S)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new zt(e)).next((r=>{let o=Ph();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let f=Ph();return this.indexManager.getCollectionParents(t,u).next((g=>vt.forEach(g,(v=>{const y=(function(C,N){return new vf(N,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(e,v.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((S=>{S.forEach(((C,N)=>{f=f.insert(C,N)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((f=>{u.forEach(((v,y)=>{const S=y.getKey();f.get(S)===null&&(f=f.insert(S,oi.newInvalidDocument(S)))}));let g=Ph();return f.forEach(((v,y)=>{const S=u.get(v);S!==void 0&&Hh(S.mutation,y,or.empty(),Xe.now()),op(e,y)&&(g=g.insert(v,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return vt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:$s(o.createTime)}})(e)),vt.resolve()}getNamedQuery(t,e){return vt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:_5(o.bundledQuery),readTime:$s(o.readTime)}})(e)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this.overlays=new on(zt.comparator),this.qr=new Map}getOverlay(t,e){return vt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Gl();return vt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),vt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),vt.resolve()}getOverlaysForCollection(t,e,r){const o=Gl(),u=e.length+1,f=new zt(e.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return vt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new on(((y,S)=>y-S));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>r){let S=u.get(y.largestBatchId);S===null&&(S=Gl(),u=u.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Gl(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return vt.resolve(g)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Wk(e,r));let u=this.qr.get(e);u===void 0&&(u=ge(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(t){return vt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.Qr=new Ln(Fn.$r),this.Ur=new Ln(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Fn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Fn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new zt(new qe([])),r=new Fn(e,t),o=new Fn(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new zt(new qe([])),r=new Fn(e,t),o=new Fn(e,t+1);let u=ge();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const e=new Fn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Fn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return zt.comparator(t.key,e.key)||pe(t.Yr,e.Yr)}static Kr(t,e){return pe(t.Yr,e.Yr)||zt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ln(Fn.$r)}checkEmpty(t){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Zk(u,e,r,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Fn(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return vt.resolve(f)}lookupMutationBatch(t,e){return vt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return vt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?iy:this.tr-1)}getAllMutationBatches(t){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Fn(e,0),o=new Fn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),vt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ln(pe);return e.forEach((o=>{const u=new Fn(o,0),f=new Fn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),vt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;zt.isDocumentKey(u)||(u=u.child(""));const f=new Fn(new zt(u),0);let g=new Ln(pe);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),f),vt.resolve(this.ti(g))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Pe(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return vt.forEach(e.mutations,(o=>{const u=new Fn(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Fn(e,0),o=this.Zr.firstAfterOrEqual(r);return vt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,vt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(t){this.ri=t,this.docs=(function(){return new on(zt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return vt.resolve(r?r.document.mutableCopy():oi.newInvalidDocument(e))}getEntries(t,e){let r=Wa();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():oi.newInvalidDocument(o))})),vt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Wa();const f=e.path,g=new zt(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:S}}=v.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||ok(ak(S),r)<=0||(o.has(S.key)||op(e,S))&&(u=u.insert(S.key,S.mutableCopy()))}return vt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){qt(9500)}ii(t,e){return vt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new L5(this)}getSize(t){return vt.resolve(this.size)}}class L5 extends x5{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),vt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(t){this.persistence=t,this.si=new fu((e=>ay(e)),oy),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.oi=0,this._i=new my,this.targetCount=0,this.ai=xc.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),vt.resolve()}getLastRemoteSnapshotVersion(t){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return vt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),vt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new xc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,vt.resolve()}updateTargetData(t,e){return this.Pr(e),vt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,vt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=e&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),vt.waitFor(u).next((()=>o))}getTargetCount(t){return vt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return vt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),vt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),vt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),vt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return vt.resolve(r)}containsKey(t,e){return vt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(t,e){this.ui={},this.overlays={},this.ci=new ip(0),this.li=!1,this.li=!0,this.hi=new O5,this.referenceDelegate=t(this),this.Pi=new M5(this),this.indexManager=new v5,this.remoteDocumentCache=(function(o){return new P5(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new g5(e),this.Ii=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new I5,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new N5(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){It("MemoryPersistence","Starting transaction:",t);const o=new D5(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return vt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class D5 extends uk{constructor(t){super(),this.currentSequenceNumber=t}}class py{constructor(t){this.persistence=t,this.Ri=new my,this.Vi=null}static mi(t){return new py(t)}get fi(){if(this.Vi)return this.Vi;throw qt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),vt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),vt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),vt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.fi,(r=>{const o=zt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Kt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return vt.or([()=>vt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Om{constructor(t,e){this.persistence=t,this.pi=new fu((r=>fk(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=S5(this,e)}static mi(t,e){return new Om(t,e)}Ei(){}di(t){return vt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return vt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?vt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,e).next((g=>{g||(r++,u.removeEntry(f,Kt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),vt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),vt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),vt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),vt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Xd(t.data.value)),e}br(t,e,r){return vt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return vt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=ge(),o=ge();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new gy(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lP()?8:ck(li())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new k5;return this.Ss(t,e,f).next((g=>{if(u.result=g,this.Vs)return this.bs(t,e,f,g.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(ic()<=me.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",rc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),vt.resolve()):(ic()<=me.DEBUG&&It("QueryEngine","Query:",rc(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ic()<=me.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",rc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Xs(e))):vt.resolve())}ys(t,e){if(xT(e))return vt.resolve(null);let r=Xs(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=fv(e,null,"F"),r=Xs(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=ge(...u);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,r).next((v=>{const y=this.Ds(e,g);return this.Cs(e,y,f,v.readTime)?this.ys(t,fv(e,null,"F")):this.vs(t,y,e,v)}))))})))))}ws(t,e,r,o){return xT(e)||o.isEqual(Kt.min())?vt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(e,u);return this.Cs(e,f,r,o)?vt.resolve(null):(ic()<=me.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),rc(e)),this.vs(t,f,e,sk(o,Qh)).next((g=>g)))}))}Ds(t,e){let r=new Ln(iA(t));return e.forEach(((o,u)=>{op(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return ic()<=me.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",rc(e)),this.ps.getDocumentsMatchingQuery(t,e,Qo.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LocalStore",V5=3e8;class z5{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new on(pe),this.xs=new fu((u=>ay(u)),oy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new C5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function B5(n,t,e,r){return new z5(n,t,e,r)}async function AA(n,t){const e=Xt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let v=ge();for(const y of o){f.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}for(const y of u){g.push(y.batchId);for(const S of y.mutations)v=v.add(S.key)}return e.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function U5(n,t){const e=Xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,S){const C=y.batch,N=C.keys();let M=vt.resolve();return N.forEach((H=>{M=M.next((()=>S.getEntry(v,H))).next((Y=>{const K=y.docVersions.get(H);Pe(K!==null,48541),Y.version.compareTo(K)<0&&(C.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),S.addEntry(Y)))}))})),M.next((()=>g.mutationQueue.removeMutationBatch(v,C)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=ge();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function CA(n){const t=Xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function F5(n,t){const e=Xt(n),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const g=[];t.targetChanges.forEach(((S,C)=>{const N=o.get(C);if(!N)return;g.push(e.Pi.removeMatchingKeys(u,S.removedDocuments,C).next((()=>e.Pi.addMatchingKeys(u,S.addedDocuments,C))));let M=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(C)!==null?M=M.withResumeToken(Qn.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):S.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(S.resumeToken,r)),o=o.insert(C,M),(function(Y,K,ht){return Y.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=V5?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(N,M,S)&&g.push(e.Pi.updateTargetData(u,M))}));let v=Wa(),y=ge();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(u,S))})),g.push(H5(u,f,t.documentUpdates).next((S=>{v=S.ks,y=S.qs}))),!r.isEqual(Kt.min())){const S=e.Pi.getLastRemoteSnapshotVersion(u).next((C=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(S)}return vt.waitFor(g).next((()=>f.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,v,y))).next((()=>v))})).then((u=>(e.Ms=o,u)))}function H5(n,t,e){let r=ge(),o=ge();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let f=Wa();return e.forEach(((g,v)=>{const y=u.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Kt.min())?(t.removeEntry(g,v.readTime),f=f.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),f=f.insert(g,v)):It(_y,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function q5(n,t){const e=Xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=iy),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function G5(n,t){const e=Xt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,vt.resolve(o)):e.Pi.allocateTargetId(r).next((f=>(o=new Ho(t,f,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function _v(n,t,e){const r=Xt(n),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!jc(f))throw f;It(_y,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function VT(n,t,e){const r=Xt(n);let o=Kt.min(),u=ge();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,y,S){const C=Xt(v),N=C.xs.get(S);return N!==void 0?vt.resolve(C.Ms.get(N)):C.Pi.getTargetData(y,S)})(r,f,Xs(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((v=>{u=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,e?o:Kt.min(),e?u:ge()))).next((g=>(Z5(r,Nk(t),g),{documents:g,Qs:u})))))}function Z5(n,t,e){let r=n.Os.get(t)||Kt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class zT{constructor(){this.activeTargetIds=jk()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class W5{constructor(){this.Mo=new zT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new zT,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="ConnectivityMonitor";class UT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){It(BT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){It(BT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function vv(){return zd===null?zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="RestConnection",Y5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Q5{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Tm?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const f=vv(),g=this.zo(t,e.toUriEncodedString());It(I_,`Sending RPC '${t}' ${f}:`,g,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,u);const{host:y}=new URL(g),S=Pc(y);return this.Jo(t,g,v,r,S).then((C=>(It(I_,`Received RPC '${t}' ${f}: `,C),C)),(C=>{throw Ec(I_,`RPC '${t}' ${f} failed with error: `,C,"url: ",g,"request:",r),C}))}Ho(t,e,r,o,u,f){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=Y5[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="WebChannelConnection";class $5 extends Q5{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const f=vv();return new Promise(((g,v)=>{const y=new Ox;y.setWithCredentials(!0),y.listenOnce(Nx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qd.NO_ERROR:const C=y.getResponseJson();It(si,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(C)),g(C);break;case Qd.TIMEOUT:It(si,`RPC '${t}' ${f} timed out`),v(new Ct(pt.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const N=y.getStatus();if(It(si,`RPC '${t}' ${f} failed with status:`,N,"response text:",y.getResponseText()),N>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const H=M==null?void 0:M.error;if(H&&H.status&&H.message){const Y=(function(ht){const Et=ht.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Et)>=0?Et:pt.UNKNOWN})(H.status);v(new Ct(Y,H.message))}else v(new Ct(pt.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new Ct(pt.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{It(si,`RPC '${t}' ${f} completed.`)}}));const S=JSON.stringify(o);It(si,`RPC '${t}' ${f} sending request:`,o),y.send(e,"POST",S,r,15)}))}T_(t,e,r){const o=vv(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Mx(),g=Lx(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,e,r),v.encodeInitMessageHeaders=!0;const S=u.join("");It(si,`Creating RPC '${t}' stream ${o}: ${S}`,v);const C=f.createWebChannel(S,v);this.I_(C);let N=!1,M=!1;const H=new X5({Yo:K=>{M?It(si,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(N||(It(si,`Opening RPC '${t}' stream ${o} transport.`),C.open(),N=!0),It(si,`RPC '${t}' stream ${o} sending:`,K),C.send(K))},Zo:()=>C.close()}),Y=(K,ht,Et)=>{K.listen(ht,(lt=>{try{Et(lt)}catch(xt){setTimeout((()=>{throw xt}),0)}}))};return Y(C,Nh.EventType.OPEN,(()=>{M||(It(si,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),Y(C,Nh.EventType.CLOSE,(()=>{M||(M=!0,It(si,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(C))})),Y(C,Nh.EventType.ERROR,(K=>{M||(M=!0,Ec(si,`RPC '${t}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),H.a_(new Ct(pt.UNAVAILABLE,"The operation could not be completed")))})),Y(C,Nh.EventType.MESSAGE,(K=>{var ht;if(!M){const Et=K.data[0];Pe(!!Et,16349);const lt=Et,xt=(lt==null?void 0:lt.error)||((ht=lt[0])==null?void 0:ht.error);if(xt){It(si,`RPC '${t}' stream ${o} received error:`,xt);const Nt=xt.status;let Dt=(function(j){const G=Rn[j];if(G!==void 0)return mA(G)})(Nt),k=xt.message;Dt===void 0&&(Dt=pt.INTERNAL,k="Unknown error status: "+Nt+" with message "+xt.message),M=!0,H.a_(new Ct(Dt,k)),C.close()}else It(si,`RPC '${t}' stream ${o} received:`,Et),H.u_(Et)}})),Y(g,Px.STAT_EVENT,(K=>{K.stat===sv.PROXY?It(si,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===sv.NOPROXY&&It(si,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function O_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n){return new n5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&It("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="PersistentStream";class IA{constructor(t,e,r,o,u,f,g,v){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===pt.RESOURCE_EXHAUSTED?(Za(e.toString()),Za("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new Ct(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return It(FT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(It(FT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class J5 extends IA{constructor(t,e,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,f),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=s5(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Kt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Kt.min():f.readTime?$s(f.readTime):Kt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=gv(this.serializer),e.addTarget=(function(u,f){let g;const v=f.target;if(g=cv(v)?{documents:l5(u,v)}:{query:u5(u,v).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=_A(u,f.resumeToken);const y=dv(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Kt.min())>0){g.readTime=Im(u,f.snapshotVersion.toTimestamp());const y=dv(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=h5(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=gv(this.serializer),e.removeTarget=t,this.q_(e)}}class tj extends IA{constructor(t,e,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Pe(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Pe(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Pe(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=o5(t.writeResults,t.commitTime),r=$s(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=gv(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>a5(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{}class nj extends ej{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ct(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,mv(e,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ct(pt.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,mv(e,r),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ct(pt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ij{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Za(e),this.aa=!1):It("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="RemoteStore";class rj{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{du(this)&&(It(nu,"Restarting streams for network reachability change."),await(async function(v){const y=Xt(v);y.Ea.add(4),await Ef(y),y.Ra.set("Unknown"),y.Ea.delete(4),await fp(y)})(this))}))})),this.Ra=new ij(r,o)}}async function fp(n){if(du(n))for(const t of n.da)await t(!0)}async function Ef(n){for(const t of n.da)await t(!1)}function OA(n,t){const e=Xt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ey(e)?by(e):Vc(e).O_()&&yy(e,t))}function vy(n,t){const e=Xt(n),r=Vc(e);e.Ia.delete(t),r.O_()&&NA(e,t),e.Ia.size===0&&(r.O_()?r.L_():du(e)&&e.Ra.set("Unknown"))}function yy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Kt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Vc(n).Y_(t)}function NA(n,t){n.Va.Ue(t),Vc(n).Z_(t)}function by(n){n.Va=new $k({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Vc(n).start(),n.Ra.ua()}function Ey(n){return du(n)&&!Vc(n).x_()&&n.Ia.size>0}function du(n){return Xt(n).Ea.size===0}function PA(n){n.Va=void 0}async function sj(n){n.Ra.set("Online")}async function aj(n){n.Ia.forEach(((t,e)=>{yy(n,t)}))}async function oj(n,t){PA(n),Ey(n)?(n.Ra.ha(t),by(n)):n.Ra.set("Unknown")}async function lj(n,t,e){if(n.Ra.set("Online"),t instanceof gA&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(n,t)}catch(r){It(nu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Nm(n,r)}else if(t instanceof tm?n.Va.Ze(t):t instanceof pA?n.Va.st(t):n.Va.tt(t),!e.isEqual(Kt.min()))try{const r=await CA(n.localStore);e.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const S=u.Ia.get(y);S&&u.Ia.set(y,S.withResumeToken(v.resumeToken,f))}})),g.targetMismatches.forEach(((v,y)=>{const S=u.Ia.get(v);if(!S)return;u.Ia.set(v,S.withResumeToken(Qn.EMPTY_BYTE_STRING,S.snapshotVersion)),NA(u,v);const C=new Ho(S.target,v,y,S.sequenceNumber);yy(u,C)})),u.remoteSyncer.applyRemoteEvent(g)})(n,e)}catch(r){It(nu,"Failed to raise snapshot:",r),await Nm(n,r)}}async function Nm(n,t,e){if(!jc(t))throw t;n.Ea.add(1),await Ef(n),n.Ra.set("Offline"),e||(e=()=>CA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{It(nu,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await fp(n)}))}function LA(n,t){return t().catch((e=>Nm(n,e,t)))}async function dp(n){const t=Xt(n),e=tl(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:iy;for(;uj(t);)try{const o=await q5(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,cj(t,o)}catch(o){await Nm(t,o)}MA(t)&&DA(t)}function uj(n){return du(n)&&n.Ta.length<10}function cj(n,t){n.Ta.push(t);const e=tl(n);e.O_()&&e.X_&&e.ea(t.mutations)}function MA(n){return du(n)&&!tl(n).x_()&&n.Ta.length>0}function DA(n){tl(n).start()}async function hj(n){tl(n).ra()}async function fj(n){const t=tl(n);for(const e of n.Ta)t.ea(e.mutations)}async function dj(n,t,e){const r=n.Ta.shift(),o=hy.from(r,t,e);await LA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await dp(n)}async function mj(n,t){t&&tl(n).X_&&await(async function(r,o){if((function(f){return Yk(f)&&f!==pt.ABORTED})(o.code)){const u=r.Ta.shift();tl(r).B_(),await LA(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await dp(r)}})(n,t),MA(n)&&DA(n)}async function HT(n,t){const e=Xt(n);e.asyncQueue.verifyOperationInProgress(),It(nu,"RemoteStore received new credentials");const r=du(e);e.Ea.add(3),await Ef(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await fp(e)}async function pj(n,t){const e=Xt(n);t?(e.Ea.delete(2),await fp(e)):t||(e.Ea.add(2),await Ef(e),e.Ra.set("Unknown"))}function Vc(n){return n.ma||(n.ma=(function(e,r,o){const u=Xt(e);return u.sa(),new J5(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:sj.bind(null,n),t_:aj.bind(null,n),r_:oj.bind(null,n),H_:lj.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Ey(n)?by(n):n.Ra.set("Unknown")):(await n.ma.stop(),PA(n))}))),n.ma}function tl(n){return n.fa||(n.fa=(function(e,r,o){const u=Xt(e);return u.sa(),new tj(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:hj.bind(null,n),r_:mj.bind(null,n),ta:fj.bind(null,n),na:dj.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await dp(n)):(await n.fa.stop(),n.Ta.length>0&&(It(nu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const f=Date.now()+r,g=new wy(t,e,f,o,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(n,t){if(Za("AsyncQueue",`${t}: ${n}`),jc(n))return new Ct(pt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{static emptySet(t){return new dc(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||zt.comparator(e.key,r.key):(e,r)=>zt.comparator(e.key,r.key),this.keyedMap=Ph(),this.sortedSet=new on(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof dc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new dc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.ga=new on(zt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):qt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Ac{constructor(t,e,r,o,u,f,g,v,y){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,e,r,o,u){const f=[];return e.forEach((g=>{f.push({type:0,doc:g})})),new Ac(t,e,dc.emptySet(e),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ap(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _j{constructor(){this.queries=GT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Xt(e),u=o.queries;o.queries=GT(),u.forEach(((f,g)=>{for(const v of g.Sa)v.onError(r)}))})(this,new Ct(pt.ABORTED,"Firestore shutting down"))}}function GT(){return new fu((n=>nA(n)),ap)}async function kA(n,t){const e=Xt(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new gj,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const g=Ty(f,`Initialization of query '${rc(t.query)}' failed`);return void t.onError(g)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Sy(e)}async function jA(n,t){const e=Xt(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function vj(n,t){const e=Xt(n);let r=!1;for(const o of t){const u=o.query,f=e.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(r=!0);f.wa=o}}r&&Sy(e)}function yj(n,t,e){const r=Xt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Sy(n){n.Ca.forEach((t=>{t.next()}))}var yv,ZT;(ZT=yv||(yv={})).Ma="default",ZT.Cache="cache";class VA{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ac(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ac.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==yv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this.key=t}}class BA{constructor(t){this.key=t}}class bj{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=iA(t),this.tu=new dc(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new qT,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,f=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,C)=>{const N=o.get(S),M=op(this.query,C)?C:null,H=!!N&&this.mutatedKeys.has(N.key),Y=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let K=!1;N&&M?N.data.isEqual(M.data)?H!==Y&&(r.track({type:3,doc:M}),K=!0):this.su(N,M)||(r.track({type:2,doc:M}),K=!0,(v&&this.eu(M,v)>0||y&&this.eu(M,y)<0)&&(g=!0)):!N&&M?(r.track({type:0,doc:M}),K=!0):N&&!M&&(r.track({type:1,doc:N}),K=!0,(v||y)&&(g=!0)),K&&(M?(f=f.add(M),u=Y?u.add(S):u.delete(S)):(f=f.delete(S),u=u.delete(S)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((S,C)=>(function(M,H){const Y=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{Rt:K})}};return Y(M)-Y(H)})(S.type,C.type)||this.eu(S.doc,C.doc))),this.ou(r),o=o??!1;const g=e&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,f.length!==0||y?{snapshot:new Ac(this.query,t.tu,u,f,t.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new BA(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new zA(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=ge();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ac.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xy="SyncEngine";class Ej{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class wj{constructor(t){this.key=t,this.hu=!1}}class Tj{constructor(t,e,r,o,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new fu((g=>nA(g)),ap),this.Iu=new Map,this.Eu=new Set,this.du=new on(zt.comparator),this.Au=new Map,this.Ru=new my,this.Vu={},this.mu=new Map,this.fu=xc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Sj(n,t,e=!0){const r=ZA(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await UA(r,t,e,!0),o}async function xj(n,t){const e=ZA(n);await UA(e,t,!0,!1)}async function UA(n,t,e,r){const o=await G5(n.localStore,Xs(t)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,e);let g;return r&&(g=await Aj(n,t,u,f==="current",o.resumeToken)),n.isPrimaryClient&&e&&OA(n.remoteStore,o),g}async function Aj(n,t,e,r,o){n.pu=(C,N,M)=>(async function(Y,K,ht,Et){let lt=K.view.ru(ht);lt.Cs&&(lt=await VT(Y.localStore,K.query,!1).then((({documents:k})=>K.view.ru(k,lt))));const xt=Et&&Et.targetChanges.get(K.targetId),Nt=Et&&Et.targetMismatches.get(K.targetId)!=null,Dt=K.view.applyChanges(lt,Y.isPrimaryClient,xt,Nt);return KT(Y,K.targetId,Dt.au),Dt.snapshot})(n,C,N,M);const u=await VT(n.localStore,t,!0),f=new bj(t,u.Qs),g=f.ru(u.documents),v=bf.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),y=f.applyChanges(g,n.isPrimaryClient,v);KT(n,e,y.au);const S=new Ej(t,e,f);return n.Tu.set(t,S),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),y.snapshot}async function Cj(n,t,e){const r=Xt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!ap(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await _v(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&vy(r.remoteStore,o.targetId),bv(r,o.targetId)})).catch(kc)):(bv(r,o.targetId),await _v(r.localStore,o.targetId,!0))}async function Rj(n,t){const e=Xt(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),vy(e.remoteStore,r.targetId))}async function Ij(n,t,e){const r=kj(n);try{const o=await(function(f,g){const v=Xt(f),y=Xe.now(),S=g.reduce(((M,H)=>M.add(H.key)),ge());let C,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let H=Wa(),Y=ge();return v.Ns.getEntries(M,S).next((K=>{H=K,H.forEach(((ht,Et)=>{Et.isValidDocument()||(Y=Y.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(M,H))).next((K=>{C=K;const ht=[];for(const Et of g){const lt=qk(Et,C.get(Et.key).overlayedDocument);lt!=null&&ht.push(new al(Et.key,lt,Kx(lt.value.mapValue),zr.exists(!0)))}return v.mutationQueue.addMutationBatch(M,y,ht,g)})).next((K=>{N=K;const ht=K.applyToLocalDocumentSet(C,Y);return v.documentOverlayCache.saveOverlays(M,K.batchId,ht)}))})).then((()=>({batchId:N.batchId,changes:sA(C)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,g,v){let y=f.Vu[f.currentUser.toKey()];y||(y=new on(pe)),y=y.insert(g,v),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,e),await wf(r,o.changes),await dp(r.remoteStore)}catch(o){const u=Ty(o,"Failed to persist write");e.reject(u)}}async function FA(n,t){const e=Xt(n);try{const r=await F5(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=e.Au.get(u);f&&(Pe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Pe(f.hu,14607):o.removedDocuments.size>0&&(Pe(f.hu,42227),f.hu=!1))})),await wf(e,r,t)}catch(r){await kc(r)}}function WT(n,t,e){const r=Xt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const v=Xt(f);v.onlineState=g;let y=!1;v.queries.forEach(((S,C)=>{for(const N of C.Sa)N.va(g)&&(y=!0)})),y&&Sy(v)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Oj(n,t,e){const r=Xt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new on(zt.comparator);f=f.insert(u,oi.newNoDocument(u,Kt.min()));const g=ge().add(u),v=new cp(Kt.min(),new Map,new on(pe),f,g);await FA(r,v),r.du=r.du.remove(u),r.Au.delete(t),Ay(r)}else await _v(r.localStore,t,!1).then((()=>bv(r,t,e))).catch(kc)}async function Nj(n,t){const e=Xt(n),r=t.batch.batchId;try{const o=await U5(e.localStore,t);qA(e,r,null),HA(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await wf(e,o)}catch(o){await kc(o)}}async function Pj(n,t,e){const r=Xt(n);try{const o=await(function(f,g){const v=Xt(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return v.mutationQueue.lookupMutationBatch(y,g).next((C=>(Pe(C!==null,37113),S=C.keys(),v.mutationQueue.removeMutationBatch(y,C)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>v.localDocuments.getDocuments(y,S)))}))})(r.localStore,t);qA(r,t,e),HA(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await wf(r,o)}catch(o){await kc(o)}}function HA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function qA(n,t,e){const r=Xt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function bv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||GA(n,r)}))}function GA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(vy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Ay(n))}function KT(n,t,e){for(const r of e)r instanceof zA?(n.Ru.addReference(r.key,t),Lj(n,r)):r instanceof BA?(It(xy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||GA(n,r.key)):qt(19791,{wu:r})}function Lj(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(It(xy,"New document in limbo: "+e),n.Eu.add(r),Ay(n))}function Ay(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new zt(qe.fromString(t)),r=n.fu.next();n.Au.set(r,new wj(e)),n.du=n.du.insert(e,r),OA(n.remoteStore,new Ho(Xs(ly(e.path)),r,"TargetPurposeLimboResolution",ip.ce))}}async function wf(n,t,e){const r=Xt(n),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{f.push(r.pu(v,t,e).then((y=>{var S;if((y||e)&&r.isPrimaryClient){const C=y?!y.fromCache:(S=e==null?void 0:e.targetChanges.get(v.targetId))==null?void 0:S.current;r.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(y){o.push(y);const C=gy.As(v.targetId,y);u.push(C)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(v,y){const S=Xt(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>vt.forEach(y,(N=>vt.forEach(N.Es,(M=>S.persistence.referenceDelegate.addReference(C,N.targetId,M))).next((()=>vt.forEach(N.ds,(M=>S.persistence.referenceDelegate.removeReference(C,N.targetId,M)))))))))}catch(C){if(!jc(C))throw C;It(_y,"Failed to update sequence numbers: "+C)}for(const C of y){const N=C.targetId;if(!C.fromCache){const M=S.Ms.get(N),H=M.snapshotVersion,Y=M.withLastLimboFreeSnapshotVersion(H);S.Ms=S.Ms.insert(N,Y)}}})(r.localStore,u))}async function Mj(n,t){const e=Xt(n);if(!e.currentUser.isEqual(t)){It(xy,"User change. New user:",t.toKey());const r=await AA(e.localStore,t);e.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((v=>{v.reject(new Ct(pt.CANCELLED,f))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wf(e,r.Ls)}}function Dj(n,t){const e=Xt(n),r=e.Au.get(t);if(r&&r.hu)return ge().add(r.key);{let o=ge();const u=e.Iu.get(t);if(!u)return o;for(const f of u){const g=e.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function ZA(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Oj.bind(null,t),t.Pu.H_=vj.bind(null,t.eventManager),t.Pu.yu=yj.bind(null,t.eventManager),t}function kj(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Nj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pj.bind(null,t),t}class Pm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return B5(this.persistence,new j5,t.initialUser,this.serializer)}Cu(t){return new xA(py.mi,this.serializer)}Du(t){return new W5}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pm.provider={build:()=>new Pm};class jj extends Pm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Pe(this.persistence.referenceDelegate instanceof Om,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new w5(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?ji.withCacheSize(this.cacheSizeBytes):ji.DEFAULT;return new xA((r=>Om.mi(r,e)),this.serializer)}}class Ev{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mj.bind(null,this.syncEngine),await pj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _j})()}createDatastore(t){const e=hp(t.databaseInfo.databaseId),r=(function(u){return new $5(u)})(t.databaseInfo);return(function(u,f,g,v){return new nj(u,f,g,v)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,f,g){return new rj(r,o,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(e=>WT(this.syncEngine,e,0)),(function(){return UT.v()?new UT:new K5})())}createSyncEngine(t,e){return(function(o,u,f,g,v,y,S){const C=new Tj(o,u,f,g,v,y);return S&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(o){const u=Xt(o);It(nu,"RemoteStore shutting down."),u.Ea.add(5),await Ef(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}Ev.provider={build:()=>new Ev};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Za("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="FirestoreClient";class Vj{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=ai.UNAUTHENTICATED,this.clientId=ny.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{It(el,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(It(el,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Ty(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function N_(n,t){n.asyncQueue.verifyOperationInProgress(),It(el,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await AA(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function YT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await zj(n);It(el,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>HT(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>HT(t.remoteStore,o))),n._onlineComponents=t}async function zj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){It(el,"Using user provided OfflineComponentProvider");try{await N_(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===pt.FAILED_PRECONDITION||o.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;Ec("Error using user provided cache. Falling back to memory cache: "+e),await N_(n,new Pm)}}else It(el,"Using default OfflineComponentProvider"),await N_(n,new jj(void 0));return n._offlineComponents}async function KA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(It(el,"Using user provided OnlineComponentProvider"),await YT(n,n._uninitializedComponentsProvider._online)):(It(el,"Using default OnlineComponentProvider"),await YT(n,new Ev))),n._onlineComponents}function Bj(n){return KA(n).then((t=>t.syncEngine))}async function YA(n){const t=await KA(n),e=t.eventManager;return e.onListen=Sj.bind(null,t.syncEngine),e.onUnlisten=Cj.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=xj.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Rj.bind(null,t.syncEngine),e}function Uj(n,t,e={}){const r=new za;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,y){const S=new WA({next:N=>{S.Nu(),f.enqueueAndForget((()=>jA(u,C)));const M=N.docs.has(g);!M&&N.fromCache?y.reject(new Ct(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&N.fromCache&&v&&v.source==="server"?y.reject(new Ct(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),C=new VA(ly(g.path),S,{includeMetadataChanges:!0,qa:!0});return kA(u,C)})(await YA(n),n.asyncQueue,t,e,r))),r.promise}function Fj(n,t,e={}){const r=new za;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,y){const S=new WA({next:N=>{S.Nu(),f.enqueueAndForget((()=>jA(u,C))),N.fromCache&&v.source==="server"?y.reject(new Ct(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),C=new VA(g,S,{includeMetadataChanges:!0,qa:!0});return kA(u,C)})(await YA(n),n.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firestore.googleapis.com",XT=!0;class $T{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XA,this.ssl=XT}else this.host=t.host,this.ssl=t.ssl??XT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<b5)throw new Ct(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QA(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ct(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ct(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ct(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mp{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $T(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new KD;switch(r.type){case"firstParty":return new $D(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=QT.get(e);r&&(It("ComponentProvider","Removing Datastore"),QT.delete(e),r.terminate())})(this),Promise.resolve()}}function Hj(n,t,e,r={}){var y;n=vs(n,mp);const o=Pc(t),u=n._getSettings(),f={...u,emulatorOptions:n._getEmulatorOptions()},g=`${t}:${e}`;o&&(j1(`https://${g}`),V1("Firestore",!0)),u.host!==XA&&u.host!==g&&Ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:g,ssl:o,emulatorOptions:r};if(!Yo(v,f)&&(n._setSettings(v),r.mockUserToken)){let S,C;if(typeof r.mockUserToken=="string")S=r.mockUserToken,C=ai.MOCK_USER;else{S=tP(r.mockUserToken,(y=n._app)==null?void 0:y.options.projectId);const N=r.mockUserToken.sub||r.mockUserToken.user_id;if(!N)throw new Ct(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new ai(N)}n._authCredentials=new YD(new kx(S,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zc(this.firestore,t,this._query)}}class yn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(_f(e,yn._jsonSchema))return new yn(t,r||null,new zt(qe.fromString(e.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:On("string",yn._jsonSchemaVersion),referencePath:On("string")};class Wo extends zc{constructor(t,e,r){super(t,e,ly(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new zt(t))}withConverter(t){return new Wo(this.firestore,t,this._path)}}function Zl(n,t,...e){if(n=an(n),jx("collection","path",t),n instanceof mp){const r=qe.fromString(t,...e);return hT(r),new Wo(n,null,r)}{if(!(n instanceof yn||n instanceof Wo))throw new Ct(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(t,...e));return hT(r),new Wo(n.firestore,null,r)}}function Da(n,t,...e){if(n=an(n),arguments.length===1&&(t=ny.newId()),jx("doc","path",t),n instanceof mp){const r=qe.fromString(t,...e);return cT(r),new yn(n,null,new zt(r))}{if(!(n instanceof yn||n instanceof Wo))throw new Ct(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(t,...e));return cT(r),new yn(n.firestore,n instanceof Wo?n.converter:null,new zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="AsyncQueue";class tS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RA(this,"async_queue_retry"),this._c=()=>{const r=O_();r&&It(JT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=O_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=O_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new za;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jc(t))throw t;It(JT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Za("INTERNAL UNHANDLED ERROR: ",eS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=wy.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&qt(47125,{Pc:eS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function eS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class mu extends mp{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new tS,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new tS(t),this._firestoreClient=void 0,await t}}}function qj(n,t){const e=typeof n=="object"?n:qv(),r=typeof n=="string"?n:Tm,o=hu(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=$N("firestore");u&&Hj(o,...u)}return o}function Cy(n){if(n._terminated)throw new Ct(pt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Gj(n),n._firestoreClient}function Gj(n){var r,o,u;const t=n._freezeSettings(),e=(function(g,v,y,S){return new pk(g,v,y,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,QA(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Vj(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dr(Qn.fromBase64String(t))}catch(e){throw new Ct(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Dr(Qn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_f(t,Dr._jsonSchema))return Dr.fromBase64String(t.bytes)}}Dr._jsonSchemaVersion="firestore/bytes/1.0",Dr._jsonSchema={type:On("string",Dr._jsonSchemaVersion),bytes:On("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pe(this._lat,t._lat)||pe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(t){if(_f(t,Js._jsonSchema))return new Js(t.latitude,t.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:On("string",Js._jsonSchemaVersion),latitude:On("number"),longitude:On("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_f(t,ta._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ta(t.vectorValues);throw new Ct(pt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ta._jsonSchemaVersion="firestore/vectorValue/1.0",ta._jsonSchema={type:On("string",ta._jsonSchemaVersion),vectorValues:On("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=/^__.*__$/;class Wj{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new al(t,this.data,this.fieldMask,e,this.fieldTransforms):new yf(t,this.data,e,this.fieldTransforms)}}class $A{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new al(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function JA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{Ac:n})}}class Iy{constructor(t,e,r,o,u,f){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Iy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Lm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JA(this.Ac)&&Zj.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Kj{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||hp(t)}Cc(t,e,r,o=!1){return new Iy({Ac:t,methodName:e,Dc:r,path:Yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(n){const t=n._freezeSettings(),e=hp(n._databaseId);return new Kj(n._databaseId,!!t.ignoreUndefinedProperties,e)}function tC(n,t,e,r,o,u={}){const f=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);Oy("Data must be an object, but it was:",f,r);const g=eC(r,f);let v,y;if(u.merge)v=new or(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const S=[];for(const C of u.mergeFields){const N=wv(t,C,e);if(!f.contains(N))throw new Ct(pt.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);iC(S,N)||S.push(N)}v=new or(S),y=f.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,y=f.fieldTransforms;return new Wj(new zi(g),v,y)}class _p extends Ry{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _p}}function Yj(n,t,e,r){const o=n.Cc(1,t,e);Oy("Data must be an object, but it was:",o,r);const u=[],f=zi.empty();sl(r,((v,y)=>{const S=Ny(t,v,e);y=an(y);const C=o.yc(S);if(y instanceof _p)u.push(S);else{const N=Tf(y,C);N!=null&&(u.push(S),f.set(S,N))}}));const g=new or(u);return new $A(f,g,o.fieldTransforms)}function Qj(n,t,e,r,o,u){const f=n.Cc(1,t,e),g=[wv(t,r,e)],v=[o];if(u.length%2!=0)throw new Ct(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(wv(t,u[N])),v.push(u[N+1]);const y=[],S=zi.empty();for(let N=g.length-1;N>=0;--N)if(!iC(y,g[N])){const M=g[N];let H=v[N];H=an(H);const Y=f.yc(M);if(H instanceof _p)y.push(M);else{const K=Tf(H,Y);K!=null&&(y.push(M),S.set(M,K))}}const C=new or(y);return new $A(S,C,f.fieldTransforms)}function Xj(n,t,e,r=!1){return Tf(e,n.Cc(r?4:3,t))}function Tf(n,t){if(nC(n=an(n)))return Oy("Unsupported field value:",t,n),eC(n,t);if(n instanceof Ry)return(function(r,o){if(!JA(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const g of r){let v=Tf(g,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),f++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vk(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Xe.fromDate(r);return{timestampValue:Im(o.serializer,u)}}if(r instanceof Xe){const u=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Im(o.serializer,u)}}if(r instanceof Js)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dr)return{bytesValue:_A(o.serializer,r._byteString)};if(r instanceof yn){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ta)return(function(f,g){return{mapValue:{fields:{[Zx]:{stringValue:Wx},[Sm]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return uy(g.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${np(r)}`)})(n,t)}function eC(n,t){const e={};return Bx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sl(n,((r,o)=>{const u=Tf(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function nC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof Js||n instanceof Dr||n instanceof yn||n instanceof Ry||n instanceof ta)}function Oy(n,t,e){if(!nC(e)||!Vx(e)){const r=np(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function wv(n,t,e){if((t=an(t))instanceof pp)return t._internalPath;if(typeof t=="string")return Ny(n,t);throw Lm("Field path arguments must be of type string or ",n,!1,void 0,e)}const $j=new RegExp("[~\\*/\\[\\]]");function Ny(n,t,e){if(t.search($j)>=0)throw Lm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new pp(...t.split("."))._internalPath}catch{throw Lm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Lm(n,t,e,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;e&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||f)&&(v+=" (found",u&&(v+=` in field ${r}`),f&&(v+=` in document ${o}`),v+=")"),new Ct(pt.INVALID_ARGUMENT,g+n+v)}function iC(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Jj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Py("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Jj extends rC{data(){return super.data()}}function Py(n,t){return typeof t=="string"?Ny(n,t):t instanceof pp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ct(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ly{}class e4 extends Ly{}function n4(n,t,...e){let r=[];t instanceof Ly&&r.push(t),r=r.concat(e),(function(u){const f=u.filter((v=>v instanceof My)).length,g=u.filter((v=>v instanceof vp)).length;if(f>1||f>0&&g>0)throw new Ct(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class vp extends e4{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new vp(t,e,r)}_apply(t){const e=this._parse(t);return sC(t._query,e),new zc(t.firestore,t.converter,hv(t._query,e))}_parse(t){const e=gp(t.firestore);return(function(u,f,g,v,y,S,C){let N;if(y.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new Ct(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){iS(C,S);const H=[];for(const Y of C)H.push(nS(v,u,Y));N={arrayValue:{values:H}}}else N=nS(v,u,C)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||iS(C,S),N=Xj(g,f,C,S==="in"||S==="not-in");return In.create(y,S,N)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function i4(n,t,e){const r=t,o=Py("where",n);return vp._create(o,r,e)}class My extends Ly{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new My(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:ys.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const v of g)sC(f,v),f=hv(f,v)})(t._query,e),new zc(t.firestore,t.converter,hv(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nS(n,t,e){if(typeof(e=an(e))=="string"){if(e==="")throw new Ct(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eA(t)&&e.indexOf("/")!==-1)throw new Ct(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(qe.fromString(e));if(!zt.isDocumentKey(r))throw new Ct(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yT(n,new zt(r))}if(e instanceof yn)return yT(n,e._key);throw new Ct(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${np(e)}.`)}function iS(n,t){if(!Array.isArray(n)||n.length===0)throw new Ct(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sC(n,t){const e=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Ct(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class r4{convertValue(t,e="none"){switch(Jo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($o(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw qt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return sl(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){var r,o,u;const e=(u=(o=(r=t.fields)==null?void 0:r[Sm].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>vn(f.doubleValue)));return new ta(e)}convertGeoPoint(t){return new Js(vn(t.latitude),vn(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=sp(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Xh(t));default:return null}}convertTimestamp(t){const e=Xo(t);return new Xe(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=qe.fromString(t);Pe(TA(r),9688,{name:t});const o=new $h(r.get(1),r.get(3)),u=new zt(r.popFirst(5));return o.isEqual(e)||Za(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class Mh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yl extends rC{constructor(t,e,r,o,u,f){super(t,e,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new em(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Py("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(pt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Yl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:On("string",Yl._jsonSchemaVersion),bundleSource:On("string","DocumentSnapshot"),bundleName:On("string"),bundle:On("string")};class em extends Yl{data(t={}){return super.data(t)}}class mc{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Mh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new em(this._firestore,this._userDataWriter,r.key,r,new Mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const v=new em(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mh(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const v=new em(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mh(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),S=f.indexOf(g.doc.key)),{type:s4(g.type),doc:v,oldIndex:y,newIndex:S}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(pt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=mc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ny.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function s4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(n){n=vs(n,yn);const t=vs(n.firestore,mu);return Uj(Cy(t),n._key).then((e=>o4(t,n,e)))}mc._jsonSchemaVersion="firestore/querySnapshot/1.0",mc._jsonSchema={type:On("string",mc._jsonSchemaVersion),bundleSource:On("string","QuerySnapshot"),bundleName:On("string"),bundle:On("string")};class oC extends r4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,e)}}function Mm(n){n=vs(n,zc);const t=vs(n.firestore,mu),e=Cy(t),r=new oC(t);return t4(n._query),Fj(e,n._query).then((o=>new mc(t,r,n,o)))}function rS(n,t,e){n=vs(n,yn);const r=vs(n.firestore,mu),o=aC(n.converter,t,e);return yp(r,[tC(gp(r),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,zr.none())])}function a4(n,t,e,...r){n=vs(n,yn);const o=vs(n.firestore,mu),u=gp(o);let f;return f=typeof(t=an(t))=="string"||t instanceof pp?Qj(u,"updateDoc",n._key,t,e,r):Yj(u,"updateDoc",n._key,t),yp(o,[f.toMutation(n._key,zr.exists(!0))])}function Sv(n){return yp(vs(n.firestore,mu),[new cy(n._key,zr.none())])}function xv(n,t){const e=vs(n.firestore,mu),r=Da(n),o=aC(n.converter,t);return yp(e,[tC(gp(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then((()=>r))}function yp(n,t){return(function(r,o){const u=new za;return r.asyncQueue.enqueueAndForget((async()=>Ij(await Bj(r),o,u))),u.promise})(Cy(n),t)}function o4(n,t,e){const r=e.docs.get(t._key),o=new oC(n);return new Yl(n,o,t._key,r,new Mh(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Dc=o})(Lc),ea(new _s("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new mu(new QD(r.getProvider("auth-internal")),new JD(f,r.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ct(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(y.options.projectId,S)})(f,o),f);return u={useFetchStreams:e,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Vr(aT,oT,t),Vr(aT,oT,"esm2020")})();var l4="firebase",u4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(l4,u4,"app");const lC="@firebase/installations",Dy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1e4,cC=`w:${Dy}`,hC="FIS_v2",c4="https://firebaseinstallations.googleapis.com/v1",h4=3600*1e3,f4="installations",d4="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},iu=new cu(f4,d4,m4);function fC(n){return n instanceof Es&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC({projectId:n}){return`${c4}/projects/${n}/installations`}function mC(n){return{token:n.token,requestStatus:2,expiresIn:g4(n.expiresIn),creationTime:Date.now()}}async function pC(n,t){const r=(await t.json()).error;return iu.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function gC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function p4(n,{refreshToken:t}){const e=gC(n);return e.append("Authorization",_4(t)),e}async function _C(n){const t=await n();return t.status>=500&&t.status<600?n():t}function g4(n){return Number(n.replace("s","000"))}function _4(n){return`${hC} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const r=dC(n),o=gC(n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:e,authVersion:hC,appId:n.appId,sdkVersion:cC},g={method:"POST",headers:o,body:JSON.stringify(f)},v=await _C(()=>fetch(r,g));if(v.ok){const y=await v.json();return{fid:y.fid||e,registrationStatus:2,refreshToken:y.refreshToken,authToken:mC(y.authToken)}}else throw await pC("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=/^[cdef][\w-]{21}$/,Av="";function E4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=w4(n);return b4.test(e)?e:Av}catch{return Av}}function w4(n){return y4(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Map;function bC(n,t){const e=bp(n);EC(e,t),T4(e,t)}function EC(n,t){const e=yC.get(n);if(e)for(const r of e)r(t)}function T4(n,t){const e=S4();e&&e.postMessage({key:n,fid:t}),x4()}let Wl=null;function S4(){return!Wl&&"BroadcastChannel"in self&&(Wl=new BroadcastChannel("[Firebase] FID Change"),Wl.onmessage=n=>{EC(n.data.key,n.data.fid)}),Wl}function x4(){yC.size===0&&Wl&&(Wl.close(),Wl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="firebase-installations-database",C4=1,ru="firebase-installations-store";let P_=null;function ky(){return P_||(P_=q1(A4,C4,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(ru)}}})),P_}async function Dm(n,t){const e=bp(n),o=(await ky()).transaction(ru,"readwrite"),u=o.objectStore(ru),f=await u.get(e);return await u.put(t,e),await o.done,(!f||f.fid!==t.fid)&&bC(n,t.fid),t}async function wC(n){const t=bp(n),r=(await ky()).transaction(ru,"readwrite");await r.objectStore(ru).delete(t),await r.done}async function Ep(n,t){const e=bp(n),o=(await ky()).transaction(ru,"readwrite"),u=o.objectStore(ru),f=await u.get(e),g=t(f);return g===void 0?await u.delete(e):await u.put(g,e),await o.done,g&&(!f||f.fid!==g.fid)&&bC(n,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jy(n){let t;const e=await Ep(n.appConfig,r=>{const o=R4(r),u=I4(n,o);return t=u.registrationPromise,u.installationEntry});return e.fid===Av?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function R4(n){const t=n||{fid:E4(),registrationStatus:0};return TC(t)}function I4(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(iu.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=O4(n,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:N4(n)}:{installationEntry:t}}async function O4(n,t){try{const e=await v4(n,t);return Dm(n.appConfig,e)}catch(e){throw fC(e)&&e.customData.serverCode===409?await wC(n.appConfig):await Dm(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function N4(n){let t=await sS(n.appConfig);for(;t.registrationStatus===1;)await vC(100),t=await sS(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await jy(n);return r||e}return t}function sS(n){return Ep(n,t=>{if(!t)throw iu.create("installation-not-found");return TC(t)})}function TC(n){return P4(n)?{fid:n.fid,registrationStatus:0}:n}function P4(n){return n.registrationStatus===1&&n.registrationTime+uC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4({appConfig:n,heartbeatServiceProvider:t},e){const r=M4(n,e),o=p4(n,e),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:cC,appId:n.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},v=await _C(()=>fetch(r,g));if(v.ok){const y=await v.json();return mC(y)}else throw await pC("Generate Auth Token",v)}function M4(n,{fid:t}){return`${dC(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vy(n,t=!1){let e;const r=await Ep(n.appConfig,u=>{if(!SC(u))throw iu.create("not-registered");const f=u.authToken;if(!t&&j4(f))return u;if(f.requestStatus===1)return e=D4(n,t),u;{if(!navigator.onLine)throw iu.create("app-offline");const g=z4(u);return e=k4(n,g),g}});return e?await e:r.authToken}async function D4(n,t){let e=await aS(n.appConfig);for(;e.authToken.requestStatus===1;)await vC(100),e=await aS(n.appConfig);const r=e.authToken;return r.requestStatus===0?Vy(n,t):r}function aS(n){return Ep(n,t=>{if(!SC(t))throw iu.create("not-registered");const e=t.authToken;return B4(e)?{...t,authToken:{requestStatus:0}}:t})}async function k4(n,t){try{const e=await L4(n,t),r={...t,authToken:e};return await Dm(n.appConfig,r),e}catch(e){if(fC(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await wC(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Dm(n.appConfig,r)}throw e}}function SC(n){return n!==void 0&&n.registrationStatus===2}function j4(n){return n.requestStatus===2&&!V4(n)}function V4(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+h4}function z4(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function B4(n){return n.requestStatus===1&&n.requestTime+uC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(n){const t=n,{installationEntry:e,registrationPromise:r}=await jy(t);return r?r.catch(console.error):Vy(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(n,t=!1){const e=n;return await H4(e),(await Vy(e,t)).token}async function H4(n){const{registrationPromise:t}=await jy(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(n){if(!n||!n.options)throw L_("App Configuration");if(!n.name)throw L_("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw L_(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function L_(n){return iu.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="installations",G4="installations-internal",Z4=n=>{const t=n.getProvider("app").getImmediate(),e=q4(t),r=hu(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},W4=n=>{const t=n.getProvider("app").getImmediate(),e=hu(t,xC).getImmediate();return{getId:()=>U4(e),getToken:o=>F4(e,o)}};function K4(){ea(new _s(xC,Z4,"PUBLIC")),ea(new _s(G4,W4,"PRIVATE"))}K4();Vr(lC,Dy);Vr(lC,Dy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="analytics",Y4="firebase_id",Q4="origin",X4=60*1e3,$4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new $m("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ur=new cu("analytics","Analytics",J4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(n){if(!n.startsWith(zy)){const t=ur.create("invalid-gtag-resource",{gtagURL:n});return vi.warn(t.message),""}return n}function AC(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function eV(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function nV(n,t){const e=eV("firebase-js-sdk-policy",{createScriptURL:tV}),r=document.createElement("script"),o=`${zy}?l=${n}&id=${t}`;r.src=e?e==null?void 0:e.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function iV(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function rV(n,t,e,r,o,u){const f=r[o];try{if(f)await t[f];else{const v=(await AC(e)).find(y=>y.measurementId===o);v&&await t[v.appId]}}catch(g){vi.error(g)}n("config",o,u)}async function sV(n,t,e,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await AC(e);for(const v of f){const y=g.find(C=>C.measurementId===v),S=y&&t[y.appId];if(S)u.push(S);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){vi.error(u)}}function aV(n,t,e,r){async function o(u,...f){try{if(u==="event"){const[g,v]=f;await sV(n,t,e,g,v)}else if(u==="config"){const[g,v]=f;await rV(n,t,e,r,g,v)}else if(u==="consent"){const[g,v]=f;n("consent",g,v)}else if(u==="get"){const[g,v,y]=f;n("get",g,v,y)}else if(u==="set"){const[g]=f;n("set",g)}else n(u,...f)}catch(g){vi.error(g)}}return o}function oV(n,t,e,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=aV(u,n,t,e),{gtagCore:u,wrappedGtag:window[o]}}function lV(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(zy)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=30,cV=1e3;class hV{constructor(t={},e=cV){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const CC=new hV;function fV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function dV(n){var f;const{appId:t,apiKey:e}=n,r={method:"GET",headers:fV(e)},o=$4.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let g="";try{const v=await u.json();(f=v.error)!=null&&f.message&&(g=v.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function mV(n,t=CC,e){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw ur.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ur.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new _V;return setTimeout(async()=>{g.abort()},X4),RC({appId:r,apiKey:o,measurementId:u},f,g,t)}async function RC(n,{throttleEndTimeMillis:t,backoffCount:e},r,o=CC){var g;const{appId:u,measurementId:f}=n;try{await pV(r,t)}catch(v){if(f)return vi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:u,measurementId:f};throw v}try{const v=await dV(n);return o.deleteThrottleMetadata(u),v}catch(v){const y=v;if(!gV(y)){if(o.deleteThrottleMetadata(u),f)return vi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw v}const S=Number((g=y==null?void 0:y.customData)==null?void 0:g.httpStatus)===503?Ow(e,o.intervalMillis,uV):Ow(e,o.intervalMillis),C={throttleEndTimeMillis:Date.now()+S,backoffCount:e+1};return o.setThrottleMetadata(u,C),vi.debug(`Calling attemptFetch again in ${S} millis`),RC(n,C,r,o)}}function pV(n,t){return new Promise((e,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(u),r(ur.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function gV(n){if(!(n instanceof Es)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class _V{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function vV(n,t,e,r,o){if(o&&o.global){n("event",e,r);return}else{const u=await t,f={...r,send_to:u};n("event",e,f)}}async function yV(n,t,e,r){if(r&&r.global){const o={};for(const u of Object.keys(e))o[`user_properties.${u}`]=e[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(){if(B1())try{await U1()}catch(n){return vi.warn(ur.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return vi.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function EV(n,t,e,r,o,u,f){const g=mV(n);g.then(N=>{e[N.measurementId]=N.appId,n.options.measurementId&&N.measurementId!==n.options.measurementId&&vi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>vi.error(N)),t.push(g);const v=bV().then(N=>{if(N)return r.getId()}),[y,S]=await Promise.all([g,v]);lV(u)||nV(u,y.measurementId),o("js",new Date);const C=(f==null?void 0:f.config)??{};return C[Q4]="firebase",C.update=!0,S!=null&&(C[Y4]=S),o("config",y.measurementId,C),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(t){this.app=t}_delete(){return delete pc[this.app.options.appId],Promise.resolve()}}let pc={},oS=[];const lS={};let M_="dataLayer",TV="gtag",uS,By,cS=!1;function SV(){const n=[];if(z1()&&n.push("This is a browser extension environment."),uP()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),e=ur.create("invalid-analytics-context",{errorInfo:t});vi.warn(e.message)}}function xV(n,t,e){SV();const r=n.options.appId;if(!r)throw ur.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)vi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ur.create("no-api-key");if(pc[r]!=null)throw ur.create("already-exists",{id:r});if(!cS){iV(M_);const{wrappedGtag:u,gtagCore:f}=oV(pc,oS,lS,M_,TV);By=u,uS=f,cS=!0}return pc[r]=EV(n,oS,lS,t,uS,M_,e),new wV(n)}function AV(n=qv()){n=an(n);const t=hu(n,km);return t.isInitialized()?t.getImmediate():CV(n)}function CV(n,t={}){const e=hu(n,km);if(e.isInitialized()){const o=e.getImmediate();if(Yo(t,e.getOptions()))return o;throw ur.create("already-initialized")}return e.initialize({options:t})}function RV(n,t,e){n=an(n),yV(By,pc[n.app.options.appId],t,e).catch(r=>vi.error(r))}function IV(n,t,e,r){n=an(n),vV(By,pc[n.app.options.appId],t,e,r).catch(o=>vi.error(o))}const hS="@firebase/analytics",fS="0.10.19";function OV(){ea(new _s(km,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return xV(r,o,e)},"PUBLIC")),ea(new _s("analytics-internal",n,"PRIVATE")),Vr(hS,fS),Vr(hS,fS,"esm2020");function n(t){try{const e=t.getProvider(km).getImmediate();return{logEvent:(r,o,u)=>IV(e,r,o,u),setUserProperties:(r,o)=>RV(e,r,o)}}catch(e){throw ur.create("interop-component-reg-failed",{reason:e})}}}OV();const NV={apiKey:"AIzaSyBpUED221Qngm9iO2vMU8HRzOaPzAQgbb0",authDomain:"tidal-mare.firebaseapp.com",projectId:"tidal-mare",storageBucket:"tidal-mare.firebasestorage.app",messagingSenderId:"411121995154",appId:"1:411121995154:web:9be647215a9de1efc8454b",measurementId:"G-YZNZQZJT7T"},Uy=G1(NV),cs=ZD(Uy),_i=qj(Uy);AV(Uy);class Hl{static getToken(){return localStorage.getItem(this.TOKEN_KEY)}static setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}static removeToken(){localStorage.removeItem(this.TOKEN_KEY)}}ee(Hl,"TOKEN_KEY","auth_token");class Pr{static async login(t,e){const r=await OM(cs,t,e),o=await r.user.getIdToken();return Hl.setToken(o),r.user}static async loginWithGoogle(){const t=new Pa,r=(await eD(cs,t)).user,o=await r.getIdToken();return Hl.setToken(o),await this.createUserDocument(r),r}static async loginAnonymously(){const t=await SM(cs),e=await t.user.getIdToken();return Hl.setToken(e),t.user}static async deleteAccount(){const t=cs.currentUser;if(!t)throw new Error("No user logged in");const e=Da(_i,"users",t.uid);await Sv(e),await DM(t),Hl.removeToken()}static async register(t,e){const o=(await IM(cs,t,e)).user,u=await o.getIdToken();return Hl.setToken(u),await this.createUserDocument(o),await this.sendVerificationEmail(o),o}static async sendVerificationEmail(t){await Yw(t)}static async resendCurrentVerificationEmail(){cs.currentUser&&await Yw(cs.currentUser)}static async resetPassword(t){await RM(cs,t)}static async logout(){await MM(cs),Hl.removeToken()}static onAuthStateChanged(t){return LM(cs,t)}static async getUserProfile(t){const e=Da(_i,"users",t),r=await Tv(e);return r.exists()?r.data():null}static async createUserDocument(t){const e=Da(_i,"users",t.uid);(await Tv(e)).exists()||await rS(e,{email:t.email,role:"customer",createdAt:new Date().toISOString(),displayName:t.displayName||"",photoURL:t.photoURL||""})}static async updateUserProfile(t,e){const r=Da(_i,"users",t);await rS(r,e,{merge:!0})}}class PV{constructor(){ee(this,"user",null);ee(this,"isLoading",!1);ee(this,"error",null);ee(this,"sustainabilityStats",{co2Saved:124,treesPlanted:12,distance:850});ee(this,"unsubscribeAuth",null);Km(this,{},{autoBind:!0}),this.checkAuth()}get isAuthenticated(){return!!this.user}get isAdmin(){var t;return((t=this.user)==null?void 0:t.role)==="admin"}async login(t,e){this.isLoading=!0,this.error=null;try{const r=await Pr.login(t,e);Qt(()=>{this.user={id:r.uid,email:r.email||"",role:"customer"}})}catch(r){Qt(()=>{this.error=r.message||"Login failed"})}finally{Qt(()=>{this.isLoading=!1})}}async loginWithGoogle(){this.isLoading=!0,this.error=null;try{const t=await Pr.loginWithGoogle();Qt(()=>{this.user={id:t.uid,email:t.email||"",role:"customer"}})}catch(t){Qt(()=>{this.error=t.message||"Google login failed"})}finally{Qt(()=>{this.isLoading=!1})}}async loginAnonymously(){this.isLoading=!0,this.error=null;try{const t=await Pr.loginAnonymously();Qt(()=>{this.user={id:t.uid,email:"guest@tidalmare.com",role:"guest"}})}catch(t){Qt(()=>{console.error("Guest login error:",t),this.error=`Error (${t.code}): ${t.message}`})}finally{Qt(()=>{this.isLoading=!1})}}async register(t,e){this.isLoading=!0,this.error=null,this.unsubscribeAuth&&(this.unsubscribeAuth(),this.unsubscribeAuth=null);try{await Pr.register(t,e),await Pr.logout(),Qt(()=>{this.user=null})}catch(r){throw Qt(()=>{this.error=r.message||"Registration failed"}),r}finally{Qt(()=>{this.isLoading=!1}),this.checkAuth()}}async logout(){try{await Pr.logout(),Qt(()=>{this.user=null})}catch(t){console.error("Logout failed:",t)}}async deleteAccount(){this.isLoading=!0;try{await Pr.deleteAccount(),Qt(()=>{this.user=null})}catch(t){throw Qt(()=>{this.error=t.message}),t}finally{Qt(()=>{this.isLoading=!1})}}async resetPassword(t){this.isLoading=!0,this.error=null;try{await Pr.resetPassword(t)}catch(e){throw Qt(()=>{this.error=e.message}),e}finally{Qt(()=>{this.isLoading=!1})}}async resendVerificationEmail(){this.isLoading=!0;try{await Pr.resendCurrentVerificationEmail()}catch(t){Qt(()=>{this.error=t.message})}finally{Qt(()=>{this.isLoading=!1})}}checkAuth(){this.unsubscribeAuth&&this.unsubscribeAuth(),this.unsubscribeAuth=Pr.onAuthStateChanged(async t=>{if(t){if(t.isAnonymous){Qt(()=>{this.user={id:t.uid,email:"guest@tidalmare.com",role:"guest"}});return}try{const e=await Pr.getUserProfile(t.uid);Qt(()=>{this.user={id:t.uid,email:t.email||"",role:(e==null?void 0:e.role)||"customer"}})}catch{Qt(()=>{this.user={id:t.uid,email:t.email||"",role:"customer"}})}}else Qt(()=>{this.user=null})})}}const dS={REQUESTED:"REQUESTED",CONFIRMED:"CONFIRMED",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED"},gc={DUMMY:"DUMMY",GREENWHEELS:"GREENWHEELS",MYWHEELS:"MYWHEELS"},_c={EV:"EV",HYBRID:"HYBRID",PETROL:"PETROL"},Ch="bookings";class nm{static async createBooking(t){try{return(await xv(Zl(_i,Ch),{...t,createdAt:new Date().toISOString()})).id}catch(e){throw console.error("Error creating booking: ",e),e}}static async getUserBookings(t){try{const e=n4(Zl(_i,Ch),i4("userId","==",t));return(await Mm(e)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error fetching user bookings: ",e),[]}}static async getAllBookings(){try{return(await Mm(Zl(_i,Ch))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Error fetching all bookings: ",t),[]}}static async updateBookingStatus(t,e,r){const o=Da(_i,Ch,t);await a4(o,{status:e,cancellationReason:r})}static async getBookingById(t){const e=Da(_i,Ch,t),r=await Tv(e);return r.exists()?{id:r.id,...r.data()}:null}}class IC{constructor(){ee(this,"startStreet","");ee(this,"startHouseNumber","");ee(this,"startPostcode","");ee(this,"startCity","");ee(this,"startCountry","Nederland");ee(this,"isStartAddressValid",!1);ee(this,"startLat",null);ee(this,"startLng",null);ee(this,"endStreet","");ee(this,"endHouseNumber","");ee(this,"endPostcode","");ee(this,"endCity","");ee(this,"endCountry","Nederland");ee(this,"isEndAddressValid",!1);ee(this,"endLat",null);ee(this,"endLng",null);ee(this,"bookingNote","");ee(this,"dateTime",new Date().toISOString());ee(this,"passengers",1);ee(this,"luggageLevel",0);ee(this,"availableCars",[]);ee(this,"selectedCar",null);ee(this,"isLoading",!1);ee(this,"error",null);ee(this,"bookingStatus",null);ee(this,"selectedBookingDetails",null);ee(this,"isCancelling",!1);ee(this,"showValidationErrors",!1);Km(this)}setStartAddress(t){this.startStreet=t.street,this.startHouseNumber=t.houseNumber,this.startPostcode=t.postcode,this.startCity=t.city,this.startCountry=t.country,this.startLat=t.latitude,this.startLng=t.longitude,this.isStartAddressValid=!0}setEndAddress(t){this.endStreet=t.street,this.endHouseNumber=t.houseNumber,this.endPostcode=t.postcode,this.endCity=t.city,this.endCountry=t.country,this.endLat=t.latitude,this.endLng=t.longitude,this.isEndAddressValid=!0}updateStartField(t,e){t==="street"?(this.startStreet=e,this.startHouseNumber="",this.startPostcode="",this.startCity=""):t==="houseNumber"?this.startHouseNumber=e:t==="postcode"?this.startPostcode=e:t==="city"&&(this.startCity=e),this.isStartAddressValid=!1}updateEndField(t,e){t==="street"?(this.endStreet=e,this.endHouseNumber="",this.endPostcode="",this.endCity=""):t==="houseNumber"?this.endHouseNumber=e:t==="postcode"?this.endPostcode=e:t==="city"&&(this.endCity=e),this.isEndAddressValid=!1}setPassengers(t){this.passengers=t}setLuggageLevel(t){this.luggageLevel=t}setBookingNote(t){this.bookingNote=t}get canSearch(){return this.isStartAddressValid&&this.isEndAddressValid&&this.passengers>0}async searchCars(){if(this.showValidationErrors=!0,!this.canSearch){Qt(()=>{this.error="Vul a.u.b. geldige start- en eindadressen in."});return}this.isLoading=!0,this.error=null,this.availableCars=[],setTimeout(()=>{Qt(()=>{this.availableCars=[{id:"car-1",make:"Tesla",model:"Model Y",provider:gc.MYWHEELS,seats:4,fuelType:_c.EV,luggageCapacity:1,range:450,pricePerHourEstimate:18,rating:4.8,location:{latitude:52.3676,longitude:4.9041,address:"Amsterdam Centrum"}},{id:"car-2",make:"BMW",model:"iX",provider:gc.GREENWHEELS,seats:5,fuelType:_c.EV,luggageCapacity:2,range:520,pricePerHourEstimate:24,rating:4.9,location:{latitude:52.365,longitude:4.9,address:"Amsterdam Zuid"}},{id:"car-3",make:"Polestar",model:"2",provider:gc.MYWHEELS,seats:4,fuelType:_c.EV,luggageCapacity:1,range:400,pricePerHourEstimate:16,rating:4.7,location:{latitude:52.37,longitude:4.91,address:"Amsterdam Oost"}}],this.isLoading=!1})},800)}selectCar(t){this.selectedCar=t}async confirmBooking(){if(!this.selectedCar||!this.isStartAddressValid||!this.isEndAddressValid)return;const t=cs.currentUser;if(!t){Qt(()=>{this.error="Je moet ingelogd zijn om te boeken."});return}this.isLoading=!0;try{const e={userId:t.uid,carId:this.selectedCar.id,startLocation:{address:`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`,latitude:this.startLat||0,longitude:this.startLng||0},endLocation:{address:`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`,latitude:this.endLat||0,longitude:this.endLng||0},startTime:this.dateTime,totalPrice:this.selectedCar.pricePerHourEstimate*2,note:this.bookingNote,status:dS.REQUESTED};await nm.createBooking(e),Qt(()=>{this.bookingStatus=dS.REQUESTED})}catch(e){Qt(()=>{this.error=e.message||"Booking failed"})}finally{Qt(()=>{this.isLoading=!1})}}clearForm(){this.startStreet="",this.startHouseNumber="",this.startPostcode="",this.startCity="",this.isStartAddressValid=!1,this.endStreet="",this.endHouseNumber="",this.endPostcode="",this.endCity="",this.isEndAddressValid=!1,this.bookingNote="",this.availableCars=[],this.bookingStatus=null}get startAddressSummary(){return this.startStreet?`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`:"-"}get endAddressSummary(){return this.endStreet?`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`:"-"}async cancelBooking(t,e){var r;this.isCancelling=!0;try{await nm.updateBookingStatus(t,"CANCELLED",e),((r=this.selectedBookingDetails)==null?void 0:r.id)===t&&await this.loadBookingDetails(t)}catch(o){console.error(o)}finally{Qt(()=>{this.isCancelling=!1})}}async loadBookingDetails(t){try{const e=await nm.getBookingById(t);Qt(()=>this.selectedBookingDetails=e)}catch(e){console.error(e)}}}class LV{constructor(){ee(this,"user",null);ee(this,"isLoading",!1);Km(this)}setUser(t){this.user=t}async updateProfile(t){if(this.user){this.isLoading=!0;try{await Pr.updateUserProfile(this.user.id,t),Qt(()=>{this.user&&(this.user={...this.user,...t})})}catch(e){throw console.error("Failed to update profile",e),e}finally{Qt(()=>{this.isLoading=!1})}}}}class ec{static async getCars(){return(await Mm(Zl(_i,"cars"))).docs.map(e=>({id:e.id,...e.data()}))}static async addCar(t){return{id:(await xv(Zl(_i,"cars"),t)).id,...t}}static async deleteCar(t){await Sv(Da(_i,"cars",t))}static async getChargingPoints(){return(await Mm(Zl(_i,"charging_points"))).docs.map(e=>({id:e.id,...e.data()}))}static async addChargingPoint(t){return{id:(await xv(Zl(_i,"charging_points"),t)).id,...t}}static async deleteChargingPoint(t){await Sv(Da(_i,"charging_points",t))}}class MV{constructor(){ee(this,"cars",[]);ee(this,"chargingPoints",[]);ee(this,"isLoading",!1);Km(this)}async loadData(){this.isLoading=!0;try{const[t,e]=await Promise.all([ec.getCars(),ec.getChargingPoints()]);Qt(()=>{this.cars=t,this.chargingPoints=e})}catch(t){console.error("Failed to load admin data",t)}finally{Qt(()=>{this.isLoading=!1})}}async addCar(t){this.isLoading=!0;try{const e=await ec.addCar(t);Qt(()=>{this.cars.push(e)})}catch(e){throw console.error("Failed to add car",e),e}finally{Qt(()=>{this.isLoading=!1})}}async deleteCar(t){this.isLoading=!0;try{await ec.deleteCar(t),Qt(()=>{this.cars=this.cars.filter(e=>e.id!==t)})}catch(e){console.error("Failed to delete car",e)}finally{Qt(()=>{this.isLoading=!1})}}async addChargingPoint(t){this.isLoading=!0;try{const e=await ec.addChargingPoint(t);Qt(()=>{this.chargingPoints.push(e)})}catch(e){throw console.error("Failed to add charging point",e),e}finally{Qt(()=>{this.isLoading=!1})}}async deleteChargingPoint(t){this.isLoading=!0;try{await ec.deleteChargingPoint(t),Qt(()=>{this.chargingPoints=this.chargingPoints.filter(e=>e.id!==t)})}catch(e){console.error("Failed to delete charging point",e)}finally{Qt(()=>{this.isLoading=!1})}}}const Wn=new PV,nc=new MV,Rh=new LV,Cv=({className:n,...t})=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),OC=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),NC=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),PC=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})}),nf=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),Fy=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),DV=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),gi=Wn,kV=qr(()=>{const[n,t]=W.useState(""),[e,r]=W.useState(""),[o,u]=W.useState(!1),[f,g]=W.useState(""),[v,y]=W.useState(null),S=su(),C=async Y=>{Y.preventDefault(),await gi.login(n,e),gi.isAuthenticated&&S("/dashboard")},N=async()=>{await gi.loginWithGoogle(),gi.isAuthenticated&&S("/dashboard")},M=async()=>{await gi.loginAnonymously(),gi.isAuthenticated&&S("/dashboard")},H=async Y=>{Y.preventDefault();try{await gi.resetPassword(f),y("Check je email voor instructies om je wachtwoord te resetten.")}catch{}};return o?E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Wachtwoord Resetten"}),E.jsx("p",{className:"auth-subtitle",children:"Vul je email in om een reset link te ontvangen."}),gi.error&&E.jsx("p",{className:"error-message mb-4",children:gi.error}),v&&E.jsx("p",{className:"success-message mb-4",style:{color:"green",background:"#e6fffa",padding:"10px",borderRadius:"4px"},children:v}),E.jsxs("form",{onSubmit:H,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email"}),E.jsxs("div",{className:"input-group",children:[E.jsx(nf,{className:"input-icon"}),E.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:f,onChange:Y=>g(Y.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:gi.isLoading,style:{width:"100%",padding:"12px"},children:gi.isLoading?"Verzenden...":"Reset Link Sturen"})]}),E.jsx("button",{onClick:()=>u(!1),className:"text-btn block mt-4 text-center w-full",style:{background:"none",border:"none",color:"#666",cursor:"pointer",marginTop:"1rem"},children:"Terug naar Inloggen"})]})}):E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Welkom terug"}),E.jsx("p",{className:"auth-subtitle",children:"Log in om verder te gaan met Tidal Mare"}),gi.error&&E.jsx("p",{className:"error-message mb-4",children:gi.error}),E.jsxs("form",{onSubmit:C,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email"}),E.jsxs("div",{className:"input-group",children:[E.jsx(nf,{className:"input-icon"}),E.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:Y=>t(Y.target.value),required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Wachtwoord"}),E.jsxs("div",{className:"input-group",children:[E.jsx(Fy,{className:"input-icon"}),E.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:e,onChange:Y=>r(Y.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:gi.isLoading,style:{width:"100%",padding:"12px"},children:gi.isLoading?"Bezig met inloggen...":"Inloggen"})]}),E.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),E.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of log in met"}),E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),E.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:E.jsx("button",{onClick:N,className:"social-btn-round",title:"Inloggen met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:E.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),E.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:E.jsx("button",{onClick:M,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),E.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[E.jsx("button",{type:"button",onClick:()=>u(!0),style:{background:"none",border:"none",color:"#666",fontSize:"0.9rem",cursor:"pointer",textDecoration:"none"},children:"Wachtwoord vergeten?"}),E.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--slate-500)"},children:["Nog geen account? ",E.jsx(lr,{to:"/register",style:{fontWeight:600},children:"Registreer hier"})]})]})]})})}),ls=Wn,jV=qr(()=>{const[n,t]=W.useState(""),[e,r]=W.useState(""),[o,u]=W.useState(!1),f=su(),g=async S=>{S.preventDefault(),await ls.register(n,e),ls.error||u(!0)},v=async()=>{await ls.loginWithGoogle(),ls.isAuthenticated&&f("/dashboard")},y=async()=>{await ls.loginAnonymously(),ls.isAuthenticated&&f("/dashboard")};return o?E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),E.jsx("h2",{className:"auth-title",children:"Controleer je e-mail"}),E.jsxs("p",{className:"auth-subtitle",children:["We hebben een verificatielink gestuurd naar ",E.jsx("strong",{children:n}),". Klik op de link in de e-mail om je account te activeren."]}),E.jsxs("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("button",{onClick:()=>window.open("https://gmail.com","_blank"),className:"btn-primary",style:{width:"100%",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:["Open Email App ",E.jsx(nf,{className:"w-5 h-5"})]}),E.jsx("button",{onClick:()=>f("/login"),className:"btn-secondary",style:{width:"100%",padding:"12px",background:"white",border:"1px solid #cbd5e1",color:"#334155",fontWeight:"600",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:"Terug naar inloggen"})]}),E.jsxs("p",{style:{marginTop:"2rem",fontSize:"0.9rem",color:"#64748b"},children:["Geen e-mail ontvangen? ",E.jsx("button",{onClick:()=>ls.resendVerificationEmail(),style:{color:"var(--primary-600)",fontWeight:600,background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Stuur opnieuw"})]})]})}):E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Maak een account"}),E.jsx("p",{className:"auth-subtitle",children:"Begin vandaag nog met jouw duurzame reis"}),ls.error&&E.jsx("p",{className:"error-message mb-4",children:ls.error}),E.jsxs("form",{onSubmit:g,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email"}),E.jsxs("div",{className:"input-group",children:[E.jsx(nf,{className:"input-icon"}),E.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:S=>t(S.target.value),required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Wachtwoord"}),E.jsxs("div",{className:"input-group",children:[E.jsx(Fy,{className:"input-icon"}),E.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:e,onChange:S=>r(S.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:ls.isLoading,style:{width:"100%",padding:"12px"},children:ls.isLoading?"Bezig met registreren...":"Registreren"})]}),E.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),E.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of registreer met"}),E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),E.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:E.jsx("button",{onClick:v,className:"social-btn-round",title:"Registreren met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:E.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),E.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:E.jsx("button",{onClick:y,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),E.jsxs("div",{className:"mt-4 text-center",style:{marginTop:"1.5rem",fontSize:"0.9rem",color:"var(--slate-500)"},children:["Heb je al een account? ",E.jsx(lr,{to:"/login",style:{fontWeight:600},children:"Log in"})]})]})})}),D_=Wn,mS=qr(({roles:n})=>D_.isAuthenticated?n&&D_.user&&!n.includes(D_.user.role)?E.jsx("div",{className:"error-page",children:"403 - Geen toegang"}):E.jsx(iI,{}):E.jsx(nI,{to:"/login",replace:!0})),k_=({value:n,duration:t=2e3})=>{const[e,r]=W.useState(0);return W.useEffect(()=>{let o=null;const u=0,f=g=>{o||(o=g);const v=Math.min((g-o)/t,1),y=1-Math.pow(1-v,4);r(Math.floor(y*(n-u)+u)),v<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[n,t]),E.jsx("span",{children:e})},VV=qr(({co2Saved:n,treesPlanted:t,distance:e})=>{const r={background:"linear-gradient(135deg, #4ade80 0%, #059669 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"};return E.jsxs("div",{className:"sustainability-stats",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"2rem",marginTop:"1rem"},children:[E.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[E.jsx(k_,{value:n})," ",E.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"kg"})]}),E.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"CO2 Bespaard"})]}),E.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsx("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:E.jsx(k_,{value:t})}),E.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Bomen Equivalent"})]}),E.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[E.jsx(k_,{value:e})," ",E.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"km"})]}),E.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Emissievrij Gereden"})]}),E.jsx("style",{children:`
                @media (max-width: 768px) {
                    .sustainability-stats {
                        grid-template-columns: 1fr !important;
                    }
                }
            `})]})}),pS=({booking:n})=>{var e;const t=r=>{switch(r){case"CONFIRMED":return"status-confirmed";case"CANCELLED":return"status-cancelled";case"COMPLETED":return"status-completed";default:return"status-requested"}};return E.jsx(lr,{to:`/booking/${n.id}`,className:"booking-card-link",children:E.jsxs("div",{className:"booking-card",children:[E.jsxs("div",{className:"booking-card-header",children:[E.jsxs("div",{className:"booking-time",children:[E.jsx("span",{className:"date",children:new Date(n.startTime).toLocaleDateString()}),E.jsx("span",{className:"time",children:new Date(n.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),E.jsx("span",{className:`status-badge ${t(n.status)}`,children:n.status})]}),E.jsxs("div",{className:"booking-route",children:[E.jsxs("div",{className:"route-point",children:[E.jsx("span",{className:"icon text-lg",children:""}),E.jsx("span",{className:"address",children:n.startLocation.address})]}),E.jsx("div",{className:"route-arrow",children:""}),E.jsxs("div",{className:"route-point",children:[E.jsx("span",{className:"icon text-lg",children:""}),E.jsx("span",{className:"address",children:((e=n.endLocation)==null?void 0:e.address)||"Bestemming"})]})]})]})})},zV=qr(()=>{var o,u;const[n,t]=Ko.useState([]);Ko.useEffect(()=>{(async()=>{var v;const g=(v=Wn.user)==null?void 0:v.id;if(g)try{const y=await nm.getUserBookings(g);t(y)}catch(y){console.error("Failed to fetch bookings",y)}})()},[Wn.user]);const e=n.filter(f=>["REQUESTED","CONFIRMED"].includes(f.status)),r=n.filter(f=>["CANCELLED","COMPLETED"].includes(f.status));return E.jsxs("div",{className:"dashboard app-container",children:[E.jsxs("div",{className:"dashboard-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h2",{style:{fontSize:"2rem",margin:0},children:"Mijn Dashboard"}),E.jsxs("div",{className:"dashboard-actions",style:{display:"flex",gap:"1rem"},children:[E.jsx(lr,{to:"/request",className:"btn-primary",children:"+ Nieuwe Rit"}),((o=Wn.user)==null?void 0:o.role)!=="guest"?E.jsx(lr,{to:"/profile",className:"logout-btn",style:{textDecoration:"none",display:"inline-flex",alignItems:"center"},children:"Mijn Profiel"}):E.jsx(lr,{to:"/register",className:"btn-primary",style:{background:"#f59e0b",border:"none"},children:"Account Aanmaken"})]})]}),((u=Wn.user)==null?void 0:u.role)==="guest"&&E.jsxs("div",{style:{background:"#fffbeb",border:"1px solid #fcd34d",color:"#92400e",padding:"1rem",borderRadius:"12px",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("span",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsx("strong",{children:"Welkom als gast!"}),E.jsx("p",{style:{margin:0,fontSize:"0.95rem",opacity:.9},children:"Je kunt rondkijken en ritten zoeken, maar om daadwerkelijk te boeken moet je een account aanmaken."})]})]}),E.jsx(VV,{co2Saved:Wn.sustainabilityStats.co2Saved,treesPlanted:Wn.sustainabilityStats.treesPlanted,distance:Wn.sustainabilityStats.distance}),E.jsxs("section",{style:{marginBottom:"3rem"},children:[E.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--slate-200)",paddingBottom:"0.5rem"},children:" Aankomende Ritten"}),e.length===0?E.jsx("div",{className:"empty-state card",style:{textAlign:"center",color:"var(--text-muted)"},children:E.jsx("p",{children:"Je hebt nog geen ritten gepland."})}):E.jsx("div",{className:"bookings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:e.map(f=>E.jsx("div",{className:"booking-wrapper",children:E.jsx(pS,{booking:f})},f.id))})]}),E.jsxs("section",{children:[E.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--slate-200)",paddingBottom:"0.5rem"},children:" Geschiedenis"}),r.length===0?E.jsx("div",{className:"empty-state card",style:{textAlign:"center",color:"var(--text-muted)"},children:E.jsx("p",{children:"Nog geen ritten gemaakt."})}):E.jsx("div",{className:"bookings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:r.map(f=>E.jsx("div",{className:"booking-wrapper",children:E.jsx(pS,{booking:f})},f.id))})]})]})});var Hy={};(function n(t,e,r,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",g=(function(){if(!t.OffscreenCanvas)return!1;try{var q=new OffscreenCanvas(1,1),R=q.getContext("2d");R.fillRect(0,0,1,1);var Q=q.transferToImageBitmap();R.createPattern(Q,"no-repeat")}catch{return!1}return!0})();function v(){}function y(q){var R=e.exports.Promise,Q=R!==void 0?R:t.Promise;return typeof Q=="function"?new Q(q):(q(v,v),null)}var S=(function(q,R){return{transform:function(Q){if(q)return Q;if(R.has(Q))return R.get(Q);var ot=new OffscreenCanvas(Q.width,Q.height),ut=ot.getContext("2d");return ut.drawImage(Q,0,0),R.set(Q,ot),ot},clear:function(){R.clear()}}})(g,new Map),C=(function(){var q=Math.floor(16.666666666666668),R,Q,ot={},ut=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(R=function(gt){var _t=Math.random();return ot[_t]=requestAnimationFrame(function bt(Pt){ut===Pt||ut+q-1<Pt?(ut=Pt,delete ot[_t],gt()):ot[_t]=requestAnimationFrame(bt)}),_t},Q=function(gt){ot[gt]&&cancelAnimationFrame(ot[gt])}):(R=function(gt){return setTimeout(gt,q)},Q=function(gt){return clearTimeout(gt)}),{frame:R,cancel:Q}})(),N=(function(){var q,R,Q={};function ot(ut){function gt(_t,bt){ut.postMessage({options:_t||{},callback:bt})}ut.init=function(bt){var Pt=bt.transferControlToOffscreen();ut.postMessage({canvas:Pt},[Pt])},ut.fire=function(bt,Pt,Bt){if(R)return gt(bt,null),R;var ve=Math.random().toString(36).slice(2);return R=y(function(ce){function _e(je){je.data.callback===ve&&(delete Q[ve],ut.removeEventListener("message",_e),R=null,S.clear(),Bt(),ce())}ut.addEventListener("message",_e),gt(bt,ve),Q[ve]=_e.bind(null,{data:{callback:ve}})}),R},ut.reset=function(){ut.postMessage({reset:!0});for(var bt in Q)Q[bt](),delete Q[bt]}}return function(){if(q)return q;if(!r&&u){var ut=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{q=new Worker(URL.createObjectURL(new Blob([ut])))}catch(gt){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",gt),null}ot(q)}return q}})(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function H(q,R){return R?R(q):q}function Y(q){return q!=null}function K(q,R,Q){return H(q&&Y(q[R])?q[R]:M[R],Q)}function ht(q){return q<0?0:Math.floor(q)}function Et(q,R){return Math.floor(Math.random()*(R-q))+q}function lt(q){return parseInt(q,16)}function xt(q){return q.map(Nt)}function Nt(q){var R=String(q).replace(/[^0-9a-f]/gi,"");return R.length<6&&(R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]),{r:lt(R.substring(0,2)),g:lt(R.substring(2,4)),b:lt(R.substring(4,6))}}function Dt(q){var R=K(q,"origin",Object);return R.x=K(R,"x",Number),R.y=K(R,"y",Number),R}function k(q){q.width=document.documentElement.clientWidth,q.height=document.documentElement.clientHeight}function D(q){var R=q.getBoundingClientRect();q.width=R.width,q.height=R.height}function j(q){var R=document.createElement("canvas");return R.style.position="fixed",R.style.top="0px",R.style.left="0px",R.style.pointerEvents="none",R.style.zIndex=q,R}function G(q,R,Q,ot,ut,gt,_t,bt,Pt){q.save(),q.translate(R,Q),q.rotate(gt),q.scale(ot,ut),q.arc(0,0,1,_t,bt,Pt),q.restore()}function F(q){var R=q.angle*(Math.PI/180),Q=q.spread*(Math.PI/180);return{x:q.x,y:q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:q.startVelocity*.5+Math.random()*q.startVelocity,angle2D:-R+(.5*Q-Math.random()*Q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:q.color,shape:q.shape,tick:0,totalTicks:q.ticks,decay:q.decay,drift:q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:q.gravity*3,ovalScalar:.6,scalar:q.scalar,flat:q.flat}}function U(q,R){R.x+=Math.cos(R.angle2D)*R.velocity+R.drift,R.y+=Math.sin(R.angle2D)*R.velocity+R.gravity,R.velocity*=R.decay,R.flat?(R.wobble=0,R.wobbleX=R.x+10*R.scalar,R.wobbleY=R.y+10*R.scalar,R.tiltSin=0,R.tiltCos=0,R.random=1):(R.wobble+=R.wobbleSpeed,R.wobbleX=R.x+10*R.scalar*Math.cos(R.wobble),R.wobbleY=R.y+10*R.scalar*Math.sin(R.wobble),R.tiltAngle+=.1,R.tiltSin=Math.sin(R.tiltAngle),R.tiltCos=Math.cos(R.tiltAngle),R.random=Math.random()+2);var Q=R.tick++/R.totalTicks,ot=R.x+R.random*R.tiltCos,ut=R.y+R.random*R.tiltSin,gt=R.wobbleX+R.random*R.tiltCos,_t=R.wobbleY+R.random*R.tiltSin;if(q.fillStyle="rgba("+R.color.r+", "+R.color.g+", "+R.color.b+", "+(1-Q)+")",q.beginPath(),f&&R.shape.type==="path"&&typeof R.shape.path=="string"&&Array.isArray(R.shape.matrix))q.fill(Tt(R.shape.path,R.shape.matrix,R.x,R.y,Math.abs(gt-ot)*.1,Math.abs(_t-ut)*.1,Math.PI/10*R.wobble));else if(R.shape.type==="bitmap"){var bt=Math.PI/10*R.wobble,Pt=Math.abs(gt-ot)*.1,Bt=Math.abs(_t-ut)*.1,ve=R.shape.bitmap.width*R.scalar,ce=R.shape.bitmap.height*R.scalar,_e=new DOMMatrix([Math.cos(bt)*Pt,Math.sin(bt)*Pt,-Math.sin(bt)*Bt,Math.cos(bt)*Bt,R.x,R.y]);_e.multiplySelf(new DOMMatrix(R.shape.matrix));var je=q.createPattern(S.transform(R.shape.bitmap),"no-repeat");je.setTransform(_e),q.globalAlpha=1-Q,q.fillStyle=je,q.fillRect(R.x-ve/2,R.y-ce/2,ve,ce),q.globalAlpha=1}else if(R.shape==="circle")q.ellipse?q.ellipse(R.x,R.y,Math.abs(gt-ot)*R.ovalScalar,Math.abs(_t-ut)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI):G(q,R.x,R.y,Math.abs(gt-ot)*R.ovalScalar,Math.abs(_t-ut)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI);else if(R.shape==="star")for(var Wt=Math.PI/2*3,tn=4*R.scalar,ln=8*R.scalar,mn=R.x,bn=R.y,Ne=5,we=Math.PI/Ne;Ne--;)mn=R.x+Math.cos(Wt)*ln,bn=R.y+Math.sin(Wt)*ln,q.lineTo(mn,bn),Wt+=we,mn=R.x+Math.cos(Wt)*tn,bn=R.y+Math.sin(Wt)*tn,q.lineTo(mn,bn),Wt+=we;else q.moveTo(Math.floor(R.x),Math.floor(R.y)),q.lineTo(Math.floor(R.wobbleX),Math.floor(ut)),q.lineTo(Math.floor(gt),Math.floor(_t)),q.lineTo(Math.floor(ot),Math.floor(R.wobbleY));return q.closePath(),q.fill(),R.tick<R.totalTicks}function z(q,R,Q,ot,ut){var gt=R.slice(),_t=q.getContext("2d"),bt,Pt,Bt=y(function(ve){function ce(){bt=Pt=null,_t.clearRect(0,0,ot.width,ot.height),S.clear(),ut(),ve()}function _e(){r&&!(ot.width===o.width&&ot.height===o.height)&&(ot.width=q.width=o.width,ot.height=q.height=o.height),!ot.width&&!ot.height&&(Q(q),ot.width=q.width,ot.height=q.height),_t.clearRect(0,0,ot.width,ot.height),gt=gt.filter(function(je){return U(_t,je)}),gt.length?bt=C.frame(_e):ce()}bt=C.frame(_e),Pt=ce});return{addFettis:function(ve){return gt=gt.concat(ve),Bt},canvas:q,promise:Bt,reset:function(){bt&&C.cancel(bt),Pt&&Pt()}}}function se(q,R){var Q=!q,ot=!!K(R||{},"resize"),ut=!1,gt=K(R,"disableForReducedMotion",Boolean),_t=u&&!!K(R||{},"useWorker"),bt=_t?N():null,Pt=Q?k:D,Bt=q&&bt?!!q.__confetti_initialized:!1,ve=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ce;function _e(Wt,tn,ln){for(var mn=K(Wt,"particleCount",ht),bn=K(Wt,"angle",Number),Ne=K(Wt,"spread",Number),we=K(Wt,"startVelocity",Number),yi=K(Wt,"decay",Number),Qa=K(Wt,"gravity",Number),ra=K(Wt,"drift",Number),En=K(Wt,"colors",xt),Gr=K(Wt,"ticks",Number),hr=K(Wt,"shapes"),ws=K(Wt,"scalar"),Bi=!!K(Wt,"flat"),Xa=Dt(Wt),Ts=mn,Zr=[],$a=q.width*Xa.x,Xn=q.height*Xa.y;Ts--;)Zr.push(F({x:$a,y:Xn,angle:bn,spread:Ne,startVelocity:we,color:En[Ts%En.length],shape:hr[Et(0,hr.length)],ticks:Gr,decay:yi,gravity:Qa,drift:ra,scalar:ws,flat:Bi}));return ce?ce.addFettis(Zr):(ce=z(q,Zr,Pt,tn,ln),ce.promise)}function je(Wt){var tn=gt||K(Wt,"disableForReducedMotion",Boolean),ln=K(Wt,"zIndex",Number);if(tn&&ve)return y(function(we){we()});Q&&ce?q=ce.canvas:Q&&!q&&(q=j(ln),document.body.appendChild(q)),ot&&!Bt&&Pt(q);var mn={width:q.width,height:q.height};bt&&!Bt&&bt.init(q),Bt=!0,bt&&(q.__confetti_initialized=!0);function bn(){if(bt){var we={getBoundingClientRect:function(){if(!Q)return q.getBoundingClientRect()}};Pt(we),bt.postMessage({resize:{width:we.width,height:we.height}});return}mn.width=mn.height=null}function Ne(){ce=null,ot&&(ut=!1,t.removeEventListener("resize",bn)),Q&&q&&(document.body.contains(q)&&document.body.removeChild(q),q=null,Bt=!1)}return ot&&!ut&&(ut=!0,t.addEventListener("resize",bn,!1)),bt?bt.fire(Wt,mn,Ne):_e(Wt,mn,Ne)}return je.reset=function(){bt&&bt.reset(),ce&&ce.reset()},je}var Ze;function st(){return Ze||(Ze=se(null,{useWorker:!0,resize:!0})),Ze}function Tt(q,R,Q,ot,ut,gt,_t){var bt=new Path2D(q),Pt=new Path2D;Pt.addPath(bt,new DOMMatrix(R));var Bt=new Path2D;return Bt.addPath(Pt,new DOMMatrix([Math.cos(_t)*ut,Math.sin(_t)*ut,-Math.sin(_t)*gt,Math.cos(_t)*gt,Q,ot])),Bt}function yt(q){if(!f)throw new Error("path confetti are not supported in this browser");var R,Q;typeof q=="string"?R=q:(R=q.path,Q=q.matrix);var ot=new Path2D(R),ut=document.createElement("canvas"),gt=ut.getContext("2d");if(!Q){for(var _t=1e3,bt=_t,Pt=_t,Bt=0,ve=0,ce,_e,je=0;je<_t;je+=2)for(var Wt=0;Wt<_t;Wt+=2)gt.isPointInPath(ot,je,Wt,"nonzero")&&(bt=Math.min(bt,je),Pt=Math.min(Pt,Wt),Bt=Math.max(Bt,je),ve=Math.max(ve,Wt));ce=Bt-bt,_e=ve-Pt;var tn=10,ln=Math.min(tn/ce,tn/_e);Q=[ln,0,0,ln,-Math.round(ce/2+bt)*ln,-Math.round(_e/2+Pt)*ln]}return{type:"path",path:R,matrix:Q}}function re(q){var R,Q=1,ot="#000000",ut='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof q=="string"?R=q:(R=q.text,Q="scalar"in q?q.scalar:Q,ut="fontFamily"in q?q.fontFamily:ut,ot="color"in q?q.color:ot);var gt=10*Q,_t=""+gt+"px "+ut,bt=new OffscreenCanvas(gt,gt),Pt=bt.getContext("2d");Pt.font=_t;var Bt=Pt.measureText(R),ve=Math.ceil(Bt.actualBoundingBoxRight+Bt.actualBoundingBoxLeft),ce=Math.ceil(Bt.actualBoundingBoxAscent+Bt.actualBoundingBoxDescent),_e=2,je=Bt.actualBoundingBoxLeft+_e,Wt=Bt.actualBoundingBoxAscent+_e;ve+=_e+_e,ce+=_e+_e,bt=new OffscreenCanvas(ve,ce),Pt=bt.getContext("2d"),Pt.font=_t,Pt.fillStyle=ot,Pt.fillText(R,je,Wt);var tn=1/Q;return{type:"bitmap",bitmap:bt.transferToImageBitmap(),matrix:[tn,0,0,tn,-ve*tn/2,-ce*tn/2]}}e.exports=function(){return st().apply(this,arguments)},e.exports.reset=function(){st().reset()},e.exports.create=se,e.exports.shapeFromPath=yt,e.exports.shapeFromText=re})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),Hy,!1);const gS=Hy.exports;Hy.exports.create;class BV{constructor(){ee(this,"API_URL","https://api.pdok.nl/bzk/locatieserver/search/v3_1/free")}async search(t){if(!t||t.length<2)return[];try{const e=new URLSearchParams({q:`${t} and type:adres`,rows:"5",fl:"id,weergavenaam,straatnaam,huisnummer,postcode,woonplaatsnaam,centroide_ll"}),r=await fetch(`${this.API_URL}?${e.toString()}`);return r.ok?(await r.json()).response.docs.map(u=>{const{lat:f,lon:g}=this.parseWktPoint(u.centroide_ll);return{id:u.id,displayLabel:u.weergavenaam,street:u.straatnaam,houseNumber:u.huisnummer,postcode:u.postcode,city:u.woonplaatsnaam,country:"Nederland",latitude:f,longitude:g}}):[]}catch(e){return console.error("PDOK API Error:",e),[]}}parseWktPoint(t){try{const e=t.match(/POINT\(([\d.]+) ([\d.]+)\)/);return e&&e.length===3?{lon:parseFloat(e[1]),lat:parseFloat(e[2])}:{lat:0,lon:0}}catch{return{lat:0,lon:0}}}}const _S=new BV,jm=({label:n,value:t,onChange:e,onSelect:r,placeholder:o,className:u,isValid:f,hasError:g})=>{const[v,y]=W.useState([]),[S,C]=W.useState(!1),[N,M]=W.useState(!1),H=W.useRef(null);W.useEffect(()=>{const K=setTimeout(async()=>{if(t.length>=2&&S){M(!0);const ht=await _S.search(t);y(ht),M(!1)}else y([])},300);return()=>clearTimeout(K)},[t,S]),W.useEffect(()=>{const K=ht=>{H.current&&!H.current.contains(ht.target)&&C(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]);const Y=K=>{r(K),y([]),C(!1)};return E.jsxs("div",{className:`form-group relative ${u||""}`,ref:H,style:{position:"relative"},children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[E.jsx("label",{className:"form-label",children:n}),f&&E.jsxs("span",{className:"text-green-600",style:{color:"var(--accent-hover)",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px",fontWeight:"bold"},children:[E.jsx(DV,{className:"w-4 h-4"})," Bevestigd"]})]}),E.jsxs("div",{className:"relative group",style:{position:"relative"},children:[E.jsx("div",{className:"absolute inset-y-0 left-0",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:f?"var(--accent-color)":"var(--slate-400)",pointerEvents:"none"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),E.jsx("input",{type:"text",className:`form-input ${f?"valid":""} ${g?"error":""}`,style:{paddingLeft:"2.5rem",borderColor:g?"#f87171":f?"var(--accent-color)":""},value:t,onChange:K=>{e(K.target.value),C(!0)},onFocus:()=>{C(!0),v.length===0&&t.length>=2&&_S.search(t).then(y)},placeholder:o||"Zoek adres...",autoComplete:"off"}),N&&E.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:E.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid var(--primary-color)",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})})]}),g&&!f&&E.jsx("p",{className:"error-message",style:{marginTop:"0.5rem",marginBottom:0,padding:"0.5rem",fontSize:"0.8rem"},children:"Kies een geldig adres uit de lijst"}),S&&v.length>0&&E.jsxs("ul",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",maxHeight:"18rem",overflowY:"auto",marginTop:"0.5rem",padding:"0.5rem 0",listStyle:"none",border:"1px solid var(--slate-200)"},children:[v.map(K=>E.jsx("li",{style:{padding:"0.75rem 1rem",cursor:"pointer",borderBottom:"1px solid var(--slate-50)",transition:"background-color 0.2s"},onMouseEnter:ht=>ht.currentTarget.style.backgroundColor="var(--slate-50)",onMouseLeave:ht=>ht.currentTarget.style.backgroundColor="transparent",onClick:ht=>{ht.stopPropagation(),Y(K)},children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[E.jsx("div",{style:{color:"var(--slate-400)",marginTop:"2px"},children:E.jsxs("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),E.jsxs("div",{style:{marginLeft:"0.75rem"},children:[E.jsxs("p",{style:{margin:0,fontWeight:600,color:"var(--slate-900)",fontSize:"0.9rem"},children:[K.street," ",K.houseNumber]}),E.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--slate-500)"},children:[K.postcode," ",K.city]})]})]})},K.id)),E.jsx("li",{style:{padding:"0.5rem 1rem",fontSize:"0.75rem",color:"var(--slate-400)",textAlign:"center",backgroundColor:"var(--slate-50)",borderTop:"1px solid var(--slate-100)",fontStyle:"italic"},children:"Powered by PDOK"})]}),S&&t.length>=2&&!N&&v.length===0&&E.jsx("div",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",padding:"1rem",textAlign:"center",color:"var(--slate-500)",fontStyle:"italic",marginTop:"0.5rem"},children:"Geen adressen gevonden"})]})};function LC(n,t){const e=W.useRef(t);W.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const UV=1;function FV(n){return Object.freeze({__version:UV,map:n})}function HV(n,t){return Object.freeze({...n,...t})}const qy=W.createContext(null);function Gy(){const n=W.use(qy);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function qV(n){function t(e,r){const{instance:o,context:u}=n(e).current;W.useImperativeHandle(r,()=>o);const{children:f}=e;return f==null?null:Ko.createElement(qy,{value:u},f)}return W.forwardRef(t)}function GV(n){function t(e,r){const[o,u]=W.useState(!1),{instance:f}=n(e,u).current;W.useImperativeHandle(r,()=>f),W.useEffect(function(){o&&f.update()},[f,o,e.children]);const g=f._contentNode;return g?jS.createPortal(e.children,g):null}return W.forwardRef(t)}function ZV(n){function t(e,r){const{instance:o}=n(e).current;return W.useImperativeHandle(r,()=>o),null}return W.forwardRef(t)}function MC(n,t){const e=W.useRef(void 0);W.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function Zy(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function WV(n,t){return function(r,o){const u=Gy(),f=n(Zy(r,u),u);return LC(u.map,r.attribution),MC(f.current,r.eventHandlers),t(f.current,u,r,o),f}}var Dh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var KV=Dh.exports,vS;function YV(){return vS||(vS=1,(function(n,t){(function(e,r){r(t)})(KV,(function(e){var r="1.9.4";function o(a){var c,m,b,T;for(m=1,b=arguments.length;m<b;m++){T=arguments[m];for(c in T)a[c]=T[c]}return a}var u=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function f(a,c){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var b=m.call(arguments,2);return function(){return a.apply(c,b.length?b.concat(m.call(arguments)):arguments)}}var g=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++g),a._leaflet_id}function y(a,c,m){var b,T,I,V;return V=function(){b=!1,T&&(I.apply(m,T),T=!1)},I=function(){b?T=arguments:(a.apply(m,arguments),setTimeout(V,c),b=!0)},I}function S(a,c,m){var b=c[1],T=c[0],I=b-T;return a===b&&m?a:((a-T)%I+I)%I+T}function C(){return!1}function N(a,c){if(c===!1)return a;var m=Math.pow(10,c===void 0?6:c);return Math.round(a*m)/m}function M(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function H(a){return M(a).split(/\s+/)}function Y(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var m in c)a.options[m]=c[m];return a.options}function K(a,c,m){var b=[];for(var T in a)b.push(encodeURIComponent(m?T.toUpperCase():T)+"="+encodeURIComponent(a[T]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var ht=/\{ *([\w_ -]+) *\}/g;function Et(a,c){return a.replace(ht,function(m,b){var T=c[b];if(T===void 0)throw new Error("No value provided for variable "+m);return typeof T=="function"&&(T=T(c)),T})}var lt=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function xt(a,c){for(var m=0;m<a.length;m++)if(a[m]===c)return m;return-1}var Nt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Dt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var k=0;function D(a){var c=+new Date,m=Math.max(0,16-(c-k));return k=c+m,window.setTimeout(a,m)}var j=window.requestAnimationFrame||Dt("RequestAnimationFrame")||D,G=window.cancelAnimationFrame||Dt("CancelAnimationFrame")||Dt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function F(a,c,m){if(m&&j===D)a.call(c);else return j.call(window,f(a,c))}function U(a){a&&G.call(window,a)}var z={__proto__:null,extend:o,create:u,bind:f,get lastId(){return g},stamp:v,throttle:y,wrapNum:S,falseFn:C,formatNum:N,trim:M,splitWords:H,setOptions:Y,getParamString:K,template:Et,isArray:lt,indexOf:xt,emptyImageUrl:Nt,requestFn:j,cancelFn:G,requestAnimFrame:F,cancelAnimFrame:U};function se(){}se.extend=function(a){var c=function(){Y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,b=u(m);b.constructor=c,c.prototype=b;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(c[T]=this[T]);return a.statics&&o(c,a.statics),a.includes&&(Ze(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=m.options?u(m.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,V=b._initHooks.length;I<V;I++)b._initHooks[I].call(this)}},c},se.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},se.mergeOptions=function(a){return o(this.prototype.options,a),this},se.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Ze(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=lt(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var st={on:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c);else{a=H(a);for(var T=0,I=a.length;T<I;T++)this._on(a[T],c,m)}return this},off:function(a,c,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],c);else{a=H(a);for(var T=arguments.length===1,I=0,V=a.length;I<V;I++)T?this._off(a[I]):this._off(a[I],c,m)}return this},_on:function(a,c,m,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,m)===!1){m===this&&(m=void 0);var T={fn:c,ctx:m};b&&(T.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(T)}},_off:function(a,c,m){var b,T,I;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(T=0,I=b.length;T<I;T++)b[T].fn=C;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var V=this._listens(a,c,m);if(V!==!1){var $=b[V];this._firingCount&&($.fn=C,this._events[a]=b=b.slice()),b.splice(V,1)}}},fire:function(a,c,m){if(!this.listens(a,m))return this;var b=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var T=this._events[a];if(T){this._firingCount=this._firingCount+1||1;for(var I=0,V=T.length;I<V;I++){var $=T[I],nt=$.fn;$.once&&this.off(a,nt,$.ctx),nt.call($.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(a,c,m,b){typeof a!="string"&&console.warn('"string" type argument expected');var T=c;typeof c!="function"&&(b=!!c,T=void 0,m=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,T,m)!==!1)return!0;if(b){for(var V in this._eventParents)if(this._eventParents[V].listens(a,c,m,b))return!0}return!1},_listens:function(a,c,m){if(!this._events)return!1;var b=this._events[a]||[];if(!c)return!!b.length;m===this&&(m=void 0);for(var T=0,I=b.length;T<I;T++)if(b[T].fn===c&&b[T].ctx===m)return T;return!1},once:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c,!0);else{a=H(a);for(var T=0,I=a.length;T<I;T++)this._on(a[T],c,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};st.addEventListener=st.on,st.removeEventListener=st.clearAllEventListeners=st.off,st.addOneTimeEventListener=st.once,st.fireEvent=st.fire,st.hasEventListeners=st.listens;var Tt=se.extend(st);function yt(a,c,m){this.x=m?Math.round(a):a,this.y=m?Math.round(c):c}var re=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};yt.prototype={clone:function(){return new yt(this.x,this.y)},add:function(a){return this.clone()._add(q(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(q(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new yt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new yt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(a){a=q(a);var c=a.x-this.x,m=a.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(a){return a=q(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=q(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function q(a,c,m){return a instanceof yt?a:lt(a)?new yt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new yt(a.x,a.y):new yt(a,c,m)}function R(a,c){if(a)for(var m=c?[a,c]:a,b=0,T=m.length;b<T;b++)this.extend(m[b])}R.prototype={extend:function(a){var c,m;if(!a)return this;if(a instanceof yt||typeof a[0]=="number"||"x"in a)c=m=q(a);else if(a=Q(a),c=a.min,m=a.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,m;return typeof a[0]=="number"||a instanceof yt?a=q(a):a=Q(a),a instanceof R?(c=a.min,m=a.max):c=m=a,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=Q(a);var c=this.min,m=this.max,b=a.min,T=a.max,I=T.x>=c.x&&b.x<=m.x,V=T.y>=c.y&&b.y<=m.y;return I&&V},overlaps:function(a){a=Q(a);var c=this.min,m=this.max,b=a.min,T=a.max,I=T.x>c.x&&b.x<m.x,V=T.y>c.y&&b.y<m.y;return I&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,m=this.max,b=Math.abs(c.x-m.x)*a,T=Math.abs(c.y-m.y)*a;return Q(q(c.x-b,c.y-T),q(m.x+b,m.y+T))},equals:function(a){return a?(a=Q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Q(a,c){return!a||a instanceof R?a:new R(a,c)}function ot(a,c){if(a)for(var m=c?[a,c]:a,b=0,T=m.length;b<T;b++)this.extend(m[b])}ot.prototype={extend:function(a){var c=this._southWest,m=this._northEast,b,T;if(a instanceof gt)b=a,T=a;else if(a instanceof ot){if(b=a._southWest,T=a._northEast,!b||!T)return this}else return a?this.extend(_t(a)||ut(a)):this;return!c&&!m?(this._southWest=new gt(b.lat,b.lng),this._northEast=new gt(T.lat,T.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),m.lat=Math.max(T.lat,m.lat),m.lng=Math.max(T.lng,m.lng)),this},pad:function(a){var c=this._southWest,m=this._northEast,b=Math.abs(c.lat-m.lat)*a,T=Math.abs(c.lng-m.lng)*a;return new ot(new gt(c.lat-b,c.lng-T),new gt(m.lat+b,m.lng+T))},getCenter:function(){return new gt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new gt(this.getNorth(),this.getWest())},getSouthEast:function(){return new gt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof gt||"lat"in a?a=_t(a):a=ut(a);var c=this._southWest,m=this._northEast,b,T;return a instanceof ot?(b=a.getSouthWest(),T=a.getNorthEast()):b=T=a,b.lat>=c.lat&&T.lat<=m.lat&&b.lng>=c.lng&&T.lng<=m.lng},intersects:function(a){a=ut(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),I=T.lat>=c.lat&&b.lat<=m.lat,V=T.lng>=c.lng&&b.lng<=m.lng;return I&&V},overlaps:function(a){a=ut(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),I=T.lat>c.lat&&b.lat<m.lat,V=T.lng>c.lng&&b.lng<m.lng;return I&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=ut(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ut(a,c){return a instanceof ot?a:new ot(a,c)}function gt(a,c,m){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,m!==void 0&&(this.alt=+m)}gt.prototype={equals:function(a,c){if(!a)return!1;a=_t(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return Pt.distance(this,_t(a))},wrap:function(){return Pt.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,m=c/Math.cos(Math.PI/180*this.lat);return ut([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new gt(this.lat,this.lng,this.alt)}};function _t(a,c,m){return a instanceof gt?a:lt(a)&&typeof a[0]!="object"?a.length===3?new gt(a[0],a[1],a[2]):a.length===2?new gt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new gt(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new gt(a,c,m)}var bt={latLngToPoint:function(a,c){var m=this.projection.project(a),b=this.scale(c);return this.transformation._transform(m,b)},pointToLatLng:function(a,c){var m=this.scale(c),b=this.transformation.untransform(a,m);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(a),b=this.transformation.transform(c.min,m),T=this.transformation.transform(c.max,m);return new R(b,T)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?S(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?S(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new gt(m,c,b)},wrapLatLngBounds:function(a){var c=a.getCenter(),m=this.wrapLatLng(c),b=c.lat-m.lat,T=c.lng-m.lng;if(b===0&&T===0)return a;var I=a.getSouthWest(),V=a.getNorthEast(),$=new gt(I.lat-b,I.lng-T),nt=new gt(V.lat-b,V.lng-T);return new ot($,nt)}},Pt=o({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var m=Math.PI/180,b=a.lat*m,T=c.lat*m,I=Math.sin((c.lat-a.lat)*m/2),V=Math.sin((c.lng-a.lng)*m/2),$=I*I+Math.cos(b)*Math.cos(T)*V*V,nt=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*nt}}),Bt=6378137,ve={R:Bt,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,a.lat),-m),T=Math.sin(b*c);return new yt(this.R*a.lng*c,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(a){var c=180/Math.PI;return new gt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=Bt*Math.PI;return new R([-a,-a],[a,a])})()};function ce(a,c,m,b){if(lt(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=m,this._d=b}ce.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new yt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function _e(a,c,m,b){return new ce(a,c,m,b)}var je=o({},Pt,{code:"EPSG:3857",projection:ve,transformation:(function(){var a=.5/(Math.PI*ve.R);return _e(a,.5,-a,.5)})()}),Wt=o({},je,{code:"EPSG:900913"});function tn(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ln(a,c){var m="",b,T,I,V,$,nt;for(b=0,I=a.length;b<I;b++){for($=a[b],T=0,V=$.length;T<V;T++)nt=$[T],m+=(T?"L":"M")+nt.x+" "+nt.y;m+=c?Ot.svg?"z":"x":""}return m||"M0 0"}var mn=document.documentElement.style,bn="ActiveXObject"in window,Ne=bn&&!document.addEventListener,we="msLaunchUri"in navigator&&!("documentMode"in document),yi=Mn("webkit"),Qa=Mn("android"),ra=Mn("android 2")||Mn("android 3"),En=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Gr=Qa&&Mn("Google")&&En<537&&!("AudioNode"in window),hr=!!window.opera,ws=!we&&Mn("chrome"),Bi=Mn("gecko")&&!yi&&!hr&&!bn,Xa=!ws&&Mn("safari"),Ts=Mn("phantom"),Zr="OTransition"in mn,$a=navigator.platform.indexOf("Win")===0,Xn=bn&&"transition"in mn,pn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ra,ui="MozPerspective"in mn,en=!window.L_DISABLE_3D&&(Xn||pn||ui)&&!Zr&&!Ts,Ss=typeof orientation<"u"||Mn("mobile"),Ja=Ss&&yi,pu=Ss&&pn,Ui=!window.PointerEvent&&window.MSPointerEvent,xs=!!(window.PointerEvent||Ui),nn="ontouchstart"in window||!!window.TouchEvent,fr=!window.L_NO_TOUCH&&(nn||xs),dr=Ss&&hr,Fi=Ss&&Bi,Bc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,gu=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",C,c),window.removeEventListener("testPassiveEventSupport",C,c)}catch{}return a})(),mr=(function(){return!!document.createElement("canvas").getContext})(),Wr=!!(document.createElementNS&&tn("svg").createSVGRect),Uc=!!Wr&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),sa=!Wr&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),ol=navigator.platform.indexOf("Mac")===0,ll=navigator.platform.indexOf("Linux")===0;function Mn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ot={ie:bn,ielt9:Ne,edge:we,webkit:yi,android:Qa,android23:ra,androidStock:Gr,opera:hr,chrome:ws,gecko:Bi,safari:Xa,phantom:Ts,opera12:Zr,win:$a,ie3d:Xn,webkit3d:pn,gecko3d:ui,any3d:en,mobile:Ss,mobileWebkit:Ja,mobileWebkit3d:pu,msPointer:Ui,pointer:xs,touch:fr,touchNative:nn,mobileOpera:dr,mobileGecko:Fi,retina:Bc,passiveEvents:gu,canvas:mr,svg:Wr,vml:sa,inlineSvg:Uc,mac:ol,linux:ll},ul=Ot.msPointer?"MSPointerDown":"pointerdown",bi=Ot.msPointer?"MSPointerMove":"pointermove",Ei=Ot.msPointer?"MSPointerUp":"pointerup",rn=Ot.msPointer?"MSPointerCancel":"pointercancel",un={touchstart:ul,touchmove:bi,touchend:Ei,touchcancel:rn},Hi={touchstart:gr,touchmove:Dn,touchend:Dn,touchcancel:Dn},qi={},_u=!1;function vu(a,c,m){return c==="touchstart"&&wi(),Hi[c]?(m=Hi[c].bind(this,m),a.addEventListener(un[c],m,!1),m):(console.warn("wrong event specified:",c),C)}function yu(a,c,m){if(!un[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(un[c],m,!1)}function pr(a){qi[a.pointerId]=a}function to(a){qi[a.pointerId]&&(qi[a.pointerId]=a)}function Gi(a){delete qi[a.pointerId]}function wi(){_u||(document.addEventListener(ul,pr,!0),document.addEventListener(bi,to,!0),document.addEventListener(Ei,Gi,!0),document.addEventListener(rn,Gi,!0),_u=!0)}function Dn(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in qi)c.touches.push(qi[m]);c.changedTouches=[c],a(c)}}function gr(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Ye(c),Dn(a,c)}function cn(a){var c={},m,b;for(b in a)m=a[b],c[b]=m&&m.bind?m.bind(a):m;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var cl=200;function hl(a,c){a.addEventListener("dblclick",c);var m=0,b;function T(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var V=Os(I);if(!(V.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!V.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var $=Date.now();$-m<=cl?(b++,b===2&&c(cn(I))):b=1,m=$}}}return a.addEventListener("click",T),{dblclick:c,simDblclick:T}}function _r(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Ti=oa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kr=oa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),eo=Kr==="webkitTransition"||Kr==="OTransition"?Kr+"End":"transitionend";function no(a){return typeof a=="string"?document.getElementById(a):a}function As(a,c){var m=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);m=b?b[c]:null}return m==="auto"?null:m}function ie(a,c,m){var b=document.createElement(a);return b.className=c||"",m&&m.appendChild(b),b}function ae(a){var c=a.parentNode;c&&c.removeChild(a)}function We(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ke(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function ci(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function aa(a,c){if(a.classList!==void 0)return a.classList.contains(c);var m=vr(a);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Rt(a,c){if(a.classList!==void 0)for(var m=H(c),b=0,T=m.length;b<T;b++)a.classList.add(m[b]);else if(!aa(a,c)){var I=vr(a);Si(a,(I?I+" ":"")+c)}}function Le(a,c){a.classList!==void 0?a.classList.remove(c):Si(a,M((" "+vr(a)+" ").replace(" "+c+" "," ")))}function Si(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function vr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ue(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&io(a,c)}function io(a,c){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):a.style.filter+=" progid:"+b+"(opacity="+c+")"}function oa(a){for(var c=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in c)return a[m];return!1}function Zi(a,c,m){var b=c||new yt(0,0);a.style[Ti]=(Ot.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function Me(a,c){a._leaflet_pos=c,Ot.any3d?Zi(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function yr(a){return a._leaflet_pos||new yt(0,0)}var xi,wn,ro;if("onselectstart"in document)xi=function(){Ut(window,"selectstart",Ye)},wn=function(){Te(window,"selectstart",Ye)};else{var Yr=oa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);xi=function(){if(Yr){var a=document.documentElement.style;ro=a[Yr],a[Yr]="none"}},wn=function(){Yr&&(document.documentElement.style[Yr]=ro,ro=void 0)}}function la(){Ut(window,"dragstart",Ye)}function Cs(){Te(window,"dragstart",Ye)}var ua,br;function Rs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&($n(),ua=a,br=a.style.outlineStyle,a.style.outlineStyle="none",Ut(window,"keydown",$n))}function $n(){ua&&(ua.style.outlineStyle=br,ua=void 0,br=void 0,Te(window,"keydown",$n))}function so(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Jn(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Is={__proto__:null,TRANSFORM:Ti,TRANSITION:Kr,TRANSITION_END:eo,get:no,getStyle:As,create:ie,remove:ae,empty:We,toFront:Ke,toBack:ci,hasClass:aa,addClass:Rt,removeClass:Le,setClass:Si,getClass:vr,setOpacity:Ue,testProp:oa,setTransform:Zi,setPosition:Me,getPosition:yr,get disableTextSelection(){return xi},get enableTextSelection(){return wn},disableImageDrag:la,enableImageDrag:Cs,preventOutline:Rs,restoreOutline:$n,getSizedParentNode:so,getScale:Jn};function Ut(a,c,m,b){if(c&&typeof c=="object")for(var T in c)ti(a,T,c[T],m);else{c=H(c);for(var I=0,V=c.length;I<V;I++)ti(a,c[I],m,b)}return this}var kn="_leaflet_events";function Te(a,c,m,b){if(arguments.length===1)Qr(a),delete a[kn];else if(c&&typeof c=="object")for(var T in c)Xr(a,T,c[T],m);else if(c=H(c),arguments.length===2)Qr(a,function($){return xt(c,$)!==-1});else for(var I=0,V=c.length;I<V;I++)Xr(a,c[I],m,b);return this}function Qr(a,c){for(var m in a[kn]){var b=m.split(/\d/)[0];(!c||c(b))&&Xr(a,b,null,null,m)}}var hi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ti(a,c,m,b){var T=c+v(m)+(b?"_"+v(b):"");if(a[kn]&&a[kn][T])return this;var I=function($){return m.call(b||a,$||window.event)},V=I;!Ot.touchNative&&Ot.pointer&&c.indexOf("touch")===0?I=vu(a,c,I):Ot.touch&&c==="dblclick"?I=hl(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(hi[c]||c,I,Ot.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function($){$=$||window.event,Yi(a,$)&&V($)},a.addEventListener(hi[c],I,!1)):a.addEventListener(c,V,!1):a.attachEvent("on"+c,I),a[kn]=a[kn]||{},a[kn][T]=I}function Xr(a,c,m,b,T){T=T||c+v(m)+(b?"_"+v(b):"");var I=a[kn]&&a[kn][T];if(!I)return this;!Ot.touchNative&&Ot.pointer&&c.indexOf("touch")===0?yu(a,c,I):Ot.touch&&c==="dblclick"?_r(a,I):"removeEventListener"in a?a.removeEventListener(hi[c]||c,I,!1):a.detachEvent("on"+c,I),a[kn][T]=null}function he(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ai(a){return ti(a,"wheel",he),this}function $r(a){return Ut(a,"mousedown touchstart dblclick contextmenu",he),a._leaflet_disable_click=!0,this}function Ye(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Wi(a){return Ye(a),he(a),this}function Os(a){if(a.composedPath)return a.composedPath();for(var c=[],m=a.target;m;)c.push(m),m=m.parentNode;return c}function Er(a,c){if(!c)return new yt(a.clientX,a.clientY);var m=Jn(c),b=m.boundingClientRect;return new yt((a.clientX-b.left)/m.x-c.clientLeft,(a.clientY-b.top)/m.y-c.clientTop)}var Ki=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tn(a){return Ot.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Ki:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Yi(a,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var wr={__proto__:null,on:Ut,off:Te,stopPropagation:he,disableScrollPropagation:Ai,disableClickPropagation:$r,preventDefault:Ye,stop:Wi,getPropagationPath:Os,getMousePosition:Er,getWheelDelta:Tn,isExternalTarget:Yi,addListener:Ut,removeListener:Te},Jr=Tt.extend({run:function(a,c,m,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=yr(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var m=this._startPos.add(this._offset.multiplyBy(a));c&&m._round(),Me(this._el,m),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),ne=Tt.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=Y(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(_t(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kr&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,eo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(_t(a),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,m.zoom):this._tryAnimatedPan(a,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,m){var b=this.getZoomScale(c),T=this.getSize().divideBy(2),I=a instanceof yt?a:this.latLngToContainerPoint(a),V=I.subtract(T).multiplyBy(1-1/b),$=this.containerPointToLatLng(T.add(V));return this.setView($,c,{zoom:m})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():ut(a);var m=q(c.paddingTopLeft||c.padding||[0,0]),b=q(c.paddingBottomRight||c.padding||[0,0]),T=this.getBoundsZoom(a,!1,m.add(b));if(T=typeof c.maxZoom=="number"?Math.min(c.maxZoom,T):T,T===1/0)return{center:a.getCenter(),zoom:T};var I=b.subtract(m).divideBy(2),V=this.project(a.getSouthWest(),T),$=this.project(a.getNorthEast(),T),nt=this.unproject(V.add($).divideBy(2).add(I),T);return{center:nt,zoom:T}},fitBounds:function(a,c){if(a=ut(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=q(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Jr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Rt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,m){if(m=m||{},m.animate===!1||!Ot.any3d)return this.setView(a,c,m);this._stop();var b=this.project(this.getCenter()),T=this.project(a),I=this.getSize(),V=this._zoom;a=_t(a),c=c===void 0?V:c;var $=Math.max(I.x,I.y),nt=$*this.getZoomScale(V,c),dt=T.distanceTo(b)||1,St=1.42,kt=St*St;function Jt(sn){var rs=sn?-1:1,ga=sn?nt:$,Wc=nt*nt-$*$+rs*kt*kt*dt*dt,Nl=2*ga*kt*dt,Pl=Wc/Nl,Bs=Math.sqrt(Pl*Pl+1)-Pl,ss=Bs<1e-9?-18:Math.log(Bs);return ss}function Nn(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function hn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function mi(sn){return Nn(sn)/hn(sn)}var xe=Jt(0);function Ae(sn){return $*(hn(xe)/hn(xe+St*sn))}function oe(sn){return $*(hn(xe)*mi(xe+St*sn)-Nn(xe))/kt}function Vs(sn){return 1-Math.pow(1-sn,1.5)}var Ni=Date.now(),Pu=(Jt(1)-xe)/St,zs=m.duration?1e3*m.duration:1e3*Pu*.8;function Zc(){var sn=(Date.now()-Ni)/zs,rs=Vs(sn)*Pu;sn<=1?(this._flyToFrame=F(Zc,this),this._move(this.unproject(b.add(T.subtract(b).multiplyBy(oe(rs)/dt)),V),this.getScaleZoom($/Ae(rs),V),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Zc.call(this),this},flyToBounds:function(a,c){var m=this._getBoundsCenterZoom(a,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(a){return a=ut(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,ut(a));return m.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var m=q(c.paddingTopLeft||c.padding||[0,0]),b=q(c.paddingBottomRight||c.padding||[0,0]),T=this.project(this.getCenter()),I=this.project(a),V=this.getPixelBounds(),$=Q([V.min.add(m),V.max.subtract(b)]),nt=$.getSize();if(!$.contains(I)){this._enforcingBounds=!0;var dt=I.subtract($.getCenter()),St=$.extend(I).getSize().subtract(nt);T.x+=dt.x<0?-St.x:St.x,T.y+=dt.y<0?-St.y:St.y,this.panTo(this.unproject(T),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=c.divideBy(2).round(),T=m.divideBy(2).round(),I=b.subtract(T);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,a):navigator.geolocation.getCurrentPosition(c,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,m=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,m=a.coords.longitude,b=new gt(c,m),T=b.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var V=this.getBoundsZoom(T);this.setView(b,I.maxZoom?Math.min(V,I.maxZoom):V)}var $={latlng:b,bounds:T,timestamp:a.timestamp};for(var nt in a.coords)typeof a.coords[nt]=="number"&&($[nt]=a.coords[nt]);this.fire("locationfound",$)}},addHandler:function(a,c){if(!c)return this;var m=this[a]=new c(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ae(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=ie("div",m,c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new ot(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,m){a=ut(a),m=q(m||[0,0]);var b=this.getZoom()||0,T=this.getMinZoom(),I=this.getMaxZoom(),V=a.getNorthWest(),$=a.getSouthEast(),nt=this.getSize().subtract(m),dt=Q(this.project($,b),this.project(V,b)).getSize(),St=Ot.any3d?this.options.zoomSnap:1,kt=nt.x/dt.x,Jt=nt.y/dt.y,Nn=c?Math.max(kt,Jt):Math.min(kt,Jt);return b=this.getScaleZoom(Nn,b),St&&(b=Math.round(b/(St/100))*(St/100),b=c?Math.ceil(b/St)*St:Math.floor(b/St)*St),Math.max(T,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new yt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var m=this._getTopLeftPoint(a,c);return new R(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(a)/m.scale(c)},getScaleZoom:function(a,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var b=m.zoom(a*m.scale(c));return isNaN(b)?1/0:b},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(_t(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(q(a),c)},layerPointToLatLng:function(a){var c=q(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(_t(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(_t(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ut(a))},distance:function(a,c){return this.options.crs.distance(_t(a),_t(c))},containerPointToLayerPoint:function(a){return q(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return q(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(q(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_t(a)))},mouseEventToContainerPoint:function(a){return Er(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=no(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(c,"scroll",this._onScroll,this),this._containerId=v(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Rt(a,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=As(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new yt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Rt(a.markerPane,"leaflet-zoom-hide"),Rt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,m){Me(this._mapPane,new yt(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var T=this._zoom!==c;this._moveStart(T,m)._move(a,c)._moveEnd(T),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,m,b){c===void 0&&(c=this._zoom);var T=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?m&&m.pinch&&this.fire("zoom",m):((T||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Me(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var c=a?Te:Ut;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var m=[],b,T=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,V=!1;I;){if(b=this._targets[v(I)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){V=!0;break}if(b&&b.listens(c,!0)&&(T&&!Yi(I,a)||(m.push(b),T))||I===this._container)break;I=I.parentNode}return!m.length&&!V&&!T&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var m=a.type;m==="mousedown"&&Rs(c),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,m){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var T=this._findEventTargets(a,c);if(m){for(var I=[],V=0;V<m.length;V++)m[V].listens(c,!0)&&I.push(m[V]);T=I.concat(T)}if(T.length){c==="contextmenu"&&Ye(a);var $=T[0],nt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var dt=$.getLatLng&&(!$._radius||$._radius<=10);nt.containerPoint=dt?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(a),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=dt?$.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(V=0;V<T.length;V++)if(T[V].fire(c,nt,!0),nt.originalEvent._stopped||T[V].options.bubblingMouseEvents===!1&&xt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return yr(this._mapPane)||new yt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var m=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var m=this.getSize()._divideBy(2);return this.project(a,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return this.project(a,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return Q([this.project(a.getSouthWest(),c)._subtract(b),this.project(a.getNorthWest(),c)._subtract(b),this.project(a.getSouthEast(),c)._subtract(b),this.project(a.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,m){if(!m)return a;var b=this.project(a,c),T=this.getSize().divideBy(2),I=new R(b.subtract(T),b.add(T)),V=this._getBoundsOffset(I,m,c);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?a:this.unproject(b.add(V),c)},_limitOffset:function(a,c){if(!c)return a;var m=this.getPixelBounds(),b=new R(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(a,c,m){var b=Q(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),T=b.min.subtract(a.min),I=b.max.subtract(a.max),V=this._rebound(T.x,-I.x),$=this._rebound(T.y,-I.y);return new yt(V,$)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),m=this.getMaxZoom(),b=Ot.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var m=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var a=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var m=Ti,b=this._proxy.style[m];Zi(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Zi(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),T=this._getCenterOffset(a)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(T)?!1:(F(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ns(a,c){return new ne(a,c)}var jn=se.extend({options:{position:"topright"},initialize:function(a){Y(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),m=this.getPosition(),b=a._controlCorners[m];return Rt(c,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),ei=function(a){return new jn(a)};ne.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",m=this._controlContainer=ie("div",c+"control-container",this._container);function b(T,I){var V=c+T+" "+c+I;a[T+I]=ie("div",V,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ae(this._controlCorners[a]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ca=jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,m,b){return m<b?-1:b<m?1:0}},initialize:function(a,c,m){Y(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return jn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(v(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=ie("div",a),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),$r(c),Ai(c);var b=this._section=ie("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Ut(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=ie("a",a+"-toggle",c);T.href="#",T.title="Layers",T.setAttribute("role","button"),Ut(T,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Ye(I),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ie("div",a+"-base",b),this._separator=ie("div",a+"-separator",b),this._overlaysList=ie("div",a+"-overlays",b),c.appendChild(b)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&v(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(b,T){return this.options.sortFunction(b.layer,T.layer,b.name,T.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var a,c,m,b,T=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,T+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&T>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(v(a.target)),m=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(a,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(a){var c=document.createElement("label"),m=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+v(this),m),this._layerControlInputs.push(b),b.layerId=v(a.layer),Ut(b,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(b),I.appendChild(T);var V=a.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,m,b=[],T=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],m=this._getLayer(c.layerId).layer,c.checked?b.push(m):c.checked||T.push(m);for(I=0;I<T.length;I++)this._map.hasLayer(T[I])&&this._map.removeLayer(T[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,m,b=this._map.getZoom(),T=a.length-1;T>=0;T--)c=a[T],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ut(a,"click",Ye),this.expand();var c=this;setTimeout(function(){Te(a,"click",Ye),c._preventClick=!1})}}),fl=function(a,c,m){return new ca(a,c,m)},ts=jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",m=ie("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,m,b,T){var I=ie("a",m,b);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),$r(I),Ut(I,"click",Wi),Ut(I,"click",T,this),Ut(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Le(this._zoomInButton,c),Le(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Rt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Rt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});ne.mergeOptions({zoomControl:!0}),ne.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ts,this.addControl(this.zoomControl))});var bu=function(a){return new ts(a)},dl=jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",m=ie("div",c),b=this.options;return this._addScales(b,c+"-line",m),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,m){a.metric&&(this._mScale=ie("div",c,m)),a.imperial&&(this._iScale=ie("div",c,m))},_update:function(){var a=this._map,c=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/a)},_updateImperial:function(a){var c=a*3.2808399,m,b,T;c>5280?(m=c/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(T=this._getRoundNum(c),this._updateScale(this._iScale,T+" ft",T/c))},_updateScale:function(a,c,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),m=a/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),ha=function(a){return new dl(a)},ml='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ao=jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?ml+" ":"")+"Leaflet</a>"},initialize:function(a){Y(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),$r(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});ne.mergeOptions({attributionControl:!0}),ne.addInitHook(function(){this.options.attributionControl&&new ao().addTo(this)});var oo=function(a){return new ao(a)};jn.Layers=ca,jn.Zoom=ts,jn.Scale=dl,jn.Attribution=ao,ei.layers=fl,ei.zoom=bu,ei.scale=ha,ei.attribution=oo;var fi=se.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fi.addTo=function(a,c){return a.addHandler(c,this),this};var Eu={Events:st},Qi=Ot.touch?"touchstart mousedown":"mousedown",Xi=Tt.extend({options:{clickTolerance:3},initialize:function(a,c,m,b){Y(this,b),this._element=a,this._dragStartTarget=c||a,this._preventOutline=m},enable:function(){this._enabled||(Ut(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xi._dragging===this&&this.finishDrag(!0),Te(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!aa(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Xi._dragging===this&&this.finishDrag();return}if(!(Xi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Xi._dragging=this,this._preventOutline&&Rs(this._element),la(),xi(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,m=so(this._element);this._startPoint=new yt(c.clientX,c.clientY),this._startPos=yr(this._element),this._parentScale=Jn(m);var b=a.type==="mousedown";Ut(document,b?"mousemove":"touchmove",this._onMove,this),Ut(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,m=new yt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ye(a),this._moved||(this.fire("dragstart"),this._moved=!0,Rt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Me(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Te(document,"mousemove touchmove",this._onMove,this),Te(document,"mouseup touchend touchcancel",this._onUp,this),Cs(),wn();var c=this._moved&&this._moving;this._moving=!1,Xi._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function pl(a,c,m){var b,T=[1,4,2,8],I,V,$,nt,dt,St,kt,Jt;for(I=0,St=a.length;I<St;I++)a[I]._code=rt(a[I],c);for($=0;$<4;$++){for(kt=T[$],b=[],I=0,St=a.length,V=St-1;I<St;V=I++)nt=a[I],dt=a[V],nt._code&kt?dt._code&kt||(Jt=J(dt,nt,kt,c,m),Jt._code=rt(Jt,c),b.push(Jt)):(dt._code&kt&&(Jt=J(dt,nt,kt,c,m),Jt._code=rt(Jt,c),b.push(Jt)),b.push(nt));a=b}return a}function gl(a,c){var m,b,T,I,V,$,nt,dt,St;if(!a||a.length===0)throw new Error("latlngs not passed");ye(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var kt=_t([0,0]),Jt=ut(a),Nn=Jt.getNorthWest().distanceTo(Jt.getSouthWest())*Jt.getNorthEast().distanceTo(Jt.getNorthWest());Nn<1700&&(kt=lo(a));var hn=a.length,mi=[];for(m=0;m<hn;m++){var xe=_t(a[m]);mi.push(c.project(_t([xe.lat-kt.lat,xe.lng-kt.lng])))}for($=nt=dt=0,m=0,b=hn-1;m<hn;b=m++)T=mi[m],I=mi[b],V=T.y*I.x-I.y*T.x,nt+=(T.x+I.x)*V,dt+=(T.y+I.y)*V,$+=V*3;$===0?St=mi[0]:St=[nt/$,dt/$];var Ae=c.unproject(q(St));return _t([Ae.lat+kt.lat,Ae.lng+kt.lng])}function lo(a){for(var c=0,m=0,b=0,T=0;T<a.length;T++){var I=_t(a[T]);c+=I.lat,m+=I.lng,b++}return _t([c/b,m/b])}var Ps={__proto__:null,clipPolygon:pl,polygonCenter:gl,centroid:lo};function Vn(a,c){if(!c||!a.length)return a.slice();var m=c*c;return a=w(a,m),a=es(a,m),a}function _l(a,c,m){return Math.sqrt(Gt(a,c,m,!0))}function wu(a,c,m){return Gt(a,c,m)}function es(a,c){var m=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,T=new b(m);T[0]=T[m-1]=1,d(a,T,c,0,m-1);var I,V=[];for(I=0;I<m;I++)T[I]&&V.push(a[I]);return V}function d(a,c,m,b,T){var I=0,V,$,nt;for($=b+1;$<=T-1;$++)nt=Gt(a[$],a[b],a[T],!0),nt>I&&(V=$,I=nt);I>m&&(c[V]=1,d(a,c,m,b,V),d(a,c,m,V,T))}function w(a,c){for(var m=[a[0]],b=1,T=0,I=a.length;b<I;b++)wt(a[b],a[T])>c&&(m.push(a[b]),T=b);return T<I-1&&m.push(a[I-1]),m}var A;function P(a,c,m,b,T){var I=b?A:rt(a,m),V=rt(c,m),$,nt,dt;for(A=V;;){if(!(I|V))return[a,c];if(I&V)return!1;$=I||V,nt=J(a,c,$,m,T),dt=rt(nt,m),$===I?(a=nt,I=dt):(c=nt,V=dt)}}function J(a,c,m,b,T){var I=c.x-a.x,V=c.y-a.y,$=b.min,nt=b.max,dt,St;return m&8?(dt=a.x+I*(nt.y-a.y)/V,St=nt.y):m&4?(dt=a.x+I*($.y-a.y)/V,St=$.y):m&2?(dt=nt.x,St=a.y+V*(nt.x-a.x)/I):m&1&&(dt=$.x,St=a.y+V*($.x-a.x)/I),new yt(dt,St,T)}function rt(a,c){var m=0;return a.x<c.min.x?m|=1:a.x>c.max.x&&(m|=2),a.y<c.min.y?m|=4:a.y>c.max.y&&(m|=8),m}function wt(a,c){var m=c.x-a.x,b=c.y-a.y;return m*m+b*b}function Gt(a,c,m,b){var T=c.x,I=c.y,V=m.x-T,$=m.y-I,nt=V*V+$*$,dt;return nt>0&&(dt=((a.x-T)*V+(a.y-I)*$)/nt,dt>1?(T=m.x,I=m.y):dt>0&&(T+=V*dt,I+=$*dt)),V=a.x-T,$=a.y-I,b?V*V+$*$:new yt(T,I)}function ye(a){return!lt(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function be(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ye(a)}function Fe(a,c){var m,b,T,I,V,$,nt,dt;if(!a||a.length===0)throw new Error("latlngs not passed");ye(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var St=_t([0,0]),kt=ut(a),Jt=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());Jt<1700&&(St=lo(a));var Nn=a.length,hn=[];for(m=0;m<Nn;m++){var mi=_t(a[m]);hn.push(c.project(_t([mi.lat-St.lat,mi.lng-St.lng])))}for(m=0,b=0;m<Nn-1;m++)b+=hn[m].distanceTo(hn[m+1])/2;if(b===0)dt=hn[0];else for(m=0,I=0;m<Nn-1;m++)if(V=hn[m],$=hn[m+1],T=V.distanceTo($),I+=T,I>b){nt=(I-b)/T,dt=[$.x-nt*($.x-V.x),$.y-nt*($.y-V.y)];break}var xe=c.unproject(q(dt));return _t([xe.lat+St.lat,xe.lng+St.lng])}var Ci={__proto__:null,simplify:Vn,pointToSegmentDistance:_l,closestPointOnSegment:wu,clipSegment:P,_getEdgeIntersection:J,_getBitCode:rt,_sqClosestPointOnSegment:Gt,isFlat:ye,_flat:be,polylineCenter:Fe},Ri={project:function(a){return new yt(a.lng,a.lat)},unproject:function(a){return new gt(a.y,a.x)},bounds:new R([-180,-90],[180,90])},di={R:6378137,R_MINOR:6356752314245179e-9,bounds:new R([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,m=this.R,b=a.lat*c,T=this.R_MINOR/m,I=Math.sqrt(1-T*T),V=I*Math.sin(b),$=Math.tan(Math.PI/4-b/2)/Math.pow((1-V)/(1+V),I/2);return b=-m*Math.log(Math.max($,1e-10)),new yt(a.lng*c*m,b)},unproject:function(a){for(var c=180/Math.PI,m=this.R,b=this.R_MINOR/m,T=Math.sqrt(1-b*b),I=Math.exp(-a.y/m),V=Math.PI/2-2*Math.atan(I),$=0,nt=.1,dt;$<15&&Math.abs(nt)>1e-7;$++)dt=T*Math.sin(V),dt=Math.pow((1-dt)/(1+dt),T/2),nt=Math.PI/2-2*Math.atan(I*dt)-V,V+=nt;return new gt(V*c,a.x*c/m)}},$i={__proto__:null,LonLat:Ri,Mercator:di,SphericalMercator:ve},fa=o({},Pt,{code:"EPSG:3395",projection:di,transformation:(function(){var a=.5/(Math.PI*di.R);return _e(a,.5,-a,.5)})()}),da=o({},Pt,{code:"EPSG:4326",projection:Ri,transformation:_e(1/180,1,-1/180,.5)}),uo=o({},bt,{projection:Ri,transformation:_e(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var m=c.lng-a.lng,b=c.lat-a.lat;return Math.sqrt(m*m+b*b)},infinite:!0});bt.Earth=Pt,bt.EPSG3395=fa,bt.EPSG3857=je,bt.EPSG900913=Wt,bt.EPSG4326=da,bt.Simple=uo;var Ji=Tt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});ne.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=v(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=v(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},_addLayers:function(a){a=a?lt(a)?a:[a]:[];for(var c=0,m=a.length;c<m;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=v(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var T=this._zoomBoundLayers[b].options;a=T.minZoom===void 0?a:Math.min(a,T.minZoom),c=T.maxZoom===void 0?c:Math.max(c,T.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var co=Ji.extend({initialize:function(a,c){Y(this,c),this._layers={};var m,b;if(a)for(m=0,b=a.length;m<b;m++)this.addLayer(a[m])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),wp=function(a,c){return new co(a,c)},Tr=co.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),co.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),co.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ot;for(var c in this._layers){var m=this._layers[c];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),xf=function(a,c){return new Tr(a,c)},Sr=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){Y(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,c){var m=this.options,b=m[c+"Size"];typeof b=="number"&&(b=[b,b]);var T=q(b),I=q(c==="shadow"&&m.shadowAnchor||m.iconAnchor||T&&T.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(m.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),T&&(a.style.width=T.x+"px",a.style.height=T.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Ot.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function vl(a){return new Sr(a)}var yl=Sr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof yl.imagePath!="string"&&(yl.imagePath=this._detectIconPath()),(this.options.imagePath||yl.imagePath)+Sr.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(m,b,T){var I=b.exec(m);return I&&I[T]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ie("div","leaflet-default-icon-path",document.body),c=As(a,"background-image")||As(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),bl=fi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Xi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Rt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,m=c._map,b=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,I=yr(c._icon),V=m.getPixelBounds(),$=m.getPixelOrigin(),nt=Q(V.min._subtract($).add(T),V.max._subtract($).subtract(T));if(!nt.contains(I)){var dt=q((Math.max(nt.max.x,I.x)-nt.max.x)/(V.max.x-nt.max.x)-(Math.min(nt.min.x,I.x)-nt.min.x)/(V.min.x-nt.min.x),(Math.max(nt.max.y,I.y)-nt.max.y)/(V.max.y-nt.max.y)-(Math.min(nt.min.y,I.y)-nt.min.y)/(V.min.y-nt.min.y)).multiplyBy(b);m.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),Me(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=F(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,m=c._shadow,b=yr(c._icon),T=c._map.layerPointToLatLng(b);m&&Me(m,b),c._latlng=T,a.latlng=T,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),El=Ji.extend({options:{icon:new yl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){Y(this,c),this._latlng=_t(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=_t(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Rt(m,c),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(m,"focus",this._panOnFocus,this);var T=a.icon.createShadow(this._shadow),I=!1;T!==this._shadow&&(this._removeShadow(),I=!0),T&&(Rt(T,c),T.alt=""),this._shadow=T,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(this._icon,"focus",this._panOnFocus,this),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Me(this._icon,a),this._shadow&&Me(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ue(this._icon,a),this._shadow&&Ue(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,m=c.iconSize?q(c.iconSize):q(0,0),b=c.iconAnchor?q(c.iconAnchor):q(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Af(a,c){return new El(a,c)}var xr=Ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return Y(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ho=xr.extend({options:{fill:!0,radius:10},initialize:function(a,c){Y(this,c),this._latlng=_t(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=_t(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return xr.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,m=this._clickTolerance(),b=[a+m,c+m];this._pxBounds=new R(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cf(a,c){return new ho(a,c)}var Tu=ho.extend({initialize:function(a,c,m){if(typeof c=="number"&&(c=o({},m,{radius:c})),Y(this,c),this._latlng=_t(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ot(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:xr.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===Pt.distance){var T=Math.PI/180,I=this._mRadius/Pt.R/T,V=m.project([c+I,a]),$=m.project([c-I,a]),nt=V.add($).divideBy(2),dt=m.unproject(nt).lat,St=Math.acos((Math.cos(I*T)-Math.sin(c*T)*Math.sin(dt*T))/(Math.cos(c*T)*Math.cos(dt*T)))/T;(isNaN(St)||St===0)&&(St=I/Math.cos(Math.PI/180*c)),this._point=nt.subtract(m.getPixelOrigin()),this._radius=isNaN(St)?0:nt.x-m.project([dt,a-St]).x,this._radiusY=nt.y-V.y}else{var kt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(kt).x}this._updateBounds()}});function Rf(a,c,m){return new Tu(a,c,m)}var ns=xr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){Y(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,m=null,b=Gt,T,I,V=0,$=this._parts.length;V<$;V++)for(var nt=this._parts[V],dt=1,St=nt.length;dt<St;dt++){T=nt[dt-1],I=nt[dt];var kt=b(a,T,I,!0);kt<c&&(c=kt,m=b(a,T,I))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fe(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=_t(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ot,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],m=ye(a),b=0,T=a.length;b<T;b++)m?(c[b]=_t(a[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(a[b]);return c},_project:function(){var a=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new yt(a,a);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,m){var b=a[0]instanceof gt,T=a.length,I,V;if(b){for(V=[],I=0;I<T;I++)V[I]=this._map.latLngToLayerPoint(a[I]),m.extend(V[I]);c.push(V)}else for(I=0;I<T;I++)this._projectLatlngs(a[I],c,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,b,T,I,V,$,nt;for(m=0,T=0,I=this._rings.length;m<I;m++)for(nt=this._rings[m],b=0,V=nt.length;b<V-1;b++)$=P(nt[b],nt[b+1],a,b,!0),$&&(c[T]=c[T]||[],c[T].push($[0]),($[1]!==nt[b+1]||b===V-2)&&(c[T].push($[1]),T++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,m=0,b=a.length;m<b;m++)a[m]=Vn(a[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var m,b,T,I,V,$,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,I=this._parts.length;m<I;m++)for($=this._parts[m],b=0,V=$.length,T=V-1;b<V;T=b++)if(!(!c&&b===0)&&_l(a,$[T],$[b])<=nt)return!0;return!1}});function Tp(a,c){return new ns(a,c)}ns._flat=be;var fo=ns.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=ns.prototype._convertLatLngs.call(this,a),m=c.length;return m>=2&&c[0]instanceof gt&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(a){ns.prototype._setLatLngs.call(this,a),ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,m=new yt(c,c);if(a=new R(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,T=this._rings.length,I;b<T;b++)I=pl(this._rings[b],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,m,b,T,I,V,$,nt,dt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,nt=this._parts.length;I<nt;I++)for(m=this._parts[I],V=0,dt=m.length,$=dt-1;V<dt;$=V++)b=m[V],T=m[$],b.y>a.y!=T.y>a.y&&a.x<(T.x-b.x)*(a.y-b.y)/(T.y-b.y)+b.x&&(c=!c);return c||ns.prototype._containsPoint.call(this,a,!0)}});function Sp(a,c){return new fo(a,c)}var is=Tr.extend({initialize:function(a,c){Y(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=lt(a)?a:a.features,m,b,T;if(c){for(m=0,b=c.length;m<b;m++)T=c[m],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var V=zn(a,I);return V?(V.feature=Au(a),V.defaultOptions=V.options,this.resetStyle(V),I.onEachFeature&&I.onEachFeature(a,V),this.addLayer(V)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function zn(a,c){var m=a.type==="Feature"?a.geometry:a,b=m?m.coordinates:null,T=[],I=c&&c.pointToLayer,V=c&&c.coordsToLatLng||Su,$,nt,dt,St;if(!b&&!m)return null;switch(m.type){case"Point":return $=V(b),mo(I,a,$,c);case"MultiPoint":for(dt=0,St=b.length;dt<St;dt++)$=V(b[dt]),T.push(mo(I,a,$,c));return new Tr(T);case"LineString":case"MultiLineString":return nt=wl(b,m.type==="LineString"?0:1,V),new ns(nt,c);case"Polygon":case"MultiPolygon":return nt=wl(b,m.type==="Polygon"?1:2,V),new fo(nt,c);case"GeometryCollection":for(dt=0,St=m.geometries.length;dt<St;dt++){var kt=zn({geometry:m.geometries[dt],type:"Feature",properties:a.properties},c);kt&&T.push(kt)}return new Tr(T);case"FeatureCollection":for(dt=0,St=m.features.length;dt<St;dt++){var Jt=zn(m.features[dt],c);Jt&&T.push(Jt)}return new Tr(T);default:throw new Error("Invalid GeoJSON object.")}}function mo(a,c,m,b){return a?a(c,m):new El(m,b&&b.markersInheritOptions&&b)}function Su(a){return new gt(a[1],a[0],a[2])}function wl(a,c,m){for(var b=[],T=0,I=a.length,V;T<I;T++)V=c?wl(a[T],c-1,m):(m||Su)(a[T]),b.push(V);return b}function xu(a,c){return a=_t(a),a.alt!==void 0?[N(a.lng,c),N(a.lat,c),N(a.alt,c)]:[N(a.lng,c),N(a.lat,c)]}function Tl(a,c,m,b){for(var T=[],I=0,V=a.length;I<V;I++)T.push(c?Tl(a[I],ye(a[I])?0:c-1,m,b):xu(a[I],b));return!c&&m&&T.length>0&&T.push(T[0].slice()),T}function Ls(a,c){return a.feature?o({},a.feature,{geometry:c}):Au(c)}function Au(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ms={toGeoJSON:function(a){return Ls(this,{type:"Point",coordinates:xu(this.getLatLng(),a)})}};El.include(Ms),Tu.include(Ms),ho.include(Ms),ns.include({toGeoJSON:function(a){var c=!ye(this._latlngs),m=Tl(this._latlngs,c?1:0,!1,a);return Ls(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),fo.include({toGeoJSON:function(a){var c=!ye(this._latlngs),m=c&&!ye(this._latlngs[0]),b=Tl(this._latlngs,m?2:c?1:0,!0,a);return c||(b=[b]),Ls(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),co.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(a).geometry.coordinates)}),Ls(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var m=c==="GeometryCollection",b=[];return this.eachLayer(function(T){if(T.toGeoJSON){var I=T.toGeoJSON(a);if(m)b.push(I.geometry);else{var V=Au(I);V.type==="FeatureCollection"?b.push.apply(b,V.features):b.push(V)}}}),m?Ls(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Cu(a,c){return new is(a,c)}var Sl=Cu,po=Ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,m){this._url=a,this._bounds=ut(c),Y(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ke(this._image),this},bringToBack:function(){return this._map&&ci(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ut(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:ie("img");if(Rt(c,"leaflet-image-layer"),this._zoomAnimated&&Rt(c,"leaflet-zoom-animated"),this.options.className&&Rt(c,this.options.className),c.onselectstart=C,c.onmousemove=C,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Zi(this._image,m,c)},_reset:function(){var a=this._image,c=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Me(a,c.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Ue(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),If=function(a,c,m){return new po(a,c,m)},Ds=po.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:ie("video");if(Rt(c,"leaflet-image-layer"),this._zoomAnimated&&Rt(c,"leaflet-zoom-animated"),this.options.className&&Rt(c,this.options.className),c.onselectstart=C,c.onmousemove=C,c.onloadeddata=f(this.fire,this,"load"),a){for(var m=c.getElementsByTagName("source"),b=[],T=0;T<m.length;T++)b.push(m[T].src);this._url=m.length>0?b:[c.src];return}lt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var V=ie("source");V.src=this._url[I],c.appendChild(V)}}});function go(a,c,m){return new Ds(a,c,m)}var Ru=po.extend({_initImage:function(){var a=this._image=this._url;Rt(a,"leaflet-image-layer"),this._zoomAnimated&&Rt(a,"leaflet-zoom-animated"),this.options.className&&Rt(a,this.options.className),a.onselectstart=C,a.onmousemove=C}});function Of(a,c,m){return new Ru(a,c,m)}var Bn=Ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof gt||lt(a))?(this._latlng=_t(a),Y(this,c)):(Y(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ue(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ue(this._container,1),this.bringToFront(),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ue(this._container,0),this._removeTimeout=setTimeout(f(ae,void 0,this._container),200)):ae(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=_t(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ke(this._container),this},bringToBack:function(){return this._map&&ci(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Tr){c=null;var m=this._source._layers;for(var b in m)if(m[b]._map){c=m[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=q(this.options.offset),m=this._getAnchor();this._zoomAnimated?Me(this._container,a.add(m)):c=c.add(a).add(m);var b=this._containerBottom=-c.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});ne.include({_initOverlay:function(a,c,m,b){var T=c;return T instanceof a||(T=new a(b).setContent(c)),m&&T.setLatLng(m),T}}),Ji.include({_initOverlay:function(a,c,m,b){var T=m;return T instanceof a?(Y(T,b),T._source=this):(T=c&&!b?c:new a(b,this),T.setContent(m)),T}});var xl=Bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Bn.prototype.openOn.call(this,a)},onAdd:function(a){Bn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xr||this._source.on("preclick",he))},onRemove:function(a){Bn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xr||this._source.off("preclick",he))},getEvents:function(){var a=Bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=ie("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ie("div",a+"-content-wrapper",c);if(this._contentNode=ie("div",a+"-content",m),$r(c),Ai(this._contentNode),Ut(c,"contextmenu",he),this._tipContainer=ie("div",a+"-tip-container",c),this._tip=ie("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=ie("a",a+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(b,"click",function(T){Ye(T),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var b=a.offsetHeight,T=this.options.maxHeight,I="leaflet-popup-scrolled";T&&b>T?(c.height=T+"px",Rt(a,I)):Le(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Me(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(As(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,b=this._containerWidth,T=new yt(this._containerLeft,-m-this._containerBottom);T._add(yr(this._container));var I=a.layerPointToContainerPoint(T),V=q(this.options.autoPanPadding),$=q(this.options.autoPanPaddingTopLeft||V),nt=q(this.options.autoPanPaddingBottomRight||V),dt=a.getSize(),St=0,kt=0;I.x+b+nt.x>dt.x&&(St=I.x+b-dt.x+nt.x),I.x-St-$.x<0&&(St=I.x-$.x),I.y+m+nt.y>dt.y&&(kt=I.y+m-dt.y+nt.y),I.y-kt-$.y<0&&(kt=I.y-$.y),(St||kt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([St,kt]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Nf=function(a,c){return new xl(a,c)};ne.mergeOptions({closePopupOnClick:!0}),ne.include({openPopup:function(a,c,m){return this._initOverlay(xl,a,c,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Ji.include({bindPopup:function(a,c){return this._popup=this._initOverlay(xl,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Tr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Wi(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof xr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Al=Bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Bn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Bn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Bn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,m,b=this._map,T=this._container,I=b.latLngToContainerPoint(b.getCenter()),V=b.layerPointToContainerPoint(a),$=this.options.direction,nt=T.offsetWidth,dt=T.offsetHeight,St=q(this.options.offset),kt=this._getAnchor();$==="top"?(c=nt/2,m=dt):$==="bottom"?(c=nt/2,m=0):$==="center"?(c=nt/2,m=dt/2):$==="right"?(c=0,m=dt/2):$==="left"?(c=nt,m=dt/2):V.x<I.x?($="right",c=0,m=dt/2):($="left",c=nt+(St.x+kt.x)*2,m=dt/2),a=a.subtract(q(c,m,!0)).add(St).add(kt),Le(T,"leaflet-tooltip-right"),Le(T,"leaflet-tooltip-left"),Le(T,"leaflet-tooltip-top"),Le(T,"leaflet-tooltip-bottom"),Rt(T,"leaflet-tooltip-"+$),Me(T,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ue(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xp=function(a,c){return new Al(a,c)};ne.include({openTooltip:function(a,c,m){return this._initOverlay(Al,a,c,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Ji.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Al,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Tr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ut(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ut(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,m,b;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var Pf=Sr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(We(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=q(m.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Ap(a){return new Pf(a)}Sr.Default=yl;var _o=Ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){Y(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ae(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ke(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ci(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof yt?a:new yt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,m=-a(-1/0,1/0),b=0,T=c.length,I;b<T;b++)I=c[b].style.zIndex,c[b]!==this._container&&I&&(m=a(m,+I));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){Ue(this._container,this.options.opacity);var a=+new Date,c=!1,m=!1;for(var b in this._tiles){var T=this._tiles[b];if(!(!T.current||!T.loaded)){var I=Math.min(1,(a-T.loaded)/200);Ue(T.el,I),I<1?c=!0:(T.active?m=!0:this._onOpaqueTile(T),T.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=c-Math.abs(a-m),this._onUpdateLevel(m)):(ae(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[a],T=this._map;return b||(b=this._levels[a]={},b.el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=T.project(T.unproject(T.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,T.getCenter(),T.getZoom()),C(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var a,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ae(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,m,b){var T=Math.floor(a/2),I=Math.floor(c/2),V=m-1,$=new yt(+T,+I);$.z=+V;var nt=this._tileCoordsToKey($),dt=this._tiles[nt];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),V>b?this._retainParent(T,I,V,b):!1)},_retainChildren:function(a,c,m,b){for(var T=2*a;T<2*a+2;T++)for(var I=2*c;I<2*c+2;I++){var V=new yt(T,I);V.z=m+1;var $=this._tileCoordsToKey(V),nt=this._tiles[$];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);m+1<b&&this._retainChildren(T,I,m+1,b)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,m,b){var T=Math.round(c);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var I=this.options.updateWhenZooming&&T!==this._tileZoom;(!b||I)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,c)},_setZoomTransform:function(a,c,m){var b=this._map.getZoomScale(m,a.zoom),T=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,m)).round();Ot.any3d?Zi(a.el,T,b):Me(a.el,T)},_resetGrid:function(){var a=this._map,c=a.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],b).x/m.x),Math.ceil(a.project([0,c.wrapLng[1]],b).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],b).y/m.x),Math.ceil(a.project([c.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(m,this._tileZoom),T=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(b*2);return new R(T.subtract(I),T.add(I))},_update:function(a){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),T=this._pxBoundsToTileRange(b),I=T.getCenter(),V=[],$=this.options.keepBuffer,nt=new R(T.getBottomLeft().subtract([$,-$]),T.getTopRight().add([$,-$]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var St=this._tiles[dt].coords;(St.z!==this._tileZoom||!nt.contains(new yt(St.x,St.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var kt=T.min.y;kt<=T.max.y;kt++)for(var Jt=T.min.x;Jt<=T.max.x;Jt++){var Nn=new yt(Jt,kt);if(Nn.z=this._tileZoom,!!this._isValidTile(Nn)){var hn=this._tiles[this._tileCoordsToKey(Nn)];hn?hn.current=!0:V.push(Nn)}}if(V.sort(function(xe,Ae){return xe.distanceTo(I)-Ae.distanceTo(I)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mi=document.createDocumentFragment();for(Jt=0;Jt<V.length;Jt++)this._addTile(V[Jt],mi);this._level.el.appendChild(mi)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!c.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return ut(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,m=this.getTileSize(),b=a.scaleBy(m),T=b.add(m),I=c.unproject(b,a.z),V=c.unproject(T,a.z);return[I,V]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),m=new ot(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),m=new yt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(a){var c=this._tiles[a];c&&(ae(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Rt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=C,a.onmousemove=C,Ot.ielt9&&this.options.opacity<1&&Ue(a,this.options.opacity)},_addTile:function(a,c){var m=this._getTilePos(a),b=this._tileCoordsToKey(a),T=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(T),this.createTile.length<2&&F(f(this._tileReady,this,a,null,T)),Me(T,m),this._tiles[b]={el:T,coords:a,current:!0},c.appendChild(T),this.fire("tileloadstart",{tile:T,coords:a})},_tileReady:function(a,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:a});var b=this._tileCoordsToKey(a);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Ue(m.el,0),U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Rt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new yt(this._wrapX?S(a.x,this._wrapX):a.x,this._wrapY?S(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new R(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Lf(a){return new _o(a)}var ks=_o.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=Y(this,c),c.detectRetina&&Ot.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var m=document.createElement("img");return Ut(m,"load",f(this._tileOnLoad,this,c,m)),Ut(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var c={r:Ot.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=m),c["-y"]=m}return Et(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Ot.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,m){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),a(m,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(a=c-a),a+b},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=C,c.onerror=C,!c.complete)){c.src=Nt;var m=this._tiles[a].coords;ae(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",Nt),_o.prototype._removeTile.call(this,a)},_tileReady:function(a,c,m){if(!(!this._map||m&&m.getAttribute("src")===Nt))return _o.prototype._tileReady.call(this,a,c,m)}});function Ii(a,c){return new ks(a,c)}var Cl=ks.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var m=o({},this.defaultWmsParams);for(var b in c)b in this.options||(m[b]=c[b]);c=Y(this,c);var T=c.detectRetina&&Ot.retina?2:1,I=this.getTileSize();m.width=I.x*T,m.height=I.y*T,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,ks.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),m=this._crs,b=Q(m.project(c[0]),m.project(c[1])),T=b.min,I=b.max,V=(this._wmsVersion>=1.3&&this._crs===da?[T.y,T.x,I.y,I.x]:[T.x,T.y,I.x,I.y]).join(","),$=ks.prototype.getTileUrl.call(this,a);return $+K(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Oi(a,c){return new Cl(a,c)}ks.WMS=Cl,Ii.wms=Oi;var ni=Ji.extend({options:{padding:.1},initialize:function(a){Y(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var m=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,c),I=b.multiplyBy(-m).add(T).subtract(this._map._getNewPixelOrigin(a,c));Ot.any3d?Zi(this._container,I,m):Me(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new R(m,m.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Iu=ni.extend({options:{tolerance:0},getEvents:function(){var a=ni.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ni.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ut(a,"mousemove",this._onMouseMove,this),Ut(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,ae(this._container),Te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ni.prototype._update.call(this);var a=this._bounds,c=this._container,m=a.getSize(),b=Ot.retina?2:1;Me(c,a.min),c.width=b*m.x,c.height=b*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ni.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,m=c.next,b=c.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),m=[],b,T;for(T=0;T<c.length;T++){if(b=Number(c[T]),isNaN(b))return;m.push(b)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var m,b,T,I,V=a._parts,$=V.length,nt=this._ctx;if($){for(nt.beginPath(),m=0;m<$;m++){for(b=0,T=V[m].length;b<T;b++)I=V[m][b],nt[b?"lineTo":"moveTo"](I.x,I.y);c&&nt.closePath()}this._fillStroke(nt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,m=this._ctx,b=Math.max(Math.round(a._radius),1),T=(Math.max(Math.round(a._radiusY),1)||b)/b;T!==1&&(m.save(),m.scale(1,T)),m.beginPath(),m.arc(c.x,c.y/T,b,0,Math.PI*2,!1),T!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,c){var m=c.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),m,b,T=this._drawFirst;T;T=T.next)m=T.layer,m.options.interactive&&m._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Le(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var m,b,T=this._drawFirst;T;T=T.next)m=T.layer,m.options.interactive&&m._containsPoint(c)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,m){this._map._fireDOMEvent(c,m||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Rl(a){return Ot.canvas?new Iu(a):null}var js=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Fc={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ni.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=js("shape");Rt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=js("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;ae(c),a.removeInteractiveTarget(c),delete this._layers[v(a)]},_updateStyle:function(a){var c=a._stroke,m=a._fill,b=a.options,T=a._container;T.stroked=!!b.stroke,T.filled=!!b.fill,b.stroke?(c||(c=a._stroke=js("stroke")),T.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=lt(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(T.removeChild(c),a._stroke=null),b.fill?(m||(m=a._fill=js("fill")),T.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(T.removeChild(m),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),m=Math.round(a._radius),b=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Ke(a._container)},_bringToBack:function(a){ci(a._container)}},Ar=Ot.vml?js:tn,vo=ni.extend({_initContainer:function(){this._container=Ar("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ar("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ni.prototype._update.call(this);var a=this._bounds,c=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Me(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=Ar("path");a.options.className&&Rt(c,a.options.className),a.options.interactive&&Rt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ae(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,m=a.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,ln(a._parts,c))},_updateCircle:function(a){var c=a._point,m=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||m,T="a"+m+","+b+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-m)+","+c.y+T+m*2+",0 "+T+-m*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Ke(a._path)},_bringToBack:function(a){ci(a._path)}});Ot.vml&&vo.include(Fc);function Il(a){return Ot.svg||Ot.vml?new vo(a):null}ne.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Rl(a)||Il(a)}});var ma=fo.extend({initialize:function(a,c){fo.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ut(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Cp(a,c){return new ma(a,c)}vo.create=Ar,vo.pointsToPath=ln,is.geometryToLayer=zn,is.coordsToLatLng=Su,is.coordsToLatLngs=wl,is.latLngToCoords=xu,is.latLngsToCoords=Tl,is.getFeature=Ls,is.asFeature=Au,ne.mergeOptions({boxZoom:!0});var ii=fi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),xi(),la(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ut(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),Rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new R(this._point,this._startPoint),m=c.getSize();Me(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ae(this._box),Le(this._container,"leaflet-crosshair")),wn(),Cs(),Te(document,{contextmenu:Wi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new ot(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ne.addInitHook("addHandler","boxZoom",ii),ne.mergeOptions({doubleClickZoom:!0});var Ou=fi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,m=c.getZoom(),b=c.options.zoomDelta,T=a.originalEvent.shiftKey?m-b:m+b;c.options.doubleClickZoom==="center"?c.setZoom(T):c.setZoomAround(a.containerPoint,T)}});ne.addInitHook("addHandler","doubleClickZoom",Ou),ne.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Cr=fi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Xi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ut(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,T=(b-c+m)%a+c-m,I=(b+c+m)%a-c-m,V=Math.abs(T+m)<Math.abs(I+m)?T:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(a){var c=this._map,m=c.options,b=!m.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),b)c.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,V=m.easeLinearity,$=T.multiplyBy(V/I),nt=$.distanceTo([0,0]),dt=Math.min(m.inertiaMaxSpeed,nt),St=$.multiplyBy(dt/nt),kt=dt/(m.inertiaDeceleration*V),Jt=St.multiplyBy(-kt/2).round();!Jt.x&&!Jt.y?c.fire("moveend"):(Jt=c._limitOffset(Jt,c.options.maxBounds),F(function(){c.panBy(Jt,{duration:kt,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});ne.addInitHook("addHandler","dragging",Cr),ne.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hc=fi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ut(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,m=a.scrollTop||c.scrollTop,b=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},m=this.keyCodes,b,T;for(b=0,T=m.left.length;b<T;b++)c[m.left[b]]=[-1*a,0];for(b=0,T=m.right.length;b<T;b++)c[m.right[b]]=[a,0];for(b=0,T=m.down.length;b<T;b++)c[m.down[b]]=[0,a];for(b=0,T=m.up.length;b<T;b++)c[m.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},m=this.keyCodes,b,T;for(b=0,T=m.zoomIn.length;b<T;b++)c[m.zoomIn[b]]=a;for(b=0,T=m.zoomOut.length;b<T;b++)c[m.zoomOut[b]]=-a},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,m=this._map,b;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[c],a.shiftKey&&(b=q(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(q(b),m.options.maxBounds)),m.options.worldCopyJump){var T=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(T)}else m.panBy(b)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Wi(a)}}});ne.addInitHook("addHandler","keyboard",Hc),ne.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ol=fi.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Tn(a),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),Wi(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=m?Math.ceil(T/m)*m:T,V=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,V&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+V):a.setZoomAround(this._lastMousePos,c+V))}});ne.addInitHook("addHandler","scrollWheelZoom",Ol);var pa=600;ne.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var Nu=fi.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new yt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Ye),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),pa),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Te(document,"touchend",Ye),Te(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new yt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});ne.addInitHook("addHandler","tapHold",Nu),ne.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var qc=fi.extend({addHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Ye(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]),T=m.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(T,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&T<1||this._zoom>c.getMaxZoom()&&T>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var I=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(T===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var V=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(V,this,!0),Ye(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ne.addInitHook("addHandler","touchZoom",qc),ne.BoxZoom=ii,ne.DoubleClickZoom=Ou,ne.Drag=Cr,ne.Keyboard=Hc,ne.ScrollWheelZoom=Ol,ne.TapHold=Nu,ne.TouchZoom=qc,e.Bounds=R,e.Browser=Ot,e.CRS=bt,e.Canvas=Iu,e.Circle=Tu,e.CircleMarker=ho,e.Class=se,e.Control=jn,e.DivIcon=Pf,e.DivOverlay=Bn,e.DomEvent=wr,e.DomUtil=Is,e.Draggable=Xi,e.Evented=Tt,e.FeatureGroup=Tr,e.GeoJSON=is,e.GridLayer=_o,e.Handler=fi,e.Icon=Sr,e.ImageOverlay=po,e.LatLng=gt,e.LatLngBounds=ot,e.Layer=Ji,e.LayerGroup=co,e.LineUtil=Ci,e.Map=ne,e.Marker=El,e.Mixin=Eu,e.Path=xr,e.Point=yt,e.PolyUtil=Ps,e.Polygon=fo,e.Polyline=ns,e.Popup=xl,e.PosAnimation=Jr,e.Projection=$i,e.Rectangle=ma,e.Renderer=ni,e.SVG=vo,e.SVGOverlay=Ru,e.TileLayer=ks,e.Tooltip=Al,e.Transformation=ce,e.Util=z,e.VideoOverlay=Ds,e.bind=f,e.bounds=Q,e.canvas=Rl,e.circle=Rf,e.circleMarker=Cf,e.control=ei,e.divIcon=Ap,e.extend=o,e.featureGroup=xf,e.geoJSON=Cu,e.geoJson=Sl,e.gridLayer=Lf,e.icon=vl,e.imageOverlay=If,e.latLng=_t,e.latLngBounds=ut,e.layerGroup=wp,e.map=Ns,e.marker=Af,e.point=q,e.polygon=Sp,e.polyline=Tp,e.popup=Nf,e.rectangle=Cp,e.setOptions=Y,e.stamp=v,e.svg=Il,e.svgOverlay=Of,e.tileLayer=Ii,e.tooltip=xp,e.transformation=_e,e.version=r,e.videoOverlay=go;var Gc=window.L;e.noConflict=function(){return window.L=Gc,this},window.L=e}))})(Dh,Dh.exports)),Dh.exports}var Sf=YV();const Wy=ES(Sf);function Ky(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function Yy(n,t){return t==null?function(r,o){const u=W.useRef(void 0);return u.current||(u.current=n(r,o)),u}:function(r,o){const u=W.useRef(void 0);u.current||(u.current=n(r,o));const f=W.useRef(r),{instance:g}=u.current;return W.useEffect(function(){f.current!==r&&(t(g,r,f.current),f.current=r)},[g,r,t]),u}}function QV(n,t){W.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function DC(n){return function(e){const r=Gy(),o=n(Zy(e,r),r);return LC(r.map,e.attribution),MC(o.current,e.eventHandlers),QV(o.current,r),o}}function XV(n,t){const e=Yy(n,t),r=DC(e);return qV(r)}function $V(n,t){const e=Yy(n),r=WV(e,t);return GV(r)}function JV(n,t){const e=Yy(n,t),r=DC(e);return ZV(r)}function t3(n,t,e){const{opacity:r,zIndex:o}=t;r!=null&&r!==e.opacity&&n.setOpacity(r),o!=null&&o!==e.zIndex&&n.setZIndex(o)}function e3(){return Gy().map}function n3({bounds:n,boundsOptions:t,center:e,children:r,className:o,id:u,placeholder:f,style:g,whenReady:v,zoom:y,...S},C){const[N]=W.useState({className:o,id:u,style:g}),[M,H]=W.useState(null),Y=W.useRef(void 0);W.useImperativeHandle(C,()=>(M==null?void 0:M.map)??null,[M]);const K=W.useCallback(Et=>{if(Et!==null&&!Y.current){const lt=new Sf.Map(Et,S);Y.current=lt,e!=null&&y!=null?lt.setView(e,y):n!=null&&lt.fitBounds(n,t),v!=null&&lt.whenReady(v),H(FV(lt))}},[]);W.useEffect(()=>()=>{M==null||M.map.remove()},[M]);const ht=M?Ko.createElement(qy,{value:M},r):f??null;return Ko.createElement("div",{...N,ref:K},ht)}const i3=W.forwardRef(n3),yS=XV(function({position:t,...e},r){const o=new Sf.Marker(t,e);return Ky(o,HV(r,{overlayContainer:o}))},function(t,e,r){e.position!==r.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),bS=$V(function(t,e){const r=new Sf.Popup(t,e.overlayContainer);return Ky(r,e)},function(t,e,{position:r},o){W.useEffect(function(){const{instance:f}=t;function g(y){y.popup===f&&(f.update(),o(!0))}function v(y){y.popup===f&&o(!1)}return e.map.on({popupopen:g,popupclose:v}),e.overlayContainer==null?(r!=null&&f.setLatLng(r),f.openOn(e.map)):e.overlayContainer.bindPopup(f),function(){var S;e.map.off({popupopen:g,popupclose:v}),(S=e.overlayContainer)==null||S.unbindPopup(),e.map.removeLayer(f)}},[t,e,o,r])}),r3=JV(function({url:t,...e},r){const o=new Sf.TileLayer(t,Zy(e,r));return Ky(o,r)},function(t,e,r){t3(t,e,r);const{url:o}=e;o!=null&&o!==r.url&&t.setUrl(o)});delete Wy.Icon.Default.prototype._getIconUrl;Wy.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const s3=new Wy.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/3202/3202926.png",iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[0,-16]}),a3=({center:n})=>(e3().flyTo(n,13),null),o3=({cars:n,center:t,onSelectCar:e})=>E.jsx("div",{style:{height:"400px",width:"100%",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",border:"1px solid var(--slate-200)"},children:E.jsxs(i3,{center:t,zoom:13,style:{height:"100%",width:"100%"},children:[E.jsx(r3,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),E.jsx(a3,{center:t}),E.jsx(yS,{position:t,children:E.jsx(bS,{children:"Jouw Locatie"})}),n.map((r,o)=>{const u=(Math.random()-.5)*.02,f=(Math.random()-.5)*.02,g=[t[0]+u,t[1]+f];return E.jsx(yS,{position:g,icon:s3,eventHandlers:{click:()=>e(r)},children:E.jsx(bS,{children:E.jsxs("div",{style:{textAlign:"center"},children:[E.jsxs("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem"},children:[r.make," ",r.model]}),E.jsx("p",{style:{margin:0,color:"#64748b"},children:r.provider}),E.jsx("button",{onClick:()=>e(r),style:{marginTop:"0.5rem",background:"#0ea5e9",color:"white",border:"none",padding:"0.25rem 0.75rem",borderRadius:"4px",cursor:"pointer"},children:"Kies deze"})]})})},r.id||o)})]})}),Qy=()=>E.jsxs("div",{style:{position:"fixed",inset:0,zIndex:0,overflow:"hidden",pointerEvents:"none",backgroundColor:"#111827"},children:[E.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, #111827, #1f2937, #111827)",opacity:.8}}),E.jsxs("div",{style:{position:"absolute",inset:0,opacity:.3},children:[E.jsx("style",{children:`
                        @keyframes moveRight {
                            0% { transform: translateX(-100%) skewX(-30deg); }
                            100% { transform: translateX(200%) skewX(-30deg); }
                        }
                        @keyframes moveLeft {
                            0% { transform: translateX(200%) skewX(30deg); }
                            100% { transform: translateX(-100%) skewX(30deg); }
                        }
                        .traffic-light {
                            position: absolute;
                            height: 4px;
                            border-radius: 9999px;
                            filter: blur(3px);
                            box-shadow: 0 0 10px currentColor;
                        }
                        .light-red { color: #ef4444; background: currentColor; animation: moveLeft 8s linear infinite; }
                        .light-white { color: #facc15; background: currentColor; animation: moveRight 7s linear infinite; }
                        
                        .delay-1 { animation-delay: 0s; }
                        .delay-2 { animation-delay: 2s; }
                        .delay-3 { animation-delay: 4s; }
                        .delay-4 { animation-delay: 1.5s; }
                        .delay-5 { animation-delay: 3.5s; }
                    `}),E.jsx("div",{className:"traffic-light light-red",style:{width:"16rem",top:"15%",animationDuration:"15s"}}),E.jsx("div",{className:"traffic-light light-white",style:{width:"16rem",top:"18%",animationDuration:"12s",animationDelay:"5s"}}),E.jsx("div",{className:"traffic-light light-red delay-1",style:{width:"24rem",top:"40%"}}),E.jsx("div",{className:"traffic-light light-red delay-2",style:{width:"18rem",top:"42%"}}),E.jsx("div",{className:"traffic-light light-white delay-3",style:{width:"20rem",top:"45%"}}),E.jsx("div",{className:"traffic-light light-white delay-1",style:{width:"24rem",top:"48%"}}),E.jsx("div",{className:"traffic-light light-red",style:{width:"500px",top:"75%",opacity:.6,height:"6px",animationDuration:"6s"}}),E.jsx("div",{className:"traffic-light light-white",style:{width:"500px",top:"80%",opacity:.6,height:"6px",animationDuration:"5s",animationDelay:"1s"}})]}),E.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"url('https://grainy-gradients.vercel.app/noise.svg')",opacity:.1,mixBlendMode:"overlay"}})]}),jt=new IC,l3=qr(()=>{const{user:n}=Wn,t=su(),[e,r]=Ko.useState(!0),o=()=>{try{const H=window.AudioContext||window.webkitAudioContext;if(!H)return;const Y=new H;[{freq:440,type:"sine",delay:0},{freq:554,type:"sine",delay:.1},{freq:659,type:"sine",delay:.2},{freq:880,type:"sine",delay:.3}].forEach(({freq:ht,type:Et,delay:lt})=>{const xt=Y.createOscillator(),Nt=Y.createGain();xt.type=Et,xt.frequency.setValueAtTime(ht,Y.currentTime+lt),Nt.gain.setValueAtTime(0,Y.currentTime+lt),Nt.gain.linearRampToValueAtTime(.3,Y.currentTime+lt+.1),Nt.gain.exponentialRampToValueAtTime(.001,Y.currentTime+lt+.5),xt.connect(Nt),Nt.connect(Y.destination),xt.start(Y.currentTime+lt),xt.stop(Y.currentTime+lt+.6)})}catch(H){console.error("Audio playback failed",H)}};W.useEffect(()=>{if(jt.bookingStatus==="CONFIRMED"){o();const Y=Date.now()+3e3,K=()=>{gS({particleCount:7,angle:60,spread:55,origin:{x:0},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),gS({particleCount:7,angle:120,spread:55,origin:{x:1},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),Date.now()<Y&&requestAnimationFrame(K)};K()}},[jt.bookingStatus]);const u=async H=>{H.preventDefault(),await jt.searchCars()},f=H=>{H==="home"&&(n!=null&&n.homeLocation)?(jt.startStreet=n.homeLocation.address,jt.isStartAddressValid=!0):H==="work"&&(n!=null&&n.workLocation)&&(jt.startStreet=n.workLocation.address,jt.isStartAddressValid=!0)},g={maxWidth:"1280px",margin:"0 auto",padding:"2rem 1rem",position:"relative",zIndex:10},v={background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",borderRadius:"16px",padding:"2rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)"},y={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},S={display:"grid",gridTemplateColumns:"minmax(0, 7fr) minmax(0, 5fr)",gap:"2rem"},C={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0,0,0,0.05)",padding:"1.5rem 0",marginBottom:"2rem"},N=window.innerWidth<=768,M=()=>{if((n==null?void 0:n.role)==="guest"){confirm("Als gast kun je niet boeken. Wil je een account aanmaken?")&&t("/register");return}jt.confirmBooking()};return E.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",paddingBottom:"3rem",overflowX:"hidden"},children:[E.jsx(Qy,{}),E.jsx("div",{style:{position:"relative",zIndex:20,...C},children:E.jsx("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"0 1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--primary-600)",fontWeight:"700",textTransform:"uppercase",fontSize:"0.85rem",letterSpacing:"0.05em"},children:"Tidal Mare"}),E.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",color:"#111827",margin:"0.25rem 0 0.5rem 0"},children:"Waar wil je heen vandaag?"}),E.jsx("p",{style:{color:"#4b5563",fontSize:"1.1rem"},children:"Regel binnen enkele seconden een comfortabele rit."})]})})}),E.jsxs("div",{style:g,children:[E.jsxs("div",{style:N?{display:"flex",flexDirection:"column",gap:"1.5rem"}:S,children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{style:v,children:[E.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:"var(--primary-100)",color:"var(--primary-600)",padding:"6px",borderRadius:"8px",display:"flex"},children:E.jsx(Cv,{className:"w-5 h-5"})}),"Startlocatie"]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[E.jsxs("button",{type:"button",onClick:()=>f("home"),className:"shortcut-chip",children:[E.jsx(NC,{className:"w-4 h-4"})," Thuis"]}),E.jsxs("button",{type:"button",onClick:()=>f("work"),className:"shortcut-chip",children:[E.jsx(PC,{className:"w-4 h-4"})," Werk"]})]}),E.jsx("div",{style:y,children:E.jsx("div",{style:{gridColumn:"1 / -1"},children:E.jsx(jm,{label:"Straat en Huisnummer",value:jt.startStreet+(jt.startHouseNumber?` ${jt.startHouseNumber}`:""),onChange:H=>jt.updateStartField("street",H),onSelect:H=>jt.setStartAddress(H),isValid:jt.isStartAddressValid,hasError:jt.showValidationErrors&&!jt.isStartAddressValid,placeholder:"Zoek hier (bijv. Kalverstraat)..."})})}),E.jsxs("div",{style:{...y,marginTop:"1rem"},children:[E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Postcode"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:jt.startPostcode,onChange:H=>jt.updateStartField("postcode",H.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Plaats"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:jt.startCity,onChange:H=>jt.updateStartField("city",H.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]})]})]}),E.jsxs("div",{style:v,children:[E.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:"#fee2e2",color:"#dc2626",padding:"6px",borderRadius:"8px",display:"flex"},children:E.jsx(Cv,{className:"w-5 h-5"})}),"Eindlocatie"]}),E.jsx("div",{style:y,children:E.jsx("div",{style:{gridColumn:"1 / -1"},children:E.jsx(jm,{label:"Straat en Huisnummer",value:jt.endStreet+(jt.endHouseNumber?` ${jt.endHouseNumber}`:""),onChange:H=>jt.updateEndField("street",H),onSelect:H=>jt.setEndAddress(H),isValid:jt.isEndAddressValid,hasError:jt.showValidationErrors&&!jt.isEndAddressValid,placeholder:"Waar gaat de reis naartoe?"})})}),E.jsxs("div",{style:{...y,marginTop:"1rem"},children:[E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Postcode"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:jt.endPostcode,onChange:H=>jt.updateEndField("postcode",H.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Plaats"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:jt.endCity,onChange:H=>jt.updateEndField("city",H.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]})]})]}),E.jsxs("div",{style:v,children:[E.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:"#e0e7ff",color:"#4f46e5",padding:"6px",borderRadius:"8px",display:"flex"},children:E.jsx(OC,{className:"w-5 h-5"})}),"Reisdetails"]}),E.jsxs("div",{style:y,children:[E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Passagiers"}),E.jsx("input",{type:"number",min:"1",max:"8",className:"form-input",value:jt.passengers,onChange:H=>jt.setPassengers(parseInt(H.target.value))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Bagage"}),E.jsxs("select",{className:"form-input",value:jt.luggageLevel,onChange:H=>jt.setLuggageLevel(parseInt(H.target.value)),children:[E.jsx("option",{value:"0",children:"Geen bagage"}),E.jsx("option",{value:"1",children:"Klein (handbagage)"}),E.jsx("option",{value:"2",children:"Normaal"}),E.jsx("option",{value:"3",children:"Veel bagage"})]})]})]}),E.jsxs("div",{style:{marginTop:"1.5rem"},children:[E.jsx("label",{className:"form-label",children:"Opmerkingen (Optioneel)"}),E.jsx("textarea",{className:"form-input",rows:3,style:{resize:"none"},placeholder:"Bijv. graag ophalen aan de achterzijde...",value:jt.bookingNote,onChange:H=>jt.setBookingNote(H.target.value)})]})]})]}),E.jsx("div",{style:{position:"relative"},children:E.jsxs("div",{style:{...v,position:"sticky",top:"24px"},children:[E.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700",marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Samenvatting",E.jsx("span",{className:"status-badge status-requested",children:"Rit info"})]}),E.jsxs("div",{style:{position:"relative",paddingLeft:"24px",marginBottom:"2rem"},children:[E.jsx("div",{style:{position:"absolute",left:"7px",top:"10px",bottom:"10px",width:"2px",background:"linear-gradient(to bottom, #10b981, #e5e7eb, #ef4444)"}}),E.jsxs("div",{style:{marginBottom:"1.5rem",position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-24px",width:"16px",height:"16px",background:"#d1fae5",borderRadius:"50%",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 0 2px #10b981"},children:E.jsx("div",{style:{width:"6px",height:"6px",background:"#047857",borderRadius:"50%"}})}),E.jsx("span",{style:{display:"block",fontSize:"0.75rem",textTransform:"uppercase",color:"var(--slate-500)",fontWeight:"700"},children:"Startlocatie"}),E.jsx("span",{style:{fontWeight:"500",display:"block",color:jt.startAddressSummary?"#111827":"#9ca3af",fontStyle:jt.startAddressSummary?"normal":"italic"},children:jt.startAddressSummary||"Kies een startlocatie"})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-24px",width:"16px",height:"16px",background:"#fee2e2",borderRadius:"50%",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 0 2px #ef4444"},children:E.jsx("div",{style:{width:"6px",height:"6px",background:"#b91c1c",borderRadius:"50%"}})}),E.jsx("span",{style:{display:"block",fontSize:"0.75rem",textTransform:"uppercase",color:"var(--slate-500)",fontWeight:"700"},children:"Eindlocatie"}),E.jsx("span",{style:{fontWeight:"500",display:"block",color:jt.endAddressSummary?"#111827":"#9ca3af",fontStyle:jt.endAddressSummary?"normal":"italic"},children:jt.endAddressSummary||"Kies een eindlocatie"})]})]}),E.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem",border:"1px solid #f3f4f6"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",marginBottom:"0.5rem"},children:[E.jsx("span",{style:{color:"#6b7280"},children:"Reizigers"}),E.jsxs("span",{style:{fontWeight:"600",color:"#111827"},children:[jt.passengers," personen"]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[E.jsx("span",{style:{color:"#6b7280"},children:"Bagage"}),E.jsx("span",{style:{fontWeight:"600",color:"#111827"},children:["Geen","Klein","Normaal","Veel"][jt.luggageLevel]})]})]}),jt.error&&E.jsxs("div",{className:"error-message",children:[E.jsx("span",{style:{marginRight:"8px"},children:""}),jt.error]}),E.jsx("button",{onClick:u,disabled:jt.isLoading,className:"btn-primary",style:{width:"100%",justifyContent:"center"},children:jt.isLoading?"Zoeken...":"Zoek Beschikbare Auto's "})]})})]}),jt.availableCars.length>0&&E.jsxs("div",{style:{marginTop:"4rem"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h3",{style:{fontSize:"1.8rem",fontWeight:"800",color:"white"},children:"Beschikbare Auto's"}),E.jsxs("div",{style:{display:"flex",background:"#374151",padding:"4px",borderRadius:"12px"},children:[E.jsx("button",{onClick:()=>r(!1),style:{padding:"0.5rem 1.25rem",borderRadius:"8px",background:e?"transparent":"#111827",color:e?"#9ca3af":"white",border:"none",cursor:"pointer",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:" Lijst"}),E.jsx("button",{onClick:()=>r(!0),style:{padding:"0.5rem 1.25rem",borderRadius:"8px",background:e?"#111827":"transparent",color:e?"white":"#9ca3af",border:"none",cursor:"pointer",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:" Kaart"})]})]}),e?E.jsxs("div",{className:"fade-in",children:[E.jsx(o3,{cars:jt.availableCars,center:[52.3676,4.9041],onSelectCar:H=>{jt.selectCar(H),M()}}),E.jsx("p",{style:{marginTop:"1rem",color:"#6b7280",fontSize:"0.85rem",textAlign:"center"},children:"* Locaties zijn bij benadering weergegeven."})]}):E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"2rem"},children:jt.availableCars.map(H=>E.jsxs("div",{style:{...v,padding:0,overflow:"hidden"},children:[E.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, #f3f4f6, #e5e7eb)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:""}),E.jsxs("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255,255,255,0.9)",padding:"0.25rem 0.75rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"700",color:"#374151"},children:[H.seats," stoelen"]})]}),E.jsxs("div",{style:{padding:"1.5rem"},children:[E.jsxs("h4",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"0.5rem",color:"#111827"},children:[H.make," ",H.model]}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[E.jsx("span",{style:{background:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",color:"#4b5563"},children:H.fuelType}),E.jsx("span",{style:{background:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",color:"#4b5563"},children:"Automaat"})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",borderTop:"1px solid #f3f4f6",paddingTop:"1rem"},children:[E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:"0.75rem",textTransform:"uppercase",color:"#9ca3af",fontWeight:"700",marginBottom:"2px"},children:"Prijs indicatie"}),E.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#111827"},children:["",H.pricePerHourEstimate,E.jsx("span",{style:{fontSize:"0.9rem",color:"#6b7280",fontWeight:"400"},children:"/u"})]})]}),E.jsx("button",{onClick:()=>{jt.selectCar(H),M()},className:"btn-primary",style:{background:"#111827",boxShadow:"0 4px 6px rgba(0,0,0,0.2)"},children:"Boek Nu"})]})]})]},H.id))}),E.jsx("style",{children:`
                            .fade-in { animation: fadeIn 0.5s ease-out forwards; }
                            @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                        `})]}),jt.bookingStatus==="CONFIRMED"&&E.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:E.jsxs("div",{style:{background:"white",padding:"2.5rem",borderRadius:"24px",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"},children:[E.jsx("div",{style:{width:"64px",height:"64px",background:"#d1fae5",color:"#047857",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto 1.5rem auto"},children:""}),E.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#111827",marginBottom:"0.5rem"},children:"Boeking Bevestigd!"}),E.jsx("p",{style:{color:"#4b5563",marginBottom:"2rem",lineHeight:"1.6"},children:"Je rit is succesvol ingepland. We hebben een bevestiging naar je mail gestuurd."}),E.jsx("button",{onClick:()=>jt.clearForm(),className:"btn-primary",style:{width:"100%",justifyContent:"center"},children:"Terug naar overzicht"})]})})]})]})}),u3=qr(({carName:n,licensePlate:t,onUnlock:e})=>{const[r,o]=W.useState(!1),[u,f]=W.useState(0),[g,v]=W.useState(!1),y=W.useRef(null),S=2.5;W.useEffect(()=>{const M=()=>{r&&!g?(f(H=>{const Y=H+S;return Y>=100?(v(!0),o(!1),e(),100):Y}),y.current=requestAnimationFrame(M)):!r&&!g&&u>0&&(f(H=>Math.max(0,H-S*3)),y.current=requestAnimationFrame(M))};return y.current=requestAnimationFrame(M),()=>{y.current!==null&&cancelAnimationFrame(y.current)}},[r,g,u,e]);const C=()=>{g||o(!0)},N=()=>{o(!1)};return E.jsxs("div",{className:"smart-key-container",style:{background:"#111827",borderRadius:"20px",padding:"2.5rem 2rem",color:"white",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px solid #1f2937",userSelect:"none"},children:[g&&E.jsx("div",{onClick:()=>{v(!1),f(0)},style:{position:"absolute",top:"1rem",right:"1rem",background:"#374151",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#9ca3af",transition:"all 0.2s",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"},title:"Vergrendelen",children:E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),E.jsxs("div",{style:{marginBottom:"2.5rem",opacity:g?.5:1,transition:"opacity 0.5s"},children:[E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"500",margin:0,color:"#e5e7eb",letterSpacing:"0.025em"},children:n}),t&&E.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#9ca3af",background:"#1f2937",padding:"0.25rem 0.75rem",borderRadius:"4px",display:"inline-block",fontFamily:"monospace",letterSpacing:"1px"},children:t})]}),E.jsxs("div",{onMouseDown:C,onMouseUp:N,onMouseLeave:N,onTouchStart:C,onTouchEnd:N,style:{width:"140px",height:"140px",borderRadius:"50%",background:g?"rgba(16, 185, 129, 0.1)":"linear-gradient(145deg, #1f2937, #111827)",boxShadow:g?"0 0 30px rgba(16, 185, 129, 0.2)":r?"inset 0 4px 10px rgba(0,0,0,0.5)":"5px 5px 15px #0b0f19, -5px -5px 15px #273549",display:"flex",alignItems:"center",justifyContent:"center",cursor:g?"default":"pointer",position:"relative",transform:r?"scale(0.96)":"scale(1)",transition:"all 0.2s ease-out",border:"1px solid #374151",marginBottom:"2rem"},children:[E.jsxs("svg",{width:"140",height:"140",style:{position:"absolute",top:0,left:0,transform:"rotate(-90deg)",pointerEvents:"none"},children:[E.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:"#374151",strokeWidth:"2",fill:"transparent"}),E.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:g?"#10b981":"#3b82f6",strokeWidth:"3",fill:"transparent",strokeDasharray:427,strokeDashoffset:427-427*u/100,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0s linear, opacity 0.3s"},opacity:r||g?1:0})]}),E.jsx("div",{style:{color:g?"#10b981":r?"#60a5fa":"#9ca3af",transition:"color 0.3s"},children:g?E.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),E.jsx("path",{d:"M7 7h10"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}):E.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]}),E.jsxs("div",{style:{minHeight:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx("p",{style:{fontSize:"0.875rem",color:g?"#10b981":r?"#e5e7eb":"#6b7280",fontWeight:"600",margin:0,letterSpacing:"0.05em",textTransform:"uppercase",transition:"color 0.3s"},children:g?"Auto is open":r?"Authenticeren...":"Houd vast om te openen"}),g&&E.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"0.5rem 0 0 0",animation:"fadeIn 0.5s"},children:"Verbinding stabiel  Gereed voor start"})]})]})}),Ia=new IC,c3=qr(()=>{var S,C,N,M,H;const{id:n}=FR(),[t,e]=W.useState(""),[r,o]=W.useState(!1);W.useEffect(()=>{n&&Ia.loadBookingDetails(n)},[n]);const u=async()=>{n&&(await Ia.cancelBooking(n,t),o(!1))};if(Ia.isLoading&&!Ia.selectedBookingDetails)return E.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Laden..."});if(Ia.error)return E.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#ef4444"},children:["Error: ",Ia.error]});const f=Ia.selectedBookingDetails;if(!f)return E.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Geen boeking gevonden."});const g=f.status==="REQUESTED"||f.status==="CONFIRMED",y=(Y=>{switch(Y){case"CONFIRMED":return{color:"#059669",background:"#d1fae5"};case"CANCELLED":return{color:"#dc2626",background:"#fee2e2"};case"COMPLETED":return{color:"#374151",background:"#f3f4f6"};default:return{color:"#2563eb",background:"#dbeafe"}}})(f.status);return E.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem 1rem"},children:[E.jsx("div",{style:{marginBottom:"1.5rem"},children:E.jsx(lr,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#4b5563",textDecoration:"none",padding:"0.5rem 0.75rem",borderRadius:"8px",background:"#f9fafb",transition:"background 0.2s",fontWeight:"500"},children:" Terug naar Dashboard"})}),E.jsxs("div",{style:{background:"white",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",overflow:"hidden",border:"1px solid #f3f4f6"},children:[E.jsxs("div",{style:{background:"#f9fafb",padding:"1.5rem",borderBottom:"1px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[E.jsxs("div",{children:[E.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#111827",margin:0},children:["Boeking #",f.id.substring(0,8)]}),E.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:["Aangemaakt op ",new Date(f.createdAt).toLocaleDateString()," om ",new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),E.jsx("div",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"700",letterSpacing:"0.025em",...y},children:f.status})]}),E.jsxs("div",{style:{padding:"2rem"},children:[f.status==="CANCELLED"&&E.jsx("div",{style:{background:"#fef2f2",borderLeft:"4px solid #ef4444",padding:"1rem",marginBottom:"2rem",borderRadius:"0 8px 8px 0"},children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[E.jsx("span",{style:{fontSize:"1.25rem"},children:""}),E.jsxs("div",{children:[E.jsx("h4",{style:{fontWeight:"700",color:"#7f1d1d",margin:0},children:"Deze rit is geannuleerd"}),E.jsxs("p",{style:{fontSize:"0.875rem",color:"#b91c1c",marginTop:"0.25rem"},children:["Datum: ",f.cancelledAt?new Date(f.cancelledAt).toLocaleString():"-",f.cancellationReason&&E.jsxs("span",{style:{display:"block",marginTop:"0.25rem",fontStyle:"italic"},children:['"',f.cancellationReason,'"']})]})]})]})}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[E.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[E.jsx("span",{children:""})," Route"]}),E.jsxs("div",{style:{position:"relative",paddingLeft:"1.5rem",marginLeft:"0.5rem",borderLeft:"2px solid #e5e7eb",display:"flex",flexDirection:"column",gap:"2rem"},children:[E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#3b82f6",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Vertrek"}),E.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.startLocation.address})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#111827",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Aankomst"}),E.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.endLocation.address})]})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[E.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[E.jsx("span",{children:""})," Details"]}),E.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{children:[E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Voertuig"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[E.jsx("div",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsxs("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:[(S=f.car)==null?void 0:S.make," ",(C=f.car)==null?void 0:C.model]}),E.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:(N=f.car)==null?void 0:N.provider})]})]})]}),E.jsxs("div",{children:[E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Tijdstip"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[E.jsx("div",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsx("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:new Date(f.startTime).toLocaleDateString()}),E.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:new Date(f.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})]})]}),f.status==="CONFIRMED"&&E.jsxs("div",{style:{marginTop:"2.5rem",paddingTop:"2rem",borderTop:"1px solid #f3f4f6"},children:[E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"1.5rem",textAlign:"center"},children:"Jouw Digitale Sleutel"}),E.jsx("div",{style:{maxWidth:"360px",margin:"0 auto"},children:E.jsx(u3,{carName:`${(M=f.car)==null?void 0:M.make} ${(H=f.car)==null?void 0:H.model}`,licensePlate:"T-123-XY",onUnlock:()=>console.log("Unlocked from details!")})})]}),g&&E.jsx("div",{style:{marginTop:"2.5rem",paddingTop:"1.5rem",borderTop:"1px solid #f3f4f6",display:"flex",justifyContent:"flex-end"},children:E.jsx("button",{onClick:()=>o(!0),style:{padding:"0.625rem 1.5rem",background:"white",border:"1px solid #fecaca",color:"#dc2626",fontWeight:"500",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:" Rit Annuleren"})})]}),r&&E.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(17, 24, 39, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:1e3},children:E.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"2rem",maxWidth:"28rem",width:"100%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[E.jsx("div",{style:{margin:"0 auto 1rem auto",display:"flex",alignItems:"center",justifyContent:"center",height:"3rem",width:"3rem",borderRadius:"50%",background:"#fee2e2"},children:E.jsx("span",{style:{fontSize:"1.5rem"},children:""})}),E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",margin:0},children:"Weet je het zeker?"}),E.jsx("p",{style:{color:"#6b7280",marginTop:"0.5rem",fontSize:"0.9rem"},children:"Je staat op het punt deze rit te annuleren. Dit kan niet ongedaan worden gemaakt."})]}),E.jsxs("div",{style:{marginBottom:"1.5rem"},children:[E.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Reden van annulering (optioneel)"}),E.jsx("input",{type:"text",style:{width:"100%",border:"1px solid #d1d5db",padding:"0.5rem 1rem",borderRadius:"8px",outline:"none",transition:"border-color 0.2s"},placeholder:"Bijv. Plannen gewijzigd...",value:t,onChange:Y=>e(Y.target.value)})]}),E.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[E.jsx("button",{onClick:()=>o(!1),style:{flex:1,padding:"0.625rem 1rem",border:"1px solid #d1d5db",background:"white",color:"#374151",fontWeight:"500",borderRadius:"8px",cursor:"pointer"},children:"Terug"}),E.jsx("button",{onClick:u,disabled:Ia.isCancelling,style:{flex:1,padding:"0.625rem 1rem",background:"#dc2626",color:"white",fontWeight:"700",borderRadius:"8px",border:"none",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(220, 38, 38, 0.2)"},children:Ia.isCancelling?"Bezig...":"Bevestig"})]})]})})]})}),Bd=({title:n,icon:t,children:e})=>E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(0,0,0,0.05)"},children:[t&&E.jsx("span",{style:{color:"var(--primary-600)",background:"var(--primary-50)",padding:"0.5rem",borderRadius:"8px",display:"flex"},children:t}),E.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#111827"},children:n})]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:e})]}),h3=({message:n,type:t="success",onClose:e})=>{W.useEffect(()=>{const o=setTimeout(e,3e3);return()=>clearTimeout(o)},[e]);const r=t==="success"?"#10b981":"#ef4444";return E.jsxs("div",{style:{position:"fixed",bottom:"24px",right:"24px",background:r,color:"white",padding:"1rem 1.5rem",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",display:"flex",alignItems:"center",gap:"0.75rem",zIndex:2e3,animation:"toastSlideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1)",fontWeight:"600"},children:[E.jsx("span",{children:t==="success"?"":""}),n,E.jsx("style",{children:`
                @keyframes toastSlideIn {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]})},f3=qr(()=>{const{user:n}=Wn,{isLoading:t}=Rh,[e,r]=W.useState(""),[o,u]=W.useState(""),[f,g]=W.useState(""),[v,y]=W.useState(""),[S,C]=W.useState(""),[N,M]=W.useState(""),[H,Y]=W.useState(""),[K,ht]=W.useState(""),[Et,lt]=W.useState(""),[xt,Nt]=W.useState(void 0),[Dt,k]=W.useState(void 0),[D,j]=W.useState(!1);W.useEffect(()=>{n&&(Rh.setUser(n),n.firstName&&r(n.firstName),n.lastName&&u(n.lastName),n.phoneNumber&&g(n.phoneNumber),n.dateOfBirth&&y(n.dateOfBirth),n.licenseNumber&&C(n.licenseNumber),n.licenseExpiryDate&&M(n.licenseExpiryDate),n.emergencyContactName&&Y(n.emergencyContactName),n.emergencyContactPhone&&ht(n.emergencyContactPhone),n.iban&&lt(n.iban),n.homeLocation&&Nt(n.homeLocation),n.workLocation&&k(n.workLocation))},[n]);const G=async U=>{U.preventDefault();const z={firstName:e,lastName:o,phoneNumber:f,dateOfBirth:v,licenseNumber:S,licenseExpiryDate:N,emergencyContactName:H,emergencyContactPhone:K,iban:Et,homeLocation:xt,workLocation:Dt};await Rh.updateProfile(z),Rh.user&&(Wn.user=Rh.user),j(!0)};if(!n)return E.jsx("div",{className:"p-8 text-center text-gray-500",children:"Niet ingelogd."});const F={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",maxWidth:"800px",margin:"0 auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(255, 255, 255, 0.5)",position:"relative",zIndex:10,overflow:"hidden"};return E.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",padding:"2rem 1rem"},children:[E.jsx(Qy,{}),D&&E.jsx(h3,{message:"Updates succesvol opgeslagen!",onClose:()=>j(!1)}),E.jsx("div",{style:{maxWidth:"800px",margin:"0 auto 2rem auto",position:"relative",zIndex:10},children:E.jsx(lr,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"white",textDecoration:"none",padding:"0.5rem 1rem",borderRadius:"99px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(4px)",transition:"background 0.2s",fontWeight:"500",fontSize:"0.9rem"},children:" Terug naar Dashboard"})}),E.jsxs("div",{style:F,children:[E.jsx("div",{style:{background:"linear-gradient(to right, #0099cc, #0077a8)",padding:"3rem 2rem",color:"white"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"1rem"},children:[E.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:""}),E.jsxs("div",{children:[E.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",margin:0,textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Mijn Profiel"}),E.jsx("p",{style:{opacity:.9,fontSize:"1.1rem",marginTop:"0.25rem"},children:"Beheer je gegevens en locaties"})]})]})}),E.jsxs("div",{style:{padding:"2.5rem"},children:[E.jsxs("form",{onSubmit:G,children:[E.jsxs(Bd,{title:"Accountgegevens",icon:E.jsx("div",{style:{width:"20px",height:"20px"},children:E.jsx(OC,{})}),children:[E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[E.jsx("span",{style:{color:"#6b7280"},children:E.jsx(nf,{className:"w-4 h-4"})}),E.jsx("span",{children:"E-mailadres"})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("input",{type:"text",className:"form-input",value:n.email,readOnly:!0,disabled:!0,style:{paddingLeft:"2.5rem",background:"#f3f4f6",color:"#6b7280",cursor:"not-allowed",borderColor:"#e5e7eb"}}),E.jsx("div",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},children:E.jsx(Fy,{className:"w-4 h-4"})})]}),E.jsx("p",{style:{fontSize:"0.8rem",color:"#9ca3af",marginTop:"0.5rem",fontStyle:"italic"},children:"Je e-mailadres is gekoppeld aan je account en kan niet worden gewijzigd."})]}),E.jsxs("div",{className:"grid-2-cols",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Voornaam"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Je voornaam",value:e,onChange:U=>r(U.target.value)})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Achternaam"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Je achternaam",value:o,onChange:U=>u(U.target.value)})]})]}),E.jsxs("div",{className:"grid-2-cols",style:{marginTop:"1rem"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Geboortedatum"}),E.jsx("input",{type:"date",className:"form-input",value:v,onChange:U=>y(U.target.value)})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Telefoonnummer"}),E.jsx("input",{type:"tel",className:"form-input",placeholder:"06 12345678",value:f,onChange:U=>g(U.target.value)})]})]}),E.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[E.jsx("label",{className:"form-label",children:"IBAN (voor betalingen)"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"NL00 RABO 0123 4567 89",value:Et,onChange:U=>lt(U.target.value)})]})]}),E.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),E.jsx(Bd,{title:"Rijbewijs",icon:E.jsx("div",{style:{fontSize:"1.2rem"},children:""}),children:E.jsxs("div",{className:"grid-2-cols",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Rijbewijsnummer"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"1234567890",value:S,onChange:U=>C(U.target.value)})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Geldig tot"}),E.jsx("input",{type:"date",className:"form-input",value:N,onChange:U=>M(U.target.value)})]})]})}),E.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),E.jsx(Bd,{title:"Noodcontact",icon:E.jsx("div",{style:{fontSize:"1.2rem"},children:""}),children:E.jsxs("div",{className:"grid-2-cols",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Naam Contactpersoon"}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Naam",value:H,onChange:U=>Y(U.target.value)})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Telefoonnummer"}),E.jsx("input",{type:"tel",className:"form-input",placeholder:"06 12345678",value:K,onChange:U=>ht(U.target.value)})]})]})}),E.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),E.jsxs(Bd,{title:"Favoriete Locaties",icon:E.jsx("div",{style:{width:"20px",height:"20px"},children:E.jsx(Cv,{})}),children:[E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[E.jsx("span",{style:{color:"var(--primary-600)"},children:E.jsx(NC,{})}),E.jsx("span",{children:"Thuisadres"})]}),E.jsx(jm,{label:"",value:(xt==null?void 0:xt.address)||"",onChange:U=>Nt(z=>({...z,address:U,label:"Thuis"})),onSelect:U=>{Nt({address:`${U.street} ${U.houseNumber}, ${U.city}`,latitude:U.latitude,longitude:U.longitude,label:"Thuis"})},placeholder:"Bijv. Kerkstraat 1, Amsterdam"})]}),E.jsxs("div",{className:"form-group",style:{marginTop:"1.5rem"},children:[E.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[E.jsx("span",{style:{color:"var(--primary-600)"},children:E.jsx(PC,{})}),E.jsx("span",{children:"Werkadres"})]}),E.jsx(jm,{label:"",value:(Dt==null?void 0:Dt.address)||"",onChange:U=>k(z=>({...z,address:U,label:"Werk"})),onSelect:U=>{k({address:`${U.street} ${U.houseNumber}, ${U.city}`,latitude:U.latitude,longitude:U.longitude,label:"Werk"})},placeholder:"Bijv. Stationsplein 5, Utrecht"})]})]}),E.jsx("style",{children:`
                            .grid-2-cols {
                                display: grid;
                                grid-template-columns: 1fr 1fr;
                                gap: 1.5rem;
                            }
                            @media (max-width: 640px) {
                                .grid-2-cols {
                                    grid-template-columns: 1fr;
                                }
                            }
                        `}),E.jsxs("div",{style:{marginTop:"3rem",display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[E.jsx(lr,{to:"/dashboard",style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"white",border:"1px solid #e5e7eb",color:"#374151",textDecoration:"none",fontWeight:"600",transition:"background 0.2s"},children:"Annuleren"}),E.jsx("button",{type:"submit",disabled:t,className:"btn-primary",style:{padding:"0.75rem 2rem",borderRadius:"12px",fontWeight:"700",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:t?"Opslaan...":"Wijzigingen Opslaan"})]})]}),E.jsx("div",{style:{marginTop:"3rem",paddingTop:"2rem",borderTop:"1px solid #fee2e2",display:"flex",justifyContent:"center"},children:E.jsx(lr,{to:"/delete-account",style:{color:"#dc2626",fontWeight:"600",fontSize:"0.95rem",textDecoration:"none",padding:"0.75rem 1.5rem",borderRadius:"12px",background:"#fef2f2",border:"1px solid #fee2e2",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"8px"},children:" Account definitief verwijderen"})})]})]})]})}),d3=({isOpen:n,onClose:t,title:e,children:r,footer:o})=>n?E.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.2s ease"},children:[E.jsxs("div",{style:{background:"white",borderRadius:"24px",width:"90%",maxWidth:"450px",padding:"2rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",transform:"translateY(0)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"800",margin:0,color:"#1f2937"},children:e}),E.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#9ca3af",padding:"0.5rem"},children:""})]}),E.jsx("div",{style:{color:"#4b5563",lineHeight:"1.6",marginBottom:"2rem"},children:r}),o&&E.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:o})]}),E.jsx("style",{children:`
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}):null,m3=qr(()=>{const n=su(),{isLoading:t,error:e}=Wn,[r,o]=W.useState(!1),u=()=>{o(!0)},f=async()=>{try{await Wn.deleteAccount(),n("/login")}catch{o(!1)}};return E.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",padding:"2rem 1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:[E.jsx(Qy,{}),E.jsx(d3,{isOpen:r,onClose:()=>o(!1),title:"Weet je het zeker?",footer:E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>o(!1),style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"#f3f4f6",border:"none",fontWeight:"600",cursor:"pointer",color:"#374151"},children:"Annuleren"}),E.jsx("button",{onClick:f,style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"#dc2626",border:"none",fontWeight:"600",cursor:"pointer",color:"white"},children:"Ja, verwijder alles"})]}),children:E.jsx("p",{children:"Dit is definitief. Al je gegevens worden direct gewist en de actie kan niet ongedaan worden gemaakt."})}),E.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderRadius:"24px",padding:"3rem 2rem",maxWidth:"500px",width:"100%",position:"relative",zIndex:10,textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[E.jsx("div",{style:{fontSize:"4rem",marginBottom:"1.5rem"},children:""}),E.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",color:"#dc2626",marginBottom:"1rem"},children:"Account Verwijderen"}),E.jsxs("p",{style:{color:"#4b5563",marginBottom:"1.5rem",lineHeight:"1.6"},children:["Je staat op het punt om je account permanent te verwijderen.",E.jsx("br",{}),E.jsx("br",{}),E.jsx("strong",{children:"Wat gebeurt er?"})]}),E.jsxs("ul",{style:{textAlign:"left",marginTop:"0.5rem",marginBottom:"1rem",color:"#4b5563",paddingLeft:"1.5rem"},children:[E.jsx("li",{children:" Je profiel en privgegevens worden gewist."}),E.jsx("li",{children:" Je kunt niet meer inloggen."}),E.jsxs("li",{children:[" Je rithistorie wordt ",E.jsx("span",{style:{color:"#059669",fontWeight:600},children:"geanonimiseerd bewaard"})," voor statistieken."]})]}),e&&E.jsx("div",{style:{background:"#fee2e2",color:"#991b1b",padding:"1rem",borderRadius:"12px",marginBottom:"1.5rem",fontSize:"0.9rem"},children:e}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsx("button",{onClick:u,disabled:t,style:{background:"#dc2626",color:"white",border:"none",padding:"1rem",borderRadius:"12px",fontWeight:"700",fontSize:"1rem",cursor:t?"not-allowed":"pointer",opacity:t?.7:1,transition:"all 0.2s"},children:t?"Bezig met verwijderen...":"Ja, verwijder mijn account"}),E.jsx("button",{onClick:()=>n("/dashboard"),style:{background:"transparent",color:"#4b5563",border:"1px solid #e5e7eb",padding:"1rem",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"Annuleren, breng me terug"})]})]})]})}),p3=qr(()=>{const{cars:n,chargingPoints:t,isLoading:e}=nc,[r,o]=W.useState(!1),[u,f]=W.useState({make:"",model:"",seats:"",luggageCapacity:"",fuelType:_c.EV,provider:gc.DUMMY,pricePerHourEstimate:""}),[g,v]=W.useState(!1),[y,S]=W.useState({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"});W.useEffect(()=>{nc.loadData()},[]);const C=async M=>{M.preventDefault(),await nc.addCar({...u,seats:Number(u.seats),luggageCapacity:Number(u.luggageCapacity),pricePerHourEstimate:Number(u.pricePerHourEstimate)}),o(!1),f({make:"",model:"",seats:"",luggageCapacity:"",fuelType:_c.EV,provider:gc.DUMMY,pricePerHourEstimate:""})},N=async M=>{M.preventDefault(),await nc.addChargingPoint({...y,latitude:Number(y.latitude),longitude:Number(y.longitude)}),v(!1),S({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"})};return E.jsxs("div",{className:"admin-panel",children:[E.jsx("h2",{className:"mb-4",children:"Admin Beheer"}),e&&E.jsx("p",{children:"Laden..."}),E.jsxs("section",{className:"admin-section card",children:[E.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h3",{style:{margin:0},children:"Auto's Beheren"}),E.jsx("button",{className:"cta-button",onClick:()=>o(!r),children:r?"Annuleren":"+ Auto Toevoegen"})]}),r&&E.jsxs("form",{className:"admin-form mb-4",onSubmit:C,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Merk"}),E.jsx("input",{type:"text",placeholder:"Bijv. Tesla",value:u.make,onChange:M=>f({...u,make:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Model"}),E.jsx("input",{type:"text",placeholder:"Bijv. Model Y",value:u.model,onChange:M=>f({...u,model:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Aantal Stoelen"}),E.jsx("input",{type:"number",placeholder:"5",value:u.seats,onChange:M=>f({...u,seats:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Bagageruimte"}),E.jsx("input",{type:"number",placeholder:"2",value:u.luggageCapacity,onChange:M=>f({...u,luggageCapacity:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Brandstof / Type"}),E.jsx("select",{value:u.fuelType,onChange:M=>f({...u,fuelType:M.target.value}),children:Object.values(_c).map(M=>E.jsx("option",{value:M,children:M},M))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Prijs per uur ()"}),E.jsx("input",{type:"number",placeholder:"Prijs per uur ()",value:u.pricePerHourEstimate,onChange:M=>f({...u,pricePerHourEstimate:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Provider"}),E.jsx("select",{value:u.provider,onChange:M=>f({...u,provider:M.target.value}),children:Object.values(gc).map(M=>E.jsx("option",{value:M,children:M},M))})]}),E.jsx("button",{type:"submit",children:"Opslaan"})]}),E.jsx("div",{style:{overflowX:"auto"},children:E.jsxs("table",{className:"admin-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Merk/Model"}),E.jsx("th",{children:"Provider"}),E.jsx("th",{children:"Prijs/u"}),E.jsx("th",{children:"Acties"})]})}),E.jsx("tbody",{children:n.map(M=>E.jsxs("tr",{children:[E.jsxs("td",{children:[M.make," ",M.model," (",M.fuelType,")"]}),E.jsx("td",{children:M.provider}),E.jsxs("td",{children:["",M.pricePerHourEstimate]}),E.jsx("td",{children:E.jsx("button",{onClick:()=>nc.deleteCar(M.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})})]},M.id))})]})})]}),E.jsxs("section",{className:"admin-section card",children:[E.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h3",{style:{margin:0},children:"Laadpunten Beheren"}),E.jsx("button",{className:"cta-button",onClick:()=>v(!g),children:g?"Annuleren":"+ Laadpunt Toevoegen"})]}),g&&E.jsxs("form",{className:"admin-form mb-4",onSubmit:N,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Naam"}),E.jsx("input",{type:"text",placeholder:"Bijv. Fastned Rotterdam",value:y.name,onChange:M=>S({...y,name:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Status"}),E.jsxs("select",{value:y.status,onChange:M=>S({...y,status:M.target.value}),children:[E.jsx("option",{value:"AVAILABLE",children:"Beschikbaar"}),E.jsx("option",{value:"OCCUPIED",children:"Bezet"}),E.jsx("option",{value:"UNKNOWN",children:"Onbekend"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Latitude"}),E.jsx("input",{type:"number",placeholder:"52.08",step:"any",value:y.latitude,onChange:M=>S({...y,latitude:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Longitude"}),E.jsx("input",{type:"number",placeholder:"4.32",step:"any",value:y.longitude,onChange:M=>S({...y,longitude:M.target.value}),required:!0})]}),E.jsx("button",{type:"submit",children:"Opslaan"})]}),E.jsx("ul",{className:"admin-list",style:{listStyle:"none",padding:0},children:t.map(M=>E.jsxs("li",{className:"list-item",style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("span",{children:[M.name," (",M.status,") - [",M.latitude.toFixed(3),", ",M.longitude.toFixed(3),"]"]}),E.jsx("button",{onClick:()=>nc.deleteChargingPoint(M.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})]},M.id))})]})]})}),g3=qr(()=>{const n=su(),{user:t,isAuthenticated:e}=Wn,r=()=>{Wn.logout(),n("/")};return E.jsx("nav",{className:"navbar",children:E.jsxs("div",{className:"navbar-inner",children:[E.jsx("div",{className:"navbar-brand",children:"Onze Bedrijf Mobility"}),E.jsx("div",{className:"navbar-menu",children:E.jsxs("div",{className:"navbar-links",children:[!e&&E.jsx(us,{to:"/",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Home"}),e&&(t==null?void 0:t.role)==="customer"&&E.jsxs(E.Fragment,{children:[E.jsx(us,{to:"/dashboard",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Home"}),E.jsx(us,{to:"/request",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Reis aanvragen"}),E.jsx(us,{to:"/profile",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Profiel"})]}),e&&(t==null?void 0:t.role)==="guest"&&E.jsxs(E.Fragment,{children:[E.jsx(us,{to:"/dashboard",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Home"}),E.jsx(us,{to:"/request",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Reis aanvragen"})]}),e&&(t==null?void 0:t.role)==="admin"&&E.jsxs(E.Fragment,{children:[E.jsx(us,{to:"/dashboard",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Dashboard"}),E.jsx(us,{to:"/admin",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Admin Panel"})]})]})}),E.jsx("div",{className:"navbar-end",children:e?E.jsx("button",{onClick:r,className:"logout-btn",children:"Uitloggen"}):E.jsxs("div",{className:"navbar-links",children:[E.jsx(us,{to:"/login",className:"nav-item",children:"Inloggen"}),E.jsx(us,{to:"/register",className:"nav-item",children:"Registreren"})]})})]})})});function _3(){return E.jsx(RI,{basename:"/tidal-mare",children:E.jsxs("div",{className:"app-shell",children:[E.jsx(g3,{}),E.jsx("main",{className:"app-content",children:E.jsx("div",{className:"app-container",children:E.jsxs(sI,{children:[E.jsx(Nr,{path:"/",element:E.jsx(jI,{})}),E.jsx(Nr,{path:"/login",element:E.jsx(kV,{})}),E.jsx(Nr,{path:"/register",element:E.jsx(jV,{})}),E.jsxs(Nr,{element:E.jsx(mS,{roles:["customer","admin","guest"]}),children:[E.jsx(Nr,{path:"/dashboard",element:E.jsx(zV,{})}),E.jsx(Nr,{path:"/request",element:E.jsx(l3,{})}),E.jsx(Nr,{path:"/booking/:id",element:E.jsx(c3,{})}),E.jsx(Nr,{path:"/profile",element:E.jsx(f3,{})}),E.jsx(Nr,{path:"/delete-account",element:E.jsx(m3,{})})]}),E.jsx(Nr,{element:E.jsx(mS,{roles:["admin"]}),children:E.jsx(Nr,{path:"/admin",element:E.jsx(p3,{})})})]})})})]})})}lR.createRoot(document.getElementById("root")).render(E.jsx(W.StrictMode,{children:E.jsx(_3,{})}));
