var QR=Object.defineProperty;var XR=(n,t,e)=>t in n?QR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ee=(n,t,e)=>XR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=e(o);fetch(o.href,u)}})();function yS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var n_={exports:{}},Sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function $R(){if(UE)return Sh;UE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:n,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Sh.Fragment=t,Sh.jsx=e,Sh.jsxs=e,Sh}var FE;function JR(){return FE||(FE=1,n_.exports=$R()),n_.exports}var E=JR(),i_={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function t2(){if(HE)return Yt;HE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.iterator;function M(R){return R===null||typeof R!="object"?null:(R=P&&R[P]||R["@@iterator"],typeof R=="function"?R:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Z={};function ft(R,Q,ot){this.props=R,this.context=Q,this.refs=Z,this.updater=ot||H}ft.prototype.isReactComponent={},ft.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},ft.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function lt(R,Q,ot){this.props=R,this.context=Q,this.refs=Z,this.updater=ot||H}var xt=lt.prototype=new Et;xt.constructor=lt,K(xt,ft.prototype),xt.isPureReactComponent=!0;var Lt=Array.isArray;function jt(){}var j={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function V(R,Q,ot){var ut=ot.ref;return{$$typeof:n,type:R,key:Q,ref:ut!==void 0?ut:null,props:ot}}function G(R,Q){return V(R.type,Q,R.props)}function U(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function W(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ot){return Q[ot]})}var z=/\/+/g;function se(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?W(""+R.key):Q.toString(36)}function Ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(jt,jt):(R.status="pending",R.then(function(Q){R.status==="pending"&&(R.status="fulfilled",R.value=Q)},function(Q){R.status==="pending"&&(R.status="rejected",R.reason=Q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function st(R,Q,ot,ut,gt){var _t=typeof R;(_t==="undefined"||_t==="boolean")&&(R=null);var bt=!1;if(R===null)bt=!0;else switch(_t){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(R.$$typeof){case n:case t:bt=!0;break;case A:return bt=R._init,st(bt(R._payload),Q,ot,ut,gt)}}if(bt)return gt=gt(R),bt=ut===""?"."+se(R,0):ut,Lt(gt)?(ot="",bt!=null&&(ot=bt.replace(z,"$&/")+"/"),st(gt,Q,ot,"",function(ve){return ve})):gt!=null&&(U(gt)&&(gt=G(gt,ot+(gt.key==null||R&&R.key===gt.key?"":(""+gt.key).replace(z,"$&/")+"/")+bt)),Q.push(gt)),1;bt=0;var Pt=ut===""?".":ut+":";if(Lt(R))for(var Bt=0;Bt<R.length;Bt++)ut=R[Bt],_t=Pt+se(ut,Bt),bt+=st(ut,Q,ot,_t,gt);else if(Bt=M(R),typeof Bt=="function")for(R=Bt.call(R),Bt=0;!(ut=R.next()).done;)ut=ut.value,_t=Pt+se(ut,Bt++),bt+=st(ut,Q,ot,_t,gt);else if(_t==="object"){if(typeof R.then=="function")return st(Ze(R),Q,ot,ut,gt);throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return bt}function wt(R,Q,ot){if(R==null)return R;var ut=[],gt=0;return st(R,ut,"","",function(_t){return Q.call(ot,_t,gt++)}),ut}function yt(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(ot){(R._status===0||R._status===-1)&&(R._status=1,R._result=ot)},function(ot){(R._status===0||R._status===-1)&&(R._status=2,R._result=ot)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var ie=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},F={map:wt,forEach:function(R,Q,ot){wt(R,function(){Q.apply(this,arguments)},ot)},count:function(R){var Q=0;return wt(R,function(){Q++}),Q},toArray:function(R){return wt(R,function(Q){return Q})||[]},only:function(R){if(!U(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Yt.Activity=C,Yt.Children=F,Yt.Component=ft,Yt.Fragment=e,Yt.Profiler=o,Yt.PureComponent=lt,Yt.StrictMode=r,Yt.Suspense=v,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return j.H.useMemoCache(R)}},Yt.cache=function(R){return function(){return R.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(R,Q,ot){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ut=K({},R.props),gt=R.key;if(Q!=null)for(_t in Q.key!==void 0&&(gt=""+Q.key),Q)!D.call(Q,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Q.ref===void 0||(ut[_t]=Q[_t]);var _t=arguments.length-2;if(_t===1)ut.children=ot;else if(1<_t){for(var bt=Array(_t),Pt=0;Pt<_t;Pt++)bt[Pt]=arguments[Pt+2];ut.children=bt}return V(R.type,gt,ut)},Yt.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Yt.createElement=function(R,Q,ot){var ut,gt={},_t=null;if(Q!=null)for(ut in Q.key!==void 0&&(_t=""+Q.key),Q)D.call(Q,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(gt[ut]=Q[ut]);var bt=arguments.length-2;if(bt===1)gt.children=ot;else if(1<bt){for(var Pt=Array(bt),Bt=0;Bt<bt;Bt++)Pt[Bt]=arguments[Bt+2];gt.children=Pt}if(R&&R.defaultProps)for(ut in bt=R.defaultProps,bt)gt[ut]===void 0&&(gt[ut]=bt[ut]);return V(R,_t,gt)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(R){return{$$typeof:g,render:R}},Yt.isValidElement=U,Yt.lazy=function(R){return{$$typeof:A,_payload:{_status:-1,_result:R},_init:yt}},Yt.memo=function(R,Q){return{$$typeof:y,type:R,compare:Q===void 0?null:Q}},Yt.startTransition=function(R){var Q=j.T,ot={};j.T=ot;try{var ut=R(),gt=j.S;gt!==null&&gt(ot,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(jt,ie)}catch(_t){ie(_t)}finally{Q!==null&&ot.types!==null&&(Q.types=ot.types),j.T=Q}},Yt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Yt.use=function(R){return j.H.use(R)},Yt.useActionState=function(R,Q,ot){return j.H.useActionState(R,Q,ot)},Yt.useCallback=function(R,Q){return j.H.useCallback(R,Q)},Yt.useContext=function(R){return j.H.useContext(R)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(R,Q){return j.H.useDeferredValue(R,Q)},Yt.useEffect=function(R,Q){return j.H.useEffect(R,Q)},Yt.useEffectEvent=function(R){return j.H.useEffectEvent(R)},Yt.useId=function(){return j.H.useId()},Yt.useImperativeHandle=function(R,Q,ot){return j.H.useImperativeHandle(R,Q,ot)},Yt.useInsertionEffect=function(R,Q){return j.H.useInsertionEffect(R,Q)},Yt.useLayoutEffect=function(R,Q){return j.H.useLayoutEffect(R,Q)},Yt.useMemo=function(R,Q){return j.H.useMemo(R,Q)},Yt.useOptimistic=function(R,Q){return j.H.useOptimistic(R,Q)},Yt.useReducer=function(R,Q,ot){return j.H.useReducer(R,Q,ot)},Yt.useRef=function(R){return j.H.useRef(R)},Yt.useState=function(R){return j.H.useState(R)},Yt.useSyncExternalStore=function(R,Q,ot){return j.H.useSyncExternalStore(R,Q,ot)},Yt.useTransition=function(){return j.H.useTransition()},Yt.version="19.2.1",Yt}var qE;function km(){return qE||(qE=1,i_.exports=t2()),i_.exports}var Y=km();const Wo=yS(Y);var r_={exports:{}},Ah={},s_={exports:{}},a_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function e2(){return GE||(GE=1,(function(n){function t(st,wt){var yt=st.length;st.push(wt);t:for(;0<yt;){var ie=yt-1>>>1,F=st[ie];if(0<o(F,wt))st[ie]=wt,st[yt]=F,yt=ie;else break t}}function e(st){return st.length===0?null:st[0]}function r(st){if(st.length===0)return null;var wt=st[0],yt=st.pop();if(yt!==wt){st[0]=yt;t:for(var ie=0,F=st.length,R=F>>>1;ie<R;){var Q=2*(ie+1)-1,ot=st[Q],ut=Q+1,gt=st[ut];if(0>o(ot,yt))ut<F&&0>o(gt,ot)?(st[ie]=gt,st[ut]=yt,ie=ut):(st[ie]=ot,st[Q]=yt,ie=Q);else if(ut<F&&0>o(gt,yt))st[ie]=gt,st[ut]=yt,ie=ut;else break t}}return wt}function o(st,wt){var yt=st.sortIndex-wt.sortIndex;return yt!==0?yt:st.id-wt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var v=[],y=[],A=1,C=null,P=3,M=!1,H=!1,K=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function xt(st){for(var wt=e(y);wt!==null;){if(wt.callback===null)r(y);else if(wt.startTime<=st)r(y),wt.sortIndex=wt.expirationTime,t(v,wt);else break;wt=e(y)}}function Lt(st){if(K=!1,xt(st),!H)if(e(v)!==null)H=!0,jt||(jt=!0,W());else{var wt=e(y);wt!==null&&Ze(Lt,wt.startTime-st)}}var jt=!1,j=-1,D=5,V=-1;function G(){return Z?!0:!(n.unstable_now()-V<D)}function U(){if(Z=!1,jt){var st=n.unstable_now();V=st;var wt=!0;try{t:{H=!1,K&&(K=!1,Et(j),j=-1),M=!0;var yt=P;try{e:{for(xt(st),C=e(v);C!==null&&!(C.expirationTime>st&&G());){var ie=C.callback;if(typeof ie=="function"){C.callback=null,P=C.priorityLevel;var F=ie(C.expirationTime<=st);if(st=n.unstable_now(),typeof F=="function"){C.callback=F,xt(st),wt=!0;break e}C===e(v)&&r(v),xt(st)}else r(v);C=e(v)}if(C!==null)wt=!0;else{var R=e(y);R!==null&&Ze(Lt,R.startTime-st),wt=!1}}break t}finally{C=null,P=yt,M=!1}wt=void 0}}finally{wt?W():jt=!1}}}var W;if(typeof lt=="function")W=function(){lt(U)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,se=z.port2;z.port1.onmessage=U,W=function(){se.postMessage(null)}}else W=function(){ft(U,0)};function Ze(st,wt){j=ft(function(){st(n.unstable_now())},wt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(st){st.callback=null},n.unstable_forceFrameRate=function(st){0>st||125<st?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<st?Math.floor(1e3/st):5},n.unstable_getCurrentPriorityLevel=function(){return P},n.unstable_next=function(st){switch(P){case 1:case 2:case 3:var wt=3;break;default:wt=P}var yt=P;P=wt;try{return st()}finally{P=yt}},n.unstable_requestPaint=function(){Z=!0},n.unstable_runWithPriority=function(st,wt){switch(st){case 1:case 2:case 3:case 4:case 5:break;default:st=3}var yt=P;P=st;try{return wt()}finally{P=yt}},n.unstable_scheduleCallback=function(st,wt,yt){var ie=n.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?ie+yt:ie):yt=ie,st){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=yt+F,st={id:A++,callback:wt,priorityLevel:st,startTime:yt,expirationTime:F,sortIndex:-1},yt>ie?(st.sortIndex=yt,t(y,st),e(v)===null&&st===e(y)&&(K?(Et(j),j=-1):K=!0,Ze(Lt,yt-ie))):(st.sortIndex=F,t(v,st),H||M||(H=!0,jt||(jt=!0,W()))),st},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(st){var wt=P;return function(){var yt=P;P=wt;try{return st.apply(this,arguments)}finally{P=yt}}}})(a_)),a_}var ZE;function n2(){return ZE||(ZE=1,s_.exports=e2()),s_.exports}var o_={exports:{}},ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function i2(){if(KE)return ii;KE=1;var n=km();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(v,y,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:v,containerInfo:y,implementation:A}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ii.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(v,y,null,A)},ii.flushSync=function(v){var y=f.T,A=r.p;try{if(f.T=null,r.p=2,v)return v()}finally{f.T=y,r.p=A,r.d.f()}},ii.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(v,y))},ii.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},ii.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,C=g(A,y.crossOrigin),P=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:P,fetchPriority:M}):A==="script"&&r.d.X(v,{crossOrigin:C,integrity:P,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ii.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(v)},ii.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,C=g(A,y.crossOrigin);r.d.L(v,A,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ii.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=g(y.as,y.crossOrigin);r.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(v)},ii.requestFormReset=function(v){r.d.r(v)},ii.unstable_batchedUpdates=function(v,y){return v(y)},ii.useFormState=function(v,y,A){return f.H.useFormState(v,y,A)},ii.useFormStatus=function(){return f.H.useHostTransitionStatus()},ii.version="19.2.1",ii}var WE;function bS(){if(WE)return o_.exports;WE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),o_.exports=i2(),o_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE;function r2(){if(YE)return Ah;YE=1;var n=n2(),t=km(),e=bS();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function f(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function v(i){if(u(i)!==i)throw Error(r(188))}function y(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return v(p),i;if(_===h)return v(p),s;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=p,h=_;else{for(var S=!1,O=p.child;O;){if(O===l){S=!0,l=p,h=_;break}if(O===h){S=!0,h=p,l=_;break}O=O.sibling}if(!S){for(O=_.child;O;){if(O===l){S=!0,l=_,h=p;break}if(O===h){S=!0,h=_,l=p;break}O=O.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function A(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=A(i),s!==null)return s;i=i.sibling}return null}var C=Object.assign,P=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),Lt=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var z=Symbol.for("react.client.reference");function se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===z?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case K:return"Fragment";case ft:return"Profiler";case Z:return"StrictMode";case Lt:return"Suspense";case jt:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case H:return"Portal";case lt:return i.displayName||"Context";case Et:return(i._context.displayName||"Context")+".Consumer";case xt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case j:return s=i.displayName||null,s!==null?s:se(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return se(i(s))}catch{}}return null}var Ze=Array.isArray,st=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},ie=[],F=-1;function R(i){return{current:i}}function Q(i){0>F||(i.current=ie[F],ie[F]=null,F--)}function ot(i,s){F++,ie[F]=i.current,i.current=s}var ut=R(null),gt=R(null),_t=R(null),bt=R(null);function Pt(i,s){switch(ot(_t,s),ot(gt,i),ot(ut,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?cE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=cE(s),i=hE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(ut),ot(ut,i)}function Bt(){Q(ut),Q(gt),Q(_t)}function ve(i){i.memoizedState!==null&&ot(bt,i);var s=ut.current,l=hE(s,i.type);s!==l&&(ot(gt,i),ot(ut,l))}function ce(i){gt.current===i&&(Q(ut),Q(gt)),bt.current===i&&(Q(bt),bh._currentValue=yt)}var _e,je;function Kt(i){if(_e===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);_e=s&&s[1]||"",je=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+i+je}var tn=!1;function on(i,s){if(!i||tn)return"";tn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(at){var it=at}Reflect.construct(i,[],mt)}else{try{mt.call()}catch(at){it=at}i.call(mt.prototype)}}else{try{throw Error()}catch(at){it=at}(mt=i())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(at){if(at&&it&&typeof at.stack=="string")return[at.stack,it.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),S=_[0],O=_[1];if(S&&O){var B=S.split(`
`),et=O.split(`
`);for(p=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;p<et.length&&!et[p].includes("DetermineComponentFrameRoot");)p++;if(h===B.length||p===et.length)for(h=B.length-1,p=et.length-1;1<=h&&0<=p&&B[h]!==et[p];)p--;for(;1<=h&&0<=p;h--,p--)if(B[h]!==et[p]){if(h!==1||p!==1)do if(h--,p--,0>p||B[h]!==et[p]){var ct=`
`+B[h].replace(" at new "," at ");return i.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",i.displayName)),ct}while(1<=h&&0<=p);break}}}finally{tn=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Kt(l):""}function dn(i,s){switch(i.tag){case 26:case 27:case 5:return Kt(i.type);case 16:return Kt("Lazy");case 13:return i.child!==s&&s!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return on(i.type,!1);case 11:return on(i.type.render,!1);case 1:return on(i.type,!0);case 31:return Kt("Activity");default:return""}}function bn(i){try{var s="",l=null;do s+=dn(i,l),l=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Pe=Object.prototype.hasOwnProperty,Te=n.unstable_scheduleCallback,vi=n.unstable_cancelCallback,Wa=n.unstable_shouldYield,na=n.unstable_requestPaint,En=n.unstable_now,Fr=n.unstable_getCurrentPriorityLevel,cr=n.unstable_ImmediatePriority,ys=n.unstable_UserBlockingPriority,Bi=n.unstable_NormalPriority,Ya=n.unstable_LowPriority,bs=n.unstable_IdlePriority,Hr=n.log,Qa=n.unstable_setDisableYieldValue,Qn=null,mn=null;function li(i){if(typeof Hr=="function"&&Qa(i),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Qn,i)}catch{}}var en=Math.clz32?Math.clz32:du,Es=Math.log,Xa=Math.LN2;function du(i){return i>>>=0,i===0?32:31-(Es(i)/Xa|0)|0}var Ui=256,Ts=262144,nn=4194304;function hr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function fr(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var p=0,_=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var O=h&134217727;return O!==0?(h=O&~_,h!==0?p=hr(h):(S&=O,S!==0?p=hr(S):l||(l=O&~i,l!==0&&(p=hr(l))))):(O=h&~_,O!==0?p=hr(O):S!==0?p=hr(S):l||(l=h&~i,l!==0&&(p=hr(l)))),p===0?0:s!==0&&s!==p&&(s&_)===0&&(_=p&-p,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:p}function Fi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Bc(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var i=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),i}function dr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function qr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Uc(i,s,l,h,p,_){var S=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,B=i.expirationTimes,et=i.hiddenUpdates;for(l=S&~l;0<l;){var ct=31-en(l),mt=1<<ct;O[ct]=0,B[ct]=-1;var it=et[ct];if(it!==null)for(et[ct]=null,ct=0;ct<it.length;ct++){var at=it[ct];at!==null&&(at.lane&=-536870913)}l&=~mt}h!==0&&ia(i,h,0),_!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=_&~(S&~s))}function ia(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-en(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function ol(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-en(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}function ll(i,s){var l=s&-s;return l=(l&42)!==0?1:Mn(l),(l&(i.suspendedLanes|s))!==0?0:l}function Mn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ot(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ul(){var i=wt.p;return i!==0?i:(i=window.event,i===void 0?32:ME(i.type))}function yi(i,s){var l=wt.p;try{return wt.p=i,s()}finally{wt.p=l}}var bi=Math.random().toString(36).slice(2),rn="__reactFiber$"+bi,ln="__reactProps$"+bi,Hi="__reactContainer$"+bi,qi="__reactEvents$"+bi,pu="__reactListeners$"+bi,gu="__reactHandles$"+bi,_u="__reactResources$"+bi,mr="__reactMarker$"+bi;function $a(i){delete i[rn],delete i[ln],delete i[qi],delete i[pu],delete i[gu]}function Gi(i){var s=i[rn];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Hi]||l[rn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=vE(i);i!==null;){if(l=i[rn])return l;i=vE(i)}return s}i=l,l=i.parentNode}return null}function Ei(i){if(i=i[rn]||i[Hi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Dn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function pr(i){var s=i[_u];return s||(s=i[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function un(i){i[mr]=!0}var cl=new Set,hl={};function gr(i,s){Ti(i,s),Ti(i+"Capture",s)}function Ti(i,s){for(hl[i]=s,i=0;i<s.length;i++)cl.add(s[i])}var Gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ja={},to={};function ws(i){return Pe.call(to,i)?!0:Pe.call(Ja,i)?!1:Gr.test(i)?to[i]=!0:(Ja[i]=!0,!1)}function ne(i,s,l){if(ws(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function ae(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Ke(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}function We(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ui(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ra(i,s,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,_=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){l=""+S,_.call(this,S)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Rt(i){if(!i._valueTracker){var s=ui(i)?"checked":"value";i._valueTracker=ra(i,s,""+i[s])}}function Le(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=ui(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function wi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _r=/[\n"\\]/g;function Ue(i){return i.replace(_r,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function eo(i,s,l,h,p,_,S,O){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+We(s)):i.value!==""+We(s)&&(i.value=""+We(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Zi(i,S,We(s)):l!=null?Zi(i,S,We(l)):h!=null&&i.removeAttribute("value"),p==null&&_!=null&&(i.defaultChecked=!!_),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+We(O):i.removeAttribute("name")}function sa(i,s,l,h,p,_,S,O){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){Rt(i);return}l=l!=null?""+We(l):"",s=s!=null?""+We(s):l,O||s===i.value||(i.value=s),i.defaultValue=s}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=O?i.checked:!!h,i.defaultChecked=!!h,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),Rt(i)}function Zi(i,s,l){s==="number"&&wi(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Me(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+We(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function vr(i,s,l){if(s!=null&&(s=""+We(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+We(l):""}function Si(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(Ze(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=We(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Rt(i)}function Tn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var no=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zr(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||no.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function aa(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in s)h=s[p],s.hasOwnProperty(p)&&l[p]!==h&&Zr(i,p,h)}else for(var _ in s)s.hasOwnProperty(_)&&Zr(i,_,s[_])}function Ss(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(i){return yr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Xn(){}var io=null;function $n(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xs=null,Ut=null;function kn(i){var s=Ei(i);if(s&&(i=s.stateNode)){var l=i[ln]||null;t:switch(i=s.stateNode,s.type){case"input":if(eo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ue(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=h[ln]||null;if(!p)throw Error(r(90));eo(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&Le(h)}break t;case"textarea":vr(i,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&Me(i,!!l.multiple,s,!1)}}}var we=!1;function Kr(i,s,l){if(we)return i(s,l);we=!0;try{var h=i(s);return h}finally{if(we=!1,(xs!==null||Ut!==null)&&(od(),xs&&(s=xs,i=Ut,Ut=xs=null,kn(s),i)))for(s=0;s<i.length;s++)kn(i[s])}}function ci(i,s){var l=i.stateNode;if(l===null)return null;var h=l[ln]||null;if(h===null)return null;l=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=!1;if(Jn)try{var he={};Object.defineProperty(he,"passive",{get:function(){Wr=!0}}),window.addEventListener("test",he,he),window.removeEventListener("test",he,he)}catch{Wr=!1}var Ai=null,Yr=null,Ye=null;function Ki(){if(Ye)return Ye;var i,s=Yr,l=s.length,h,p="value"in Ai?Ai.value:Ai.textContent,_=p.length;for(i=0;i<l&&s[i]===p[i];i++);var S=l-i;for(h=1;h<=S&&s[l-h]===p[_-h];h++);return Ye=p.slice(i,1<h?1-h:void 0)}function Cs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function br(){return!0}function Wi(){return!1}function wn(i){function s(l,h,p,_,S){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?br:Wi,this.isPropagationStopped=Wi,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),s}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=wn(Yi),Qr=C({},Yi,{view:0,detail:0}),te=wn(Qr),Rs,jn,ti,la=C({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ti&&(ti&&i.type==="mousemove"?(Rs=i.screenX-ti.screenX,jn=i.screenY-ti.screenY):jn=Rs=0,ti=i),Rs)},movementY:function(i){return"movementY"in i?i.movementY:jn}}),fl=wn(la),Xr=C({},la,{dataTransfer:0}),vu=wn(Xr),dl=C({},Qr,{relatedTarget:0}),ua=wn(dl),ml=C({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=wn(ml),so=C({},Yi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hi=wn(so),yu=C({},Yi,{data:0}),Qi=wn(yu),Xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ao(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=gl[i])?!!s[i]:!1}function Is(){return ao}var Vn=C({},Qr,{key:function(i){if(i.key){var s=Xi[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Cs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?pl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(i){return i.type==="keypress"?Cs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Cs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_l=wn(Vn),bu=C({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$r=wn(bu),d=C({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),T=wn(d),x=C({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=wn(x),J=C({},la,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=wn(J),Tt=C({},Yi,{newState:0,oldState:0}),Gt=wn(Tt),ye=[9,13,27,32],be=Jn&&"CompositionEvent"in window,Fe=null;Jn&&"documentMode"in document&&(Fe=document.documentMode);var xi=Jn&&"TextEvent"in window&&!Fe,Ci=Jn&&(!be||Fe&&8<Fe&&11>=Fe),fi=" ",$i=!1;function ca(i,s){switch(i){case"keyup":return ye.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oo=!1;function Ji(i,s){switch(i){case"compositionend":return ha(s);case"keypress":return s.which!==32?null:($i=!0,fi);case"textInput":return i=s.data,i===fi&&$i?null:i;default:return null}}function lo(i,s){if(oo)return i==="compositionend"||!be&&ca(i,s)?(i=Ki(),Ye=Yr=Ai=null,oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ci&&s.locale!=="ko"?null:s.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!bp[i.type]:s==="textarea"}function Sf(i,s,l,h){xs?Ut?Ut.push(h):Ut=[h]:xs=h,s=md(s,"onChange"),0<s.length&&(l=new Er("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var wr=null,vl=null;function yl(i){rE(i,0)}function bl(i){var s=Dn(i);if(Le(s))return i}function El(i,s){if(i==="change")return s}var Af=!1;if(Jn){var Sr;if(Jn){var uo="oninput"in document;if(!uo){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),uo=typeof xf.oninput=="function"}Sr=uo}else Sr=!1;Af=Sr&&(!document.documentMode||9<document.documentMode)}function Eu(){wr&&(wr.detachEvent("onpropertychange",Cf),vl=wr=null)}function Cf(i){if(i.propertyName==="value"&&bl(vl)){var s=[];Sf(s,vl,i,$n(i)),Kr(yl,s)}}function Jr(i,s,l){i==="focusin"?(Eu(),wr=s,vl=l,wr.attachEvent("onpropertychange",Cf)):i==="focusout"&&Eu()}function Ep(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bl(vl)}function co(i,s){if(i==="click")return bl(s)}function Tp(i,s){if(i==="input"||i==="change")return bl(s)}function ts(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var zn=typeof Object.is=="function"?Object.is:ts;function ho(i,s){if(zn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Pe.call(s,p)||!zn(i[p],s[p]))return!1}return!0}function Tu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Tl(i,s){var l=Tu(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Tu(l)}}function wu(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?wu(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function wl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=wi(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=wi(i.document)}return s}function Os(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Su=Jn&&"documentMode"in document&&11>=document.documentMode,Ps=null,Au=null,Sl=null,fo=!1;function Rf(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fo||Ps==null||Ps!==wi(h)||(h=Ps,"selectionStart"in h&&Os(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sl&&ho(Sl,h)||(Sl=h,h=md(Au,"onSelect"),0<h.length&&(s=new Er("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Ps)))}function Ns(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var mo={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},xu={},If={};Jn&&(If=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Bn(i){if(xu[i])return xu[i];if(!mo[i])return i;var s=mo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in If)return xu[i]=s[l];return i}var Al=Bn("animationend"),Of=Bn("animationiteration"),xl=Bn("animationstart"),wp=Bn("transitionrun"),Pf=Bn("transitionstart"),Sp=Bn("transitioncancel"),po=Bn("transitionend"),Nf=new Map,Ls="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ls.push("scrollEnd");function Ri(i,s){Nf.set(i,s),gr(s,[i])}var Cl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ii=[],ei=0,Cu=0;function Rl(){for(var i=ei,s=Cu=ei=0;s<i;){var l=Ii[s];Ii[s++]=null;var h=Ii[s];Ii[s++]=null;var p=Ii[s];Ii[s++]=null;var _=Ii[s];if(Ii[s++]=null,h!==null&&p!==null){var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}_!==0&&go(l,p,_)}}function Ms(i,s,l,h){Ii[ei++]=i,Ii[ei++]=s,Ii[ei++]=l,Ii[ei++]=h,Cu|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Fc(i,s,l,h){return Ms(i,s,l,h),Il(i)}function Ar(i,s){return Ms(i,null,null,s),Il(i)}function go(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(p=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,p&&s!==null&&(p=31-en(l),i=_.hiddenUpdates,h=i[p],h===null?i[p]=[s]:h.push(s),s.lane=l|536870912),_):null}function Il(i){if(50<dh)throw dh=0,xg=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var fa={};function Ap(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(i,s,l,h){return new Ap(i,s,l,h)}function Ru(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xr(i,s){var l=i.alternate;return l===null?(l=ni(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Hc(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ol(i,s,l,h,p,_){var S=0;if(h=i,typeof i=="function")Ru(i)&&(S=1);else if(typeof i=="string")S=VR(i,l,ut.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case V:return i=ni(31,l,s,p),i.elementType=V,i.lanes=_,i;case K:return da(l.children,p,_,s);case Z:S=8,p|=24;break;case ft:return i=ni(12,l,s,p|2),i.elementType=ft,i.lanes=_,i;case Lt:return i=ni(13,l,s,p),i.elementType=Lt,i.lanes=_,i;case jt:return i=ni(19,l,s,p),i.elementType=jt,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case lt:S=10;break t;case Et:S=9;break t;case xt:S=11;break t;case j:S=14;break t;case D:S=16,h=null;break t}S=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=ni(S,l,s,p),s.elementType=i,s.type=h,s.lanes=_,s}function da(i,s,l,h){return i=ni(7,i,h,s),i.lanes=l,i}function Iu(i,s,l){return i=ni(6,i,null,s),i.lanes=l,i}function qc(i){var s=ni(18,null,null,0);return s.stateNode=i,s}function Gc(i,s,l){return s=ni(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var a=new WeakMap;function c(i,s){if(typeof i=="object"&&i!==null){var l=a.get(i);return l!==void 0?l:(s={value:i,source:s,stack:bn(s)},a.set(i,s),s)}return{value:i,source:s,stack:bn(s)}}var m=[],b=0,w=null,I=0,k=[],$=0,nt=null,dt=1,St="";function Dt(i,s){m[b++]=I,m[b++]=w,w=i,I=s}function $t(i,s,l){k[$++]=dt,k[$++]=St,k[$++]=nt,nt=i;var h=dt;i=St;var p=32-en(h)-1;h&=~(1<<p),l+=1;var _=32-en(s)+p;if(30<_){var S=p-p%5;_=(h&(1<<S)-1).toString(32),h>>=S,p-=S,dt=1<<32-en(s)+p|l<<p|h,St=_+i}else dt=1<<_|l<<p|h,St=i}function Pn(i){i.return!==null&&(Dt(i,1),$t(i,1,0))}function cn(i){for(;i===w;)w=m[--b],m[b]=null,I=m[--b],m[b]=null;for(;i===nt;)nt=k[--$],k[$]=null,St=k[--$],k[$]=null,dt=k[--$],k[$]=null}function di(i,s){k[$++]=dt,k[$++]=St,k[$++]=nt,dt=s.id,St=s.overflow,nt=i}var Ae=null,xe=null,oe=!1,Ds=null,Oi=!1,Ou=Error(r(519));function ks(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(c(s,i)),Ou}function Zc(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[rn]=i,s[ln]=h,l){case"dialog":ue("cancel",s),ue("close",s);break;case"iframe":case"object":case"embed":ue("load",s);break;case"video":case"audio":for(l=0;l<ph.length;l++)ue(ph[l],s);break;case"source":ue("error",s);break;case"img":case"image":case"link":ue("error",s),ue("load",s);break;case"details":ue("toggle",s);break;case"input":ue("invalid",s),sa(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ue("invalid",s);break;case"textarea":ue("invalid",s),Si(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||lE(s.textContent,l)?(h.popover!=null&&(ue("beforetoggle",s),ue("toggle",s)),h.onScroll!=null&&ue("scroll",s),h.onScrollEnd!=null&&ue("scrollend",s),h.onClick!=null&&(s.onclick=Xn),s=!0):s=!1,s||ks(i,!0)}function sn(i){for(Ae=i.return;Ae;)switch(Ae.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:Ae=Ae.return}}function es(i){if(i!==Ae)return!1;if(!oe)return sn(i),oe=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ug(i.type,i.memoizedProps)),l=!l),l&&xe&&ks(i),sn(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));xe=_E(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));xe=_E(i)}else s===27?(s=xe,Oo(i.type)?(i=Zg,Zg=null,xe=i):xe=s):xe=Ae?Rr(i.stateNode.nextSibling):null;return!0}function ma(){xe=Ae=null,oe=!1}function Kc(){var i=Ds;return i!==null&&(Mi===null?Mi=i:Mi.push.apply(Mi,i),Ds=null),i}function Pl(i){Ds===null?Ds=[i]:Ds.push(i)}var Nl=R(null),js=null,ns=null;function _o(i,s,l){ot(Nl,s._currentValue),s._currentValue=l}function pa(i){i._currentValue=Nl.current,Q(Nl)}function xp(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Cp(i,s,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var _=p.dependencies;if(_!==null){var S=p.child;_=_.firstContext;t:for(;_!==null;){var O=_;_=p;for(var B=0;B<s.length;B++)if(O.context===s[B]){_.lanes|=l,O=_.alternate,O!==null&&(O.lanes|=l),xp(_.return,l,i),h||(S=null);break t}_=O.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(r(341));S.lanes|=l,_=S.alternate,_!==null&&(_.lanes|=l),xp(S,l,i),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===i){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Pu(i,s,l,h){i=null;for(var p=s,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var O=p.type;zn(p.pendingProps.value,S.value)||(i!==null?i.push(O):i=[O])}}else if(p===bt.current){if(S=p.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(bh):i=[bh])}p=p.return}i!==null&&Cp(s,i,l,h),s.flags|=262144}function Lf(i){for(i=i.firstContext;i!==null;){if(!zn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ll(i){js=i,ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Hn(i){return Ky(js,i)}function Mf(i,s){return js===null&&Ll(i),Ky(i,s)}function Ky(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ns===null){if(i===null)throw Error(r(308));ns=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ns=ns.next=s;return l}var MC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},DC=n.unstable_scheduleCallback,kC=n.unstable_NormalPriority,Sn={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rp(){return{controller:new MC,data:new Map,refCount:0}}function Wc(i){i.refCount--,i.refCount===0&&DC(kC,function(){i.controller.abort()})}var Yc=null,Ip=0,Nu=0,Lu=null;function jC(i,s){if(Yc===null){var l=Yc=[];Ip=0,Nu=Ng(),Lu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Ip++,s.then(Wy,Wy),s}function Wy(){if(--Ip===0&&Yc!==null){Lu!==null&&(Lu.status="fulfilled");var i=Yc;Yc=null,Nu=0,Lu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function VC(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var Yy=st.S;st.S=function(i,s){Nb=En(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&jC(i,s),Yy!==null&&Yy(i,s)};var Ml=R(null);function Op(){var i=Ml.current;return i!==null?i:He.pooledCache}function Df(i,s){s===null?ot(Ml,Ml.current):ot(Ml,s.pool)}function Qy(){var i=Op();return i===null?null:{parent:Sn._currentValue,pool:i}}var Mu=Error(r(460)),Pp=Error(r(474)),kf=Error(r(542)),jf={then:function(){}};function Xy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $y(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(Xn,Xn),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,t0(i),i;default:if(typeof s.status=="string")s.then(Xn,Xn);else{if(i=He,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=h}},function(h){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,t0(i),i}throw kl=s,Mu}}function Dl(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(kl=l,Mu):l}}var kl=null;function Jy(){if(kl===null)throw Error(r(459));var i=kl;return kl=null,i}function t0(i){if(i===Mu||i===kf)throw Error(r(483))}var Du=null,Qc=0;function Vf(i){var s=Qc;return Qc+=1,Du===null&&(Du=[]),$y(Du,i,s)}function Xc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function zf(i,s){throw s.$$typeof===P?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function e0(i){function s(X,q){if(i){var tt=X.deletions;tt===null?(X.deletions=[q],X.flags|=16):tt.push(q)}}function l(X,q){if(!i)return null;for(;q!==null;)s(X,q),q=q.sibling;return null}function h(X){for(var q=new Map;X!==null;)X.key!==null?q.set(X.key,X):q.set(X.index,X),X=X.sibling;return q}function p(X,q){return X=xr(X,q),X.index=0,X.sibling=null,X}function _(X,q,tt){return X.index=tt,i?(tt=X.alternate,tt!==null?(tt=tt.index,tt<q?(X.flags|=67108866,q):tt):(X.flags|=67108866,q)):(X.flags|=1048576,q)}function S(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function O(X,q,tt,ht){return q===null||q.tag!==6?(q=Iu(tt,X.mode,ht),q.return=X,q):(q=p(q,tt),q.return=X,q)}function B(X,q,tt,ht){var Vt=tt.type;return Vt===K?ct(X,q,tt.props.children,ht,tt.key):q!==null&&(q.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===D&&Dl(Vt)===q.type)?(q=p(q,tt.props),Xc(q,tt),q.return=X,q):(q=Ol(tt.type,tt.key,tt.props,null,X.mode,ht),Xc(q,tt),q.return=X,q)}function et(X,q,tt,ht){return q===null||q.tag!==4||q.stateNode.containerInfo!==tt.containerInfo||q.stateNode.implementation!==tt.implementation?(q=Gc(tt,X.mode,ht),q.return=X,q):(q=p(q,tt.children||[]),q.return=X,q)}function ct(X,q,tt,ht,Vt){return q===null||q.tag!==7?(q=da(tt,X.mode,ht,Vt),q.return=X,q):(q=p(q,tt),q.return=X,q)}function mt(X,q,tt){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Iu(""+q,X.mode,tt),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return tt=Ol(q.type,q.key,q.props,null,X.mode,tt),Xc(tt,q),tt.return=X,tt;case H:return q=Gc(q,X.mode,tt),q.return=X,q;case D:return q=Dl(q),mt(X,q,tt)}if(Ze(q)||W(q))return q=da(q,X.mode,tt,null),q.return=X,q;if(typeof q.then=="function")return mt(X,Vf(q),tt);if(q.$$typeof===lt)return mt(X,Mf(X,q),tt);zf(X,q)}return null}function it(X,q,tt,ht){var Vt=q!==null?q.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Vt!==null?null:O(X,q,""+tt,ht);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case M:return tt.key===Vt?B(X,q,tt,ht):null;case H:return tt.key===Vt?et(X,q,tt,ht):null;case D:return tt=Dl(tt),it(X,q,tt,ht)}if(Ze(tt)||W(tt))return Vt!==null?null:ct(X,q,tt,ht,null);if(typeof tt.then=="function")return it(X,q,Vf(tt),ht);if(tt.$$typeof===lt)return it(X,q,Mf(X,tt),ht);zf(X,tt)}return null}function at(X,q,tt,ht,Vt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return X=X.get(tt)||null,O(q,X,""+ht,Vt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case M:return X=X.get(ht.key===null?tt:ht.key)||null,B(q,X,ht,Vt);case H:return X=X.get(ht.key===null?tt:ht.key)||null,et(q,X,ht,Vt);case D:return ht=Dl(ht),at(X,q,tt,ht,Vt)}if(Ze(ht)||W(ht))return X=X.get(tt)||null,ct(q,X,ht,Vt,null);if(typeof ht.then=="function")return at(X,q,tt,Vf(ht),Vt);if(ht.$$typeof===lt)return at(X,q,tt,Mf(q,ht),Vt);zf(q,ht)}return null}function Nt(X,q,tt,ht){for(var Vt=null,Ce=null,Mt=q,Jt=q=0,de=null;Mt!==null&&Jt<tt.length;Jt++){Mt.index>Jt?(de=Mt,Mt=null):de=Mt.sibling;var Re=it(X,Mt,tt[Jt],ht);if(Re===null){Mt===null&&(Mt=de);break}i&&Mt&&Re.alternate===null&&s(X,Mt),q=_(Re,q,Jt),Ce===null?Vt=Re:Ce.sibling=Re,Ce=Re,Mt=de}if(Jt===tt.length)return l(X,Mt),oe&&Dt(X,Jt),Vt;if(Mt===null){for(;Jt<tt.length;Jt++)Mt=mt(X,tt[Jt],ht),Mt!==null&&(q=_(Mt,q,Jt),Ce===null?Vt=Mt:Ce.sibling=Mt,Ce=Mt);return oe&&Dt(X,Jt),Vt}for(Mt=h(Mt);Jt<tt.length;Jt++)de=at(Mt,X,Jt,tt[Jt],ht),de!==null&&(i&&de.alternate!==null&&Mt.delete(de.key===null?Jt:de.key),q=_(de,q,Jt),Ce===null?Vt=de:Ce.sibling=de,Ce=de);return i&&Mt.forEach(function(Do){return s(X,Do)}),oe&&Dt(X,Jt),Vt}function Ft(X,q,tt,ht){if(tt==null)throw Error(r(151));for(var Vt=null,Ce=null,Mt=q,Jt=q=0,de=null,Re=tt.next();Mt!==null&&!Re.done;Jt++,Re=tt.next()){Mt.index>Jt?(de=Mt,Mt=null):de=Mt.sibling;var Do=it(X,Mt,Re.value,ht);if(Do===null){Mt===null&&(Mt=de);break}i&&Mt&&Do.alternate===null&&s(X,Mt),q=_(Do,q,Jt),Ce===null?Vt=Do:Ce.sibling=Do,Ce=Do,Mt=de}if(Re.done)return l(X,Mt),oe&&Dt(X,Jt),Vt;if(Mt===null){for(;!Re.done;Jt++,Re=tt.next())Re=mt(X,Re.value,ht),Re!==null&&(q=_(Re,q,Jt),Ce===null?Vt=Re:Ce.sibling=Re,Ce=Re);return oe&&Dt(X,Jt),Vt}for(Mt=h(Mt);!Re.done;Jt++,Re=tt.next())Re=at(Mt,X,Jt,Re.value,ht),Re!==null&&(i&&Re.alternate!==null&&Mt.delete(Re.key===null?Jt:Re.key),q=_(Re,q,Jt),Ce===null?Vt=Re:Ce.sibling=Re,Ce=Re);return i&&Mt.forEach(function(YR){return s(X,YR)}),oe&&Dt(X,Jt),Vt}function Be(X,q,tt,ht){if(typeof tt=="object"&&tt!==null&&tt.type===K&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case M:t:{for(var Vt=tt.key;q!==null;){if(q.key===Vt){if(Vt=tt.type,Vt===K){if(q.tag===7){l(X,q.sibling),ht=p(q,tt.props.children),ht.return=X,X=ht;break t}}else if(q.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===D&&Dl(Vt)===q.type){l(X,q.sibling),ht=p(q,tt.props),Xc(ht,tt),ht.return=X,X=ht;break t}l(X,q);break}else s(X,q);q=q.sibling}tt.type===K?(ht=da(tt.props.children,X.mode,ht,tt.key),ht.return=X,X=ht):(ht=Ol(tt.type,tt.key,tt.props,null,X.mode,ht),Xc(ht,tt),ht.return=X,X=ht)}return S(X);case H:t:{for(Vt=tt.key;q!==null;){if(q.key===Vt)if(q.tag===4&&q.stateNode.containerInfo===tt.containerInfo&&q.stateNode.implementation===tt.implementation){l(X,q.sibling),ht=p(q,tt.children||[]),ht.return=X,X=ht;break t}else{l(X,q);break}else s(X,q);q=q.sibling}ht=Gc(tt,X.mode,ht),ht.return=X,X=ht}return S(X);case D:return tt=Dl(tt),Be(X,q,tt,ht)}if(Ze(tt))return Nt(X,q,tt,ht);if(W(tt)){if(Vt=W(tt),typeof Vt!="function")throw Error(r(150));return tt=Vt.call(tt),Ft(X,q,tt,ht)}if(typeof tt.then=="function")return Be(X,q,Vf(tt),ht);if(tt.$$typeof===lt)return Be(X,q,Mf(X,tt),ht);zf(X,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,q!==null&&q.tag===6?(l(X,q.sibling),ht=p(q,tt),ht.return=X,X=ht):(l(X,q),ht=Iu(tt,X.mode,ht),ht.return=X,X=ht),S(X)):l(X,q)}return function(X,q,tt,ht){try{Qc=0;var Vt=Be(X,q,tt,ht);return Du=null,Vt}catch(Mt){if(Mt===Mu||Mt===kf)throw Mt;var Ce=ni(29,Mt,null,X.mode);return Ce.lanes=ht,Ce.return=X,Ce}finally{}}}var jl=e0(!0),n0=e0(!1),vo=!1;function Np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function yo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bo(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,s=Il(i),go(i,null,l),s}return Ms(i,h,s,l),Il(i)}function $c(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ol(i,l)}}function Mp(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=S:_=_.next=S,l=l.next}while(l!==null);_===null?p=_=s:_=_.next=s}else p=_=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Dp=!1;function Jc(){if(Dp){var i=Lu;if(i!==null)throw i}}function th(i,s,l,h){Dp=!1;var p=i.updateQueue;vo=!1;var _=p.firstBaseUpdate,S=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var B=O,et=B.next;B.next=null,S===null?_=et:S.next=et,S=B;var ct=i.alternate;ct!==null&&(ct=ct.updateQueue,O=ct.lastBaseUpdate,O!==S&&(O===null?ct.firstBaseUpdate=et:O.next=et,ct.lastBaseUpdate=B))}if(_!==null){var mt=p.baseState;S=0,ct=et=B=null,O=_;do{var it=O.lane&-536870913,at=it!==O.lane;if(at?(fe&it)===it:(h&it)===it){it!==0&&it===Nu&&(Dp=!0),ct!==null&&(ct=ct.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});t:{var Nt=i,Ft=O;it=s;var Be=l;switch(Ft.tag){case 1:if(Nt=Ft.payload,typeof Nt=="function"){mt=Nt.call(Be,mt,it);break t}mt=Nt;break t;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Ft.payload,it=typeof Nt=="function"?Nt.call(Be,mt,it):Nt,it==null)break t;mt=C({},mt,it);break t;case 2:vo=!0}}it=O.callback,it!==null&&(i.flags|=64,at&&(i.flags|=8192),at=p.callbacks,at===null?p.callbacks=[it]:at.push(it))}else at={lane:it,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ct===null?(et=ct=at,B=mt):ct=ct.next=at,S|=it;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;at=O,O=at.next,at.next=null,p.lastBaseUpdate=at,p.shared.pending=null}}while(!0);ct===null&&(B=mt),p.baseState=B,p.firstBaseUpdate=et,p.lastBaseUpdate=ct,_===null&&(p.shared.lanes=0),Ao|=S,i.lanes=S,i.memoizedState=mt}}function i0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function r0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)i0(l[i],s)}var ku=R(null),Bf=R(0);function s0(i,s){i=Sa,ot(Bf,i),ot(ku,s),Sa=i|s.baseLanes}function kp(){ot(Bf,Sa),ot(ku,ku.current)}function jp(){Sa=Bf.current,Q(ku),Q(Bf)}var tr=R(null),Cr=null;function Eo(i){var s=i.alternate;ot(pn,pn.current&1),ot(tr,i),Cr===null&&(s===null||ku.current!==null||s.memoizedState!==null)&&(Cr=i)}function Vp(i){ot(pn,pn.current),ot(tr,i),Cr===null&&(Cr=i)}function a0(i){i.tag===22?(ot(pn,pn.current),ot(tr,i),Cr===null&&(Cr=i)):To()}function To(){ot(pn,pn.current),ot(tr,tr.current)}function er(i){Q(tr),Cr===i&&(Cr=null),Q(pn)}var pn=R(0);function Uf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||qg(l)||Gg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ga=0,Xt=null,Ve=null,An=null,Ff=!1,ju=!1,Vl=!1,Hf=0,eh=0,Vu=null,zC=0;function hn(){throw Error(r(321))}function zp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!zn(i[l],s[l]))return!1;return!0}function Bp(i,s,l,h,p,_){return ga=_,Xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,st.H=i===null||i.memoizedState===null?H0:eg,Vl=!1,_=l(h,p),Vl=!1,ju&&(_=l0(s,l,h,p)),o0(i),_}function o0(i){st.H=rh;var s=Ve!==null&&Ve.next!==null;if(ga=0,An=Ve=Xt=null,Ff=!1,eh=0,Vu=null,s)throw Error(r(300));i===null||xn||(i=i.dependencies,i!==null&&Lf(i)&&(xn=!0))}function l0(i,s,l,h){Xt=i;var p=0;do{if(ju&&(Vu=null),eh=0,ju=!1,25<=p)throw Error(r(301));if(p+=1,An=Ve=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}st.H=q0,_=s(l,h)}while(ju);return _}function BC(){var i=st.H,s=i.useState()[0];return s=typeof s.then=="function"?nh(s):s,i=i.useState()[0],(Ve!==null?Ve.memoizedState:null)!==i&&(Xt.flags|=1024),s}function Up(){var i=Hf!==0;return Hf=0,i}function Fp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Hp(i){if(Ff){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ff=!1}ga=0,An=Ve=Xt=null,ju=!1,eh=Hf=0,Vu=null}function mi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Xt.memoizedState=An=i:An=An.next=i,An}function gn(){if(Ve===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=Ve.next;var s=An===null?Xt.memoizedState:An.next;if(s!==null)An=s,Ve=i;else{if(i===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));Ve=i,i={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},An===null?Xt.memoizedState=An=i:An=An.next=i}return An}function qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nh(i){var s=eh;return eh+=1,Vu===null&&(Vu=[]),i=$y(Vu,i,s),s=Xt,(An===null?s.memoizedState:An.next)===null&&(s=s.alternate,st.H=s===null||s.memoizedState===null?H0:eg),i}function Gf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nh(i);if(i.$$typeof===lt)return Hn(i)}throw Error(r(438,String(i)))}function qp(i){var s=null,l=Xt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=Xt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=qf(),Xt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=G;return s.index++,l}function _a(i,s){return typeof s=="function"?s(i):s}function Zf(i){var s=gn();return Gp(s,Ve,i)}function Gp(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var p=i.baseQueue,_=h.pending;if(_!==null){if(p!==null){var S=p.next;p.next=_.next,_.next=S}s.baseQueue=p=_,h.pending=null}if(_=i.baseState,p===null)i.memoizedState=_;else{s=p.next;var O=S=null,B=null,et=s,ct=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(fe&mt)===mt:(ga&mt)===mt){var it=et.revertLane;if(it===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===Nu&&(ct=!0);else if((ga&it)===it){et=et.next,it===Nu&&(ct=!0);continue}else mt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},B===null?(O=B=mt,S=_):B=B.next=mt,Xt.lanes|=it,Ao|=it;mt=et.action,Vl&&l(_,mt),_=et.hasEagerState?et.eagerState:l(_,mt)}else it={lane:mt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},B===null?(O=B=it,S=_):B=B.next=it,Xt.lanes|=mt,Ao|=mt;et=et.next}while(et!==null&&et!==s);if(B===null?S=_:B.next=O,!zn(_,i.memoizedState)&&(xn=!0,ct&&(l=Lu,l!==null)))throw l;i.memoizedState=_,i.baseState=S,i.baseQueue=B,h.lastRenderedState=_}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Zp(i){var s=gn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,_=s.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do _=i(_,S.action),S=S.next;while(S!==p);zn(_,s.memoizedState)||(xn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function u0(i,s,l){var h=Xt,p=gn(),_=oe;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var S=!zn((Ve||p).memoizedState,l);if(S&&(p.memoizedState=l,xn=!0),p=p.queue,Yp(f0.bind(null,h,p,i),[i]),p.getSnapshot!==s||S||An!==null&&An.memoizedState.tag&1){if(h.flags|=2048,zu(9,{destroy:void 0},h0.bind(null,h,p,l,s),null),He===null)throw Error(r(349));_||(ga&127)!==0||c0(h,s,l)}return l}function c0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Xt.updateQueue,s===null?(s=qf(),Xt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function h0(i,s,l,h){s.value=l,s.getSnapshot=h,d0(s)&&m0(i)}function f0(i,s,l){return l(function(){d0(s)&&m0(i)})}function d0(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!zn(i,l)}catch{return!0}}function m0(i){var s=Ar(i,2);s!==null&&Di(s,i,2)}function Kp(i){var s=mi();if(typeof i=="function"){var l=i;if(i=l(),Vl){li(!0);try{l()}finally{li(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:i},s}function p0(i,s,l,h){return i.baseState=l,Gp(i,Ve,typeof h=="function"?h:_a)}function UC(i,s,l,h,p){if(Yf(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){_.listeners.push(S)}};st.T!==null?l(!0):_.isTransition=!1,h(_),l=s.pending,l===null?(_.next=s.pending=_,g0(s,_)):(_.next=l.next,s.pending=l.next=_)}}function g0(i,s){var l=s.action,h=s.payload,p=i.state;if(s.isTransition){var _=st.T,S={};st.T=S;try{var O=l(p,h),B=st.S;B!==null&&B(S,O),_0(i,s,O)}catch(et){Wp(i,s,et)}finally{_!==null&&S.types!==null&&(_.types=S.types),st.T=_}}else try{_=l(p,h),_0(i,s,_)}catch(et){Wp(i,s,et)}}function _0(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){v0(i,s,h)},function(h){return Wp(i,s,h)}):v0(i,s,l)}function v0(i,s,l){s.status="fulfilled",s.value=l,y0(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,g0(i,l)))}function Wp(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,y0(s),s=s.next;while(s!==h)}i.action=null}function y0(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function b0(i,s){return s}function E0(i,s){if(oe){var l=He.formState;if(l!==null){t:{var h=Xt;if(oe){if(xe){e:{for(var p=xe,_=Oi;p.nodeType!==8;){if(!_){p=null;break e}if(p=Rr(p.nextSibling),p===null){p=null;break e}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){xe=Rr(p.nextSibling),h=p.data==="F!";break t}}ks(h)}h=!1}h&&(s=l[0])}}return l=mi(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b0,lastRenderedState:s},l.queue=h,l=B0.bind(null,Xt,h),h.dispatch=l,h=Kp(!1),_=tg.bind(null,Xt,!1,h.queue),h=mi(),p={state:s,dispatch:null,action:i,pending:null},h.queue=p,l=UC.bind(null,Xt,p,_,l),p.dispatch=l,h.memoizedState=i,[s,l,!1]}function T0(i){var s=gn();return w0(s,Ve,i)}function w0(i,s,l){if(s=Gp(i,s,b0)[0],i=Zf(_a)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=nh(s)}catch(S){throw S===Mu?kf:S}else h=s;s=gn();var p=s.queue,_=p.dispatch;return l!==s.memoizedState&&(Xt.flags|=2048,zu(9,{destroy:void 0},FC.bind(null,p,l),null)),[h,_,i]}function FC(i,s){i.action=s}function S0(i){var s=gn(),l=Ve;if(l!==null)return w0(s,l,i);gn(),s=s.memoizedState,l=gn();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function zu(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=Xt.updateQueue,s===null&&(s=qf(),Xt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function A0(){return gn().memoizedState}function Kf(i,s,l,h){var p=mi();Xt.flags|=i,p.memoizedState=zu(1|s,{destroy:void 0},l,h===void 0?null:h)}function Wf(i,s,l,h){var p=gn();h=h===void 0?null:h;var _=p.memoizedState.inst;Ve!==null&&h!==null&&zp(h,Ve.memoizedState.deps)?p.memoizedState=zu(s,_,l,h):(Xt.flags|=i,p.memoizedState=zu(1|s,_,l,h))}function x0(i,s){Kf(8390656,8,i,s)}function Yp(i,s){Wf(2048,8,i,s)}function HC(i){Xt.flags|=4;var s=Xt.updateQueue;if(s===null)s=qf(),Xt.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function C0(i){var s=gn().memoizedState;return HC({ref:s,nextImpl:i}),function(){if((Oe&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function R0(i,s){return Wf(4,2,i,s)}function I0(i,s){return Wf(4,4,i,s)}function O0(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function P0(i,s,l){l=l!=null?l.concat([i]):null,Wf(4,4,O0.bind(null,s,i),l)}function Qp(){}function N0(i,s){var l=gn();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&zp(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function L0(i,s){var l=gn();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&zp(s,h[1]))return h[0];if(h=i(),Vl){li(!0);try{i()}finally{li(!1)}}return l.memoizedState=[h,s],h}function Xp(i,s,l){return l===void 0||(ga&1073741824)!==0&&(fe&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=Mb(),Xt.lanes|=i,Ao|=i,l)}function M0(i,s,l,h){return zn(l,s)?l:ku.current!==null?(i=Xp(i,l,h),zn(i,s)||(xn=!0),i):(ga&42)===0||(ga&1073741824)!==0&&(fe&261930)===0?(xn=!0,i.memoizedState=l):(i=Mb(),Xt.lanes|=i,Ao|=i,s)}function D0(i,s,l,h,p){var _=wt.p;wt.p=_!==0&&8>_?_:8;var S=st.T,O={};st.T=O,tg(i,!1,s,l);try{var B=p(),et=st.S;if(et!==null&&et(O,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ct=VC(B,h);ih(i,s,ct,rr(i))}else ih(i,s,h,rr(i))}catch(mt){ih(i,s,{then:function(){},status:"rejected",reason:mt},rr())}finally{wt.p=_,S!==null&&O.types!==null&&(S.types=O.types),st.T=S}}function qC(){}function $p(i,s,l,h){if(i.tag!==5)throw Error(r(476));var p=k0(i).queue;D0(i,p,s,yt,l===null?qC:function(){return j0(i),l(h)})}function k0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:yt},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function j0(i){var s=k0(i);s.next===null&&(s=i.alternate.memoizedState),ih(i,s.next.queue,{},rr())}function Jp(){return Hn(bh)}function V0(){return gn().memoizedState}function z0(){return gn().memoizedState}function GC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=rr();i=yo(l);var h=bo(s,i,l);h!==null&&(Di(h,s,l),$c(h,s,l)),s={cache:Rp()},i.payload=s;return}s=s.return}}function ZC(i,s,l){var h=rr();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yf(i)?U0(s,l):(l=Fc(i,s,l,h),l!==null&&(Di(l,i,h),F0(l,s,h)))}function B0(i,s,l){var h=rr();ih(i,s,l,h)}function ih(i,s,l,h){var p={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yf(i))U0(s,p);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var S=s.lastRenderedState,O=_(S,l);if(p.hasEagerState=!0,p.eagerState=O,zn(O,S))return Ms(i,s,p,0),He===null&&Rl(),!1}catch{}finally{}if(l=Fc(i,s,p,h),l!==null)return Di(l,i,h),F0(l,s,h),!0}return!1}function tg(i,s,l,h){if(h={lane:2,revertLane:Ng(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Yf(i)){if(s)throw Error(r(479))}else s=Fc(i,l,h,2),s!==null&&Di(s,i,2)}function Yf(i){var s=i.alternate;return i===Xt||s!==null&&s===Xt}function U0(i,s){ju=Ff=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function F0(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ol(i,l)}}var rh={readContext:Hn,use:Gf,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn};rh.useEffectEvent=hn;var H0={readContext:Hn,use:Gf,useCallback:function(i,s){return mi().memoizedState=[i,s===void 0?null:s],i},useContext:Hn,useEffect:x0,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Kf(4194308,4,O0.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Kf(4194308,4,i,s)},useInsertionEffect:function(i,s){Kf(4,2,i,s)},useMemo:function(i,s){var l=mi();s=s===void 0?null:s;var h=i();if(Vl){li(!0);try{i()}finally{li(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=mi();if(l!==void 0){var p=l(s);if(Vl){li(!0);try{l(s)}finally{li(!1)}}}else p=s;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=ZC.bind(null,Xt,i),[h.memoizedState,i]},useRef:function(i){var s=mi();return i={current:i},s.memoizedState=i},useState:function(i){i=Kp(i);var s=i.queue,l=B0.bind(null,Xt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Qp,useDeferredValue:function(i,s){var l=mi();return Xp(l,i,s)},useTransition:function(){var i=Kp(!1);return i=D0.bind(null,Xt,i.queue,!0,!1),mi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=Xt,p=mi();if(oe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),He===null)throw Error(r(349));(fe&127)!==0||c0(h,s,l)}p.memoizedState=l;var _={value:l,getSnapshot:s};return p.queue=_,x0(f0.bind(null,h,_,i),[i]),h.flags|=2048,zu(9,{destroy:void 0},h0.bind(null,h,_,l,s),null),l},useId:function(){var i=mi(),s=He.identifierPrefix;if(oe){var l=St,h=dt;l=(h&~(1<<32-en(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Hf++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=zC++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Jp,useFormState:E0,useActionState:E0,useOptimistic:function(i){var s=mi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=tg.bind(null,Xt,!0,l),l.dispatch=s,[i,s]},useMemoCache:qp,useCacheRefresh:function(){return mi().memoizedState=GC.bind(null,Xt)},useEffectEvent:function(i){var s=mi(),l={impl:i};return s.memoizedState=l,function(){if((Oe&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},eg={readContext:Hn,use:Gf,useCallback:N0,useContext:Hn,useEffect:Yp,useImperativeHandle:P0,useInsertionEffect:R0,useLayoutEffect:I0,useMemo:L0,useReducer:Zf,useRef:A0,useState:function(){return Zf(_a)},useDebugValue:Qp,useDeferredValue:function(i,s){var l=gn();return M0(l,Ve.memoizedState,i,s)},useTransition:function(){var i=Zf(_a)[0],s=gn().memoizedState;return[typeof i=="boolean"?i:nh(i),s]},useSyncExternalStore:u0,useId:V0,useHostTransitionStatus:Jp,useFormState:T0,useActionState:T0,useOptimistic:function(i,s){var l=gn();return p0(l,Ve,i,s)},useMemoCache:qp,useCacheRefresh:z0};eg.useEffectEvent=C0;var q0={readContext:Hn,use:Gf,useCallback:N0,useContext:Hn,useEffect:Yp,useImperativeHandle:P0,useInsertionEffect:R0,useLayoutEffect:I0,useMemo:L0,useReducer:Zp,useRef:A0,useState:function(){return Zp(_a)},useDebugValue:Qp,useDeferredValue:function(i,s){var l=gn();return Ve===null?Xp(l,i,s):M0(l,Ve.memoizedState,i,s)},useTransition:function(){var i=Zp(_a)[0],s=gn().memoizedState;return[typeof i=="boolean"?i:nh(i),s]},useSyncExternalStore:u0,useId:V0,useHostTransitionStatus:Jp,useFormState:S0,useActionState:S0,useOptimistic:function(i,s){var l=gn();return Ve!==null?p0(l,Ve,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:qp,useCacheRefresh:z0};q0.useEffectEvent=C0;function ng(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:C({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ig={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=rr(),p=yo(h);p.payload=s,l!=null&&(p.callback=l),s=bo(i,p,h),s!==null&&(Di(s,i,h),$c(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=rr(),p=yo(h);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=bo(i,p,h),s!==null&&(Di(s,i,h),$c(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=rr(),h=yo(l);h.tag=2,s!=null&&(h.callback=s),s=bo(i,h,l),s!==null&&(Di(s,i,l),$c(s,i,l))}};function G0(i,s,l,h,p,_,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,S):s.prototype&&s.prototype.isPureReactComponent?!ho(l,h)||!ho(p,_):!0}function Z0(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&ig.enqueueReplaceState(s,s.state,null)}function zl(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=C({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function K0(i){Cl(i)}function W0(i){console.error(i)}function Y0(i){Cl(i)}function Qf(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Q0(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function rg(i,s,l){return l=yo(l),l.tag=3,l.payload={element:null},l.callback=function(){Qf(i,s)},l}function X0(i){return i=yo(i),i.tag=3,i}function $0(i,s,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=h.value;i.payload=function(){return p(_)},i.callback=function(){Q0(s,l,h)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){Q0(s,l,h),typeof p!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var O=h.stack;this.componentDidCatch(h.value,{componentStack:O!==null?O:""})})}function KC(i,s,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Pu(s,l,p,!0),l=tr.current,l!==null){switch(l.tag){case 31:case 13:return Cr===null?ld():l.alternate===null&&fn===0&&(fn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===jf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),Ig(i,h,p)),!1;case 22:return l.flags|=65536,h===jf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),Ig(i,h,p)),!1}throw Error(r(435,l.tag))}return Ig(i,h,p),ld(),!1}if(oe)return s=tr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,h!==Ou&&(i=Error(r(422),{cause:h}),Pl(c(i,l)))):(h!==Ou&&(s=Error(r(423),{cause:h}),Pl(c(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=c(h,l),p=rg(i.stateNode,h,p),Mp(i,p),fn!==4&&(fn=2)),!1;var _=Error(r(520),{cause:h});if(_=c(_,l),fh===null?fh=[_]:fh.push(_),fn!==4&&(fn=2),s===null)return!0;h=c(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=rg(l.stateNode,h,i),Mp(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xo===null||!xo.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=X0(p),$0(p,i,l,h),Mp(l,p),!1}l=l.return}while(l!==null);return!1}var sg=Error(r(461)),xn=!1;function qn(i,s,l,h){s.child=i===null?n0(s,null,l,h):jl(s,i.child,l,h)}function J0(i,s,l,h,p){l=l.render;var _=s.ref;if("ref"in h){var S={};for(var O in h)O!=="ref"&&(S[O]=h[O])}else S=h;return Ll(s),h=Bp(i,s,l,S,_,p),O=Up(),i!==null&&!xn?(Fp(i,s,p),va(i,s,p)):(oe&&O&&Pn(s),s.flags|=1,qn(i,s,h,p),s.child)}function tb(i,s,l,h,p){if(i===null){var _=l.type;return typeof _=="function"&&!Ru(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,eb(i,s,_,h,p)):(i=Ol(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!dg(i,p)){var S=_.memoizedProps;if(l=l.compare,l=l!==null?l:ho,l(S,h)&&i.ref===s.ref)return va(i,s,p)}return s.flags|=1,i=xr(_,h),i.ref=s.ref,i.return=s,s.child=i}function eb(i,s,l,h,p){if(i!==null){var _=i.memoizedProps;if(ho(_,h)&&i.ref===s.ref)if(xn=!1,s.pendingProps=h=_,dg(i,p))(i.flags&131072)!==0&&(xn=!0);else return s.lanes=i.lanes,va(i,s,p)}return ag(i,s,l,h,p)}function nb(i,s,l,h){var p=h.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(h=s.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~_}else h=0,s.child=null;return ib(i,s,_,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Df(s,_!==null?_.cachePool:null),_!==null?s0(s,_):kp(),a0(s);else return h=s.lanes=536870912,ib(i,s,_!==null?_.baseLanes|l:l,l,h)}else _!==null?(Df(s,_.cachePool),s0(s,_),To(),s.memoizedState=null):(i!==null&&Df(s,null),kp(),To());return qn(i,s,p,l),s.child}function sh(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function ib(i,s,l,h,p){var _=Op();return _=_===null?null:{parent:Sn._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&Df(s,null),kp(),a0(s),i!==null&&Pu(i,s,h,!0),s.childLanes=p,null}function Xf(i,s){return s=Jf({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function rb(i,s,l){return jl(s,i.child,null,l),i=Xf(s,s.pendingProps),i.flags|=2,er(s),s.memoizedState=null,i}function WC(i,s,l){var h=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(oe){if(h.mode==="hidden")return i=Xf(s,h),s.lanes=536870912,sh(null,i);if(Vp(s),(i=xe)?(i=gE(i,Oi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:nt!==null?{id:dt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},l=qc(i),l.return=s,s.child=l,Ae=s,xe=null)):i=null,i===null)throw ks(s);return s.lanes=536870912,null}return Xf(s,h)}var _=i.memoizedState;if(_!==null){var S=_.dehydrated;if(Vp(s),p)if(s.flags&256)s.flags&=-257,s=rb(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(xn||Pu(i,s,l,!1),p=(l&i.childLanes)!==0,xn||p){if(h=He,h!==null&&(S=ll(h,l),S!==0&&S!==_.retryLane))throw _.retryLane=S,Ar(i,S),Di(h,i,S),sg;ld(),s=rb(i,s,l)}else i=_.treeContext,xe=Rr(S.nextSibling),Ae=s,oe=!0,Ds=null,Oi=!1,i!==null&&di(s,i),s=Xf(s,h),s.flags|=4096;return s}return i=xr(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function $f(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function ag(i,s,l,h,p){return Ll(s),l=Bp(i,s,l,h,void 0,p),h=Up(),i!==null&&!xn?(Fp(i,s,p),va(i,s,p)):(oe&&h&&Pn(s),s.flags|=1,qn(i,s,l,p),s.child)}function sb(i,s,l,h,p,_){return Ll(s),s.updateQueue=null,l=l0(s,h,l,p),o0(i),h=Up(),i!==null&&!xn?(Fp(i,s,_),va(i,s,_)):(oe&&h&&Pn(s),s.flags|=1,qn(i,s,l,_),s.child)}function ab(i,s,l,h,p){if(Ll(s),s.stateNode===null){var _=fa,S=l.contextType;typeof S=="object"&&S!==null&&(_=Hn(S)),_=new l(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ig,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},Np(s),S=l.contextType,_.context=typeof S=="object"&&S!==null?Hn(S):fa,_.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ng(s,l,S,h),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(S=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),S!==_.state&&ig.enqueueReplaceState(_,_.state,null),th(s,h,_,p),Jc(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){_=s.stateNode;var O=s.memoizedProps,B=zl(l,O);_.props=B;var et=_.context,ct=l.contextType;S=fa,typeof ct=="object"&&ct!==null&&(S=Hn(ct));var mt=l.getDerivedStateFromProps;ct=typeof mt=="function"||typeof _.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,ct||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O||et!==S)&&Z0(s,_,h,S),vo=!1;var it=s.memoizedState;_.state=it,th(s,h,_,p),Jc(),et=s.memoizedState,O||it!==et||vo?(typeof mt=="function"&&(ng(s,l,mt,h),et=s.memoizedState),(B=vo||G0(s,l,B,h,it,et,S))?(ct||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=et),_.props=h,_.state=et,_.context=S,h=B):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,Lp(i,s),S=s.memoizedProps,ct=zl(l,S),_.props=ct,mt=s.pendingProps,it=_.context,et=l.contextType,B=fa,typeof et=="object"&&et!==null&&(B=Hn(et)),O=l.getDerivedStateFromProps,(et=typeof O=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==mt||it!==B)&&Z0(s,_,h,B),vo=!1,it=s.memoizedState,_.state=it,th(s,h,_,p),Jc();var at=s.memoizedState;S!==mt||it!==at||vo||i!==null&&i.dependencies!==null&&Lf(i.dependencies)?(typeof O=="function"&&(ng(s,l,O,h),at=s.memoizedState),(ct=vo||G0(s,l,ct,h,it,at,B)||i!==null&&i.dependencies!==null&&Lf(i.dependencies))?(et||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,at,B),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,at,B)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=at),_.props=h,_.state=at,_.context=B,h=ct):(typeof _.componentDidUpdate!="function"||S===i.memoizedProps&&it===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&it===i.memoizedState||(s.flags|=1024),h=!1)}return _=h,$f(i,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&h?(s.child=jl(s,i.child,null,p),s.child=jl(s,null,l,p)):qn(i,s,l,p),s.memoizedState=_.state,i=s.child):i=va(i,s,p),i}function ob(i,s,l,h){return ma(),s.flags|=256,qn(i,s,l,h),s.child}var og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lg(i){return{baseLanes:i,cachePool:Qy()}}function ug(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ir),i}function lb(i,s,l){var h=s.pendingProps,p=!1,_=(s.flags&128)!==0,S;if((S=_)||(S=i!==null&&i.memoizedState===null?!1:(pn.current&2)!==0),S&&(p=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(oe){if(p?Eo(s):To(),(i=xe)?(i=gE(i,Oi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:nt!==null?{id:dt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},l=qc(i),l.return=s,s.child=l,Ae=s,xe=null)):i=null,i===null)throw ks(s);return Gg(i)?s.lanes=32:s.lanes=536870912,null}var O=h.children;return h=h.fallback,p?(To(),p=s.mode,O=Jf({mode:"hidden",children:O},p),h=da(h,p,l,null),O.return=s,h.return=s,O.sibling=h,s.child=O,h=s.child,h.memoizedState=lg(l),h.childLanes=ug(i,S,l),s.memoizedState=og,sh(null,h)):(Eo(s),cg(s,O))}var B=i.memoizedState;if(B!==null&&(O=B.dehydrated,O!==null)){if(_)s.flags&256?(Eo(s),s.flags&=-257,s=hg(i,s,l)):s.memoizedState!==null?(To(),s.child=i.child,s.flags|=128,s=null):(To(),O=h.fallback,p=s.mode,h=Jf({mode:"visible",children:h.children},p),O=da(O,p,l,null),O.flags|=2,h.return=s,O.return=s,h.sibling=O,s.child=h,jl(s,i.child,null,l),h=s.child,h.memoizedState=lg(l),h.childLanes=ug(i,S,l),s.memoizedState=og,s=sh(null,h));else if(Eo(s),Gg(O)){if(S=O.nextSibling&&O.nextSibling.dataset,S)var et=S.dgst;S=et,h=Error(r(419)),h.stack="",h.digest=S,Pl({value:h,source:null,stack:null}),s=hg(i,s,l)}else if(xn||Pu(i,s,l,!1),S=(l&i.childLanes)!==0,xn||S){if(S=He,S!==null&&(h=ll(S,l),h!==0&&h!==B.retryLane))throw B.retryLane=h,Ar(i,h),Di(S,i,h),sg;qg(O)||ld(),s=hg(i,s,l)}else qg(O)?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,xe=Rr(O.nextSibling),Ae=s,oe=!0,Ds=null,Oi=!1,i!==null&&di(s,i),s=cg(s,h.children),s.flags|=4096);return s}return p?(To(),O=h.fallback,p=s.mode,B=i.child,et=B.sibling,h=xr(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&65011712,et!==null?O=xr(et,O):(O=da(O,p,l,null),O.flags|=2),O.return=s,h.return=s,h.sibling=O,s.child=h,sh(null,h),h=s.child,O=i.child.memoizedState,O===null?O=lg(l):(p=O.cachePool,p!==null?(B=Sn._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=Qy(),O={baseLanes:O.baseLanes|l,cachePool:p}),h.memoizedState=O,h.childLanes=ug(i,S,l),s.memoizedState=og,sh(i.child,h)):(Eo(s),l=i.child,i=l.sibling,l=xr(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=l,s.memoizedState=null,l)}function cg(i,s){return s=Jf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Jf(i,s){return i=ni(22,i,null,s),i.lanes=0,i}function hg(i,s,l){return jl(s,i.child,null,l),i=cg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function ub(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),xp(i.return,s,l)}function fg(i,s,l,h,p,_){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p,treeForkCount:_}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=l,S.tailMode=p,S.treeForkCount=_)}function cb(i,s,l){var h=s.pendingProps,p=h.revealOrder,_=h.tail;h=h.children;var S=pn.current,O=(S&2)!==0;if(O?(S=S&1|2,s.flags|=128):S&=1,ot(pn,S),qn(i,s,h,l),h=oe?I:0,!O&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ub(i,l,s);else if(i.tag===19)ub(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Uf(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),fg(s,!1,p,l,_,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Uf(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}fg(s,!0,l,null,_,h);break;case"together":fg(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function va(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ao|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Pu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=xr(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=xr(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function dg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Lf(i)))}function YC(i,s,l){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),_o(s,Sn,i.memoizedState.cache),ma();break;case 27:case 5:ve(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:_o(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Vp(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Eo(s),s.flags|=128,null):(l&s.child.childLanes)!==0?lb(i,s,l):(Eo(s),i=va(i,s,l),i!==null?i.sibling:null);Eo(s);break;case 19:var p=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Pu(i,s,l,!1),h=(l&s.childLanes)!==0),p){if(h)return cb(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ot(pn,pn.current),h)break;return null;case 22:return s.lanes=0,nb(i,s,l,s.pendingProps);case 24:_o(s,Sn,i.memoizedState.cache)}return va(i,s,l)}function hb(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)xn=!0;else{if(!dg(i,l)&&(s.flags&128)===0)return xn=!1,YC(i,s,l);xn=(i.flags&131072)!==0}else xn=!1,oe&&(s.flags&1048576)!==0&&$t(s,I,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(i=Dl(s.elementType),s.type=i,typeof i=="function")Ru(i)?(h=zl(i,h),s.tag=1,s=ab(null,s,i,h,l)):(s.tag=0,s=ag(null,s,i,h,l));else{if(i!=null){var p=i.$$typeof;if(p===xt){s.tag=11,s=J0(null,s,i,h,l);break t}else if(p===j){s.tag=14,s=tb(null,s,i,h,l);break t}}throw s=se(i)||i,Error(r(306,s,""))}}return s;case 0:return ag(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,p=zl(h,s.pendingProps),ab(i,s,h,p,l);case 3:t:{if(Pt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;p=_.element,Lp(i,s),th(s,h,null,l);var S=s.memoizedState;if(h=S.cache,_o(s,Sn,h),h!==_.cache&&Cp(s,[Sn],l,!0),Jc(),h=S.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=ob(i,s,h,l);break t}else if(h!==p){p=c(Error(r(424)),s),Pl(p),s=ob(i,s,h,l);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(xe=Rr(i.firstChild),Ae=s,oe=!0,Ds=null,Oi=!0,l=n0(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ma(),h===p){s=va(i,s,l);break t}qn(i,s,h,l)}s=s.child}return s;case 26:return $f(i,s),i===null?(l=TE(s.type,null,s.pendingProps,null))?s.memoizedState=l:oe||(l=s.type,i=s.pendingProps,h=pd(_t.current).createElement(l),h[rn]=s,h[ln]=i,Gn(h,l,i),un(h),s.stateNode=h):s.memoizedState=TE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ve(s),i===null&&oe&&(h=s.stateNode=yE(s.type,s.pendingProps,_t.current),Ae=s,Oi=!0,p=xe,Oo(s.type)?(Zg=p,xe=Rr(h.firstChild)):xe=p),qn(i,s,s.pendingProps.children,l),$f(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&oe&&((p=h=xe)&&(h=AR(h,s.type,s.pendingProps,Oi),h!==null?(s.stateNode=h,Ae=s,xe=Rr(h.firstChild),Oi=!1,p=!0):p=!1),p||ks(s)),ve(s),p=s.type,_=s.pendingProps,S=i!==null?i.memoizedProps:null,h=_.children,Ug(p,_)?h=null:S!==null&&Ug(p,S)&&(s.flags|=32),s.memoizedState!==null&&(p=Bp(i,s,BC,null,null,l),bh._currentValue=p),$f(i,s),qn(i,s,h,l),s.child;case 6:return i===null&&oe&&((i=l=xe)&&(l=xR(l,s.pendingProps,Oi),l!==null?(s.stateNode=l,Ae=s,xe=null,i=!0):i=!1),i||ks(s)),null;case 13:return lb(i,s,l);case 4:return Pt(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=jl(s,null,h,l):qn(i,s,h,l),s.child;case 11:return J0(i,s,s.type,s.pendingProps,l);case 7:return qn(i,s,s.pendingProps,l),s.child;case 8:return qn(i,s,s.pendingProps.children,l),s.child;case 12:return qn(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,_o(s,s.type,h.value),qn(i,s,h.children,l),s.child;case 9:return p=s.type._context,h=s.pendingProps.children,Ll(s),p=Hn(p),h=h(p),s.flags|=1,qn(i,s,h,l),s.child;case 14:return tb(i,s,s.type,s.pendingProps,l);case 15:return eb(i,s,s.type,s.pendingProps,l);case 19:return cb(i,s,l);case 31:return WC(i,s,l);case 22:return nb(i,s,l,s.pendingProps);case 24:return Ll(s),h=Hn(Sn),i===null?(p=Op(),p===null&&(p=He,_=Rp(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),s.memoizedState={parent:h,cache:p},Np(s),_o(s,Sn,p)):((i.lanes&l)!==0&&(Lp(i,s),th(s,null,null,l),Jc()),p=i.memoizedState,_=s.memoizedState,p.parent!==h?(p={parent:h,cache:h},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),_o(s,Sn,h)):(h=_.cache,_o(s,Sn,h),h!==p.cache&&Cp(s,[Sn],l,!0))),qn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ya(i){i.flags|=4}function mg(i,s,l,h,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(Vb())i.flags|=8192;else throw kl=jf,Pp}else i.flags&=-16777217}function fb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!CE(s))if(Vb())i.flags|=8192;else throw kl=jf,Pp}function td(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?mu():536870912,i.lanes|=s,Hu|=s)}function ah(i,s){if(!oe)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Qe(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function QC(i,s,l){var h=s.pendingProps;switch(cn(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(s),null;case 1:return Qe(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),pa(Sn),Bt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(es(s)?ya(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kc())),Qe(s),null;case 26:var p=s.type,_=s.memoizedState;return i===null?(ya(s),_!==null?(Qe(s),fb(s,_)):(Qe(s),mg(s,p,null,h,l))):_?_!==i.memoizedState?(ya(s),Qe(s),fb(s,_)):(Qe(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&ya(s),Qe(s),mg(s,p,i,h,l)),null;case 27:if(ce(s),l=_t.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&ya(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Qe(s),null}i=ut.current,es(s)?Zc(s):(i=yE(p,h,l),s.stateNode=i,ya(s))}return Qe(s),null;case 5:if(ce(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&ya(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Qe(s),null}if(_=ut.current,es(s))Zc(s);else{var S=pd(_t.current);switch(_){case 1:_=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:_=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":_=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":_=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":_=S.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?S.createElement("select",{is:h.is}):S.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?S.createElement(p,{is:h.is}):S.createElement(p)}}_[rn]=s,_[ln]=h;t:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)_.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break t;for(;S.sibling===null;){if(S.return===null||S.return===s)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=_;t:switch(Gn(_,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&ya(s)}}return Qe(s),mg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&ya(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=_t.current,es(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,p=Ae,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[rn]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||lE(i.nodeValue,l)),i||ks(s,!0)}else i=pd(i).createTextNode(h),i[rn]=s,s.stateNode=i}return Qe(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(h=es(s),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[rn]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qe(s),i=!1}else l=Kc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(er(s),s):(er(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Qe(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=es(s),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[rn]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qe(s),p=!1}else p=Kc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(er(s),s):(er(s),null)}return er(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=s.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==p&&(h.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),td(s,s.updateQueue),Qe(s),null);case 4:return Bt(),i===null&&kg(s.stateNode.containerInfo),Qe(s),null;case 10:return pa(s.type),Qe(s),null;case 19:if(Q(pn),h=s.memoizedState,h===null)return Qe(s),null;if(p=(s.flags&128)!==0,_=h.rendering,_===null)if(p)ah(h,!1);else{if(fn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Uf(i),_!==null){for(s.flags|=128,ah(h,!1),i=_.updateQueue,s.updateQueue=i,td(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Hc(l,i),l=l.sibling;return ot(pn,pn.current&1|2),oe&&Dt(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&En()>sd&&(s.flags|=128,p=!0,ah(h,!1),s.lanes=4194304)}else{if(!p)if(i=Uf(_),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,td(s,i),ah(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!oe)return Qe(s),null}else 2*En()-h.renderingStartTime>sd&&l!==536870912&&(s.flags|=128,p=!0,ah(h,!1),s.lanes=4194304);h.isBackwards?(_.sibling=s.child,s.child=_):(i=h.last,i!==null?i.sibling=_:s.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,l=pn.current,ot(pn,p?l&1|2:l&1),oe&&Dt(s,h.treeForkCount),i):(Qe(s),null);case 22:case 23:return er(s),jp(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Qe(s),s.subtreeFlags&6&&(s.flags|=8192)):Qe(s),l=s.updateQueue,l!==null&&td(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&Q(Ml),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),pa(Sn),Qe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function XC(i,s){switch(cn(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return pa(Sn),Bt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ce(s),null;case 31:if(s.memoizedState!==null){if(er(s),s.alternate===null)throw Error(r(340));ma()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(er(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ma()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Q(pn),null;case 4:return Bt(),null;case 10:return pa(s.type),null;case 22:case 23:return er(s),jp(),i!==null&&Q(Ml),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return pa(Sn),null;case 25:return null;default:return null}}function db(i,s){switch(cn(s),s.tag){case 3:pa(Sn),Bt();break;case 26:case 27:case 5:ce(s);break;case 4:Bt();break;case 31:s.memoizedState!==null&&er(s);break;case 13:er(s);break;case 19:Q(pn);break;case 10:pa(s.type);break;case 22:case 23:er(s),jp(),i!==null&&Q(Ml);break;case 24:pa(Sn)}}function oh(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var _=l.create,S=l.inst;h=_(),S.destroy=h}l=l.next}while(l!==p)}}catch(O){ke(s,s.return,O)}}function wo(i,s,l){try{var h=s.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var _=p.next;h=_;do{if((h.tag&i)===i){var S=h.inst,O=S.destroy;if(O!==void 0){S.destroy=void 0,p=s;var B=l,et=O;try{et()}catch(ct){ke(p,B,ct)}}}h=h.next}while(h!==_)}}catch(ct){ke(s,s.return,ct)}}function mb(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{r0(s,l)}catch(h){ke(i,i.return,h)}}}function pb(i,s,l){l.props=zl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){ke(i,s,h)}}function lh(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(p){ke(i,s,p)}}function Vs(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){ke(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ke(i,s,p)}else l.current=null}function gb(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){ke(i,i.return,p)}}function pg(i,s,l){try{var h=i.stateNode;yR(h,i.type,l,s),h[ln]=s}catch(p){ke(i,i.return,p)}}function _b(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Oo(i.type)||i.tag===4}function gg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||_b(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Oo(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _g(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Xn));else if(h!==4&&(h===27&&Oo(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(_g(i,s,l),i=i.sibling;i!==null;)_g(i,s,l),i=i.sibling}function ed(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&Oo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(ed(i,s,l),i=i.sibling;i!==null;)ed(i,s,l),i=i.sibling}function vb(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Gn(s,h,l),s[rn]=i,s[ln]=l}catch(_){ke(i,i.return,_)}}var ba=!1,Cn=!1,vg=!1,yb=typeof WeakSet=="function"?WeakSet:Set,Un=null;function $C(i,s){if(i=i.containerInfo,zg=Td,i=wl(i),Os(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var S=0,O=-1,B=-1,et=0,ct=0,mt=i,it=null;e:for(;;){for(var at;mt!==l||p!==0&&mt.nodeType!==3||(O=S+p),mt!==_||h!==0&&mt.nodeType!==3||(B=S+h),mt.nodeType===3&&(S+=mt.nodeValue.length),(at=mt.firstChild)!==null;)it=mt,mt=at;for(;;){if(mt===i)break e;if(it===l&&++et===p&&(O=S),it===_&&++ct===h&&(B=S),(at=mt.nextSibling)!==null)break;mt=it,it=mt.parentNode}mt=at}l=O===-1||B===-1?null:{start:O,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bg={focusedElem:i,selectionRange:l},Td=!1,Un=s;Un!==null;)if(s=Un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Un=i;else for(;Un!==null;){switch(s=Un,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,p=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var Nt=zl(l.type,p);i=h.getSnapshotBeforeUpdate(Nt,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ft){ke(l,l.return,Ft)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Hg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Un=i;break}Un=s.return}}function bb(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Ta(i,l),h&4&&oh(5,l);break;case 1:if(Ta(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(S){ke(l,l.return,S)}else{var p=zl(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){ke(l,l.return,S)}}h&64&&mb(l),h&512&&lh(l,l.return);break;case 3:if(Ta(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{r0(i,s)}catch(S){ke(l,l.return,S)}}break;case 27:s===null&&h&4&&vb(l);case 26:case 5:Ta(i,l),s===null&&h&4&&gb(l),h&512&&lh(l,l.return);break;case 12:Ta(i,l);break;case 31:Ta(i,l),h&4&&wb(i,l);break;case 13:Ta(i,l),h&4&&Sb(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=oR.bind(null,l),CR(i,l))));break;case 22:if(h=l.memoizedState!==null||ba,!h){s=s!==null&&s.memoizedState!==null||Cn,p=ba;var _=Cn;ba=h,(Cn=s)&&!_?wa(i,l,(l.subtreeFlags&8772)!==0):Ta(i,l),ba=p,Cn=_}break;case 30:break;default:Ta(i,l)}}function Eb(i){var s=i.alternate;s!==null&&(i.alternate=null,Eb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&$a(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var $e=null,Pi=!1;function Ea(i,s,l){for(l=l.child;l!==null;)Tb(i,s,l),l=l.sibling}function Tb(i,s,l){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Qn,l)}catch{}switch(l.tag){case 26:Cn||Vs(l,s),Ea(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Cn||Vs(l,s);var h=$e,p=Pi;Oo(l.type)&&($e=l.stateNode,Pi=!1),Ea(i,s,l),_h(l.stateNode),$e=h,Pi=p;break;case 5:Cn||Vs(l,s);case 6:if(h=$e,p=Pi,$e=null,Ea(i,s,l),$e=h,Pi=p,$e!==null)if(Pi)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(l.stateNode)}catch(_){ke(l,s,_)}else try{$e.removeChild(l.stateNode)}catch(_){ke(l,s,_)}break;case 18:$e!==null&&(Pi?(i=$e,mE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Xu(i)):mE($e,l.stateNode));break;case 4:h=$e,p=Pi,$e=l.stateNode.containerInfo,Pi=!0,Ea(i,s,l),$e=h,Pi=p;break;case 0:case 11:case 14:case 15:wo(2,l,s),Cn||wo(4,l,s),Ea(i,s,l);break;case 1:Cn||(Vs(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&pb(l,s,h)),Ea(i,s,l);break;case 21:Ea(i,s,l);break;case 22:Cn=(h=Cn)||l.memoizedState!==null,Ea(i,s,l),Cn=h;break;default:Ea(i,s,l)}}function wb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xu(i)}catch(l){ke(s,s.return,l)}}}function Sb(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xu(i)}catch(l){ke(s,s.return,l)}}function JC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new yb),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new yb),s;default:throw Error(r(435,i.tag))}}function nd(i,s){var l=JC(i);s.forEach(function(h){if(!l.has(h)){l.add(h);var p=lR.bind(null,i,h);h.then(p,p)}})}function Ni(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],_=i,S=s,O=S;t:for(;O!==null;){switch(O.tag){case 27:if(Oo(O.type)){$e=O.stateNode,Pi=!1;break t}break;case 5:$e=O.stateNode,Pi=!1;break t;case 3:case 4:$e=O.stateNode.containerInfo,Pi=!0;break t}O=O.return}if($e===null)throw Error(r(160));Tb(_,S,p),$e=null,Pi=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ab(s,i),s=s.sibling}var is=null;function Ab(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ni(s,i),Li(i),h&4&&(wo(3,i,i.return),oh(3,i),wo(5,i,i.return));break;case 1:Ni(s,i),Li(i),h&512&&(Cn||l===null||Vs(l,l.return)),h&64&&ba&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=is;if(Ni(s,i),Li(i),h&512&&(Cn||l===null||Vs(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":_=p.getElementsByTagName("title")[0],(!_||_[mr]||_[rn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(h),p.head.insertBefore(_,p.querySelector("head > title"))),Gn(_,h,l),_[rn]=i,un(_),h=_;break t;case"link":var S=AE("link","href",p).get(h+(l.href||""));if(S){for(var O=0;O<S.length;O++)if(_=S[O],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(O,1);break e}}_=p.createElement(h),Gn(_,h,l),p.head.appendChild(_);break;case"meta":if(S=AE("meta","content",p).get(h+(l.content||""))){for(O=0;O<S.length;O++)if(_=S[O],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(O,1);break e}}_=p.createElement(h),Gn(_,h,l),p.head.appendChild(_);break;default:throw Error(r(468,h))}_[rn]=i,un(_),h=_}i.stateNode=h}else xE(p,i.type,i.stateNode);else i.stateNode=SE(p,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?xE(p,i.type,i.stateNode):SE(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&pg(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ni(s,i),Li(i),h&512&&(Cn||l===null||Vs(l,l.return)),l!==null&&h&4&&pg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ni(s,i),Li(i),h&512&&(Cn||l===null||Vs(l,l.return)),i.flags&32){p=i.stateNode;try{Tn(p,"")}catch(Nt){ke(i,i.return,Nt)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,pg(i,p,l!==null?l.memoizedProps:p)),h&1024&&(vg=!0);break;case 6:if(Ni(s,i),Li(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Nt){ke(i,i.return,Nt)}}break;case 3:if(vd=null,p=is,is=gd(s.containerInfo),Ni(s,i),is=p,Li(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Xu(s.containerInfo)}catch(Nt){ke(i,i.return,Nt)}vg&&(vg=!1,xb(i));break;case 4:h=is,is=gd(i.stateNode.containerInfo),Ni(s,i),Li(i),is=h;break;case 12:Ni(s,i),Li(i);break;case 31:Ni(s,i),Li(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,nd(i,h)));break;case 13:Ni(s,i),Li(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rd=En()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,nd(i,h)));break;case 22:p=i.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,et=ba,ct=Cn;if(ba=et||p,Cn=ct||B,Ni(s,i),Cn=ct,ba=et,Li(i),h&8192)t:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||B||ba||Cn||Bl(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){B=l=s;try{if(_=B.stateNode,p)S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{O=B.stateNode;var mt=B.memoizedProps.style,it=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;O.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Nt){ke(B,B.return,Nt)}}}else if(s.tag===6){if(l===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(Nt){ke(B,B.return,Nt)}}}else if(s.tag===18){if(l===null){B=s;try{var at=B.stateNode;p?pE(at,!0):pE(B.stateNode,!1)}catch(Nt){ke(B,B.return,Nt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,nd(i,l))));break;case 19:Ni(s,i),Li(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,nd(i,h)));break;case 30:break;case 21:break;default:Ni(s,i),Li(i)}}function Li(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(_b(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,_=gg(i);ed(i,_,p);break;case 5:var S=l.stateNode;l.flags&32&&(Tn(S,""),l.flags&=-33);var O=gg(i);ed(i,O,S);break;case 3:case 4:var B=l.stateNode.containerInfo,et=gg(i);_g(i,et,B);break;default:throw Error(r(161))}}catch(ct){ke(i,i.return,ct)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function xb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;xb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ta(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)bb(i,s.alternate,s),s=s.sibling}function Bl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:wo(4,s,s.return),Bl(s);break;case 1:Vs(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&pb(s,s.return,l),Bl(s);break;case 27:_h(s.stateNode);case 26:case 5:Vs(s,s.return),Bl(s);break;case 22:s.memoizedState===null&&Bl(s);break;case 30:Bl(s);break;default:Bl(s)}i=i.sibling}}function wa(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,p=i,_=s,S=_.flags;switch(_.tag){case 0:case 11:case 15:wa(p,_,l),oh(4,_);break;case 1:if(wa(p,_,l),h=_,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(et){ke(h,h.return,et)}if(h=_,p=h.updateQueue,p!==null){var O=h.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)i0(B[p],O)}catch(et){ke(h,h.return,et)}}l&&S&64&&mb(_),lh(_,_.return);break;case 27:vb(_);case 26:case 5:wa(p,_,l),l&&h===null&&S&4&&gb(_),lh(_,_.return);break;case 12:wa(p,_,l);break;case 31:wa(p,_,l),l&&S&4&&wb(p,_);break;case 13:wa(p,_,l),l&&S&4&&Sb(p,_);break;case 22:_.memoizedState===null&&wa(p,_,l),lh(_,_.return);break;case 30:break;default:wa(p,_,l)}s=s.sibling}}function yg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Wc(l))}function bg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wc(i))}function rs(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cb(i,s,l,h),s=s.sibling}function Cb(i,s,l,h){var p=s.flags;switch(s.tag){case 0:case 11:case 15:rs(i,s,l,h),p&2048&&oh(9,s);break;case 1:rs(i,s,l,h);break;case 3:rs(i,s,l,h),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Wc(i)));break;case 12:if(p&2048){rs(i,s,l,h),i=s.stateNode;try{var _=s.memoizedProps,S=_.id,O=_.onPostCommit;typeof O=="function"&&O(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){ke(s,s.return,B)}}else rs(i,s,l,h);break;case 31:rs(i,s,l,h);break;case 13:rs(i,s,l,h);break;case 23:break;case 22:_=s.stateNode,S=s.alternate,s.memoizedState!==null?_._visibility&2?rs(i,s,l,h):uh(i,s):_._visibility&2?rs(i,s,l,h):(_._visibility|=2,Bu(i,s,l,h,(s.subtreeFlags&10256)!==0||!1)),p&2048&&yg(S,s);break;case 24:rs(i,s,l,h),p&2048&&bg(s.alternate,s);break;default:rs(i,s,l,h)}}function Bu(i,s,l,h,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,S=s,O=l,B=h,et=S.flags;switch(S.tag){case 0:case 11:case 15:Bu(_,S,O,B,p),oh(8,S);break;case 23:break;case 22:var ct=S.stateNode;S.memoizedState!==null?ct._visibility&2?Bu(_,S,O,B,p):uh(_,S):(ct._visibility|=2,Bu(_,S,O,B,p)),p&&et&2048&&yg(S.alternate,S);break;case 24:Bu(_,S,O,B,p),p&&et&2048&&bg(S.alternate,S);break;default:Bu(_,S,O,B,p)}s=s.sibling}}function uh(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,p=h.flags;switch(h.tag){case 22:uh(l,h),p&2048&&yg(h.alternate,h);break;case 24:uh(l,h),p&2048&&bg(h.alternate,h);break;default:uh(l,h)}s=s.sibling}}var ch=8192;function Uu(i,s,l){if(i.subtreeFlags&ch)for(i=i.child;i!==null;)Rb(i,s,l),i=i.sibling}function Rb(i,s,l){switch(i.tag){case 26:Uu(i,s,l),i.flags&ch&&i.memoizedState!==null&&zR(l,is,i.memoizedState,i.memoizedProps);break;case 5:Uu(i,s,l);break;case 3:case 4:var h=is;is=gd(i.stateNode.containerInfo),Uu(i,s,l),is=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=ch,ch=16777216,Uu(i,s,l),ch=h):Uu(i,s,l));break;default:Uu(i,s,l)}}function Ib(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function hh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Un=h,Pb(h,i)}Ib(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ob(i),i=i.sibling}function Ob(i){switch(i.tag){case 0:case 11:case 15:hh(i),i.flags&2048&&wo(9,i,i.return);break;case 3:hh(i);break;case 12:hh(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,id(i)):hh(i);break;default:hh(i)}}function id(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];Un=h,Pb(h,i)}Ib(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:wo(8,s,s.return),id(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,id(s));break;default:id(s)}i=i.sibling}}function Pb(i,s){for(;Un!==null;){var l=Un;switch(l.tag){case 0:case 11:case 15:wo(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Wc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Un=h;else t:for(l=i;Un!==null;){h=Un;var p=h.sibling,_=h.return;if(Eb(h),h===l){Un=null;break t}if(p!==null){p.return=_,Un=p;break t}Un=_}}}var tR={getCacheForType:function(i){var s=Hn(Sn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Hn(Sn).controller.signal}},eR=typeof WeakMap=="function"?WeakMap:Map,Oe=0,He=null,le=null,fe=0,De=0,nr=null,So=!1,Fu=!1,Eg=!1,Sa=0,fn=0,Ao=0,Ul=0,Tg=0,ir=0,Hu=0,fh=null,Mi=null,wg=!1,rd=0,Nb=0,sd=1/0,ad=null,xo=null,Nn=0,Co=null,qu=null,Aa=0,Sg=0,Ag=null,Lb=null,dh=0,xg=null;function rr(){return(Oe&2)!==0&&fe!==0?fe&-fe:st.T!==null?Ng():ul()}function Mb(){if(ir===0)if((fe&536870912)===0||oe){var i=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),ir=i}else ir=536870912;return i=tr.current,i!==null&&(i.flags|=32),ir}function Di(i,s,l){(i===He&&(De===2||De===9)||i.cancelPendingCommit!==null)&&(Gu(i,0),Ro(i,fe,ir,!1)),qr(i,l),((Oe&2)===0||i!==He)&&(i===He&&((Oe&2)===0&&(Ul|=l),fn===4&&Ro(i,fe,ir,!1)),zs(i))}function Db(i,s,l){if((Oe&6)!==0)throw Error(r(327));var h=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Fi(i,s),p=h?rR(i,s):Rg(i,s,!0),_=h;do{if(p===0){Fu&&!h&&Ro(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!nR(l)){p=Rg(i,s,!1),_=!1;continue}if(p===2){if(_=s,i.errorRecoveryDisabledLanes&_)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;t:{var O=i;p=fh;var B=O.current.memoizedState.isDehydrated;if(B&&(Gu(O,S).flags|=256),S=Rg(O,S,!1),S!==2){if(Eg&&!B){O.errorRecoveryDisabledLanes|=_,Ul|=_,p=4;break t}_=Mi,Mi=p,_!==null&&(Mi===null?Mi=_:Mi.push.apply(Mi,_))}p=S}if(_=!1,p!==2)continue}}if(p===1){Gu(i,0),Ro(i,s,0,!0);break}t:{switch(h=i,_=p,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ro(h,s,ir,!So);break t;case 2:Mi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=rd+300-En(),10<p)){if(Ro(h,s,ir,!So),fr(h,0,!0)!==0)break t;Aa=s,h.timeoutHandle=fE(kb.bind(null,h,l,Mi,ad,wg,s,ir,Ul,Hu,So,_,"Throttled",-0,0),p);break t}kb(h,l,Mi,ad,wg,s,ir,Ul,Hu,So,_,null,-0,0)}}break}while(!0);zs(i)}function kb(i,s,l,h,p,_,S,O,B,et,ct,mt,it,at){if(i.timeoutHandle=-1,mt=s.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Rb(s,_,mt);var Nt=(_&62914560)===_?rd-En():(_&4194048)===_?Nb-En():0;if(Nt=BR(mt,Nt),Nt!==null){Aa=_,i.cancelPendingCommit=Nt(qb.bind(null,i,s,_,l,h,p,S,O,B,ct,mt,null,it,at)),Ro(i,_,S,!et);return}}qb(i,s,_,l,h,p,S,O,B)}function nR(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],_=p.getSnapshot;p=p.value;try{if(!zn(_(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ro(i,s,l,h){s&=~Tg,s&=~Ul,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var p=s;0<p;){var _=31-en(p),S=1<<_;h[_]=-1,p&=~S}l!==0&&ia(i,l,s)}function od(){return(Oe&6)===0?(mh(0),!1):!0}function Cg(){if(le!==null){if(De===0)var i=le.return;else i=le,ns=js=null,Hp(i),Du=null,Qc=0,i=le;for(;i!==null;)db(i.alternate,i),i=i.return;le=null}}function Gu(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,TR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Aa=0,Cg(),He=i,le=l=xr(i.current,null),fe=s,De=0,nr=null,So=!1,Fu=Fi(i,s),Eg=!1,Hu=ir=Tg=Ul=Ao=fn=0,Mi=fh=null,wg=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var p=31-en(h),_=1<<p;s|=i[p],h&=~_}return Sa=s,Rl(),l}function jb(i,s){Xt=null,st.H=rh,s===Mu||s===kf?(s=Jy(),De=3):s===Pp?(s=Jy(),De=4):De=s===sg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,nr=s,le===null&&(fn=1,Qf(i,c(s,i.current)))}function Vb(){var i=tr.current;return i===null?!0:(fe&4194048)===fe?Cr===null:(fe&62914560)===fe||(fe&536870912)!==0?i===Cr:!1}function zb(){var i=st.H;return st.H=rh,i===null?rh:i}function Bb(){var i=st.A;return st.A=tR,i}function ld(){fn=4,So||(fe&4194048)!==fe&&tr.current!==null||(Fu=!0),(Ao&134217727)===0&&(Ul&134217727)===0||He===null||Ro(He,fe,ir,!1)}function Rg(i,s,l){var h=Oe;Oe|=2;var p=zb(),_=Bb();(He!==i||fe!==s)&&(ad=null,Gu(i,s)),s=!1;var S=fn;t:do try{if(De!==0&&le!==null){var O=le,B=nr;switch(De){case 8:Cg(),S=6;break t;case 3:case 2:case 9:case 6:tr.current===null&&(s=!0);var et=De;if(De=0,nr=null,Zu(i,O,B,et),l&&Fu){S=0;break t}break;default:et=De,De=0,nr=null,Zu(i,O,B,et)}}iR(),S=fn;break}catch(ct){jb(i,ct)}while(!0);return s&&i.shellSuspendCounter++,ns=js=null,Oe=h,st.H=p,st.A=_,le===null&&(He=null,fe=0,Rl()),S}function iR(){for(;le!==null;)Ub(le)}function rR(i,s){var l=Oe;Oe|=2;var h=zb(),p=Bb();He!==i||fe!==s?(ad=null,sd=En()+500,Gu(i,s)):Fu=Fi(i,s);t:do try{if(De!==0&&le!==null){s=le;var _=nr;e:switch(De){case 1:De=0,nr=null,Zu(i,s,_,1);break;case 2:case 9:if(Xy(_)){De=0,nr=null,Fb(s);break}s=function(){De!==2&&De!==9||He!==i||(De=7),zs(i)},_.then(s,s);break t;case 3:De=7;break t;case 4:De=5;break t;case 7:Xy(_)?(De=0,nr=null,Fb(s)):(De=0,nr=null,Zu(i,s,_,7));break;case 5:var S=null;switch(le.tag){case 26:S=le.memoizedState;case 5:case 27:var O=le;if(S?CE(S):O.stateNode.complete){De=0,nr=null;var B=O.sibling;if(B!==null)le=B;else{var et=O.return;et!==null?(le=et,ud(et)):le=null}break e}}De=0,nr=null,Zu(i,s,_,5);break;case 6:De=0,nr=null,Zu(i,s,_,6);break;case 8:Cg(),fn=6;break t;default:throw Error(r(462))}}sR();break}catch(ct){jb(i,ct)}while(!0);return ns=js=null,st.H=h,st.A=p,Oe=l,le!==null?0:(He=null,fe=0,Rl(),fn)}function sR(){for(;le!==null&&!Wa();)Ub(le)}function Ub(i){var s=hb(i.alternate,i,Sa);i.memoizedProps=i.pendingProps,s===null?ud(i):le=s}function Fb(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=sb(l,s,s.pendingProps,s.type,void 0,fe);break;case 11:s=sb(l,s,s.pendingProps,s.type.render,s.ref,fe);break;case 5:Hp(s);default:db(l,s),s=le=Hc(s,Sa),s=hb(l,s,Sa)}i.memoizedProps=i.pendingProps,s===null?ud(i):le=s}function Zu(i,s,l,h){ns=js=null,Hp(s),Du=null,Qc=0;var p=s.return;try{if(KC(i,p,s,l,fe)){fn=1,Qf(i,c(l,i.current)),le=null;return}}catch(_){if(p!==null)throw le=p,_;fn=1,Qf(i,c(l,i.current)),le=null;return}s.flags&32768?(oe||h===1?i=!0:Fu||(fe&536870912)!==0?i=!1:(So=i=!0,(h===2||h===9||h===3||h===6)&&(h=tr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Hb(s,i)):ud(s)}function ud(i){var s=i;do{if((s.flags&32768)!==0){Hb(s,So);return}i=s.return;var l=QC(s.alternate,s,Sa);if(l!==null){le=l;return}if(s=s.sibling,s!==null){le=s;return}le=s=i}while(s!==null);fn===0&&(fn=5)}function Hb(i,s){do{var l=XC(i.alternate,i);if(l!==null){l.flags&=32767,le=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){le=i;return}le=i=l}while(i!==null);fn=6,le=null}function qb(i,s,l,h,p,_,S,O,B){i.cancelPendingCommit=null;do cd();while(Nn!==0);if((Oe&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Cu,Uc(i,l,_,S,O,B),i===He&&(le=He=null,fe=0),qu=s,Co=i,Aa=l,Sg=_,Ag=p,Lb=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,uR(Bi,function(){return Yb(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=st.T,st.T=null,p=wt.p,wt.p=2,S=Oe,Oe|=4;try{$C(i,s,l)}finally{Oe=S,wt.p=p,st.T=h}}Nn=1,Gb(),Zb(),Kb()}}function Gb(){if(Nn===1){Nn=0;var i=Co,s=qu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=st.T,st.T=null;var h=wt.p;wt.p=2;var p=Oe;Oe|=4;try{Ab(s,i);var _=Bg,S=wl(i.containerInfo),O=_.focusedElem,B=_.selectionRange;if(S!==O&&O&&O.ownerDocument&&wu(O.ownerDocument.documentElement,O)){if(B!==null&&Os(O)){var et=B.start,ct=B.end;if(ct===void 0&&(ct=et),"selectionStart"in O)O.selectionStart=et,O.selectionEnd=Math.min(ct,O.value.length);else{var mt=O.ownerDocument||document,it=mt&&mt.defaultView||window;if(it.getSelection){var at=it.getSelection(),Nt=O.textContent.length,Ft=Math.min(B.start,Nt),Be=B.end===void 0?Ft:Math.min(B.end,Nt);!at.extend&&Ft>Be&&(S=Be,Be=Ft,Ft=S);var X=Tl(O,Ft),q=Tl(O,Be);if(X&&q&&(at.rangeCount!==1||at.anchorNode!==X.node||at.anchorOffset!==X.offset||at.focusNode!==q.node||at.focusOffset!==q.offset)){var tt=mt.createRange();tt.setStart(X.node,X.offset),at.removeAllRanges(),Ft>Be?(at.addRange(tt),at.extend(q.node,q.offset)):(tt.setEnd(q.node,q.offset),at.addRange(tt))}}}}for(mt=[],at=O;at=at.parentNode;)at.nodeType===1&&mt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<mt.length;O++){var ht=mt[O];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}Td=!!zg,Bg=zg=null}finally{Oe=p,wt.p=h,st.T=l}}i.current=s,Nn=2}}function Zb(){if(Nn===2){Nn=0;var i=Co,s=qu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=st.T,st.T=null;var h=wt.p;wt.p=2;var p=Oe;Oe|=4;try{bb(i,s.alternate,s)}finally{Oe=p,wt.p=h,st.T=l}}Nn=3}}function Kb(){if(Nn===4||Nn===3){Nn=0,na();var i=Co,s=qu,l=Aa,h=Lb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Nn=5:(Nn=0,qu=Co=null,Wb(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(xo=null),Ot(l),s=s.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Qn,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=st.T,p=wt.p,wt.p=2,st.T=null;try{for(var _=i.onRecoverableError,S=0;S<h.length;S++){var O=h[S];_(O.value,{componentStack:O.stack})}}finally{st.T=s,wt.p=p}}(Aa&3)!==0&&cd(),zs(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===xg?dh++:(dh=0,xg=i):dh=0,mh(0)}}function Wb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Wc(s)))}function cd(){return Gb(),Zb(),Kb(),Yb()}function Yb(){if(Nn!==5)return!1;var i=Co,s=Sg;Sg=0;var l=Ot(Aa),h=st.T,p=wt.p;try{wt.p=32>l?32:l,st.T=null,l=Ag,Ag=null;var _=Co,S=Aa;if(Nn=0,qu=Co=null,Aa=0,(Oe&6)!==0)throw Error(r(331));var O=Oe;if(Oe|=4,Ob(_.current),Cb(_,_.current,S,l),Oe=O,mh(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Qn,_)}catch{}return!0}finally{wt.p=p,st.T=h,Wb(i,s)}}function Qb(i,s,l){s=c(l,s),s=rg(i.stateNode,s,2),i=bo(i,s,2),i!==null&&(qr(i,2),zs(i))}function ke(i,s,l){if(i.tag===3)Qb(i,i,l);else for(;s!==null;){if(s.tag===3){Qb(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(xo===null||!xo.has(h))){i=c(l,i),l=X0(2),h=bo(s,l,2),h!==null&&($0(l,h,s,i),qr(h,2),zs(h));break}}s=s.return}}function Ig(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new eR;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(Eg=!0,p.add(l),i=aR.bind(null,i,s,l),s.then(i,i))}function aR(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,He===i&&(fe&l)===l&&(fn===4||fn===3&&(fe&62914560)===fe&&300>En()-rd?(Oe&2)===0&&Gu(i,0):Tg|=l,Hu===fe&&(Hu=0)),zs(i)}function Xb(i,s){s===0&&(s=mu()),i=Ar(i,s),i!==null&&(qr(i,s),zs(i))}function oR(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Xb(i,l)}function lR(i,s){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Xb(i,l)}function uR(i,s){return Te(i,s)}var hd=null,Ku=null,Og=!1,fd=!1,Pg=!1,Io=0;function zs(i){i!==Ku&&i.next===null&&(Ku===null?hd=Ku=i:Ku=Ku.next=i),fd=!0,Og||(Og=!0,hR())}function mh(i,s){if(!Pg&&fd){Pg=!0;do for(var l=!1,h=hd;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var _=0;else{var S=h.suspendedLanes,O=h.pingedLanes;_=(1<<31-en(42|i)+1)-1,_&=p&~(S&~O),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,eE(h,_))}else _=fe,_=fr(h,h===He?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||Fi(h,_)||(l=!0,eE(h,_));h=h.next}while(l);Pg=!1}}function cR(){$b()}function $b(){fd=Og=!1;var i=0;Io!==0&&ER()&&(i=Io);for(var s=En(),l=null,h=hd;h!==null;){var p=h.next,_=Jb(h,s);_===0?(h.next=null,l===null?hd=p:l.next=p,p===null&&(Ku=l)):(l=h,(i!==0||(_&3)!==0)&&(fd=!0)),h=p}Nn!==0&&Nn!==5||mh(i),Io!==0&&(Io=0)}function Jb(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var S=31-en(_),O=1<<S,B=p[S];B===-1?((O&l)===0||(O&h)!==0)&&(p[S]=Bc(O,s)):B<=s&&(i.expiredLanes|=O),_&=~O}if(s=He,l=fe,l=fr(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(De===2||De===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&vi(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Fi(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&vi(h),Ot(l)){case 2:case 8:l=ys;break;case 32:l=Bi;break;case 268435456:l=bs;break;default:l=Bi}return h=tE.bind(null,i),l=Te(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&vi(h),i.callbackPriority=2,i.callbackNode=null,2}function tE(i,s){if(Nn!==0&&Nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(cd()&&i.callbackNode!==l)return null;var h=fe;return h=fr(i,i===He?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Db(i,h,s),Jb(i,En()),i.callbackNode!=null&&i.callbackNode===l?tE.bind(null,i):null)}function eE(i,s){if(cd())return null;Db(i,s,!0)}function hR(){wR(function(){(Oe&6)!==0?Te(cr,cR):$b()})}function Ng(){if(Io===0){var i=Nu;i===0&&(i=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),Io=i}return Io}function nE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:As(""+i)}function iE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function fR(i,s,l,h,p){if(s==="submit"&&l&&l.stateNode===p){var _=nE((p[ln]||null).action),S=h.submitter;S&&(s=(s=S[ln]||null)?nE(s.formAction):S.getAttribute("formAction"),s!==null&&(_=s,S=null));var O=new Er("action","action",null,h,p);i.push({event:O,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Io!==0){var B=S?iE(p,S):new FormData(p);$p(l,{pending:!0,data:B,method:p.method,action:_},null,B)}}else typeof _=="function"&&(O.preventDefault(),B=S?iE(p,S):new FormData(p),$p(l,{pending:!0,data:B,method:p.method,action:_},_,B))},currentTarget:p}]})}}for(var Lg=0;Lg<Ls.length;Lg++){var Mg=Ls[Lg],dR=Mg.toLowerCase(),mR=Mg[0].toUpperCase()+Mg.slice(1);Ri(dR,"on"+mR)}Ri(Al,"onAnimationEnd"),Ri(Of,"onAnimationIteration"),Ri(xl,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(wp,"onTransitionRun"),Ri(Pf,"onTransitionStart"),Ri(Sp,"onTransitionCancel"),Ri(po,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ph="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ph));function rE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;t:{var _=void 0;if(s)for(var S=h.length-1;0<=S;S--){var O=h[S],B=O.instance,et=O.currentTarget;if(O=O.listener,B!==_&&p.isPropagationStopped())break t;_=O,p.currentTarget=et;try{_(p)}catch(ct){Cl(ct)}p.currentTarget=null,_=B}else for(S=0;S<h.length;S++){if(O=h[S],B=O.instance,et=O.currentTarget,O=O.listener,B!==_&&p.isPropagationStopped())break t;_=O,p.currentTarget=et;try{_(p)}catch(ct){Cl(ct)}p.currentTarget=null,_=B}}}}function ue(i,s){var l=s[qi];l===void 0&&(l=s[qi]=new Set);var h=i+"__bubble";l.has(h)||(sE(s,i,2,!1),l.add(h))}function Dg(i,s,l){var h=0;s&&(h|=4),sE(l,i,h,s)}var dd="_reactListening"+Math.random().toString(36).slice(2);function kg(i){if(!i[dd]){i[dd]=!0,cl.forEach(function(l){l!=="selectionchange"&&(pR.has(l)||Dg(l,!1,i),Dg(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[dd]||(s[dd]=!0,Dg("selectionchange",!1,s))}}function sE(i,s,l,h){switch(ME(s)){case 2:var p=HR;break;case 8:p=qR;break;default:p=Xg}l=p.bind(null,s,l,i),p=void 0,!Wr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function jg(i,s,l,h,p){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var O=h.stateNode.containerInfo;if(O===p)break;if(S===4)for(S=h.return;S!==null;){var B=S.tag;if((B===3||B===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;O!==null;){if(S=Gi(O),S===null)return;if(B=S.tag,B===5||B===6||B===26||B===27){h=_=S;continue t}O=O.parentNode}}h=h.return}Kr(function(){var et=_,ct=$n(l),mt=[];t:{var it=Nf.get(i);if(it!==void 0){var at=Er,Nt=i;switch(i){case"keypress":if(Cs(l)===0)break t;case"keydown":case"keyup":at=_l;break;case"focusin":Nt="focus",at=ua;break;case"focusout":Nt="blur",at=ua;break;case"beforeblur":case"afterblur":at=ua;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=T;break;case Al:case Of:case xl:at=ro;break;case po:at=N;break;case"scroll":case"scrollend":at=te;break;case"wheel":at=rt;break;case"copy":case"cut":case"paste":at=hi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=$r;break;case"toggle":case"beforetoggle":at=Gt}var Ft=(s&4)!==0,Be=!Ft&&(i==="scroll"||i==="scrollend"),X=Ft?it!==null?it+"Capture":null:it;Ft=[];for(var q=et,tt;q!==null;){var ht=q;if(tt=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||tt===null||X===null||(ht=ci(q,X),ht!=null&&Ft.push(gh(q,ht,tt))),Be)break;q=q.return}0<Ft.length&&(it=new at(it,Nt,null,l,ct),mt.push({event:it,listeners:Ft}))}}if((s&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",at=i==="mouseout"||i==="pointerout",it&&l!==io&&(Nt=l.relatedTarget||l.fromElement)&&(Gi(Nt)||Nt[Hi]))break t;if((at||it)&&(it=ct.window===ct?ct:(it=ct.ownerDocument)?it.defaultView||it.parentWindow:window,at?(Nt=l.relatedTarget||l.toElement,at=et,Nt=Nt?Gi(Nt):null,Nt!==null&&(Be=u(Nt),Ft=Nt.tag,Nt!==Be||Ft!==5&&Ft!==27&&Ft!==6)&&(Nt=null)):(at=null,Nt=et),at!==Nt)){if(Ft=fl,ht="onMouseLeave",X="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Ft=$r,ht="onPointerLeave",X="onPointerEnter",q="pointer"),Be=at==null?it:Dn(at),tt=Nt==null?it:Dn(Nt),it=new Ft(ht,q+"leave",at,l,ct),it.target=Be,it.relatedTarget=tt,ht=null,Gi(ct)===et&&(Ft=new Ft(X,q+"enter",Nt,l,ct),Ft.target=tt,Ft.relatedTarget=Be,ht=Ft),Be=ht,at&&Nt)e:{for(Ft=gR,X=at,q=Nt,tt=0,ht=X;ht;ht=Ft(ht))tt++;ht=0;for(var Vt=q;Vt;Vt=Ft(Vt))ht++;for(;0<tt-ht;)X=Ft(X),tt--;for(;0<ht-tt;)q=Ft(q),ht--;for(;tt--;){if(X===q||q!==null&&X===q.alternate){Ft=X;break e}X=Ft(X),q=Ft(q)}Ft=null}else Ft=null;at!==null&&aE(mt,it,at,Ft,!1),Nt!==null&&Be!==null&&aE(mt,Be,Nt,Ft,!0)}}t:{if(it=et?Dn(et):window,at=it.nodeName&&it.nodeName.toLowerCase(),at==="select"||at==="input"&&it.type==="file")var Ce=El;else if(Tr(it))if(Af)Ce=Tp;else{Ce=Ep;var Mt=Jr}else at=it.nodeName,!at||at.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?et&&Ss(et.elementType)&&(Ce=El):Ce=co;if(Ce&&(Ce=Ce(i,et))){Sf(mt,Ce,l,ct);break t}Mt&&Mt(i,it,et),i==="focusout"&&et&&it.type==="number"&&et.memoizedProps.value!=null&&Zi(it,"number",it.value)}switch(Mt=et?Dn(et):window,i){case"focusin":(Tr(Mt)||Mt.contentEditable==="true")&&(Ps=Mt,Au=et,Sl=null);break;case"focusout":Sl=Au=Ps=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,Rf(mt,l,ct);break;case"selectionchange":if(Su)break;case"keydown":case"keyup":Rf(mt,l,ct)}var Jt;if(be)t:{switch(i){case"compositionstart":var de="onCompositionStart";break t;case"compositionend":de="onCompositionEnd";break t;case"compositionupdate":de="onCompositionUpdate";break t}de=void 0}else oo?ca(i,l)&&(de="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(de="onCompositionStart");de&&(Ci&&l.locale!=="ko"&&(oo||de!=="onCompositionStart"?de==="onCompositionEnd"&&oo&&(Jt=Ki()):(Ai=ct,Yr="value"in Ai?Ai.value:Ai.textContent,oo=!0)),Mt=md(et,de),0<Mt.length&&(de=new Qi(de,i,null,l,ct),mt.push({event:de,listeners:Mt}),Jt?de.data=Jt:(Jt=ha(l),Jt!==null&&(de.data=Jt)))),(Jt=xi?Ji(i,l):lo(i,l))&&(de=md(et,"onBeforeInput"),0<de.length&&(Mt=new Qi("onBeforeInput","beforeinput",null,l,ct),mt.push({event:Mt,listeners:de}),Mt.data=Jt)),fR(mt,i,et,l,ct)}rE(mt,s)})}function gh(i,s,l){return{instance:i,listener:s,currentTarget:l}}function md(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=ci(i,l),p!=null&&h.unshift(gh(i,p,_)),p=ci(i,s),p!=null&&h.push(gh(i,p,_))),i.tag===3)return h;i=i.return}return[]}function gR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function aE(i,s,l,h,p){for(var _=s._reactName,S=[];l!==null&&l!==h;){var O=l,B=O.alternate,et=O.stateNode;if(O=O.tag,B!==null&&B===h)break;O!==5&&O!==26&&O!==27||et===null||(B=et,p?(et=ci(l,_),et!=null&&S.unshift(gh(l,et,B))):p||(et=ci(l,_),et!=null&&S.push(gh(l,et,B)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var _R=/\r\n?/g,vR=/\u0000|\uFFFD/g;function oE(i){return(typeof i=="string"?i:""+i).replace(_R,`
`).replace(vR,"")}function lE(i,s){return s=oE(s),oE(i)===s}function ze(i,s,l,h,p,_){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||Tn(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&Tn(i,""+h);break;case"className":ae(i,"class",h);break;case"tabIndex":ae(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ae(i,l,h);break;case"style":aa(i,h,_);break;case"data":if(s!=="object"){ae(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=As(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&ze(i,s,"name",p.name,p,null),ze(i,s,"formEncType",p.formEncType,p,null),ze(i,s,"formMethod",p.formMethod,p,null),ze(i,s,"formTarget",p.formTarget,p,null)):(ze(i,s,"encType",p.encType,p,null),ze(i,s,"method",p.method,p,null),ze(i,s,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=As(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Xn);break;case"onScroll":h!=null&&ue("scroll",i);break;case"onScrollEnd":h!=null&&ue("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=As(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ue("beforetoggle",i),ue("toggle",i),ne(i,"popover",h);break;case"xlinkActuate":Ke(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ke(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ke(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ke(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ke(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ke(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ke(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ke(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ke(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ne(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=oa.get(l)||l,ne(i,l,h))}}function Vg(i,s,l,h,p,_){switch(l){case"style":aa(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?Tn(i,h):(typeof h=="number"||typeof h=="bigint")&&Tn(i,""+h);break;case"onScroll":h!=null&&ue("scroll",i);break;case"onScrollEnd":h!=null&&ue("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),_=i[ln]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,p),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,p);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):ne(i,l,h)}}}function Gn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",i),ue("load",i);var h=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var S=l[_];if(S!=null)switch(_){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(i,s,_,S,l,null)}}p&&ze(i,s,"srcSet",l.srcSet,l,null),h&&ze(i,s,"src",l.src,l,null);return;case"input":ue("invalid",i);var O=_=S=p=null,B=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ct=l[h];if(ct!=null)switch(h){case"name":p=ct;break;case"type":S=ct;break;case"checked":B=ct;break;case"defaultChecked":et=ct;break;case"value":_=ct;break;case"defaultValue":O=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,s));break;default:ze(i,s,h,ct,l,null)}}sa(i,_,O,B,et,S,p,!1);return;case"select":ue("invalid",i),h=S=_=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":_=O;break;case"defaultValue":S=O;break;case"multiple":h=O;default:ze(i,s,p,O,l,null)}s=_,l=S,i.multiple=!!h,s!=null?Me(i,!!h,s,!1):l!=null&&Me(i,!!h,l,!0);return;case"textarea":ue("invalid",i),_=p=h=null;for(S in l)if(l.hasOwnProperty(S)&&(O=l[S],O!=null))switch(S){case"value":h=O;break;case"defaultValue":p=O;break;case"children":_=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:ze(i,s,S,O,l,null)}Si(i,h,p,_);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(h=l[B],h!=null))switch(B){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ze(i,s,B,h,l,null)}return;case"dialog":ue("beforetoggle",i),ue("toggle",i),ue("cancel",i),ue("close",i);break;case"iframe":case"object":ue("load",i);break;case"video":case"audio":for(h=0;h<ph.length;h++)ue(ph[h],i);break;case"image":ue("error",i),ue("load",i);break;case"details":ue("toggle",i);break;case"embed":case"source":case"link":ue("error",i),ue("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ze(i,s,et,h,l,null)}return;default:if(Ss(s)){for(ct in l)l.hasOwnProperty(ct)&&(h=l[ct],h!==void 0&&Vg(i,s,ct,h,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(h=l[O],h!=null&&ze(i,s,O,h,l,null))}function yR(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,S=null,O=null,B=null,et=null,ct=null;for(at in l){var mt=l[at];if(l.hasOwnProperty(at)&&mt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":B=mt;default:h.hasOwnProperty(at)||ze(i,s,at,null,h,mt)}}for(var it in h){var at=h[it];if(mt=l[it],h.hasOwnProperty(it)&&(at!=null||mt!=null))switch(it){case"type":_=at;break;case"name":p=at;break;case"checked":et=at;break;case"defaultChecked":ct=at;break;case"value":S=at;break;case"defaultValue":O=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,s));break;default:at!==mt&&ze(i,s,it,at,h,mt)}}eo(i,S,O,B,et,ct,_,p);return;case"select":at=S=O=it=null;for(_ in l)if(B=l[_],l.hasOwnProperty(_)&&B!=null)switch(_){case"value":break;case"multiple":at=B;default:h.hasOwnProperty(_)||ze(i,s,_,null,h,B)}for(p in h)if(_=h[p],B=l[p],h.hasOwnProperty(p)&&(_!=null||B!=null))switch(p){case"value":it=_;break;case"defaultValue":O=_;break;case"multiple":S=_;default:_!==B&&ze(i,s,p,_,h,B)}s=O,l=S,h=at,it!=null?Me(i,!!l,it,!1):!!h!=!!l&&(s!=null?Me(i,!!l,s,!0):Me(i,!!l,l?[]:"",!1));return;case"textarea":at=it=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!h.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ze(i,s,O,null,h,p)}for(S in h)if(p=h[S],_=l[S],h.hasOwnProperty(S)&&(p!=null||_!=null))switch(S){case"value":it=p;break;case"defaultValue":at=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==_&&ze(i,s,S,p,h,_)}vr(i,it,at);return;case"option":for(var Nt in l)if(it=l[Nt],l.hasOwnProperty(Nt)&&it!=null&&!h.hasOwnProperty(Nt))switch(Nt){case"selected":i.selected=!1;break;default:ze(i,s,Nt,null,h,it)}for(B in h)if(it=h[B],at=l[B],h.hasOwnProperty(B)&&it!==at&&(it!=null||at!=null))switch(B){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:ze(i,s,B,it,h,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in l)it=l[Ft],l.hasOwnProperty(Ft)&&it!=null&&!h.hasOwnProperty(Ft)&&ze(i,s,Ft,null,h,it);for(et in h)if(it=h[et],at=l[et],h.hasOwnProperty(et)&&it!==at&&(it!=null||at!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,s));break;default:ze(i,s,et,it,h,at)}return;default:if(Ss(s)){for(var Be in l)it=l[Be],l.hasOwnProperty(Be)&&it!==void 0&&!h.hasOwnProperty(Be)&&Vg(i,s,Be,void 0,h,it);for(ct in h)it=h[ct],at=l[ct],!h.hasOwnProperty(ct)||it===at||it===void 0&&at===void 0||Vg(i,s,ct,it,h,at);return}}for(var X in l)it=l[X],l.hasOwnProperty(X)&&it!=null&&!h.hasOwnProperty(X)&&ze(i,s,X,null,h,it);for(mt in h)it=h[mt],at=l[mt],!h.hasOwnProperty(mt)||it===at||it==null&&at==null||ze(i,s,mt,it,h,at)}function uE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var p=l[h],_=p.transferSize,S=p.initiatorType,O=p.duration;if(_&&O&&uE(S)){for(S=0,O=p.responseEnd,h+=1;h<l.length;h++){var B=l[h],et=B.startTime;if(et>O)break;var ct=B.transferSize,mt=B.initiatorType;ct&&uE(mt)&&(B=B.responseEnd,S+=ct*(B<O?1:(O-et)/(B-et)))}if(--h,s+=8*(_+S)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var zg=null,Bg=null;function pd(i){return i.nodeType===9?i:i.ownerDocument}function cE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Ug(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fg=null;function ER(){var i=window.event;return i&&i.type==="popstate"?i===Fg?!1:(Fg=i,!0):(Fg=null,!1)}var fE=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,wR=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(i){return dE.resolve(null).then(i).catch(SR)}:fE;function SR(i){setTimeout(function(){throw i})}function Oo(i){return i==="head"}function mE(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(p),Xu(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")_h(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,_h(l);for(var _=l.firstChild;_;){var S=_.nextSibling,O=_.nodeName;_[mr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=S}}else l==="body"&&_h(i.ownerDocument.body);l=p}while(l);Xu(s)}function pE(i,s){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function Hg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hg(l),$a(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function AR(i,s,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[mr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Rr(i.nextSibling),i===null)break}return null}function xR(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Rr(i.nextSibling),i===null))return null;return i}function gE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Rr(i.nextSibling),i===null))return null;return i}function qg(i){return i.data==="$?"||i.data==="$~"}function Gg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function CR(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Rr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Zg=null;function _E(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Rr(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function vE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function yE(i,s,l){switch(s=pd(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function _h(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);$a(i)}var Ir=new Map,bE=new Set;function gd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var xa=wt.d;wt.d={f:RR,r:IR,D:OR,C:PR,L:NR,m:LR,X:DR,S:MR,M:kR};function RR(){var i=xa.f(),s=od();return i||s}function IR(i){var s=Ei(i);s!==null&&s.tag===5&&s.type==="form"?j0(s):xa.r(i)}var Wu=typeof document>"u"?null:document;function EE(i,s,l){var h=Wu;if(h&&typeof s=="string"&&s){var p=Ue(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),bE.has(p)||(bE.add(p),i={rel:i,crossOrigin:l,href:s},h.querySelector(p)===null&&(s=h.createElement("link"),Gn(s,"link",i),un(s),h.head.appendChild(s)))}}function OR(i){xa.D(i),EE("dns-prefetch",i,null)}function PR(i,s){xa.C(i,s),EE("preconnect",i,s)}function NR(i,s,l){xa.L(i,s,l);var h=Wu;if(h&&i&&s){var p='link[rel="preload"][as="'+Ue(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Ue(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Ue(l.imageSizes)+'"]')):p+='[href="'+Ue(i)+'"]';var _=p;switch(s){case"style":_=Yu(i);break;case"script":_=Qu(i)}Ir.has(_)||(i=C({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Ir.set(_,i),h.querySelector(p)!==null||s==="style"&&h.querySelector(vh(_))||s==="script"&&h.querySelector(yh(_))||(s=h.createElement("link"),Gn(s,"link",i),un(s),h.head.appendChild(s)))}}function LR(i,s){xa.m(i,s);var l=Wu;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Ue(h)+'"][href="'+Ue(i)+'"]',_=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Qu(i)}if(!Ir.has(_)&&(i=C({rel:"modulepreload",href:i},s),Ir.set(_,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(yh(_)))return}h=l.createElement("link"),Gn(h,"link",i),un(h),l.head.appendChild(h)}}}function MR(i,s,l){xa.S(i,s,l);var h=Wu;if(h&&i){var p=pr(h).hoistableStyles,_=Yu(i);s=s||"default";var S=p.get(_);if(!S){var O={loading:0,preload:null};if(S=h.querySelector(vh(_)))O.loading=5;else{i=C({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Ir.get(_))&&Kg(i,l);var B=S=h.createElement("link");un(B),Gn(B,"link",i),B._p=new Promise(function(et,ct){B.onload=et,B.onerror=ct}),B.addEventListener("load",function(){O.loading|=1}),B.addEventListener("error",function(){O.loading|=2}),O.loading|=4,_d(S,s,h)}S={type:"stylesheet",instance:S,count:1,state:O},p.set(_,S)}}}function DR(i,s){xa.X(i,s);var l=Wu;if(l&&i){var h=pr(l).hoistableScripts,p=Qu(i),_=h.get(p);_||(_=l.querySelector(yh(p)),_||(i=C({src:i,async:!0},s),(s=Ir.get(p))&&Wg(i,s),_=l.createElement("script"),un(_),Gn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function kR(i,s){xa.M(i,s);var l=Wu;if(l&&i){var h=pr(l).hoistableScripts,p=Qu(i),_=h.get(p);_||(_=l.querySelector(yh(p)),_||(i=C({src:i,async:!0,type:"module"},s),(s=Ir.get(p))&&Wg(i,s),_=l.createElement("script"),un(_),Gn(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(p,_))}}function TE(i,s,l,h){var p=(p=_t.current)?gd(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Yu(l.href),l=pr(p).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Yu(l.href);var _=pr(p).hoistableStyles,S=_.get(i);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,S),(_=p.querySelector(vh(i)))&&!_._p&&(S.instance=_,S.state.loading=5),Ir.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ir.set(i,l),_||jR(p,i,l,S.state))),s&&h===null)throw Error(r(528,""));return S}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Qu(l),l=pr(p).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Yu(i){return'href="'+Ue(i)+'"'}function vh(i){return'link[rel="stylesheet"]['+i+"]"}function wE(i){return C({},i,{"data-precedence":i.precedence,precedence:null})}function jR(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Gn(s,"link",l),un(s),i.head.appendChild(s))}function Qu(i){return'[src="'+Ue(i)+'"]'}function yh(i){return"script[async]"+i}function SE(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+Ue(l.href)+'"]');if(h)return s.instance=h,un(h),h;var p=C({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),un(h),Gn(h,"style",p),_d(h,l.precedence,i),s.instance=h;case"stylesheet":p=Yu(l.href);var _=i.querySelector(vh(p));if(_)return s.state.loading|=4,s.instance=_,un(_),_;h=wE(l),(p=Ir.get(p))&&Kg(h,p),_=(i.ownerDocument||i).createElement("link"),un(_);var S=_;return S._p=new Promise(function(O,B){S.onload=O,S.onerror=B}),Gn(_,"link",h),s.state.loading|=4,_d(_,l.precedence,i),s.instance=_;case"script":return _=Qu(l.src),(p=i.querySelector(yh(_)))?(s.instance=p,un(p),p):(h=l,(p=Ir.get(_))&&(h=C({},l),Wg(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),un(p),Gn(p,"link",h),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,_d(h,l.precedence,i));return s.instance}function _d(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,_=p,S=0;S<h.length;S++){var O=h[S];if(O.dataset.precedence===s)_=O;else if(_!==p)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Kg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Wg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var vd=null;function AE(i,s,l){if(vd===null){var h=new Map,p=vd=new Map;p.set(l,h)}else p=vd,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var _=l[p];if(!(_[mr]||_[rn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var S=_.getAttribute(s)||"";S=i+S;var O=h.get(S);O?O.push(_):h.set(S,[_])}}return h}function xE(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function VR(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function CE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function zR(i,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Yu(h.href),_=s.querySelector(vh(p));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=yd.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,un(_);return}_=s.ownerDocument||s,h=wE(h),(p=Ir.get(p))&&Kg(h,p),_=_.createElement("link"),un(_);var S=_;S._p=new Promise(function(O,B){S.onload=O,S.onerror=B}),Gn(_,"link",h),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=yd.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Yg=0;function BR(i,s){return i.stylesheets&&i.count===0&&Ed(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Ed(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Yg===0&&(Yg=62500*bR());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ed(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Yg?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function yd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var bd=null;function Ed(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,bd=new Map,s.forEach(UR,i),bd=null,yd.call(i))}function UR(i,s){if(!(s.state.loading&4)){var l=bd.get(i);if(l)var h=l.get(null);else{l=new Map,bd.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var S=p[_];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),h=S)}h&&l.set(null,h)}p=s.instance,S=p.getAttribute("data-precedence"),_=l.get(S)||h,_===h&&l.set(null,p),l.set(S,p),this.count++,h=yd.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),_?_.parentNode.insertBefore(p,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var bh={$$typeof:lt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function FR(i,s,l,h,p,_,S,O,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function RE(i,s,l,h,p,_,S,O,B,et,ct,mt){return i=new FR(i,s,l,S,B,et,ct,mt,O),s=1,_===!0&&(s|=24),_=ni(3,null,null,s),i.current=_,_.stateNode=i,s=Rp(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:s},Np(_),i}function IE(i){return i?(i=fa,i):fa}function OE(i,s,l,h,p,_){p=IE(p),h.context===null?h.context=p:h.pendingContext=p,h=yo(s),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=bo(i,h,s),l!==null&&(Di(l,i,s),$c(l,i,s))}function PE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Qg(i,s){PE(i,s),(i=i.alternate)&&PE(i,s)}function NE(i){if(i.tag===13||i.tag===31){var s=Ar(i,67108864);s!==null&&Di(s,i,67108864),Qg(i,67108864)}}function LE(i){if(i.tag===13||i.tag===31){var s=rr();s=Mn(s);var l=Ar(i,s);l!==null&&Di(l,i,s),Qg(i,s)}}var Td=!0;function HR(i,s,l,h){var p=st.T;st.T=null;var _=wt.p;try{wt.p=2,Xg(i,s,l,h)}finally{wt.p=_,st.T=p}}function qR(i,s,l,h){var p=st.T;st.T=null;var _=wt.p;try{wt.p=8,Xg(i,s,l,h)}finally{wt.p=_,st.T=p}}function Xg(i,s,l,h){if(Td){var p=$g(h);if(p===null)jg(i,s,h,wd,l),DE(i,h);else if(ZR(p,i,s,l,h))h.stopPropagation();else if(DE(i,h),s&4&&-1<GR.indexOf(i)){for(;p!==null;){var _=Ei(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var S=hr(_.pendingLanes);if(S!==0){var O=_;for(O.pendingLanes|=2,O.entangledLanes|=2;S;){var B=1<<31-en(S);O.entanglements[1]|=B,S&=~B}zs(_),(Oe&6)===0&&(sd=En()+500,mh(0))}}break;case 31:case 13:O=Ar(_,2),O!==null&&Di(O,_,2),od(),Qg(_,2)}if(_=$g(h),_===null&&jg(i,s,h,wd,l),_===p)break;p=_}p!==null&&h.stopPropagation()}else jg(i,s,h,null,l)}}function $g(i){return i=$n(i),Jg(i)}var wd=null;function Jg(i){if(wd=null,i=Gi(i),i!==null){var s=u(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=f(s),i!==null)return i;i=null}else if(l===31){if(i=g(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return wd=i,null}function ME(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fr()){case cr:return 2;case ys:return 8;case Bi:case Ya:return 32;case bs:return 268435456;default:return 32}default:return 32}}var t_=!1,Po=null,No=null,Lo=null,Eh=new Map,Th=new Map,Mo=[],GR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function DE(i,s){switch(i){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Eh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(s.pointerId)}}function wh(i,s,l,h,p,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[p]},s!==null&&(s=Ei(s),s!==null&&NE(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function ZR(i,s,l,h,p){switch(s){case"focusin":return Po=wh(Po,i,s,l,h,p),!0;case"dragenter":return No=wh(No,i,s,l,h,p),!0;case"mouseover":return Lo=wh(Lo,i,s,l,h,p),!0;case"pointerover":var _=p.pointerId;return Eh.set(_,wh(Eh.get(_)||null,i,s,l,h,p)),!0;case"gotpointercapture":return _=p.pointerId,Th.set(_,wh(Th.get(_)||null,i,s,l,h,p)),!0}return!1}function kE(i){var s=Gi(i.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=f(l),s!==null){i.blockedOn=s,yi(i.priority,function(){LE(l)});return}}else if(s===31){if(s=g(l),s!==null){i.blockedOn=s,yi(i.priority,function(){LE(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Sd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=$g(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);io=h,l.target.dispatchEvent(h),io=null}else return s=Ei(l),s!==null&&NE(s),i.blockedOn=l,!1;s.shift()}return!0}function jE(i,s,l){Sd(i)&&l.delete(s)}function KR(){t_=!1,Po!==null&&Sd(Po)&&(Po=null),No!==null&&Sd(No)&&(No=null),Lo!==null&&Sd(Lo)&&(Lo=null),Eh.forEach(jE),Th.forEach(jE)}function Ad(i,s){i.blockedOn===s&&(i.blockedOn=null,t_||(t_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,KR)))}var xd=null;function VE(i){xd!==i&&(xd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xd===i&&(xd=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],p=i[s+2];if(typeof h!="function"){if(Jg(h||l)===null)continue;break}var _=Ei(l);_!==null&&(i.splice(s,3),s-=3,$p(_,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function Xu(i){function s(B){return Ad(B,i)}Po!==null&&Ad(Po,i),No!==null&&Ad(No,i),Lo!==null&&Ad(Lo,i),Eh.forEach(s),Th.forEach(s);for(var l=0;l<Mo.length;l++){var h=Mo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Mo.length&&(l=Mo[0],l.blockedOn===null);)kE(l),l.blockedOn===null&&Mo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],_=l[h+1],S=p[ln]||null;if(typeof _=="function")S||VE(l);else if(S){var O=null;if(_&&_.hasAttribute("formAction")){if(p=_,S=_[ln]||null)O=S.formAction;else if(Jg(p)!==null)continue}else O=S.action;typeof O=="function"?l[h+1]=O:(l.splice(h,3),h-=3),VE(l)}}}function zE(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function e_(i){this._internalRoot=i}Cd.prototype.render=e_.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=rr();OE(l,h,i,s,null,null)},Cd.prototype.unmount=e_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;OE(i.current,2,null,i,null,null),od(),s[Hi]=null}};function Cd(i){this._internalRoot=i}Cd.prototype.unstable_scheduleHydration=function(i){if(i){var s=ul();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Mo.length&&s!==0&&s<Mo[l].priority;l++);Mo.splice(l,0,i),l===0&&kE(i)}};var BE=t.version;if(BE!=="19.2.1")throw Error(r(527,BE,"19.2.1"));wt.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=y(s),i=i!==null?A(i):null,i=i===null?null:i.stateNode,i};var WR={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:st,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{Qn=Rd.inject(WR),mn=Rd}catch{}}return Ah.createRoot=function(i,s){if(!o(i))throw Error(r(299));var l=!1,h="",p=K0,_=W0,S=Y0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=RE(i,1,!1,null,null,l,h,null,p,_,S,zE),i[Hi]=s.current,kg(i),new e_(s)},Ah.hydrateRoot=function(i,s,l){if(!o(i))throw Error(r(299));var h=!1,p="",_=K0,S=W0,O=Y0,B=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.formState!==void 0&&(B=l.formState)),s=RE(i,1,!0,s,l??null,h,p,B,_,S,O,zE),s.context=IE(null),l=s.current,h=rr(),h=Mn(h),p=yo(h),p.callback=null,bo(l,p,h),l=h,s.current.lanes=l,qr(s,l),zs(s),i[Hi]=s.current,kg(i),new Cd(s)},Ah.version="19.2.1",Ah}var QE;function s2(){if(QE)return r_.exports;QE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),r_.exports=r2(),r_.exports}var a2=s2();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var XE="popstate";function o2(n={}){function t(r,o){let{pathname:u,search:f,hash:g}=r.location;return D_("",{pathname:u,search:f,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){return typeof o=="string"?o:qh(o)}return u2(t,e,null,n)}function Je(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Vr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l2(){return Math.random().toString(36).substring(2,10)}function $E(n,t){return{usr:n.state,key:n.key,idx:t}}function D_(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?xc(t):t,state:e,key:t&&t.key||r||l2()}}function qh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function xc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function u2(n,t,e,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,g="POP",v=null,y=A();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function A(){return(f.state||{idx:null}).idx}function C(){g="POP";let Z=A(),ft=Z==null?null:Z-y;y=Z,v&&v({action:g,location:K.location,delta:ft})}function P(Z,ft){g="PUSH";let Et=D_(K.location,Z,ft);y=A()+1;let lt=$E(Et,y),xt=K.createHref(Et);try{f.pushState(lt,"",xt)}catch(Lt){if(Lt instanceof DOMException&&Lt.name==="DataCloneError")throw Lt;o.location.assign(xt)}u&&v&&v({action:g,location:K.location,delta:1})}function M(Z,ft){g="REPLACE";let Et=D_(K.location,Z,ft);y=A();let lt=$E(Et,y),xt=K.createHref(Et);f.replaceState(lt,"",xt),u&&v&&v({action:g,location:K.location,delta:0})}function H(Z){return c2(Z)}let K={get action(){return g},get location(){return n(o,f)},listen(Z){if(v)throw new Error("A history only accepts one active listener");return o.addEventListener(XE,C),v=Z,()=>{o.removeEventListener(XE,C),v=null}},createHref(Z){return t(o,Z)},createURL:H,encodeLocation(Z){let ft=H(Z);return{pathname:ft.pathname,search:ft.search,hash:ft.hash}},push:P,replace:M,go(Z){return f.go(Z)}};return K}function c2(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Je(e,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:qh(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function ES(n,t,e="/"){return h2(n,t,e,!1)}function h2(n,t,e,r){let o=typeof t=="string"?xc(t):t,u=Va(o.pathname||"/",e);if(u==null)return null;let f=TS(n);f2(f);let g=null;for(let v=0;g==null&&v<f.length;++v){let y=w2(u);g=E2(f[v],y,r)}return g}function TS(n,t=[],e=[],r="",o=!1){let u=(f,g,v=o,y)=>{let A={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(A.relativePath.startsWith("/")){if(!A.relativePath.startsWith(r)&&v)return;Je(A.relativePath.startsWith(r),`Absolute route path "${A.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),A.relativePath=A.relativePath.slice(r.length)}let C=Ma([r,A.relativePath]),P=e.concat(A);f.children&&f.children.length>0&&(Je(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),TS(f.children,t,P,C,v)),!(f.path==null&&!f.index)&&t.push({path:C,score:y2(C,f.index),routesMeta:P})};return n.forEach((f,g)=>{var v;if(f.path===""||!((v=f.path)!=null&&v.includes("?")))u(f,g);else for(let y of wS(f.path))u(f,g,!0,y)}),t}function wS(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,o=e.endsWith("?"),u=e.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=wS(r.join("/")),g=[];return g.push(...f.map(v=>v===""?u:[u,v].join("/"))),o&&g.push(...f),g.map(v=>n.startsWith("/")&&v===""?"/":v)}function f2(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:b2(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var d2=/^:[\w-]+$/,m2=3,p2=2,g2=1,_2=10,v2=-2,JE=n=>n==="*";function y2(n,t){let e=n.split("/"),r=e.length;return e.some(JE)&&(r+=v2),t&&(r+=p2),e.filter(o=>!JE(o)).reduce((o,u)=>o+(d2.test(u)?m2:u===""?g2:_2),r)}function b2(n,t){return n.length===t.length&&n.slice(0,-1).every((r,o)=>r===t[o])?n[n.length-1]-t[t.length-1]:0}function E2(n,t,e=!1){let{routesMeta:r}=n,o={},u="/",f=[];for(let g=0;g<r.length;++g){let v=r[g],y=g===r.length-1,A=u==="/"?t:t.slice(u.length)||"/",C=em({path:v.relativePath,caseSensitive:v.caseSensitive,end:y},A),P=v.route;if(!C&&y&&e&&!r[r.length-1].route.index&&(C=em({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},A)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:Ma([u,C.pathname]),pathnameBase:R2(Ma([u,C.pathnameBase])),route:P}),C.pathnameBase!=="/"&&(u=Ma([u,C.pathnameBase]))}return f}function em(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=T2(n.path,n.caseSensitive,n.end),o=t.match(e);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:r.reduce((y,{paramName:A,isOptional:C},P)=>{if(A==="*"){let H=g[P]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const M=g[P];return C&&!M?y[A]=void 0:y[A]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:n}}function T2(n,t=!1,e=!0){Vr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,v)=>(r.push({paramName:g,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function w2(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Va(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}var S2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A2=n=>S2.test(n);function x2(n,t="/"){let{pathname:e,search:r="",hash:o=""}=typeof n=="string"?xc(n):n,u;if(e)if(A2(e))u=e;else{if(e.includes("//")){let f=e;e=e.replace(/\/\/+/g,"/"),Vr(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${e}`)}e.startsWith("/")?u=tT(e.substring(1),"/"):u=tT(e,t)}else u=t;return{pathname:u,search:I2(r),hash:O2(o)}}function tT(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?e.length>1&&e.pop():o!=="."&&e.push(o)}),e.length>1?e.join("/"):"/"}function l_(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C2(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Av(n){let t=C2(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function xv(n,t,e,r=!1){let o;typeof n=="string"?o=xc(n):(o={...n},Je(!o.pathname||!o.pathname.includes("?"),l_("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),l_("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),l_("#","search","hash",o)));let u=n===""||o.pathname==="",f=u?"/":o.pathname,g;if(f==null)g=e;else{let C=t.length-1;if(!r&&f.startsWith("..")){let P=f.split("/");for(;P[0]==="..";)P.shift(),C-=1;o.pathname=P.join("/")}g=C>=0?t[C]:"/"}let v=x2(o,g),y=f&&f!=="/"&&f.endsWith("/"),A=(u||f===".")&&e.endsWith("/");return!v.pathname.endsWith("/")&&(y||A)&&(v.pathname+="/"),v}var Ma=n=>n.join("/").replace(/\/\/+/g,"/"),R2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),I2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,O2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function P2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function N2(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SS=["POST","PUT","PATCH","DELETE"];new Set(SS);var L2=["GET",...SS];new Set(L2);var Cc=Y.createContext(null);Cc.displayName="DataRouter";var jm=Y.createContext(null);jm.displayName="DataRouterState";Y.createContext(!1);var AS=Y.createContext({isTransitioning:!1});AS.displayName="ViewTransition";var M2=Y.createContext(new Map);M2.displayName="Fetchers";var D2=Y.createContext(null);D2.displayName="Await";var Br=Y.createContext(null);Br.displayName="Navigation";var nf=Y.createContext(null);nf.displayName="Location";var Ur=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var Cv=Y.createContext(null);Cv.displayName="RouteError";function k2(n,{relative:t}={}){Je(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=Y.useContext(Br),{hash:o,pathname:u,search:f}=rf(n,{relative:t}),g=u;return e!=="/"&&(g=u==="/"?e:Ma([e,u])),r.createHref({pathname:g,search:f,hash:o})}function Rc(){return Y.useContext(nf)!=null}function nl(){return Je(Rc(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(nf).location}var xS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function CS(n){Y.useContext(Br).static||Y.useLayoutEffect(n)}function Ic(){let{isDataRoute:n}=Y.useContext(Ur);return n?$2():j2()}function j2(){Je(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let n=Y.useContext(Cc),{basename:t,navigator:e}=Y.useContext(Br),{matches:r}=Y.useContext(Ur),{pathname:o}=nl(),u=JSON.stringify(Av(r)),f=Y.useRef(!1);return CS(()=>{f.current=!0}),Y.useCallback((v,y={})=>{if(Vr(f.current,xS),!f.current)return;if(typeof v=="number"){e.go(v);return}let A=xv(v,JSON.parse(u),o,y.relative==="path");n==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Ma([t,A.pathname])),(y.replace?e.replace:e.push)(A,y.state,y)},[t,e,u,o,n])}var V2=Y.createContext(null);function z2(n){let t=Y.useContext(Ur).outlet;return Y.useMemo(()=>t&&Y.createElement(V2.Provider,{value:n},t),[t,n])}function B2(){let{matches:n}=Y.useContext(Ur),t=n[n.length-1];return t?t.params:{}}function rf(n,{relative:t}={}){let{matches:e}=Y.useContext(Ur),{pathname:r}=nl(),o=JSON.stringify(Av(e));return Y.useMemo(()=>xv(n,JSON.parse(o),r,t==="path"),[n,o,r,t])}function U2(n,t){return RS(n,t)}function RS(n,t,e,r,o){var Et;Je(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Y.useContext(Br),{matches:f}=Y.useContext(Ur),g=f[f.length-1],v=g?g.params:{},y=g?g.pathname:"/",A=g?g.pathnameBase:"/",C=g&&g.route;{let lt=C&&C.path||"";IS(y,!C||lt.endsWith("*")||lt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${lt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${lt}"> to <Route path="${lt==="/"?"*":`${lt}/*`}">.`)}let P=nl(),M;if(t){let lt=typeof t=="string"?xc(t):t;Je(A==="/"||((Et=lt.pathname)==null?void 0:Et.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${lt.pathname}" was given in the \`location\` prop.`),M=lt}else M=P;let H=M.pathname||"/",K=H;if(A!=="/"){let lt=A.replace(/^\//,"").split("/");K="/"+H.replace(/^\//,"").split("/").slice(lt.length).join("/")}let Z=ES(n,{pathname:K});Vr(C||Z!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Vr(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ft=Z2(Z&&Z.map(lt=>Object.assign({},lt,{params:Object.assign({},v,lt.params),pathname:Ma([A,u.encodeLocation?u.encodeLocation(lt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathname]),pathnameBase:lt.pathnameBase==="/"?A:Ma([A,u.encodeLocation?u.encodeLocation(lt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:lt.pathnameBase])})),f,e,r,o);return t&&ft?Y.createElement(nf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ft):ft}function F2(){let n=X2(),t=P2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),e?Y.createElement("pre",{style:o},e):null,f)}var H2=Y.createElement(F2,null),q2=class extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Y.createElement(Ur.Provider,{value:this.props.routeContext},Y.createElement(Cv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G2({routeContext:n,match:t,children:e}){let r=Y.useContext(Cc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Ur.Provider,{value:n},e)}function Z2(n,t=[],e=null,r=null,o=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let u=n,f=e==null?void 0:e.errors;if(f!=null){let A=u.findIndex(C=>C.route.id&&(f==null?void 0:f[C.route.id])!==void 0);Je(A>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,A+1))}let g=!1,v=-1;if(e)for(let A=0;A<u.length;A++){let C=u[A];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(v=A),C.route.id){let{loaderData:P,errors:M}=e,H=C.route.loader&&!P.hasOwnProperty(C.route.id)&&(!M||M[C.route.id]===void 0);if(C.route.lazy||H){g=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}let y=e&&r?(A,C)=>{var P,M;r(A,{location:e.location,params:((M=(P=e.matches)==null?void 0:P[0])==null?void 0:M.params)??{},unstable_pattern:N2(e.matches),errorInfo:C})}:void 0;return u.reduceRight((A,C,P)=>{let M,H=!1,K=null,Z=null;e&&(M=f&&C.route.id?f[C.route.id]:void 0,K=C.route.errorElement||H2,g&&(v<0&&P===0?(IS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,Z=null):v===P&&(H=!0,Z=C.route.hydrateFallbackElement||null)));let ft=t.concat(u.slice(0,P+1)),Et=()=>{let lt;return M?lt=K:H?lt=Z:C.route.Component?lt=Y.createElement(C.route.Component,null):C.route.element?lt=C.route.element:lt=A,Y.createElement(G2,{match:C,routeContext:{outlet:A,matches:ft,isDataRoute:e!=null},children:lt})};return e&&(C.route.ErrorBoundary||C.route.errorElement||P===0)?Y.createElement(q2,{location:e.location,revalidation:e.revalidation,component:K,error:M,children:Et(),routeContext:{outlet:null,matches:ft,isDataRoute:!0},onError:y}):Et()},null)}function Rv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K2(n){let t=Y.useContext(Cc);return Je(t,Rv(n)),t}function W2(n){let t=Y.useContext(jm);return Je(t,Rv(n)),t}function Y2(n){let t=Y.useContext(Ur);return Je(t,Rv(n)),t}function Iv(n){let t=Y2(n),e=t.matches[t.matches.length-1];return Je(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function Q2(){return Iv("useRouteId")}function X2(){var r;let n=Y.useContext(Cv),t=W2("useRouteError"),e=Iv("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[e]}function $2(){let{router:n}=K2("useNavigate"),t=Iv("useNavigate"),e=Y.useRef(!1);return CS(()=>{e.current=!0}),Y.useCallback(async(o,u={})=>{Vr(e.current,xS),e.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:t,...u}))},[n,t])}var eT={};function IS(n,t,e){!t&&!eT[n]&&(eT[n]=!0,Vr(!1,e))}Y.memo(J2);function J2({routes:n,future:t,state:e,unstable_onError:r}){return RS(n,void 0,e,r,t)}function tI({to:n,replace:t,state:e,relative:r}){Je(Rc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Y.useContext(Br);Vr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Y.useContext(Ur),{pathname:f}=nl(),g=Ic(),v=xv(n,Av(u),f,r==="path"),y=JSON.stringify(v);return Y.useEffect(()=>{g(JSON.parse(y),{replace:t,state:e,relative:r})},[g,y,r,t,e]),null}function eI(n){return z2(n.context)}function ss(n){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nI({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){Je(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),v=Y.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[g,o,u,f]);typeof e=="string"&&(e=xc(e));let{pathname:y="/",search:A="",hash:C="",state:P=null,key:M="default"}=e,H=Y.useMemo(()=>{let K=Va(y,g);return K==null?null:{location:{pathname:K,search:A,hash:C,state:P,key:M},navigationType:r}},[g,y,A,C,P,M,r]);return Vr(H!=null,`<Router basename="${g}"> is not able to match the URL "${y}${A}${C}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:Y.createElement(Br.Provider,{value:v},Y.createElement(nf.Provider,{children:t,value:H}))}function iI({children:n,location:t}){return U2(k_(n),t)}function k_(n,t=[]){let e=[];return Y.Children.forEach(n,(r,o)=>{if(!Y.isValidElement(r))return;let u=[...t,o];if(r.type===Y.Fragment){e.push.apply(e,k_(r.props.children,u));return}Je(r.type===ss,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=k_(r.props.children,u)),e.push(f)}),e}var zd="get",Bd="application/x-www-form-urlencoded";function Vm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function rI(n){return Vm(n)&&n.tagName.toLowerCase()==="button"}function sI(n){return Vm(n)&&n.tagName.toLowerCase()==="form"}function aI(n){return Vm(n)&&n.tagName.toLowerCase()==="input"}function oI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lI(n,t){return n.button===0&&(!t||t==="_self")&&!oI(n)}var Id=null;function uI(){if(Id===null)try{new FormData(document.createElement("form"),0),Id=!1}catch{Id=!0}return Id}var cI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u_(n){return n!=null&&!cI.has(n)?(Vr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bd}"`),null):n}function hI(n,t){let e,r,o,u,f;if(sI(n)){let g=n.getAttribute("action");r=g?Va(g,t):null,e=n.getAttribute("method")||zd,o=u_(n.getAttribute("enctype"))||Bd,u=new FormData(n)}else if(rI(n)||aI(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=n.getAttribute("formaction")||g.getAttribute("action");if(r=v?Va(v,t):null,e=n.getAttribute("formmethod")||g.getAttribute("method")||zd,o=u_(n.getAttribute("formenctype"))||u_(g.getAttribute("enctype"))||Bd,u=new FormData(g,n),!uI()){let{name:y,type:A,value:C}=n;if(A==="image"){let P=y?`${y}.`:"";u.append(`${P}x`,"0"),u.append(`${P}y`,"0")}else y&&u.append(y,C)}}else{if(Vm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=zd,r=null,o=Bd,f=n}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:e.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ov(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function fI(n,t,e){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${e}`:t&&Va(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${e}`,r}async function dI(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function pI(n,t,e){let r=await Promise.all(n.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await dI(u,e);return f.links?f.links():[]}return[]}));return yI(r.flat(1).filter(mI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function nT(n,t,e,r,o,u){let f=(v,y)=>e[y]?v.route.id!==e[y].route.id:!0,g=(v,y)=>{var A;return e[y].pathname!==v.pathname||((A=e[y].route.path)==null?void 0:A.endsWith("*"))&&e[y].params["*"]!==v.params["*"]};return u==="assets"?t.filter((v,y)=>f(v,y)||g(v,y)):u==="data"?t.filter((v,y)=>{var C;let A=r.routes[v.route.id];if(!A||!A.hasLoader)return!1;if(f(v,y)||g(v,y))return!0;if(v.route.shouldRevalidate){let P=v.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=e[0])==null?void 0:C.params)||{},nextUrl:new URL(n,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function gI(n,t,{includeHydrateFallback:e}={}){return _I(n.map(r=>{let o=t.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),e&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _I(n){return[...new Set(n)]}function vI(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function yI(n,t){let e=new Set;return new Set(t),n.reduce((r,o)=>{let u=JSON.stringify(vI(o));return e.has(u)||(e.add(u),r.push({key:u,link:o})),r},[])}function OS(){let n=Y.useContext(Cc);return Ov(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bI(){let n=Y.useContext(jm);return Ov(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Pv=Y.createContext(void 0);Pv.displayName="FrameworkContext";function PS(){let n=Y.useContext(Pv);return Ov(n,"You must render this element inside a <HydratedRouter> element"),n}function EI(n,t){let e=Y.useContext(Pv),[r,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:g,onBlur:v,onMouseEnter:y,onMouseLeave:A,onTouchStart:C}=t,P=Y.useRef(null);Y.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let K=ft=>{ft.forEach(Et=>{f(Et.isIntersecting)})},Z=new IntersectionObserver(K,{threshold:.5});return P.current&&Z.observe(P.current),()=>{Z.disconnect()}}},[n]),Y.useEffect(()=>{if(r){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[r]);let M=()=>{o(!0)},H=()=>{o(!1),f(!1)};return e?n!=="intent"?[u,P,{}]:[u,P,{onFocus:xh(g,M),onBlur:xh(v,H),onMouseEnter:xh(y,M),onMouseLeave:xh(A,H),onTouchStart:xh(C,M)}]:[!1,P,{}]}function xh(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function TI({page:n,...t}){let{router:e}=OS(),r=Y.useMemo(()=>ES(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?Y.createElement(SI,{page:n,matches:r,...t}):null}function wI(n){let{manifest:t,routeModules:e}=PS(),[r,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return pI(n,t,e).then(f=>{u||o(f)}),()=>{u=!0}},[n,t,e]),r}function SI({page:n,matches:t,...e}){let r=nl(),{manifest:o,routeModules:u}=PS(),{basename:f}=OS(),{loaderData:g,matches:v}=bI(),y=Y.useMemo(()=>nT(n,t,v,o,r,"data"),[n,t,v,o,r]),A=Y.useMemo(()=>nT(n,t,v,o,r,"assets"),[n,t,v,o,r]),C=Y.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let H=new Set,K=!1;if(t.forEach(ft=>{var lt;let Et=o.routes[ft.route.id];!Et||!Et.hasLoader||(!y.some(xt=>xt.route.id===ft.route.id)&&ft.route.id in g&&((lt=u[ft.route.id])!=null&&lt.shouldRevalidate)||Et.hasClientLoader?K=!0:H.add(ft.route.id))}),H.size===0)return[];let Z=fI(n,f,"data");return K&&H.size>0&&Z.searchParams.set("_routes",t.filter(ft=>H.has(ft.route.id)).map(ft=>ft.route.id).join(",")),[Z.pathname+Z.search]},[f,g,r,o,y,t,n,u]),P=Y.useMemo(()=>gI(A,o),[A,o]),M=wI(A);return Y.createElement(Y.Fragment,null,C.map(H=>Y.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...e})),P.map(H=>Y.createElement("link",{key:H,rel:"modulepreload",href:H,...e})),M.map(({key:H,link:K})=>Y.createElement("link",{key:H,nonce:e.nonce,...K})))}function AI(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NS&&(window.__reactRouterVersion="7.10.1")}catch{}function xI({basename:n,children:t,unstable_useTransitions:e,window:r}){let o=Y.useRef();o.current==null&&(o.current=o2({window:r,v5Compat:!0}));let u=o.current,[f,g]=Y.useState({action:u.action,location:u.location}),v=Y.useCallback(y=>{e===!1?g(y):Y.startTransition(()=>g(y))},[e]);return Y.useLayoutEffect(()=>u.listen(v),[u,v]),Y.createElement(nI,{basename:n,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:e===!0})}var LS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dr=Y.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:g,target:v,to:y,preventScrollReset:A,viewTransition:C,...P},M){let{basename:H,unstable_useTransitions:K}=Y.useContext(Br),Z=typeof y=="string"&&LS.test(y),ft,Et=!1;if(typeof y=="string"&&Z&&(ft=y,NS))try{let G=new URL(window.location.href),U=y.startsWith("//")?new URL(G.protocol+y):new URL(y),W=Va(U.pathname,H);U.origin===G.origin&&W!=null?y=W+U.search+U.hash:Et=!0}catch{Vr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let lt=k2(y,{relative:o}),[xt,Lt,jt]=EI(r,P),j=II(y,{replace:f,state:g,target:v,preventScrollReset:A,relative:o,viewTransition:C,unstable_useTransitions:K});function D(G){t&&t(G),G.defaultPrevented||j(G)}let V=Y.createElement("a",{...P,...jt,href:ft||lt,onClick:Et||u?t:D,ref:AI(M,Lt),target:v,"data-discover":!Z&&e==="render"?"true":void 0});return xt&&!Z?Y.createElement(Y.Fragment,null,V,Y.createElement(TI,{page:lt})):V});Dr.displayName="Link";var as=Y.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:g,children:v,...y},A){let C=rf(f,{relative:y.relative}),P=nl(),M=Y.useContext(jm),{navigator:H,basename:K}=Y.useContext(Br),Z=M!=null&&MI(C)&&g===!0,ft=H.encodeLocation?H.encodeLocation(C).pathname:C.pathname,Et=P.pathname,lt=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;e||(Et=Et.toLowerCase(),lt=lt?lt.toLowerCase():null,ft=ft.toLowerCase()),lt&&K&&(lt=Va(lt,K)||lt);const xt=ft!=="/"&&ft.endsWith("/")?ft.length-1:ft.length;let Lt=Et===ft||!o&&Et.startsWith(ft)&&Et.charAt(xt)==="/",jt=lt!=null&&(lt===ft||!o&&lt.startsWith(ft)&&lt.charAt(ft.length)==="/"),j={isActive:Lt,isPending:jt,isTransitioning:Z},D=Lt?t:void 0,V;typeof r=="function"?V=r(j):V=[r,Lt?"active":null,jt?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let G=typeof u=="function"?u(j):u;return Y.createElement(Dr,{...y,"aria-current":D,className:V,ref:A,style:G,to:f,viewTransition:g},typeof v=="function"?v(j):v)});as.displayName="NavLink";var CI=Y.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:o,state:u,method:f=zd,action:g,onSubmit:v,relative:y,preventScrollReset:A,viewTransition:C,...P},M)=>{let{unstable_useTransitions:H}=Y.useContext(Br),K=NI(),Z=LI(g,{relative:y}),ft=f.toLowerCase()==="get"?"get":"post",Et=typeof g=="string"&&LS.test(g),lt=xt=>{if(v&&v(xt),xt.defaultPrevented)return;xt.preventDefault();let Lt=xt.nativeEvent.submitter,jt=(Lt==null?void 0:Lt.getAttribute("formmethod"))||f,j=()=>K(Lt||xt.currentTarget,{fetcherKey:t,method:jt,navigate:e,replace:o,state:u,relative:y,preventScrollReset:A,viewTransition:C});H&&e!==!1?Y.startTransition(()=>j()):j()};return Y.createElement("form",{ref:M,method:ft,action:Z,onSubmit:r?v:lt,...P,"data-discover":!Et&&n==="render"?"true":void 0})});CI.displayName="Form";function RI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MS(n){let t=Y.useContext(Cc);return Je(t,RI(n)),t}function II(n,{target:t,replace:e,state:r,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:g}={}){let v=Ic(),y=nl(),A=rf(n,{relative:u});return Y.useCallback(C=>{if(lI(C,t)){C.preventDefault();let P=e!==void 0?e:qh(y)===qh(A),M=()=>v(n,{replace:P,state:r,preventScrollReset:o,relative:u,viewTransition:f});g?Y.startTransition(()=>M()):M()}},[y,v,A,e,r,t,n,o,u,f,g])}var OI=0,PI=()=>`__${String(++OI)}__`;function NI(){let{router:n}=MS("useSubmit"),{basename:t}=Y.useContext(Br),e=Q2(),r=n.fetch,o=n.navigate;return Y.useCallback(async(u,f={})=>{let{action:g,method:v,encType:y,formData:A,body:C}=hI(u,t);if(f.navigate===!1){let P=f.fetcherKey||PI();await r(P,e,f.action||g,{preventScrollReset:f.preventScrollReset,formData:A,body:C,formMethod:f.method||v,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||g,{preventScrollReset:f.preventScrollReset,formData:A,body:C,formMethod:f.method||v,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:e,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,o,t,e])}function LI(n,{relative:t}={}){let{basename:e}=Y.useContext(Br),r=Y.useContext(Ur);Je(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...rf(n||".",{relative:t})},f=nl();if(n==null){u.search=f.search;let g=new URLSearchParams(u.search),v=g.getAll("index");if(v.some(A=>A==="")){g.delete("index"),v.filter(C=>C).forEach(C=>g.append("index",C));let A=g.toString();u.search=A?`?${A}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(u.pathname=u.pathname==="/"?e:Ma([e,u.pathname])),qh(u)}function MI(n,{relative:t}={}){let e=Y.useContext(AS);Je(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=MS("useViewTransitionState"),o=rf(n,{relative:t});if(!e.isTransitioning)return!1;let u=Va(e.currentLocation.pathname,r)||e.currentLocation.pathname,f=Va(e.nextLocation.pathname,r)||e.nextLocation.pathname;return em(o.pathname,f)!=null||em(o.pathname,u)!=null}var DS=bS();const DI=()=>E.jsxs("div",{className:"landing-page",children:[E.jsxs("header",{className:"hero-section",style:{background:"linear-gradient(135deg, var(--ocean-800) 0%, var(--primary-900) 100%)",color:"white",border:"none"},children:[E.jsxs("div",{style:{position:"relative",zIndex:2},children:[E.jsxs("h1",{className:"hero-title",style:{color:"white"},children:["Elektrische mobiliteit",E.jsx("br",{}),"voor iedereen"]}),E.jsx("p",{className:"hero-subtitle",style:{color:"var(--primary-100)"},children:"Slim boeken. Slim rijden. Zero emission. Ervaar de vrijheid van de toekomst."}),E.jsxs(Dr,{to:"/request",className:"cta-button",children:["Reis aanvragen ",E.jsx("span",{children:""})]})]}),E.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"600px",height:"600px",background:"radial-gradient(circle, var(--primary-500) 0%, transparent 70%)",opacity:.1,filter:"blur(60px)",zIndex:1}})]}),E.jsxs("section",{className:"features-grid",children:[E.jsxs("div",{className:"feature-card",children:[E.jsx("span",{className:"feature-icon",children:""}),E.jsx("h3",{className:"feature-title",children:"Duurzaam reizen"}),E.jsx("p",{className:"feature-desc",children:"100% elektrische vloot voor een schonere toekomst. Wij zorgen voor de planeet terwijl jij rijdt."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("span",{className:"feature-icon",children:""}),E.jsx("h3",{className:"feature-title",children:"Flexibele beschikbaarheid"}),E.jsx("p",{className:"feature-desc",children:"Boek direct een auto in jouw buurt, 24/7. Geen wachttijden, geen gedoe."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("span",{className:"feature-icon",children:""}),E.jsx("h3",{className:"feature-title",children:"Laadpunten onderweg"}),E.jsx("p",{className:"feature-desc",children:"Slimme integratie met laadpalen op je route. Altijd opgeladen aankomen."})]})]})]});function Se(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(e.length?" "+e.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var kI={};function zm(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:kI}var kS=Object.assign,nm=Object.getOwnPropertyDescriptor,qs=Object.defineProperty,Bm=Object.prototype,j_=[];Object.freeze(j_);var jS={};Object.freeze(jS);var jI=typeof Proxy<"u",VI=Object.toString();function VS(){jI||Se("Proxy not available")}function zS(n){var t=!1;return function(){if(!t)return t=!0,n.apply(this,arguments)}}var ac=function(){};function hs(n){return typeof n=="function"}function Yl(n){var t=typeof n;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Um(n){return n!==null&&typeof n=="object"}function za(n){if(!Um(n))return!1;var t=Object.getPrototypeOf(n);if(t==null)return!0;var e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e.toString()===VI}function BS(n){var t=n==null?void 0:n.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function sf(n,t,e){qs(n,t,{enumerable:!1,writable:!0,configurable:!0,value:e})}function US(n,t,e){qs(n,t,{enumerable:!1,writable:!1,configurable:!0,value:e})}function ru(n,t){var e="isMobX"+n;return t.prototype[e]=!0,function(r){return Um(r)&&r[e]===!0}}function Oc(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function zI(n){var t=Object.getPrototypeOf(n),e=Object.getPrototypeOf(t),r=Object.getPrototypeOf(e);return r===null}function Ia(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var FS=typeof Object.getOwnPropertySymbols<"u";function BI(n){var t=Object.keys(n);if(!FS)return t;var e=Object.getOwnPropertySymbols(n);return e.length?[].concat(t,e.filter(function(r){return Bm.propertyIsEnumerable.call(n,r)})):t}var _c=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:FS?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function HS(n){return n===null?null:typeof n=="object"?""+n:n}function Da(n,t){return Bm.hasOwnProperty.call(n,t)}var UI=Object.getOwnPropertyDescriptors||function(t){var e={};return _c(t).forEach(function(r){e[r]=nm(t,r)}),e};function sr(n,t){return!!(n&t)}function ar(n,t,e){return e?n|=t:n&=~t,n}function iT(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function FI(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,qI(r.key),r)}}function Pc(n,t,e){return t&&FI(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function oc(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e)return(e=e.call(n)).next.bind(e);if(Array.isArray(n)||(e=GI(n))||t){e&&(n=e);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Ql.apply(null,arguments)}function qS(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,V_(n,t)}function V_(n,t){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},V_(n,t)}function HI(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function qI(n){var t=HI(n,"string");return typeof t=="symbol"?t:t+""}function GI(n,t){if(n){if(typeof n=="string")return iT(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?iT(n,t):void 0}}var Hs=Symbol("mobx-stored-annotations");function Gs(n){function t(e,r){if(of(r))return n.decorate_20223_(e,r);af(e,r,n)}return Object.assign(t,n)}function af(n,t,e){Da(n,Hs)||sf(n,Hs,Ql({},n[Hs])),$I(e)||(n[Hs][t]=e)}function ZI(n){return Da(n,Hs)||sf(n,Hs,Ql({},n[Hs])),n[Hs]}function of(n){return typeof n=="object"&&typeof n.kind=="string"}var Zt=Symbol("mobx administration"),il=(function(){function n(e){e===void 0&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Ie.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=n.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return o1(this)},t.reportChanged=function(){Lr(),l1(this),Mr()},t.toString=function(){return this.name_},Pc(n,[{key:"isBeingObserved",get:function(){return sr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=ar(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return sr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=ar(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return sr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ar(this.flags_,n.diffValueMask_,r===1)}}])})();il.isBeingObservedMask_=1;il.isPendingUnobservationMask_=2;il.diffValueMask_=4;var Nv=ru("Atom",il);function GS(n,t,e){t===void 0&&(t=ac),e===void 0&&(e=ac);var r=new il(n);return t!==ac&&tP(r,t),e!==ac&&m1(r,e),r}function KI(n,t){return C1(n,t)}function WI(n,t){return Object.is?Object.is(n,t):n===t?n!==0||1/n===1/t:n!==n&&t!==t}var im={structural:KI,default:WI};function Xl(n,t,e){return y1(n)?n:Array.isArray(n)?Kn.array(n,{name:e}):za(n)?Kn.object(n,void 0,{name:e}):Oc(n)?Kn.map(n,{name:e}):Ia(n)?Kn.set(n,{name:e}):typeof n=="function"&&!vc(n)&&!Zh(n)?BS(n)?yc(n):Gh(e,n):n}function YI(n,t,e){if(n==null||Wm(n)||Km(n)||au(n)||Fs(n))return n;if(Array.isArray(n))return Kn.array(n,{name:e,deep:!1});if(za(n))return Kn.object(n,void 0,{name:e,deep:!1});if(Oc(n))return Kn.map(n,{name:e,deep:!1});if(Ia(n))return Kn.set(n,{name:e,deep:!1})}function Fm(n){return n}function QI(n,t){return C1(n,t)?t:n}var XI="override";function $I(n){return n.annotationType_===XI}function lf(n,t){return{annotationType_:n,options_:t,make_:JI,extend_:tO,decorate_20223_:eO}}function JI(n,t,e,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(n,t,e,!1)===null?0:1;if(r===n.target_)return this.extend_(n,t,e,!1)===null?0:2;if(vc(e.value))return 1;var u=ZS(n,this,t,e,!1);return qs(r,t,u),2}function tO(n,t,e,r){var o=ZS(n,this,t,e);return n.defineProperty_(t,o,r)}function eO(n,t){var e=t.kind,r=t.name,o=t.addInitializer,u=this,f=function(y){var A,C,P,M;return $l((A=(C=u.options_)==null?void 0:C.name)!=null?A:r.toString(),y,(P=(M=u.options_)==null?void 0:M.autoAction)!=null?P:!1)};if(e=="field")return function(v){var y,A=v;return vc(A)||(A=f(A)),(y=u.options_)!=null&&y.bound&&(A=A.bind(this),A.isMobxAction=!0),A};if(e=="method"){var g;return vc(n)||(n=f(n)),(g=this.options_)!=null&&g.bound&&o(function(){var v=this,y=v[r].bind(v);y.isMobxAction=!0,v[r]=y}),n}Se("Cannot apply '"+u.annotationType_+"' to '"+String(r)+"' (kind: "+e+"):"+(`
'`+u.annotationType_+"' can only be used on properties with a function value."))}function nO(n,t,e,r){t.annotationType_,r.value}function ZS(n,t,e,r,o){var u,f,g,v,y,A,C;o===void 0&&(o=At.safeDescriptors),nO(n,t,e,r);var P=r.value;if((u=t.options_)!=null&&u.bound){var M;P=P.bind((M=n.proxy_)!=null?M:n.target_)}return{value:$l((f=(g=t.options_)==null?void 0:g.name)!=null?f:e.toString(),P,(v=(y=t.options_)==null?void 0:y.autoAction)!=null?v:!1,(A=t.options_)!=null&&A.bound?(C=n.proxy_)!=null?C:n.target_:void 0),configurable:o?n.isPlainObject_:!0,enumerable:!1,writable:!o}}function KS(n,t){return{annotationType_:n,options_:t,make_:iO,extend_:rO,decorate_20223_:sO}}function iO(n,t,e,r){var o;if(r===n.target_)return this.extend_(n,t,e,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Da(n.target_,t)||!Zh(n.target_[t]))&&this.extend_(n,t,e,!1)===null)return 0;if(Zh(e.value))return 1;var u=WS(n,this,t,e,!1,!1);return qs(r,t,u),2}function rO(n,t,e,r){var o,u=WS(n,this,t,e,(o=this.options_)==null?void 0:o.bound);return n.defineProperty_(t,u,r)}function sO(n,t){var e,r=t.name,o=t.addInitializer;return Zh(n)||(n=yc(n)),(e=this.options_)!=null&&e.bound&&o(function(){var u=this,f=u[r].bind(u);f.isMobXFlow=!0,u[r]=f}),n}function aO(n,t,e,r){t.annotationType_,r.value}function WS(n,t,e,r,o,u){u===void 0&&(u=At.safeDescriptors),aO(n,t,e,r);var f=r.value;if(Zh(f)||(f=yc(f)),o){var g;f=f.bind((g=n.proxy_)!=null?g:n.target_),f.isMobXFlow=!0}return{value:f,configurable:u?n.isPlainObject_:!0,enumerable:!1,writable:!u}}function Lv(n,t){return{annotationType_:n,options_:t,make_:oO,extend_:lO,decorate_20223_:uO}}function oO(n,t,e){return this.extend_(n,t,e,!1)===null?0:1}function lO(n,t,e,r){return cO(n,this,t,e),n.defineComputedProperty_(t,Ql({},this.options_,{get:e.get,set:e.set}),r)}function uO(n,t){var e=this,r=t.name,o=t.addInitializer;return o(function(){var u=ou(this)[Zt],f=Ql({},e.options_,{get:n,context:this});f.name||(f.name="ObservableObject."+r.toString()),u.values_.set(r,new fs(f))}),function(){return this[Zt].getObservablePropValue_(r)}}function cO(n,t,e,r){t.annotationType_,r.get}function Hm(n,t){return{annotationType_:n,options_:t,make_:hO,extend_:fO,decorate_20223_:dO}}function hO(n,t,e){return this.extend_(n,t,e,!1)===null?0:1}function fO(n,t,e,r){var o,u;return mO(n,this),n.defineObservableProperty_(t,e.value,(o=(u=this.options_)==null?void 0:u.enhancer)!=null?o:Xl,r)}function dO(n,t){var e=this,r=t.kind,o=t.name,u=new WeakSet;function f(g,v){var y,A,C=ou(g)[Zt],P=new Kl(v,(y=(A=e.options_)==null?void 0:A.enhancer)!=null?y:Xl,"ObservableObject."+o.toString(),!1);C.values_.set(o,P),u.add(g)}if(r=="accessor")return{get:function(){return u.has(this)||f(this,n.get.call(this)),this[Zt].getObservablePropValue_(o)},set:function(v){return u.has(this)||f(this,v),this[Zt].setObservablePropValue_(o,v)},init:function(v){return u.has(this)||f(this,v),v}}}function mO(n,t,e,r){t.annotationType_}var pO="true",gO=YS();function YS(n){return{annotationType_:pO,options_:n,make_:_O,extend_:vO,decorate_20223_:yO}}function _O(n,t,e,r){var o,u;if(e.get)return qm.make_(n,t,e,r);if(e.set){var f=vc(e.set)?e.set:$l(t.toString(),e.set);return r===n.target_?n.defineProperty_(t,{configurable:At.safeDescriptors?n.isPlainObject_:!0,set:f})===null?0:2:(qs(r,t,{configurable:!0,set:f}),2)}if(r!==n.target_&&typeof e.value=="function"){var g;if(BS(e.value)){var v,y=(v=this.options_)!=null&&v.autoBind?yc.bound:yc;return y.make_(n,t,e,r)}var A=(g=this.options_)!=null&&g.autoBind?Gh.bound:Gh;return A.make_(n,t,e,r)}var C=((o=this.options_)==null?void 0:o.deep)===!1?Kn.ref:Kn;if(typeof e.value=="function"&&(u=this.options_)!=null&&u.autoBind){var P;e.value=e.value.bind((P=n.proxy_)!=null?P:n.target_)}return C.make_(n,t,e,r)}function vO(n,t,e,r){var o,u;if(e.get)return qm.extend_(n,t,e,r);if(e.set)return n.defineProperty_(t,{configurable:At.safeDescriptors?n.isPlainObject_:!0,set:$l(t.toString(),e.set)},r);if(typeof e.value=="function"&&(o=this.options_)!=null&&o.autoBind){var f;e.value=e.value.bind((f=n.proxy_)!=null?f:n.target_)}var g=((u=this.options_)==null?void 0:u.deep)===!1?Kn.ref:Kn;return g.extend_(n,t,e,r)}function yO(n,t){Se("'"+this.annotationType_+"' cannot be used as a decorator")}var bO="observable",EO="observable.ref",TO="observable.shallow",wO="observable.struct",QS={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(QS);function Od(n){return n||QS}var z_=Hm(bO),SO=Hm(EO,{enhancer:Fm}),AO=Hm(TO,{enhancer:YI}),xO=Hm(wO,{enhancer:QI}),XS=Gs(z_);function Pd(n){return n.deep===!0?Xl:n.deep===!1?Fm:RO(n.defaultDecorator)}function CO(n){var t;return n?(t=n.defaultDecorator)!=null?t:YS(n):void 0}function RO(n){var t,e;return n&&(t=(e=n.options_)==null?void 0:e.enhancer)!=null?t:Xl}function $S(n,t,e){if(of(t))return z_.decorate_20223_(n,t);if(Yl(t)){af(n,t,z_);return}return y1(n)?n:za(n)?Kn.object(n,t,e):Array.isArray(n)?Kn.array(n,t):Oc(n)?Kn.map(n,t):Ia(n)?Kn.set(n,t):typeof n=="object"&&n!==null?n:Kn.box(n,t)}kS($S,XS);var IO={box:function(t,e){var r=Od(e);return new Kl(t,Pd(r),r.name,!0,r.equals)},array:function(t,e){var r=Od(e);return(At.useProxies===!1||r.proxy===!1?SP:mP)(t,Pd(r),r.name)},map:function(t,e){var r=Od(e);return new E1(t,Pd(r),r.name)},set:function(t,e){var r=Od(e);return new T1(t,Pd(r),r.name)},object:function(t,e,r){return rl(function(){return g1(At.useProxies===!1||(r==null?void 0:r.proxy)===!1?ou({},r):cP({},r),t,e)})},ref:Gs(SO),shallow:Gs(AO),deep:XS,struct:Gs(xO)},Kn=kS($S,IO),JS="computed",OO="computed.struct",B_=Lv(JS),PO=Lv(OO,{equals:im.structural}),qm=function(t,e){if(of(e))return B_.decorate_20223_(t,e);if(Yl(e))return af(t,e,B_);if(za(t))return Gs(Lv(JS,t));var r=za(e)?e:{};return r.get=t,r.name||(r.name=t.name||""),new fs(r)};Object.assign(qm,B_);qm.struct=Gs(PO);var rT,sT,rm=0,NO=1,LO=(rT=(sT=nm(function(){},"name"))==null?void 0:sT.configurable)!=null?rT:!1,aT={value:"action",configurable:!0,writable:!1,enumerable:!1};function $l(n,t,e,r){e===void 0&&(e=!1);function o(){return t1(n,e,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},LO&&(aT.value=n,qs(o,"name",aT)),o}function t1(n,t,e,r,o){var u=MO(n,t);try{return e.apply(r,o)}catch(f){throw u.error_=f,f}finally{DO(u)}}function MO(n,t,e,r){var o=!1,u=0,f=At.trackingDerivation,g=!t||!f;Lr();var v=At.allowStateChanges;g&&(su(),v=Mv(!0));var y=kv(!0),A={runAsAction_:g,prevDerivation_:f,prevAllowStateChanges_:v,prevAllowStateReads_:y,notifySpy_:o,startTime_:u,actionId_:NO++,parentActionId_:rm};return rm=A.actionId_,A}function DO(n){rm!==n.actionId_&&Se(30),rm=n.parentActionId_,n.error_!==void 0&&(At.suppressReactionErrors=!0),Dv(n.prevAllowStateChanges_),kh(n.prevAllowStateReads_),Mr(),n.runAsAction_&&ka(n.prevDerivation_),At.suppressReactionErrors=!1}function Mv(n){var t=At.allowStateChanges;return At.allowStateChanges=n,t}function Dv(n){At.allowStateChanges=n}var Kl=(function(n){function t(r,o,u,f,g){var v;return u===void 0&&(u="ObservableValue"),g===void 0&&(g=im.default),v=n.call(this,u)||this,v.enhancer=void 0,v.name_=void 0,v.equals=void 0,v.hasUnreportedChange_=!1,v.interceptors_=void 0,v.changeListeners_=void 0,v.value_=void 0,v.dehancer=void 0,v.enhancer=o,v.name_=u,v.equals=g,v.value_=o(r,void 0,u),v}qS(t,n);var e=t.prototype;return e.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},e.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==At.UNCHANGED&&this.setNewValue_(o)},e.prepareNewValue_=function(o){if(Or(this)){var u=Pr(this,{object:this,type:Zs,newValue:o});if(!u)return At.UNCHANGED;o=u.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?At.UNCHANGED:o},e.setNewValue_=function(o){var u=this.value_;this.value_=o,this.reportChanged(),ls(this)&&us(this,{type:Zs,object:this,newValue:o,oldValue:u})},e.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},e.intercept_=function(o){return uf(this,o)},e.observe_=function(o,u){return u&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Zs,newValue:this.value_,oldValue:void 0}),cf(this,o)},e.raw=function(){return this.value_},e.toJSON=function(){return this.get()},e.toString=function(){return this.name_+"["+this.value_+"]"},e.valueOf=function(){return HS(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},t})(il),fs=(function(){function n(e){this.dependenciesState_=Ie.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Ie.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new am(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=sm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||Se(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=$l("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?im.structural:im.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=n.prototype;return t.onBecomeStale_=function(){BO(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Se(32,this.name_,this.derivation),At.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)U_(this)&&(this.warnAboutUntrackedRead_(),Lr(),this.value_=this.computeValue_(!1),Mr());else if(o1(this),U_(this)){var r=At.trackingContext;this.keepAlive_&&!r&&(At.trackingContext=this),this.trackAndCompute()&&zO(this),At.trackingContext=r}var o=this.value_;if(Ud(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&Se(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Se(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===Ie.NOT_TRACKING_,u=this.computeValue_(!0),f=o||Ud(r)||Ud(u)||!this.equals_(r,u);return f&&(this.value_=u),f},t.computeValue_=function(r){this.isComputing=!0;var o=Mv(!1),u;if(r)u=e1(this,this.derivation,this.scope_);else if(At.disableErrorBoundaries===!0)u=this.derivation.call(this.scope_);else try{u=this.derivation.call(this.scope_)}catch(f){u=new am(f)}return Dv(o),this.isComputing=!1,u},t.suspend_=function(){this.keepAlive_||(F_(this),this.value_=void 0)},t.observe_=function(r,o){var u=this,f=!0,g=void 0;return YO(function(){var v=u.get();if(!f||o){var y=su();r({observableKind:"computed",debugObjectName:u.name_,type:Zs,object:u,newValue:v,oldValue:g}),ka(y)}f=!1,g=v})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return HS(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Pc(n,[{key:"isComputing",get:function(){return sr(this.flags_,n.isComputingMask_)},set:function(r){this.flags_=ar(this.flags_,n.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return sr(this.flags_,n.isRunningSetterMask_)},set:function(r){this.flags_=ar(this.flags_,n.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return sr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=ar(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return sr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=ar(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return sr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ar(this.flags_,n.diffValueMask_,r===1)}}])})();fs.isComputingMask_=1;fs.isRunningSetterMask_=2;fs.isBeingObservedMask_=4;fs.isPendingUnobservationMask_=8;fs.diffValueMask_=16;var Gm=ru("ComputedValue",fs),Ie;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(Ie||(Ie={}));var sm;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(sm||(sm={}));var am=function(t){this.cause=void 0,this.cause=t};function Ud(n){return n instanceof am}function U_(n){switch(n.dependenciesState_){case Ie.UP_TO_DATE_:return!1;case Ie.NOT_TRACKING_:case Ie.STALE_:return!0;case Ie.POSSIBLY_STALE_:{for(var t=kv(!0),e=su(),r=n.observing_,o=r.length,u=0;u<o;u++){var f=r[u];if(Gm(f)){if(At.disableErrorBoundaries)f.get();else try{f.get()}catch{return ka(e),kh(t),!0}if(n.dependenciesState_===Ie.STALE_)return ka(e),kh(t),!0}}return i1(n),ka(e),kh(t),!1}}}function e1(n,t,e){var r=kv(!0);i1(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++At.runId;var o=At.trackingDerivation;At.trackingDerivation=n,At.inBatch++;var u;if(At.disableErrorBoundaries===!0)u=t.call(e);else try{u=t.call(e)}catch(f){u=new am(f)}return At.inBatch--,At.trackingDerivation=o,kO(n),kh(r),u}function kO(n){for(var t=n.observing_,e=n.observing_=n.newObserving_,r=Ie.UP_TO_DATE_,o=0,u=n.unboundDepsCount_,f=0;f<u;f++){var g=e[f];g.diffValue===0&&(g.diffValue=1,o!==f&&(e[o]=g),o++),g.dependenciesState_>r&&(r=g.dependenciesState_)}for(e.length=o,n.newObserving_=null,u=t.length;u--;){var v=t[u];v.diffValue===0&&s1(v,n),v.diffValue=0}for(;o--;){var y=e[o];y.diffValue===1&&(y.diffValue=0,VO(y,n))}r!==Ie.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function F_(n){var t=n.observing_;n.observing_=[];for(var e=t.length;e--;)s1(t[e],n);n.dependenciesState_=Ie.NOT_TRACKING_}function n1(n){var t=su();try{return n()}finally{ka(t)}}function su(){var n=At.trackingDerivation;return At.trackingDerivation=null,n}function ka(n){At.trackingDerivation=n}function kv(n){var t=At.allowStateReads;return At.allowStateReads=n,t}function kh(n){At.allowStateReads=n}function i1(n){if(n.dependenciesState_!==Ie.UP_TO_DATE_){n.dependenciesState_=Ie.UP_TO_DATE_;for(var t=n.observing_,e=t.length;e--;)t[e].lowestObserverState_=Ie.UP_TO_DATE_}}var Fd=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Hd=!0,r1=!1,At=(function(){var n=zm();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(Hd=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new Fd().version&&(Hd=!1),Hd?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new Fd):(setTimeout(function(){r1||Se(35)},1),new Fd)})();function jO(){if((At.pendingReactions.length||At.inBatch||At.isRunningReactions)&&Se(36),r1=!0,Hd){var n=zm();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),At=new Fd}}function VO(n,t){n.observers_.add(t),n.lowestObserverState_>t.dependenciesState_&&(n.lowestObserverState_=t.dependenciesState_)}function s1(n,t){n.observers_.delete(t),n.observers_.size===0&&a1(n)}function a1(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,At.pendingUnobservations.push(n))}function Lr(){At.inBatch++}function Mr(){if(--At.inBatch===0){u1();for(var n=At.pendingUnobservations,t=0;t<n.length;t++){var e=n[t];e.isPendingUnobservation=!1,e.observers_.size===0&&(e.isBeingObserved&&(e.isBeingObserved=!1,e.onBUO()),e instanceof fs&&e.suspend_())}At.pendingUnobservations=[]}}function o1(n){var t=At.trackingDerivation;return t!==null?(t.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=n,!n.isBeingObserved&&At.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&At.inBatch>0&&a1(n),!1)}function l1(n){n.lowestObserverState_!==Ie.STALE_&&(n.lowestObserverState_=Ie.STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Ie.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Ie.STALE_}))}function zO(n){n.lowestObserverState_!==Ie.STALE_&&(n.lowestObserverState_=Ie.STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Ie.POSSIBLY_STALE_?t.dependenciesState_=Ie.STALE_:t.dependenciesState_===Ie.UP_TO_DATE_&&(n.lowestObserverState_=Ie.UP_TO_DATE_)}))}function BO(n){n.lowestObserverState_===Ie.UP_TO_DATE_&&(n.lowestObserverState_=Ie.POSSIBLY_STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Ie.UP_TO_DATE_&&(t.dependenciesState_=Ie.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Ba=(function(){function n(e,r,o,u){e===void 0&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Ie.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=sm.NONE,this.name_=e,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=u}var t=n.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,At.pendingReactions.push(this),u1())},t.runReaction_=function(){if(!this.isDisposed){Lr(),this.isScheduled=!1;var r=At.trackingContext;if(At.trackingContext=this,U_(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}At.trackingContext=r,Mr()}},t.track=function(r){if(!this.isDisposed){Lr(),this.isRunning=!0;var o=At.trackingContext;At.trackingContext=this;var u=e1(this,r,void 0);At.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&F_(this),Ud(u)&&this.reportExceptionInDerivation_(u.cause),Mr()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(At.disableErrorBoundaries)throw r;var u="[mobx] uncaught error in '"+this+"'";At.suppressReactionErrors||console.error(u,r),At.globalReactionErrorHandlers.forEach(function(f){return f(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Lr(),F_(this),Mr()))},t.getDisposer_=function(r){var o=this,u=function f(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",f)};return r==null||r.addEventListener==null||r.addEventListener("abort",u),u[Zt]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(u[Symbol.dispose]=u),u},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Pc(n,[{key:"isDisposed",get:function(){return sr(this.flags_,n.isDisposedMask_)},set:function(r){this.flags_=ar(this.flags_,n.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return sr(this.flags_,n.isScheduledMask_)},set:function(r){this.flags_=ar(this.flags_,n.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return sr(this.flags_,n.isTrackPendingMask_)},set:function(r){this.flags_=ar(this.flags_,n.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return sr(this.flags_,n.isRunningMask_)},set:function(r){this.flags_=ar(this.flags_,n.isRunningMask_,r)}},{key:"diffValue",get:function(){return sr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=ar(this.flags_,n.diffValueMask_,r===1)}}])})();Ba.isDisposedMask_=1;Ba.isScheduledMask_=2;Ba.isTrackPendingMask_=4;Ba.isRunningMask_=8;Ba.diffValueMask_=16;var UO=100,H_=function(t){return t()};function u1(){At.inBatch>0||At.isRunningReactions||H_(FO)}function FO(){At.isRunningReactions=!0;for(var n=At.pendingReactions,t=0;n.length>0;){++t===UO&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var e=n.splice(0),r=0,o=e.length;r<o;r++)e[r].runReaction_()}At.isRunningReactions=!1}var om=ru("Reaction",Ba);function HO(n){var t=H_;H_=function(r){return n(function(){return t(r)})}}function jh(){return!1}function qO(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var c1="action",GO="action.bound",h1="autoAction",ZO="autoAction.bound",f1="<unnamed action>",q_=lf(c1),KO=lf(GO,{bound:!0}),G_=lf(h1,{autoAction:!0}),WO=lf(ZO,{autoAction:!0,bound:!0});function d1(n){var t=function(r,o){if(hs(r))return $l(r.name||f1,r,n);if(hs(o))return $l(r,o,n);if(of(o))return(n?G_:q_).decorate_20223_(r,o);if(Yl(o))return af(r,o,n?G_:q_);if(Yl(r))return Gs(lf(n?h1:c1,{name:r,autoAction:n}))};return t}var lc=d1(!1);Object.assign(lc,q_);var Gh=d1(!0);Object.assign(Gh,G_);lc.bound=Gs(KO);Gh.bound=Gs(WO);function re(n){return t1(n.name||f1,!1,n,this,void 0)}function vc(n){return hs(n)&&n.isMobxAction===!0}function YO(n,t){var e,r,o,u;t===void 0&&(t=jS);var f=(e=(r=t)==null?void 0:r.name)!=null?e:"Autorun",g=!t.scheduler&&!t.delay,v;if(g)v=new Ba(f,function(){this.track(C)},t.onError,t.requiresObservable);else{var y=XO(t),A=!1;v=new Ba(f,function(){A||(A=!0,y(function(){A=!1,v.isDisposed||v.track(C)}))},t.onError,t.requiresObservable)}function C(){n(v)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||v.schedule_(),v.getDisposer_((u=t)==null?void 0:u.signal)}var QO=function(t){return t()};function XO(n){return n.scheduler?n.scheduler:n.delay?function(t){return setTimeout(t,n.delay)}:QO}var $O="onBO",JO="onBUO";function tP(n,t,e){return p1($O,n,t,e)}function m1(n,t,e){return p1(JO,n,t,e)}function p1(n,t,e,r){var o=cm(t),u=hs(r)?r:e,f=n+"L";return o[f]?o[f].add(u):o[f]=new Set([u]),function(){var g=o[f];g&&(g.delete(u),g.size===0&&delete o[f])}}var eP="never",Nd="always",nP="observed";function iP(n){n.isolateGlobalState===!0&&jO();var t=n.useProxies,e=n.enforceActions;if(t!==void 0&&(At.useProxies=t===Nd?!0:t===eP?!1:typeof Proxy<"u"),t==="ifavailable"&&(At.verifyProxies=!0),e!==void 0){var r=e===Nd?Nd:e===nP;At.enforceActions=r,At.allowStateChanges=!(r===!0||r===Nd)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in n&&(At[o]=!!n[o])}),At.allowStateReads=!At.observableRequiresReaction,n.reactionScheduler&&HO(n.reactionScheduler)}function g1(n,t,e,r){var o=UI(t);return rl(function(){var u=ou(n,r)[Zt];_c(o).forEach(function(f){u.extend_(f,o[f],e&&f in e?e[f]:!0)})}),n}function rP(n,t){return _1(cm(n,t))}function _1(n){var t={name:n.name_};return n.observing_&&n.observing_.length>0&&(t.dependencies=sP(n.observing_).map(_1)),t}function sP(n){return Array.from(new Set(n))}var aP=0;function v1(){this.message="FLOW_CANCELLED"}v1.prototype=Object.create(Error.prototype);var c_=KS("flow"),oP=KS("flow.bound",{bound:!0}),yc=Object.assign(function(t,e){if(of(e))return c_.decorate_20223_(t,e);if(Yl(e))return af(t,e,c_);var r=t,o=r.name||"<unnamed flow>",u=function(){var g=this,v=arguments,y=++aP,A=lc(o+" - runid: "+y+" - init",r).apply(g,v),C,P=void 0,M=new Promise(function(H,K){var Z=0;C=K;function ft(xt){P=void 0;var Lt;try{Lt=lc(o+" - runid: "+y+" - yield "+Z++,A.next).call(A,xt)}catch(jt){return K(jt)}lt(Lt)}function Et(xt){P=void 0;var Lt;try{Lt=lc(o+" - runid: "+y+" - yield "+Z++,A.throw).call(A,xt)}catch(jt){return K(jt)}lt(Lt)}function lt(xt){if(hs(xt==null?void 0:xt.then)){xt.then(lt,K);return}return xt.done?H(xt.value):(P=Promise.resolve(xt.value),P.then(ft,Et))}ft(void 0)});return M.cancel=lc(o+" - runid: "+y+" - cancel",function(){try{P&&oT(P);var H=A.return(void 0),K=Promise.resolve(H.value);K.then(ac,ac),oT(K),C(new v1)}catch(Z){C(Z)}}),M};return u.isMobXFlow=!0,u},c_);yc.bound=Gs(oP);function oT(n){hs(n.cancel)&&n.cancel()}function Zh(n){return(n==null?void 0:n.isMobXFlow)===!0}function lP(n,t){return n?Wm(n)||!!n[Zt]||Nv(n)||om(n)||Gm(n):!1}function y1(n){return lP(n)}function Oa(n,t){t===void 0&&(t=void 0),Lr();try{return n.apply(t)}finally{Mr()}}function $u(n){return n[Zt]}var uP={has:function(t,e){return $u(t).has_(e)},get:function(t,e){return $u(t).get_(e)},set:function(t,e,r){var o;return Yl(e)?(o=$u(t).set_(e,r,!0))!=null?o:!0:!1},deleteProperty:function(t,e){var r;return Yl(e)?(r=$u(t).delete_(e,!0))!=null?r:!0:!1},defineProperty:function(t,e,r){var o;return(o=$u(t).defineProperty_(e,r))!=null?o:!0},ownKeys:function(t){return $u(t).ownKeys_()},preventExtensions:function(t){Se(13)}};function cP(n,t){var e,r;return VS(),n=ou(n,t),(r=(e=n[Zt]).proxy_)!=null?r:e.proxy_=new Proxy(n,uP)}function Or(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function uf(n,t){var e=n.interceptors_||(n.interceptors_=[]);return e.push(t),zS(function(){var r=e.indexOf(t);r!==-1&&e.splice(r,1)})}function Pr(n,t){var e=su();try{for(var r=[].concat(n.interceptors_||[]),o=0,u=r.length;o<u&&(t=r[o](t),t&&!t.type&&Se(14),!!t);o++);return t}finally{ka(e)}}function ls(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function cf(n,t){var e=n.changeListeners_||(n.changeListeners_=[]);return e.push(t),zS(function(){var r=e.indexOf(t);r!==-1&&e.splice(r,1)})}function us(n,t){var e=su(),r=n.changeListeners_;if(r){r=r.slice();for(var o=0,u=r.length;o<u;o++)r[o](t);ka(e)}}function hP(n,t,e){return rl(function(){var r,o=ou(n,e)[Zt];(r=t)!=null||(t=ZI(n)),_c(t).forEach(function(u){return o.make_(u,t[u])})}),n}var h_=Symbol("mobx-keys");function Zm(n,t,e){return za(n)?g1(n,n,t,e):(rl(function(){var r=ou(n,e)[Zt];if(!n[h_]){var o=Object.getPrototypeOf(n),u=new Set([].concat(_c(n),_c(o)));u.delete("constructor"),u.delete(Zt),sf(o,h_,u)}n[h_].forEach(function(f){return r.make_(f,t&&f in t?t[f]:!0)})}),n)}var lT="splice",Zs="update",fP=1e4,dP={get:function(t,e){var r=t[Zt];return e===Zt?r:e==="length"?r.getArrayLength_():typeof e=="string"&&!isNaN(e)?r.get_(parseInt(e)):Da(lm,e)?lm[e]:t[e]},set:function(t,e,r){var o=t[Zt];return e==="length"&&o.setArrayLength_(r),typeof e=="symbol"||isNaN(e)?t[e]=r:o.set_(parseInt(e),r),!0},preventExtensions:function(){Se(15)}},jv=(function(){function n(e,r,o,u){e===void 0&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=u,this.atom_=new il(e),this.enhancer_=function(f,g){return r(f,g,"ObservableArray[..]")}}var t=n.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return uf(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),cf(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Se("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var u=new Array(r-o),f=0;f<r-o;f++)u[f]=void 0;this.spliceWithArray_(o,0,u)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&Se(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&x1(r+o+1)},t.spliceWithArray_=function(r,o,u){var f=this;this.atom_;var g=this.values_.length;if(r===void 0?r=0:r>g?r=g:r<0&&(r=Math.max(0,g+r)),arguments.length===1?o=g-r:o==null?o=0:o=Math.max(0,Math.min(o,g-r)),u===void 0&&(u=j_),Or(this)){var v=Pr(this,{object:this.proxy_,type:lT,index:r,removedCount:o,added:u});if(!v)return j_;o=v.removedCount,u=v.added}if(u=u.length===0?u:u.map(function(C){return f.enhancer_(C,void 0)}),this.legacyMode_){var y=u.length-o;this.updateArrayLength_(g,y)}var A=this.spliceItemsIntoValues_(r,o,u);return(o!==0||u.length!==0)&&this.notifyArraySplice_(r,u,A),this.dehanceValues_(A)},t.spliceItemsIntoValues_=function(r,o,u){if(u.length<fP){var f;return(f=this.values_).splice.apply(f,[r,o].concat(u))}else{var g=this.values_.slice(r,r+o),v=this.values_.slice(r+o);this.values_.length+=u.length-o;for(var y=0;y<u.length;y++)this.values_[r+y]=u[y];for(var A=0;A<v.length;A++)this.values_[r+u.length+A]=v[A];return g}},t.notifyArrayChildUpdate_=function(r,o,u){var f=!this.owned_&&jh(),g=ls(this),v=g||f?{observableKind:"array",object:this.proxy_,type:Zs,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:u}:null;this.atom_.reportChanged(),g&&us(this,v)},t.notifyArraySplice_=function(r,o,u){var f=!this.owned_&&jh(),g=ls(this),v=g||f?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:lT,index:r,removed:u,added:o,removedCount:u.length,addedCount:o.length}:null;this.atom_.reportChanged(),g&&us(this,v)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var u=this.values_;if(this.legacyMode_&&r>u.length&&Se(17,r,u.length),r<u.length){this.atom_;var f=u[r];if(Or(this)){var g=Pr(this,{type:Zs,object:this.proxy_,index:r,newValue:o});if(!g)return;o=g.newValue}o=this.enhancer_(o,f);var v=o!==f;v&&(u[r]=o,this.notifyArrayChildUpdate_(r,o,f))}else{for(var y=new Array(r+1-u.length),A=0;A<y.length-1;A++)y[A]=void 0;y[y.length-1]=o,this.spliceWithArray_(u.length,0,y)}},n})();function mP(n,t,e,r){return e===void 0&&(e="ObservableArray"),r===void 0&&(r=!1),VS(),rl(function(){var o=new jv(e,t,r,!1);US(o.values_,Zt,o);var u=new Proxy(o.values_,dP);return o.proxy_=u,n&&n.length&&o.spliceWithArray_(0,0,n),u})}var lm={clear:function(){return this.splice(0)},replace:function(t){var e=this[Zt];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var f=this[Zt];switch(arguments.length){case 0:return[];case 1:return f.spliceWithArray_(t);case 2:return f.spliceWithArray_(t,e)}return f.spliceWithArray_(t,e,o)},spliceWithArray:function(t,e,r){return this[Zt].spliceWithArray_(t,e,r)},push:function(){for(var t=this[Zt],e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Zt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Zt],e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return At.trackingDerivation&&Se(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){At.trackingDerivation&&Se(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[Zt],r=e.dehanceValues_(e.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Ge("at",ur);Ge("concat",ur);Ge("flat",ur);Ge("includes",ur);Ge("indexOf",ur);Ge("join",ur);Ge("lastIndexOf",ur);Ge("slice",ur);Ge("toString",ur);Ge("toLocaleString",ur);Ge("toSorted",ur);Ge("toSpliced",ur);Ge("with",ur);Ge("every",gs);Ge("filter",gs);Ge("find",gs);Ge("findIndex",gs);Ge("findLast",gs);Ge("findLastIndex",gs);Ge("flatMap",gs);Ge("forEach",gs);Ge("map",gs);Ge("some",gs);Ge("toReversed",gs);Ge("reduce",b1);Ge("reduceRight",b1);function Ge(n,t){typeof Array.prototype[n]=="function"&&(lm[n]=t(n))}function ur(n){return function(){var t=this[Zt];t.atom_.reportObserved();var e=t.dehanceValues_(t.values_);return e[n].apply(e,arguments)}}function gs(n){return function(t,e){var r=this,o=this[Zt];o.atom_.reportObserved();var u=o.dehanceValues_(o.values_);return u[n](function(f,g){return t.call(e,f,g,r)})}}function b1(n){return function(){var t=this,e=this[Zt];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_),o=arguments[0];return arguments[0]=function(u,f,g){return o(u,f,g,t)},r[n].apply(r,arguments)}}var pP=ru("ObservableArrayAdministration",jv);function Km(n){return Um(n)&&pP(n[Zt])}var gP={},Uo="add",um="delete",E1=(function(){function n(e,r,o){var u=this;r===void 0&&(r=Xl),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Zt]=gP,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,hs(Map)||Se(18),rl(function(){u.keysAtom_=GS("ObservableMap.keys()"),u.data_=new Map,u.hasMap_=new Map,e&&u.merge(e)})}var t=n.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!At.trackingDerivation)return this.has_(r);var u=this.hasMap_.get(r);if(!u){var f=u=new Kl(this.has_(r),Fm,"ObservableMap.key?",!1);this.hasMap_.set(r,f),m1(f,function(){return o.hasMap_.delete(r)})}return u.get()},t.set=function(r,o){var u=this.has_(r);if(Or(this)){var f=Pr(this,{type:u?Zs:Uo,object:this,newValue:o,name:r});if(!f)return this;o=f.newValue}return u?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,Or(this)){var u=Pr(this,{type:um,object:this,name:r});if(!u)return!1}if(this.has_(r)){var f=jh(),g=ls(this),v=g||f?{observableKind:"map",debugObjectName:this.name_,type:um,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Oa(function(){var y;o.keysAtom_.reportChanged(),(y=o.hasMap_.get(r))==null||y.setNewValue_(!1);var A=o.data_.get(r);A.setNewValue_(void 0),o.data_.delete(r)}),g&&us(this,v),!0}return!1},t.updateValue_=function(r,o){var u=this.data_.get(r);if(o=u.prepareNewValue_(o),o!==At.UNCHANGED){var f=jh(),g=ls(this),v=g||f?{observableKind:"map",debugObjectName:this.name_,type:Zs,object:this,oldValue:u.value_,name:r,newValue:o}:null;u.setNewValue_(o),g&&us(this,v)}},t.addValue_=function(r,o){var u=this;this.keysAtom_,Oa(function(){var y,A=new Kl(o,u.enhancer_,"ObservableMap.key",!1);u.data_.set(r,A),o=A.value_,(y=u.hasMap_.get(r))==null||y.setNewValue_(!0),u.keysAtom_.reportChanged()});var f=jh(),g=ls(this),v=g||f?{observableKind:"map",debugObjectName:this.name_,type:Uo,object:this,name:r,newValue:o}:null;g&&us(this,v)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return uT({next:function(){var f=o.next(),g=f.done,v=f.value;return{done:g,value:g?void 0:r.get(v)}}})},t.entries=function(){var r=this,o=this.keys();return uT({next:function(){var f=o.next(),g=f.done,v=f.value;return{done:g,value:g?void 0:[v,r.get(v)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var u=oc(this),f;!(f=u()).done;){var g=f.value,v=g[0],y=g[1];r.call(o,y,v,this)}},t.merge=function(r){var o=this;return au(r)&&(r=new Map(r)),Oa(function(){za(r)?BI(r).forEach(function(u){return o.set(u,r[u])}):Array.isArray(r)?r.forEach(function(u){var f=u[0],g=u[1];return o.set(f,g)}):Oc(r)?(zI(r)||Se(19,r),r.forEach(function(u,f){return o.set(f,u)})):r!=null&&Se(20,r)}),this},t.clear=function(){var r=this;Oa(function(){n1(function(){for(var o=oc(r.keys()),u;!(u=o()).done;){var f=u.value;r.delete(f)}})})},t.replace=function(r){var o=this;return Oa(function(){for(var u=_P(r),f=new Map,g=!1,v=oc(o.data_.keys()),y;!(y=v()).done;){var A=y.value;if(!u.has(A)){var C=o.delete(A);if(C)g=!0;else{var P=o.data_.get(A);f.set(A,P)}}}for(var M=oc(u.entries()),H;!(H=M()).done;){var K=H.value,Z=K[0],ft=K[1],Et=o.data_.has(Z);if(o.set(Z,ft),o.data_.has(Z)){var lt=o.data_.get(Z);f.set(Z,lt),Et||(g=!0)}}if(!g)if(o.data_.size!==f.size)o.keysAtom_.reportChanged();else for(var xt=o.data_.keys(),Lt=f.keys(),jt=xt.next(),j=Lt.next();!jt.done;){if(jt.value!==j.value){o.keysAtom_.reportChanged();break}jt=xt.next(),j=Lt.next()}o.data_=f}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return cf(this,r)},t.intercept_=function(r){return uf(this,r)},Pc(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),au=ru("ObservableMap",E1);function uT(n){return n[Symbol.toStringTag]="MapIterator",zv(n)}function _P(n){if(Oc(n)||au(n))return n;if(Array.isArray(n))return new Map(n);if(za(n)){var t=new Map;for(var e in n)t.set(e,n[e]);return t}else return Se(21,n)}var vP={},T1=(function(){function n(e,r,o){var u=this;r===void 0&&(r=Xl),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[Zt]=vP,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,hs(Set)||Se(22),this.enhancer_=function(f,g){return r(f,g,o)},rl(function(){u.atom_=GS(u.name_),e&&u.replace(e)})}var t=n.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Oa(function(){n1(function(){for(var o=oc(r.data_.values()),u;!(u=o()).done;){var f=u.value;r.delete(f)}})})},t.forEach=function(r,o){for(var u=oc(this),f;!(f=u()).done;){var g=f.value;r.call(o,g,g,this)}},t.add=function(r){var o=this;if(this.atom_,Or(this)){var u=Pr(this,{type:Uo,object:this,newValue:r});if(!u)return this;r=u.newValue}if(!this.has(r)){Oa(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var f=!1,g=ls(this),v=g||f?{observableKind:"set",debugObjectName:this.name_,type:Uo,object:this,newValue:r}:null;g&&us(this,v)}return this},t.delete=function(r){var o=this;if(Or(this)){var u=Pr(this,{type:um,object:this,oldValue:r});if(!u)return!1}if(this.has(r)){var f=!1,g=ls(this),v=g||f?{observableKind:"set",debugObjectName:this.name_,type:um,object:this,oldValue:r}:null;return Oa(function(){o.atom_.reportChanged(),o.data_.delete(r)}),g&&us(this,v),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return cT({next:function(){var u=r.next(),f=u.value,g=u.done;return g?{value:void 0,done:g}:{value:[f,f],done:g}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=this.data_.values();return cT({next:function(){var f=o.next(),g=f.value,v=f.done;return v?{value:void 0,done:v}:{value:r.dehanceValue_(g),done:v}}})},t.intersection=function(r){if(Ia(r)&&!Fs(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(Ia(r)&&!Fs(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Ia(r)&&!Fs(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Ia(r)&&!Fs(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return Fs(r)&&(r=new Set(r)),Oa(function(){Array.isArray(r)?(o.clear(),r.forEach(function(u){return o.add(u)})):Ia(r)?(o.clear(),r.forEach(function(u){return o.add(u)})):r!=null&&Se("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return cf(this,r)},t.intercept_=function(r){return uf(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Pc(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Fs=ru("ObservableSet",T1);function cT(n){return n[Symbol.toStringTag]="SetIterator",zv(n)}var hT=Object.create(null),fT="remove",w1=(function(){function n(e,r,o,u){r===void 0&&(r=new Map),u===void 0&&(u=gO),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=r,this.name_=o,this.defaultAnnotation_=u,this.keysAtom_=new il("ObservableObject.keys"),this.isPlainObject_=za(this.target_)}var t=n.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var u=this.values_.get(r);if(u instanceof fs)return u.set(o),!0;if(Or(this)){var f=Pr(this,{type:Zs,object:this.proxy_||this.target_,name:r,newValue:o});if(!f)return null;o=f.newValue}if(o=u.prepareNewValue_(o),o!==At.UNCHANGED){var g=ls(this),v=!1,y=g||v?{type:Zs,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:u.value_,name:r,newValue:o}:null;u.setNewValue_(o),g&&us(this,y)}return!0},t.get_=function(r){return At.trackingDerivation&&!Da(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,u){return u===void 0&&(u=!1),Da(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):u?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,u)},t.has_=function(r){if(!At.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new Kl(r in this.target_,Fm,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var u;if((u=this.target_[Hs])!=null&&u[r])return;Se(1,o.annotationType_,this.name_+"."+r.toString())}for(var f=this.target_;f&&f!==Bm;){var g=nm(f,r);if(g){var v=o.make_(this,r,g,f);if(v===0)return;if(v===1)break}f=Object.getPrototypeOf(f)}mT(this,o,r)}},t.extend_=function(r,o,u,f){if(f===void 0&&(f=!1),u===!0&&(u=this.defaultAnnotation_),u===!1)return this.defineProperty_(r,o,f);var g=u.extend_(this,r,o,f);return g&&mT(this,u,r),g},t.defineProperty_=function(r,o,u){u===void 0&&(u=!1),this.keysAtom_;try{Lr();var f=this.delete_(r);if(!f)return f;if(Or(this)){var g=Pr(this,{object:this.proxy_||this.target_,name:r,type:Uo,newValue:o.value});if(!g)return null;var v=g.newValue;o.value!==v&&(o=Ql({},o,{value:v}))}if(u){if(!Reflect.defineProperty(this.target_,r,o))return!1}else qs(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{Mr()}return!0},t.defineObservableProperty_=function(r,o,u,f){f===void 0&&(f=!1),this.keysAtom_;try{Lr();var g=this.delete_(r);if(!g)return g;if(Or(this)){var v=Pr(this,{object:this.proxy_||this.target_,name:r,type:Uo,newValue:o});if(!v)return null;o=v.newValue}var y=dT(r),A={configurable:At.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:y.get,set:y.set};if(f){if(!Reflect.defineProperty(this.target_,r,A))return!1}else qs(this.target_,r,A);var C=new Kl(o,u,"ObservableObject.key",!1);this.values_.set(r,C),this.notifyPropertyAddition_(r,C.value_)}finally{Mr()}return!0},t.defineComputedProperty_=function(r,o,u){u===void 0&&(u=!1),this.keysAtom_;try{Lr();var f=this.delete_(r);if(!f)return f;if(Or(this)){var g=Pr(this,{object:this.proxy_||this.target_,name:r,type:Uo,newValue:void 0});if(!g)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var v=dT(r),y={configurable:At.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:v.get,set:v.set};if(u){if(!Reflect.defineProperty(this.target_,r,y))return!1}else qs(this.target_,r,y);this.values_.set(r,new fs(o)),this.notifyPropertyAddition_(r,void 0)}finally{Mr()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!Da(this.target_,r))return!0;if(Or(this)){var u=Pr(this,{object:this.proxy_||this.target_,name:r,type:fT});if(!u)return null}try{var f;Lr();var g=ls(this),v=!1,y=this.values_.get(r),A=void 0;if(!y&&(g||v)){var C;A=(C=nm(this.target_,r))==null?void 0:C.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(y&&(this.values_.delete(r),y instanceof Kl&&(A=y.value_),l1(y)),this.keysAtom_.reportChanged(),(f=this.pendingKeys_)==null||(f=f.get(r))==null||f.set(r in this.target_),g||v){var P={type:fT,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:A,name:r};g&&us(this,P)}}finally{Mr()}return!0},t.observe_=function(r,o){return cf(this,r)},t.intercept_=function(r){return uf(this,r)},t.notifyPropertyAddition_=function(r,o){var u,f=ls(this),g=!1;if(f||g){var v=f||g?{type:Uo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;f&&us(this,v)}(u=this.pendingKeys_)==null||(u=u.get(r))==null||u.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),_c(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n})();function ou(n,t){var e;if(Da(n,Zt))return n;var r=(e=t==null?void 0:t.name)!=null?e:"ObservableObject",o=new w1(n,new Map,String(r),CO(t));return sf(n,Zt,o),n}var yP=ru("ObservableObjectAdministration",w1);function dT(n){return hT[n]||(hT[n]={get:function(){return this[Zt].getObservablePropValue_(n)},set:function(e){return this[Zt].setObservablePropValue_(n,e)}})}function Wm(n){return Um(n)?yP(n[Zt]):!1}function mT(n,t,e){var r;(r=n.target_[Hs])==null||delete r[e]}var bP=A1(0),EP=(function(){var n=!1,t={};return Object.defineProperty(t,"0",{set:function(){n=!0}}),Object.create(t)[0]=1,n===!1})(),f_=0,S1=function(){};function TP(n,t){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,t):n.prototype.__proto__!==void 0?n.prototype.__proto__=t:n.prototype=t}TP(S1,Array.prototype);var Vv=(function(n){function t(r,o,u,f){var g;return u===void 0&&(u="ObservableArray"),f===void 0&&(f=!1),g=n.call(this)||this,rl(function(){var v=new jv(u,o,f,!0);v.proxy_=g,US(g,Zt,v),r&&r.length&&g.spliceWithArray(0,0,r),EP&&Object.defineProperty(g,"0",bP)}),g}qS(t,n);var e=t.prototype;return e.concat=function(){this[Zt].atom_.reportObserved();for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];return Array.prototype.concat.apply(this.slice(),u.map(function(g){return Km(g)?g.slice():g}))},e[Symbol.iterator]=function(){var r=this,o=0;return zv({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Pc(t,[{key:"length",get:function(){return this[Zt].getArrayLength_()},set:function(o){this[Zt].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(S1);Object.entries(lm).forEach(function(n){var t=n[0],e=n[1];t!=="concat"&&sf(Vv.prototype,t,e)});function A1(n){return{enumerable:!1,configurable:!0,get:function(){return this[Zt].get_(n)},set:function(e){this[Zt].set_(n,e)}}}function wP(n){qs(Vv.prototype,""+n,A1(n))}function x1(n){if(n>f_){for(var t=f_;t<n+100;t++)wP(t);f_=n}}x1(1e3);function SP(n,t,e){return new Vv(n,t,e)}function cm(n,t){if(typeof n=="object"&&n!==null){if(Km(n))return t!==void 0&&Se(23),n[Zt].atom_;if(Fs(n))return n.atom_;if(au(n)){if(t===void 0)return n.keysAtom_;var e=n.data_.get(t)||n.hasMap_.get(t);return e||Se(25,t,Z_(n)),e}if(Wm(n)){if(!t)return Se(26);var r=n[Zt].values_.get(t);return r||Se(27,t,Z_(n)),r}if(Nv(n)||Gm(n)||om(n))return n}else if(hs(n)&&om(n[Zt]))return n[Zt];Se(28)}function AP(n,t){if(n||Se(29),Nv(n)||Gm(n)||om(n)||au(n)||Fs(n))return n;if(n[Zt])return n[Zt];Se(24,n)}function Z_(n,t){var e;if(t!==void 0)e=cm(n,t);else{if(vc(n))return n.name;Wm(n)||au(n)||Fs(n)?e=AP(n):e=cm(n)}return e.name_}function rl(n){var t=su(),e=Mv(!0);Lr();try{return n()}finally{Mr(),Dv(e),ka(t)}}var pT=Bm.toString;function C1(n,t,e){return e===void 0&&(e=-1),K_(n,t,e)}function K_(n,t,e,r,o){if(n===t)return n!==0||1/n===1/t;if(n==null||t==null)return!1;if(n!==n)return t!==t;var u=typeof n;if(u!=="function"&&u!=="object"&&typeof t!="object")return!1;var f=pT.call(n);if(f!==pT.call(t))return!1;switch(f){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:+n==0?1/+n===1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":e>=0&&e++;break}n=gT(n),t=gT(t);var g=f==="[object Array]";if(!g){if(typeof n!="object"||typeof t!="object")return!1;var v=n.constructor,y=t.constructor;if(v!==y&&!(hs(v)&&v instanceof v&&hs(y)&&y instanceof y)&&"constructor"in n&&"constructor"in t)return!1}if(e===0)return!1;e<0&&(e=-1),r=r||[],o=o||[];for(var A=r.length;A--;)if(r[A]===n)return o[A]===t;if(r.push(n),o.push(t),g){if(A=n.length,A!==t.length)return!1;for(;A--;)if(!K_(n[A],t[A],e-1,r,o))return!1}else{var C=Object.keys(n),P=C.length;if(Object.keys(t).length!==P)return!1;for(var M=0;M<P;M++){var H=C[M];if(!(Da(t,H)&&K_(n[H],t[H],e-1,r,o)))return!1}}return r.pop(),o.pop(),!0}function gT(n){return Km(n)?n.slice():Oc(n)||au(n)||Ia(n)||Fs(n)?Array.from(n.entries()):n}var _T,xP=((_T=zm().Iterator)==null?void 0:_T.prototype)||{};function zv(n){return n[Symbol.iterator]=CP,Object.assign(Object.create(xP),n)}function CP(){return this}["Symbol","Map","Set"].forEach(function(n){var t=zm();typeof t[n]>"u"&&Se("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:qO,extras:{getDebugName:Z_},$mobx:Zt});if(!Y.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!hP)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function RP(n){n()}function IP(n){n||(n=RP),iP({reactionScheduler:n})}function OP(n){return rP(n)}var PP=1e4,NP=1e4,LP=(function(){function n(t){var e=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=PP),clearTimeout(e.sweepTimeout),e.sweepTimeout=void 0;var o=Date.now();e.registrations.forEach(function(u,f){o-u.registeredAt>=r&&(e.finalize(u.value),e.registrations.delete(f))}),e.registrations.size>0&&e.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){e.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e,r){this.registrations.set(r,{value:e,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,NP))}}),n})(),MP=typeof FinalizationRegistry<"u"?FinalizationRegistry:LP,W_=new MP(function(n){var t;(t=n.reaction)===null||t===void 0||t.dispose(),n.reaction=null}),d_={exports:{}},m_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function DP(){if(vT)return m_;vT=1;var n=km();function t(C,P){return C===P&&(C!==0||1/C===1/P)||C!==C&&P!==P}var e=typeof Object.is=="function"?Object.is:t,r=n.useState,o=n.useEffect,u=n.useLayoutEffect,f=n.useDebugValue;function g(C,P){var M=P(),H=r({inst:{value:M,getSnapshot:P}}),K=H[0].inst,Z=H[1];return u(function(){K.value=M,K.getSnapshot=P,v(K)&&Z({inst:K})},[C,M,P]),o(function(){return v(K)&&Z({inst:K}),C(function(){v(K)&&Z({inst:K})})},[C]),f(M),M}function v(C){var P=C.getSnapshot;C=C.value;try{var M=P();return!e(C,M)}catch{return!0}}function y(C,P){return P()}var A=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:g;return m_.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:A,m_}var yT;function kP(){return yT||(yT=1,d_.exports=DP()),d_.exports}var jP=kP();function bT(n){n.reaction=new Ba("observer".concat(n.name),function(){var t;n.stateVersion=Symbol(),(t=n.onStoreChange)===null||t===void 0||t.call(n)})}function VP(n,t){t===void 0&&(t="observed");var e=Wo.useRef(null);if(!e.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(g){return W_.unregister(r),r.onStoreChange=g,r.reaction||(bT(r),r.stateVersion=Symbol()),function(){var v;r.onStoreChange=null,(v=r.reaction)===null||v===void 0||v.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};e.current=r}var o=e.current;o.reaction||(bT(o),W_.register(e,o,o)),Wo.useDebugValue(o.reaction,OP),jP.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var u,f;if(o.reaction.track(function(){try{u=n()}catch(g){f=g}}),f)throw f;return u}var p_,g_,R1=typeof Symbol=="function"&&Symbol.for,zP=(g_=(p_=Object.getOwnPropertyDescriptor(function(){},"name"))===null||p_===void 0?void 0:p_.configurable)!==null&&g_!==void 0?g_:!1,ET=R1?Symbol.for("react.forward_ref"):typeof Y.forwardRef=="function"&&Y.forwardRef(function(n){return null}).$$typeof,TT=R1?Symbol.for("react.memo"):typeof Y.memo=="function"&&Y.memo(function(n){return null}).$$typeof;function _s(n,t){var e;if(TT&&n.$$typeof===TT)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(e=void 0)!==null&&e!==void 0?e:!1,o=n,u=n.displayName||n.name;if(ET&&n.$$typeof===ET&&(r=!0,o=n.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var f=function(g,v){return VP(function(){return o(g,v)},u)};return f.displayName=n.displayName,zP&&Object.defineProperty(f,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(f.contextTypes=n.contextTypes),r&&(f=Y.forwardRef(f)),f=Y.memo(f),UP(n,f),f}var BP={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function UP(n,t){Object.keys(n).forEach(function(e){BP[e]||Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}var __;IP(DS.unstable_batchedUpdates);__=W_.finalizeAllImmediately;const FP=()=>{};var wT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128)}return t},HP=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[e++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[e++],f=n[e++],g=n[e++],v=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(v>>10)),t[r++]=String.fromCharCode(56320+(v&1023))}else{const u=n[e++],f=n[e++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},O1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const u=n[o],f=o+1<n.length,g=f?n[o+1]:0,v=o+2<n.length,y=v?n[o+2]:0,A=u>>2,C=(u&3)<<4|g>>4;let P=(g&15)<<2|y>>6,M=y&63;v||(M=64,f||(P=64)),r.push(e[A],e[C],e[P],e[M])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(I1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):HP(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const u=e[n.charAt(o++)],g=o<n.length?e[n.charAt(o)]:0;++o;const y=o<n.length?e[n.charAt(o)]:64;++o;const C=o<n.length?e[n.charAt(o)]:64;if(++o,u==null||g==null||y==null||C==null)throw new qP;const P=u<<2|g>>4;if(r.push(P),y!==64){const M=g<<4&240|y>>2;if(r.push(M),C!==64){const H=y<<6&192|C;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GP=function(n){const t=I1(n);return O1.encodeByteArray(t,!0)},hm=function(n){return GP(n).replace(/\./g,"")},P1=function(n){try{return O1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=()=>ZP().__FIREBASE_DEFAULTS__,WP=()=>{if(typeof process>"u"||typeof wT>"u")return;const n=wT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&P1(n[1]);return t&&JSON.parse(t)},Ym=()=>{try{return FP()||KP()||WP()||YP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},N1=n=>{var t,e;return(e=(t=Ym())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},QP=n=>{const t=N1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},L1=()=>{var n;return(n=Ym())==null?void 0:n.config},M1=n=>{var t;return(t=Ym())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[hm(JSON.stringify(e)),hm(JSON.stringify(f)),""].join(".")}const Vh={};function JP(){const n={prod:[],emulator:[]};for(const t of Object.keys(Vh))Vh[t]?n.emulator.push(t):n.prod.push(t);return n}function tN(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let ST=!1;function k1(n,t){if(typeof window>"u"||typeof document>"u"||!Nc(window.location.host)||Vh[n]===t||Vh[n]||ST)return;Vh[n]=t;function e(P){return`__firebase__banner__${P}`}const r="__firebase__banner",u=JP().prod.length>0;function f(){const P=document.getElementById(r);P&&P.remove()}function g(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function v(P,M){P.setAttribute("width","24"),P.setAttribute("id",M),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function y(){const P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{ST=!0,f()},P}function A(P,M){P.setAttribute("id",M),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function C(){const P=tN(r),M=e("text"),H=document.getElementById(M)||document.createElement("span"),K=e("learnmore"),Z=document.getElementById(K)||document.createElement("a"),ft=e("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){const lt=P.element;g(lt),A(Z,K);const xt=y();v(Et,ft),lt.append(Et,H,Z,xt),document.body.appendChild(lt)}u?(H.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oi())}function nN(){var t;const n=(t=Ym())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const n=oi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aN(){return!nN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V1(){try{return typeof indexedDB=="object"}catch{return!1}}function z1(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(e){t(e)}})}function oN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="FirebaseError";class vs extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=lN,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?uN(u,r):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new vs(o,g,r)}}function uN(n,t){return n.replace(cN,(e,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const cN=/\{\$([^}]+)}/g;function hN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Yo(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const u=n[o],f=t[o];if(AT(u)&&AT(f)){if(!Yo(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function AT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ih(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function Oh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function fN(n,t){const e=new dN(n,t);return e.subscribe.bind(e)}class dN{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let o;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");mN(t,["next","error","complete"])?o=t:o={next:t,error:e,complete:r},o.next===void 0&&(o.next=v_),o.error===void 0&&(o.error=v_),o.complete===void 0&&(o.complete=v_);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mN(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function v_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1e3,gN=2,_N=14400*1e3,vN=.5;function xT(n,t=pN,e=gN){const r=t*Math.pow(e,n),o=Math.round(vN*r*(Math.random()-.5)*2);return Math.min(_N,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(n){return n&&n._delegate?n._delegate:n}class ds{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new XP;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EN(t))try{this.getOrInitializeService({instanceIdentifier:Fl})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Fl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fl){return this.instances.has(t)}getOptions(t=Fl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(o)}return o}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bN(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Fl){return this.component?this.component.multipleInstances?t:Fl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bN(n){return n===Fl?void 0:n}function EN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new yN(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(me||(me={}));const wN={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},SN=me.INFO,AN={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},xN=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),o=AN[t];if(o)console[o](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Qm{constructor(t){this.name=t,this._logLevel=SN,this._logHandler=xN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in me))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...t),this._logHandler(this,me.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...t),this._logHandler(this,me.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,me.INFO,...t),this._logHandler(this,me.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,me.WARN,...t),this._logHandler(this,me.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...t),this._logHandler(this,me.ERROR,...t)}}const CN=(n,t)=>t.some(e=>n instanceof e);let CT,RT;function RN(){return CT||(CT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IN(){return RT||(RT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B1=new WeakMap,Y_=new WeakMap,U1=new WeakMap,y_=new WeakMap,Bv=new WeakMap;function ON(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{e(Ho(n.result)),o()},f=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&B1.set(e,n)}).catch(()=>{}),Bv.set(t,n),t}function PN(n){if(Y_.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{e(),o()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Y_.set(n,t)}let Q_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Y_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||U1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ho(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function NN(n){Q_=n(Q_)}function LN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(b_(this),t,...e);return U1.set(r,t.sort?t.sort():[t]),Ho(r)}:IN().includes(n)?function(...t){return n.apply(b_(this),t),Ho(B1.get(this))}:function(...t){return Ho(n.apply(b_(this),t))}}function MN(n){return typeof n=="function"?LN(n):(n instanceof IDBTransaction&&PN(n),CN(n,RN())?new Proxy(n,Q_):n)}function Ho(n){if(n instanceof IDBRequest)return ON(n);if(y_.has(n))return y_.get(n);const t=MN(n);return t!==n&&(y_.set(n,t),Bv.set(t,n)),t}const b_=n=>Bv.get(n);function F1(n,t,{blocked:e,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(n,t),g=Ho(f);return r&&f.addEventListener("upgradeneeded",v=>{r(Ho(f.result),v.oldVersion,v.newVersion,Ho(f.transaction),v)}),e&&f.addEventListener("blocked",v=>e(v.oldVersion,v.newVersion,v)),g.then(v=>{u&&v.addEventListener("close",()=>u()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const DN=["get","getKey","getAll","getAllKeys","count"],kN=["put","add","delete","clear"],E_=new Map;function IT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(E_.get(t))return E_.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=kN.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(o||DN.includes(e)))return;const u=async function(f,...g){const v=this.transaction(f,o?"readwrite":"readonly");let y=v.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[e](...g),o&&v.done]))[0]};return E_.set(t,u),u}NN(n=>({...n,get:(t,e,r)=>IT(t,e)||n.get(t,e,r),has:(t,e)=>!!IT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(VN(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function VN(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const X_="@firebase/app",OT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=new Qm("@firebase/app"),zN="@firebase/app-compat",BN="@firebase/analytics-compat",UN="@firebase/analytics",FN="@firebase/app-check-compat",HN="@firebase/app-check",qN="@firebase/auth",GN="@firebase/auth-compat",ZN="@firebase/database",KN="@firebase/data-connect",WN="@firebase/database-compat",YN="@firebase/functions",QN="@firebase/functions-compat",XN="@firebase/installations",$N="@firebase/installations-compat",JN="@firebase/messaging",tL="@firebase/messaging-compat",eL="@firebase/performance",nL="@firebase/performance-compat",iL="@firebase/remote-config",rL="@firebase/remote-config-compat",sL="@firebase/storage",aL="@firebase/storage-compat",oL="@firebase/firestore",lL="@firebase/ai",uL="@firebase/firestore-compat",cL="firebase",hL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="[DEFAULT]",fL={[X_]:"fire-core",[zN]:"fire-core-compat",[UN]:"fire-analytics",[BN]:"fire-analytics-compat",[HN]:"fire-app-check",[FN]:"fire-app-check-compat",[qN]:"fire-auth",[GN]:"fire-auth-compat",[ZN]:"fire-rtdb",[KN]:"fire-data-connect",[WN]:"fire-rtdb-compat",[YN]:"fire-fn",[QN]:"fire-fn-compat",[XN]:"fire-iid",[$N]:"fire-iid-compat",[JN]:"fire-fcm",[tL]:"fire-fcm-compat",[eL]:"fire-perf",[nL]:"fire-perf-compat",[iL]:"fire-rc",[rL]:"fire-rc-compat",[sL]:"fire-gcs",[aL]:"fire-gcs-compat",[oL]:"fire-fst",[uL]:"fire-fst-compat",[lL]:"fire-vertex","fire-js":"fire-js",[cL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new Map,dL=new Map,J_=new Map;function PT(n,t){try{n.container.addComponent(t)}catch(e){Ua.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Js(n){const t=n.name;if(J_.has(t))return Ua.debug(`There were multiple attempts to register component ${t}.`),!1;J_.set(t,n);for(const e of fm.values())PT(e,n);for(const e of dL.values())PT(e,n);return!0}function uu(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Vi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qo=new lu("app","Firebase",mL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=hL;function H1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:$_,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw qo.create("bad-app-name",{appName:String(o)});if(e||(e=L1()),!e)throw qo.create("no-options");const u=fm.get(o);if(u){if(Yo(e,u.options)&&Yo(r,u.config))return u;throw qo.create("duplicate-app",{appName:o})}const f=new TN(o);for(const v of J_.values())f.addComponent(v);const g=new pL(e,r,f);return fm.set(o,g),g}function Uv(n=$_){const t=fm.get(n);if(!t&&n===$_&&L1())return H1();if(!t)throw qo.create("no-app",{appName:n});return t}function kr(n,t,e){let r=fL[n]??n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ua.warn(f.join(" "));return}Js(new ds(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="firebase-heartbeat-database",_L=1,Kh="firebase-heartbeat-store";let T_=null;function q1(){return T_||(T_=F1(gL,_L,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Kh)}catch(e){console.warn(e)}}}}).catch(n=>{throw qo.create("idb-open",{originalErrorMessage:n.message})})),T_}async function vL(n){try{const e=(await q1()).transaction(Kh),r=await e.objectStore(Kh).get(G1(n));return await e.done,r}catch(t){if(t instanceof vs)Ua.warn(t.message);else{const e=qo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ua.warn(e.message)}}}async function NT(n,t){try{const r=(await q1()).transaction(Kh,"readwrite");await r.objectStore(Kh).put(t,G1(n)),await r.done}catch(e){if(e instanceof vs)Ua.warn(e.message);else{const r=qo.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ua.warn(r.message)}}}function G1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=1024,bL=30;class EL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new wL(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=LT();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>bL){const f=SL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ua.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=LT(),{heartbeatsToSend:r,unsentEntries:o}=TL(this._heartbeatsCache.heartbeats),u=hm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Ua.warn(e),""}}}function LT(){return new Date().toISOString().substring(0,10)}function TL(n,t=yL){const e=[];let r=n.slice();for(const o of n){const u=e.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),MT(e)>t){u.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),MT(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class wL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V1()?z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await vL(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return NT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return NT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function MT(n){return hm(JSON.stringify({version:2,heartbeats:n})).length}function SL(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(n){Js(new ds("platform-logger",t=>new jN(t),"PRIVATE")),Js(new ds("heartbeat",t=>new EL(t),"PRIVATE")),kr(X_,OT,n),kr(X_,OT,"esm2020"),kr("fire-js","")}AL("");function Z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xL=Z1,K1=new lu("auth","Firebase",Z1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new Qm("@firebase/auth");function CL(n,...t){dm.logLevel<=me.WARN&&dm.warn(`Auth (${Lc}): ${n}`,...t)}function qd(n,...t){dm.logLevel<=me.ERROR&&dm.error(`Auth (${Lc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(n,...t){throw Hv(n,...t)}function cs(n,...t){return Hv(n,...t)}function Fv(n,t,e){const r={...xL(),[t]:e};return new lu("auth","Firebase",r).create(t,{appName:n.name})}function Ks(n){return Fv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function RL(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&zr(n,"argument-error"),Fv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hv(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return K1.create(n,...t)}function Ht(n,t,...e){if(!n)throw Hv(t,...e)}function Na(n){const t="INTERNAL ASSERTION FAILED: "+n;throw qd(t),new Error(t)}function Fa(n,t){n||Na(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function IL(){return DT()==="http:"||DT()==="https:"}function DT(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IL()||j1()||"connection"in navigator)?navigator.onLine:!0}function PL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,e){this.shortDelay=t,this.longDelay=e,Fa(e>t,"Short delay should be less than long delay!"),this.isMobile=eN()||rN()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n,t){Fa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ML=new ff(3e4,6e4);function Za(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ka(n,t,e,r,o={}){return Y1(n,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const g=hf({key:n.config.apiKey,...f}).slice(1),v=await n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);const y={method:t,headers:v,...u};return iN()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Nc(n.emulatorConfig.host)&&(y.credentials="include"),W1.fetch()(await Q1(n,n.config.apiHost,e,g),y)})}async function Y1(n,t,e){n._canInitEmulator=!1;const r={...NL,...t};try{const o=new kL(n),u=await Promise.race([e(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ld(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(n,"credential-already-in-use",f);if(v==="EMAIL_EXISTS")throw Ld(n,"email-already-in-use",f);if(v==="USER_DISABLED")throw Ld(n,"user-disabled",f);const A=r[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Fv(n,A,y);zr(n,A)}}catch(o){if(o instanceof vs)throw o;zr(n,"network-request-failed",{message:String(o)})}}async function df(n,t,e,r,o={}){const u=await Ka(n,t,e,r,o);return"mfaPendingCredential"in u&&zr(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function Q1(n,t,e,r){const o=`${t}${e}?${r}`,u=n,f=u.config.emulator?qv(n.config,o):`${n.config.apiScheme}://${o}`;return LL.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function DL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),ML.get())})}}function Ld(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const o=cs(n,t,r);return o.customData._tokenResponse=e,o}function kT(n){return n!==void 0&&n.enterprise!==void 0}class jL{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return DL(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VL(n,t){return Ka(n,"GET","/v2/recaptchaConfig",Za(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(n,t){return Ka(n,"POST","/v1/accounts:delete",t)}async function mm(n,t){return Ka(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function BL(n,t=!1){const e=yn(n),r=await e.getIdToken(t),o=Gv(r);Ht(o&&o.exp&&o.auth_time&&o.iat,e.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:zh(w_(o.auth_time)),issuedAtTime:zh(w_(o.iat)),expirationTime:zh(w_(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function w_(n){return Number(n)*1e3}function Gv(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const o=P1(e);return o?JSON.parse(o):(qd("Failed to decode base64 JWT payload"),null)}catch(o){return qd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function jT(n){const t=Gv(n);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof vs&&UL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function UL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=zh(this.lastLoginAt),this.creationTime=zh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(n){var C;const t=n.auth,e=await n.getIdToken(),r=await Wh(n,mm(t,{idToken:e}));Ht(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const u=(C=o.providerUserInfo)!=null&&C.length?X1(o.providerUserInfo):[],f=qL(n.providerData,u),g=n.isAnonymous,v=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),y=g?v:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ev(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,A)}async function HL(n){const t=yn(n);await pm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qL(n,t){return[...n.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function X1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(n,t){const e=await Y1(n,{},async()=>{const r=hf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,f=await Q1(n,o,"/v1/token",`key=${u}`),g=await n._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:r};return n.emulatorConfig&&Nc(n.emulatorConfig.host)&&(v.credentials="include"),W1.fetch()(f,v)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function ZL(n,t){return Ka(n,"POST","/v2/accounts:revokeToken",Za(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):jT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const e=jT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:o,expiresIn:u}=await GL(t,e);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:o,expirationTime:u}=e,f=new uc;return r&&(Ht(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(Ht(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Ht(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new uc,this.toJSON())}_performRefresh(){return Na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(n,t){Ht(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class os{constructor({uid:t,auth:e,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new FL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ev(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Wh(this,this.stsTokenManager.getToken(this.auth,t));return Ht(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return BL(this,t)}reload(){return HL(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new os({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(Ks(this.auth));const t=await this.getIdToken();return await Wh(this,zL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,o=e.email??void 0,u=e.phoneNumber??void 0,f=e.photoURL??void 0,g=e.tenantId??void 0,v=e._redirectEventId??void 0,y=e.createdAt??void 0,A=e.lastLoginAt??void 0,{uid:C,emailVerified:P,isAnonymous:M,providerData:H,stsTokenManager:K}=e;Ht(C&&K,t,"internal-error");const Z=uc.fromJSON(this.name,K);Ht(typeof C=="string",t,"internal-error"),ko(r,t.name),ko(o,t.name),Ht(typeof P=="boolean",t,"internal-error"),Ht(typeof M=="boolean",t,"internal-error"),ko(u,t.name),ko(f,t.name),ko(g,t.name),ko(v,t.name),ko(y,t.name),ko(A,t.name);const ft=new os({uid:C,auth:t,email:o,emailVerified:P,displayName:r,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return H&&Array.isArray(H)&&(ft.providerData=H.map(Et=>({...Et}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,e,r=!1){const o=new uc;o.updateFromServerResponse(e);const u=new os({uid:e.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await pm(u),u}static async _fromGetAccountInfoResponse(t,e,r){const o=e.users[0];Ht(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?X1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new uc;g.updateFromIdToken(r);const v=new os({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ev(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(v,y),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;function La(n){Fa(n instanceof Function,"Expected a class definition");let t=VT.get(n);return t?(Fa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,VT.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}$1.type="NONE";const zT=$1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(n,t,e){return`firebase:${n}:${t}:${e}`}class cc{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Gd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gd("persistence",o.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await mm(this.auth,{idToken:t}).catch(()=>{});return e?os._fromGetAccountInfoResponse(this.auth,e,t):null}return os._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new cc(La(zT),t,r);const o=(await Promise.all(e.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||La(zT);const f=Gd(r,t.config.apiKey,t.name);let g=null;for(const y of e)try{const A=await y._get(f);if(A){let C;if(typeof A=="string"){const P=await mm(t,{idToken:A}).catch(()=>{});if(!P)break;C=await os._fromGetAccountInfoResponse(t,P,A)}else C=os._fromJSON(t,A);y!==u&&(g=C),u=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!v.length?new cc(u,t,r):(u=v[0],g&&await u._set(f,g.toJSON()),await Promise.all(e.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new cc(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rA(t))return"Blackberry";if(sA(t))return"Webos";if(tA(t))return"Safari";if((t.includes("chrome/")||eA(t))&&!t.includes("edge/"))return"Chrome";if(iA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function J1(n=oi()){return/firefox\//i.test(n)}function tA(n=oi()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eA(n=oi()){return/crios\//i.test(n)}function nA(n=oi()){return/iemobile/i.test(n)}function iA(n=oi()){return/android/i.test(n)}function rA(n=oi()){return/blackberry/i.test(n)}function sA(n=oi()){return/webos/i.test(n)}function Zv(n=oi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function KL(n=oi()){var t;return Zv(n)&&!!((t=window.navigator)!=null&&t.standalone)}function WL(){return sN()&&document.documentMode===10}function aA(n=oi()){return Zv(n)||iA(n)||sA(n)||rA(n)||/windows phone/i.test(n)||nA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(n,t=[]){let e;switch(n){case"Browser":e=BT(oi());break;case"Worker":e=`${BT(oi())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((f,g)=>{try{const v=t(u);f(v)}catch(v){g(v)}});r.onAbort=e,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const o of e)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(n,t={}){return Ka(n,"GET","/v2/passwordPolicy",Za(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=6;class $L{constructor(t){var r;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??XL,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),o&&(e.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(t,e,r,o){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UT(this),this.idTokenSubscription=new UT(this),this.beforeStateQueue=new YL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=La(e)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await cc.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await mm(this,{idToken:t}),r=await os._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Vi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=r==null?void 0:r._redirectEventId,v=await this.tryRedirectSignIn(t);(!f||f===g)&&(v!=null&&v.user)&&(r=v.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await pm(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vi(this.app))return Promise.reject(Ks(this));const e=t?yn(t):null;return e&&Ht(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(Ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vi(this.app)?Promise.reject(Ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(La(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QL(this),e=new $L(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new lu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZL(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&La(t)||this._popupRedirectResolver;Ht(e,this,"argument-error"),this.redirectPersistenceManager=await cc.create(this,[La(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,o){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const v=t.addObserver(e,r,o);return()=>{f=!0,v()}}else{const v=t.addObserver(e);return()=>{f=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&CL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ea(n){return yn(n)}class UT{constructor(t){this.auth=t,this.observer=null,this.addObserver=fN(e=>this.observer=e)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tM(n){Xm=n}function lA(n){return Xm.loadJS(n)}function eM(){return Xm.recaptchaEnterpriseScript}function nM(){return Xm.gapiScript}function iM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rM{constructor(){this.enterprise=new sM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class sM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const aM="recaptcha-enterprise",uA="NO_RECAPTCHA";class oM{constructor(t){this.type=aM,this.auth=ea(t)}async verify(t="verify",e=!1){async function r(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{VL(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(v=>{if(v.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new jL(v);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(v=>{g(v)})})}function o(u,f,g){const v=window.grecaptcha;kT(v)?v.enterprise.ready(()=>{v.enterprise.execute(u,{action:t}).then(y=>{f(y)}).catch(()=>{f(uA)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rM().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(g=>{if(!e&&kT(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let v=eM();v.length!==0&&(v+=g),lA(v).then(()=>{o(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function FT(n,t,e,r=!1,o=!1){const u=new oM(n);let f;if(o)f=uA;else try{f=await u.verify(e)}catch{f=await u.verify(e,!0)}const g={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const v=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:v,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const v=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function gm(n,t,e,r,o){var u;if((u=n._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await FT(n,t,e,e==="getOobCode");return r(n,f)}else return r(n,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await FT(n,t,e,e==="getOobCode");return r(n,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(n,t){const e=uu(n,"auth");if(e.isInitialized()){const o=e.getImmediate(),u=e.getOptions();if(Yo(u,t??{}))return o;zr(o,"already-initialized")}return e.initialize({options:t})}function uM(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(La);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function cM(n,t,e){const r=ea(n);Ht(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=cA(t),{host:f,port:g}=hM(t),v=g===null?"":`:${g}`,y={url:`${u}//${f}${v}/`},A=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ht(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ht(Yo(y,r.config.emulator)&&Yo(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Nc(f)?(D1(`${u}//${f}${v}`),k1("Auth",!0)):fM()}function cA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function hM(n){const t=cA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:HT(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:HT(f)}}}function HT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function fM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Na("not implemented")}_getIdTokenResponse(t){return Na("not implemented")}_linkToIdToken(t,e){return Na("not implemented")}_getReauthenticationResolver(t){return Na("not implemented")}}async function dM(n,t){return Ka(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(n,t){return df(n,"POST","/v1/accounts:signInWithPassword",Za(n,t))}async function pM(n,t){return Ka(n,"POST","/v1/accounts:sendOobCode",Za(n,t))}async function gM(n,t){return pM(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(n,t){return df(n,"POST","/v1/accounts:signInWithEmailLink",Za(n,t))}async function vM(n,t){return df(n,"POST","/v1/accounts:signInWithEmailLink",Za(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Kv{constructor(t,e,r,o=null){super("password",r),this._email=t,this._password=e,this._tenantId=o}static _fromEmailAndPassword(t,e){return new Yh(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Yh(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(t,e,"signInWithPassword",mM);case"emailLink":return _M(t,{email:this._email,oobCode:this._password});default:zr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gm(t,r,"signUpPassword",dM);case"emailLink":return vM(t,{idToken:e,email:this._email,oobCode:this._password});default:zr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(n,t){return df(n,"POST","/v1/accounts:signInWithIdp",Za(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="http://localhost";class Jl extends Kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Jl(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):zr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=e;if(!r||!o)return null;const f=new Jl(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return hc(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,hc(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,hc(t,e)}buildRequest(){const t={requestUri:yM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=hf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EM(n){const t=Ih(Oh(n)).link,e=t?Ih(Oh(t)).deep_link_id:null,r=Ih(Oh(n)).deep_link_id;return(r?Ih(Oh(r)).link:null)||r||e||t||n}class Wv{constructor(t){const e=Ih(Oh(t)),r=e.apiKey??null,o=e.oobCode??null,u=bM(e.mode??null);Ht(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=EM(t);try{return new Wv(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this.providerId=Mc.PROVIDER_ID}static credential(t,e){return Yh._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=Wv.parseLink(e);return Ht(r,"argument-error"),Yh._fromEmailAndCode(t,r.code,r.tenantId)}}Mc.PROVIDER_ID="password";Mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends Yv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends mf{constructor(){super("facebook.com")}static credential(t){return Jl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vo.credentialFromTaggedObject(t)}static credentialFromError(t){return Vo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vo.credential(t.oauthAccessToken)}catch{return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends mf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Jl._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Pa.credentialFromTaggedObject(t)}static credentialFromError(t){return Pa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Pa.credential(e,r)}catch{return null}}}Pa.GOOGLE_SIGN_IN_METHOD="google.com";Pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends mf{constructor(){super("github.com")}static credential(t){return Jl._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zo.credentialFromTaggedObject(t)}static credentialFromError(t){return zo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zo.credential(t.oauthAccessToken)}catch{return null}}}zo.GITHUB_SIGN_IN_METHOD="github.com";zo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends mf{constructor(){super("twitter.com")}static credential(t,e){return Jl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Bo.credentialFromTaggedObject(t)}static credentialFromError(t){return Bo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Bo.credential(e,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(n,t){return df(n,"POST","/v1/accounts:signUp",Za(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,o=!1){const u=await os._fromIdTokenResponse(t,r,o),f=qT(r);return new Ha({user:u,providerId:f,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const o=qT(r);return new Ha({user:t,providerId:o,_tokenResponse:r,operationType:e})}}function qT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(n){var o;if(Vi(n.app))return Promise.reject(Ks(n));const t=ea(n);if(await t._initializationPromise,(o=t.currentUser)!=null&&o.isAnonymous)return new Ha({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await hA(t,{returnSecureToken:!0}),r=await Ha._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends vs{constructor(t,e,r,o){super(e.code,e.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,o){return new _m(t,e,r,o)}}function fA(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(n,u,t,r):u})}async function wM(n,t,e=!1){const r=await Wh(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ha._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(n,t,e=!1){const{auth:r}=n;if(Vi(r.app))return Promise.reject(Ks(r));const o="reauthenticate";try{const u=await Wh(n,fA(r,o,t,n),e);Ht(u.idToken,r,"internal-error");const f=Gv(u.idToken);Ht(f,r,"internal-error");const{sub:g}=f;return Ht(n.uid===g,r,"user-mismatch"),Ha._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&zr(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(n,t,e=!1){if(Vi(n.app))return Promise.reject(Ks(n));const r="signIn",o=await fA(n,r,t),u=await Ha._fromIdTokenResponse(n,r,o);return e||await n._updateCurrentUser(u.user),u}async function AM(n,t){return dA(ea(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n){const t=ea(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function xM(n,t,e){const r=ea(n);await gm(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",gM)}async function CM(n,t,e){if(Vi(n.app))return Promise.reject(Ks(n));const r=ea(n),f=await gm(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hA).catch(v=>{throw v.code==="auth/password-does-not-meet-requirements"&&mA(n),v}),g=await Ha._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function RM(n,t,e){return Vi(n.app)?Promise.reject(Ks(n)):AM(yn(n),Mc.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&mA(n),r})}function IM(n,t,e,r){return yn(n).onIdTokenChanged(t,e,r)}function OM(n,t,e){return yn(n).beforeAuthStateChanged(t,e)}function PM(n,t,e,r){return yn(n).onAuthStateChanged(t,e,r)}function NM(n){return yn(n).signOut()}const vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(vm,"1"),this.storage.removeItem(vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=1e3,MM=10;class gA extends pA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),o=this.localCache[e];r!==o&&t(e,o,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,g,v)=>{this.notifyListeners(f,v)});return}const r=t.key;e?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!e&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);WL()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,MM):o()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},LM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}gA.type="LOCAL";const DM=gA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A extends pA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}_A.type="SESSION";const vA=_A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(o=>o.isListeningto(t));if(e)return e;const r=new $m(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:o,data:u}=e.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(f).map(async y=>y(e.origin,u)),v=await kM(g);e.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:v})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,v)=>{const y=Qv("",20);o.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(C){const P=C;if(P.data.eventId===y)switch(P.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(P.data.response);break;default:clearTimeout(A),clearTimeout(u),v(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:e},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(){return window}function VM(n){Ws().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof Ws().WorkerGlobalScope<"u"&&typeof Ws().importScripts=="function"}async function zM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BM(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function UM(){return yA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firebaseLocalStorageDb",FM=1,ym="firebaseLocalStorage",EA="fbase_key";class pf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Jm(n,t){return n.transaction([ym],t?"readwrite":"readonly").objectStore(ym)}function HM(){const n=indexedDB.deleteDatabase(bA);return new pf(n).toPromise()}function nv(){const n=indexedDB.open(bA,FM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ym,{keyPath:EA})}catch(o){e(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ym)?t(r):(r.close(),await HM(),t(await nv()))})})}async function GT(n,t,e){const r=Jm(n,!0).put({[EA]:t,value:e});return new pf(r).toPromise()}async function qM(n,t){const e=Jm(n,!1).get(t),r=await new pf(e).toPromise();return r===void 0?null:r.value}function ZT(n,t){const e=Jm(n,!0).delete(t);return new pf(e).toPromise()}const GM=800,ZM=3;class TA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nv(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>ZM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$m._getInstance(UM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await zM(),!this.activeServiceWorker)return;this.sender=new jM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||BM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nv();return await GT(t,vm,"1"),await ZT(t,vm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>GT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>qM(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>ZT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Jm(o,!1).getAll();return new pf(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),e.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),e.push(o));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TA.type="LOCAL";const KM=TA;new ff(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n,t){return t?La(t):(Ht(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Kv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return hc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return hc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return hc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function WM(n){return dA(n.auth,new Xv(n),n.bypassAuthState)}function YM(n){const{auth:t,user:e}=n;return Ht(e,t,"internal-error"),SM(e,new Xv(n),n.bypassAuthState)}async function QM(n){const{auth:t,user:e}=n;return Ht(e,t,"internal-error"),wM(e,new Xv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,e,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:o,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const v={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WM;case"linkViaPopup":case"linkViaRedirect":return QM;case"reauthViaPopup":case"reauthViaRedirect":return YM;default:zr(this.auth,"internal-error")}}resolve(t){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new ff(2e3,1e4);async function $M(n,t,e){if(Vi(n.app))return Promise.reject(cs(n,"operation-not-supported-in-this-environment"));const r=ea(n);RL(n,t,Yv);const o=wA(r,e);return new Hl(r,"signInViaPopup",t,o).executeNotNull()}class Hl extends SA{constructor(t,e,r,o,u){super(t,e,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Hl.currentPopupAction&&Hl.currentPopupAction.cancel(),Hl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){Fa(this.filter.length===1,"Popup operations only handle one event");const t=Qv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if((r=(e=this.authWindow)==null?void 0:e.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,XM.get())};t()}}Hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="pendingRedirect",Zd=new Map;class tD extends SA{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Zd.get(this.auth._key());if(!t){try{const r=await eD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Zd.set(this.auth._key(),t)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eD(n,t){const e=rD(t),r=iD(n);if(!await r._isAvailable())return!1;const o=await r._get(e)==="true";return await r._remove(e),o}function nD(n,t){Zd.set(n._key(),t)}function iD(n){return La(n._redirectPersistence)}function rD(n){return Gd(JM,n.config.apiKey,n.name)}async function sD(n,t,e=!1){if(Vi(n.app))return Promise.reject(Ks(n));const r=ea(n),o=wA(r,t),f=await new tD(r,o,e).execute();return f&&!e&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=600*1e3;class oD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!AA(t)){const o=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";e.onError(cs(this.auth,o))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=aD&&this.cachedEventUids.clear(),this.cachedEventUids.has(KT(t))}saveEventToCache(t){this.cachedEventUids.add(KT(t)),this.lastProcessedEventTime=Date.now()}}function KT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function AA({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(n,t={}){return Ka(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hD=/^https?/;async function fD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await uD(n);for(const e of t)try{if(dD(e))return}catch{}zr(n,"unauthorized-domain")}function dD(n){const t=tv(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===r}if(!hD.test(e))return!1;if(cD.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=new ff(3e4,6e4);function WT(){const n=Ws().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function pD(n){return new Promise((t,e)=>{var o,u,f;function r(){WT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{WT(),e(cs(n,"network-request-failed"))},timeout:mD.get()})}if((u=(o=Ws().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=Ws().gapi)!=null&&f.load)r();else{const g=iM("iframefcb");return Ws()[g]=()=>{gapi.load?r():e(cs(n,"network-request-failed"))},lA(`${nM()}?onload=${g}`).catch(v=>e(v))}}).catch(t=>{throw Kd=null,t})}let Kd=null;function gD(n){return Kd=Kd||pD(n),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=new ff(5e3,15e3),vD="__/auth/iframe",yD="emulator/auth/iframe",bD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ED=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TD(n){const t=n.config;Ht(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?qv(t,yD):`https://${n.config.authDomain}/${vD}`,r={apiKey:t.apiKey,appName:n.name,v:Lc},o=ED.get(n.config.apiHost);o&&(r.eid=o);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${hf(r).slice(1)}`}async function wD(n){const t=await gD(n),e=Ws().gapi;return Ht(e,n,"internal-error"),t.open({where:document.body,url:TD(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bD,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=cs(n,"network-request-failed"),g=Ws().setTimeout(()=>{u(f)},_D.get());function v(){Ws().clearTimeout(g),o(r)}r.ping(v).then(v,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AD=500,xD=600,CD="_blank",RD="http://localhost";class YT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ID(n,t,e,r=AD,o=xD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const v={...SD,width:r.toString(),height:o.toString(),top:u,left:f},y=oi().toLowerCase();e&&(g=eA(y)?CD:e),J1(y)&&(t=t||RD,v.scrollbars="yes");const A=Object.entries(v).reduce((P,[M,H])=>`${P}${M}=${H},`,"");if(KL(y)&&g!=="_self")return OD(t||"",g),new YT(null);const C=window.open(t||"",g,A);Ht(C,n,"popup-blocked");try{C.focus()}catch{}return new YT(C)}function OD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="__/auth/handler",ND="emulator/auth/handler",LD=encodeURIComponent("fac");async function QT(n,t,e,r,o,u){Ht(n.config.authDomain,n,"auth-domain-config-required"),Ht(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Lc,eventId:o};if(t instanceof Yv){t.setDefaultLanguage(n.languageCode),f.providerId=t.providerId||"",hN(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))f[A]=C}if(t instanceof mf){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(f.scopes=A.join(","))}n.tenantId&&(f.tid=n.tenantId);const g=f;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const v=await n._getAppCheckToken(),y=v?`#${LD}=${encodeURIComponent(v)}`:"";return`${MD(n)}?${hf(g).slice(1)}${y}`}function MD({config:n}){return n.emulator?qv(n,ND):`https://${n.authDomain}/${PD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="webStorageSupport";class DD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vA,this._completeRedirectFn=sD,this._overrideRedirectResult=nD}async _openPopup(t,e,r,o){var f;Fa((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await QT(t,e,r,tv(),o);return ID(t,u,Qv())}async _openRedirect(t,e,r,o){await this._originValidation(t);const u=await QT(t,e,r,tv(),o);return VM(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:o,promise:u}=this.eventManagers[e];return o?Promise.resolve(o):(Fa(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await wD(t),r=new oD(t);return e.register("authEvent",o=>(Ht(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(S_,{type:S_},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[S_];u!==void 0&&e(!!u),zr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=fD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return aA()||tA()||Zv()}}const kD=DD;var XT="@firebase/auth",$T="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zD(n){Js(new ds("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Ht(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const v={apiKey:f,authDomain:g,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oA(n)},y=new JL(r,o,u,v);return uM(y,e),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Js(new ds("auth-internal",t=>{const e=ea(t.getProvider("auth").getImmediate());return(r=>new jD(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(XT,$T,VD(n)),kr(XT,$T,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=300,UD=M1("authIdTokenMaxAge")||BD;let JT=null;const FD=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>UD)return;const o=e==null?void 0:e.token;JT!==o&&(JT=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HD(n=Uv()){const t=uu(n,"auth");if(t.isInitialized())return t.getImmediate();const e=lM(n,{popupRedirectResolver:kD,persistence:[KM,DM,vA]}),r=M1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=FD(u.toString());OM(e,f,()=>f(e.currentUser)),IM(e,g=>f(g))}}const o=N1("auth");return o&&cM(e,`http://${o}`),e}function qD(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}tM({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=o=>{const u=cs("internal-error");u.customData=o,e(u)},r.type="text/javascript",r.charset="UTF-8",qD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zD("Browser");var tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Go,xA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(j,D){function V(){}V.prototype=D.prototype,j.F=D.prototype,j.prototype=new V,j.prototype.constructor=j,j.D=function(G,U,W){for(var z=Array(arguments.length-2),se=2;se<arguments.length;se++)z[se-2]=arguments[se];return D.prototype[U].apply(G,z)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,D,V){V||(V=0);const G=Array(16);if(typeof D=="string")for(var U=0;U<16;++U)G[U]=D.charCodeAt(V++)|D.charCodeAt(V++)<<8|D.charCodeAt(V++)<<16|D.charCodeAt(V++)<<24;else for(U=0;U<16;++U)G[U]=D[V++]|D[V++]<<8|D[V++]<<16|D[V++]<<24;D=j.g[0],V=j.g[1],U=j.g[2];let W=j.g[3],z;z=D+(W^V&(U^W))+G[0]+3614090360&4294967295,D=V+(z<<7&4294967295|z>>>25),z=W+(U^D&(V^U))+G[1]+3905402710&4294967295,W=D+(z<<12&4294967295|z>>>20),z=U+(V^W&(D^V))+G[2]+606105819&4294967295,U=W+(z<<17&4294967295|z>>>15),z=V+(D^U&(W^D))+G[3]+3250441966&4294967295,V=U+(z<<22&4294967295|z>>>10),z=D+(W^V&(U^W))+G[4]+4118548399&4294967295,D=V+(z<<7&4294967295|z>>>25),z=W+(U^D&(V^U))+G[5]+1200080426&4294967295,W=D+(z<<12&4294967295|z>>>20),z=U+(V^W&(D^V))+G[6]+2821735955&4294967295,U=W+(z<<17&4294967295|z>>>15),z=V+(D^U&(W^D))+G[7]+4249261313&4294967295,V=U+(z<<22&4294967295|z>>>10),z=D+(W^V&(U^W))+G[8]+1770035416&4294967295,D=V+(z<<7&4294967295|z>>>25),z=W+(U^D&(V^U))+G[9]+2336552879&4294967295,W=D+(z<<12&4294967295|z>>>20),z=U+(V^W&(D^V))+G[10]+4294925233&4294967295,U=W+(z<<17&4294967295|z>>>15),z=V+(D^U&(W^D))+G[11]+2304563134&4294967295,V=U+(z<<22&4294967295|z>>>10),z=D+(W^V&(U^W))+G[12]+1804603682&4294967295,D=V+(z<<7&4294967295|z>>>25),z=W+(U^D&(V^U))+G[13]+4254626195&4294967295,W=D+(z<<12&4294967295|z>>>20),z=U+(V^W&(D^V))+G[14]+2792965006&4294967295,U=W+(z<<17&4294967295|z>>>15),z=V+(D^U&(W^D))+G[15]+1236535329&4294967295,V=U+(z<<22&4294967295|z>>>10),z=D+(U^W&(V^U))+G[1]+4129170786&4294967295,D=V+(z<<5&4294967295|z>>>27),z=W+(V^U&(D^V))+G[6]+3225465664&4294967295,W=D+(z<<9&4294967295|z>>>23),z=U+(D^V&(W^D))+G[11]+643717713&4294967295,U=W+(z<<14&4294967295|z>>>18),z=V+(W^D&(U^W))+G[0]+3921069994&4294967295,V=U+(z<<20&4294967295|z>>>12),z=D+(U^W&(V^U))+G[5]+3593408605&4294967295,D=V+(z<<5&4294967295|z>>>27),z=W+(V^U&(D^V))+G[10]+38016083&4294967295,W=D+(z<<9&4294967295|z>>>23),z=U+(D^V&(W^D))+G[15]+3634488961&4294967295,U=W+(z<<14&4294967295|z>>>18),z=V+(W^D&(U^W))+G[4]+3889429448&4294967295,V=U+(z<<20&4294967295|z>>>12),z=D+(U^W&(V^U))+G[9]+568446438&4294967295,D=V+(z<<5&4294967295|z>>>27),z=W+(V^U&(D^V))+G[14]+3275163606&4294967295,W=D+(z<<9&4294967295|z>>>23),z=U+(D^V&(W^D))+G[3]+4107603335&4294967295,U=W+(z<<14&4294967295|z>>>18),z=V+(W^D&(U^W))+G[8]+1163531501&4294967295,V=U+(z<<20&4294967295|z>>>12),z=D+(U^W&(V^U))+G[13]+2850285829&4294967295,D=V+(z<<5&4294967295|z>>>27),z=W+(V^U&(D^V))+G[2]+4243563512&4294967295,W=D+(z<<9&4294967295|z>>>23),z=U+(D^V&(W^D))+G[7]+1735328473&4294967295,U=W+(z<<14&4294967295|z>>>18),z=V+(W^D&(U^W))+G[12]+2368359562&4294967295,V=U+(z<<20&4294967295|z>>>12),z=D+(V^U^W)+G[5]+4294588738&4294967295,D=V+(z<<4&4294967295|z>>>28),z=W+(D^V^U)+G[8]+2272392833&4294967295,W=D+(z<<11&4294967295|z>>>21),z=U+(W^D^V)+G[11]+1839030562&4294967295,U=W+(z<<16&4294967295|z>>>16),z=V+(U^W^D)+G[14]+4259657740&4294967295,V=U+(z<<23&4294967295|z>>>9),z=D+(V^U^W)+G[1]+2763975236&4294967295,D=V+(z<<4&4294967295|z>>>28),z=W+(D^V^U)+G[4]+1272893353&4294967295,W=D+(z<<11&4294967295|z>>>21),z=U+(W^D^V)+G[7]+4139469664&4294967295,U=W+(z<<16&4294967295|z>>>16),z=V+(U^W^D)+G[10]+3200236656&4294967295,V=U+(z<<23&4294967295|z>>>9),z=D+(V^U^W)+G[13]+681279174&4294967295,D=V+(z<<4&4294967295|z>>>28),z=W+(D^V^U)+G[0]+3936430074&4294967295,W=D+(z<<11&4294967295|z>>>21),z=U+(W^D^V)+G[3]+3572445317&4294967295,U=W+(z<<16&4294967295|z>>>16),z=V+(U^W^D)+G[6]+76029189&4294967295,V=U+(z<<23&4294967295|z>>>9),z=D+(V^U^W)+G[9]+3654602809&4294967295,D=V+(z<<4&4294967295|z>>>28),z=W+(D^V^U)+G[12]+3873151461&4294967295,W=D+(z<<11&4294967295|z>>>21),z=U+(W^D^V)+G[15]+530742520&4294967295,U=W+(z<<16&4294967295|z>>>16),z=V+(U^W^D)+G[2]+3299628645&4294967295,V=U+(z<<23&4294967295|z>>>9),z=D+(U^(V|~W))+G[0]+4096336452&4294967295,D=V+(z<<6&4294967295|z>>>26),z=W+(V^(D|~U))+G[7]+1126891415&4294967295,W=D+(z<<10&4294967295|z>>>22),z=U+(D^(W|~V))+G[14]+2878612391&4294967295,U=W+(z<<15&4294967295|z>>>17),z=V+(W^(U|~D))+G[5]+4237533241&4294967295,V=U+(z<<21&4294967295|z>>>11),z=D+(U^(V|~W))+G[12]+1700485571&4294967295,D=V+(z<<6&4294967295|z>>>26),z=W+(V^(D|~U))+G[3]+2399980690&4294967295,W=D+(z<<10&4294967295|z>>>22),z=U+(D^(W|~V))+G[10]+4293915773&4294967295,U=W+(z<<15&4294967295|z>>>17),z=V+(W^(U|~D))+G[1]+2240044497&4294967295,V=U+(z<<21&4294967295|z>>>11),z=D+(U^(V|~W))+G[8]+1873313359&4294967295,D=V+(z<<6&4294967295|z>>>26),z=W+(V^(D|~U))+G[15]+4264355552&4294967295,W=D+(z<<10&4294967295|z>>>22),z=U+(D^(W|~V))+G[6]+2734768916&4294967295,U=W+(z<<15&4294967295|z>>>17),z=V+(W^(U|~D))+G[13]+1309151649&4294967295,V=U+(z<<21&4294967295|z>>>11),z=D+(U^(V|~W))+G[4]+4149444226&4294967295,D=V+(z<<6&4294967295|z>>>26),z=W+(V^(D|~U))+G[11]+3174756917&4294967295,W=D+(z<<10&4294967295|z>>>22),z=U+(D^(W|~V))+G[2]+718787259&4294967295,U=W+(z<<15&4294967295|z>>>17),z=V+(W^(U|~D))+G[9]+3951481745&4294967295,j.g[0]=j.g[0]+D&4294967295,j.g[1]=j.g[1]+(U+(z<<21&4294967295|z>>>11))&4294967295,j.g[2]=j.g[2]+U&4294967295,j.g[3]=j.g[3]+W&4294967295}r.prototype.v=function(j,D){D===void 0&&(D=j.length);const V=D-this.blockSize,G=this.C;let U=this.h,W=0;for(;W<D;){if(U==0)for(;W<=V;)o(this,j,W),W+=this.blockSize;if(typeof j=="string"){for(;W<D;)if(G[U++]=j.charCodeAt(W++),U==this.blockSize){o(this,G),U=0;break}}else for(;W<D;)if(G[U++]=j[W++],U==this.blockSize){o(this,G),U=0;break}}this.h=U,this.o+=D},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var D=1;D<j.length-8;++D)j[D]=0;D=this.o*8;for(var V=j.length-8;V<j.length;++V)j[V]=D&255,D/=256;for(this.v(j),j=Array(16),D=0,V=0;V<4;++V)for(let G=0;G<32;G+=8)j[D++]=this.g[V]>>>G&255;return j};function u(j,D){var V=g;return Object.prototype.hasOwnProperty.call(V,j)?V[j]:V[j]=D(j)}function f(j,D){this.h=D;const V=[];let G=!0;for(let U=j.length-1;U>=0;U--){const W=j[U]|0;G&&W==D||(V[U]=W,G=!1)}this.g=V}var g={};function v(j){return-128<=j&&j<128?u(j,function(D){return new f([D|0],D<0?-1:0)}):new f([j|0],j<0?-1:0)}function y(j){if(isNaN(j)||!isFinite(j))return C;if(j<0)return Z(y(-j));const D=[];let V=1;for(let G=0;j>=V;G++)D[G]=j/V|0,V*=4294967296;return new f(D,0)}function A(j,D){if(j.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(j.charAt(0)=="-")return Z(A(j.substring(1),D));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=y(Math.pow(D,8));let G=C;for(let W=0;W<j.length;W+=8){var U=Math.min(8,j.length-W);const z=parseInt(j.substring(W,W+U),D);U<8?(U=y(Math.pow(D,U)),G=G.j(U).add(y(z))):(G=G.j(V),G=G.add(y(z)))}return G}var C=v(0),P=v(1),M=v(16777216);n=f.prototype,n.m=function(){if(K(this))return-Z(this).m();let j=0,D=1;for(let V=0;V<this.g.length;V++){const G=this.i(V);j+=(G>=0?G:4294967296+G)*D,D*=4294967296}return j},n.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(H(this))return"0";if(K(this))return"-"+Z(this).toString(j);const D=y(Math.pow(j,6));var V=this;let G="";for(;;){const U=xt(V,D).g;V=ft(V,U.j(D));let W=((V.g.length>0?V.g[0]:V.h)>>>0).toString(j);if(V=U,H(V))return W+G;for(;W.length<6;)W="0"+W;G=W+G}},n.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function H(j){if(j.h!=0)return!1;for(let D=0;D<j.g.length;D++)if(j.g[D]!=0)return!1;return!0}function K(j){return j.h==-1}n.l=function(j){return j=ft(this,j),K(j)?-1:H(j)?0:1};function Z(j){const D=j.g.length,V=[];for(let G=0;G<D;G++)V[G]=~j.g[G];return new f(V,~j.h).add(P)}n.abs=function(){return K(this)?Z(this):this},n.add=function(j){const D=Math.max(this.g.length,j.g.length),V=[];let G=0;for(let U=0;U<=D;U++){let W=G+(this.i(U)&65535)+(j.i(U)&65535),z=(W>>>16)+(this.i(U)>>>16)+(j.i(U)>>>16);G=z>>>16,W&=65535,z&=65535,V[U]=z<<16|W}return new f(V,V[V.length-1]&-2147483648?-1:0)};function ft(j,D){return j.add(Z(D))}n.j=function(j){if(H(this)||H(j))return C;if(K(this))return K(j)?Z(this).j(Z(j)):Z(Z(this).j(j));if(K(j))return Z(this.j(Z(j)));if(this.l(M)<0&&j.l(M)<0)return y(this.m()*j.m());const D=this.g.length+j.g.length,V=[];for(var G=0;G<2*D;G++)V[G]=0;for(G=0;G<this.g.length;G++)for(let U=0;U<j.g.length;U++){const W=this.i(G)>>>16,z=this.i(G)&65535,se=j.i(U)>>>16,Ze=j.i(U)&65535;V[2*G+2*U]+=z*Ze,Et(V,2*G+2*U),V[2*G+2*U+1]+=W*Ze,Et(V,2*G+2*U+1),V[2*G+2*U+1]+=z*se,Et(V,2*G+2*U+1),V[2*G+2*U+2]+=W*se,Et(V,2*G+2*U+2)}for(j=0;j<D;j++)V[j]=V[2*j+1]<<16|V[2*j];for(j=D;j<2*D;j++)V[j]=0;return new f(V,0)};function Et(j,D){for(;(j[D]&65535)!=j[D];)j[D+1]+=j[D]>>>16,j[D]&=65535,D++}function lt(j,D){this.g=j,this.h=D}function xt(j,D){if(H(D))throw Error("division by zero");if(H(j))return new lt(C,C);if(K(j))return D=xt(Z(j),D),new lt(Z(D.g),Z(D.h));if(K(D))return D=xt(j,Z(D)),new lt(Z(D.g),D.h);if(j.g.length>30){if(K(j)||K(D))throw Error("slowDivide_ only works with positive integers.");for(var V=P,G=D;G.l(j)<=0;)V=Lt(V),G=Lt(G);var U=jt(V,1),W=jt(G,1);for(G=jt(G,2),V=jt(V,2);!H(G);){var z=W.add(G);z.l(j)<=0&&(U=U.add(V),W=z),G=jt(G,1),V=jt(V,1)}return D=ft(j,U.j(D)),new lt(U,D)}for(U=C;j.l(D)>=0;){for(V=Math.max(1,Math.floor(j.m()/D.m())),G=Math.ceil(Math.log(V)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),W=y(V),z=W.j(D);K(z)||z.l(j)>0;)V-=G,W=y(V),z=W.j(D);H(W)&&(W=P),U=U.add(W),j=ft(j,z)}return new lt(U,j)}n.B=function(j){return xt(this,j).h},n.and=function(j){const D=Math.max(this.g.length,j.g.length),V=[];for(let G=0;G<D;G++)V[G]=this.i(G)&j.i(G);return new f(V,this.h&j.h)},n.or=function(j){const D=Math.max(this.g.length,j.g.length),V=[];for(let G=0;G<D;G++)V[G]=this.i(G)|j.i(G);return new f(V,this.h|j.h)},n.xor=function(j){const D=Math.max(this.g.length,j.g.length),V=[];for(let G=0;G<D;G++)V[G]=this.i(G)^j.i(G);return new f(V,this.h^j.h)};function Lt(j){const D=j.g.length+1,V=[];for(let G=0;G<D;G++)V[G]=j.i(G)<<1|j.i(G-1)>>>31;return new f(V,j.h)}function jt(j,D){const V=D>>5;D%=32;const G=j.g.length-V,U=[];for(let W=0;W<G;W++)U[W]=D>0?j.i(W+V)>>>D|j.i(W+V+1)<<32-D:j.i(W+V);return new f(U,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xA=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=A,Go=f}).apply(typeof tw<"u"?tw:typeof self<"u"?self:typeof window<"u"?window:{});var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CA,Ph,RA,Wd,iv,IA,OA,PA;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Md=="object"&&Md];for(var T=0;T<d.length;++T){var x=d[T];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=e(this);function o(d,T){if(T)t:{var x=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var J=d[N];if(!(J in x))break t;x=x[J]}d=d[d.length-1],N=x[d],T=T(N),T!=N&&T!=null&&t(x,d,{configurable:!0,writable:!0,value:T})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(T){var x=[],N;for(N in T)Object.prototype.hasOwnProperty.call(T,N)&&x.push([N,T[N]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function v(d,T,x){return d.call.apply(d.bind,arguments)}function y(d,T,x){return y=v,y.apply(null,arguments)}function A(d,T){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function C(d,T){function x(){}x.prototype=T.prototype,d.Z=T.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(N,J,rt){for(var Tt=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)Tt[Gt-2]=arguments[Gt];return T.prototype[J].apply(N,Tt)}}var P=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function M(d){const T=d.length;if(T>0){const x=Array(T);for(let N=0;N<T;N++)x[N]=d[N];return x}return[]}function H(d,T){for(let N=1;N<arguments.length;N++){const J=arguments[N];var x=typeof J;if(x=x!="object"?x:J?Array.isArray(J)?"array":x:"null",x=="array"||x=="object"&&typeof J.length=="number"){x=d.length||0;const rt=J.length||0;d.length=x+rt;for(let Tt=0;Tt<rt;Tt++)d[x+Tt]=J[Tt]}else d.push(J)}}class K{constructor(T,x){this.i=T,this.j=x,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function Z(d){f.setTimeout(()=>{throw d},0)}function ft(){var d=j;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class Et{constructor(){this.h=this.g=null}add(T,x){const N=lt.get();N.set(T,x),this.h?this.h.next=N:this.g=N,this.h=N}}var lt=new K(()=>new xt,d=>d.reset());class xt{constructor(){this.next=this.g=this.h=null}set(T,x){this.h=T,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Lt,jt=!1,j=new Et,D=()=>{const d=Promise.resolve(void 0);Lt=()=>{d.then(V)}};function V(){for(var d;d=ft();){try{d.h.call(d.g)}catch(x){Z(x)}var T=lt;T.j(d),T.h<100&&(T.h++,d.next=T.g,T.g=d)}jt=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var W=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};f.addEventListener("test",x,T),f.removeEventListener("test",x,T)}catch{}return d})();function z(d){return/^[\s\xa0]*$/.test(d)}function se(d,T){U.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,T)}C(se,U),se.prototype.init=function(d,T){const x=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget,T||(x=="mouseover"?T=d.fromElement:x=="mouseout"&&(T=d.toElement)),this.relatedTarget=T,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),st=0;function wt(d,T,x,N,J){this.listener=d,this.proxy=null,this.src=T,this.type=x,this.capture=!!N,this.ha=J,this.key=++st,this.da=this.fa=!1}function yt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ie(d,T,x){for(const N in d)T.call(x,d[N],N,d)}function F(d,T){for(const x in d)T.call(void 0,d[x],x,d)}function R(d){const T={};for(const x in d)T[x]=d[x];return T}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(d,T){let x,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(x in N)d[x]=N[x];for(let rt=0;rt<Q.length;rt++)x=Q[rt],Object.prototype.hasOwnProperty.call(N,x)&&(d[x]=N[x])}}function ut(d){this.src=d,this.g={},this.h=0}ut.prototype.add=function(d,T,x,N,J){const rt=d.toString();d=this.g[rt],d||(d=this.g[rt]=[],this.h++);const Tt=_t(d,T,N,J);return Tt>-1?(T=d[Tt],x||(T.fa=!1)):(T=new wt(T,this.src,rt,!!N,J),T.fa=x,d.push(T)),T};function gt(d,T){const x=T.type;if(x in d.g){var N=d.g[x],J=Array.prototype.indexOf.call(N,T,void 0),rt;(rt=J>=0)&&Array.prototype.splice.call(N,J,1),rt&&(yt(T),d.g[x].length==0&&(delete d.g[x],d.h--))}}function _t(d,T,x,N){for(let J=0;J<d.length;++J){const rt=d[J];if(!rt.da&&rt.listener==T&&rt.capture==!!x&&rt.ha==N)return J}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),Pt={};function Bt(d,T,x,N,J){if(Array.isArray(T)){for(let rt=0;rt<T.length;rt++)Bt(d,T[rt],x,N,J);return null}return x=bn(x),d&&d[Ze]?d.J(T,x,g(N)?!!N.capture:!1,J):ve(d,T,x,!1,N,J)}function ve(d,T,x,N,J,rt){if(!T)throw Error("Invalid event type");const Tt=g(J)?!!J.capture:!!J;let Gt=on(d);if(Gt||(d[bt]=Gt=new ut(d)),x=Gt.add(T,x,N,Tt,rt),x.proxy)return x;if(N=ce(),x.proxy=N,N.src=d,N.listener=x,d.addEventListener)W||(J=Tt),J===void 0&&(J=!1),d.addEventListener(T.toString(),N,J);else if(d.attachEvent)d.attachEvent(Kt(T.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ce(){function d(x){return T.call(d.src,d.listener,x)}const T=tn;return d}function _e(d,T,x,N,J){if(Array.isArray(T))for(var rt=0;rt<T.length;rt++)_e(d,T[rt],x,N,J);else N=g(N)?!!N.capture:!!N,x=bn(x),d&&d[Ze]?(d=d.i,rt=String(T).toString(),rt in d.g&&(T=d.g[rt],x=_t(T,x,N,J),x>-1&&(yt(T[x]),Array.prototype.splice.call(T,x,1),T.length==0&&(delete d.g[rt],d.h--)))):d&&(d=on(d))&&(T=d.g[T.toString()],d=-1,T&&(d=_t(T,x,N,J)),(x=d>-1?T[d]:null)&&je(x))}function je(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[Ze])gt(T.i,d);else{var x=d.type,N=d.proxy;T.removeEventListener?T.removeEventListener(x,N,d.capture):T.detachEvent?T.detachEvent(Kt(x),N):T.addListener&&T.removeListener&&T.removeListener(N),(x=on(T))?(gt(x,d),x.h==0&&(x.src=null,T[bt]=null)):yt(d)}}}function Kt(d){return d in Pt?Pt[d]:Pt[d]="on"+d}function tn(d,T){if(d.da)d=!0;else{T=new se(T,this);const x=d.listener,N=d.ha||d.src;d.fa&&je(d),d=x.call(N,T)}return d}function on(d){return d=d[bt],d instanceof ut?d:null}var dn="__closure_events_fn_"+(Math.random()*1e9>>>0);function bn(d){return typeof d=="function"?d:(d[dn]||(d[dn]=function(T){return d.handleEvent(T)}),d[dn])}function Pe(){G.call(this),this.i=new ut(this),this.M=this,this.G=null}C(Pe,G),Pe.prototype[Ze]=!0,Pe.prototype.removeEventListener=function(d,T,x,N){_e(this,d,T,x,N)};function Te(d,T){var x,N=d.G;if(N)for(x=[];N;N=N.G)x.push(N);if(d=d.M,N=T.type||T,typeof T=="string")T=new U(T,d);else if(T instanceof U)T.target=T.target||d;else{var J=T;T=new U(N,d),ot(T,J)}J=!0;let rt,Tt;if(x)for(Tt=x.length-1;Tt>=0;Tt--)rt=T.g=x[Tt],J=vi(rt,N,!0,T)&&J;if(rt=T.g=d,J=vi(rt,N,!0,T)&&J,J=vi(rt,N,!1,T)&&J,x)for(Tt=0;Tt<x.length;Tt++)rt=T.g=x[Tt],J=vi(rt,N,!1,T)&&J}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var d=this.i;for(const T in d.g){const x=d.g[T];for(let N=0;N<x.length;N++)yt(x[N]);delete d.g[T],d.h--}}this.G=null},Pe.prototype.J=function(d,T,x,N){return this.i.add(String(d),T,!1,x,N)},Pe.prototype.K=function(d,T,x,N){return this.i.add(String(d),T,!0,x,N)};function vi(d,T,x,N){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();let J=!0;for(let rt=0;rt<T.length;++rt){const Tt=T[rt];if(Tt&&!Tt.da&&Tt.capture==x){const Gt=Tt.listener,ye=Tt.ha||Tt.src;Tt.fa&&gt(d.i,Tt),J=Gt.call(ye,N)!==!1&&J}}return J&&!N.defaultPrevented}function Wa(d,T){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:f.setTimeout(d,T||0)}function na(d){d.g=Wa(()=>{d.g=null,d.i&&(d.i=!1,na(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class En extends G{constructor(T,x){super(),this.m=T,this.l=x,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:na(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(d){G.call(this),this.h=d,this.g={}}C(Fr,G);var cr=[];function ys(d){ie(d.g,function(T,x){this.g.hasOwnProperty(x)&&je(T)},d),d.g={}}Fr.prototype.N=function(){Fr.Z.N.call(this),ys(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=f.JSON.stringify,Ya=f.JSON.parse,bs=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Hr(){}function Qa(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mn(){U.call(this,"d")}C(mn,U);function li(){U.call(this,"c")}C(li,U);var en={},Es=null;function Xa(){return Es=Es||new Pe}en.Ia="serverreachability";function du(d){U.call(this,en.Ia,d)}C(du,U);function Ui(d){const T=Xa();Te(T,new du(T))}en.STAT_EVENT="statevent";function Ts(d,T){U.call(this,en.STAT_EVENT,d),this.stat=T}C(Ts,U);function nn(d){const T=Xa();Te(T,new Ts(T,d))}en.Ja="timingevent";function hr(d,T){U.call(this,en.Ja,d),this.size=T}C(hr,U);function fr(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},T)}function Fi(){this.g=!0}Fi.prototype.ua=function(){this.g=!1};function Bc(d,T,x,N,J,rt){d.info(function(){if(d.g)if(rt){var Tt="",Gt=rt.split("&");for(let be=0;be<Gt.length;be++){var ye=Gt[be].split("=");if(ye.length>1){const Fe=ye[0];ye=ye[1];const xi=Fe.split("_");Tt=xi.length>=2&&xi[1]=="type"?Tt+(Fe+"="+ye+"&"):Tt+(Fe+"=redacted&")}}}else Tt=null;else Tt=rt;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+T+`
`+x+`
`+Tt})}function mu(d,T,x,N,J,rt,Tt){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+T+`
`+x+`
`+rt+" "+Tt})}function dr(d,T,x,N){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+Uc(d,x)+(N?" "+N:"")})}function qr(d,T){d.info(function(){return"TIMEOUT: "+T})}Fi.prototype.info=function(){};function Uc(d,T){if(!d.g)return T;if(!T)return null;try{const rt=JSON.parse(T);if(rt){for(d=0;d<rt.length;d++)if(Array.isArray(rt[d])){var x=rt[d];if(!(x.length<2)){var N=x[1];if(Array.isArray(N)&&!(N.length<1)){var J=N[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Tt=1;Tt<N.length;Tt++)N[Tt]=""}}}}return Bi(rt)}catch{return T}}var ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ll;function Mn(){}C(Mn,Hr),Mn.prototype.g=function(){return new XMLHttpRequest},ll=new Mn;function Ot(d){return encodeURIComponent(String(d))}function ul(d){var T=1;d=d.split(":");const x=[];for(;T>0&&d.length;)x.push(d.shift()),T--;return d.length&&x.push(d.join(":")),x}function yi(d,T,x,N){this.j=d,this.i=T,this.l=x,this.S=N||1,this.V=new Fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}var rn={},ln={};function Hi(d,T,x){d.M=1,d.A=Le(Ke(T)),d.u=x,d.R=!0,qi(d,null)}function qi(d,T){d.F=Date.now(),mr(d),d.B=Ke(d.A);var x=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Ss(x.i,"t",N),d.C=0,x=d.j.L,d.h=new bi,d.g=gl(d.j,x?T:null,!d.u),d.P>0&&(d.O=new En(y(d.Y,d,d.g),d.P)),T=d.V,x=d.g,N=d.ba;var J="readystatechange";Array.isArray(J)||(J&&(cr[0]=J.toString()),J=cr);for(let rt=0;rt<J.length;rt++){const Tt=Bt(x,J[rt],N||T.handleEvent,!1,T.h||T);if(!Tt)break;T.g[Tt.key]=Tt}T=d.J?R(d.J):{},d.u?(d.v||(d.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,T)):(d.v="GET",d.g.ea(d.B,d.v,null,T)),Ui(),Bc(d.i,d.v,d.B,d.l,d.S,d.u)}yi.prototype.ba=function(d){d=d.target;const T=this.O;T&&Wi(d)==3?T.j():this.Y(d)},yi.prototype.Y=function(d){try{if(d==this.g)t:{const Gt=Wi(this.g),ye=this.g.ya(),be=this.g.ca();if(!(Gt<3)&&(Gt!=3||this.g&&(this.h.h||this.g.la()||wn(this.g)))){this.K||Gt!=4||ye==7||(ye==8||be<=0?Ui(3):Ui(2)),Gi(this);var T=this.g.ca();this.X=T;var x=pu(this);if(this.o=T==200,mu(this.i,this.v,this.B,this.l,this.S,Gt,T),this.o){if(this.U&&!this.L){e:{if(this.g){var N,J=this.g;if((N=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(N)){var rt=N;break e}}rt=null}if(d=rt)dr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pr(this,d);else{this.o=!1,this.m=3,nn(12),Dn(this),Ei(this);break t}}if(this.R){d=!0;let Fe;for(;!this.K&&this.C<x.length;)if(Fe=_u(this,x),Fe==ln){Gt==4&&(this.m=4,nn(14),d=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Fe==rn){this.m=4,nn(15),dr(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else dr(this.i,this.l,Fe,null),pr(this,Fe);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||x.length!=0||this.h.h||(this.m=1,nn(16),d=!1),this.o=this.o&&d,!d)dr(this.i,this.l,x,"[Invalid Chunked Response]"),Dn(this),Ei(this);else if(x.length>0&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.aa&&!Tt.P&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),ml(Tt),Tt.P=!0,nn(11))}}else dr(this.i,this.l,x,null),pr(this,x);Gt==4&&Dn(this),this.o&&!this.K&&(Gt==4?hi(this.j,this):(this.o=!1,mr(this)))}else Yi(this.g),T==400&&x.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),Dn(this),Ei(this)}}}catch{}finally{}};function pu(d){if(!gu(d))return d.g.la();const T=wn(d.g);if(T==="")return"";let x="";const N=T.length,J=Wi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Dn(d),Ei(d),"";d.h.i=new f.TextDecoder}for(let rt=0;rt<N;rt++)d.h.h=!0,x+=d.h.i.decode(T[rt],{stream:!(J&&rt==N-1)});return T.length=0,d.h.g+=x,d.C=0,d.h.g}function gu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function _u(d,T){var x=d.C,N=T.indexOf(`
`,x);return N==-1?ln:(x=Number(T.substring(x,N)),isNaN(x)?rn:(N+=1,N+x>T.length?ln:(T=T.slice(N,N+x),d.C=N+x,T)))}yi.prototype.cancel=function(){this.K=!0,Dn(this)};function mr(d){d.T=Date.now()+d.H,$a(d,d.H)}function $a(d,T){if(d.D!=null)throw Error("WatchDog timer not null");d.D=fr(y(d.aa,d),T)}function Gi(d){d.D&&(f.clearTimeout(d.D),d.D=null)}yi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(qr(this.i,this.B),this.M!=2&&(Ui(),nn(17)),Dn(this),this.m=2,Ei(this)):$a(this,this.T-d)};function Ei(d){d.j.I==0||d.K||hi(d.j,d)}function Dn(d){Gi(d);var T=d.O;T&&typeof T.dispose=="function"&&T.dispose(),d.O=null,ys(d.V),d.g&&(T=d.g,d.g=null,T.abort(),T.dispose())}function pr(d,T){try{var x=d.j;if(x.I!=0&&(x.g==d||Ti(x.h,d))){if(!d.L&&Ti(x.h,d)&&x.I==3){try{var N=x.Ba.g.parse(T)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){t:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)so(x),Rs(x);else break t;ua(x),nn(18)}}else x.xa=J[1],0<x.xa-x.K&&J[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=fr(y(x.Va,x),6e3));gr(x.h)<=1&&x.ta&&(x.ta=void 0)}else Qi(x,11)}else if((d.L||x.g==d)&&so(x),!z(T))for(J=x.Ba.g.parse(T),T=0;T<J.length;T++){let be=J[T];const Fe=be[0];if(!(Fe<=x.K))if(x.K=Fe,be=be[1],x.I==2)if(be[0]=="c"){x.M=be[1],x.ba=be[2];const xi=be[3];xi!=null&&(x.ka=xi,x.j.info("VER="+x.ka));const Ci=be[4];Ci!=null&&(x.za=Ci,x.j.info("SVER="+x.za));const fi=be[5];fi!=null&&typeof fi=="number"&&fi>0&&(N=1.5*fi,x.O=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const $i=d.g;if($i){const ca=$i.g?$i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var rt=N.h;rt.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(Gr(rt,rt.h),rt.h=null))}if(N.G){const ha=$i.g?$i.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(N.wa=ha,Rt(N.J,N.G,ha))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),N=x;var Tt=d;if(N.na=pl(N,N.L?N.ba:null,N.W),Tt.L){Ja(N.h,Tt);var Gt=Tt,ye=N.O;ye&&(Gt.H=ye),Gt.D&&(Gi(Gt),mr(Gt)),N.g=Tt}else dl(N);x.i.length>0&&ti(x)}else be[0]!="stop"&&be[0]!="close"||Qi(x,7);else x.I==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Qi(x,7):te(x):be[0]!="noop"&&x.l&&x.l.qa(be),x.A=0)}}Ui(4)}catch{}}var un=class{constructor(d,T){this.g=d,this.map=T}};function cl(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function hl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function gr(d){return d.h?1:d.g?d.g.size:0}function Ti(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function Gr(d,T){d.g?d.g.add(T):d.h=T}function Ja(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}cl.prototype.cancel=function(){if(this.i=to(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function to(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const x of d.g.values())T=T.concat(x.G);return T}return M(d.i)}var ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ne(d,T){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const N=d[x].indexOf("=");let J,rt=null;N>=0?(J=d[x].substring(0,N),rt=d[x].substring(N+1)):J=d[x],T(J,rt?decodeURIComponent(rt.replace(/\+/g," ")):"")}}}function ae(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;d instanceof ae?(this.l=d.l,We(this,d.j),this.o=d.o,this.g=d.g,ui(this,d.u),this.h=d.h,ra(this,oa(d.i)),this.m=d.m):d&&(T=String(d).match(ws))?(this.l=!1,We(this,T[1]||"",!0),this.o=wi(T[2]||""),this.g=wi(T[3]||"",!0),ui(this,T[4]),this.h=wi(T[5]||"",!0),ra(this,T[6]||"",!0),this.m=wi(T[7]||"")):(this.l=!1,this.i=new Si(null,this.l))}ae.prototype.toString=function(){const d=[];var T=this.j;T&&d.push(_r(T,eo,!0),":");var x=this.g;return(x||T=="file")&&(d.push("//"),(T=this.o)&&d.push(_r(T,eo,!0),"@"),d.push(Ot(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(_r(x,x.charAt(0)=="/"?Zi:sa,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",_r(x,vr)),d.join("")},ae.prototype.resolve=function(d){const T=Ke(this);let x=!!d.j;x?We(T,d.j):x=!!d.o,x?T.o=d.o:x=!!d.g,x?T.g=d.g:x=d.u!=null;var N=d.h;if(x)ui(T,d.u);else if(x=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var J=T.h.lastIndexOf("/");J!=-1&&(N=T.h.slice(0,J+1)+N)}if(J=N,J==".."||J==".")N="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){N=J.lastIndexOf("/",0)==0,J=J.split("/");const rt=[];for(let Tt=0;Tt<J.length;){const Gt=J[Tt++];Gt=="."?N&&Tt==J.length&&rt.push(""):Gt==".."?((rt.length>1||rt.length==1&&rt[0]!="")&&rt.pop(),N&&Tt==J.length&&rt.push("")):(rt.push(Gt),N=!0)}N=rt.join("/")}else N=J}return x?T.h=N:x=d.i.toString()!=="",x?ra(T,oa(d.i)):x=!!d.m,x&&(T.m=d.m),T};function Ke(d){return new ae(d)}function We(d,T,x){d.j=x?wi(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function ui(d,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);d.u=T}else d.u=null}function ra(d,T,x){T instanceof Si?(d.i=T,As(d.i,d.l)):(x||(T=_r(T,Me)),d.i=new Si(T,d.l))}function Rt(d,T,x){d.i.set(T,x)}function Le(d){return Rt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function wi(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _r(d,T,x){return typeof d=="string"?(d=encodeURI(d).replace(T,Ue),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ue(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var eo=/[#\/\?@]/g,sa=/[#\?:]/g,Zi=/[#\?]/g,Me=/[#\?@]/g,vr=/#/g;function Si(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function Tn(d){d.g||(d.g=new Map,d.h=0,d.i&&ne(d.i,function(T,x){d.add(decodeURIComponent(T.replace(/\+/g," ")),x)}))}n=Si.prototype,n.add=function(d,T){Tn(this),this.i=null,d=yr(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(T),this.h+=1,this};function no(d,T){Tn(d),T=yr(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function Zr(d,T){return Tn(d),T=yr(d,T),d.g.has(T)}n.forEach=function(d,T){Tn(this),this.g.forEach(function(x,N){x.forEach(function(J){d.call(T,J,N,this)},this)},this)};function aa(d,T){Tn(d);let x=[];if(typeof T=="string")Zr(d,T)&&(x=x.concat(d.g.get(yr(d,T))));else for(d=Array.from(d.g.values()),T=0;T<d.length;T++)x=x.concat(d[T]);return x}n.set=function(d,T){return Tn(this),this.i=null,d=yr(this,d),Zr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},n.get=function(d,T){return d?(d=aa(this,d),d.length>0?String(d[0]):T):T};function Ss(d,T,x){no(d,T),x.length>0&&(d.i=null,d.g.set(yr(d,T),M(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(let N=0;N<T.length;N++){var x=T[N];const J=Ot(x);x=aa(this,x);for(let rt=0;rt<x.length;rt++){let Tt=J;x[rt]!==""&&(Tt+="="+Ot(x[rt])),d.push(Tt)}}return this.i=d.join("&")};function oa(d){const T=new Si;return T.i=d.i,d.g&&(T.g=new Map(d.g),T.h=d.h),T}function yr(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function As(d,T){T&&!d.j&&(Tn(d),d.i=null,d.g.forEach(function(x,N){const J=N.toLowerCase();N!=J&&(no(this,N),Ss(this,J,x))},d)),d.j=T}function Xn(d,T){const x=new Fi;if(f.Image){const N=new Image;N.onload=A($n,x,"TestLoadImage: loaded",!0,T,N),N.onerror=A($n,x,"TestLoadImage: error",!1,T,N),N.onabort=A($n,x,"TestLoadImage: abort",!1,T,N),N.ontimeout=A($n,x,"TestLoadImage: timeout",!1,T,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else T(!1)}function io(d,T){const x=new Fi,N=new AbortController,J=setTimeout(()=>{N.abort(),$n(x,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:N.signal}).then(rt=>{clearTimeout(J),rt.ok?$n(x,"TestPingServer: ok",!0,T):$n(x,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),$n(x,"TestPingServer: error",!1,T)})}function $n(d,T,x,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(x)}catch{}}function xs(){this.g=new bs}function Ut(d){this.i=d.Sb||null,this.h=d.ab||!1}C(Ut,Hr),Ut.prototype.g=function(){return new kn(this.i,this.h)};function kn(d,T){Pe.call(this),this.H=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(kn,Pe),n=kn.prototype,n.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=T,this.readyState=1,ci(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(T.body=d),(this.H||f).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;we(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function we(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?Kr(this):ci(this),this.readyState==3&&we(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Kr(this))},n.Na=function(d){this.g&&(this.response=d,Kr(this))},n.ga=function(){this.g&&Kr(this)};function Kr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,ci(d)}n.setRequestHeader=function(d,T){this.A.append(d,T)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var x=T.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=T.next();return d.join(`\r
`)};function ci(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Jn(d){let T="";return ie(d,function(x,N){T+=N,T+=":",T+=x,T+=`\r
`}),T}function Wr(d,T,x){t:{for(N in x){var N=!1;break t}N=!0}N||(x=Jn(x),typeof d=="string"?x!=null&&Ot(x):Rt(d,T,x))}function he(d){Pe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(he,Pe);var Ai=/^https?$/i,Yr=["POST","PUT"];n=he.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,T,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ll.g(),this.g.onreadystatechange=P(y(this.Ca,this));try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(rt){Ye(this,rt);return}if(d=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)x.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const rt of N.keys())x.set(rt,N.get(rt));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(rt=>rt.toLowerCase()=="content-type"),J=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(Yr,T,void 0)>=0)||N||J||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,Tt]of x)this.g.setRequestHeader(rt,Tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(rt){Ye(this,rt)}};function Ye(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.o=5,Ki(d),br(d)}function Ki(d){d.A||(d.A=!0,Te(d,"complete"),Te(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Te(this,"complete"),Te(this,"abort"),br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),he.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Cs(this):this.Xa())},n.Xa=function(){Cs(this)};function Cs(d){if(d.h&&typeof u<"u"){if(d.v&&Wi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Te(d,"readystatechange"),Wi(d)==4){d.h=!1;try{const rt=d.ca();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break t;default:T=!1}var x;if(!(x=T)){var N;if(N=rt===0){let Tt=String(d.D).match(ws)[1]||null;!Tt&&f.self&&f.self.location&&(Tt=f.self.location.protocol.slice(0,-1)),N=!Ai.test(Tt?Tt.toLowerCase():"")}x=N}if(x)Te(d,"complete"),Te(d,"success");else{d.o=6;try{var J=Wi(d)>2?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.ca()+"]",Ki(d)}}finally{br(d)}}}}function br(d,T){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,T||Te(d,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),Ya(T)}};function wn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(d){const T={};d=(d.g&&Wi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(z(d[N]))continue;var x=ul(d[N]);const J=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const rt=T[J]||[];T[J]=rt,rt.push(x)}F(T,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(d,T,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||T}function Qr(d){this.za=0,this.i=[],this.j=new Fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,d),this.Za=Er("retryDelaySeedMs",1e4,d),this.Ta=Er("forwardChannelMaxRetries",2,d),this.va=Er("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new cl(d&&d.concurrentRequestLimit),this.Ba=new xs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Qr.prototype,n.ka=8,n.I=1,n.connect=function(d,T,x,N){nn(0),this.W=d,this.H=T||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.J=pl(this,null,this.W),ti(this)};function te(d){if(jn(d),d.I==3){var T=d.V++,x=Ke(d.J);if(Rt(x,"SID",d.M),Rt(x,"RID",T),Rt(x,"TYPE","terminate"),Xr(d,x),T=new yi(d,d.j,T),T.M=2,T.A=Le(Ke(x)),x=!1,f.navigator&&f.navigator.sendBeacon)try{x=f.navigator.sendBeacon(T.A.toString(),"")}catch{}!x&&f.Image&&(new Image().src=T.A,x=!0),x||(T.g=gl(T.j,null),T.g.ea(T.A)),T.F=Date.now(),mr(T)}Xi(d)}function Rs(d){d.g&&(ml(d),d.g.cancel(),d.g=null)}function jn(d){Rs(d),d.v&&(f.clearTimeout(d.v),d.v=null),so(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function ti(d){if(!hl(d.h)&&!d.m){d.m=!0;var T=d.Ea;Lt||D(),jt||(Lt(),jt=!0),j.add(T,d),d.D=0}}function la(d,T){return gr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=T.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=fr(y(d.Ea,d,T),yu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const J=new yi(this,this.j,d);let rt=this.o;if(this.U&&(rt?(rt=R(rt),ot(rt,this.U)):rt=this.U),this.u!==null||this.R||(J.J=rt,rt=null),this.S)t:{for(var T=0,x=0;x<this.i.length;x++){e:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(T+=N,T>4096){T=x;break t}if(T===4096||x===this.i.length-1){T=x+1;break t}}T=1e3}else T=1e3;T=vu(this,J,T),x=Ke(this.J),Rt(x,"RID",d),Rt(x,"CVER",22),this.G&&Rt(x,"X-HTTP-Session-Id",this.G),Xr(this,x),rt&&(this.R?T="headers="+Ot(Jn(rt))+"&"+T:this.u&&Wr(x,this.u,rt)),Gr(this.h,J),this.Ra&&Rt(x,"TYPE","init"),this.S?(Rt(x,"$req",T),Rt(x,"SID","null"),J.U=!0,Hi(J,x,null)):Hi(J,x,T),this.I=2}}else this.I==3&&(d?fl(this,d):this.i.length==0||hl(this.h)||fl(this))};function fl(d,T){var x;T?x=T.l:x=d.V++;const N=Ke(d.J);Rt(N,"SID",d.M),Rt(N,"RID",x),Rt(N,"AID",d.K),Xr(d,N),d.u&&d.o&&Wr(N,d.u,d.o),x=new yi(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),T&&(d.i=T.G.concat(d.i)),T=vu(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Gr(d.h,x),Hi(x,N,T)}function Xr(d,T){d.H&&ie(d.H,function(x,N){Rt(T,N,x)}),d.l&&ie({},function(x,N){Rt(T,N,x)})}function vu(d,T,x){x=Math.min(d.i.length,x);const N=d.l?y(d.l.Ka,d.l,d):null;t:{var J=d.i;let Gt=-1;for(;;){const ye=["count="+x];Gt==-1?x>0?(Gt=J[0].g,ye.push("ofs="+Gt)):Gt=0:ye.push("ofs="+Gt);let be=!0;for(let Fe=0;Fe<x;Fe++){var rt=J[Fe].g;const xi=J[Fe].map;if(rt-=Gt,rt<0)Gt=Math.max(0,J[Fe].g-100),be=!1;else try{rt="req"+rt+"_"||"";try{var Tt=xi instanceof Map?xi:Object.entries(xi);for(const[Ci,fi]of Tt){let $i=fi;g(fi)&&($i=Bi(fi)),ye.push(rt+Ci+"="+encodeURIComponent($i))}}catch(Ci){throw ye.push(rt+"type="+encodeURIComponent("_badmap")),Ci}}catch{N&&N(xi)}}if(be){Tt=ye.join("&");break t}}Tt=void 0}return d=d.i.splice(0,x),T.G=d,Tt}function dl(d){if(!d.g&&!d.v){d.Y=1;var T=d.Da;Lt||D(),jt||(Lt(),jt=!0),j.add(T,d),d.A=0}}function ua(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=fr(y(d.Da,d),yu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,ro(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=fr(y(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),Rs(this),ro(this))};function ml(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function ro(d){d.g=new yi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var T=Ke(d.na);Rt(T,"RID","rpc"),Rt(T,"SID",d.M),Rt(T,"AID",d.K),Rt(T,"CI",d.F?"0":"1"),!d.F&&d.ia&&Rt(T,"TO",d.ia),Rt(T,"TYPE","xmlhttp"),Xr(d,T),d.u&&d.o&&Wr(T,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=Le(Ke(T)),x.u=null,x.R=!0,qi(x,d)}n.Va=function(){this.C!=null&&(this.C=null,Rs(this),ua(this),nn(19))};function so(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function hi(d,T){var x=null;if(d.g==T){so(d),ml(d),d.g=null;var N=2}else if(Ti(d.h,T))x=T.G,Ja(d.h,T),N=1;else return;if(d.I!=0){if(T.o)if(N==1){x=T.u?T.u.length:0,T=Date.now()-T.F;var J=d.D;N=Xa(),Te(N,new hr(N,x)),ti(d)}else dl(d);else if(J=T.m,J==3||J==0&&T.X>0||!(N==1&&la(d,T)||N==2&&ua(d)))switch(x&&x.length>0&&(T=d.h,T.i=T.i.concat(x)),J){case 1:Qi(d,5);break;case 4:Qi(d,10);break;case 3:Qi(d,6);break;default:Qi(d,2)}}}function yu(d,T){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*T}function Qi(d,T){if(d.j.info("Error code "+T),T==2){var x=y(d.bb,d),N=d.Ua;const J=!N;N=new ae(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||We(N,"https"),Le(N),J?Xn(N.toString(),x):io(N.toString(),x)}else nn(2);d.I=0,d.l&&d.l.pa(T),Xi(d),jn(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function Xi(d){if(d.I=0,d.ja=[],d.l){const T=to(d.h);(T.length!=0||d.i.length!=0)&&(H(d.ja,T),H(d.ja,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.oa()}}function pl(d,T,x){var N=x instanceof ae?Ke(x):new ae(x);if(N.g!="")T&&(N.g=T+"."+N.g),ui(N,N.u);else{var J=f.location;N=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;const rt=new ae(null);N&&We(rt,N),T&&(rt.g=T),J&&ui(rt,J),x&&(rt.h=x),N=rt}return x=d.G,T=d.wa,x&&T&&Rt(N,x,T),Rt(N,"VER",d.ka),Xr(d,N),N}function gl(d,T,x){if(T&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Aa&&!d.ma?new he(new Ut({ab:x})):new he(d.ma),T.Fa(d.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ao(){}n=ao.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Is(){}Is.prototype.g=function(d,T){return new Vn(d,T)};function Vn(d,T){Pe.call(this),this.g=new Qr(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(d?d["X-WebChannel-Client-Profile"]=T.sa:d={"X-WebChannel-Client-Profile":T.sa}),this.g.U=d,(d=T&&T.Qb)&&!z(d)&&(this.g.u=d),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!z(T)&&(this.g.G=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new $r(this)}C(Vn,Pe),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){te(this.g)},Vn.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=Bi(d),d=x);T.i.push(new un(T.Ya++,d)),T.I==3&&ti(T)},Vn.prototype.N=function(){this.g.l=null,delete this.j,te(this.g),delete this.g,Vn.Z.N.call(this)};function _l(d){mn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){t:{for(const x in T){d=x;break t}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}C(_l,mn);function bu(){li.call(this),this.status=1}C(bu,li);function $r(d){this.g=d}C($r,ao),$r.prototype.ra=function(){Te(this.g,"a")},$r.prototype.qa=function(d){Te(this.g,new _l(d))},$r.prototype.pa=function(d){Te(this.g,new bu)},$r.prototype.oa=function(){Te(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,PA=function(){return new Is},OA=function(){return Xa()},IA=en,iv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,Wd=ia,ol.COMPLETE="complete",RA=ol,Qa.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,Ph=Qa,he.prototype.listenOnce=he.prototype.K,he.prototype.getLastError=he.prototype.Ha,he.prototype.getLastErrorCode=he.prototype.ya,he.prototype.getStatus=he.prototype.ca,he.prototype.getResponseJson=he.prototype.La,he.prototype.getResponseText=he.prototype.la,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Fa,CA=he}).apply(typeof Md<"u"?Md:typeof self<"u"?self:typeof window<"u"?window:{});const ew="@firebase/firestore",nw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new Qm("@firebase/firestore");function ec(){return tu.logLevel}function It(n,...t){if(tu.logLevel<=me.DEBUG){const e=t.map($v);tu.debug(`Firestore (${Dc}): ${n}`,...e)}}function qa(n,...t){if(tu.logLevel<=me.ERROR){const e=t.map($v);tu.error(`Firestore (${Dc}): ${n}`,...e)}}function bc(n,...t){if(tu.logLevel<=me.WARN){const e=t.map($v);tu.warn(`Firestore (${Dc}): ${n}`,...e)}}function $v(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,NA(n,r,e)}function NA(n,t,e){let r=`FIRESTORE (${Dc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw qa(r),new Error(r)}function Ne(n,t,e,r){let o="Unexpected state";typeof e=="string"?o=e:r=e,n||NA(t,o,r)}function Qt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends vs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class GD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(si.UNAUTHENTICATED)))}shutdown(){}}class ZD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class KD{constructor(t){this.t=t,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ne(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new ja;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ja,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const v=u;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ja)}}),0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new LA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ne(t===null||typeof t=="string",2055,{h:t}),new si(t)}}class WD{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=si.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YD{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new WD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(si.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class iw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ne(this.o===void 0,3512);const r=u=>{u.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,It("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new iw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Ne(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new iw(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=XD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<e&&(r+=t.charAt(o[u]%62))}return r}}function pe(n,t){return n<t?-1:n>t?1:0}function rv(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const o=n.charAt(r),u=t.charAt(r);if(o!==u)return A_(o)===A_(u)?pe(o,u):A_(o)?1:-1}return pe(n.length,t.length)}const $D=55296,JD=57343;function A_(n){const t=n.charCodeAt(0);return t>=$D&&t<=JD}function Ec(n,t,e){return n.length===t.length&&n.every(((r,o)=>e(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__name__";class Us{constructor(t,e,r){e===void 0?e=0:e>t.length&&qt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&qt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Us.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Us?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const u=Us.compareSegments(t.get(o),e.get(o));if(u!==0)return u}return pe(t.length,e.length)}static compareSegments(t,e){const r=Us.isNumericId(t),o=Us.isNumericId(e);return r&&!o?-1:!r&&o?1:r&&o?Us.extractNumericId(t).compare(Us.extractNumericId(e)):rv(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Go.fromString(t.substring(4,t.length-2))}}class qe extends Us{construct(t,e,r){return new qe(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ct(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((o=>o.length>0)))}return new qe(e)}static emptyPath(){return new qe([])}}const tk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends Us{construct(t,e,r){return new Wn(t,e,r)}static isValidIdentifier(t){return tk.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rw}static keyField(){return new Wn([rw])}static fromServerFormat(t){const e=[];let r="",o=0;const u=()=>{if(r.length===0)throw new Ct(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new Ct(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ct(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=v,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(r+=g,o++):(u(),o++)}if(u(),f)throw new Ct(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wn(e)}static emptyPath(){return new Wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.path=t}static fromPath(t){return new zt(qe.fromString(t))}static fromName(t){return new zt(qe.fromString(t).popFirst(5))}static empty(){return new zt(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&qe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return qe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new qe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n,t,e){if(!e)throw new Ct(pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function ek(n,t,e,r){if(t===!0&&r===!0)throw new Ct(pt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function sw(n){if(!zt.isDocumentKey(n))throw new Ct(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aw(n){if(zt.isDocumentKey(n))throw new Ct(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function tp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":qt(12329,{type:typeof n})}function ms(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=tp(n);throw new Ct(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n,t){const e={typeString:n};return t&&(e.value=t),e}function gf(n,t){if(!DA(n))throw new Ct(pt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const f=n[r];if(o&&typeof f!==o){e=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new Ct(pt.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=-62135596800,lw=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*lw);return new Xe(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<ow)throw new Ct(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lw}_compareTo(t){return this.seconds===t.seconds?pe(this.nanoseconds,t.nanoseconds):pe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(gf(t,Xe._jsonSchema))return new Xe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ow;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:On("string",Xe._jsonSchemaVersion),seconds:On("number"),nanoseconds:On("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(t){return new Wt(t)}static min(){return new Wt(new Xe(0,0))}static max(){return new Wt(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=-1;function nk(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Wt.fromTimestamp(r===1e9?new Xe(e+1,0):new Xe(e,r));return new Qo(o,zt.empty(),t)}function ik(n){return new Qo(n.readTime,n.key,Qh)}class Qo{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Qo(Wt.min(),zt.empty(),Qh)}static max(){return new Qo(Wt.max(),zt.empty(),Qh)}}function rk(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=zt.comparator(n.documentKey,t.documentKey),e!==0?e:pe(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ak{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==sk)throw n;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new vt(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,o)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof vt?e:vt.resolve(e)}catch(e){return vt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):vt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):vt.reject(e)}static resolve(t){return new vt(((e,r)=>{e(t)}))}static reject(t){return new vt(((e,r)=>{r(t)}))}static waitFor(t){return new vt(((e,r)=>{let o=0,u=0,f=!1;t.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&e()}),(v=>r(v)))})),f=!0,u===o&&e()}))}static or(t){let e=vt.resolve(!1);for(const r of t)e=e.next((o=>o?vt.resolve(o):r()));return e}static forEach(t,e){const r=[];return t.forEach(((o,u)=>{r.push(e.call(this,o,u))})),this.waitFor(r)}static mapArray(t,e){return new vt(((r,o)=>{const u=t.length,f=new Array(u);let g=0;for(let v=0;v<u;v++){const y=v;e(t[y]).next((A=>{f[y]=A,++g,g===u&&r(f)}),(A=>o(A)))}}))}static doWhile(t,e){return new vt(((r,o)=>{const u=()=>{t()===!0?e().next((()=>{u()}),o):r()};u()}))}}function ok(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function jc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ep.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-1;function np(n){return n==null}function bm(n){return n===0&&1/n==-1/0}function lk(n){return typeof n=="number"&&Number.isInteger(n)&&!bm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="";function uk(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=uw(t)),t=ck(n.get(e),t);return uw(t)}function ck(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":e+="";break;case kA:e+="";break;default:e+=u}}return e}function uw(n){return n+kA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function sl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t,e){this.comparator=t,this.root=e||Zn.EMPTY}insert(t,e){return new an(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(t){return new an(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dd(this.root,t,this.comparator,!0)}}class Dd{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zn{constructor(t,e,r,o,u){this.key=t,this.value=e,this.color=r??Zn.RED,this.left=o??Zn.EMPTY,this.right=u??Zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,u){return new Zn(t??this.key,e??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,e,r),null):u===0?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),e(t,o.key)===0){if(o.right.isEmpty())return Zn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw qt(27949);return t+(this.isRed()?0:1)}}Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw qt(57766)}get value(){throw qt(16141)}get color(){throw qt(16727)}get left(){throw qt(29726)}get right(){throw qt(36894)}copy(t,e,r,o,u){return this}insert(t,e,r){return new Zn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.comparator=t,this.data=new an(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hw(this.data.getIterator())}getIteratorFrom(t){return new hw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof Ln)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ln(this.comparator);return e.data=t,e}}class hw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.fields=t,t.sort(Wn.comparator)}static empty(){return new or([])}unionWith(t){let e=new Ln(Wn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new or(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ec(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new VA("Invalid base64 string: "+u):u}})(t);return new Yn(e)}static fromUint8Array(t){const e=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Yn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const hk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(Ne(!!n,39018),typeof n=="string"){let t=0;const e=hk.exec(n);if(Ne(!!e,46558,{timestamp:n}),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_n(n.seconds),nanos:_n(n.nanos)}}function _n(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $o(n){return typeof n=="string"?Yn.fromBase64String(n):Yn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="server_timestamp",BA="__type__",UA="__previous_value__",FA="__local_write_time__";function ey(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[BA])==null?void 0:r.stringValue)===zA}function ip(n){const t=n.mapValue.fields[UA];return ey(t)?ip(t):t}function Xh(n){const t=Xo(n.mapValue.fields[FA].timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t,e,r,o,u,f,g,v,y,A){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A}}const Em="(default)";class $h{constructor(t,e){this.projectId=t,this.database=e||Em}static empty(){return new $h("","")}get isDefaultDatabase(){return this.database===Em}isEqual(t){return t instanceof $h&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="__type__",dk="__max__",kd={mapValue:{}},qA="__vector__",Tm="value";function Jo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ey(n)?4:pk(n)?9007199254740991:mk(n)?10:11:qt(28295,{value:n})}function ta(n,t){if(n===t)return!0;const e=Jo(n);if(e!==Jo(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xh(n).isEqual(Xh(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Xo(o.timestampValue),g=Xo(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(o,u){return $o(o.bytesValue).isEqual($o(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(o,u){return _n(o.geoPointValue.latitude)===_n(u.geoPointValue.latitude)&&_n(o.geoPointValue.longitude)===_n(u.geoPointValue.longitude)})(n,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _n(o.integerValue)===_n(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_n(o.doubleValue),g=_n(u.doubleValue);return f===g?bm(f)===bm(g):isNaN(f)&&isNaN(g)}return!1})(n,t);case 9:return Ec(n.arrayValue.values||[],t.arrayValue.values||[],ta);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(cw(f)!==cw(g))return!1;for(const v in f)if(f.hasOwnProperty(v)&&(g[v]===void 0||!ta(f[v],g[v])))return!1;return!0})(n,t);default:return qt(52216,{left:n})}}function Jh(n,t){return(n.values||[]).find((e=>ta(e,t)))!==void 0}function Tc(n,t){if(n===t)return 0;const e=Jo(n),r=Jo(t);if(e!==r)return pe(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=_n(u.integerValue||u.doubleValue),v=_n(f.integerValue||f.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(n,t);case 3:return fw(n.timestampValue,t.timestampValue);case 4:return fw(Xh(n),Xh(t));case 5:return rv(n.stringValue,t.stringValue);case 6:return(function(u,f){const g=$o(u),v=$o(f);return g.compareTo(v)})(n.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),v=f.split("/");for(let y=0;y<g.length&&y<v.length;y++){const A=pe(g[y],v[y]);if(A!==0)return A}return pe(g.length,v.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=pe(_n(u.latitude),_n(f.latitude));return g!==0?g:pe(_n(u.longitude),_n(f.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return dw(n.arrayValue,t.arrayValue);case 10:return(function(u,f){var P,M,H,K;const g=u.fields||{},v=f.fields||{},y=(P=g[Tm])==null?void 0:P.arrayValue,A=(M=v[Tm])==null?void 0:M.arrayValue,C=pe(((H=y==null?void 0:y.values)==null?void 0:H.length)||0,((K=A==null?void 0:A.values)==null?void 0:K.length)||0);return C!==0?C:dw(y,A)})(n.mapValue,t.mapValue);case 11:return(function(u,f){if(u===kd.mapValue&&f===kd.mapValue)return 0;if(u===kd.mapValue)return 1;if(f===kd.mapValue)return-1;const g=u.fields||{},v=Object.keys(g),y=f.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const P=rv(v[C],A[C]);if(P!==0)return P;const M=Tc(g[v[C]],y[A[C]]);if(M!==0)return M}return pe(v.length,A.length)})(n.mapValue,t.mapValue);default:throw qt(23264,{he:e})}}function fw(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return pe(n,t);const e=Xo(n),r=Xo(t),o=pe(e.seconds,r.seconds);return o!==0?o:pe(e.nanos,r.nanos)}function dw(n,t){const e=n.values||[],r=t.values||[];for(let o=0;o<e.length&&o<r.length;++o){const u=Tc(e[o],r[o]);if(u)return u}return pe(e.length,r.length)}function wc(n){return sv(n)}function sv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=Xo(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return $o(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return zt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",o=!0;for(const u of e.values||[])o?o=!1:r+=",",r+=sv(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${sv(e.fields[f])}`;return o+"}"})(n.mapValue):qt(61005,{value:n})}function Yd(n){switch(Jo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ip(n);return t?16+Yd(t):16;case 5:return 2*n.stringValue.length;case 6:return $o(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Yd(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return sl(r.fields,((u,f)=>{o+=u.length+Yd(f)})),o})(n.mapValue);default:throw qt(13486,{value:n})}}function mw(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function av(n){return!!n&&"integerValue"in n}function ny(n){return!!n&&"arrayValue"in n}function pw(n){return!!n&&"nullValue"in n}function gw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qd(n){return!!n&&"mapValue"in n}function mk(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[HA])==null?void 0:r.stringValue)===qA}function Bh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return sl(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=Bh(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Bh(n.arrayValue.values[e]);return t}return{...n}}function pk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.value=t}static empty(){return new zi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Qd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bh(e)}setAll(t){let e=Wn.emptyPath(),r={},o=[];t.forEach(((f,g)=>{if(!e.isImmediateParentOf(g)){const v=this.getFieldsMap(e);this.applyChanges(v,r,o),r={},o=[],e=g.popLast()}f?r[g.lastSegment()]=Bh(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,o)}delete(t){const e=this.field(t.popLast());Qd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ta(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Qd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){sl(e,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new zi(Bh(this.value))}}function GA(n){const t=[];return sl(n.fields,((e,r)=>{const o=new Wn([e]);if(Qd(r)){const u=GA(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new or(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t,e,r,o,u,f,g){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new ai(t,0,Wt.min(),Wt.min(),Wt.min(),zi.empty(),0)}static newFoundDocument(t,e,r,o){return new ai(t,1,e,Wt.min(),r,o,0)}static newNoDocument(t,e){return new ai(t,2,e,Wt.min(),Wt.min(),zi.empty(),0)}static newUnknownDocument(t,e){return new ai(t,3,e,Wt.min(),Wt.min(),zi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ai&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,e){this.position=t,this.inclusive=e}}function _w(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const u=t[o],f=n.position[o];if(u.field.isKeyField()?r=zt.comparator(zt.fromName(f.referenceValue),e.key):r=Tc(f,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function vw(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ta(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,e="asc"){this.field=t,this.dir=e}}function gk(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{}class In extends ZA{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new vk(t,e,r):e==="array-contains"?new Ek(t,r):e==="in"?new Tk(t,r):e==="not-in"?new wk(t,r):e==="array-contains-any"?new Sk(t,r):new In(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new yk(t,r):new bk(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Tc(e,this.value)):e!==null&&Jo(this.value)===Jo(e)&&this.matchesComparison(Tc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return qt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends ZA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ps(t,e)}matches(t){return KA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KA(n){return n.op==="and"}function WA(n){return _k(n)&&KA(n)}function _k(n){for(const t of n.filters)if(t instanceof ps)return!1;return!0}function ov(n){if(n instanceof In)return n.field.canonicalString()+n.op.toString()+wc(n.value);if(WA(n))return n.filters.map((t=>ov(t))).join(",");{const t=n.filters.map((e=>ov(e))).join(",");return`${n.op}(${t})`}}function YA(n,t){return n instanceof In?(function(r,o){return o instanceof In&&r.op===o.op&&r.field.isEqual(o.field)&&ta(r.value,o.value)})(n,t):n instanceof ps?(function(r,o){return o instanceof ps&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,g)=>u&&YA(f,o.filters[g])),!0):!1})(n,t):void qt(19439)}function QA(n){return n instanceof In?(function(e){return`${e.field.canonicalString()} ${e.op} ${wc(e.value)}`})(n):n instanceof ps?(function(e){return e.op.toString()+" {"+e.getFilters().map(QA).join(" ,")+"}"})(n):"Filter"}class vk extends In{constructor(t,e,r){super(t,e,r),this.key=zt.fromName(r.referenceValue)}matches(t){const e=zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class yk extends In{constructor(t,e){super(t,"in",e),this.keys=XA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class bk extends In{constructor(t,e){super(t,"not-in",e),this.keys=XA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function XA(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((r=>zt.fromName(r.referenceValue)))}class Ek extends In{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ny(e)&&Jh(e.arrayValue,this.value)}}class Tk extends In{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Jh(this.value.arrayValue,e)}}class wk extends In{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Jh(this.value.arrayValue,e)}}class Sk extends In{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ny(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>Jh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(t,e=null,r=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function yw(n,t=null,e=[],r=[],o=null,u=null,f=null){return new Ak(n,t,e,r,o,u,f)}function iy(n){const t=Qt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>ov(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),np(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>wc(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>wc(r))).join(",")),t.Te=e}return t.Te}function ry(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!gk(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!YA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!vw(n.startAt,t.startAt)&&vw(n.endAt,t.endAt)}function lv(n){return zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e=null,r=[],o=[],u=null,f="F",g=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xk(n,t,e,r,o,u,f,g){return new _f(n,t,e,r,o,u,f,g)}function sy(n){return new _f(n)}function bw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $A(n){return n.collectionGroup!==null}function Uh(n){const t=Qt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ln(Wn.comparator);return f.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Sm(u,r))})),e.has(Wn.keyField().canonicalString())||t.Ie.push(new Sm(Wn.keyField(),r))}return t.Ie}function Ys(n){const t=Qt(n);return t.Ee||(t.Ee=Ck(t,Uh(n))),t.Ee}function Ck(n,t){if(n.limitType==="F")return yw(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Sm(o.field,u)}));const e=n.endAt?new wm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wm(n.startAt.position,n.startAt.inclusive):null;return yw(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function uv(n,t){const e=n.filters.concat([t]);return new _f(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function cv(n,t,e){return new _f(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function rp(n,t){return ry(Ys(n),Ys(t))&&n.limitType===t.limitType}function JA(n){return`${iy(Ys(n))}|lt:${n.limitType}`}function nc(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((o=>QA(o))).join(", ")}]`),np(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((o=>wc(o))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((o=>wc(o))).join(",")),`Target(${r})`})(Ys(n))}; limitType=${n.limitType})`}function sp(n,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):zt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,o){for(const u of Uh(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(n,t)&&(function(r,o){return!(r.startAt&&!(function(f,g,v){const y=_w(f,g,v);return f.inclusive?y<=0:y<0})(r.startAt,Uh(r),o)||r.endAt&&!(function(f,g,v){const y=_w(f,g,v);return f.inclusive?y>=0:y>0})(r.endAt,Uh(r),o))})(n,t)}function Rk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tx(n){return(t,e)=>{let r=!1;for(const o of Uh(n)){const u=Ik(o,t,e);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function Ik(n,t,e){const r=n.field.isKeyField()?zt.comparator(t.key,e.key):(function(u,f,g){const v=f.data.field(u),y=g.data.field(u);return v!==null&&y!==null?Tc(v,y):qt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sl(this.inner,((e,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return jA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new an(zt.comparator);function Ga(){return Ok}const ex=new an(zt.comparator);function Nh(...n){let t=ex;for(const e of n)t=t.insert(e.key,e);return t}function nx(n){let t=ex;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function ql(){return Fh()}function ix(){return Fh()}function Fh(){return new cu((n=>n.toString()),((n,t)=>n.isEqual(t)))}const Pk=new an(zt.comparator),Nk=new Ln(zt.comparator);function ge(...n){let t=Nk;for(const e of n)t=t.add(e);return t}const Lk=new Ln(pe);function Mk(){return Lk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bm(t)?"-0":t}}function rx(n){return{integerValue:""+n}}function Dk(n,t){return lk(t)?rx(t):ay(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this._=void 0}}function kk(n,t,e){return n instanceof Am?(function(o,u){const f={fields:{[BA]:{stringValue:zA},[FA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ey(u)&&(u=ip(u)),u&&(f.fields[UA]=u),{mapValue:f}})(e,t):n instanceof tf?ax(n,t):n instanceof ef?ox(n,t):(function(o,u){const f=sx(o,u),g=Ew(f)+Ew(o.Ae);return av(f)&&av(o.Ae)?rx(g):ay(o.serializer,g)})(n,t)}function jk(n,t,e){return n instanceof tf?ax(n,t):n instanceof ef?ox(n,t):e}function sx(n,t){return n instanceof xm?(function(r){return av(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Am extends ap{}class tf extends ap{constructor(t){super(),this.elements=t}}function ax(n,t){const e=lx(t);for(const r of n.elements)e.some((o=>ta(o,r)))||e.push(r);return{arrayValue:{values:e}}}class ef extends ap{constructor(t){super(),this.elements=t}}function ox(n,t){let e=lx(t);for(const r of n.elements)e=e.filter((o=>!ta(o,r)));return{arrayValue:{values:e}}}class xm extends ap{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Ew(n){return _n(n.integerValue||n.doubleValue)}function lx(n){return ny(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Vk(n,t){return n.field.isEqual(t.field)&&(function(r,o){return r instanceof tf&&o instanceof tf||r instanceof ef&&o instanceof ef?Ec(r.elements,o.elements,ta):r instanceof xm&&o instanceof xm?ta(r.Ae,o.Ae):r instanceof Am&&o instanceof Am})(n.transform,t.transform)}class zk{constructor(t,e){this.version=t,this.transformResults=e}}class jr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new jr}static exists(t){return new jr(void 0,t)}static updateTime(t){return new jr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class op{}function ux(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new oy(n.key,jr.none()):new vf(n.key,n.data,jr.none());{const e=n.data,r=zi.empty();let o=new Ln(Wn.comparator);for(let u of t.fields)if(!o.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new al(n.key,r,new or(o.toArray()),jr.none())}}function Bk(n,t,e){n instanceof vf?(function(o,u,f){const g=o.value.clone(),v=ww(o.fieldTransforms,u,f.transformResults);g.setAll(v),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(n,t,e):n instanceof al?(function(o,u,f){if(!Xd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=ww(o.fieldTransforms,u,f.transformResults),v=u.data;v.setAll(cx(o)),v.setAll(g),u.convertToFoundDocument(f.version,v).setHasCommittedMutations()})(n,t,e):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,e)}function Hh(n,t,e,r){return n instanceof vf?(function(u,f,g,v){if(!Xd(u.precondition,f))return g;const y=u.value.clone(),A=Sw(u.fieldTransforms,v,f);return y.setAll(A),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(n,t,e,r):n instanceof al?(function(u,f,g,v){if(!Xd(u.precondition,f))return g;const y=Sw(u.fieldTransforms,v,f),A=f.data;return A.setAll(cx(u)),A.setAll(y),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((C=>C.field)))})(n,t,e,r):(function(u,f,g){return Xd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(n,t,e)}function Uk(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),u=sx(r.transform,o||null);u!=null&&(e===null&&(e=zi.empty()),e.set(r.field,u))}return e||null}function Tw(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ec(r,o,((u,f)=>Vk(u,f)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class vf extends op{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class al extends op{constructor(t,e,r,o,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cx(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function ww(n,t,e){const r=new Map;Ne(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let o=0;o<e.length;o++){const u=n[o],f=u.transform,g=t.data.field(u.field);r.set(u.field,jk(f,g,e[o]))}return r}function Sw(n,t,e){const r=new Map;for(const o of n){const u=o.transform,f=e.data.field(o.field);r.set(o.field,kk(u,f,t))}return r}class oy extends op{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fk extends op{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Bk(u,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Hh(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Hh(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=ix();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=e.has(o.key)?null:g;const v=ux(f,g);v!==null&&r.set(o.key,v),f.isValidDocument()||f.convertToNoDocument(Wt.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),ge())}isEqual(t){return this.batchId===t.batchId&&Ec(this.mutations,t.mutations,((e,r)=>Tw(e,r)))&&Ec(this.baseMutations,t.baseMutations,((e,r)=>Tw(e,r)))}}class ly{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Ne(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return Pk})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new ly(t,e,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn,Ee;function Zk(n){switch(n){case pt.OK:return qt(64938);case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return qt(15467,{code:n})}}function hx(n){if(n===void 0)return qa("GRPC error has no .code"),pt.UNKNOWN;switch(n){case Rn.OK:return pt.OK;case Rn.CANCELLED:return pt.CANCELLED;case Rn.UNKNOWN:return pt.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return pt.INTERNAL;case Rn.UNAVAILABLE:return pt.UNAVAILABLE;case Rn.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Rn.NOT_FOUND:return pt.NOT_FOUND;case Rn.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Rn.ABORTED:return pt.ABORTED;case Rn.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Rn.DATA_LOSS:return pt.DATA_LOSS;default:return qt(39323,{code:n})}}(Ee=Rn||(Rn={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new Go([4294967295,4294967295],0);function Aw(n){const t=Kk().encode(n),e=new xA;return e.update(t),new Uint8Array(e.digest())}function xw(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Go([e,r],0),new Go([o,u],0)]}class uy{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Lh(`Invalid padding: ${e}`);if(r<0)throw new Lh(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Lh(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Lh(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Go.fromNumber(this.ge)}ye(t,e,r){let o=t.add(e.multiply(Go.fromNumber(r)));return o.compare(Wk)===1&&(o=new Go([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Aw(t),[r,o]=xw(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new uy(u,o,e);return r.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const e=Aw(t),[r,o]=xw(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,e,r,o,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,yf.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new lp(Wt.min(),o,new an(pe),Ga(),ge())}}class yf{constructor(t,e,r,o,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new yf(r,e,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,e,r,o){this.be=t,this.removedTargetIds=e,this.key=r,this.De=o}}class fx{constructor(t,e){this.targetId=t,this.Ce=e}}class dx{constructor(t,e,r=Yn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class Cw{constructor(){this.ve=0,this.Fe=Rw(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ge(),e=ge(),r=ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:qt(38017,{changeType:u})}})),new yf(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=Rw()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Yk{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ga(),this.Je=jd(),this.He=jd(),this.Ye=new an(pe)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:qt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,o)=>{this.rt(o)&&e(o)}))}st(t){const e=t.targetId,r=t.Ce.count,o=this.ot(e);if(o){const u=o.target;if(lv(u))if(r===0){const f=new zt(u.path);this.et(e,f,ai.newNoDocument(f,Wt.min()))}else Ne(r===1,20013,{expectedCount:r});else{const f=this._t(e);if(f!==r){const g=this.ut(t),v=g?this.ct(g,t,f):1;if(v!==0){this.it(e);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,y)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=e;let f,g;try{f=$o(r).toUint8Array()}catch(v){if(v instanceof VA)return bc("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new uy(f,o,u)}catch(v){return bc(v instanceof Lh?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(e,u,null),o++)})),o}Tt(t){const e=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&lv(g.target)){const v=new zt(g.target.path);this.It(v).has(f)||this.Et(f,v)||this.et(f,v,ai.newNoDocument(v,t))}u.Be&&(e.set(f,u.ke()),u.qe())}}));let r=ge();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new lp(t,e,this.Ye,this.je,r);return this.je=Ga(),this.Je=jd(),this.He=jd(),this.Ye=new an(pe),o}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,e)?o.Qe(e,1):o.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new Cw,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ln(pe),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ln(pe),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||It("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Cw),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function jd(){return new an(zt.comparator)}function Rw(){return new an(zt.comparator)}const Qk={asc:"ASCENDING",desc:"DESCENDING"},Xk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$k={and:"AND",or:"OR"};class Jk{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function hv(n,t){return n.useProto3Json||np(t)?t:{value:t}}function Cm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function t5(n,t){return Cm(n,t.toTimestamp())}function Qs(n){return Ne(!!n,49232),Wt.fromTimestamp((function(e){const r=Xo(e);return new Xe(r.seconds,r.nanos)})(n))}function cy(n,t){return fv(n,t).canonicalString()}function fv(n,t){const e=(function(o){return new qe(["projects",o.projectId,"databases",o.database])})(n).child("documents");return t===void 0?e:e.child(t)}function px(n){const t=qe.fromString(n);return Ne(bx(t),10190,{key:t.toString()}),t}function dv(n,t){return cy(n.databaseId,t.path)}function x_(n,t){const e=px(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new zt(_x(e))}function gx(n,t){return cy(n.databaseId,t)}function e5(n){const t=px(n);return t.length===4?qe.emptyPath():_x(t)}function mv(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _x(n){return Ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Iw(n,t,e){return{name:dv(n,t),fields:e.value.mapValue.fields}}function n5(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:qt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,A){return y.useProto3Json?(Ne(A===void 0||typeof A=="string",58123),Yn.fromBase64String(A||"")):(Ne(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Yn.fromUint8Array(A||new Uint8Array))})(n,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(y){const A=y.code===void 0?pt.UNKNOWN:hx(y.code);return new Ct(A,y.message||"")})(f);e=new dx(r,o,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=x_(n,r.document.name),u=Qs(r.document.updateTime),f=r.document.createTime?Qs(r.document.createTime):Wt.min(),g=new zi({mapValue:{fields:r.document.fields}}),v=ai.newFoundDocument(o,u,f,g),y=r.targetIds||[],A=r.removedTargetIds||[];e=new $d(y,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=x_(n,r.document),u=r.readTime?Qs(r.readTime):Wt.min(),f=ai.newNoDocument(o,u),g=r.removedTargetIds||[];e=new $d([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=x_(n,r.document),u=r.removedTargetIds||[];e=new $d([],u,o,null)}else{if(!("filter"in t))return qt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new Gk(o,u),g=r.targetId;e=new fx(g,f)}}return e}function i5(n,t){let e;if(t instanceof vf)e={update:Iw(n,t.key,t.value)};else if(t instanceof oy)e={delete:dv(n,t.key)};else if(t instanceof al)e={update:Iw(n,t.key,t.data),updateMask:f5(t.fieldMask)};else{if(!(t instanceof Fk))return qt(16599,{Vt:t.type});e={verify:dv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof Am)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof tf)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ef)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof xm)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw qt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:t5(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:qt(27497)})(n,t.precondition)),e}function r5(n,t){return n&&n.length>0?(Ne(t!==void 0,14353),n.map((e=>(function(o,u){let f=o.updateTime?Qs(o.updateTime):Qs(u);return f.isEqual(Wt.min())&&(f=Qs(u)),new zk(f,o.transformResults||[])})(e,t)))):[]}function s5(n,t){return{documents:[gx(n,t.path)]}}function a5(n,t){const e={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=gx(n,o);const u=(function(y){if(y.length!==0)return yx(ps.create(y,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((A=>(function(P){return{field:ic(P.field),direction:u5(P.dir)}})(A)))})(t.orderBy);f&&(e.structuredQuery.orderBy=f);const g=hv(n,t.limit);return g!==null&&(e.structuredQuery.limit=g),t.startAt&&(e.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:e,parent:o}}function o5(n){let t=e5(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Ne(r===1,65062);const A=e.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let u=[];e.where&&(u=(function(C){const P=vx(C);return P instanceof ps&&WA(P)?P.getFilters():[P]})(e.where));let f=[];e.orderBy&&(f=(function(C){return C.map((P=>(function(H){return new Sm(rc(H.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(P)))})(e.orderBy));let g=null;e.limit&&(g=(function(C){let P;return P=typeof C=="object"?C.value:C,np(P)?null:P})(e.limit));let v=null;e.startAt&&(v=(function(C){const P=!!C.before,M=C.values||[];return new wm(M,P)})(e.startAt));let y=null;return e.endAt&&(y=(function(C){const P=!C.before,M=C.values||[];return new wm(M,P)})(e.endAt)),xk(t,o,f,u,g,"F",v,y)}function l5(n,t){const e=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt(28987,{purpose:o})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function vx(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=rc(e.unaryFilter.field);return In.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=rc(e.unaryFilter.field);return In.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=rc(e.unaryFilter.field);return In.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=rc(e.unaryFilter.field);return In.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qt(61313);default:return qt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return In.create(rc(e.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qt(58110);default:return qt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ps.create(e.compositeFilter.filters.map((r=>vx(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return qt(1026)}})(e.compositeFilter.op))})(n):qt(30097,{filter:n})}function u5(n){return Qk[n]}function c5(n){return Xk[n]}function h5(n){return $k[n]}function ic(n){return{fieldPath:n.canonicalString()}}function rc(n){return Wn.fromServerFormat(n.fieldPath)}function yx(n){return n instanceof In?(function(e){if(e.op==="=="){if(gw(e.value))return{unaryFilter:{field:ic(e.field),op:"IS_NAN"}};if(pw(e.value))return{unaryFilter:{field:ic(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gw(e.value))return{unaryFilter:{field:ic(e.field),op:"IS_NOT_NAN"}};if(pw(e.value))return{unaryFilter:{field:ic(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ic(e.field),op:c5(e.op),value:e.value}}})(n):n instanceof ps?(function(e){const r=e.getFilters().map((o=>yx(o)));return r.length===1?r[0]:{compositeFilter:{op:h5(e.op),filters:r}}})(n):qt(54877,{filter:n})}function f5(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function bx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t,e,r,o,u=Wt.min(),f=Wt.min(),g=Yn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Fo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(t){this.yt=t}}function m5(n){const t=o5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cv(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.Cn=new g5}addToCollectionParentIndex(t,e){return this.Cn.add(e),vt.resolve()}getCollectionParents(t,e){return vt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return vt.resolve()}deleteFieldIndex(t,e){return vt.resolve()}deleteAllFieldIndexes(t){return vt.resolve()}createTargetIndexes(t,e){return vt.resolve()}getDocumentsMatchingTarget(t,e){return vt.resolve(null)}getIndexType(t,e){return vt.resolve(0)}getFieldIndexes(t,e){return vt.resolve([])}getNextCollectionGroupToUpdate(t){return vt.resolve(null)}getMinOffset(t,e){return vt.resolve(Qo.min())}getMinOffsetFromCollectionGroup(t,e){return vt.resolve(Qo.min())}updateCollectionGroup(t,e,r){return vt.resolve()}updateIndexEntries(t,e){return vt.resolve()}}class g5{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Ln(qe.comparator),u=!o.has(r);return this.index[e]=o.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ln(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ex=41943040;class ki{static withCacheSize(t){return new ki(t,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(Ex,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Sc(0)}static cr(){return new Sc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="LruGarbageCollector",_5=1048576;function Nw([n,t],[e,r]){const o=pe(n,e);return o===0?pe(t,r):o}class v5{constructor(t){this.Ir=t,this.buffer=new Ln(Nw),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Nw(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class y5{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){It(Pw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){jc(e)?It(Pw,"Ignoring IndexedDB error during garbage collection: ",e):await kc(e)}await this.Vr(3e5)}))}}class b5{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return vt.resolve(ep.ce);const r=new v5(e);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(Ow)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ow):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,o,u,f,g,v,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,f=Date.now(),this.nthSequenceNumber(t,o)))).next((C=>(r=C,g=Date.now(),this.removeTargets(t,r,e)))).next((C=>(u=C,v=Date.now(),this.removeOrphanedDocuments(t,r)))).next((C=>(y=Date.now(),ec()<=me.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(v-g)+`ms
	Removed ${C} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:C}))))}}function E5(n,t){return new b5(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.changes=new cu((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ai.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?vt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,e)))).next((o=>(r!==null&&Hh(r.mutation,o,or.empty(),Xe.now()),o)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,ge()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=ge()){const o=ql();return this.populateOverlays(t,o,e).next((()=>this.computeViews(t,e,o,r).next((u=>{let f=Nh();return u.forEach(((g,v)=>{f=f.insert(g,v.overlayedDocument)})),f}))))}getOverlayedDocuments(t,e){const r=ql();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,ge())))}populateOverlays(t,e,r){const o=[];return r.forEach((u=>{e.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,g)=>{e.set(f,g)}))}))}computeViews(t,e,r,o){let u=Ga();const f=Fh(),g=(function(){return Fh()})();return e.forEach(((v,y)=>{const A=r.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof al)?u=u.insert(y.key,y):A!==void 0?(f.set(y.key,A.mutation.getFieldMask()),Hh(A.mutation,y,A.mutation.getFieldMask(),Xe.now())):f.set(y.key,or.empty())})),this.recalculateAndSaveOverlays(t,u).next((v=>(v.forEach(((y,A)=>f.set(y,A))),e.forEach(((y,A)=>g.set(y,new w5(A,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,e){const r=Fh();let o=new an(((f,g)=>f-g)),u=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((f=>{for(const g of f)g.keys().forEach((v=>{const y=e.get(v);if(y===null)return;let A=r.get(v)||or.empty();A=g.applyToLocalView(y,A),r.set(v,A);const C=(o.get(g.batchId)||ge()).add(v);o=o.insert(g.batchId,C)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,A=v.value,C=ix();A.forEach((P=>{if(!u.has(P)){const M=ux(e.get(P),r.get(P));M!==null&&C.set(P,M),u=u.add(P)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,C))}return vt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,o){return(function(f){return zt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):$A(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o)}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-u.size):vt.resolve(ql());let g=Qh,v=u;return f.next((y=>vt.forEach(y,((A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),u.get(A)?vt.resolve():this.remoteDocumentCache.getEntry(t,A).next((P=>{v=v.insert(A,P)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,v,y,ge()))).next((A=>({batchId:g,changes:nx(A)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new zt(e)).next((r=>{let o=Nh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const u=e.collectionGroup;let f=Nh();return this.indexManager.getCollectionParents(t,u).next((g=>vt.forEach(g,(v=>{const y=(function(C,P){return new _f(P,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(e,v.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((A=>{A.forEach(((C,P)=>{f=f.insert(C,P)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,e,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,o)))).next((f=>{u.forEach(((v,y)=>{const A=y.getKey();f.get(A)===null&&(f=f.insert(A,ai.newInvalidDocument(A)))}));let g=Nh();return f.forEach(((v,y)=>{const A=u.get(v);A!==void 0&&Hh(A.mutation,y,or.empty(),Xe.now()),sp(e,y)&&(g=g.insert(v,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return vt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(o){return{id:o.id,version:o.version,createTime:Qs(o.createTime)}})(e)),vt.resolve()}getNamedQuery(t,e){return vt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(o){return{name:o.name,query:m5(o.bundledQuery),readTime:Qs(o.readTime)}})(e)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.overlays=new an(zt.comparator),this.qr=new Map}getOverlay(t,e){return vt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ql();return vt.forEach(e,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((o,u)=>{this.St(t,e,u)})),vt.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),vt.resolve()}getOverlaysForCollection(t,e,r){const o=ql(),u=e.length+1,f=new zt(e.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!e.isPrefixOf(y.path))break;y.path.length===u&&v.largestBatchId>r&&o.set(v.getKey(),v)}return vt.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let u=new an(((y,A)=>y-A));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===e&&y.largestBatchId>r){let A=u.get(y.largestBatchId);A===null&&(A=ql(),u=u.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=ql(),v=u.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=o)););return vt.resolve(g)}St(t,e,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new qk(e,r));let u=this.qr.get(e);u===void 0&&(u=ge(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(t){return vt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.Qr=new Ln(Fn.$r),this.Ur=new Ln(Fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Fn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Fn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new zt(new qe([])),r=new Fn(e,t),o=new Fn(e,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new zt(new qe([])),r=new Fn(e,t),o=new Fn(e,t+1);let u=ge();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const e=new Fn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Fn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return zt.comparator(t.key,e.key)||pe(t.Yr,e.Yr)}static Kr(t,e){return pe(t.Yr,e.Yr)||zt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ln(Fn.$r)}checkEmpty(t){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Hk(u,e,r,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Fn(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return vt.resolve(f)}lookupMutationBatch(t,e){return vt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=this.ei(r),u=o<0?0:o;return vt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?ty:this.tr-1)}getAllMutationBatches(t){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Fn(e,0),o=new Fn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),vt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Ln(pe);return e.forEach((o=>{const u=new Fn(o,0),f=new Fn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),vt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let u=r;zt.isDocumentKey(u)||(u=u.child(""));const f=new Fn(new zt(u),0);let g=new Ln(pe);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),f),vt.resolve(this.ti(g))}ti(t){const e=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&e.push(o)})),e}removeMutationBatch(t,e){Ne(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return vt.forEach(e.mutations,(o=>{const u=new Fn(o.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Fn(e,0),o=this.Zr.firstAfterOrEqual(r);return vt.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,vt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(t){this.ri=t,this.docs=(function(){return new an(zt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return vt.resolve(r?r.document.mutableCopy():ai.newInvalidDocument(e))}getEntries(t,e){let r=Ga();return e.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ai.newInvalidDocument(o))})),vt.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let u=Ga();const f=e.path,g=new zt(f.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||rk(ik(A),r)<=0||(o.has(A.key)||sp(e,A))&&(u=u.insert(A.key,A.mutableCopy()))}return vt.resolve(u)}getAllFromCollectionGroup(t,e,r,o){qt(9500)}ii(t,e){return vt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new O5(this)}getSize(t){return vt.resolve(this.size)}}class O5 extends T5{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?e.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),vt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(t){this.persistence=t,this.si=new cu((e=>iy(e)),ry),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.oi=0,this._i=new hy,this.targetCount=0,this.ai=Sc.ur()}forEachTarget(t,e){return this.si.forEach(((r,o)=>e(o))),vt.resolve()}getLastRemoteSnapshotVersion(t){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return vt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),vt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Sc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,vt.resolve()}updateTargetData(t,e){return this.Pr(e),vt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,vt.resolve()}removeTargets(t,e,r){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=e&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),vt.waitFor(u).next((()=>o))}getTargetCount(t){return vt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return vt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),vt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const o=this.persistence.referenceDelegate,u=[];return o&&e.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),vt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),vt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return vt.resolve(r)}containsKey(t,e){return vt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t,e){this.ui={},this.overlays={},this.ci=new ep(0),this.li=!1,this.li=!0,this.hi=new C5,this.referenceDelegate=t(this),this.Pi=new P5(this),this.indexManager=new p5,this.remoteDocumentCache=(function(o){return new I5(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new d5(e),this.Ii=new A5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new x5,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new R5(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){It("MemoryPersistence","Starting transaction:",t);const o=new N5(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,e){return vt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class N5 extends ak{constructor(t){super(),this.currentSequenceNumber=t}}class fy{constructor(t){this.persistence=t,this.Ri=new hy,this.Vi=null}static mi(t){return new fy(t)}get fi(){if(this.Vi)return this.Vi;throw qt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),vt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),vt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),vt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.fi,(r=>{const o=zt.fromPath(r);return this.gi(t,o).next((u=>{u||e.removeEntry(o,Wt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return vt.or([()=>vt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Rm{constructor(t,e){this.persistence=t,this.pi=new cu((r=>uk(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=E5(this,e)}static mi(t,e){return new Rm(t,e)}Ei(){}di(t){return vt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((o=>r+o))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return vt.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?vt.resolve():e(o)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,e).next((g=>{g||(r++,u.removeEntry(f,Wt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),vt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),vt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),vt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),vt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Yd(t.data.value)),e}br(t,e,r){return vt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const o=this.pi.get(e);return vt.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=o}static As(t,e){let r=ge(),o=ge();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dy(t,e.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aN()?8:ok(oi())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,o){const u={result:null};return this.ys(t,e).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,e,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new L5;return this.Ss(t,e,f).next((g=>{if(u.result=g,this.Vs)return this.bs(t,e,f,g.size)}))})).next((()=>u.result))}bs(t,e,r,o){return r.documentReadCount<this.fs?(ec()<=me.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",nc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),vt.resolve()):(ec()<=me.DEBUG&&It("QueryEngine","Query:",nc(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ec()<=me.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",nc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ys(e))):vt.resolve())}ys(t,e){if(bw(e))return vt.resolve(null);let r=Ys(e);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(e.limit!==null&&o===1&&(e=cv(e,null,"F"),r=Ys(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=ge(...u);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,r).next((v=>{const y=this.Ds(e,g);return this.Cs(e,y,f,v.readTime)?this.ys(t,cv(e,null,"F")):this.vs(t,y,e,v)}))))})))))}ws(t,e,r,o){return bw(e)||o.isEqual(Wt.min())?vt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(e,u);return this.Cs(e,f,r,o)?vt.resolve(null):(ec()<=me.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nc(e)),this.vs(t,f,e,nk(o,Qh)).next((g=>g)))}))}Ds(t,e){let r=new Ln(tx(t));return e.forEach(((o,u)=>{sp(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,o){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,e,r){return ec()<=me.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",nc(e)),this.ps.getDocumentsMatchingQuery(t,e,Qo.min(),r)}vs(t,e,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(e.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="LocalStore",D5=3e8;class k5{constructor(t,e,r,o){this.persistence=t,this.Fs=e,this.serializer=o,this.Ms=new an(pe),this.xs=new cu((u=>iy(u)),ry),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new S5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function j5(n,t,e,r){return new k5(n,t,e,r)}async function wx(n,t){const e=Qt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let v=ge();for(const y of o){f.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of u){g.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return e.localDocuments.getDocuments(r,v).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function V5(n,t){const e=Qt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,A){const C=y.batch,P=C.keys();let M=vt.resolve();return P.forEach((H=>{M=M.next((()=>A.getEntry(v,H))).next((K=>{const Z=y.docVersions.get(H);Ne(Z!==null,48541),K.version.compareTo(Z)<0&&(C.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),A.addEntry(K)))}))})),M.next((()=>g.mutationQueue.removeMutationBatch(v,C)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let v=ge();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>e.localDocuments.getDocuments(r,o)))}))}function Sx(n){const t=Qt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function z5(n,t){const e=Qt(n),r=t.snapshotVersion;let o=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=e.Ns.newChangeBuffer({trackRemovals:!0});o=e.Ms;const g=[];t.targetChanges.forEach(((A,C)=>{const P=o.get(C);if(!P)return;g.push(e.Pi.removeMatchingKeys(u,A.removedDocuments,C).next((()=>e.Pi.addMatchingKeys(u,A.addedDocuments,C))));let M=P.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(C)!==null?M=M.withResumeToken(Yn.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):A.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(A.resumeToken,r)),o=o.insert(C,M),(function(K,Z,ft){return K.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=D5?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(P,M,A)&&g.push(e.Pi.updateTargetData(u,M))}));let v=Ga(),y=ge();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(B5(u,f,t.documentUpdates).next((A=>{v=A.ks,y=A.qs}))),!r.isEqual(Wt.min())){const A=e.Pi.getLastRemoteSnapshotVersion(u).next((C=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(A)}return vt.waitFor(g).next((()=>f.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,v,y))).next((()=>v))})).then((u=>(e.Ms=o,u)))}function B5(n,t,e){let r=ge(),o=ge();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let f=Ga();return e.forEach(((g,v)=>{const y=u.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Wt.min())?(t.removeEntry(g,v.readTime),f=f.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),f=f.insert(g,v)):It(my,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:f,qs:o}}))}function U5(n,t){const e=Qt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=ty),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function F5(n,t){const e=Qt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return e.Pi.getTargetData(r,t).next((u=>u?(o=u,vt.resolve(o)):e.Pi.allocateTargetId(r).next((f=>(o=new Fo(t,f,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=e.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function pv(n,t,e){const r=Qt(n),o=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!jc(f))throw f;It(my,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function Lw(n,t,e){const r=Qt(n);let o=Wt.min(),u=ge();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(v,y,A){const C=Qt(v),P=C.xs.get(A);return P!==void 0?vt.resolve(C.Ms.get(P)):C.Pi.getTargetData(y,A)})(r,f,Ys(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((v=>{u=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,e?o:Wt.min(),e?u:ge()))).next((g=>(H5(r,Rk(t),g),{documents:g,Qs:u})))))}function H5(n,t,e){let r=n.Os.get(t)||Wt.min();e.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class Mw{constructor(){this.activeTargetIds=Mk()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class q5{constructor(){this.Mo=new Mw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Mw,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="ConnectivityMonitor";class kw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){It(Dw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){It(Dw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd=null;function gv(){return Vd===null?Vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vd++,"0x"+Vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="RestConnection",Z5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K5{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Em?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,e,r,o,u){const f=gv(),g=this.zo(t,e.toUriEncodedString());It(C_,`Sending RPC '${t}' ${f}:`,g,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,u);const{host:y}=new URL(g),A=Nc(y);return this.Jo(t,g,v,r,A).then((C=>(It(C_,`Received RPC '${t}' ${f}: `,C),C)),(C=>{throw bc(C_,`RPC '${t}' ${f} failed with error: `,C,"url: ",g,"request:",r),C}))}Ho(t,e,r,o,u,f){return this.Go(t,e,r,o,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,e){const r=Z5[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="WebChannelConnection";class Y5 extends K5{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,o,u){const f=gv();return new Promise(((g,v)=>{const y=new CA;y.setWithCredentials(!0),y.listenOnce(RA.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Wd.NO_ERROR:const C=y.getResponseJson();It(ri,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(C)),g(C);break;case Wd.TIMEOUT:It(ri,`RPC '${t}' ${f} timed out`),v(new Ct(pt.DEADLINE_EXCEEDED,"Request time out"));break;case Wd.HTTP_ERROR:const P=y.getStatus();if(It(ri,`RPC '${t}' ${f} failed with status:`,P,"response text:",y.getResponseText()),P>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const H=M==null?void 0:M.error;if(H&&H.status&&H.message){const K=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Et)>=0?Et:pt.UNKNOWN})(H.status);v(new Ct(K,H.message))}else v(new Ct(pt.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new Ct(pt.UNAVAILABLE,"Connection failed."));break;default:qt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{It(ri,`RPC '${t}' ${f} completed.`)}}));const A=JSON.stringify(o);It(ri,`RPC '${t}' ${f} sending request:`,o),y.send(e,"POST",A,r,15)}))}T_(t,e,r){const o=gv(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=PA(),g=OA(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,e,r),v.encodeInitMessageHeaders=!0;const A=u.join("");It(ri,`Creating RPC '${t}' stream ${o}: ${A}`,v);const C=f.createWebChannel(A,v);this.I_(C);let P=!1,M=!1;const H=new W5({Yo:Z=>{M?It(ri,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(P||(It(ri,`Opening RPC '${t}' stream ${o} transport.`),C.open(),P=!0),It(ri,`RPC '${t}' stream ${o} sending:`,Z),C.send(Z))},Zo:()=>C.close()}),K=(Z,ft,Et)=>{Z.listen(ft,(lt=>{try{Et(lt)}catch(xt){setTimeout((()=>{throw xt}),0)}}))};return K(C,Ph.EventType.OPEN,(()=>{M||(It(ri,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),K(C,Ph.EventType.CLOSE,(()=>{M||(M=!0,It(ri,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(C))})),K(C,Ph.EventType.ERROR,(Z=>{M||(M=!0,bc(ri,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),H.a_(new Ct(pt.UNAVAILABLE,"The operation could not be completed")))})),K(C,Ph.EventType.MESSAGE,(Z=>{var ft;if(!M){const Et=Z.data[0];Ne(!!Et,16349);const lt=Et,xt=(lt==null?void 0:lt.error)||((ft=lt[0])==null?void 0:ft.error);if(xt){It(ri,`RPC '${t}' stream ${o} received error:`,xt);const Lt=xt.status;let jt=(function(V){const G=Rn[V];if(G!==void 0)return hx(G)})(Lt),j=xt.message;jt===void 0&&(jt=pt.INTERNAL,j="Unknown error status: "+Lt+" with message "+xt.message),M=!0,H.a_(new Ct(jt,j)),C.close()}else It(ri,`RPC '${t}' stream ${o} received:`,Et),H.u_(Et)}})),K(g,IA.STAT_EVENT,(Z=>{Z.stat===iv.PROXY?It(ri,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===iv.NOPROXY&&It(ri,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function R_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(n){return new Jk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,e,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,e-r);o>0&&It("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="PersistentStream";class xx{constructor(t,e,r,o,u,f,g,v){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ax(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===pt.RESOURCE_EXHAUSTED?(qa(e.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===e&&this.G_(r,o)}),(r=>{t((()=>{const o=new Ct(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return It(jw,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(It(jw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Q5 extends xx{constructor(t,e,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,f),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=n5(this.serializer,t),r=(function(u){if(!("targetChange"in u))return Wt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Wt.min():f.readTime?Qs(f.readTime):Wt.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=mv(this.serializer),e.addTarget=(function(u,f){let g;const v=f.target;if(g=lv(v)?{documents:s5(u,v)}:{query:a5(u,v).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=mx(u,f.resumeToken);const y=hv(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Wt.min())>0){g.readTime=Cm(u,f.snapshotVersion.toTimestamp());const y=hv(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=l5(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=mv(this.serializer),e.removeTarget=t,this.q_(e)}}class X5 extends xx{constructor(t,e,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=r5(t.writeResults,t.commitTime),r=Qs(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=mv(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>i5(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{}class J5 extends $5{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ct(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,fv(e,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ct(pt.UNKNOWN,u.toString())}))}Ho(t,e,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,fv(e,r),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ct(pt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class t4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qa(e),this.aa=!1):It("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="RemoteStore";class e4{constructor(t,e,r,o,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{hu(this)&&(It(eu,"Restarting streams for network reachability change."),await(async function(v){const y=Qt(v);y.Ea.add(4),await bf(y),y.Ra.set("Unknown"),y.Ea.delete(4),await cp(y)})(this))}))})),this.Ra=new t4(r,o)}}async function cp(n){if(hu(n))for(const t of n.da)await t(!0)}async function bf(n){for(const t of n.da)await t(!1)}function Cx(n,t){const e=Qt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),vy(e)?_y(e):Vc(e).O_()&&gy(e,t))}function py(n,t){const e=Qt(n),r=Vc(e);e.Ia.delete(t),r.O_()&&Rx(e,t),e.Ia.size===0&&(r.O_()?r.L_():hu(e)&&e.Ra.set("Unknown"))}function gy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Vc(n).Y_(t)}function Rx(n,t){n.Va.Ue(t),Vc(n).Z_(t)}function _y(n){n.Va=new Yk({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Vc(n).start(),n.Ra.ua()}function vy(n){return hu(n)&&!Vc(n).x_()&&n.Ia.size>0}function hu(n){return Qt(n).Ea.size===0}function Ix(n){n.Va=void 0}async function n4(n){n.Ra.set("Online")}async function i4(n){n.Ia.forEach(((t,e)=>{gy(n,t)}))}async function r4(n,t){Ix(n),vy(n)?(n.Ra.ha(t),_y(n)):n.Ra.set("Unknown")}async function s4(n,t,e){if(n.Ra.set("Online"),t instanceof dx&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(n,t)}catch(r){It(eu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Im(n,r)}else if(t instanceof $d?n.Va.Ze(t):t instanceof fx?n.Va.st(t):n.Va.tt(t),!e.isEqual(Wt.min()))try{const r=await Sx(n.localStore);e.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=u.Ia.get(y);A&&u.Ia.set(y,A.withResumeToken(v.resumeToken,f))}})),g.targetMismatches.forEach(((v,y)=>{const A=u.Ia.get(v);if(!A)return;u.Ia.set(v,A.withResumeToken(Yn.EMPTY_BYTE_STRING,A.snapshotVersion)),Rx(u,v);const C=new Fo(A.target,v,y,A.sequenceNumber);gy(u,C)})),u.remoteSyncer.applyRemoteEvent(g)})(n,e)}catch(r){It(eu,"Failed to raise snapshot:",r),await Im(n,r)}}async function Im(n,t,e){if(!jc(t))throw t;n.Ea.add(1),await bf(n),n.Ra.set("Offline"),e||(e=()=>Sx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{It(eu,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await cp(n)}))}function Ox(n,t){return t().catch((e=>Im(n,e,t)))}async function hp(n){const t=Qt(n),e=tl(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ty;for(;a4(t);)try{const o=await U5(t.localStore,r);if(o===null){t.Ta.length===0&&e.L_();break}r=o.batchId,o4(t,o)}catch(o){await Im(t,o)}Px(t)&&Nx(t)}function a4(n){return hu(n)&&n.Ta.length<10}function o4(n,t){n.Ta.push(t);const e=tl(n);e.O_()&&e.X_&&e.ea(t.mutations)}function Px(n){return hu(n)&&!tl(n).x_()&&n.Ta.length>0}function Nx(n){tl(n).start()}async function l4(n){tl(n).ra()}async function u4(n){const t=tl(n);for(const e of n.Ta)t.ea(e.mutations)}async function c4(n,t,e){const r=n.Ta.shift(),o=ly.from(r,t,e);await Ox(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await hp(n)}async function h4(n,t){t&&tl(n).X_&&await(async function(r,o){if((function(f){return Zk(f)&&f!==pt.ABORTED})(o.code)){const u=r.Ta.shift();tl(r).B_(),await Ox(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await hp(r)}})(n,t),Px(n)&&Nx(n)}async function Vw(n,t){const e=Qt(n);e.asyncQueue.verifyOperationInProgress(),It(eu,"RemoteStore received new credentials");const r=hu(e);e.Ea.add(3),await bf(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await cp(e)}async function f4(n,t){const e=Qt(n);t?(e.Ea.delete(2),await cp(e)):t||(e.Ea.add(2),await bf(e),e.Ra.set("Unknown"))}function Vc(n){return n.ma||(n.ma=(function(e,r,o){const u=Qt(e);return u.sa(),new Q5(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:n4.bind(null,n),t_:i4.bind(null,n),r_:r4.bind(null,n),H_:s4.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),vy(n)?_y(n):n.Ra.set("Unknown")):(await n.ma.stop(),Ix(n))}))),n.ma}function tl(n){return n.fa||(n.fa=(function(e,r,o){const u=Qt(e);return u.sa(),new X5(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:l4.bind(null,n),r_:h4.bind(null,n),ta:u4.bind(null,n),na:c4.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await hp(n)):(await n.fa.stop(),n.Ta.length>0&&(It(eu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,e,r,o,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,u){const f=Date.now()+r,g=new yy(t,e,f,o,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(n,t){if(qa("AsyncQueue",`${t}: ${n}`),jc(n))return new Ct(pt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{static emptySet(t){return new fc(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||zt.comparator(e.key,r.key):(e,r)=>zt.comparator(e.key,r.key),this.keyedMap=Nh(),this.sortedSet=new an(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof fc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new fc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.ga=new an(zt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):qt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class Ac{constructor(t,e,r,o,u,f,g,v,y){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,e,r,o,u){const f=[];return e.forEach((g=>{f.push({type:0,doc:g})})),new Ac(t,e,fc.emptySet(e),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class m4{constructor(){this.queries=Bw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const o=Qt(e),u=o.queries;o.queries=Bw(),u.forEach(((f,g)=>{for(const v of g.Sa)v.onError(r)}))})(this,new Ct(pt.ABORTED,"Firestore shutting down"))}}function Bw(){return new cu((n=>JA(n)),rp)}async function Lx(n,t){const e=Qt(n);let r=3;const o=t.query;let u=e.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new d4,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(o,!0);break;case 1:u.wa=await e.onListen(o,!1);break;case 2:await e.onFirstRemoteStoreListen(o)}}catch(f){const g=by(f,`Initialization of query '${nc(t.query)}' failed`);return void t.onError(g)}e.queries.set(o,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&Ey(e)}async function Mx(n,t){const e=Qt(n),r=t.query;let o=3;const u=e.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function p4(n,t){const e=Qt(n);let r=!1;for(const o of t){const u=o.query,f=e.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(r=!0);f.wa=o}}r&&Ey(e)}function g4(n,t,e){const r=Qt(n),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(e);r.queries.delete(t)}function Ey(n){n.Ca.forEach((t=>{t.next()}))}var _v,Uw;(Uw=_v||(_v={})).Ma="default",Uw.Cache="cache";class Dx{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ac(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ac.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_v.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t){this.key=t}}class jx{constructor(t){this.key=t}}class _4{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=tx(t),this.tu=new fc(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new zw,o=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,f=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,C)=>{const P=o.get(A),M=sp(this.query,C)?C:null,H=!!P&&this.mutatedKeys.has(P.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Z=!1;P&&M?P.data.isEqual(M.data)?H!==K&&(r.track({type:3,doc:M}),Z=!0):this.su(P,M)||(r.track({type:2,doc:M}),Z=!0,(v&&this.eu(M,v)>0||y&&this.eu(M,y)<0)&&(g=!0)):!P&&M?(r.track({type:0,doc:M}),Z=!0):P&&!M&&(r.track({type:1,doc:P}),Z=!0,(v||y)&&(g=!0)),Z&&(M?(f=f.add(M),u=K?u.add(A):u.delete(A)):(f=f.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((A,C)=>(function(M,H){const K=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt(20277,{Rt:Z})}};return K(M)-K(H)})(A.type,C.type)||this.eu(A.doc,C.doc))),this.ou(r),o=o??!1;const g=e&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,f.length!==0||y?{snapshot:new Ac(this.query,t.tu,u,f,t.mutatedKeys,v===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new jx(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new kx(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=ge();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ac.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ty="SyncEngine";class v4{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class y4{constructor(t){this.key=t,this.hu=!1}}class b4{constructor(t,e,r,o,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new cu((g=>JA(g)),rp),this.Iu=new Map,this.Eu=new Set,this.du=new an(zt.comparator),this.Au=new Map,this.Ru=new hy,this.Vu={},this.mu=new Map,this.fu=Sc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E4(n,t,e=!0){const r=Hx(n);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Vx(r,t,e,!0),o}async function T4(n,t){const e=Hx(n);await Vx(e,t,!0,!1)}async function Vx(n,t,e,r){const o=await F5(n.localStore,Ys(t)),u=o.targetId,f=n.sharedClientState.addLocalQueryTarget(u,e);let g;return r&&(g=await w4(n,t,u,f==="current",o.resumeToken)),n.isPrimaryClient&&e&&Cx(n.remoteStore,o),g}async function w4(n,t,e,r,o){n.pu=(C,P,M)=>(async function(K,Z,ft,Et){let lt=Z.view.ru(ft);lt.Cs&&(lt=await Lw(K.localStore,Z.query,!1).then((({documents:j})=>Z.view.ru(j,lt))));const xt=Et&&Et.targetChanges.get(Z.targetId),Lt=Et&&Et.targetMismatches.get(Z.targetId)!=null,jt=Z.view.applyChanges(lt,K.isPrimaryClient,xt,Lt);return Hw(K,Z.targetId,jt.au),jt.snapshot})(n,C,P,M);const u=await Lw(n.localStore,t,!0),f=new _4(t,u.Qs),g=f.ru(u.documents),v=yf.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",o),y=f.applyChanges(g,n.isPrimaryClient,v);Hw(n,e,y.au);const A=new v4(t,e,f);return n.Tu.set(t,A),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),y.snapshot}async function S4(n,t,e){const r=Qt(n),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!rp(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await pv(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),e&&py(r.remoteStore,o.targetId),vv(r,o.targetId)})).catch(kc)):(vv(r,o.targetId),await pv(r.localStore,o.targetId,!0))}async function A4(n,t){const e=Qt(n),r=e.Tu.get(t),o=e.Iu.get(r.targetId);e.isPrimaryClient&&o.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),py(e.remoteStore,r.targetId))}async function x4(n,t,e){const r=L4(n);try{const o=await(function(f,g){const v=Qt(f),y=Xe.now(),A=g.reduce(((M,H)=>M.add(H.key)),ge());let C,P;return v.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let H=Ga(),K=ge();return v.Ns.getEntries(M,A).next((Z=>{H=Z,H.forEach(((ft,Et)=>{Et.isValidDocument()||(K=K.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(M,H))).next((Z=>{C=Z;const ft=[];for(const Et of g){const lt=Uk(Et,C.get(Et.key).overlayedDocument);lt!=null&&ft.push(new al(Et.key,lt,GA(lt.value.mapValue),jr.exists(!0)))}return v.mutationQueue.addMutationBatch(M,y,ft,g)})).next((Z=>{P=Z;const ft=Z.applyToLocalDocumentSet(C,K);return v.documentOverlayCache.saveOverlays(M,Z.batchId,ft)}))})).then((()=>({batchId:P.batchId,changes:nx(C)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,g,v){let y=f.Vu[f.currentUser.toKey()];y||(y=new an(pe)),y=y.insert(g,v),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,e),await Ef(r,o.changes),await hp(r.remoteStore)}catch(o){const u=by(o,"Failed to persist write");e.reject(u)}}async function zx(n,t){const e=Qt(n);try{const r=await z5(e.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=e.Au.get(u);f&&(Ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ne(f.hu,14607):o.removedDocuments.size>0&&(Ne(f.hu,42227),f.hu=!1))})),await Ef(e,r,t)}catch(r){await kc(r)}}function Fw(n,t,e){const r=Qt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const o=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const v=Qt(f);v.onlineState=g;let y=!1;v.queries.forEach(((A,C)=>{for(const P of C.Sa)P.va(g)&&(y=!0)})),y&&Ey(v)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function C4(n,t,e){const r=Qt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new an(zt.comparator);f=f.insert(u,ai.newNoDocument(u,Wt.min()));const g=ge().add(u),v=new lp(Wt.min(),new Map,new an(pe),f,g);await zx(r,v),r.du=r.du.remove(u),r.Au.delete(t),wy(r)}else await pv(r.localStore,t,!1).then((()=>vv(r,t,e))).catch(kc)}async function R4(n,t){const e=Qt(n),r=t.batch.batchId;try{const o=await V5(e.localStore,t);Ux(e,r,null),Bx(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await Ef(e,o)}catch(o){await kc(o)}}async function I4(n,t,e){const r=Qt(n);try{const o=await(function(f,g){const v=Qt(f);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,g).next((C=>(Ne(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(y,C)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);Ux(r,t,e),Bx(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await Ef(r,o)}catch(o){await kc(o)}}function Bx(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function Ux(n,t,e){const r=Qt(n);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(e?u.reject(e):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function vv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||Fx(n,r)}))}function Fx(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(py(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),wy(n))}function Hw(n,t,e){for(const r of e)r instanceof kx?(n.Ru.addReference(r.key,t),O4(n,r)):r instanceof jx?(It(Ty,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||Fx(n,r.key)):qt(19791,{wu:r})}function O4(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(It(Ty,"New document in limbo: "+e),n.Eu.add(r),wy(n))}function wy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new zt(qe.fromString(t)),r=n.fu.next();n.Au.set(r,new y4(e)),n.du=n.du.insert(e,r),Cx(n.remoteStore,new Fo(Ys(sy(e.path)),r,"TargetPurposeLimboResolution",ep.ce))}}async function Ef(n,t,e){const r=Qt(n),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,v)=>{f.push(r.pu(v,t,e).then((y=>{var A;if((y||e)&&r.isPrimaryClient){const C=y?!y.fromCache:(A=e==null?void 0:e.targetChanges.get(v.targetId))==null?void 0:A.current;r.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(y){o.push(y);const C=dy.As(v.targetId,y);u.push(C)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(v,y){const A=Qt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>vt.forEach(y,(P=>vt.forEach(P.Es,(M=>A.persistence.referenceDelegate.addReference(C,P.targetId,M))).next((()=>vt.forEach(P.ds,(M=>A.persistence.referenceDelegate.removeReference(C,P.targetId,M)))))))))}catch(C){if(!jc(C))throw C;It(my,"Failed to update sequence numbers: "+C)}for(const C of y){const P=C.targetId;if(!C.fromCache){const M=A.Ms.get(P),H=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(H);A.Ms=A.Ms.insert(P,K)}}})(r.localStore,u))}async function P4(n,t){const e=Qt(n);if(!e.currentUser.isEqual(t)){It(Ty,"User change. New user:",t.toKey());const r=await wx(e.localStore,t);e.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((v=>{v.reject(new Ct(pt.CANCELLED,f))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ef(e,r.Ls)}}function N4(n,t){const e=Qt(n),r=e.Au.get(t);if(r&&r.hu)return ge().add(r.key);{let o=ge();const u=e.Iu.get(t);if(!u)return o;for(const f of u){const g=e.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function Hx(n){const t=Qt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=zx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=N4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=C4.bind(null,t),t.Pu.H_=p4.bind(null,t.eventManager),t.Pu.yu=g4.bind(null,t.eventManager),t}function L4(n){const t=Qt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=R4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=I4.bind(null,t),t}class Om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=up(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return j5(this.persistence,new M5,t.initialUser,this.serializer)}Cu(t){return new Tx(fy.mi,this.serializer)}Du(t){return new q5}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Om.provider={build:()=>new Om};class M4 extends Om{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ne(this.persistence.referenceDelegate instanceof Rm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new y5(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new Tx((r=>Rm.mi(r,e)),this.serializer)}}class yv{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P4.bind(null,this.syncEngine),await f4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new m4})()}createDatastore(t){const e=up(t.databaseInfo.databaseId),r=(function(u){return new Y5(u)})(t.databaseInfo);return(function(u,f,g,v){return new J5(u,f,g,v)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,o,u,f,g){return new e4(r,o,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(e=>Fw(this.syncEngine,e,0)),(function(){return kw.v()?new kw:new G5})())}createSyncEngine(t,e){return(function(o,u,f,g,v,y,A){const C=new b4(o,u,f,g,v,y);return A&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(o){const u=Qt(o);It(eu,"RemoteStore shutting down."),u.Ea.add(5),await bf(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}yv.provider={build:()=>new yv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):qa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="FirestoreClient";class D4{constructor(t,e,r,o,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=si.UNAUTHENTICATED,this.clientId=Jv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{It(el,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(It(el,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=by(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function I_(n,t){n.asyncQueue.verifyOperationInProgress(),It(el,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await wx(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function qw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await k4(n);It(el,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>Vw(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>Vw(t.remoteStore,o))),n._onlineComponents=t}async function k4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){It(el,"Using user provided OfflineComponentProvider");try{await I_(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(o){return o.name==="FirebaseError"?o.code===pt.FAILED_PRECONDITION||o.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(e))throw e;bc("Error using user provided cache. Falling back to memory cache: "+e),await I_(n,new Om)}}else It(el,"Using default OfflineComponentProvider"),await I_(n,new M4(void 0));return n._offlineComponents}async function Gx(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(It(el,"Using user provided OnlineComponentProvider"),await qw(n,n._uninitializedComponentsProvider._online)):(It(el,"Using default OnlineComponentProvider"),await qw(n,new yv))),n._onlineComponents}function j4(n){return Gx(n).then((t=>t.syncEngine))}async function Zx(n){const t=await Gx(n),e=t.eventManager;return e.onListen=E4.bind(null,t.syncEngine),e.onUnlisten=S4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=T4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=A4.bind(null,t.syncEngine),e}function V4(n,t,e={}){const r=new ja;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,y){const A=new qx({next:P=>{A.Nu(),f.enqueueAndForget((()=>Mx(u,C)));const M=P.docs.has(g);!M&&P.fromCache?y.reject(new Ct(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&P.fromCache&&v&&v.source==="server"?y.reject(new Ct(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(P)},error:P=>y.reject(P)}),C=new Dx(sy(g.path),A,{includeMetadataChanges:!0,qa:!0});return Lx(u,C)})(await Zx(n),n.asyncQueue,t,e,r))),r.promise}function z4(n,t,e={}){const r=new ja;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,v,y){const A=new qx({next:P=>{A.Nu(),f.enqueueAndForget((()=>Mx(u,C))),P.fromCache&&v.source==="server"?y.reject(new Ct(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(P)},error:P=>y.reject(P)}),C=new Dx(g,A,{includeMetadataChanges:!0,qa:!0});return Lx(u,C)})(await Zx(n),n.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="firestore.googleapis.com",Zw=!0;class Kw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wx,this.ssl=Zw}else this.host=t.host,this.ssl=t.ssl??Zw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Ex;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_5)throw new Ct(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ek("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kx(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ct(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ct(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ct(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fp{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GD;switch(r.type){case"firstParty":return new YD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=Gw.get(e);r&&(It("ComponentProvider","Removing Datastore"),Gw.delete(e),r.terminate())})(this),Promise.resolve()}}function B4(n,t,e,r={}){var y;n=ms(n,fp);const o=Nc(t),u=n._getSettings(),f={...u,emulatorOptions:n._getEmulatorOptions()},g=`${t}:${e}`;o&&(D1(`https://${g}`),k1("Firestore",!0)),u.host!==Wx&&u.host!==g&&bc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...u,host:g,ssl:o,emulatorOptions:r};if(!Yo(v,f)&&(n._setSettings(v),r.mockUserToken)){let A,C;if(typeof r.mockUserToken=="string")A=r.mockUserToken,C=si.MOCK_USER;else{A=$P(r.mockUserToken,(y=n._app)==null?void 0:y.options.projectId);const P=r.mockUserToken.sub||r.mockUserToken.user_id;if(!P)throw new Ct(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new si(P)}n._authCredentials=new ZD(new LA(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new zc(this.firestore,t,this._query)}}class vn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new vn(this.firestore,t,this._key)}toJSON(){return{type:vn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(gf(e,vn._jsonSchema))return new vn(t,r||null,new zt(qe.fromString(e.referencePath)))}}vn._jsonSchemaVersion="firestore/documentReference/1.0",vn._jsonSchema={type:On("string",vn._jsonSchemaVersion),referencePath:On("string")};class Zo extends zc{constructor(t,e,r){super(t,e,sy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new vn(this.firestore,null,new zt(t))}withConverter(t){return new Zo(this.firestore,t,this._path)}}function Gl(n,t,...e){if(n=yn(n),MA("collection","path",t),n instanceof fp){const r=qe.fromString(t,...e);return aw(r),new Zo(n,null,r)}{if(!(n instanceof vn||n instanceof Zo))throw new Ct(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(t,...e));return aw(r),new Zo(n.firestore,null,r)}}function Ko(n,t,...e){if(n=yn(n),arguments.length===1&&(t=Jv.newId()),MA("doc","path",t),n instanceof fp){const r=qe.fromString(t,...e);return sw(r),new vn(n,null,new zt(r))}{if(!(n instanceof vn||n instanceof Zo))throw new Ct(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(t,...e));return sw(r),new vn(n.firestore,n instanceof Zo?n.converter:null,new zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="AsyncQueue";class Yw{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ax(this,"async_queue_retry"),this._c=()=>{const r=R_();r&&It(Ww,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=R_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=R_();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jc(t))throw t;It(Ww,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,qa("INTERNAL UNHANDLED ERROR: ",Qw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const o=yy.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&qt(47125,{Pc:Qw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Qw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class fu extends fp{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new Yw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yw(t),this._firestoreClient=void 0,await t}}}function U4(n,t){const e=typeof n=="object"?n:Uv(),r=typeof n=="string"?n:Em,o=uu(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=QP("firestore");u&&B4(o,...u)}return o}function Sy(n){if(n._terminated)throw new Ct(pt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||F4(n),n._firestoreClient}function F4(n){var r,o,u;const t=n._freezeSettings(),e=(function(g,v,y,A){return new fk(g,v,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Kx(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new D4(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nr(Yn.fromBase64String(t))}catch(e){throw new Ct(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Nr(Yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(gf(t,Nr._jsonSchema))return Nr.fromBase64String(t.bytes)}}Nr._jsonSchemaVersion="firestore/bytes/1.0",Nr._jsonSchema={type:On("string",Nr._jsonSchemaVersion),bytes:On("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pe(this._lat,t._lat)||pe(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xs._jsonSchemaVersion}}static fromJSON(t){if(gf(t,Xs._jsonSchema))return new Xs(t.latitude,t.longitude)}}Xs._jsonSchemaVersion="firestore/geoPoint/1.0",Xs._jsonSchema={type:On("string",Xs._jsonSchemaVersion),latitude:On("number"),longitude:On("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:$s._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(gf(t,$s._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new $s(t.vectorValues);throw new Ct(pt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$s._jsonSchemaVersion="firestore/vectorValue/1.0",$s._jsonSchema={type:On("string",$s._jsonSchemaVersion),vectorValues:On("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=/^__.*__$/;class q4{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new al(t,this.data,this.fieldMask,e,this.fieldTransforms):new vf(t,this.data,e,this.fieldTransforms)}}class Yx{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new al(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Qx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt(40011,{Ac:n})}}class xy{constructor(t,e,r,o,u,f){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){var o;const e=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Pm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Qx(this.Ac)&&H4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class G4{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||up(t)}Cc(t,e,r,o=!1){return new xy({Ac:t,methodName:e,Dc:r,path:Wn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(n){const t=n._freezeSettings(),e=up(n._databaseId);return new G4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Xx(n,t,e,r,o,u={}){const f=n.Cc(u.merge||u.mergeFields?2:0,t,e,o);Cy("Data must be an object, but it was:",f,r);const g=$x(r,f);let v,y;if(u.merge)v=new or(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const A=[];for(const C of u.mergeFields){const P=bv(t,C,e);if(!f.contains(P))throw new Ct(pt.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);tC(A,P)||A.push(P)}v=new or(A),y=f.fieldTransforms.filter((C=>v.covers(C.field)))}else v=null,y=f.fieldTransforms;return new q4(new zi(g),v,y)}class pp extends Ay{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pp}}function Z4(n,t,e,r){const o=n.Cc(1,t,e);Cy("Data must be an object, but it was:",o,r);const u=[],f=zi.empty();sl(r,((v,y)=>{const A=Ry(t,v,e);y=yn(y);const C=o.yc(A);if(y instanceof pp)u.push(A);else{const P=Tf(y,C);P!=null&&(u.push(A),f.set(A,P))}}));const g=new or(u);return new Yx(f,g,o.fieldTransforms)}function K4(n,t,e,r,o,u){const f=n.Cc(1,t,e),g=[bv(t,r,e)],v=[o];if(u.length%2!=0)throw new Ct(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<u.length;P+=2)g.push(bv(t,u[P])),v.push(u[P+1]);const y=[],A=zi.empty();for(let P=g.length-1;P>=0;--P)if(!tC(y,g[P])){const M=g[P];let H=v[P];H=yn(H);const K=f.yc(M);if(H instanceof pp)y.push(M);else{const Z=Tf(H,K);Z!=null&&(y.push(M),A.set(M,Z))}}const C=new or(y);return new Yx(A,C,f.fieldTransforms)}function W4(n,t,e,r=!1){return Tf(e,n.Cc(r?4:3,t))}function Tf(n,t){if(Jx(n=yn(n)))return Cy("Unsupported field value:",t,n),$x(n,t);if(n instanceof Ay)return(function(r,o){if(!Qx(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const g of r){let v=Tf(g,o.wc(f));v==null&&(v={nullValue:"NULL_VALUE"}),u.push(v),f++}return{arrayValue:{values:u}}})(n,t)}return(function(r,o){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Dk(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Xe.fromDate(r);return{timestampValue:Cm(o.serializer,u)}}if(r instanceof Xe){const u=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cm(o.serializer,u)}}if(r instanceof Xs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nr)return{bytesValue:mx(o.serializer,r._byteString)};if(r instanceof vn){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof $s)return(function(f,g){return{mapValue:{fields:{[HA]:{stringValue:qA},[Tm]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return ay(g.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${tp(r)}`)})(n,t)}function $x(n,t){const e={};return jA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sl(n,((r,o)=>{const u=Tf(o,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function Jx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof Xs||n instanceof Nr||n instanceof vn||n instanceof Ay||n instanceof $s)}function Cy(n,t,e){if(!Jx(e)||!DA(e)){const r=tp(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function bv(n,t,e){if((t=yn(t))instanceof dp)return t._internalPath;if(typeof t=="string")return Ry(n,t);throw Pm("Field path arguments must be of type string or ",n,!1,void 0,e)}const Y4=new RegExp("[~\\*/\\[\\]]");function Ry(n,t,e){if(t.search(Y4)>=0)throw Pm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dp(...t.split("."))._internalPath}catch{throw Pm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Pm(n,t,e,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;e&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(u||f)&&(v+=" (found",u&&(v+=` in field ${r}`),f&&(v+=` in document ${o}`),v+=")"),new Ct(pt.INVALID_ARGUMENT,g+n+v)}function tC(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,e,r,o,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Q4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Iy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Q4 extends eC{data(){return super.data()}}function Iy(n,t){return typeof t=="string"?Ry(n,t):t instanceof dp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ct(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Oy{}class $4 extends Oy{}function J4(n,t,...e){let r=[];t instanceof Oy&&r.push(t),r=r.concat(e),(function(u){const f=u.filter((v=>v instanceof Py)).length,g=u.filter((v=>v instanceof gp)).length;if(f>1||f>0&&g>0)throw new Ct(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class gp extends $4{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new gp(t,e,r)}_apply(t){const e=this._parse(t);return nC(t._query,e),new zc(t.firestore,t.converter,uv(t._query,e))}_parse(t){const e=mp(t.firestore);return(function(u,f,g,v,y,A,C){let P;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new Ct(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){$w(C,A);const H=[];for(const K of C)H.push(Xw(v,u,K));P={arrayValue:{values:H}}}else P=Xw(v,u,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||$w(C,A),P=W4(g,f,C,A==="in"||A==="not-in");return In.create(y,A,P)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function tj(n,t,e){const r=t,o=Iy("where",n);return gp._create(o,r,e)}class Py extends Oy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Py(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:ps.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const v of g)nC(f,v),f=uv(f,v)})(t._query,e),new zc(t.firestore,t.converter,uv(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xw(n,t,e){if(typeof(e=yn(e))=="string"){if(e==="")throw new Ct(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$A(t)&&e.indexOf("/")!==-1)throw new Ct(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(qe.fromString(e));if(!zt.isDocumentKey(r))throw new Ct(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mw(n,new zt(r))}if(e instanceof vn)return mw(n,e._key);throw new Ct(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tp(e)}.`)}function $w(n,t){if(!Array.isArray(n)||n.length===0)throw new Ct(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nC(n,t){const e=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new Ct(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class ej{convertValue(t,e="none"){switch(Jo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _n(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($o(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw qt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return sl(t,((o,u)=>{r[o]=this.convertValue(u,e)})),r}convertVectorValue(t){var r,o,u;const e=(u=(o=(r=t.fields)==null?void 0:r[Tm].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>_n(f.doubleValue)));return new $s(e)}convertGeoPoint(t){return new Xs(_n(t.latitude),_n(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=ip(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Xh(t));default:return null}}convertTimestamp(t){const e=Xo(t);return new Xe(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=qe.fromString(t);Ne(bx(r),9688,{name:t});const o=new $h(r.get(1),r.get(3)),u=new zt(r.popFirst(5));return o.isEqual(e)||qa(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class Mh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wl extends eC{constructor(t,e,r,o,u,f){super(t,e,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Iy("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(pt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Wl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Wl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wl._jsonSchema={type:On("string",Wl._jsonSchemaVersion),bundleSource:On("string","DocumentSnapshot"),bundleName:On("string"),bundle:On("string")};class Jd extends Wl{data(t={}){return super.data(t)}}class dc{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Mh(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new Jd(this._firestore,this._userDataWriter,r.key,r,new Mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const v=new Jd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mh(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const v=new Jd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mh(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),A=f.indexOf(g.doc.key)),{type:nj(g.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(pt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=dc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Jv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n){n=ms(n,vn);const t=ms(n.firestore,fu);return V4(Sy(t),n._key).then((e=>rj(t,n,e)))}dc._jsonSchemaVersion="firestore/querySnapshot/1.0",dc._jsonSchema={type:On("string",dc._jsonSchemaVersion),bundleSource:On("string","QuerySnapshot"),bundleName:On("string"),bundle:On("string")};class rC extends ej{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new vn(this.firestore,null,e)}}function Nm(n){n=ms(n,zc);const t=ms(n.firestore,fu),e=Sy(t),r=new rC(t);return X4(n._query),z4(e,n._query).then((o=>new dc(t,r,n,o)))}function Jw(n,t,e){n=ms(n,vn);const r=ms(n.firestore,fu),o=iC(n.converter,t,e);return _p(r,[Xx(mp(r),"setDoc",n._key,o,n.converter!==null,e).toMutation(n._key,jr.none())])}function ij(n,t,e,...r){n=ms(n,vn);const o=ms(n.firestore,fu),u=mp(o);let f;return f=typeof(t=yn(t))=="string"||t instanceof dp?K4(u,"updateDoc",n._key,t,e,r):Z4(u,"updateDoc",n._key,t),_p(o,[f.toMutation(n._key,jr.exists(!0))])}function tS(n){return _p(ms(n.firestore,fu),[new oy(n._key,jr.none())])}function Tv(n,t){const e=ms(n.firestore,fu),r=Ko(n),o=iC(n.converter,t);return _p(e,[Xx(mp(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then((()=>r))}function _p(n,t){return(function(r,o){const u=new ja;return r.asyncQueue.enqueueAndForget((async()=>x4(await j4(r),o,u))),u.promise})(Sy(n),t)}function rj(n,t,e){const r=e.docs.get(t._key),o=new rC(n);return new Wl(n,o,t._key,r,new Mh(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(o){Dc=o})(Lc),Js(new ds("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new fu(new KD(r.getProvider("auth-internal")),new QD(f,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ct(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $h(y.options.projectId,A)})(f,o),f);return u={useFetchStreams:e,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),kr(ew,nw,t),kr(ew,nw,"esm2020")})();var sj="firebase",aj="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(sj,aj,"app");const sC="@firebase/installations",Ny="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=1e4,oC=`w:${Ny}`,lC="FIS_v2",oj="https://firebaseinstallations.googleapis.com/v1",lj=3600*1e3,uj="installations",cj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},nu=new lu(uj,cj,hj);function uC(n){return n instanceof vs&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC({projectId:n}){return`${oj}/projects/${n}/installations`}function hC(n){return{token:n.token,requestStatus:2,expiresIn:dj(n.expiresIn),creationTime:Date.now()}}async function fC(n,t){const r=(await t.json()).error;return nu.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function dC({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function fj(n,{refreshToken:t}){const e=dC(n);return e.append("Authorization",mj(t)),e}async function mC(n){const t=await n();return t.status>=500&&t.status<600?n():t}function dj(n){return Number(n.replace("s","000"))}function mj(n){return`${lC} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const r=cC(n),o=dC(n),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:e,authVersion:lC,appId:n.appId,sdkVersion:oC},g={method:"POST",headers:o,body:JSON.stringify(f)},v=await mC(()=>fetch(r,g));if(v.ok){const y=await v.json();return{fid:y.fid||e,registrationStatus:2,refreshToken:y.refreshToken,authToken:hC(y.authToken)}}else throw await fC("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=/^[cdef][\w-]{21}$/,wv="";function vj(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=yj(n);return _j.test(e)?e:wv}catch{return wv}}function yj(n){return gj(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new Map;function _C(n,t){const e=vp(n);vC(e,t),bj(e,t)}function vC(n,t){const e=gC.get(n);if(e)for(const r of e)r(t)}function bj(n,t){const e=Ej();e&&e.postMessage({key:n,fid:t}),Tj()}let Zl=null;function Ej(){return!Zl&&"BroadcastChannel"in self&&(Zl=new BroadcastChannel("[Firebase] FID Change"),Zl.onmessage=n=>{vC(n.data.key,n.data.fid)}),Zl}function Tj(){gC.size===0&&Zl&&(Zl.close(),Zl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="firebase-installations-database",Sj=1,iu="firebase-installations-store";let O_=null;function Ly(){return O_||(O_=F1(wj,Sj,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(iu)}}})),O_}async function Lm(n,t){const e=vp(n),o=(await Ly()).transaction(iu,"readwrite"),u=o.objectStore(iu),f=await u.get(e);return await u.put(t,e),await o.done,(!f||f.fid!==t.fid)&&_C(n,t.fid),t}async function yC(n){const t=vp(n),r=(await Ly()).transaction(iu,"readwrite");await r.objectStore(iu).delete(t),await r.done}async function yp(n,t){const e=vp(n),o=(await Ly()).transaction(iu,"readwrite"),u=o.objectStore(iu),f=await u.get(e),g=t(f);return g===void 0?await u.delete(e):await u.put(g,e),await o.done,g&&(!f||f.fid!==g.fid)&&_C(n,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(n){let t;const e=await yp(n.appConfig,r=>{const o=Aj(r),u=xj(n,o);return t=u.registrationPromise,u.installationEntry});return e.fid===wv?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function Aj(n){const t=n||{fid:vj(),registrationStatus:0};return bC(t)}function xj(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(nu.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=Cj(n,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Rj(n)}:{installationEntry:t}}async function Cj(n,t){try{const e=await pj(n,t);return Lm(n.appConfig,e)}catch(e){throw uC(e)&&e.customData.serverCode===409?await yC(n.appConfig):await Lm(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function Rj(n){let t=await eS(n.appConfig);for(;t.registrationStatus===1;)await pC(100),t=await eS(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await My(n);return r||e}return t}function eS(n){return yp(n,t=>{if(!t)throw nu.create("installation-not-found");return bC(t)})}function bC(n){return Ij(n)?{fid:n.fid,registrationStatus:0}:n}function Ij(n){return n.registrationStatus===1&&n.registrationTime+aC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj({appConfig:n,heartbeatServiceProvider:t},e){const r=Pj(n,e),o=fj(n,e),u=t.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:oC,appId:n.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},v=await mC(()=>fetch(r,g));if(v.ok){const y=await v.json();return hC(y)}else throw await fC("Generate Auth Token",v)}function Pj(n,{fid:t}){return`${cC(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dy(n,t=!1){let e;const r=await yp(n.appConfig,u=>{if(!EC(u))throw nu.create("not-registered");const f=u.authToken;if(!t&&Mj(f))return u;if(f.requestStatus===1)return e=Nj(n,t),u;{if(!navigator.onLine)throw nu.create("app-offline");const g=kj(u);return e=Lj(n,g),g}});return e?await e:r.authToken}async function Nj(n,t){let e=await nS(n.appConfig);for(;e.authToken.requestStatus===1;)await pC(100),e=await nS(n.appConfig);const r=e.authToken;return r.requestStatus===0?Dy(n,t):r}function nS(n){return yp(n,t=>{if(!EC(t))throw nu.create("not-registered");const e=t.authToken;return jj(e)?{...t,authToken:{requestStatus:0}}:t})}async function Lj(n,t){try{const e=await Oj(n,t),r={...t,authToken:e};return await Lm(n.appConfig,r),e}catch(e){if(uC(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await yC(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Lm(n.appConfig,r)}throw e}}function EC(n){return n!==void 0&&n.registrationStatus===2}function Mj(n){return n.requestStatus===2&&!Dj(n)}function Dj(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+lj}function kj(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function jj(n){return n.requestStatus===1&&n.requestTime+aC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(n){const t=n,{installationEntry:e,registrationPromise:r}=await My(t);return r?r.catch(console.error):Dy(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(n,t=!1){const e=n;return await Bj(e),(await Dy(e,t)).token}async function Bj(n){const{registrationPromise:t}=await My(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(n){if(!n||!n.options)throw P_("App Configuration");if(!n.name)throw P_("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw P_(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function P_(n){return nu.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="installations",Fj="installations-internal",Hj=n=>{const t=n.getProvider("app").getImmediate(),e=Uj(t),r=uu(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},qj=n=>{const t=n.getProvider("app").getImmediate(),e=uu(t,TC).getImmediate();return{getId:()=>Vj(e),getToken:o=>zj(e,o)}};function Gj(){Js(new ds(TC,Hj,"PUBLIC")),Js(new ds(Fj,qj,"PRIVATE"))}Gj();kr(sC,Ny);kr(sC,Ny,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="analytics",Zj="firebase_id",Kj="origin",Wj=60*1e3,Yj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ky="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Qm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},lr=new lu("analytics","Analytics",Qj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(n){if(!n.startsWith(ky)){const t=lr.create("invalid-gtag-resource",{gtagURL:n});return _i.warn(t.message),""}return n}function wC(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function $j(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function Jj(n,t){const e=$j("firebase-js-sdk-policy",{createScriptURL:Xj}),r=document.createElement("script"),o=`${ky}?l=${n}&id=${t}`;r.src=e?e==null?void 0:e.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function tV(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function eV(n,t,e,r,o,u){const f=r[o];try{if(f)await t[f];else{const v=(await wC(e)).find(y=>y.measurementId===o);v&&await t[v.appId]}}catch(g){_i.error(g)}n("config",o,u)}async function nV(n,t,e,r,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await wC(e);for(const v of f){const y=g.find(C=>C.measurementId===v),A=y&&t[y.appId];if(A)u.push(A);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,o||{})}catch(u){_i.error(u)}}function iV(n,t,e,r){async function o(u,...f){try{if(u==="event"){const[g,v]=f;await nV(n,t,e,g,v)}else if(u==="config"){const[g,v]=f;await eV(n,t,e,r,g,v)}else if(u==="consent"){const[g,v]=f;n("consent",g,v)}else if(u==="get"){const[g,v,y]=f;n("get",g,v,y)}else if(u==="set"){const[g]=f;n("set",g)}else n(u,...f)}catch(g){_i.error(g)}}return o}function rV(n,t,e,r,o){let u=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=iV(u,n,t,e),{gtagCore:u,wrappedGtag:window[o]}}function sV(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(ky)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=30,oV=1e3;class lV{constructor(t={},e=oV){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const SC=new lV;function uV(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function cV(n){var f;const{appId:t,apiKey:e}=n,r={method:"GET",headers:uV(e)},o=Yj.replace("{app-id}",t),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let g="";try{const v=await u.json();(f=v.error)!=null&&f.message&&(g=v.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function hV(n,t=SC,e){const{appId:r,apiKey:o,measurementId:u}=n.options;if(!r)throw lr.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw lr.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new mV;return setTimeout(async()=>{g.abort()},Wj),AC({appId:r,apiKey:o,measurementId:u},f,g,t)}async function AC(n,{throttleEndTimeMillis:t,backoffCount:e},r,o=SC){var g;const{appId:u,measurementId:f}=n;try{await fV(r,t)}catch(v){if(f)return _i.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:u,measurementId:f};throw v}try{const v=await cV(n);return o.deleteThrottleMetadata(u),v}catch(v){const y=v;if(!dV(y)){if(o.deleteThrottleMetadata(u),f)return _i.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw v}const A=Number((g=y==null?void 0:y.customData)==null?void 0:g.httpStatus)===503?xT(e,o.intervalMillis,aV):xT(e,o.intervalMillis),C={throttleEndTimeMillis:Date.now()+A,backoffCount:e+1};return o.setThrottleMetadata(u,C),_i.debug(`Calling attemptFetch again in ${A} millis`),AC(n,C,r,o)}}function fV(n,t){return new Promise((e,r)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(e,o);n.addEventListener(()=>{clearTimeout(u),r(lr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function dV(n){if(!(n instanceof vs)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class mV{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function pV(n,t,e,r,o){if(o&&o.global){n("event",e,r);return}else{const u=await t,f={...r,send_to:u};n("event",e,f)}}async function gV(n,t,e,r){if(r&&r.global){const o={};for(const u of Object.keys(e))o[`user_properties.${u}`]=e[u];return n("set",o),Promise.resolve()}else{const o=await t;n("config",o,{update:!0,user_properties:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(){if(V1())try{await z1()}catch(n){return _i.warn(lr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return _i.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vV(n,t,e,r,o,u,f){const g=hV(n);g.then(P=>{e[P.measurementId]=P.appId,n.options.measurementId&&P.measurementId!==n.options.measurementId&&_i.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>_i.error(P)),t.push(g);const v=_V().then(P=>{if(P)return r.getId()}),[y,A]=await Promise.all([g,v]);sV(u)||Jj(u,y.measurementId),o("js",new Date);const C=(f==null?void 0:f.config)??{};return C[Kj]="firebase",C.update=!0,A!=null&&(C[Zj]=A),o("config",y.measurementId,C),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(t){this.app=t}_delete(){return delete mc[this.app.options.appId],Promise.resolve()}}let mc={},iS=[];const rS={};let N_="dataLayer",bV="gtag",sS,jy,aS=!1;function EV(){const n=[];if(j1()&&n.push("This is a browser extension environment."),oN()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),e=lr.create("invalid-analytics-context",{errorInfo:t});_i.warn(e.message)}}function TV(n,t,e){EV();const r=n.options.appId;if(!r)throw lr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)_i.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw lr.create("no-api-key");if(mc[r]!=null)throw lr.create("already-exists",{id:r});if(!aS){tV(N_);const{wrappedGtag:u,gtagCore:f}=rV(mc,iS,rS,N_,bV);jy=u,sS=f,aS=!0}return mc[r]=vV(n,iS,rS,t,sS,N_,e),new yV(n)}function wV(n=Uv()){n=yn(n);const t=uu(n,Mm);return t.isInitialized()?t.getImmediate():SV(n)}function SV(n,t={}){const e=uu(n,Mm);if(e.isInitialized()){const o=e.getImmediate();if(Yo(t,e.getOptions()))return o;throw lr.create("already-initialized")}return e.initialize({options:t})}function AV(n,t,e){n=yn(n),gV(jy,mc[n.app.options.appId],t,e).catch(r=>_i.error(r))}function xV(n,t,e,r){n=yn(n),pV(jy,mc[n.app.options.appId],t,e,r).catch(o=>_i.error(o))}const oS="@firebase/analytics",lS="0.10.19";function CV(){Js(new ds(Mm,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return TV(r,o,e)},"PUBLIC")),Js(new ds("analytics-internal",n,"PRIVATE")),kr(oS,lS),kr(oS,lS,"esm2020");function n(t){try{const e=t.getProvider(Mm).getImmediate();return{logEvent:(r,o,u)=>xV(e,r,o,u),setUserProperties:(r,o)=>AV(e,r,o)}}catch(e){throw lr.create("interop-component-reg-failed",{reason:e})}}}CV();const RV={apiKey:"AIzaSyBpUED221Qngm9iO2vMU8HRzOaPzAQgbb0",authDomain:"tidal-mare.firebaseapp.com",projectId:"tidal-mare",storageBucket:"tidal-mare.firebasestorage.app",messagingSenderId:"411121995154",appId:"1:411121995154:web:9be647215a9de1efc8454b",measurementId:"G-YZNZQZJT7T"},Vy=H1(RV),jo=HD(Vy),ji=U4(Vy);wV(Vy);class sc{static getToken(){return localStorage.getItem(this.TOKEN_KEY)}static setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}static removeToken(){localStorage.removeItem(this.TOKEN_KEY)}}ee(sc,"TOKEN_KEY","auth_token");class Ra{static async login(t,e){const r=await RM(jo,t,e),o=await r.user.getIdToken();return sc.setToken(o),r.user}static async loginWithGoogle(){const t=new Pa,r=(await $M(jo,t)).user,o=await r.getIdToken();return sc.setToken(o),await this.createUserDocument(r),r}static async loginAnonymously(){const t=await TM(jo),e=await t.user.getIdToken();return sc.setToken(e),t.user}static async register(t,e){const o=(await CM(jo,t,e)).user,u=await o.getIdToken();return sc.setToken(u),await this.createUserDocument(o),o}static async resetPassword(t){await xM(jo,t)}static async logout(){await NM(jo),sc.removeToken()}static onAuthStateChanged(t){return PM(jo,t)}static async getUserProfile(t){const e=Ko(ji,"users",t),r=await Ev(e);return r.exists()?r.data():null}static async createUserDocument(t){const e=Ko(ji,"users",t.uid);(await Ev(e)).exists()||await Jw(e,{email:t.email,role:"customer",createdAt:new Date().toISOString(),displayName:t.displayName||"",photoURL:t.photoURL||""})}static async updateUserProfile(t,e){const r=Ko(ji,"users",t);await Jw(r,e,{merge:!0})}}class IV{constructor(){ee(this,"user",null);ee(this,"isLoading",!1);ee(this,"error",null);ee(this,"sustainabilityStats",{co2Saved:124,treesPlanted:12,distance:850});Zm(this,{},{autoBind:!0}),this.checkAuth()}get isAuthenticated(){return!!this.user}get isAdmin(){var t;return((t=this.user)==null?void 0:t.role)==="admin"}async login(t,e){this.isLoading=!0,this.error=null;try{const r=await Ra.login(t,e);re(()=>{this.user={id:r.uid,email:r.email||"",role:"customer"}})}catch(r){re(()=>{this.error=r.message||"Login failed"})}finally{re(()=>{this.isLoading=!1})}}async loginWithGoogle(){this.isLoading=!0,this.error=null;try{const t=await Ra.loginWithGoogle();re(()=>{this.user={id:t.uid,email:t.email||"",role:"customer"}})}catch(t){re(()=>{this.error=t.message||"Google login failed"})}finally{re(()=>{this.isLoading=!1})}}async loginAnonymously(){this.isLoading=!0,this.error=null;try{const t=await Ra.loginAnonymously();re(()=>{this.user={id:t.uid,email:"guest@tidalmare.com",role:"guest"}})}catch(t){re(()=>{console.error("Guest login error:",t),this.error=`Error (${t.code}): ${t.message}`})}finally{re(()=>{this.isLoading=!1})}}async register(t,e){this.isLoading=!0,this.error=null;try{const r=await Ra.register(t,e);re(()=>{this.user={id:r.uid,email:r.email||"",role:"customer"}})}catch(r){re(()=>{this.error=r.message||"Registration failed"})}finally{re(()=>{this.isLoading=!1})}}async resetPassword(t){this.isLoading=!0,this.error=null;try{await Ra.resetPassword(t)}catch(e){throw re(()=>{this.error=e.message||"Reset password failed"}),e}finally{re(()=>{this.isLoading=!1})}}logout(){Ra.logout(),this.user=null}checkAuth(){Ra.onAuthStateChanged(async t=>{if(t){if(t.isAnonymous){re(()=>{this.user={id:t.uid,email:"guest@tidalmare.com",role:"guest"}});return}try{const e=await Ra.getUserProfile(t.uid);re(()=>{this.user={id:t.uid,email:t.email||"",role:(e==null?void 0:e.role)||"customer"}})}catch{re(()=>{this.user={id:t.uid,email:t.email||"",role:"customer"}})}}else re(()=>{this.user=null})})}}const uS={REQUESTED:"REQUESTED",CONFIRMED:"CONFIRMED",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED"},pc={DUMMY:"DUMMY",GREENWHEELS:"GREENWHEELS",MYWHEELS:"MYWHEELS"},gc={EV:"EV",HYBRID:"HYBRID",PETROL:"PETROL"},Ch="bookings";class tm{static async createBooking(t){try{return(await Tv(Gl(ji,Ch),{...t,createdAt:new Date().toISOString()})).id}catch(e){throw console.error("Error creating booking: ",e),e}}static async getUserBookings(t){try{const e=J4(Gl(ji,Ch),tj("userId","==",t));return(await Nm(e)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error fetching user bookings: ",e),[]}}static async getAllBookings(){try{return(await Nm(Gl(ji,Ch))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Error fetching all bookings: ",t),[]}}static async updateBookingStatus(t,e,r){const o=Ko(ji,Ch,t);await ij(o,{status:e,cancellationReason:r})}static async getBookingById(t){const e=Ko(ji,Ch,t),r=await Ev(e);return r.exists()?{id:r.id,...r.data()}:null}}class xC{constructor(){ee(this,"startStreet","");ee(this,"startHouseNumber","");ee(this,"startPostcode","");ee(this,"startCity","");ee(this,"startCountry","Nederland");ee(this,"isStartAddressValid",!1);ee(this,"startLat",null);ee(this,"startLng",null);ee(this,"endStreet","");ee(this,"endHouseNumber","");ee(this,"endPostcode","");ee(this,"endCity","");ee(this,"endCountry","Nederland");ee(this,"isEndAddressValid",!1);ee(this,"endLat",null);ee(this,"endLng",null);ee(this,"bookingNote","");ee(this,"dateTime",new Date().toISOString());ee(this,"passengers",1);ee(this,"luggageLevel",0);ee(this,"availableCars",[]);ee(this,"selectedCar",null);ee(this,"isLoading",!1);ee(this,"error",null);ee(this,"bookingStatus",null);ee(this,"selectedBookingDetails",null);ee(this,"isCancelling",!1);ee(this,"showValidationErrors",!1);Zm(this)}setStartAddress(t){this.startStreet=t.street,this.startHouseNumber=t.houseNumber,this.startPostcode=t.postcode,this.startCity=t.city,this.startCountry=t.country,this.startLat=t.latitude,this.startLng=t.longitude,this.isStartAddressValid=!0}setEndAddress(t){this.endStreet=t.street,this.endHouseNumber=t.houseNumber,this.endPostcode=t.postcode,this.endCity=t.city,this.endCountry=t.country,this.endLat=t.latitude,this.endLng=t.longitude,this.isEndAddressValid=!0}updateStartField(t,e){t==="street"?(this.startStreet=e,this.startHouseNumber="",this.startPostcode="",this.startCity=""):t==="houseNumber"?this.startHouseNumber=e:t==="postcode"?this.startPostcode=e:t==="city"&&(this.startCity=e),this.isStartAddressValid=!1}updateEndField(t,e){t==="street"?(this.endStreet=e,this.endHouseNumber="",this.endPostcode="",this.endCity=""):t==="houseNumber"?this.endHouseNumber=e:t==="postcode"?this.endPostcode=e:t==="city"&&(this.endCity=e),this.isEndAddressValid=!1}setPassengers(t){this.passengers=t}setLuggageLevel(t){this.luggageLevel=t}setBookingNote(t){this.bookingNote=t}get canSearch(){return this.isStartAddressValid&&this.isEndAddressValid&&this.passengers>0}async searchCars(){if(this.showValidationErrors=!0,!this.canSearch){re(()=>{this.error="Vul a.u.b. geldige start- en eindadressen in."});return}this.isLoading=!0,this.error=null,this.availableCars=[],setTimeout(()=>{re(()=>{this.availableCars=[{id:"car-1",make:"Tesla",model:"Model Y",provider:pc.MYWHEELS,seats:4,fuelType:gc.EV,luggageCapacity:1,range:450,pricePerHourEstimate:18,rating:4.8,location:{latitude:52.3676,longitude:4.9041,address:"Amsterdam Centrum"}},{id:"car-2",make:"BMW",model:"iX",provider:pc.GREENWHEELS,seats:5,fuelType:gc.EV,luggageCapacity:2,range:520,pricePerHourEstimate:24,rating:4.9,location:{latitude:52.365,longitude:4.9,address:"Amsterdam Zuid"}},{id:"car-3",make:"Polestar",model:"2",provider:pc.MYWHEELS,seats:4,fuelType:gc.EV,luggageCapacity:1,range:400,pricePerHourEstimate:16,rating:4.7,location:{latitude:52.37,longitude:4.91,address:"Amsterdam Oost"}}],this.isLoading=!1})},800)}selectCar(t){this.selectedCar=t}async confirmBooking(){if(!this.selectedCar||!this.isStartAddressValid||!this.isEndAddressValid)return;const t=jo.currentUser;if(!t){re(()=>{this.error="Je moet ingelogd zijn om te boeken."});return}this.isLoading=!0;try{const e={userId:t.uid,carId:this.selectedCar.id,startLocation:{address:`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`,latitude:this.startLat||0,longitude:this.startLng||0},endLocation:{address:`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`,latitude:this.endLat||0,longitude:this.endLng||0},startTime:this.dateTime,totalPrice:this.selectedCar.pricePerHourEstimate*2,note:this.bookingNote,status:uS.REQUESTED};await tm.createBooking(e),re(()=>{this.bookingStatus=uS.REQUESTED})}catch(e){re(()=>{this.error=e.message||"Booking failed"})}finally{re(()=>{this.isLoading=!1})}}clearForm(){this.startStreet="",this.startHouseNumber="",this.startPostcode="",this.startCity="",this.isStartAddressValid=!1,this.endStreet="",this.endHouseNumber="",this.endPostcode="",this.endCity="",this.isEndAddressValid=!1,this.bookingNote="",this.availableCars=[],this.bookingStatus=null}get startAddressSummary(){return this.startStreet?`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`:"-"}get endAddressSummary(){return this.endStreet?`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`:"-"}async cancelBooking(t,e){var r;this.isCancelling=!0;try{await tm.updateBookingStatus(t,"CANCELLED",e),((r=this.selectedBookingDetails)==null?void 0:r.id)===t&&await this.loadBookingDetails(t)}catch(o){console.error(o)}finally{re(()=>{this.isCancelling=!1})}}async loadBookingDetails(t){try{const e=await tm.getBookingById(t);re(()=>this.selectedBookingDetails=e)}catch(e){console.error(e)}}}class OV{constructor(){ee(this,"user",null);ee(this,"isLoading",!1);Zm(this)}setUser(t){this.user=t}async updateLocations(t,e){if(this.user){this.isLoading=!0;try{const r={};t&&(r.homeLocation=t),e&&(r.workLocation=e),await Ra.updateUserProfile(this.user.id,r),re(()=>{this.user&&(t&&(this.user.homeLocation=t),e&&(this.user.workLocation=e))})}catch(r){throw console.error("Failed to update profile locations",r),r}finally{re(()=>{this.isLoading=!1})}}}}class Ju{static async getCars(){return(await Nm(Gl(ji,"cars"))).docs.map(e=>({id:e.id,...e.data()}))}static async addCar(t){return{id:(await Tv(Gl(ji,"cars"),t)).id,...t}}static async deleteCar(t){await tS(Ko(ji,"cars",t))}static async getChargingPoints(){return(await Nm(Gl(ji,"charging_points"))).docs.map(e=>({id:e.id,...e.data()}))}static async addChargingPoint(t){return{id:(await Tv(Gl(ji,"charging_points"),t)).id,...t}}static async deleteChargingPoint(t){await tS(Ko(ji,"charging_points",t))}}class PV{constructor(){ee(this,"cars",[]);ee(this,"chargingPoints",[]);ee(this,"isLoading",!1);Zm(this)}async loadData(){this.isLoading=!0;try{const[t,e]=await Promise.all([Ju.getCars(),Ju.getChargingPoints()]);re(()=>{this.cars=t,this.chargingPoints=e})}catch(t){console.error("Failed to load admin data",t)}finally{re(()=>{this.isLoading=!1})}}async addCar(t){this.isLoading=!0;try{const e=await Ju.addCar(t);re(()=>{this.cars.push(e)})}catch(e){throw console.error("Failed to add car",e),e}finally{re(()=>{this.isLoading=!1})}}async deleteCar(t){this.isLoading=!0;try{await Ju.deleteCar(t),re(()=>{this.cars=this.cars.filter(e=>e.id!==t)})}catch(e){console.error("Failed to delete car",e)}finally{re(()=>{this.isLoading=!1})}}async addChargingPoint(t){this.isLoading=!0;try{const e=await Ju.addChargingPoint(t);re(()=>{this.chargingPoints.push(e)})}catch(e){throw console.error("Failed to add charging point",e),e}finally{re(()=>{this.isLoading=!1})}}async deleteChargingPoint(t){this.isLoading=!0;try{await Ju.deleteChargingPoint(t),re(()=>{this.chargingPoints=this.chargingPoints.filter(e=>e.id!==t)})}catch(e){console.error("Failed to delete charging point",e)}finally{re(()=>{this.isLoading=!1})}}}const gi=new IV,tc=new PV,Rh=new OV,Sv=({className:n,...t})=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),CC=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),RC=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),IC=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})}),Dm=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),zy=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),NV=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),pi=gi,LV=_s(()=>{const[n,t]=Y.useState(""),[e,r]=Y.useState(""),[o,u]=Y.useState(!1),[f,g]=Y.useState(""),[v,y]=Y.useState(null),A=Ic(),C=async K=>{K.preventDefault(),await pi.login(n,e),pi.isAuthenticated&&A("/dashboard")},P=async()=>{await pi.loginWithGoogle(),pi.isAuthenticated&&A("/dashboard")},M=async()=>{await pi.loginAnonymously(),pi.isAuthenticated&&A("/dashboard")},H=async K=>{K.preventDefault();try{await pi.resetPassword(f),y("Check je email voor instructies om je wachtwoord te resetten.")}catch{}};return o?E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Wachtwoord Resetten"}),E.jsx("p",{className:"auth-subtitle",children:"Vul je email in om een reset link te ontvangen."}),pi.error&&E.jsx("p",{className:"error-message mb-4",children:pi.error}),v&&E.jsx("p",{className:"success-message mb-4",style:{color:"green",background:"#e6fffa",padding:"10px",borderRadius:"4px"},children:v}),E.jsxs("form",{onSubmit:H,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email"}),E.jsxs("div",{className:"input-group",children:[E.jsx(Dm,{className:"input-icon"}),E.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:f,onChange:K=>g(K.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:pi.isLoading,style:{width:"100%",padding:"12px"},children:pi.isLoading?"Verzenden...":"Reset Link Sturen"})]}),E.jsx("button",{onClick:()=>u(!1),className:"text-btn block mt-4 text-center w-full",style:{background:"none",border:"none",color:"#666",cursor:"pointer",marginTop:"1rem"},children:"Terug naar Inloggen"})]})}):E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Welkom terug"}),E.jsx("p",{className:"auth-subtitle",children:"Log in om verder te gaan met Tidal Mare"}),pi.error&&E.jsx("p",{className:"error-message mb-4",children:pi.error}),E.jsxs("form",{onSubmit:C,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email"}),E.jsxs("div",{className:"input-group",children:[E.jsx(Dm,{className:"input-icon"}),E.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:K=>t(K.target.value),required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Wachtwoord"}),E.jsxs("div",{className:"input-group",children:[E.jsx(zy,{className:"input-icon"}),E.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:e,onChange:K=>r(K.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:pi.isLoading,style:{width:"100%",padding:"12px"},children:pi.isLoading?"Bezig met inloggen...":"Inloggen"})]}),E.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),E.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of log in met"}),E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),E.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:E.jsx("button",{onClick:P,className:"social-btn-round",title:"Inloggen met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:E.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),E.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:E.jsx("button",{onClick:M,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),E.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[E.jsx("button",{type:"button",onClick:()=>u(!0),style:{background:"none",border:"none",color:"#666",fontSize:"0.9rem",cursor:"pointer",textDecoration:"none"},children:"Wachtwoord vergeten?"}),E.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--slate-500)"},children:["Nog geen account? ",E.jsx(Dr,{to:"/register",style:{fontWeight:600},children:"Registreer hier"})]})]})]})})}),Bs=gi,MV=_s(()=>{const[n,t]=Y.useState(""),[e,r]=Y.useState(""),o=Ic(),u=async v=>{v.preventDefault(),await Bs.register(n,e),Bs.isAuthenticated&&o("/dashboard")},f=async()=>{await Bs.loginWithGoogle(),Bs.isAuthenticated&&o("/dashboard")},g=async()=>{await Bs.loginAnonymously(),Bs.isAuthenticated&&o("/dashboard")};return E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Maak een account"}),E.jsx("p",{className:"auth-subtitle",children:"Begin vandaag nog met jouw duurzame reis"}),Bs.error&&E.jsx("p",{className:"error-message mb-4",children:Bs.error}),E.jsxs("form",{onSubmit:u,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email"}),E.jsxs("div",{className:"input-group",children:[E.jsx(Dm,{className:"input-icon"}),E.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:v=>t(v.target.value),required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Wachtwoord"}),E.jsxs("div",{className:"input-group",children:[E.jsx(zy,{className:"input-icon"}),E.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:e,onChange:v=>r(v.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:Bs.isLoading,style:{width:"100%",padding:"12px"},children:Bs.isLoading?"Bezig met registreren...":"Registreren"})]}),E.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),E.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of registreer met"}),E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),E.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:E.jsx("button",{onClick:f,className:"social-btn-round",title:"Registreren met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:E.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),E.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:E.jsx("button",{onClick:g,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),E.jsxs("div",{className:"mt-4 text-center",style:{marginTop:"1.5rem",fontSize:"0.9rem",color:"var(--slate-500)"},children:["Heb je al een account? ",E.jsx(Dr,{to:"/login",style:{fontWeight:600},children:"Log in"})]})]})})}),L_=gi,cS=_s(({roles:n})=>L_.isAuthenticated?n&&L_.user&&!n.includes(L_.user.role)?E.jsx("div",{className:"error-page",children:"403 - Geen toegang"}):E.jsx(eI,{}):E.jsx(tI,{to:"/login",replace:!0})),M_=({value:n,duration:t=2e3})=>{const[e,r]=Y.useState(0);return Y.useEffect(()=>{let o=null;const u=0,f=g=>{o||(o=g);const v=Math.min((g-o)/t,1),y=1-Math.pow(1-v,4);r(Math.floor(y*(n-u)+u)),v<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[n,t]),E.jsx("span",{children:e})},DV=_s(({co2Saved:n,treesPlanted:t,distance:e})=>{const r={background:"linear-gradient(135deg, #4ade80 0%, #059669 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"};return E.jsxs("div",{className:"sustainability-stats",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"2rem",marginTop:"1rem"},children:[E.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[E.jsx(M_,{value:n})," ",E.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"kg"})]}),E.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"CO2 Bespaard"})]}),E.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsx("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:E.jsx(M_,{value:t})}),E.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Bomen Equivalent"})]}),E.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[E.jsx(M_,{value:e})," ",E.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"km"})]}),E.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Emissievrij Gereden"})]}),E.jsx("style",{children:`
                @media (max-width: 768px) {
                    .sustainability-stats {
                        grid-template-columns: 1fr !important;
                    }
                }
            `})]})}),hS=({booking:n})=>{var e;const t=r=>{switch(r){case"CONFIRMED":return"status-confirmed";case"CANCELLED":return"status-cancelled";case"COMPLETED":return"status-completed";default:return"status-requested"}};return E.jsx(Dr,{to:`/booking/${n.id}`,className:"booking-card-link",children:E.jsxs("div",{className:"booking-card",children:[E.jsxs("div",{className:"booking-card-header",children:[E.jsxs("div",{className:"booking-time",children:[E.jsx("span",{className:"date",children:new Date(n.startTime).toLocaleDateString()}),E.jsx("span",{className:"time",children:new Date(n.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),E.jsx("span",{className:`status-badge ${t(n.status)}`,children:n.status})]}),E.jsxs("div",{className:"booking-route",children:[E.jsxs("div",{className:"route-point",children:[E.jsx("span",{className:"icon text-lg",children:""}),E.jsx("span",{className:"address",children:n.startLocation.address})]}),E.jsx("div",{className:"route-arrow",children:""}),E.jsxs("div",{className:"route-point",children:[E.jsx("span",{className:"icon text-lg",children:""}),E.jsx("span",{className:"address",children:((e=n.endLocation)==null?void 0:e.address)||"Bestemming"})]})]})]})})},kV=_s(()=>{var o,u;const[n,t]=Wo.useState([]);Wo.useEffect(()=>{(async()=>{var v;const g=(v=gi.user)==null?void 0:v.id;if(g)try{const y=await tm.getUserBookings(g);t(y)}catch(y){console.error("Failed to fetch bookings",y)}})()},[gi.user]);const e=n.filter(f=>["REQUESTED","CONFIRMED"].includes(f.status)),r=n.filter(f=>["CANCELLED","COMPLETED"].includes(f.status));return E.jsxs("div",{className:"dashboard app-container",children:[E.jsxs("div",{className:"dashboard-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h2",{style:{fontSize:"2rem",margin:0},children:"Mijn Dashboard"}),E.jsxs("div",{className:"dashboard-actions",style:{display:"flex",gap:"1rem"},children:[E.jsx(Dr,{to:"/request",className:"btn-primary",children:"+ Nieuwe Rit"}),((o=gi.user)==null?void 0:o.role)!=="guest"?E.jsx(Dr,{to:"/profile",className:"logout-btn",style:{textDecoration:"none",display:"inline-flex",alignItems:"center"},children:"Mijn Profiel"}):E.jsx(Dr,{to:"/register",className:"btn-primary",style:{background:"#f59e0b",border:"none"},children:"Account Aanmaken"})]})]}),((u=gi.user)==null?void 0:u.role)==="guest"&&E.jsxs("div",{style:{background:"#fffbeb",border:"1px solid #fcd34d",color:"#92400e",padding:"1rem",borderRadius:"12px",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("span",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsx("strong",{children:"Welkom als gast!"}),E.jsx("p",{style:{margin:0,fontSize:"0.95rem",opacity:.9},children:"Je kunt rondkijken en ritten zoeken, maar om daadwerkelijk te boeken moet je een account aanmaken."})]})]}),E.jsx(DV,{co2Saved:gi.sustainabilityStats.co2Saved,treesPlanted:gi.sustainabilityStats.treesPlanted,distance:gi.sustainabilityStats.distance}),E.jsxs("section",{style:{marginBottom:"3rem"},children:[E.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--slate-200)",paddingBottom:"0.5rem"},children:" Aankomende Ritten"}),e.length===0?E.jsx("div",{className:"empty-state card",style:{textAlign:"center",color:"var(--text-muted)"},children:E.jsx("p",{children:"Je hebt nog geen ritten gepland."})}):E.jsx("div",{className:"bookings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:e.map(f=>E.jsx("div",{className:"booking-wrapper",children:E.jsx(hS,{booking:f})},f.id))})]}),E.jsxs("section",{children:[E.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--slate-200)",paddingBottom:"0.5rem"},children:" Geschiedenis"}),r.length===0?E.jsx("div",{className:"empty-state card",style:{textAlign:"center",color:"var(--text-muted)"},children:E.jsx("p",{children:"Nog geen ritten gemaakt."})}):E.jsx("div",{className:"bookings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:r.map(f=>E.jsx("div",{className:"booking-wrapper",children:E.jsx(hS,{booking:f})},f.id))})]})]})});var By={};(function n(t,e,r,o){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",g=(function(){if(!t.OffscreenCanvas)return!1;try{var F=new OffscreenCanvas(1,1),R=F.getContext("2d");R.fillRect(0,0,1,1);var Q=F.transferToImageBitmap();R.createPattern(Q,"no-repeat")}catch{return!1}return!0})();function v(){}function y(F){var R=e.exports.Promise,Q=R!==void 0?R:t.Promise;return typeof Q=="function"?new Q(F):(F(v,v),null)}var A=(function(F,R){return{transform:function(Q){if(F)return Q;if(R.has(Q))return R.get(Q);var ot=new OffscreenCanvas(Q.width,Q.height),ut=ot.getContext("2d");return ut.drawImage(Q,0,0),R.set(Q,ot),ot},clear:function(){R.clear()}}})(g,new Map),C=(function(){var F=Math.floor(16.666666666666668),R,Q,ot={},ut=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(R=function(gt){var _t=Math.random();return ot[_t]=requestAnimationFrame(function bt(Pt){ut===Pt||ut+F-1<Pt?(ut=Pt,delete ot[_t],gt()):ot[_t]=requestAnimationFrame(bt)}),_t},Q=function(gt){ot[gt]&&cancelAnimationFrame(ot[gt])}):(R=function(gt){return setTimeout(gt,F)},Q=function(gt){return clearTimeout(gt)}),{frame:R,cancel:Q}})(),P=(function(){var F,R,Q={};function ot(ut){function gt(_t,bt){ut.postMessage({options:_t||{},callback:bt})}ut.init=function(bt){var Pt=bt.transferControlToOffscreen();ut.postMessage({canvas:Pt},[Pt])},ut.fire=function(bt,Pt,Bt){if(R)return gt(bt,null),R;var ve=Math.random().toString(36).slice(2);return R=y(function(ce){function _e(je){je.data.callback===ve&&(delete Q[ve],ut.removeEventListener("message",_e),R=null,A.clear(),Bt(),ce())}ut.addEventListener("message",_e),gt(bt,ve),Q[ve]=_e.bind(null,{data:{callback:ve}})}),R},ut.reset=function(){ut.postMessage({reset:!0});for(var bt in Q)Q[bt](),delete Q[bt]}}return function(){if(F)return F;if(!r&&u){var ut=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{F=new Worker(URL.createObjectURL(new Blob([ut])))}catch(gt){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",gt),null}ot(F)}return F}})(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function H(F,R){return R?R(F):F}function K(F){return F!=null}function Z(F,R,Q){return H(F&&K(F[R])?F[R]:M[R],Q)}function ft(F){return F<0?0:Math.floor(F)}function Et(F,R){return Math.floor(Math.random()*(R-F))+F}function lt(F){return parseInt(F,16)}function xt(F){return F.map(Lt)}function Lt(F){var R=String(F).replace(/[^0-9a-f]/gi,"");return R.length<6&&(R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]),{r:lt(R.substring(0,2)),g:lt(R.substring(2,4)),b:lt(R.substring(4,6))}}function jt(F){var R=Z(F,"origin",Object);return R.x=Z(R,"x",Number),R.y=Z(R,"y",Number),R}function j(F){F.width=document.documentElement.clientWidth,F.height=document.documentElement.clientHeight}function D(F){var R=F.getBoundingClientRect();F.width=R.width,F.height=R.height}function V(F){var R=document.createElement("canvas");return R.style.position="fixed",R.style.top="0px",R.style.left="0px",R.style.pointerEvents="none",R.style.zIndex=F,R}function G(F,R,Q,ot,ut,gt,_t,bt,Pt){F.save(),F.translate(R,Q),F.rotate(gt),F.scale(ot,ut),F.arc(0,0,1,_t,bt,Pt),F.restore()}function U(F){var R=F.angle*(Math.PI/180),Q=F.spread*(Math.PI/180);return{x:F.x,y:F.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:F.startVelocity*.5+Math.random()*F.startVelocity,angle2D:-R+(.5*Q-Math.random()*Q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:F.color,shape:F.shape,tick:0,totalTicks:F.ticks,decay:F.decay,drift:F.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:F.gravity*3,ovalScalar:.6,scalar:F.scalar,flat:F.flat}}function W(F,R){R.x+=Math.cos(R.angle2D)*R.velocity+R.drift,R.y+=Math.sin(R.angle2D)*R.velocity+R.gravity,R.velocity*=R.decay,R.flat?(R.wobble=0,R.wobbleX=R.x+10*R.scalar,R.wobbleY=R.y+10*R.scalar,R.tiltSin=0,R.tiltCos=0,R.random=1):(R.wobble+=R.wobbleSpeed,R.wobbleX=R.x+10*R.scalar*Math.cos(R.wobble),R.wobbleY=R.y+10*R.scalar*Math.sin(R.wobble),R.tiltAngle+=.1,R.tiltSin=Math.sin(R.tiltAngle),R.tiltCos=Math.cos(R.tiltAngle),R.random=Math.random()+2);var Q=R.tick++/R.totalTicks,ot=R.x+R.random*R.tiltCos,ut=R.y+R.random*R.tiltSin,gt=R.wobbleX+R.random*R.tiltCos,_t=R.wobbleY+R.random*R.tiltSin;if(F.fillStyle="rgba("+R.color.r+", "+R.color.g+", "+R.color.b+", "+(1-Q)+")",F.beginPath(),f&&R.shape.type==="path"&&typeof R.shape.path=="string"&&Array.isArray(R.shape.matrix))F.fill(wt(R.shape.path,R.shape.matrix,R.x,R.y,Math.abs(gt-ot)*.1,Math.abs(_t-ut)*.1,Math.PI/10*R.wobble));else if(R.shape.type==="bitmap"){var bt=Math.PI/10*R.wobble,Pt=Math.abs(gt-ot)*.1,Bt=Math.abs(_t-ut)*.1,ve=R.shape.bitmap.width*R.scalar,ce=R.shape.bitmap.height*R.scalar,_e=new DOMMatrix([Math.cos(bt)*Pt,Math.sin(bt)*Pt,-Math.sin(bt)*Bt,Math.cos(bt)*Bt,R.x,R.y]);_e.multiplySelf(new DOMMatrix(R.shape.matrix));var je=F.createPattern(A.transform(R.shape.bitmap),"no-repeat");je.setTransform(_e),F.globalAlpha=1-Q,F.fillStyle=je,F.fillRect(R.x-ve/2,R.y-ce/2,ve,ce),F.globalAlpha=1}else if(R.shape==="circle")F.ellipse?F.ellipse(R.x,R.y,Math.abs(gt-ot)*R.ovalScalar,Math.abs(_t-ut)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI):G(F,R.x,R.y,Math.abs(gt-ot)*R.ovalScalar,Math.abs(_t-ut)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI);else if(R.shape==="star")for(var Kt=Math.PI/2*3,tn=4*R.scalar,on=8*R.scalar,dn=R.x,bn=R.y,Pe=5,Te=Math.PI/Pe;Pe--;)dn=R.x+Math.cos(Kt)*on,bn=R.y+Math.sin(Kt)*on,F.lineTo(dn,bn),Kt+=Te,dn=R.x+Math.cos(Kt)*tn,bn=R.y+Math.sin(Kt)*tn,F.lineTo(dn,bn),Kt+=Te;else F.moveTo(Math.floor(R.x),Math.floor(R.y)),F.lineTo(Math.floor(R.wobbleX),Math.floor(ut)),F.lineTo(Math.floor(gt),Math.floor(_t)),F.lineTo(Math.floor(ot),Math.floor(R.wobbleY));return F.closePath(),F.fill(),R.tick<R.totalTicks}function z(F,R,Q,ot,ut){var gt=R.slice(),_t=F.getContext("2d"),bt,Pt,Bt=y(function(ve){function ce(){bt=Pt=null,_t.clearRect(0,0,ot.width,ot.height),A.clear(),ut(),ve()}function _e(){r&&!(ot.width===o.width&&ot.height===o.height)&&(ot.width=F.width=o.width,ot.height=F.height=o.height),!ot.width&&!ot.height&&(Q(F),ot.width=F.width,ot.height=F.height),_t.clearRect(0,0,ot.width,ot.height),gt=gt.filter(function(je){return W(_t,je)}),gt.length?bt=C.frame(_e):ce()}bt=C.frame(_e),Pt=ce});return{addFettis:function(ve){return gt=gt.concat(ve),Bt},canvas:F,promise:Bt,reset:function(){bt&&C.cancel(bt),Pt&&Pt()}}}function se(F,R){var Q=!F,ot=!!Z(R||{},"resize"),ut=!1,gt=Z(R,"disableForReducedMotion",Boolean),_t=u&&!!Z(R||{},"useWorker"),bt=_t?P():null,Pt=Q?j:D,Bt=F&&bt?!!F.__confetti_initialized:!1,ve=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ce;function _e(Kt,tn,on){for(var dn=Z(Kt,"particleCount",ft),bn=Z(Kt,"angle",Number),Pe=Z(Kt,"spread",Number),Te=Z(Kt,"startVelocity",Number),vi=Z(Kt,"decay",Number),Wa=Z(Kt,"gravity",Number),na=Z(Kt,"drift",Number),En=Z(Kt,"colors",xt),Fr=Z(Kt,"ticks",Number),cr=Z(Kt,"shapes"),ys=Z(Kt,"scalar"),Bi=!!Z(Kt,"flat"),Ya=jt(Kt),bs=dn,Hr=[],Qa=F.width*Ya.x,Qn=F.height*Ya.y;bs--;)Hr.push(U({x:Qa,y:Qn,angle:bn,spread:Pe,startVelocity:Te,color:En[bs%En.length],shape:cr[Et(0,cr.length)],ticks:Fr,decay:vi,gravity:Wa,drift:na,scalar:ys,flat:Bi}));return ce?ce.addFettis(Hr):(ce=z(F,Hr,Pt,tn,on),ce.promise)}function je(Kt){var tn=gt||Z(Kt,"disableForReducedMotion",Boolean),on=Z(Kt,"zIndex",Number);if(tn&&ve)return y(function(Te){Te()});Q&&ce?F=ce.canvas:Q&&!F&&(F=V(on),document.body.appendChild(F)),ot&&!Bt&&Pt(F);var dn={width:F.width,height:F.height};bt&&!Bt&&bt.init(F),Bt=!0,bt&&(F.__confetti_initialized=!0);function bn(){if(bt){var Te={getBoundingClientRect:function(){if(!Q)return F.getBoundingClientRect()}};Pt(Te),bt.postMessage({resize:{width:Te.width,height:Te.height}});return}dn.width=dn.height=null}function Pe(){ce=null,ot&&(ut=!1,t.removeEventListener("resize",bn)),Q&&F&&(document.body.contains(F)&&document.body.removeChild(F),F=null,Bt=!1)}return ot&&!ut&&(ut=!0,t.addEventListener("resize",bn,!1)),bt?bt.fire(Kt,dn,Pe):_e(Kt,dn,Pe)}return je.reset=function(){bt&&bt.reset(),ce&&ce.reset()},je}var Ze;function st(){return Ze||(Ze=se(null,{useWorker:!0,resize:!0})),Ze}function wt(F,R,Q,ot,ut,gt,_t){var bt=new Path2D(F),Pt=new Path2D;Pt.addPath(bt,new DOMMatrix(R));var Bt=new Path2D;return Bt.addPath(Pt,new DOMMatrix([Math.cos(_t)*ut,Math.sin(_t)*ut,-Math.sin(_t)*gt,Math.cos(_t)*gt,Q,ot])),Bt}function yt(F){if(!f)throw new Error("path confetti are not supported in this browser");var R,Q;typeof F=="string"?R=F:(R=F.path,Q=F.matrix);var ot=new Path2D(R),ut=document.createElement("canvas"),gt=ut.getContext("2d");if(!Q){for(var _t=1e3,bt=_t,Pt=_t,Bt=0,ve=0,ce,_e,je=0;je<_t;je+=2)for(var Kt=0;Kt<_t;Kt+=2)gt.isPointInPath(ot,je,Kt,"nonzero")&&(bt=Math.min(bt,je),Pt=Math.min(Pt,Kt),Bt=Math.max(Bt,je),ve=Math.max(ve,Kt));ce=Bt-bt,_e=ve-Pt;var tn=10,on=Math.min(tn/ce,tn/_e);Q=[on,0,0,on,-Math.round(ce/2+bt)*on,-Math.round(_e/2+Pt)*on]}return{type:"path",path:R,matrix:Q}}function ie(F){var R,Q=1,ot="#000000",ut='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof F=="string"?R=F:(R=F.text,Q="scalar"in F?F.scalar:Q,ut="fontFamily"in F?F.fontFamily:ut,ot="color"in F?F.color:ot);var gt=10*Q,_t=""+gt+"px "+ut,bt=new OffscreenCanvas(gt,gt),Pt=bt.getContext("2d");Pt.font=_t;var Bt=Pt.measureText(R),ve=Math.ceil(Bt.actualBoundingBoxRight+Bt.actualBoundingBoxLeft),ce=Math.ceil(Bt.actualBoundingBoxAscent+Bt.actualBoundingBoxDescent),_e=2,je=Bt.actualBoundingBoxLeft+_e,Kt=Bt.actualBoundingBoxAscent+_e;ve+=_e+_e,ce+=_e+_e,bt=new OffscreenCanvas(ve,ce),Pt=bt.getContext("2d"),Pt.font=_t,Pt.fillStyle=ot,Pt.fillText(R,je,Kt);var tn=1/Q;return{type:"bitmap",bitmap:bt.transferToImageBitmap(),matrix:[tn,0,0,tn,-ve*tn/2,-ce*tn/2]}}e.exports=function(){return st().apply(this,arguments)},e.exports.reset=function(){st().reset()},e.exports.create=se,e.exports.shapeFromPath=yt,e.exports.shapeFromText=ie})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),By,!1);const fS=By.exports;By.exports.create;class jV{constructor(){ee(this,"API_URL","https://api.pdok.nl/bzk/locatieserver/search/v3_1/free")}async search(t){if(!t||t.length<2)return[];try{const e=new URLSearchParams({q:`${t} and type:adres`,rows:"5",fl:"id,weergavenaam,straatnaam,huisnummer,postcode,woonplaatsnaam,centroide_ll"}),r=await fetch(`${this.API_URL}?${e.toString()}`);return r.ok?(await r.json()).response.docs.map(u=>{const{lat:f,lon:g}=this.parseWktPoint(u.centroide_ll);return{id:u.id,displayLabel:u.weergavenaam,street:u.straatnaam,houseNumber:u.huisnummer,postcode:u.postcode,city:u.woonplaatsnaam,country:"Nederland",latitude:f,longitude:g}}):[]}catch(e){return console.error("PDOK API Error:",e),[]}}parseWktPoint(t){try{const e=t.match(/POINT\(([\d.]+) ([\d.]+)\)/);return e&&e.length===3?{lon:parseFloat(e[1]),lat:parseFloat(e[2])}:{lat:0,lon:0}}catch{return{lat:0,lon:0}}}}const dS=new jV,mS=({label:n,value:t,onChange:e,onSelect:r,placeholder:o,className:u,isValid:f,hasError:g})=>{const[v,y]=Y.useState([]),[A,C]=Y.useState(!1),[P,M]=Y.useState(!1),H=Y.useRef(null);Y.useEffect(()=>{const Z=setTimeout(async()=>{if(t.length>=2&&A){M(!0);const ft=await dS.search(t);y(ft),M(!1)}else y([])},300);return()=>clearTimeout(Z)},[t,A]),Y.useEffect(()=>{const Z=ft=>{H.current&&!H.current.contains(ft.target)&&C(!1)};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const K=Z=>{r(Z),y([]),C(!1)};return E.jsxs("div",{className:`form-group relative ${u||""}`,ref:H,style:{position:"relative"},children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[E.jsx("label",{className:"form-label",children:n}),f&&E.jsxs("span",{className:"text-green-600",style:{color:"var(--accent-hover)",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px",fontWeight:"bold"},children:[E.jsx(NV,{className:"w-4 h-4"})," Bevestigd"]})]}),E.jsxs("div",{className:"relative group",style:{position:"relative"},children:[E.jsx("div",{className:"absolute inset-y-0 left-0",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:f?"var(--accent-color)":"var(--slate-400)",pointerEvents:"none"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),E.jsx("input",{type:"text",className:`form-input ${f?"valid":""} ${g?"error":""}`,style:{paddingLeft:"2.5rem",borderColor:g?"#f87171":f?"var(--accent-color)":""},value:t,onChange:Z=>{e(Z.target.value),C(!0)},onFocus:()=>{C(!0),v.length===0&&t.length>=2&&dS.search(t).then(y)},placeholder:o||"Zoek adres...",autoComplete:"off"}),P&&E.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:E.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid var(--primary-color)",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})})]}),g&&!f&&E.jsx("p",{className:"error-message",style:{marginTop:"0.5rem",marginBottom:0,padding:"0.5rem",fontSize:"0.8rem"},children:"Kies een geldig adres uit de lijst"}),A&&v.length>0&&E.jsxs("ul",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",maxHeight:"18rem",overflowY:"auto",marginTop:"0.5rem",padding:"0.5rem 0",listStyle:"none",border:"1px solid var(--slate-200)"},children:[v.map(Z=>E.jsx("li",{style:{padding:"0.75rem 1rem",cursor:"pointer",borderBottom:"1px solid var(--slate-50)",transition:"background-color 0.2s"},onMouseEnter:ft=>ft.currentTarget.style.backgroundColor="var(--slate-50)",onMouseLeave:ft=>ft.currentTarget.style.backgroundColor="transparent",onClick:ft=>{ft.stopPropagation(),K(Z)},children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[E.jsx("div",{style:{color:"var(--slate-400)",marginTop:"2px"},children:E.jsxs("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),E.jsxs("div",{style:{marginLeft:"0.75rem"},children:[E.jsxs("p",{style:{margin:0,fontWeight:600,color:"var(--slate-900)",fontSize:"0.9rem"},children:[Z.street," ",Z.houseNumber]}),E.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--slate-500)"},children:[Z.postcode," ",Z.city]})]})]})},Z.id)),E.jsx("li",{style:{padding:"0.5rem 1rem",fontSize:"0.75rem",color:"var(--slate-400)",textAlign:"center",backgroundColor:"var(--slate-50)",borderTop:"1px solid var(--slate-100)",fontStyle:"italic"},children:"Powered by PDOK"})]}),A&&t.length>=2&&!P&&v.length===0&&E.jsx("div",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",padding:"1rem",textAlign:"center",color:"var(--slate-500)",fontStyle:"italic",marginTop:"0.5rem"},children:"Geen adressen gevonden"})]})};function OC(n,t){const e=Y.useRef(t);Y.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const VV=1;function zV(n){return Object.freeze({__version:VV,map:n})}function BV(n,t){return Object.freeze({...n,...t})}const Uy=Y.createContext(null);function Fy(){const n=Y.use(Uy);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function UV(n){function t(e,r){const{instance:o,context:u}=n(e).current;Y.useImperativeHandle(r,()=>o);const{children:f}=e;return f==null?null:Wo.createElement(Uy,{value:u},f)}return Y.forwardRef(t)}function FV(n){function t(e,r){const[o,u]=Y.useState(!1),{instance:f}=n(e,u).current;Y.useImperativeHandle(r,()=>f),Y.useEffect(function(){o&&f.update()},[f,o,e.children]);const g=f._contentNode;return g?DS.createPortal(e.children,g):null}return Y.forwardRef(t)}function HV(n){function t(e,r){const{instance:o}=n(e).current;return Y.useImperativeHandle(r,()=>o),null}return Y.forwardRef(t)}function PC(n,t){const e=Y.useRef(void 0);Y.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function Hy(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function qV(n,t){return function(r,o){const u=Fy(),f=n(Hy(r,u),u);return OC(u.map,r.attribution),PC(f.current,r.eventHandlers),t(f.current,u,r,o),f}}var Dh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var GV=Dh.exports,pS;function ZV(){return pS||(pS=1,(function(n,t){(function(e,r){r(t)})(GV,(function(e){var r="1.9.4";function o(a){var c,m,b,w;for(m=1,b=arguments.length;m<b;m++){w=arguments[m];for(c in w)a[c]=w[c]}return a}var u=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function f(a,c){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var b=m.call(arguments,2);return function(){return a.apply(c,b.length?b.concat(m.call(arguments)):arguments)}}var g=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++g),a._leaflet_id}function y(a,c,m){var b,w,I,k;return k=function(){b=!1,w&&(I.apply(m,w),w=!1)},I=function(){b?w=arguments:(a.apply(m,arguments),setTimeout(k,c),b=!0)},I}function A(a,c,m){var b=c[1],w=c[0],I=b-w;return a===b&&m?a:((a-w)%I+I)%I+w}function C(){return!1}function P(a,c){if(c===!1)return a;var m=Math.pow(10,c===void 0?6:c);return Math.round(a*m)/m}function M(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function H(a){return M(a).split(/\s+/)}function K(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?u(a.options):{});for(var m in c)a.options[m]=c[m];return a.options}function Z(a,c,m){var b=[];for(var w in a)b.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var ft=/\{ *([\w_ -]+) *\}/g;function Et(a,c){return a.replace(ft,function(m,b){var w=c[b];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(c)),w})}var lt=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function xt(a,c){for(var m=0;m<a.length;m++)if(a[m]===c)return m;return-1}var Lt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function jt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var j=0;function D(a){var c=+new Date,m=Math.max(0,16-(c-j));return j=c+m,window.setTimeout(a,m)}var V=window.requestAnimationFrame||jt("RequestAnimationFrame")||D,G=window.cancelAnimationFrame||jt("CancelAnimationFrame")||jt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function U(a,c,m){if(m&&V===D)a.call(c);else return V.call(window,f(a,c))}function W(a){a&&G.call(window,a)}var z={__proto__:null,extend:o,create:u,bind:f,get lastId(){return g},stamp:v,throttle:y,wrapNum:A,falseFn:C,formatNum:P,trim:M,splitWords:H,setOptions:K,getParamString:Z,template:Et,isArray:lt,indexOf:xt,emptyImageUrl:Lt,requestFn:V,cancelFn:G,requestAnimFrame:U,cancelAnimFrame:W};function se(){}se.extend=function(a){var c=function(){K(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,b=u(m);b.constructor=c,c.prototype=b;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(c[w]=this[w]);return a.statics&&o(c,a.statics),a.includes&&(Ze(a.includes),o.apply(null,[b].concat(a.includes))),o(b,a),delete b.statics,delete b.includes,b.options&&(b.options=m.options?u(m.options):{},o(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,k=b._initHooks.length;I<k;I++)b._initHooks[I].call(this)}},c},se.include=function(a){var c=this.prototype.options;return o(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},se.mergeOptions=function(a){return o(this.prototype.options,a),this},se.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Ze(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=lt(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var st={on:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c);else{a=H(a);for(var w=0,I=a.length;w<I;w++)this._on(a[w],c,m)}return this},off:function(a,c,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],c);else{a=H(a);for(var w=arguments.length===1,I=0,k=a.length;I<k;I++)w?this._off(a[I]):this._off(a[I],c,m)}return this},_on:function(a,c,m,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,m)===!1){m===this&&(m=void 0);var w={fn:c,ctx:m};b&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,c,m){var b,w,I;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(w=0,I=b.length;w<I;w++)b[w].fn=C;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var k=this._listens(a,c,m);if(k!==!1){var $=b[k];this._firingCount&&($.fn=C,this._events[a]=b=b.slice()),b.splice(k,1)}}},fire:function(a,c,m){if(!this.listens(a,m))return this;var b=o({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var I=0,k=w.length;I<k;I++){var $=w[I],nt=$.fn;$.once&&this.off(a,nt,$.ctx),nt.call($.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(a,c,m,b){typeof a!="string"&&console.warn('"string" type argument expected');var w=c;typeof c!="function"&&(b=!!c,w=void 0,m=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,w,m)!==!1)return!0;if(b){for(var k in this._eventParents)if(this._eventParents[k].listens(a,c,m,b))return!0}return!1},_listens:function(a,c,m){if(!this._events)return!1;var b=this._events[a]||[];if(!c)return!!b.length;m===this&&(m=void 0);for(var w=0,I=b.length;w<I;w++)if(b[w].fn===c&&b[w].ctx===m)return w;return!1},once:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c,!0);else{a=H(a);for(var w=0,I=a.length;w<I;w++)this._on(a[w],c,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,o({layer:a.target,propagatedFrom:a.target},a),!0)}};st.addEventListener=st.on,st.removeEventListener=st.clearAllEventListeners=st.off,st.addOneTimeEventListener=st.once,st.fireEvent=st.fire,st.hasEventListeners=st.listens;var wt=se.extend(st);function yt(a,c,m){this.x=m?Math.round(a):a,this.y=m?Math.round(c):c}var ie=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};yt.prototype={clone:function(){return new yt(this.x,this.y)},add:function(a){return this.clone()._add(F(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(F(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new yt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new yt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(a){a=F(a);var c=a.x-this.x,m=a.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(a){return a=F(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=F(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function F(a,c,m){return a instanceof yt?a:lt(a)?new yt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new yt(a.x,a.y):new yt(a,c,m)}function R(a,c){if(a)for(var m=c?[a,c]:a,b=0,w=m.length;b<w;b++)this.extend(m[b])}R.prototype={extend:function(a){var c,m;if(!a)return this;if(a instanceof yt||typeof a[0]=="number"||"x"in a)c=m=F(a);else if(a=Q(a),c=a.min,m=a.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,m;return typeof a[0]=="number"||a instanceof yt?a=F(a):a=Q(a),a instanceof R?(c=a.min,m=a.max):c=m=a,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=Q(a);var c=this.min,m=this.max,b=a.min,w=a.max,I=w.x>=c.x&&b.x<=m.x,k=w.y>=c.y&&b.y<=m.y;return I&&k},overlaps:function(a){a=Q(a);var c=this.min,m=this.max,b=a.min,w=a.max,I=w.x>c.x&&b.x<m.x,k=w.y>c.y&&b.y<m.y;return I&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,m=this.max,b=Math.abs(c.x-m.x)*a,w=Math.abs(c.y-m.y)*a;return Q(F(c.x-b,c.y-w),F(m.x+b,m.y+w))},equals:function(a){return a?(a=Q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Q(a,c){return!a||a instanceof R?a:new R(a,c)}function ot(a,c){if(a)for(var m=c?[a,c]:a,b=0,w=m.length;b<w;b++)this.extend(m[b])}ot.prototype={extend:function(a){var c=this._southWest,m=this._northEast,b,w;if(a instanceof gt)b=a,w=a;else if(a instanceof ot){if(b=a._southWest,w=a._northEast,!b||!w)return this}else return a?this.extend(_t(a)||ut(a)):this;return!c&&!m?(this._southWest=new gt(b.lat,b.lng),this._northEast=new gt(w.lat,w.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var c=this._southWest,m=this._northEast,b=Math.abs(c.lat-m.lat)*a,w=Math.abs(c.lng-m.lng)*a;return new ot(new gt(c.lat-b,c.lng-w),new gt(m.lat+b,m.lng+w))},getCenter:function(){return new gt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new gt(this.getNorth(),this.getWest())},getSouthEast:function(){return new gt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof gt||"lat"in a?a=_t(a):a=ut(a);var c=this._southWest,m=this._northEast,b,w;return a instanceof ot?(b=a.getSouthWest(),w=a.getNorthEast()):b=w=a,b.lat>=c.lat&&w.lat<=m.lat&&b.lng>=c.lng&&w.lng<=m.lng},intersects:function(a){a=ut(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),w=a.getNorthEast(),I=w.lat>=c.lat&&b.lat<=m.lat,k=w.lng>=c.lng&&b.lng<=m.lng;return I&&k},overlaps:function(a){a=ut(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),w=a.getNorthEast(),I=w.lat>c.lat&&b.lat<m.lat,k=w.lng>c.lng&&b.lng<m.lng;return I&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=ut(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ut(a,c){return a instanceof ot?a:new ot(a,c)}function gt(a,c,m){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,m!==void 0&&(this.alt=+m)}gt.prototype={equals:function(a,c){if(!a)return!1;a=_t(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+P(this.lat,a)+", "+P(this.lng,a)+")"},distanceTo:function(a){return Pt.distance(this,_t(a))},wrap:function(){return Pt.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,m=c/Math.cos(Math.PI/180*this.lat);return ut([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new gt(this.lat,this.lng,this.alt)}};function _t(a,c,m){return a instanceof gt?a:lt(a)&&typeof a[0]!="object"?a.length===3?new gt(a[0],a[1],a[2]):a.length===2?new gt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new gt(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new gt(a,c,m)}var bt={latLngToPoint:function(a,c){var m=this.projection.project(a),b=this.scale(c);return this.transformation._transform(m,b)},pointToLatLng:function(a,c){var m=this.scale(c),b=this.transformation.untransform(a,m);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(a),b=this.transformation.transform(c.min,m),w=this.transformation.transform(c.max,m);return new R(b,w)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?A(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?A(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new gt(m,c,b)},wrapLatLngBounds:function(a){var c=a.getCenter(),m=this.wrapLatLng(c),b=c.lat-m.lat,w=c.lng-m.lng;if(b===0&&w===0)return a;var I=a.getSouthWest(),k=a.getNorthEast(),$=new gt(I.lat-b,I.lng-w),nt=new gt(k.lat-b,k.lng-w);return new ot($,nt)}},Pt=o({},bt,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var m=Math.PI/180,b=a.lat*m,w=c.lat*m,I=Math.sin((c.lat-a.lat)*m/2),k=Math.sin((c.lng-a.lng)*m/2),$=I*I+Math.cos(b)*Math.cos(w)*k*k,nt=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*nt}}),Bt=6378137,ve={R:Bt,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,a.lat),-m),w=Math.sin(b*c);return new yt(this.R*a.lng*c,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var c=180/Math.PI;return new gt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=Bt*Math.PI;return new R([-a,-a],[a,a])})()};function ce(a,c,m,b){if(lt(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=m,this._d=b}ce.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new yt((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function _e(a,c,m,b){return new ce(a,c,m,b)}var je=o({},Pt,{code:"EPSG:3857",projection:ve,transformation:(function(){var a=.5/(Math.PI*ve.R);return _e(a,.5,-a,.5)})()}),Kt=o({},je,{code:"EPSG:900913"});function tn(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function on(a,c){var m="",b,w,I,k,$,nt;for(b=0,I=a.length;b<I;b++){for($=a[b],w=0,k=$.length;w<k;w++)nt=$[w],m+=(w?"L":"M")+nt.x+" "+nt.y;m+=c?Ot.svg?"z":"x":""}return m||"M0 0"}var dn=document.documentElement.style,bn="ActiveXObject"in window,Pe=bn&&!document.addEventListener,Te="msLaunchUri"in navigator&&!("documentMode"in document),vi=Mn("webkit"),Wa=Mn("android"),na=Mn("android 2")||Mn("android 3"),En=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fr=Wa&&Mn("Google")&&En<537&&!("AudioNode"in window),cr=!!window.opera,ys=!Te&&Mn("chrome"),Bi=Mn("gecko")&&!vi&&!cr&&!bn,Ya=!ys&&Mn("safari"),bs=Mn("phantom"),Hr="OTransition"in dn,Qa=navigator.platform.indexOf("Win")===0,Qn=bn&&"transition"in dn,mn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!na,li="MozPerspective"in dn,en=!window.L_DISABLE_3D&&(Qn||mn||li)&&!Hr&&!bs,Es=typeof orientation<"u"||Mn("mobile"),Xa=Es&&vi,du=Es&&mn,Ui=!window.PointerEvent&&window.MSPointerEvent,Ts=!!(window.PointerEvent||Ui),nn="ontouchstart"in window||!!window.TouchEvent,hr=!window.L_NO_TOUCH&&(nn||Ts),fr=Es&&cr,Fi=Es&&Bi,Bc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,mu=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",C,c),window.removeEventListener("testPassiveEventSupport",C,c)}catch{}return a})(),dr=(function(){return!!document.createElement("canvas").getContext})(),qr=!!(document.createElementNS&&tn("svg").createSVGRect),Uc=!!qr&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ia=!qr&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),ol=navigator.platform.indexOf("Mac")===0,ll=navigator.platform.indexOf("Linux")===0;function Mn(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ot={ie:bn,ielt9:Pe,edge:Te,webkit:vi,android:Wa,android23:na,androidStock:Fr,opera:cr,chrome:ys,gecko:Bi,safari:Ya,phantom:bs,opera12:Hr,win:Qa,ie3d:Qn,webkit3d:mn,gecko3d:li,any3d:en,mobile:Es,mobileWebkit:Xa,mobileWebkit3d:du,msPointer:Ui,pointer:Ts,touch:hr,touchNative:nn,mobileOpera:fr,mobileGecko:Fi,retina:Bc,passiveEvents:mu,canvas:dr,svg:qr,vml:ia,inlineSvg:Uc,mac:ol,linux:ll},ul=Ot.msPointer?"MSPointerDown":"pointerdown",yi=Ot.msPointer?"MSPointerMove":"pointermove",bi=Ot.msPointer?"MSPointerUp":"pointerup",rn=Ot.msPointer?"MSPointerCancel":"pointercancel",ln={touchstart:ul,touchmove:yi,touchend:bi,touchcancel:rn},Hi={touchstart:pr,touchmove:Dn,touchend:Dn,touchcancel:Dn},qi={},pu=!1;function gu(a,c,m){return c==="touchstart"&&Ei(),Hi[c]?(m=Hi[c].bind(this,m),a.addEventListener(ln[c],m,!1),m):(console.warn("wrong event specified:",c),C)}function _u(a,c,m){if(!ln[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(ln[c],m,!1)}function mr(a){qi[a.pointerId]=a}function $a(a){qi[a.pointerId]&&(qi[a.pointerId]=a)}function Gi(a){delete qi[a.pointerId]}function Ei(){pu||(document.addEventListener(ul,mr,!0),document.addEventListener(yi,$a,!0),document.addEventListener(bi,Gi,!0),document.addEventListener(rn,Gi,!0),pu=!0)}function Dn(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in qi)c.touches.push(qi[m]);c.changedTouches=[c],a(c)}}function pr(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Ye(c),Dn(a,c)}function un(a){var c={},m,b;for(b in a)m=a[b],c[b]=m&&m.bind?m.bind(a):m;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var cl=200;function hl(a,c){a.addEventListener("dblclick",c);var m=0,b;function w(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var k=Cs(I);if(!(k.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!k.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var $=Date.now();$-m<=cl?(b++,b===2&&c(un(I))):b=1,m=$}}}return a.addEventListener("click",w),{dblclick:c,simDblclick:w}}function gr(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Ti=sa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gr=sa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ja=Gr==="webkitTransition"||Gr==="OTransition"?Gr+"End":"transitionend";function to(a){return typeof a=="string"?document.getElementById(a):a}function ws(a,c){var m=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);m=b?b[c]:null}return m==="auto"?null:m}function ne(a,c,m){var b=document.createElement(a);return b.className=c||"",m&&m.appendChild(b),b}function ae(a){var c=a.parentNode;c&&c.removeChild(a)}function Ke(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function We(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function ui(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function ra(a,c){if(a.classList!==void 0)return a.classList.contains(c);var m=_r(a);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Rt(a,c){if(a.classList!==void 0)for(var m=H(c),b=0,w=m.length;b<w;b++)a.classList.add(m[b]);else if(!ra(a,c)){var I=_r(a);wi(a,(I?I+" ":"")+c)}}function Le(a,c){a.classList!==void 0?a.classList.remove(c):wi(a,M((" "+_r(a)+" ").replace(" "+c+" "," ")))}function wi(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function _r(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Ue(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&eo(a,c)}function eo(a,c){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):a.style.filter+=" progid:"+b+"(opacity="+c+")"}function sa(a){for(var c=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in c)return a[m];return!1}function Zi(a,c,m){var b=c||new yt(0,0);a.style[Ti]=(Ot.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function Me(a,c){a._leaflet_pos=c,Ot.any3d?Zi(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function vr(a){return a._leaflet_pos||new yt(0,0)}var Si,Tn,no;if("onselectstart"in document)Si=function(){Ut(window,"selectstart",Ye)},Tn=function(){we(window,"selectstart",Ye)};else{var Zr=sa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Si=function(){if(Zr){var a=document.documentElement.style;no=a[Zr],a[Zr]="none"}},Tn=function(){Zr&&(document.documentElement.style[Zr]=no,no=void 0)}}function aa(){Ut(window,"dragstart",Ye)}function Ss(){we(window,"dragstart",Ye)}var oa,yr;function As(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Xn(),oa=a,yr=a.style.outlineStyle,a.style.outlineStyle="none",Ut(window,"keydown",Xn))}function Xn(){oa&&(oa.style.outlineStyle=yr,oa=void 0,yr=void 0,we(window,"keydown",Xn))}function io(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function $n(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var xs={__proto__:null,TRANSFORM:Ti,TRANSITION:Gr,TRANSITION_END:Ja,get:to,getStyle:ws,create:ne,remove:ae,empty:Ke,toFront:We,toBack:ui,hasClass:ra,addClass:Rt,removeClass:Le,setClass:wi,getClass:_r,setOpacity:Ue,testProp:sa,setTransform:Zi,setPosition:Me,getPosition:vr,get disableTextSelection(){return Si},get enableTextSelection(){return Tn},disableImageDrag:aa,enableImageDrag:Ss,preventOutline:As,restoreOutline:Xn,getSizedParentNode:io,getScale:$n};function Ut(a,c,m,b){if(c&&typeof c=="object")for(var w in c)Jn(a,w,c[w],m);else{c=H(c);for(var I=0,k=c.length;I<k;I++)Jn(a,c[I],m,b)}return this}var kn="_leaflet_events";function we(a,c,m,b){if(arguments.length===1)Kr(a),delete a[kn];else if(c&&typeof c=="object")for(var w in c)Wr(a,w,c[w],m);else if(c=H(c),arguments.length===2)Kr(a,function($){return xt(c,$)!==-1});else for(var I=0,k=c.length;I<k;I++)Wr(a,c[I],m,b);return this}function Kr(a,c){for(var m in a[kn]){var b=m.split(/\d/)[0];(!c||c(b))&&Wr(a,b,null,null,m)}}var ci={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Jn(a,c,m,b){var w=c+v(m)+(b?"_"+v(b):"");if(a[kn]&&a[kn][w])return this;var I=function($){return m.call(b||a,$||window.event)},k=I;!Ot.touchNative&&Ot.pointer&&c.indexOf("touch")===0?I=gu(a,c,I):Ot.touch&&c==="dblclick"?I=hl(a,I):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(ci[c]||c,I,Ot.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function($){$=$||window.event,Yi(a,$)&&k($)},a.addEventListener(ci[c],I,!1)):a.addEventListener(c,k,!1):a.attachEvent("on"+c,I),a[kn]=a[kn]||{},a[kn][w]=I}function Wr(a,c,m,b,w){w=w||c+v(m)+(b?"_"+v(b):"");var I=a[kn]&&a[kn][w];if(!I)return this;!Ot.touchNative&&Ot.pointer&&c.indexOf("touch")===0?_u(a,c,I):Ot.touch&&c==="dblclick"?gr(a,I):"removeEventListener"in a?a.removeEventListener(ci[c]||c,I,!1):a.detachEvent("on"+c,I),a[kn][w]=null}function he(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ai(a){return Jn(a,"wheel",he),this}function Yr(a){return Ut(a,"mousedown touchstart dblclick contextmenu",he),a._leaflet_disable_click=!0,this}function Ye(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ki(a){return Ye(a),he(a),this}function Cs(a){if(a.composedPath)return a.composedPath();for(var c=[],m=a.target;m;)c.push(m),m=m.parentNode;return c}function br(a,c){if(!c)return new yt(a.clientX,a.clientY);var m=$n(c),b=m.boundingClientRect;return new yt((a.clientX-b.left)/m.x-c.clientLeft,(a.clientY-b.top)/m.y-c.clientTop)}var Wi=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wn(a){return Ot.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Wi:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Yi(a,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var Er={__proto__:null,on:Ut,off:we,stopPropagation:he,disableScrollPropagation:Ai,disableClickPropagation:Yr,preventDefault:Ye,stop:Ki,getPropagationPath:Cs,getMousePosition:br,getWheelDelta:wn,isExternalTarget:Yi,addListener:Ut,removeListener:we},Qr=wt.extend({run:function(a,c,m,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=vr(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var m=this._startPos.add(this._offset.multiplyBy(a));c&&m._round(),Me(this._el,m),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),te=wt.extend({options:{crs:je,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=K(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(_t(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gr&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ut(this._proxy,Ja,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(_t(a),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=o({animate:m.animate},m.zoom),m.pan=o({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,m.zoom):this._tryAnimatedPan(a,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,m){var b=this.getZoomScale(c),w=this.getSize().divideBy(2),I=a instanceof yt?a:this.latLngToContainerPoint(a),k=I.subtract(w).multiplyBy(1-1/b),$=this.containerPointToLatLng(w.add(k));return this.setView($,c,{zoom:m})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():ut(a);var m=F(c.paddingTopLeft||c.padding||[0,0]),b=F(c.paddingBottomRight||c.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(b));if(w=typeof c.maxZoom=="number"?Math.min(c.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var I=b.subtract(m).divideBy(2),k=this.project(a.getSouthWest(),w),$=this.project(a.getNorthEast(),w),nt=this.unproject(k.add($).divideBy(2).add(I),w);return{center:nt,zoom:w}},fitBounds:function(a,c){if(a=ut(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=F(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Rt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,m){if(m=m||{},m.animate===!1||!Ot.any3d)return this.setView(a,c,m);this._stop();var b=this.project(this.getCenter()),w=this.project(a),I=this.getSize(),k=this._zoom;a=_t(a),c=c===void 0?k:c;var $=Math.max(I.x,I.y),nt=$*this.getZoomScale(k,c),dt=w.distanceTo(b)||1,St=1.42,Dt=St*St;function $t(sn){var es=sn?-1:1,ma=sn?nt:$,Kc=nt*nt-$*$+es*Dt*Dt*dt*dt,Pl=2*ma*Dt*dt,Nl=Kc/Pl,js=Math.sqrt(Nl*Nl+1)-Nl,ns=js<1e-9?-18:Math.log(js);return ns}function Pn(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function cn(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function di(sn){return Pn(sn)/cn(sn)}var Ae=$t(0);function xe(sn){return $*(cn(Ae)/cn(Ae+St*sn))}function oe(sn){return $*(cn(Ae)*di(Ae+St*sn)-Pn(Ae))/Dt}function Ds(sn){return 1-Math.pow(1-sn,1.5)}var Oi=Date.now(),Ou=($t(1)-Ae)/St,ks=m.duration?1e3*m.duration:1e3*Ou*.8;function Zc(){var sn=(Date.now()-Oi)/ks,es=Ds(sn)*Ou;sn<=1?(this._flyToFrame=U(Zc,this),this._move(this.unproject(b.add(w.subtract(b).multiplyBy(oe(es)/dt)),k),this.getScaleZoom($/xe(es),k),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Zc.call(this),this},flyToBounds:function(a,c){var m=this._getBoundsCenterZoom(a,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(a){return a=ut(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,ut(a));return m.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var m=F(c.paddingTopLeft||c.padding||[0,0]),b=F(c.paddingBottomRight||c.padding||[0,0]),w=this.project(this.getCenter()),I=this.project(a),k=this.getPixelBounds(),$=Q([k.min.add(m),k.max.subtract(b)]),nt=$.getSize();if(!$.contains(I)){this._enforcingBounds=!0;var dt=I.subtract($.getCenter()),St=$.extend(I).getSize().subtract(nt);w.x+=dt.x<0?-St.x:St.x,w.y+=dt.y<0?-St.y:St.y,this.panTo(this.unproject(w),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=o({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=c.divideBy(2).round(),w=m.divideBy(2).round(),I=b.subtract(w);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=o({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,a):navigator.geolocation.getCurrentPosition(c,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,m=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,m=a.coords.longitude,b=new gt(c,m),w=b.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var k=this.getBoundsZoom(w);this.setView(b,I.maxZoom?Math.min(k,I.maxZoom):k)}var $={latlng:b,bounds:w,timestamp:a.timestamp};for(var nt in a.coords)typeof a.coords[nt]=="number"&&($[nt]=a.coords[nt]);this.fire("locationfound",$)}},addHandler:function(a,c){if(!c)return this;var m=this[a]=new c(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ae(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=ne("div",m,c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new ot(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,m){a=ut(a),m=F(m||[0,0]);var b=this.getZoom()||0,w=this.getMinZoom(),I=this.getMaxZoom(),k=a.getNorthWest(),$=a.getSouthEast(),nt=this.getSize().subtract(m),dt=Q(this.project($,b),this.project(k,b)).getSize(),St=Ot.any3d?this.options.zoomSnap:1,Dt=nt.x/dt.x,$t=nt.y/dt.y,Pn=c?Math.max(Dt,$t):Math.min(Dt,$t);return b=this.getScaleZoom(Pn,b),St&&(b=Math.round(b/(St/100))*(St/100),b=c?Math.ceil(b/St)*St:Math.floor(b/St)*St),Math.max(w,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new yt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var m=this._getTopLeftPoint(a,c);return new R(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(a)/m.scale(c)},getScaleZoom:function(a,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var b=m.zoom(a*m.scale(c));return isNaN(b)?1/0:b},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(_t(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(F(a),c)},layerPointToLatLng:function(a){var c=F(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(_t(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(_t(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ut(a))},distance:function(a,c){return this.options.crs.distance(_t(a),_t(c))},containerPointToLayerPoint:function(a){return F(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return F(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(F(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_t(a)))},mouseEventToContainerPoint:function(a){return br(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=to(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ut(c,"scroll",this._onScroll,this),this._containerId=v(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Rt(a,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=ws(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Me(this._mapPane,new yt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Rt(a.markerPane,"leaflet-zoom-hide"),Rt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,m){Me(this._mapPane,new yt(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var w=this._zoom!==c;this._moveStart(w,m)._move(a,c)._moveEnd(w),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,m,b){c===void 0&&(c=this._zoom);var w=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Me(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var c=a?we:Ut;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var m=[],b,w=c==="mouseout"||c==="mouseover",I=a.target||a.srcElement,k=!1;I;){if(b=this._targets[v(I)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){k=!0;break}if(b&&b.listens(c,!0)&&(w&&!Yi(I,a)||(m.push(b),w))||I===this._container)break;I=I.parentNode}return!m.length&&!k&&!w&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var m=a.type;m==="mousedown"&&As(c),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,m){if(a.type==="click"){var b=o({},a);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var w=this._findEventTargets(a,c);if(m){for(var I=[],k=0;k<m.length;k++)m[k].listens(c,!0)&&I.push(m[k]);w=I.concat(w)}if(w.length){c==="contextmenu"&&Ye(a);var $=w[0],nt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var dt=$.getLatLng&&(!$._radius||$._radius<=10);nt.containerPoint=dt?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(a),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=dt?$.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(k=0;k<w.length;k++)if(w[k].fire(c,nt,!0),nt.originalEvent._stopped||w[k].options.bubblingMouseEvents===!1&&xt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return vr(this._mapPane)||new yt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var m=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var m=this.getSize()._divideBy(2);return this.project(a,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return this.project(a,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return Q([this.project(a.getSouthWest(),c)._subtract(b),this.project(a.getNorthWest(),c)._subtract(b),this.project(a.getSouthEast(),c)._subtract(b),this.project(a.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,m){if(!m)return a;var b=this.project(a,c),w=this.getSize().divideBy(2),I=new R(b.subtract(w),b.add(w)),k=this._getBoundsOffset(I,m,c);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?a:this.unproject(b.add(k),c)},_limitOffset:function(a,c){if(!c)return a;var m=this.getPixelBounds(),b=new R(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(a,c,m){var b=Q(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),w=b.min.subtract(a.min),I=b.max.subtract(a.max),k=this._rebound(w.x,-I.x),$=this._rebound(w.y,-I.y);return new yt(k,$)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),m=this.getMaxZoom(),b=Ot.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var m=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var a=this._proxy=ne("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var m=Ti,b=this._proxy.style[m];Zi(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Zi(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),w=this._getCenterOffset(a)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(w)?!1:(U(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rs(a,c){return new te(a,c)}var jn=se.extend({options:{position:"topright"},initialize:function(a){K(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),m=this.getPosition(),b=a._controlCorners[m];return Rt(c,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),ti=function(a){return new jn(a)};te.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",m=this._controlContainer=ne("div",c+"control-container",this._container);function b(w,I){var k=c+w+" "+c+I;a[w+I]=ne("div",k,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ae(this._controlCorners[a]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var la=jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,m,b){return m<b?-1:b<m?1:0}},initialize:function(a,c,m){K(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return jn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(v(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=ne("div",a),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Yr(c),Ai(c);var b=this._section=ne("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Ut(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=ne("a",a+"-toggle",c);w.href="#",w.title="Layers",w.setAttribute("role","button"),Ut(w,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Ye(I),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ne("div",a+"-base",b),this._separator=ne("div",a+"-separator",b),this._overlaysList=ne("div",a+"-overlays",b),c.appendChild(b)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&v(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(b,w){return this.options.sortFunction(b.layer,w.layer,b.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ke(this._baseLayersList),Ke(this._overlaysList),this._layerControlInputs=[];var a,c,m,b,w=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,w+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(v(a.target)),m=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(a,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(a){var c=document.createElement("label"),m=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+v(this),m),this._layerControlInputs.push(b),b.layerId=v(a.layer),Ut(b,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(b),I.appendChild(w);var k=a.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,m,b=[],w=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)c=a[I],m=this._getLayer(c.layerId).layer,c.checked?b.push(m):c.checked||w.push(m);for(I=0;I<w.length;I++)this._map.hasLayer(w[I])&&this._map.removeLayer(w[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,m,b=this._map.getZoom(),w=a.length-1;w>=0;w--)c=a[w],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ut(a,"click",Ye),this.expand();var c=this;setTimeout(function(){we(a,"click",Ye),c._preventClick=!1})}}),fl=function(a,c,m){return new la(a,c,m)},Xr=jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",m=ne("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,m,b,w){var I=ne("a",m,b);return I.innerHTML=a,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),Yr(I),Ut(I,"click",Ki),Ut(I,"click",w,this),Ut(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Le(this._zoomInButton,c),Le(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Rt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Rt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});te.mergeOptions({zoomControl:!0}),te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xr,this.addControl(this.zoomControl))});var vu=function(a){return new Xr(a)},dl=jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",m=ne("div",c),b=this.options;return this._addScales(b,c+"-line",m),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,m){a.metric&&(this._mScale=ne("div",c,m)),a.imperial&&(this._iScale=ne("div",c,m))},_update:function(){var a=this._map,c=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/a)},_updateImperial:function(a){var c=a*3.2808399,m,b,w;c>5280?(m=c/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(w=this._getRoundNum(c),this._updateScale(this._iScale,w+" ft",w/c))},_updateScale:function(a,c,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),m=a/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),ua=function(a){return new dl(a)},ml='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ro=jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?ml+" ":"")+"Leaflet</a>"},initialize:function(a){K(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ne("div","leaflet-control-attribution"),Yr(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});te.mergeOptions({attributionControl:!0}),te.addInitHook(function(){this.options.attributionControl&&new ro().addTo(this)});var so=function(a){return new ro(a)};jn.Layers=la,jn.Zoom=Xr,jn.Scale=dl,jn.Attribution=ro,ti.layers=fl,ti.zoom=vu,ti.scale=ua,ti.attribution=so;var hi=se.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hi.addTo=function(a,c){return a.addHandler(c,this),this};var yu={Events:st},Qi=Ot.touch?"touchstart mousedown":"mousedown",Xi=wt.extend({options:{clickTolerance:3},initialize:function(a,c,m,b){K(this,b),this._element=a,this._dragStartTarget=c||a,this._preventOutline=m},enable:function(){this._enabled||(Ut(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xi._dragging===this&&this.finishDrag(!0),we(this._dragStartTarget,Qi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ra(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Xi._dragging===this&&this.finishDrag();return}if(!(Xi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Xi._dragging=this,this._preventOutline&&As(this._element),aa(),Si(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,m=io(this._element);this._startPoint=new yt(c.clientX,c.clientY),this._startPos=vr(this._element),this._parentScale=$n(m);var b=a.type==="mousedown";Ut(document,b?"mousemove":"touchmove",this._onMove,this),Ut(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,m=new yt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Ye(a),this._moved||(this.fire("dragstart"),this._moved=!0,Rt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Me(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),we(document,"mousemove touchmove",this._onMove,this),we(document,"mouseup touchend touchcancel",this._onUp,this),Ss(),Tn();var c=this._moved&&this._moving;this._moving=!1,Xi._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function pl(a,c,m){var b,w=[1,4,2,8],I,k,$,nt,dt,St,Dt,$t;for(I=0,St=a.length;I<St;I++)a[I]._code=rt(a[I],c);for($=0;$<4;$++){for(Dt=w[$],b=[],I=0,St=a.length,k=St-1;I<St;k=I++)nt=a[I],dt=a[k],nt._code&Dt?dt._code&Dt||($t=J(dt,nt,Dt,c,m),$t._code=rt($t,c),b.push($t)):(dt._code&Dt&&($t=J(dt,nt,Dt,c,m),$t._code=rt($t,c),b.push($t)),b.push(nt));a=b}return a}function gl(a,c){var m,b,w,I,k,$,nt,dt,St;if(!a||a.length===0)throw new Error("latlngs not passed");ye(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Dt=_t([0,0]),$t=ut(a),Pn=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());Pn<1700&&(Dt=ao(a));var cn=a.length,di=[];for(m=0;m<cn;m++){var Ae=_t(a[m]);di.push(c.project(_t([Ae.lat-Dt.lat,Ae.lng-Dt.lng])))}for($=nt=dt=0,m=0,b=cn-1;m<cn;b=m++)w=di[m],I=di[b],k=w.y*I.x-I.y*w.x,nt+=(w.x+I.x)*k,dt+=(w.y+I.y)*k,$+=k*3;$===0?St=di[0]:St=[nt/$,dt/$];var xe=c.unproject(F(St));return _t([xe.lat+Dt.lat,xe.lng+Dt.lng])}function ao(a){for(var c=0,m=0,b=0,w=0;w<a.length;w++){var I=_t(a[w]);c+=I.lat,m+=I.lng,b++}return _t([c/b,m/b])}var Is={__proto__:null,clipPolygon:pl,polygonCenter:gl,centroid:ao};function Vn(a,c){if(!c||!a.length)return a.slice();var m=c*c;return a=T(a,m),a=$r(a,m),a}function _l(a,c,m){return Math.sqrt(Gt(a,c,m,!0))}function bu(a,c,m){return Gt(a,c,m)}function $r(a,c){var m=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,w=new b(m);w[0]=w[m-1]=1,d(a,w,c,0,m-1);var I,k=[];for(I=0;I<m;I++)w[I]&&k.push(a[I]);return k}function d(a,c,m,b,w){var I=0,k,$,nt;for($=b+1;$<=w-1;$++)nt=Gt(a[$],a[b],a[w],!0),nt>I&&(k=$,I=nt);I>m&&(c[k]=1,d(a,c,m,b,k),d(a,c,m,k,w))}function T(a,c){for(var m=[a[0]],b=1,w=0,I=a.length;b<I;b++)Tt(a[b],a[w])>c&&(m.push(a[b]),w=b);return w<I-1&&m.push(a[I-1]),m}var x;function N(a,c,m,b,w){var I=b?x:rt(a,m),k=rt(c,m),$,nt,dt;for(x=k;;){if(!(I|k))return[a,c];if(I&k)return!1;$=I||k,nt=J(a,c,$,m,w),dt=rt(nt,m),$===I?(a=nt,I=dt):(c=nt,k=dt)}}function J(a,c,m,b,w){var I=c.x-a.x,k=c.y-a.y,$=b.min,nt=b.max,dt,St;return m&8?(dt=a.x+I*(nt.y-a.y)/k,St=nt.y):m&4?(dt=a.x+I*($.y-a.y)/k,St=$.y):m&2?(dt=nt.x,St=a.y+k*(nt.x-a.x)/I):m&1&&(dt=$.x,St=a.y+k*($.x-a.x)/I),new yt(dt,St,w)}function rt(a,c){var m=0;return a.x<c.min.x?m|=1:a.x>c.max.x&&(m|=2),a.y<c.min.y?m|=4:a.y>c.max.y&&(m|=8),m}function Tt(a,c){var m=c.x-a.x,b=c.y-a.y;return m*m+b*b}function Gt(a,c,m,b){var w=c.x,I=c.y,k=m.x-w,$=m.y-I,nt=k*k+$*$,dt;return nt>0&&(dt=((a.x-w)*k+(a.y-I)*$)/nt,dt>1?(w=m.x,I=m.y):dt>0&&(w+=k*dt,I+=$*dt)),k=a.x-w,$=a.y-I,b?k*k+$*$:new yt(w,I)}function ye(a){return!lt(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function be(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ye(a)}function Fe(a,c){var m,b,w,I,k,$,nt,dt;if(!a||a.length===0)throw new Error("latlngs not passed");ye(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var St=_t([0,0]),Dt=ut(a),$t=Dt.getNorthWest().distanceTo(Dt.getSouthWest())*Dt.getNorthEast().distanceTo(Dt.getNorthWest());$t<1700&&(St=ao(a));var Pn=a.length,cn=[];for(m=0;m<Pn;m++){var di=_t(a[m]);cn.push(c.project(_t([di.lat-St.lat,di.lng-St.lng])))}for(m=0,b=0;m<Pn-1;m++)b+=cn[m].distanceTo(cn[m+1])/2;if(b===0)dt=cn[0];else for(m=0,I=0;m<Pn-1;m++)if(k=cn[m],$=cn[m+1],w=k.distanceTo($),I+=w,I>b){nt=(I-b)/w,dt=[$.x-nt*($.x-k.x),$.y-nt*($.y-k.y)];break}var Ae=c.unproject(F(dt));return _t([Ae.lat+St.lat,Ae.lng+St.lng])}var xi={__proto__:null,simplify:Vn,pointToSegmentDistance:_l,closestPointOnSegment:bu,clipSegment:N,_getEdgeIntersection:J,_getBitCode:rt,_sqClosestPointOnSegment:Gt,isFlat:ye,_flat:be,polylineCenter:Fe},Ci={project:function(a){return new yt(a.lng,a.lat)},unproject:function(a){return new gt(a.y,a.x)},bounds:new R([-180,-90],[180,90])},fi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new R([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,m=this.R,b=a.lat*c,w=this.R_MINOR/m,I=Math.sqrt(1-w*w),k=I*Math.sin(b),$=Math.tan(Math.PI/4-b/2)/Math.pow((1-k)/(1+k),I/2);return b=-m*Math.log(Math.max($,1e-10)),new yt(a.lng*c*m,b)},unproject:function(a){for(var c=180/Math.PI,m=this.R,b=this.R_MINOR/m,w=Math.sqrt(1-b*b),I=Math.exp(-a.y/m),k=Math.PI/2-2*Math.atan(I),$=0,nt=.1,dt;$<15&&Math.abs(nt)>1e-7;$++)dt=w*Math.sin(k),dt=Math.pow((1-dt)/(1+dt),w/2),nt=Math.PI/2-2*Math.atan(I*dt)-k,k+=nt;return new gt(k*c,a.x*c/m)}},$i={__proto__:null,LonLat:Ci,Mercator:fi,SphericalMercator:ve},ca=o({},Pt,{code:"EPSG:3395",projection:fi,transformation:(function(){var a=.5/(Math.PI*fi.R);return _e(a,.5,-a,.5)})()}),ha=o({},Pt,{code:"EPSG:4326",projection:Ci,transformation:_e(1/180,1,-1/180,.5)}),oo=o({},bt,{projection:Ci,transformation:_e(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var m=c.lng-a.lng,b=c.lat-a.lat;return Math.sqrt(m*m+b*b)},infinite:!0});bt.Earth=Pt,bt.EPSG3395=ca,bt.EPSG3857=je,bt.EPSG900913=Kt,bt.EPSG4326=ha,bt.Simple=oo;var Ji=wt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});te.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=v(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=v(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},_addLayers:function(a){a=a?lt(a)?a:[a]:[];for(var c=0,m=a.length;c<m;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=v(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var w=this._zoomBoundLayers[b].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),c=w.maxZoom===void 0?c:Math.max(c,w.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var lo=Ji.extend({initialize:function(a,c){K(this,c),this._layers={};var m,b;if(a)for(m=0,b=a.length;m<b;m++)this.addLayer(a[m])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),bp=function(a,c){return new lo(a,c)},Tr=lo.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),lo.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),lo.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ot;for(var c in this._layers){var m=this._layers[c];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),Sf=function(a,c){return new Tr(a,c)},wr=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){K(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,c){var m=this.options,b=m[c+"Size"];typeof b=="number"&&(b=[b,b]);var w=F(b),I=F(c==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(m.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Ot.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function vl(a){return new wr(a)}var yl=wr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof yl.imagePath!="string"&&(yl.imagePath=this._detectIconPath()),(this.options.imagePath||yl.imagePath)+wr.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(m,b,w){var I=b.exec(m);return I&&I[w]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ne("div","leaflet-default-icon-path",document.body),c=ws(a,"background-image")||ws(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),bl=hi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Xi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Rt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,m=c._map,b=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,I=vr(c._icon),k=m.getPixelBounds(),$=m.getPixelOrigin(),nt=Q(k.min._subtract($).add(w),k.max._subtract($).subtract(w));if(!nt.contains(I)){var dt=F((Math.max(nt.max.x,I.x)-nt.max.x)/(k.max.x-nt.max.x)-(Math.min(nt.min.x,I.x)-nt.min.x)/(k.min.x-nt.min.x),(Math.max(nt.max.y,I.y)-nt.max.y)/(k.max.y-nt.max.y)-(Math.min(nt.min.y,I.y)-nt.min.y)/(k.min.y-nt.min.y)).multiplyBy(b);m.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),Me(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=U(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,m=c._shadow,b=vr(c._icon),w=c._map.layerPointToLatLng(b);m&&Me(m,b),c._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),El=Ji.extend({options:{icon:new yl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){K(this,c),this._latlng=_t(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=_t(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Rt(m,c),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),I=!1;w!==this._shadow&&(this._removeShadow(),I=!0),w&&(Rt(w,c),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&we(this._icon,"focus",this._panOnFocus,this),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Me(this._icon,a),this._shadow&&Me(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bl)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bl(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Ue(this._icon,a),this._shadow&&Ue(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,m=c.iconSize?F(c.iconSize):F(0,0),b=c.iconAnchor?F(c.iconAnchor):F(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Af(a,c){return new El(a,c)}var Sr=Ji.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return K(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),uo=Sr.extend({options:{fill:!0,radius:10},initialize:function(a,c){K(this,c),this._latlng=_t(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=_t(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Sr.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,m=this._clickTolerance(),b=[a+m,c+m];this._pxBounds=new R(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function xf(a,c){return new uo(a,c)}var Eu=uo.extend({initialize:function(a,c,m){if(typeof c=="number"&&(c=o({},m,{radius:c})),K(this,c),this._latlng=_t(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ot(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Sr.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===Pt.distance){var w=Math.PI/180,I=this._mRadius/Pt.R/w,k=m.project([c+I,a]),$=m.project([c-I,a]),nt=k.add($).divideBy(2),dt=m.unproject(nt).lat,St=Math.acos((Math.cos(I*w)-Math.sin(c*w)*Math.sin(dt*w))/(Math.cos(c*w)*Math.cos(dt*w)))/w;(isNaN(St)||St===0)&&(St=I/Math.cos(Math.PI/180*c)),this._point=nt.subtract(m.getPixelOrigin()),this._radius=isNaN(St)?0:nt.x-m.project([dt,a-St]).x,this._radiusY=nt.y-k.y}else{var Dt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Dt).x}this._updateBounds()}});function Cf(a,c,m){return new Eu(a,c,m)}var Jr=Sr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){K(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,m=null,b=Gt,w,I,k=0,$=this._parts.length;k<$;k++)for(var nt=this._parts[k],dt=1,St=nt.length;dt<St;dt++){w=nt[dt-1],I=nt[dt];var Dt=b(a,w,I,!0);Dt<c&&(c=Dt,m=b(a,w,I))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fe(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=_t(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ot,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],m=ye(a),b=0,w=a.length;b<w;b++)m?(c[b]=_t(a[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(a[b]);return c},_project:function(){var a=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new yt(a,a);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,m){var b=a[0]instanceof gt,w=a.length,I,k;if(b){for(k=[],I=0;I<w;I++)k[I]=this._map.latLngToLayerPoint(a[I]),m.extend(k[I]);c.push(k)}else for(I=0;I<w;I++)this._projectLatlngs(a[I],c,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,b,w,I,k,$,nt;for(m=0,w=0,I=this._rings.length;m<I;m++)for(nt=this._rings[m],b=0,k=nt.length;b<k-1;b++)$=N(nt[b],nt[b+1],a,b,!0),$&&(c[w]=c[w]||[],c[w].push($[0]),($[1]!==nt[b+1]||b===k-2)&&(c[w].push($[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,m=0,b=a.length;m<b;m++)a[m]=Vn(a[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var m,b,w,I,k,$,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,I=this._parts.length;m<I;m++)for($=this._parts[m],b=0,k=$.length,w=k-1;b<k;w=b++)if(!(!c&&b===0)&&_l(a,$[w],$[b])<=nt)return!0;return!1}});function Ep(a,c){return new Jr(a,c)}Jr._flat=be;var co=Jr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Jr.prototype._convertLatLngs.call(this,a),m=c.length;return m>=2&&c[0]instanceof gt&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(a){Jr.prototype._setLatLngs.call(this,a),ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,m=new yt(c,c);if(a=new R(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,w=this._rings.length,I;b<w;b++)I=pl(this._rings[b],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,m,b,w,I,k,$,nt,dt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,nt=this._parts.length;I<nt;I++)for(m=this._parts[I],k=0,dt=m.length,$=dt-1;k<dt;$=k++)b=m[k],w=m[$],b.y>a.y!=w.y>a.y&&a.x<(w.x-b.x)*(a.y-b.y)/(w.y-b.y)+b.x&&(c=!c);return c||Jr.prototype._containsPoint.call(this,a,!0)}});function Tp(a,c){return new co(a,c)}var ts=Tr.extend({initialize:function(a,c){K(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=lt(a)?a:a.features,m,b,w;if(c){for(m=0,b=c.length;m<b;m++)w=c[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var k=zn(a,I);return k?(k.feature=Su(a),k.defaultOptions=k.options,this.resetStyle(k),I.onEachFeature&&I.onEachFeature(a,k),this.addLayer(k)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=o({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function zn(a,c){var m=a.type==="Feature"?a.geometry:a,b=m?m.coordinates:null,w=[],I=c&&c.pointToLayer,k=c&&c.coordsToLatLng||Tu,$,nt,dt,St;if(!b&&!m)return null;switch(m.type){case"Point":return $=k(b),ho(I,a,$,c);case"MultiPoint":for(dt=0,St=b.length;dt<St;dt++)$=k(b[dt]),w.push(ho(I,a,$,c));return new Tr(w);case"LineString":case"MultiLineString":return nt=Tl(b,m.type==="LineString"?0:1,k),new Jr(nt,c);case"Polygon":case"MultiPolygon":return nt=Tl(b,m.type==="Polygon"?1:2,k),new co(nt,c);case"GeometryCollection":for(dt=0,St=m.geometries.length;dt<St;dt++){var Dt=zn({geometry:m.geometries[dt],type:"Feature",properties:a.properties},c);Dt&&w.push(Dt)}return new Tr(w);case"FeatureCollection":for(dt=0,St=m.features.length;dt<St;dt++){var $t=zn(m.features[dt],c);$t&&w.push($t)}return new Tr(w);default:throw new Error("Invalid GeoJSON object.")}}function ho(a,c,m,b){return a?a(c,m):new El(m,b&&b.markersInheritOptions&&b)}function Tu(a){return new gt(a[1],a[0],a[2])}function Tl(a,c,m){for(var b=[],w=0,I=a.length,k;w<I;w++)k=c?Tl(a[w],c-1,m):(m||Tu)(a[w]),b.push(k);return b}function wu(a,c){return a=_t(a),a.alt!==void 0?[P(a.lng,c),P(a.lat,c),P(a.alt,c)]:[P(a.lng,c),P(a.lat,c)]}function wl(a,c,m,b){for(var w=[],I=0,k=a.length;I<k;I++)w.push(c?wl(a[I],ye(a[I])?0:c-1,m,b):wu(a[I],b));return!c&&m&&w.length>0&&w.push(w[0].slice()),w}function Os(a,c){return a.feature?o({},a.feature,{geometry:c}):Su(c)}function Su(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Ps={toGeoJSON:function(a){return Os(this,{type:"Point",coordinates:wu(this.getLatLng(),a)})}};El.include(Ps),Eu.include(Ps),uo.include(Ps),Jr.include({toGeoJSON:function(a){var c=!ye(this._latlngs),m=wl(this._latlngs,c?1:0,!1,a);return Os(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),co.include({toGeoJSON:function(a){var c=!ye(this._latlngs),m=c&&!ye(this._latlngs[0]),b=wl(this._latlngs,m?2:c?1:0,!0,a);return c||(b=[b]),Os(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),lo.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(a).geometry.coordinates)}),Os(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var m=c==="GeometryCollection",b=[];return this.eachLayer(function(w){if(w.toGeoJSON){var I=w.toGeoJSON(a);if(m)b.push(I.geometry);else{var k=Su(I);k.type==="FeatureCollection"?b.push.apply(b,k.features):b.push(k)}}}),m?Os(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function Au(a,c){return new ts(a,c)}var Sl=Au,fo=Ji.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,m){this._url=a,this._bounds=ut(c),K(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&We(this._image),this},bringToBack:function(){return this._map&&ui(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ut(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:ne("img");if(Rt(c,"leaflet-image-layer"),this._zoomAnimated&&Rt(c,"leaflet-zoom-animated"),this.options.className&&Rt(c,this.options.className),c.onselectstart=C,c.onmousemove=C,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Zi(this._image,m,c)},_reset:function(){var a=this._image,c=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Me(a,c.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Ue(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Rf=function(a,c,m){return new fo(a,c,m)},Ns=fo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:ne("video");if(Rt(c,"leaflet-image-layer"),this._zoomAnimated&&Rt(c,"leaflet-zoom-animated"),this.options.className&&Rt(c,this.options.className),c.onselectstart=C,c.onmousemove=C,c.onloadeddata=f(this.fire,this,"load"),a){for(var m=c.getElementsByTagName("source"),b=[],w=0;w<m.length;w++)b.push(m[w].src);this._url=m.length>0?b:[c.src];return}lt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var k=ne("source");k.src=this._url[I],c.appendChild(k)}}});function mo(a,c,m){return new Ns(a,c,m)}var xu=fo.extend({_initImage:function(){var a=this._image=this._url;Rt(a,"leaflet-image-layer"),this._zoomAnimated&&Rt(a,"leaflet-zoom-animated"),this.options.className&&Rt(a,this.options.className),a.onselectstart=C,a.onmousemove=C}});function If(a,c,m){return new xu(a,c,m)}var Bn=Ji.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof gt||lt(a))?(this._latlng=_t(a),K(this,c)):(K(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Ue(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Ue(this._container,1),this.bringToFront(),this.options.interactive&&(Rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Ue(this._container,0),this._removeTimeout=setTimeout(f(ae,void 0,this._container),200)):ae(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=_t(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&We(this._container),this},bringToBack:function(){return this._map&&ui(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Tr){c=null;var m=this._source._layers;for(var b in m)if(m[b]._map){c=m[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=F(this.options.offset),m=this._getAnchor();this._zoomAnimated?Me(this._container,a.add(m)):c=c.add(a).add(m);var b=this._containerBottom=-c.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});te.include({_initOverlay:function(a,c,m,b){var w=c;return w instanceof a||(w=new a(b).setContent(c)),m&&w.setLatLng(m),w}}),Ji.include({_initOverlay:function(a,c,m,b){var w=m;return w instanceof a?(K(w,b),w._source=this):(w=c&&!b?c:new a(b,this),w.setContent(m)),w}});var Al=Bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Bn.prototype.openOn.call(this,a)},onAdd:function(a){Bn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Sr||this._source.on("preclick",he))},onRemove:function(a){Bn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Sr||this._source.off("preclick",he))},getEvents:function(){var a=Bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=ne("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ne("div",a+"-content-wrapper",c);if(this._contentNode=ne("div",a+"-content",m),Yr(c),Ai(this._contentNode),Ut(c,"contextmenu",he),this._tipContainer=ne("div",a+"-tip-container",c),this._tip=ne("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=ne("a",a+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ut(b,"click",function(w){Ye(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var b=a.offsetHeight,w=this.options.maxHeight,I="leaflet-popup-scrolled";w&&b>w?(c.height=w+"px",Rt(a,I)):Le(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Me(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(ws(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,b=this._containerWidth,w=new yt(this._containerLeft,-m-this._containerBottom);w._add(vr(this._container));var I=a.layerPointToContainerPoint(w),k=F(this.options.autoPanPadding),$=F(this.options.autoPanPaddingTopLeft||k),nt=F(this.options.autoPanPaddingBottomRight||k),dt=a.getSize(),St=0,Dt=0;I.x+b+nt.x>dt.x&&(St=I.x+b-dt.x+nt.x),I.x-St-$.x<0&&(St=I.x-$.x),I.y+m+nt.y>dt.y&&(Dt=I.y+m-dt.y+nt.y),I.y-Dt-$.y<0&&(Dt=I.y-$.y),(St||Dt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([St,Dt]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Of=function(a,c){return new Al(a,c)};te.mergeOptions({closePopupOnClick:!0}),te.include({openPopup:function(a,c,m){return this._initOverlay(Al,a,c,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Ji.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Al,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Tr||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ki(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Sr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var xl=Bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Bn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Bn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Bn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ne("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,m,b=this._map,w=this._container,I=b.latLngToContainerPoint(b.getCenter()),k=b.layerPointToContainerPoint(a),$=this.options.direction,nt=w.offsetWidth,dt=w.offsetHeight,St=F(this.options.offset),Dt=this._getAnchor();$==="top"?(c=nt/2,m=dt):$==="bottom"?(c=nt/2,m=0):$==="center"?(c=nt/2,m=dt/2):$==="right"?(c=0,m=dt/2):$==="left"?(c=nt,m=dt/2):k.x<I.x?($="right",c=0,m=dt/2):($="left",c=nt+(St.x+Dt.x)*2,m=dt/2),a=a.subtract(F(c,m,!0)).add(St).add(Dt),Le(w,"leaflet-tooltip-right"),Le(w,"leaflet-tooltip-left"),Le(w,"leaflet-tooltip-top"),Le(w,"leaflet-tooltip-bottom"),Rt(w,"leaflet-tooltip-"+$),Me(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Ue(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wp=function(a,c){return new xl(a,c)};te.include({openTooltip:function(a,c,m){return this._initOverlay(xl,a,c,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Ji.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xl,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Tr||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ut(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ut(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,m,b;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var Pf=wr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Ke(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=F(m.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Sp(a){return new Pf(a)}wr.Default=yl;var po=Ji.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){K(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ae(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(We(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof yt?a:new yt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,m=-a(-1/0,1/0),b=0,w=c.length,I;b<w;b++)I=c[b].style.zIndex,c[b]!==this._container&&I&&(m=a(m,+I));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){Ue(this._container,this.options.opacity);var a=+new Date,c=!1,m=!1;for(var b in this._tiles){var w=this._tiles[b];if(!(!w.current||!w.loaded)){var I=Math.min(1,(a-w.loaded)/200);Ue(w.el,I),I<1?c=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(W(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=ne("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=c-Math.abs(a-m),this._onUpdateLevel(m)):(ae(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[a],w=this._map;return b||(b=this._levels[a]={},b.el=ne("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,w.getCenter(),w.getZoom()),C(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var a,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ae(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,m,b){var w=Math.floor(a/2),I=Math.floor(c/2),k=m-1,$=new yt(+w,+I);$.z=+k;var nt=this._tileCoordsToKey($),dt=this._tiles[nt];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),k>b?this._retainParent(w,I,k,b):!1)},_retainChildren:function(a,c,m,b){for(var w=2*a;w<2*a+2;w++)for(var I=2*c;I<2*c+2;I++){var k=new yt(w,I);k.z=m+1;var $=this._tileCoordsToKey(k),nt=this._tiles[$];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);m+1<b&&this._retainChildren(w,I,m+1,b)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,m,b){var w=Math.round(c);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var I=this.options.updateWhenZooming&&w!==this._tileZoom;(!b||I)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,c)},_setZoomTransform:function(a,c,m){var b=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,m)).round();Ot.any3d?Zi(a.el,w,b):Me(a.el,w)},_resetGrid:function(){var a=this._map,c=a.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],b).x/m.x),Math.ceil(a.project([0,c.wrapLng[1]],b).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],b).y/m.x),Math.ceil(a.project([c.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(m,this._tileZoom),w=c.project(a,this._tileZoom).floor(),I=c.getSize().divideBy(b*2);return new R(w.subtract(I),w.add(I))},_update:function(a){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(b),I=w.getCenter(),k=[],$=this.options.keepBuffer,nt=new R(w.getBottomLeft().subtract([$,-$]),w.getTopRight().add([$,-$]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var St=this._tiles[dt].coords;(St.z!==this._tileZoom||!nt.contains(new yt(St.x,St.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Dt=w.min.y;Dt<=w.max.y;Dt++)for(var $t=w.min.x;$t<=w.max.x;$t++){var Pn=new yt($t,Dt);if(Pn.z=this._tileZoom,!!this._isValidTile(Pn)){var cn=this._tiles[this._tileCoordsToKey(Pn)];cn?cn.current=!0:k.push(Pn)}}if(k.sort(function(Ae,xe){return Ae.distanceTo(I)-xe.distanceTo(I)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var di=document.createDocumentFragment();for($t=0;$t<k.length;$t++)this._addTile(k[$t],di);this._level.el.appendChild(di)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!c.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return ut(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,m=this.getTileSize(),b=a.scaleBy(m),w=b.add(m),I=c.unproject(b,a.z),k=c.unproject(w,a.z);return[I,k]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),m=new ot(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),m=new yt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(a){var c=this._tiles[a];c&&(ae(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Rt(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=C,a.onmousemove=C,Ot.ielt9&&this.options.opacity<1&&Ue(a,this.options.opacity)},_addTile:function(a,c){var m=this._getTilePos(a),b=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&U(f(this._tileReady,this,a,null,w)),Me(w,m),this._tiles[b]={el:w,coords:a,current:!0},c.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:a});var b=this._tileCoordsToKey(a);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Ue(m.el,0),W(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Rt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new yt(this._wrapX?A(a.x,this._wrapX):a.x,this._wrapY?A(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new R(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Nf(a){return new po(a)}var Ls=po.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=K(this,c),c.detectRetina&&Ot.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var m=document.createElement("img");return Ut(m,"load",f(this._tileOnLoad,this,c,m)),Ut(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var c={r:Ot.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=m),c["-y"]=m}return Et(this._url,o(c,this.options))},_tileOnLoad:function(a,c){Ot.ielt9?setTimeout(f(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,m){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),a(m,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(a=c-a),a+b},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=C,c.onerror=C,!c.complete)){c.src=Lt;var m=this._tiles[a].coords;ae(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",Lt),po.prototype._removeTile.call(this,a)},_tileReady:function(a,c,m){if(!(!this._map||m&&m.getAttribute("src")===Lt))return po.prototype._tileReady.call(this,a,c,m)}});function Ri(a,c){return new Ls(a,c)}var Cl=Ls.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var m=o({},this.defaultWmsParams);for(var b in c)b in this.options||(m[b]=c[b]);c=K(this,c);var w=c.detectRetina&&Ot.retina?2:1,I=this.getTileSize();m.width=I.x*w,m.height=I.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Ls.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),m=this._crs,b=Q(m.project(c[0]),m.project(c[1])),w=b.min,I=b.max,k=(this._wmsVersion>=1.3&&this._crs===ha?[w.y,w.x,I.y,I.x]:[w.x,w.y,I.x,I.y]).join(","),$=Ls.prototype.getTileUrl.call(this,a);return $+Z(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(a,c){return o(this.wmsParams,a),c||this.redraw(),this}});function Ii(a,c){return new Cl(a,c)}Ls.WMS=Cl,Ri.wms=Ii;var ei=Ji.extend({options:{padding:.1},initialize:function(a){K(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var m=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,c),I=b.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,c));Ot.any3d?Zi(this._container,I,m):Me(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new R(m,m.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cu=ei.extend({options:{tolerance:0},getEvents:function(){var a=ei.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ei.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ut(a,"mousemove",this._onMouseMove,this),Ut(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ut(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,ae(this._container),we(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var a=this._bounds,c=this._container,m=a.getSize(),b=Ot.retina?2:1;Me(c,a.min),c.width=b*m.x,c.height=b*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ei.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,m=c.next,b=c.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),m=[],b,w;for(w=0;w<c.length;w++){if(b=Number(c[w]),isNaN(b))return;m.push(b)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var m,b,w,I,k=a._parts,$=k.length,nt=this._ctx;if($){for(nt.beginPath(),m=0;m<$;m++){for(b=0,w=k[m].length;b<w;b++)I=k[m][b],nt[b?"lineTo":"moveTo"](I.x,I.y);c&&nt.closePath()}this._fillStroke(nt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,m=this._ctx,b=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||b)/b;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(c.x,c.y/w,b,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,c){var m=c.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),m,b,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Le(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var m,b,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(c)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Rt(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,m){this._map._fireDOMEvent(c,m||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Rl(a){return Ot.canvas?new Cu(a):null}var Ms=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Fc={_initContainer:function(){this._container=ne("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ei.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=Ms("shape");Rt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=Ms("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;ae(c),a.removeInteractiveTarget(c),delete this._layers[v(a)]},_updateStyle:function(a){var c=a._stroke,m=a._fill,b=a.options,w=a._container;w.stroked=!!b.stroke,w.filled=!!b.fill,b.stroke?(c||(c=a._stroke=Ms("stroke")),w.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=lt(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(w.removeChild(c),a._stroke=null),b.fill?(m||(m=a._fill=Ms("fill")),w.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),m=Math.round(a._radius),b=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){We(a._container)},_bringToBack:function(a){ui(a._container)}},Ar=Ot.vml?Ms:tn,go=ei.extend({_initContainer:function(){this._container=Ar("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ar("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),we(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ei.prototype._update.call(this);var a=this._bounds,c=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Me(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=Ar("path");a.options.className&&Rt(c,a.options.className),a.options.interactive&&Rt(c,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ae(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,m=a.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,on(a._parts,c))},_updateCircle:function(a){var c=a._point,m=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+b+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(c.x-m)+","+c.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,I)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){We(a._path)},_bringToBack:function(a){ui(a._path)}});Ot.vml&&go.include(Fc);function Il(a){return Ot.svg||Ot.vml?new go(a):null}te.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Rl(a)||Il(a)}});var fa=co.extend({initialize:function(a,c){co.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ut(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Ap(a,c){return new fa(a,c)}go.create=Ar,go.pointsToPath=on,ts.geometryToLayer=zn,ts.coordsToLatLng=Tu,ts.coordsToLatLngs=Tl,ts.latLngToCoords=wu,ts.latLngsToCoords=wl,ts.getFeature=Os,ts.asFeature=Su,te.mergeOptions({boxZoom:!0});var ni=hi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){we(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Si(),aa(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ut(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ne("div","leaflet-zoom-box",this._container),Rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new R(this._point,this._startPoint),m=c.getSize();Me(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(ae(this._box),Le(this._container,"leaflet-crosshair")),Tn(),Ss(),we(document,{contextmenu:Ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new ot(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});te.addInitHook("addHandler","boxZoom",ni),te.mergeOptions({doubleClickZoom:!0});var Ru=hi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,m=c.getZoom(),b=c.options.zoomDelta,w=a.originalEvent.shiftKey?m-b:m+b;c.options.doubleClickZoom==="center"?c.setZoom(w):c.setZoomAround(a.containerPoint,w)}});te.addInitHook("addHandler","doubleClickZoom",Ru),te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xr=hi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Xi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ut(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,w=(b-c+m)%a+c-m,I=(b+c+m)%a-c-m,k=Math.abs(w+m)<Math.abs(I+m)?w:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(a){var c=this._map,m=c.options,b=!m.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),b)c.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,k=m.easeLinearity,$=w.multiplyBy(k/I),nt=$.distanceTo([0,0]),dt=Math.min(m.inertiaMaxSpeed,nt),St=$.multiplyBy(dt/nt),Dt=dt/(m.inertiaDeceleration*k),$t=St.multiplyBy(-Dt/2).round();!$t.x&&!$t.y?c.fire("moveend"):($t=c._limitOffset($t,c.options.maxBounds),U(function(){c.panBy($t,{duration:Dt,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});te.addInitHook("addHandler","dragging",xr),te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Hc=hi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ut(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),we(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,m=a.scrollTop||c.scrollTop,b=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},m=this.keyCodes,b,w;for(b=0,w=m.left.length;b<w;b++)c[m.left[b]]=[-1*a,0];for(b=0,w=m.right.length;b<w;b++)c[m.right[b]]=[a,0];for(b=0,w=m.down.length;b<w;b++)c[m.down[b]]=[0,a];for(b=0,w=m.up.length;b<w;b++)c[m.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},m=this.keyCodes,b,w;for(b=0,w=m.zoomIn.length;b<w;b++)c[m.zoomIn[b]]=a;for(b=0,w=m.zoomOut.length;b<w;b++)c[m.zoomOut[b]]=-a},_addHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){we(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,m=this._map,b;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[c],a.shiftKey&&(b=F(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(F(b),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(w)}else m.panBy(b)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Ki(a)}}});te.addInitHook("addHandler","keyboard",Hc),te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ol=hi.extend({addHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){we(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=wn(a),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),Ki(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=m?Math.ceil(w/m)*m:w,k=a._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,k&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+k):a.setZoomAround(this._lastMousePos,c+k))}});te.addInitHook("addHandler","scrollWheelZoom",Ol);var da=600;te.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var Iu=hi.extend({addHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){we(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new yt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ut(document,"touchend",Ye),Ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),da),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){we(document,"touchend",Ye),we(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),we(document,"touchend touchcancel contextmenu",this._cancel,this),we(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new yt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});te.addInitHook("addHandler","tapHold",Iu),te.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var qc=hi.extend({addHooks:function(){Rt(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),we(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),Ye(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(w,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&w<1||this._zoom>c.getMaxZoom()&&w>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var I=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(w===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var k=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(k,this,!0),Ye(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),we(document,"touchmove",this._onTouchMove,this),we(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});te.addInitHook("addHandler","touchZoom",qc),te.BoxZoom=ni,te.DoubleClickZoom=Ru,te.Drag=xr,te.Keyboard=Hc,te.ScrollWheelZoom=Ol,te.TapHold=Iu,te.TouchZoom=qc,e.Bounds=R,e.Browser=Ot,e.CRS=bt,e.Canvas=Cu,e.Circle=Eu,e.CircleMarker=uo,e.Class=se,e.Control=jn,e.DivIcon=Pf,e.DivOverlay=Bn,e.DomEvent=Er,e.DomUtil=xs,e.Draggable=Xi,e.Evented=wt,e.FeatureGroup=Tr,e.GeoJSON=ts,e.GridLayer=po,e.Handler=hi,e.Icon=wr,e.ImageOverlay=fo,e.LatLng=gt,e.LatLngBounds=ot,e.Layer=Ji,e.LayerGroup=lo,e.LineUtil=xi,e.Map=te,e.Marker=El,e.Mixin=yu,e.Path=Sr,e.Point=yt,e.PolyUtil=Is,e.Polygon=co,e.Polyline=Jr,e.Popup=Al,e.PosAnimation=Qr,e.Projection=$i,e.Rectangle=fa,e.Renderer=ei,e.SVG=go,e.SVGOverlay=xu,e.TileLayer=Ls,e.Tooltip=xl,e.Transformation=ce,e.Util=z,e.VideoOverlay=Ns,e.bind=f,e.bounds=Q,e.canvas=Rl,e.circle=Cf,e.circleMarker=xf,e.control=ti,e.divIcon=Sp,e.extend=o,e.featureGroup=Sf,e.geoJSON=Au,e.geoJson=Sl,e.gridLayer=Nf,e.icon=vl,e.imageOverlay=Rf,e.latLng=_t,e.latLngBounds=ut,e.layerGroup=bp,e.map=Rs,e.marker=Af,e.point=F,e.polygon=Tp,e.polyline=Ep,e.popup=Of,e.rectangle=Ap,e.setOptions=K,e.stamp=v,e.svg=Il,e.svgOverlay=If,e.tileLayer=Ri,e.tooltip=wp,e.transformation=_e,e.version=r,e.videoOverlay=mo;var Gc=window.L;e.noConflict=function(){return window.L=Gc,this},window.L=e}))})(Dh,Dh.exports)),Dh.exports}var wf=ZV();const qy=yS(wf);function Gy(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function Zy(n,t){return t==null?function(r,o){const u=Y.useRef(void 0);return u.current||(u.current=n(r,o)),u}:function(r,o){const u=Y.useRef(void 0);u.current||(u.current=n(r,o));const f=Y.useRef(r),{instance:g}=u.current;return Y.useEffect(function(){f.current!==r&&(t(g,r,f.current),f.current=r)},[g,r,t]),u}}function KV(n,t){Y.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function NC(n){return function(e){const r=Fy(),o=n(Hy(e,r),r);return OC(r.map,e.attribution),PC(o.current,e.eventHandlers),KV(o.current,r),o}}function WV(n,t){const e=Zy(n,t),r=NC(e);return UV(r)}function YV(n,t){const e=Zy(n),r=qV(e,t);return FV(r)}function QV(n,t){const e=Zy(n,t),r=NC(e);return HV(r)}function XV(n,t,e){const{opacity:r,zIndex:o}=t;r!=null&&r!==e.opacity&&n.setOpacity(r),o!=null&&o!==e.zIndex&&n.setZIndex(o)}function $V(){return Fy().map}function JV({bounds:n,boundsOptions:t,center:e,children:r,className:o,id:u,placeholder:f,style:g,whenReady:v,zoom:y,...A},C){const[P]=Y.useState({className:o,id:u,style:g}),[M,H]=Y.useState(null),K=Y.useRef(void 0);Y.useImperativeHandle(C,()=>(M==null?void 0:M.map)??null,[M]);const Z=Y.useCallback(Et=>{if(Et!==null&&!K.current){const lt=new wf.Map(Et,A);K.current=lt,e!=null&&y!=null?lt.setView(e,y):n!=null&&lt.fitBounds(n,t),v!=null&&lt.whenReady(v),H(zV(lt))}},[]);Y.useEffect(()=>()=>{M==null||M.map.remove()},[M]);const ft=M?Wo.createElement(Uy,{value:M},r):f??null;return Wo.createElement("div",{...P,ref:Z},ft)}const t3=Y.forwardRef(JV),gS=WV(function({position:t,...e},r){const o=new wf.Marker(t,e);return Gy(o,BV(r,{overlayContainer:o}))},function(t,e,r){e.position!==r.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),_S=YV(function(t,e){const r=new wf.Popup(t,e.overlayContainer);return Gy(r,e)},function(t,e,{position:r},o){Y.useEffect(function(){const{instance:f}=t;function g(y){y.popup===f&&(f.update(),o(!0))}function v(y){y.popup===f&&o(!1)}return e.map.on({popupopen:g,popupclose:v}),e.overlayContainer==null?(r!=null&&f.setLatLng(r),f.openOn(e.map)):e.overlayContainer.bindPopup(f),function(){var A;e.map.off({popupopen:g,popupclose:v}),(A=e.overlayContainer)==null||A.unbindPopup(),e.map.removeLayer(f)}},[t,e,o,r])}),e3=QV(function({url:t,...e},r){const o=new wf.TileLayer(t,Hy(e,r));return Gy(o,r)},function(t,e,r){XV(t,e,r);const{url:o}=e;o!=null&&o!==r.url&&t.setUrl(o)});delete qy.Icon.Default.prototype._getIconUrl;qy.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const n3=new qy.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/3202/3202926.png",iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[0,-16]}),i3=({center:n})=>($V().flyTo(n,13),null),r3=({cars:n,center:t,onSelectCar:e})=>E.jsx("div",{style:{height:"400px",width:"100%",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",border:"1px solid var(--slate-200)"},children:E.jsxs(t3,{center:t,zoom:13,style:{height:"100%",width:"100%"},children:[E.jsx(e3,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),E.jsx(i3,{center:t}),E.jsx(gS,{position:t,children:E.jsx(_S,{children:"Jouw Locatie"})}),n.map((r,o)=>{const u=(Math.random()-.5)*.02,f=(Math.random()-.5)*.02,g=[t[0]+u,t[1]+f];return E.jsx(gS,{position:g,icon:n3,eventHandlers:{click:()=>e(r)},children:E.jsx(_S,{children:E.jsxs("div",{style:{textAlign:"center"},children:[E.jsxs("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem"},children:[r.make," ",r.model]}),E.jsx("p",{style:{margin:0,color:"#64748b"},children:r.provider}),E.jsx("button",{onClick:()=>e(r),style:{marginTop:"0.5rem",background:"#0ea5e9",color:"white",border:"none",padding:"0.25rem 0.75rem",borderRadius:"4px",cursor:"pointer"},children:"Kies deze"})]})})},r.id||o)})]})}),LC=()=>E.jsxs("div",{style:{position:"fixed",inset:0,zIndex:0,overflow:"hidden",pointerEvents:"none",backgroundColor:"#111827"},children:[E.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, #111827, #1f2937, #111827)",opacity:.8}}),E.jsxs("div",{style:{position:"absolute",inset:0,opacity:.3},children:[E.jsx("style",{children:`
                        @keyframes moveRight {
                            0% { transform: translateX(-100%) skewX(-30deg); }
                            100% { transform: translateX(200%) skewX(-30deg); }
                        }
                        @keyframes moveLeft {
                            0% { transform: translateX(200%) skewX(30deg); }
                            100% { transform: translateX(-100%) skewX(30deg); }
                        }
                        .traffic-light {
                            position: absolute;
                            height: 4px;
                            border-radius: 9999px;
                            filter: blur(3px);
                            box-shadow: 0 0 10px currentColor;
                        }
                        .light-red { color: #ef4444; background: currentColor; animation: moveLeft 8s linear infinite; }
                        .light-white { color: #facc15; background: currentColor; animation: moveRight 7s linear infinite; }
                        
                        .delay-1 { animation-delay: 0s; }
                        .delay-2 { animation-delay: 2s; }
                        .delay-3 { animation-delay: 4s; }
                        .delay-4 { animation-delay: 1.5s; }
                        .delay-5 { animation-delay: 3.5s; }
                    `}),E.jsx("div",{className:"traffic-light light-red",style:{width:"16rem",top:"15%",animationDuration:"15s"}}),E.jsx("div",{className:"traffic-light light-white",style:{width:"16rem",top:"18%",animationDuration:"12s",animationDelay:"5s"}}),E.jsx("div",{className:"traffic-light light-red delay-1",style:{width:"24rem",top:"40%"}}),E.jsx("div",{className:"traffic-light light-red delay-2",style:{width:"18rem",top:"42%"}}),E.jsx("div",{className:"traffic-light light-white delay-3",style:{width:"20rem",top:"45%"}}),E.jsx("div",{className:"traffic-light light-white delay-1",style:{width:"24rem",top:"48%"}}),E.jsx("div",{className:"traffic-light light-red",style:{width:"500px",top:"75%",opacity:.6,height:"6px",animationDuration:"6s"}}),E.jsx("div",{className:"traffic-light light-white",style:{width:"500px",top:"80%",opacity:.6,height:"6px",animationDuration:"5s",animationDelay:"1s"}})]}),E.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"url('https://grainy-gradients.vercel.app/noise.svg')",opacity:.1,mixBlendMode:"overlay"}})]}),kt=new xC,s3=_s(()=>{const{user:n}=gi,t=Ic(),[e,r]=Wo.useState(!0),o=()=>{try{const H=window.AudioContext||window.webkitAudioContext;if(!H)return;const K=new H;[{freq:440,type:"sine",delay:0},{freq:554,type:"sine",delay:.1},{freq:659,type:"sine",delay:.2},{freq:880,type:"sine",delay:.3}].forEach(({freq:ft,type:Et,delay:lt})=>{const xt=K.createOscillator(),Lt=K.createGain();xt.type=Et,xt.frequency.setValueAtTime(ft,K.currentTime+lt),Lt.gain.setValueAtTime(0,K.currentTime+lt),Lt.gain.linearRampToValueAtTime(.3,K.currentTime+lt+.1),Lt.gain.exponentialRampToValueAtTime(.001,K.currentTime+lt+.5),xt.connect(Lt),Lt.connect(K.destination),xt.start(K.currentTime+lt),xt.stop(K.currentTime+lt+.6)})}catch(H){console.error("Audio playback failed",H)}};Y.useEffect(()=>{if(kt.bookingStatus==="CONFIRMED"){o();const K=Date.now()+3e3,Z=()=>{fS({particleCount:7,angle:60,spread:55,origin:{x:0},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),fS({particleCount:7,angle:120,spread:55,origin:{x:1},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),Date.now()<K&&requestAnimationFrame(Z)};Z()}},[kt.bookingStatus]);const u=async H=>{H.preventDefault(),await kt.searchCars()},f=H=>{H==="home"&&(n!=null&&n.homeLocation)?(kt.startStreet=n.homeLocation.address,kt.isStartAddressValid=!0):H==="work"&&(n!=null&&n.workLocation)&&(kt.startStreet=n.workLocation.address,kt.isStartAddressValid=!0)},g={maxWidth:"1280px",margin:"0 auto",padding:"2rem 1rem",position:"relative",zIndex:10},v={background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",borderRadius:"16px",padding:"2rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)"},y={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},A={display:"grid",gridTemplateColumns:"minmax(0, 7fr) minmax(0, 5fr)",gap:"2rem"},C={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0,0,0,0.05)",padding:"1.5rem 0",marginBottom:"2rem"},P=window.innerWidth<=768,M=()=>{if((n==null?void 0:n.role)==="guest"){confirm("Als gast kun je niet boeken. Wil je een account aanmaken?")&&t("/register");return}kt.confirmBooking()};return E.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",paddingBottom:"3rem",overflowX:"hidden"},children:[E.jsx(LC,{}),E.jsx("div",{style:{position:"relative",zIndex:20,...C},children:E.jsx("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"0 1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--primary-600)",fontWeight:"700",textTransform:"uppercase",fontSize:"0.85rem",letterSpacing:"0.05em"},children:"Tidal Mare"}),E.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",color:"#111827",margin:"0.25rem 0 0.5rem 0"},children:"Waar wil je heen vandaag?"}),E.jsx("p",{style:{color:"#4b5563",fontSize:"1.1rem"},children:"Regel binnen enkele seconden een comfortabele rit."})]})})}),E.jsxs("div",{style:g,children:[E.jsxs("div",{style:P?{display:"flex",flexDirection:"column",gap:"1.5rem"}:A,children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{style:v,children:[E.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:"var(--primary-100)",color:"var(--primary-600)",padding:"6px",borderRadius:"8px",display:"flex"},children:E.jsx(Sv,{className:"w-5 h-5"})}),"Startlocatie"]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[E.jsxs("button",{type:"button",onClick:()=>f("home"),className:"shortcut-chip",children:[E.jsx(RC,{className:"w-4 h-4"})," Thuis"]}),E.jsxs("button",{type:"button",onClick:()=>f("work"),className:"shortcut-chip",children:[E.jsx(IC,{className:"w-4 h-4"})," Werk"]})]}),E.jsx("div",{style:y,children:E.jsx("div",{style:{gridColumn:"1 / -1"},children:E.jsx(mS,{label:"Straat en Huisnummer",value:kt.startStreet+(kt.startHouseNumber?` ${kt.startHouseNumber}`:""),onChange:H=>kt.updateStartField("street",H),onSelect:H=>kt.setStartAddress(H),isValid:kt.isStartAddressValid,hasError:kt.showValidationErrors&&!kt.isStartAddressValid,placeholder:"Zoek hier (bijv. Kalverstraat)..."})})}),E.jsxs("div",{style:{...y,marginTop:"1rem"},children:[E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Postcode"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:kt.startPostcode,onChange:H=>kt.updateStartField("postcode",H.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Plaats"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:kt.startCity,onChange:H=>kt.updateStartField("city",H.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]})]})]}),E.jsxs("div",{style:v,children:[E.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:"#fee2e2",color:"#dc2626",padding:"6px",borderRadius:"8px",display:"flex"},children:E.jsx(Sv,{className:"w-5 h-5"})}),"Eindlocatie"]}),E.jsx("div",{style:y,children:E.jsx("div",{style:{gridColumn:"1 / -1"},children:E.jsx(mS,{label:"Straat en Huisnummer",value:kt.endStreet+(kt.endHouseNumber?` ${kt.endHouseNumber}`:""),onChange:H=>kt.updateEndField("street",H),onSelect:H=>kt.setEndAddress(H),isValid:kt.isEndAddressValid,hasError:kt.showValidationErrors&&!kt.isEndAddressValid,placeholder:"Waar gaat de reis naartoe?"})})}),E.jsxs("div",{style:{...y,marginTop:"1rem"},children:[E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Postcode"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:kt.endPostcode,onChange:H=>kt.updateEndField("postcode",H.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Plaats"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:kt.endCity,onChange:H=>kt.updateEndField("city",H.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]})]})]}),E.jsxs("div",{style:v,children:[E.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:"#e0e7ff",color:"#4f46e5",padding:"6px",borderRadius:"8px",display:"flex"},children:E.jsx(CC,{className:"w-5 h-5"})}),"Reisdetails"]}),E.jsxs("div",{style:y,children:[E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Passagiers"}),E.jsx("input",{type:"number",min:"1",max:"8",className:"form-input",value:kt.passengers,onChange:H=>kt.setPassengers(parseInt(H.target.value))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Bagage"}),E.jsxs("select",{className:"form-input",value:kt.luggageLevel,onChange:H=>kt.setLuggageLevel(parseInt(H.target.value)),children:[E.jsx("option",{value:"0",children:"Geen bagage"}),E.jsx("option",{value:"1",children:"Klein (handbagage)"}),E.jsx("option",{value:"2",children:"Normaal"}),E.jsx("option",{value:"3",children:"Veel bagage"})]})]})]}),E.jsxs("div",{style:{marginTop:"1.5rem"},children:[E.jsx("label",{className:"form-label",children:"Opmerkingen (Optioneel)"}),E.jsx("textarea",{className:"form-input",rows:3,style:{resize:"none"},placeholder:"Bijv. graag ophalen aan de achterzijde...",value:kt.bookingNote,onChange:H=>kt.setBookingNote(H.target.value)})]})]})]}),E.jsx("div",{style:{position:"relative"},children:E.jsxs("div",{style:{...v,position:"sticky",top:"24px"},children:[E.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700",marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Samenvatting",E.jsx("span",{className:"status-badge status-requested",children:"Rit info"})]}),E.jsxs("div",{style:{position:"relative",paddingLeft:"24px",marginBottom:"2rem"},children:[E.jsx("div",{style:{position:"absolute",left:"7px",top:"10px",bottom:"10px",width:"2px",background:"linear-gradient(to bottom, #10b981, #e5e7eb, #ef4444)"}}),E.jsxs("div",{style:{marginBottom:"1.5rem",position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-24px",width:"16px",height:"16px",background:"#d1fae5",borderRadius:"50%",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 0 2px #10b981"},children:E.jsx("div",{style:{width:"6px",height:"6px",background:"#047857",borderRadius:"50%"}})}),E.jsx("span",{style:{display:"block",fontSize:"0.75rem",textTransform:"uppercase",color:"var(--slate-500)",fontWeight:"700"},children:"Startlocatie"}),E.jsx("span",{style:{fontWeight:"500",display:"block",color:kt.startAddressSummary?"#111827":"#9ca3af",fontStyle:kt.startAddressSummary?"normal":"italic"},children:kt.startAddressSummary||"Kies een startlocatie"})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-24px",width:"16px",height:"16px",background:"#fee2e2",borderRadius:"50%",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 0 2px #ef4444"},children:E.jsx("div",{style:{width:"6px",height:"6px",background:"#b91c1c",borderRadius:"50%"}})}),E.jsx("span",{style:{display:"block",fontSize:"0.75rem",textTransform:"uppercase",color:"var(--slate-500)",fontWeight:"700"},children:"Eindlocatie"}),E.jsx("span",{style:{fontWeight:"500",display:"block",color:kt.endAddressSummary?"#111827":"#9ca3af",fontStyle:kt.endAddressSummary?"normal":"italic"},children:kt.endAddressSummary||"Kies een eindlocatie"})]})]}),E.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem",border:"1px solid #f3f4f6"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",marginBottom:"0.5rem"},children:[E.jsx("span",{style:{color:"#6b7280"},children:"Reizigers"}),E.jsxs("span",{style:{fontWeight:"600",color:"#111827"},children:[kt.passengers," personen"]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[E.jsx("span",{style:{color:"#6b7280"},children:"Bagage"}),E.jsx("span",{style:{fontWeight:"600",color:"#111827"},children:["Geen","Klein","Normaal","Veel"][kt.luggageLevel]})]})]}),kt.error&&E.jsxs("div",{className:"error-message",children:[E.jsx("span",{style:{marginRight:"8px"},children:""}),kt.error]}),E.jsx("button",{onClick:u,disabled:kt.isLoading,className:"btn-primary",style:{width:"100%",justifyContent:"center"},children:kt.isLoading?"Zoeken...":"Zoek Beschikbare Auto's "})]})})]}),kt.availableCars.length>0&&E.jsxs("div",{style:{marginTop:"4rem"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h3",{style:{fontSize:"1.8rem",fontWeight:"800",color:"white"},children:"Beschikbare Auto's"}),E.jsxs("div",{style:{display:"flex",background:"#374151",padding:"4px",borderRadius:"12px"},children:[E.jsx("button",{onClick:()=>r(!1),style:{padding:"0.5rem 1.25rem",borderRadius:"8px",background:e?"transparent":"#111827",color:e?"#9ca3af":"white",border:"none",cursor:"pointer",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:" Lijst"}),E.jsx("button",{onClick:()=>r(!0),style:{padding:"0.5rem 1.25rem",borderRadius:"8px",background:e?"#111827":"transparent",color:e?"white":"#9ca3af",border:"none",cursor:"pointer",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:" Kaart"})]})]}),e?E.jsxs("div",{className:"fade-in",children:[E.jsx(r3,{cars:kt.availableCars,center:[52.3676,4.9041],onSelectCar:H=>{kt.selectCar(H),M()}}),E.jsx("p",{style:{marginTop:"1rem",color:"#6b7280",fontSize:"0.85rem",textAlign:"center"},children:"* Locaties zijn bij benadering weergegeven."})]}):E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"2rem"},children:kt.availableCars.map(H=>E.jsxs("div",{style:{...v,padding:0,overflow:"hidden"},children:[E.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, #f3f4f6, #e5e7eb)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:""}),E.jsxs("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255,255,255,0.9)",padding:"0.25rem 0.75rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"700",color:"#374151"},children:[H.seats," stoelen"]})]}),E.jsxs("div",{style:{padding:"1.5rem"},children:[E.jsxs("h4",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"0.5rem",color:"#111827"},children:[H.make," ",H.model]}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[E.jsx("span",{style:{background:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",color:"#4b5563"},children:H.fuelType}),E.jsx("span",{style:{background:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",color:"#4b5563"},children:"Automaat"})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",borderTop:"1px solid #f3f4f6",paddingTop:"1rem"},children:[E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:"0.75rem",textTransform:"uppercase",color:"#9ca3af",fontWeight:"700",marginBottom:"2px"},children:"Prijs indicatie"}),E.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#111827"},children:["",H.pricePerHourEstimate,E.jsx("span",{style:{fontSize:"0.9rem",color:"#6b7280",fontWeight:"400"},children:"/u"})]})]}),E.jsx("button",{onClick:()=>{kt.selectCar(H),M()},className:"btn-primary",style:{background:"#111827",boxShadow:"0 4px 6px rgba(0,0,0,0.2)"},children:"Boek Nu"})]})]})]},H.id))}),E.jsx("style",{children:`
                            .fade-in { animation: fadeIn 0.5s ease-out forwards; }
                            @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                        `})]}),kt.bookingStatus==="CONFIRMED"&&E.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:E.jsxs("div",{style:{background:"white",padding:"2.5rem",borderRadius:"24px",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"},children:[E.jsx("div",{style:{width:"64px",height:"64px",background:"#d1fae5",color:"#047857",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto 1.5rem auto"},children:""}),E.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#111827",marginBottom:"0.5rem"},children:"Boeking Bevestigd!"}),E.jsx("p",{style:{color:"#4b5563",marginBottom:"2rem",lineHeight:"1.6"},children:"Je rit is succesvol ingepland. We hebben een bevestiging naar je mail gestuurd."}),E.jsx("button",{onClick:()=>kt.clearForm(),className:"btn-primary",style:{width:"100%",justifyContent:"center"},children:"Terug naar overzicht"})]})})]})]})}),a3=_s(({carName:n,licensePlate:t,onUnlock:e})=>{const[r,o]=Y.useState(!1),[u,f]=Y.useState(0),[g,v]=Y.useState(!1),y=Y.useRef(null),A=2.5;Y.useEffect(()=>{const M=()=>{r&&!g?(f(H=>{const K=H+A;return K>=100?(v(!0),o(!1),e(),100):K}),y.current=requestAnimationFrame(M)):!r&&!g&&u>0&&(f(H=>Math.max(0,H-A*3)),y.current=requestAnimationFrame(M))};return y.current=requestAnimationFrame(M),()=>{y.current!==null&&cancelAnimationFrame(y.current)}},[r,g,u,e]);const C=()=>{g||o(!0)},P=()=>{o(!1)};return E.jsxs("div",{className:"smart-key-container",style:{background:"#111827",borderRadius:"20px",padding:"2.5rem 2rem",color:"white",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px solid #1f2937",userSelect:"none"},children:[g&&E.jsx("div",{onClick:()=>{v(!1),f(0)},style:{position:"absolute",top:"1rem",right:"1rem",background:"#374151",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#9ca3af",transition:"all 0.2s",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"},title:"Vergrendelen",children:E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),E.jsxs("div",{style:{marginBottom:"2.5rem",opacity:g?.5:1,transition:"opacity 0.5s"},children:[E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"500",margin:0,color:"#e5e7eb",letterSpacing:"0.025em"},children:n}),t&&E.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#9ca3af",background:"#1f2937",padding:"0.25rem 0.75rem",borderRadius:"4px",display:"inline-block",fontFamily:"monospace",letterSpacing:"1px"},children:t})]}),E.jsxs("div",{onMouseDown:C,onMouseUp:P,onMouseLeave:P,onTouchStart:C,onTouchEnd:P,style:{width:"140px",height:"140px",borderRadius:"50%",background:g?"rgba(16, 185, 129, 0.1)":"linear-gradient(145deg, #1f2937, #111827)",boxShadow:g?"0 0 30px rgba(16, 185, 129, 0.2)":r?"inset 0 4px 10px rgba(0,0,0,0.5)":"5px 5px 15px #0b0f19, -5px -5px 15px #273549",display:"flex",alignItems:"center",justifyContent:"center",cursor:g?"default":"pointer",position:"relative",transform:r?"scale(0.96)":"scale(1)",transition:"all 0.2s ease-out",border:"1px solid #374151",marginBottom:"2rem"},children:[E.jsxs("svg",{width:"140",height:"140",style:{position:"absolute",top:0,left:0,transform:"rotate(-90deg)",pointerEvents:"none"},children:[E.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:"#374151",strokeWidth:"2",fill:"transparent"}),E.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:g?"#10b981":"#3b82f6",strokeWidth:"3",fill:"transparent",strokeDasharray:427,strokeDashoffset:427-427*u/100,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0s linear, opacity 0.3s"},opacity:r||g?1:0})]}),E.jsx("div",{style:{color:g?"#10b981":r?"#60a5fa":"#9ca3af",transition:"color 0.3s"},children:g?E.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),E.jsx("path",{d:"M7 7h10"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}):E.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]}),E.jsxs("div",{style:{minHeight:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx("p",{style:{fontSize:"0.875rem",color:g?"#10b981":r?"#e5e7eb":"#6b7280",fontWeight:"600",margin:0,letterSpacing:"0.05em",textTransform:"uppercase",transition:"color 0.3s"},children:g?"Auto is open":r?"Authenticeren...":"Houd vast om te openen"}),g&&E.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"0.5rem 0 0 0",animation:"fadeIn 0.5s"},children:"Verbinding stabiel  Gereed voor start"})]})]})}),Ca=new xC,o3=_s(()=>{var A,C,P,M,H;const{id:n}=B2(),[t,e]=Y.useState(""),[r,o]=Y.useState(!1);Y.useEffect(()=>{n&&Ca.loadBookingDetails(n)},[n]);const u=async()=>{n&&(await Ca.cancelBooking(n,t),o(!1))};if(Ca.isLoading&&!Ca.selectedBookingDetails)return E.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Laden..."});if(Ca.error)return E.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#ef4444"},children:["Error: ",Ca.error]});const f=Ca.selectedBookingDetails;if(!f)return E.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Geen boeking gevonden."});const g=f.status==="REQUESTED"||f.status==="CONFIRMED",y=(K=>{switch(K){case"CONFIRMED":return{color:"#059669",background:"#d1fae5"};case"CANCELLED":return{color:"#dc2626",background:"#fee2e2"};case"COMPLETED":return{color:"#374151",background:"#f3f4f6"};default:return{color:"#2563eb",background:"#dbeafe"}}})(f.status);return E.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem 1rem"},children:[E.jsx("div",{style:{marginBottom:"1.5rem"},children:E.jsx(Dr,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#4b5563",textDecoration:"none",padding:"0.5rem 0.75rem",borderRadius:"8px",background:"#f9fafb",transition:"background 0.2s",fontWeight:"500"},children:" Terug naar Dashboard"})}),E.jsxs("div",{style:{background:"white",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",overflow:"hidden",border:"1px solid #f3f4f6"},children:[E.jsxs("div",{style:{background:"#f9fafb",padding:"1.5rem",borderBottom:"1px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[E.jsxs("div",{children:[E.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#111827",margin:0},children:["Boeking #",f.id.substring(0,8)]}),E.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:["Aangemaakt op ",new Date(f.createdAt).toLocaleDateString()," om ",new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),E.jsx("div",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"700",letterSpacing:"0.025em",...y},children:f.status})]}),E.jsxs("div",{style:{padding:"2rem"},children:[f.status==="CANCELLED"&&E.jsx("div",{style:{background:"#fef2f2",borderLeft:"4px solid #ef4444",padding:"1rem",marginBottom:"2rem",borderRadius:"0 8px 8px 0"},children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[E.jsx("span",{style:{fontSize:"1.25rem"},children:""}),E.jsxs("div",{children:[E.jsx("h4",{style:{fontWeight:"700",color:"#7f1d1d",margin:0},children:"Deze rit is geannuleerd"}),E.jsxs("p",{style:{fontSize:"0.875rem",color:"#b91c1c",marginTop:"0.25rem"},children:["Datum: ",f.cancelledAt?new Date(f.cancelledAt).toLocaleString():"-",f.cancellationReason&&E.jsxs("span",{style:{display:"block",marginTop:"0.25rem",fontStyle:"italic"},children:['"',f.cancellationReason,'"']})]})]})]})}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[E.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[E.jsx("span",{children:""})," Route"]}),E.jsxs("div",{style:{position:"relative",paddingLeft:"1.5rem",marginLeft:"0.5rem",borderLeft:"2px solid #e5e7eb",display:"flex",flexDirection:"column",gap:"2rem"},children:[E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#3b82f6",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Vertrek"}),E.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.startLocation.address})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#111827",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Aankomst"}),E.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.endLocation.address})]})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[E.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[E.jsx("span",{children:""})," Details"]}),E.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{children:[E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Voertuig"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[E.jsx("div",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsxs("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:[(A=f.car)==null?void 0:A.make," ",(C=f.car)==null?void 0:C.model]}),E.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:(P=f.car)==null?void 0:P.provider})]})]})]}),E.jsxs("div",{children:[E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Tijdstip"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[E.jsx("div",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsx("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:new Date(f.startTime).toLocaleDateString()}),E.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:new Date(f.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})]})]}),f.status==="CONFIRMED"&&E.jsxs("div",{style:{marginTop:"2.5rem",paddingTop:"2rem",borderTop:"1px solid #f3f4f6"},children:[E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"1.5rem",textAlign:"center"},children:"Jouw Digitale Sleutel"}),E.jsx("div",{style:{maxWidth:"360px",margin:"0 auto"},children:E.jsx(a3,{carName:`${(M=f.car)==null?void 0:M.make} ${(H=f.car)==null?void 0:H.model}`,licensePlate:"T-123-XY",onUnlock:()=>console.log("Unlocked from details!")})})]}),g&&E.jsx("div",{style:{marginTop:"2.5rem",paddingTop:"1.5rem",borderTop:"1px solid #f3f4f6",display:"flex",justifyContent:"flex-end"},children:E.jsx("button",{onClick:()=>o(!0),style:{padding:"0.625rem 1.5rem",background:"white",border:"1px solid #fecaca",color:"#dc2626",fontWeight:"500",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:" Rit Annuleren"})})]}),r&&E.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(17, 24, 39, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:1e3},children:E.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"2rem",maxWidth:"28rem",width:"100%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[E.jsx("div",{style:{margin:"0 auto 1rem auto",display:"flex",alignItems:"center",justifyContent:"center",height:"3rem",width:"3rem",borderRadius:"50%",background:"#fee2e2"},children:E.jsx("span",{style:{fontSize:"1.5rem"},children:""})}),E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",margin:0},children:"Weet je het zeker?"}),E.jsx("p",{style:{color:"#6b7280",marginTop:"0.5rem",fontSize:"0.9rem"},children:"Je staat op het punt deze rit te annuleren. Dit kan niet ongedaan worden gemaakt."})]}),E.jsxs("div",{style:{marginBottom:"1.5rem"},children:[E.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Reden van annulering (optioneel)"}),E.jsx("input",{type:"text",style:{width:"100%",border:"1px solid #d1d5db",padding:"0.5rem 1rem",borderRadius:"8px",outline:"none",transition:"border-color 0.2s"},placeholder:"Bijv. Plannen gewijzigd...",value:t,onChange:K=>e(K.target.value)})]}),E.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[E.jsx("button",{onClick:()=>o(!1),style:{flex:1,padding:"0.625rem 1rem",border:"1px solid #d1d5db",background:"white",color:"#374151",fontWeight:"500",borderRadius:"8px",cursor:"pointer"},children:"Terug"}),E.jsx("button",{onClick:u,disabled:Ca.isCancelling,style:{flex:1,padding:"0.625rem 1rem",background:"#dc2626",color:"white",fontWeight:"700",borderRadius:"8px",border:"none",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(220, 38, 38, 0.2)"},children:Ca.isCancelling?"Bezig...":"Bevestig"})]})]})})]})}),vS=({title:n,icon:t,children:e})=>E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(0,0,0,0.05)"},children:[t&&E.jsx("span",{style:{color:"var(--primary-600)",background:"var(--primary-50)",padding:"0.5rem",borderRadius:"8px",display:"flex"},children:t}),E.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#111827"},children:n})]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:e})]}),l3=_s(()=>{const{user:n}=gi,{isLoading:t}=Rh,[e,r]=Y.useState(""),[o,u]=Y.useState("");Y.useEffect(()=>{n&&(Rh.setUser(n),n.homeLocation&&r(n.homeLocation.address),n.workLocation&&u(n.workLocation.address))},[n]);const f=async v=>{v.preventDefault(),await Rh.updateLocations(e?{address:e,label:"Thuis"}:void 0,o?{address:o,label:"Werk"}:void 0),Rh.user&&(gi.user=Rh.user),alert("Locaties opgeslagen!")};if(!n)return E.jsx("div",{className:"p-8 text-center text-gray-500",children:"Niet ingelogd."});const g={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",maxWidth:"800px",margin:"0 auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(255, 255, 255, 0.5)",position:"relative",zIndex:10,overflow:"hidden"};return E.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",padding:"2rem 1rem"},children:[E.jsx(LC,{}),E.jsx("div",{style:{maxWidth:"800px",margin:"0 auto 2rem auto",position:"relative",zIndex:10},children:E.jsx(Dr,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"white",textDecoration:"none",padding:"0.5rem 1rem",borderRadius:"99px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(4px)",transition:"background 0.2s",fontWeight:"500",fontSize:"0.9rem"},children:" Terug naar Dashboard"})}),E.jsxs("div",{style:g,children:[E.jsx("div",{style:{background:"linear-gradient(to right, #0099cc, #0077a8)",padding:"3rem 2rem",color:"white"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"1rem"},children:[E.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:""}),E.jsxs("div",{children:[E.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",margin:0,textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Mijn Profiel"}),E.jsx("p",{style:{opacity:.9,fontSize:"1.1rem",marginTop:"0.25rem"},children:"Beheer je gegevens en locaties"})]})]})}),E.jsx("div",{style:{padding:"2.5rem"},children:E.jsxs("form",{onSubmit:f,children:[E.jsx(vS,{title:"Accountgegevens",icon:E.jsx("div",{style:{width:"20px",height:"20px"},children:E.jsx(CC,{})}),children:E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[E.jsx("span",{style:{color:"#6b7280"},children:E.jsx(Dm,{className:"w-4 h-4"})}),E.jsx("span",{children:"E-mailadres"})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("input",{type:"text",className:"form-input",value:n.email,readOnly:!0,disabled:!0,style:{paddingLeft:"2.5rem",background:"#f3f4f6",color:"#6b7280",cursor:"not-allowed",borderColor:"#e5e7eb"}}),E.jsx("div",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},children:E.jsx(zy,{className:"w-4 h-4"})})]}),E.jsx("p",{style:{fontSize:"0.8rem",color:"#9ca3af",marginTop:"0.5rem",fontStyle:"italic"},children:"Je e-mailadres is gekoppeld aan je account en kan niet worden gewijzigd."})]})}),E.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),E.jsxs(vS,{title:"Favoriete Locaties",icon:E.jsx("div",{style:{width:"20px",height:"20px"},children:E.jsx(Sv,{})}),children:[E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[E.jsx("span",{style:{color:"var(--primary-600)"},children:E.jsx(RC,{})}),E.jsx("span",{children:"Thuisadres"})]}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Bijv. Kerkstraat 1, Amsterdam",value:e,onChange:v=>r(v.target.value),style:{transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.05)"}})]}),E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[E.jsx("span",{style:{color:"var(--primary-600)"},children:E.jsx(IC,{})}),E.jsx("span",{children:"Werkadres"})]}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Bijv. Stationsplein 5, Utrecht",value:o,onChange:v=>u(v.target.value),style:{transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.05)"}})]})]}),E.jsxs("div",{style:{marginTop:"3rem",display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[E.jsx(Dr,{to:"/dashboard",style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"white",border:"1px solid #e5e7eb",color:"#374151",textDecoration:"none",fontWeight:"600",transition:"background 0.2s"},children:"Annuleren"}),E.jsx("button",{type:"submit",disabled:t,className:"btn-primary",style:{padding:"0.75rem 2rem",borderRadius:"12px",fontWeight:"700",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:t?"Opslaan...":"Wijzigingen Opslaan"})]})]})})]})]})}),u3=_s(()=>{const{cars:n,chargingPoints:t,isLoading:e}=tc,[r,o]=Y.useState(!1),[u,f]=Y.useState({make:"",model:"",seats:"",luggageCapacity:"",fuelType:gc.EV,provider:pc.DUMMY,pricePerHourEstimate:""}),[g,v]=Y.useState(!1),[y,A]=Y.useState({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"});Y.useEffect(()=>{tc.loadData()},[]);const C=async M=>{M.preventDefault(),await tc.addCar({...u,seats:Number(u.seats),luggageCapacity:Number(u.luggageCapacity),pricePerHourEstimate:Number(u.pricePerHourEstimate)}),o(!1),f({make:"",model:"",seats:"",luggageCapacity:"",fuelType:gc.EV,provider:pc.DUMMY,pricePerHourEstimate:""})},P=async M=>{M.preventDefault(),await tc.addChargingPoint({...y,latitude:Number(y.latitude),longitude:Number(y.longitude)}),v(!1),A({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"})};return E.jsxs("div",{className:"admin-panel",children:[E.jsx("h2",{className:"mb-4",children:"Admin Beheer"}),e&&E.jsx("p",{children:"Laden..."}),E.jsxs("section",{className:"admin-section card",children:[E.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h3",{style:{margin:0},children:"Auto's Beheren"}),E.jsx("button",{className:"cta-button",onClick:()=>o(!r),children:r?"Annuleren":"+ Auto Toevoegen"})]}),r&&E.jsxs("form",{className:"admin-form mb-4",onSubmit:C,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Merk"}),E.jsx("input",{type:"text",placeholder:"Bijv. Tesla",value:u.make,onChange:M=>f({...u,make:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Model"}),E.jsx("input",{type:"text",placeholder:"Bijv. Model Y",value:u.model,onChange:M=>f({...u,model:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Aantal Stoelen"}),E.jsx("input",{type:"number",placeholder:"5",value:u.seats,onChange:M=>f({...u,seats:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Bagageruimte"}),E.jsx("input",{type:"number",placeholder:"2",value:u.luggageCapacity,onChange:M=>f({...u,luggageCapacity:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Brandstof / Type"}),E.jsx("select",{value:u.fuelType,onChange:M=>f({...u,fuelType:M.target.value}),children:Object.values(gc).map(M=>E.jsx("option",{value:M,children:M},M))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Prijs per uur ()"}),E.jsx("input",{type:"number",placeholder:"Prijs per uur ()",value:u.pricePerHourEstimate,onChange:M=>f({...u,pricePerHourEstimate:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Provider"}),E.jsx("select",{value:u.provider,onChange:M=>f({...u,provider:M.target.value}),children:Object.values(pc).map(M=>E.jsx("option",{value:M,children:M},M))})]}),E.jsx("button",{type:"submit",children:"Opslaan"})]}),E.jsx("div",{style:{overflowX:"auto"},children:E.jsxs("table",{className:"admin-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Merk/Model"}),E.jsx("th",{children:"Provider"}),E.jsx("th",{children:"Prijs/u"}),E.jsx("th",{children:"Acties"})]})}),E.jsx("tbody",{children:n.map(M=>E.jsxs("tr",{children:[E.jsxs("td",{children:[M.make," ",M.model," (",M.fuelType,")"]}),E.jsx("td",{children:M.provider}),E.jsxs("td",{children:["",M.pricePerHourEstimate]}),E.jsx("td",{children:E.jsx("button",{onClick:()=>tc.deleteCar(M.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})})]},M.id))})]})})]}),E.jsxs("section",{className:"admin-section card",children:[E.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h3",{style:{margin:0},children:"Laadpunten Beheren"}),E.jsx("button",{className:"cta-button",onClick:()=>v(!g),children:g?"Annuleren":"+ Laadpunt Toevoegen"})]}),g&&E.jsxs("form",{className:"admin-form mb-4",onSubmit:P,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Naam"}),E.jsx("input",{type:"text",placeholder:"Bijv. Fastned Rotterdam",value:y.name,onChange:M=>A({...y,name:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Status"}),E.jsxs("select",{value:y.status,onChange:M=>A({...y,status:M.target.value}),children:[E.jsx("option",{value:"AVAILABLE",children:"Beschikbaar"}),E.jsx("option",{value:"OCCUPIED",children:"Bezet"}),E.jsx("option",{value:"UNKNOWN",children:"Onbekend"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Latitude"}),E.jsx("input",{type:"number",placeholder:"52.08",step:"any",value:y.latitude,onChange:M=>A({...y,latitude:M.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Longitude"}),E.jsx("input",{type:"number",placeholder:"4.32",step:"any",value:y.longitude,onChange:M=>A({...y,longitude:M.target.value}),required:!0})]}),E.jsx("button",{type:"submit",children:"Opslaan"})]}),E.jsx("ul",{className:"admin-list",style:{listStyle:"none",padding:0},children:t.map(M=>E.jsxs("li",{className:"list-item",style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("span",{children:[M.name," (",M.status,") - [",M.latitude.toFixed(3),", ",M.longitude.toFixed(3),"]"]}),E.jsx("button",{onClick:()=>tc.deleteChargingPoint(M.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})]},M.id))})]})]})}),c3=_s(()=>{const n=Ic(),{user:t,isAuthenticated:e}=gi,r=()=>{gi.logout(),n("/")};return E.jsx("nav",{className:"navbar",children:E.jsxs("div",{className:"navbar-inner",children:[E.jsx("div",{className:"navbar-brand",children:"Onze Bedrijf Mobility"}),E.jsx("div",{className:"navbar-menu",children:E.jsxs("div",{className:"navbar-links",children:[!e&&E.jsx(as,{to:"/",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Home"}),e&&(t==null?void 0:t.role)==="customer"&&E.jsxs(E.Fragment,{children:[E.jsx(as,{to:"/dashboard",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Home"}),E.jsx(as,{to:"/request",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Reis aanvragen"}),E.jsx(as,{to:"/profile",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Profiel"})]}),e&&(t==null?void 0:t.role)==="guest"&&E.jsxs(E.Fragment,{children:[E.jsx(as,{to:"/dashboard",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Home"}),E.jsx(as,{to:"/request",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Reis aanvragen"})]}),e&&(t==null?void 0:t.role)==="admin"&&E.jsxs(E.Fragment,{children:[E.jsx(as,{to:"/dashboard",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Dashboard"}),E.jsx(as,{to:"/admin",className:({isActive:o})=>o?"nav-item active":"nav-item",children:"Admin Panel"})]})]})}),E.jsx("div",{className:"navbar-end",children:e?E.jsx("button",{onClick:r,className:"logout-btn",children:"Uitloggen"}):E.jsxs("div",{className:"navbar-links",children:[E.jsx(as,{to:"/login",className:"nav-item",children:"Inloggen"}),E.jsx(as,{to:"/register",className:"nav-item",children:"Registreren"})]})})]})})});function h3(){return E.jsx(xI,{basename:"/tidal-mare",children:E.jsxs("div",{className:"app-shell",children:[E.jsx(c3,{}),E.jsx("main",{className:"app-content",children:E.jsx("div",{className:"app-container",children:E.jsxs(iI,{children:[E.jsx(ss,{path:"/",element:E.jsx(DI,{})}),E.jsx(ss,{path:"/login",element:E.jsx(LV,{})}),E.jsx(ss,{path:"/register",element:E.jsx(MV,{})}),E.jsxs(ss,{element:E.jsx(cS,{roles:["customer","admin","guest"]}),children:[E.jsx(ss,{path:"/dashboard",element:E.jsx(kV,{})}),E.jsx(ss,{path:"/request",element:E.jsx(s3,{})}),E.jsx(ss,{path:"/booking/:id",element:E.jsx(o3,{})}),E.jsx(ss,{path:"/profile",element:E.jsx(l3,{})})]}),E.jsx(ss,{element:E.jsx(cS,{roles:["admin"]}),children:E.jsx(ss,{path:"/admin",element:E.jsx(u3,{})})})]})})})]})})}a2.createRoot(document.getElementById("root")).render(E.jsx(Y.StrictMode,{children:E.jsx(h3,{})}));
