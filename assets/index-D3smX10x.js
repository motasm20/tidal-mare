var LI=Object.defineProperty;var MI=(n,e,t)=>e in n?LI(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var st=(n,e,t)=>MI(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function t(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=t(a);fetch(a.href,u)}})();function A1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var j_={exports:{}},Vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function kI(){if(kE)return Vh;kE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,u){var f=null;if(u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),"key"in a){u={};for(var p in a)p!=="key"&&(u[p]=a[p])}else u=a;return a=u.ref,{$$typeof:n,type:r,key:f,ref:a!==void 0?a:null,props:u}}return Vh.Fragment=e,Vh.jsx=t,Vh.jsxs=t,Vh}var DE;function DI(){return DE||(DE=1,j_.exports=kI()),j_.exports}var b=DI(),V_={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function jI(){if(jE)return Xe;jE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function M(R){return R===null||typeof R!="object"?null:(R=I&&R[I]||R["@@iterator"],typeof R=="function"?R:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,j={};function le(R,$,ue){this.props=R,this.context=$,this.refs=j,this.updater=ue||V}le.prototype.isReactComponent={},le.prototype.setState=function(R,$){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,$,"setState")},le.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Ee(){}Ee.prototype=le.prototype;function ae(R,$,ue){this.props=R,this.context=$,this.refs=j,this.updater=ue||V}var Se=ae.prototype=new Ee;Se.constructor=ae,F(Se,le.prototype),Se.isPureReactComponent=!0;var fe=Array.isArray;function Te(){}var k={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function z(R,$,ue){var he=ue.ref;return{$$typeof:n,type:R,key:$,ref:he!==void 0?he:null,props:ue}}function W(R,$){return z(R.type,$,R.props)}function q(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function H(R){var $={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ue){return $[ue]})}var B=/\/+/g;function Ye(R,$){return typeof R=="object"&&R!==null&&R.key!=null?H(""+R.key):$.toString(36)}function zt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Te,Te):(R.status="pending",R.then(function($){R.status==="pending"&&(R.status="fulfilled",R.value=$)},function($){R.status==="pending"&&(R.status="rejected",R.reason=$)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function ne(R,$,ue,he,pe){var ve=typeof R;(ve==="undefined"||ve==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(ve){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case n:case e:xe=!0;break;case E:return xe=R._init,ne(xe(R._payload),$,ue,he,pe)}}if(xe)return pe=pe(R),xe=he===""?"."+Ye(R,0):he,fe(pe)?(ue="",xe!=null&&(ue=xe.replace(B,"$&/")+"/"),ne(pe,$,ue,"",function(bt){return bt})):pe!=null&&(q(pe)&&(pe=W(pe,ue+(pe.key==null||R&&R.key===pe.key?"":(""+pe.key).replace(B,"$&/")+"/")+xe)),$.push(pe)),1;xe=0;var ke=he===""?".":he+":";if(fe(R))for(var Ue=0;Ue<R.length;Ue++)he=R[Ue],ve=ke+Ye(he,Ue),xe+=ne(he,$,ue,ve,pe);else if(Ue=M(R),typeof Ue=="function")for(R=Ue.call(R),Ue=0;!(he=R.next()).done;)he=he.value,ve=ke+Ye(he,Ue++),xe+=ne(he,$,ue,ve,pe);else if(ve==="object"){if(typeof R.then=="function")return ne(zt(R),$,ue,he,pe);throw $=String(R),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Ae(R,$,ue){if(R==null)return R;var he=[],pe=0;return ne(R,he,"","",function(ve){return $.call(ue,ve,pe++)}),he}function we(R){if(R._status===-1){var $=R._result;$=$(),$.then(function(ue){(R._status===0||R._status===-1)&&(R._status=1,R._result=ue)},function(ue){(R._status===0||R._status===-1)&&(R._status=2,R._result=ue)}),R._status===-1&&(R._status=0,R._result=$)}if(R._status===1)return R._result.default;throw R._result}var nt=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Z={map:Ae,forEach:function(R,$,ue){Ae(R,function(){$.apply(this,arguments)},ue)},count:function(R){var $=0;return Ae(R,function(){$++}),$},toArray:function(R){return Ae(R,function($){return $})||[]},only:function(R){if(!q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Xe.Activity=A,Xe.Children=Z,Xe.Component=le,Xe.Fragment=t,Xe.Profiler=a,Xe.PureComponent=ae,Xe.StrictMode=r,Xe.Suspense=_,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},Xe.cache=function(R){return function(){return R.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(R,$,ue){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var he=F({},R.props),pe=R.key;if($!=null)for(ve in $.key!==void 0&&(pe=""+$.key),$)!D.call($,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&$.ref===void 0||(he[ve]=$[ve]);var ve=arguments.length-2;if(ve===1)he.children=ue;else if(1<ve){for(var xe=Array(ve),ke=0;ke<ve;ke++)xe[ke]=arguments[ke+2];he.children=xe}return z(R.type,pe,he)},Xe.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Xe.createElement=function(R,$,ue){var he,pe={},ve=null;if($!=null)for(he in $.key!==void 0&&(ve=""+$.key),$)D.call($,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(pe[he]=$[he]);var xe=arguments.length-2;if(xe===1)pe.children=ue;else if(1<xe){for(var ke=Array(xe),Ue=0;Ue<xe;Ue++)ke[Ue]=arguments[Ue+2];pe.children=ke}if(R&&R.defaultProps)for(he in xe=R.defaultProps,xe)pe[he]===void 0&&(pe[he]=xe[he]);return z(R,ve,pe)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(R){return{$$typeof:p,render:R}},Xe.isValidElement=q,Xe.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:we}},Xe.memo=function(R,$){return{$$typeof:v,type:R,compare:$===void 0?null:$}},Xe.startTransition=function(R){var $=k.T,ue={};k.T=ue;try{var he=R(),pe=k.S;pe!==null&&pe(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Te,nt)}catch(ve){nt(ve)}finally{$!==null&&ue.types!==null&&($.types=ue.types),k.T=$}},Xe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Xe.use=function(R){return k.H.use(R)},Xe.useActionState=function(R,$,ue){return k.H.useActionState(R,$,ue)},Xe.useCallback=function(R,$){return k.H.useCallback(R,$)},Xe.useContext=function(R){return k.H.useContext(R)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(R,$){return k.H.useDeferredValue(R,$)},Xe.useEffect=function(R,$){return k.H.useEffect(R,$)},Xe.useEffectEvent=function(R){return k.H.useEffectEvent(R)},Xe.useId=function(){return k.H.useId()},Xe.useImperativeHandle=function(R,$,ue){return k.H.useImperativeHandle(R,$,ue)},Xe.useInsertionEffect=function(R,$){return k.H.useInsertionEffect(R,$)},Xe.useLayoutEffect=function(R,$){return k.H.useLayoutEffect(R,$)},Xe.useMemo=function(R,$){return k.H.useMemo(R,$)},Xe.useOptimistic=function(R,$){return k.H.useOptimistic(R,$)},Xe.useReducer=function(R,$,ue){return k.H.useReducer(R,$,ue)},Xe.useRef=function(R){return k.H.useRef(R)},Xe.useState=function(R){return k.H.useState(R)},Xe.useSyncExternalStore=function(R,$,ue){return k.H.useSyncExternalStore(R,$,ue)},Xe.useTransition=function(){return k.H.useTransition()},Xe.version="19.2.1",Xe}var VE;function op(){return VE||(VE=1,V_.exports=jI()),V_.exports}var K=op();const _s=A1(K);var z_={exports:{}},zh={},B_={exports:{}},U_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function VI(){return zE||(zE=1,(function(n){function e(ne,Ae){var we=ne.length;ne.push(Ae);e:for(;0<we;){var nt=we-1>>>1,Z=ne[nt];if(0<a(Z,Ae))ne[nt]=Ae,ne[we]=Z,we=nt;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var Ae=ne[0],we=ne.pop();if(we!==Ae){ne[0]=we;e:for(var nt=0,Z=ne.length,R=Z>>>1;nt<R;){var $=2*(nt+1)-1,ue=ne[$],he=$+1,pe=ne[he];if(0>a(ue,we))he<Z&&0>a(pe,ue)?(ne[nt]=pe,ne[he]=we,nt=he):(ne[nt]=ue,ne[$]=we,nt=$);else if(he<Z&&0>a(pe,we))ne[nt]=pe,ne[he]=we,nt=he;else break e}}return Ae}function a(ne,Ae){var we=ne.sortIndex-Ae.sortIndex;return we!==0?we:ne.id-Ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();n.unstable_now=function(){return f.now()-p}}var _=[],v=[],E=1,A=null,I=3,M=!1,V=!1,F=!1,j=!1,le=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Se(ne){for(var Ae=t(v);Ae!==null;){if(Ae.callback===null)r(v);else if(Ae.startTime<=ne)r(v),Ae.sortIndex=Ae.expirationTime,e(_,Ae);else break;Ae=t(v)}}function fe(ne){if(F=!1,Se(ne),!V)if(t(_)!==null)V=!0,Te||(Te=!0,H());else{var Ae=t(v);Ae!==null&&zt(fe,Ae.startTime-ne)}}var Te=!1,k=-1,D=5,z=-1;function W(){return j?!0:!(n.unstable_now()-z<D)}function q(){if(j=!1,Te){var ne=n.unstable_now();z=ne;var Ae=!0;try{e:{V=!1,F&&(F=!1,Ee(k),k=-1),M=!0;var we=I;try{t:{for(Se(ne),A=t(_);A!==null&&!(A.expirationTime>ne&&W());){var nt=A.callback;if(typeof nt=="function"){A.callback=null,I=A.priorityLevel;var Z=nt(A.expirationTime<=ne);if(ne=n.unstable_now(),typeof Z=="function"){A.callback=Z,Se(ne),Ae=!0;break t}A===t(_)&&r(_),Se(ne)}else r(_);A=t(_)}if(A!==null)Ae=!0;else{var R=t(v);R!==null&&zt(fe,R.startTime-ne),Ae=!1}}break e}finally{A=null,I=we,M=!1}Ae=void 0}}finally{Ae?H():Te=!1}}}var H;if(typeof ae=="function")H=function(){ae(q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Ye=B.port2;B.port1.onmessage=q,H=function(){Ye.postMessage(null)}}else H=function(){le(q,0)};function zt(ne,Ae){k=le(function(){ne(n.unstable_now())},Ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var Ae=3;break;default:Ae=I}var we=I;I=Ae;try{return ne()}finally{I=we}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function(ne,Ae){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var we=I;I=ne;try{return Ae()}finally{I=we}},n.unstable_scheduleCallback=function(ne,Ae,we){var nt=n.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?nt+we:nt):we=nt,ne){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=we+Z,ne={id:E++,callback:Ae,priorityLevel:ne,startTime:we,expirationTime:Z,sortIndex:-1},we>nt?(ne.sortIndex=we,e(v,ne),t(_)===null&&ne===t(v)&&(F?(Ee(k),k=-1):F=!0,zt(fe,we-nt))):(ne.sortIndex=Z,e(_,ne),V||M||(V=!0,Te||(Te=!0,H()))),ne},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(ne){var Ae=I;return function(){var we=I;I=Ae;try{return ne.apply(this,arguments)}finally{I=we}}}})(U_)),U_}var BE;function zI(){return BE||(BE=1,B_.exports=VI()),B_.exports}var F_={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function BI(){if(UE)return oi;UE=1;var n=op();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)v+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(_,v,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:A==null?null:""+A,children:_,containerInfo:v,implementation:E}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,oi.createPortal=function(_,v){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return u(_,v,null,E)},oi.flushSync=function(_){var v=f.T,E=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=v,r.p=E,r.d.f()}},oi.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},oi.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},oi.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var E=v.as,A=p(E,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,M=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;E==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:M}):E==="script"&&r.d.X(_,{crossOrigin:A,integrity:I,fetchPriority:M,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},oi.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var E=p(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},oi.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var E=v.as,A=p(E,v.crossOrigin);r.d.L(_,E,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},oi.preloadModule=function(_,v){if(typeof _=="string")if(v){var E=p(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},oi.requestFormReset=function(_){r.d.r(_)},oi.unstable_batchedUpdates=function(_,v){return _(v)},oi.useFormState=function(_,v,E){return f.H.useFormState(_,v,E)},oi.useFormStatus=function(){return f.H.useHostTransitionStatus()},oi.version="19.2.1",oi}var FE;function C1(){if(FE)return F_.exports;FE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),F_.exports=BI(),F_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function UI(){if(HE)return zh;HE=1;var n=zI(),e=op(),t=C1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function f(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function p(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function _(i){if(u(i)!==i)throw Error(r(188))}function v(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return _(g),i;if(y===h)return _(g),s;y=y.sibling}throw Error(r(188))}if(l.return!==h.return)l=g,h=y;else{for(var x=!1,N=g.child;N;){if(N===l){x=!0,l=g,h=y;break}if(N===h){x=!0,h=g,l=y;break}N=N.sibling}if(!x){for(N=y.child;N;){if(N===l){x=!0,l=y,h=g;break}if(N===h){x=!0,h=y,l=g;break}N=N.sibling}if(!x)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function E(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=E(i),s!==null)return s;i=i.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function Ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case le:return"Profiler";case j:return"StrictMode";case fe:return"Suspense";case Te:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case V:return"Portal";case ae:return i.displayName||"Context";case Ee:return(i._context.displayName||"Context")+".Consumer";case Se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return s=i.displayName||null,s!==null?s:Ye(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return Ye(i(s))}catch{}}return null}var zt=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},nt=[],Z=-1;function R(i){return{current:i}}function $(i){0>Z||(i.current=nt[Z],nt[Z]=null,Z--)}function ue(i,s){Z++,nt[Z]=i.current,i.current=s}var he=R(null),pe=R(null),ve=R(null),xe=R(null);function ke(i,s){switch(ue(ve,s),ue(pe,i),ue(he,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?rE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=rE(s),i=sE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(he),ue(he,i)}function Ue(){$(he),$(pe),$(ve)}function bt(i){i.memoizedState!==null&&ue(xe,i);var s=he.current,l=sE(s,i.type);s!==l&&(ue(pe,i),ue(he,l))}function ft(i){pe.current===i&&($(he),$(pe)),xe.current===i&&($(xe),Mh._currentValue=we)}var vt,Bt;function Ke(i){if(vt===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);vt=s&&s[1]||"",Bt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vt+i+Bt}var nn=!1;function hn(i,s){if(!i||nn)return"";nn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ce){var re=ce}Reflect.construct(i,[],_e)}else{try{_e.call()}catch(ce){re=ce}i.call(_e.prototype)}}else{try{throw Error()}catch(ce){re=ce}(_e=i())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ce){if(ce&&re&&typeof ce.stack=="string")return[ce.stack,re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),x=y[0],N=y[1];if(x&&N){var G=x.split(`
`),te=N.split(`
`);for(g=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(h===G.length||g===te.length)for(h=G.length-1,g=te.length-1;1<=h&&0<=g&&G[h]!==te[g];)g--;for(;1<=h&&0<=g;h--,g--)if(G[h]!==te[g]){if(h!==1||g!==1)do if(h--,g--,0>g||G[h]!==te[g]){var de=`
`+G[h].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=h&&0<=g);break}}}finally{nn=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ke(l):""}function _n(i,s){switch(i.tag){case 26:case 27:case 5:return Ke(i.type);case 16:return Ke("Lazy");case 13:return i.child!==s&&s!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return hn(i.type,!1);case 11:return hn(i.type.render,!1);case 1:return hn(i.type,!0);case 31:return Ke("Activity");default:return""}}function Tn(i){try{var s="",l=null;do s+=_n(i,l),l=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Lt=Object.prototype.hasOwnProperty,St=n.unstable_scheduleCallback,Si=n.unstable_cancelCallback,so=n.unstable_shouldYield,da=n.unstable_requestPaint,Sn=n.unstable_now,Xr=n.unstable_getCurrentPriorityLevel,vr=n.unstable_ImmediatePriority,Os=n.unstable_UserBlockingPriority,Wi=n.unstable_NormalPriority,ao=n.unstable_LowPriority,Ns=n.unstable_IdlePriority,Jr=n.log,oo=n.unstable_setDisableYieldValue,ei=null,yn=null;function mi(i){if(typeof Jr=="function"&&oo(i),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(ei,i)}catch{}}var rn=Math.clz32?Math.clz32:Cu,Ps=Math.log,lo=Math.LN2;function Cu(i){return i>>>=0,i===0?32:31-(Ps(i)/lo|0)|0}var Ki=256,Ls=262144,sn=4194304;function br(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wr(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,x=i.pingedLanes;i=i.warmLanes;var N=h&134217727;return N!==0?(h=N&~y,h!==0?g=br(h):(x&=N,x!==0?g=br(x):l||(l=N&~i,l!==0&&(g=br(l))))):(N=h&~y,N!==0?g=br(N):x!==0?g=br(x):l||(l=h&~i,l!==0&&(g=br(l)))),g===0?0:s!==0&&s!==g&&(s&y)===0&&(y=g&-g,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:g}function Yi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function eh(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var i=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),i}function Er(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function es(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function th(i,s,l,h,g,y){var x=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var N=i.entanglements,G=i.expirationTimes,te=i.hiddenUpdates;for(l=x&~l;0<l;){var de=31-rn(l),_e=1<<de;N[de]=0,G[de]=-1;var re=te[de];if(re!==null)for(te[de]=null,de=0;de<re.length;de++){var ce=re[de];ce!==null&&(ce.lane&=-536870913)}l&=~_e}h!==0&&ma(i,h,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(x&~s))}function ma(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-rn(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function pl(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-rn(l),g=1<<h;g&s|i[h]&s&&(i[h]|=s),l&=~g}}function gl(i,s){var l=s&-s;return l=(l&42)!==0?1:jn(l),(l&(i.suspendedLanes|s))!==0?0:l}function jn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Me(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function _l(){var i=Ae.p;return i!==0?i:(i=window.event,i===void 0?32:RE(i.type))}function xi(i,s){var l=Ae.p;try{return Ae.p=i,s()}finally{Ae.p=l}}var Ai=Math.random().toString(36).slice(2),an="__reactFiber$"+Ai,fn="__reactProps$"+Ai,$i="__reactContainer$"+Ai,Qi="__reactEvents$"+Ai,Iu="__reactListeners$"+Ai,Ou="__reactHandles$"+Ai,Nu="__reactResources$"+Ai,Tr="__reactMarker$"+Ai;function uo(i){delete i[an],delete i[fn],delete i[Qi],delete i[Iu],delete i[Ou]}function Xi(i){var s=i[an];if(s)return s;for(var l=i.parentNode;l;){if(s=l[$i]||l[an]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=fE(i);i!==null;){if(l=i[an])return l;i=fE(i)}return s}i=l,l=i.parentNode}return null}function Ci(i){if(i=i[an]||i[$i]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Vn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Sr(i){var s=i[Nu];return s||(s=i[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dn(i){i[Tr]=!0}var yl=new Set,vl={};function xr(i,s){Ri(i,s),Ri(i+"Capture",s)}function Ri(i,s){for(vl[i]=s,i=0;i<s.length;i++)yl.add(s[i])}var ts=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),co={},ho={};function Ms(i){return Lt.call(ho,i)?!0:Lt.call(co,i)?!1:ts.test(i)?ho[i]=!0:(co[i]=!0,!1)}function ot(i,s,l){if(Ms(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function lt(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Yt(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}function $t(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function pi(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function pa(i,s,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(x){l=""+x,y.call(this,x)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Pe(i){if(!i._valueTracker){var s=pi(i)?"checked":"value";i._valueTracker=pa(i,s,""+i[s])}}function kt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=pi(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Ii(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ar=/[\n"\\]/g;function qt(i){return i.replace(Ar,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function fo(i,s,l,h,g,y,x,N){i.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.type=x:i.removeAttribute("type"),s!=null?x==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+$t(s)):i.value!==""+$t(s)&&(i.value=""+$t(s)):x!=="submit"&&x!=="reset"||i.removeAttribute("value"),s!=null?Ji(i,x,$t(s)):l!=null?Ji(i,x,$t(l)):h!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+$t(N):i.removeAttribute("name")}function ga(i,s,l,h,g,y,x,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Pe(i);return}l=l!=null?""+$t(l):"",s=s!=null?""+$t(s):l,N||s===i.value||(i.value=s),i.defaultValue=s}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=N?i.checked:!!h,i.defaultChecked=!!h,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.name=x),Pe(i)}function Ji(i,s,l){s==="number"&&Ii(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Dt(i,s,l,h){if(i=i.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=s.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&h&&(i[l].defaultSelected=!0)}else{for(l=""+$t(l),s=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Cr(i,s,l){if(s!=null&&(s=""+$t(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+$t(l):""}function Oi(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(zt(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=$t(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Pe(i)}function xn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ns(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||mo.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function _a(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in s)h=s[g],s.hasOwnProperty(g)&&l[g]!==h&&ns(i,g,h)}else for(var y in s)s.hasOwnProperty(y)&&ns(i,y,s[y])}function ks(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ya=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(i){return Rr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ti(){}var po=null;function ni(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var js=null,Fe=null;function zn(i){var s=Ci(i);if(s&&(i=s.stateNode)){var l=i[fn]||null;e:switch(i=s.stateNode,s.type){case"input":if(fo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var g=h[fn]||null;if(!g)throw Error(r(90));fo(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&kt(h)}break e;case"textarea":Cr(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Dt(i,!!l.multiple,s,!1)}}}var xt=!1;function is(i,s,l){if(xt)return i(s,l);xt=!0;try{var h=i(s);return h}finally{if(xt=!1,(js!==null||Fe!==null)&&(Ad(),js&&(s=js,i=Fe,Fe=js=null,zn(s),i)))for(s=0;s<i.length;s++)zn(i[s])}}function gi(i,s){var l=i.stateNode;if(l===null)return null;var h=l[fn]||null;if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(ii)try{var dt={};Object.defineProperty(dt,"passive",{get:function(){rs=!0}}),window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{rs=!1}var Ni=null,ss=null,Qt=null;function er(){if(Qt)return Qt;var i,s=ss,l=s.length,h,g="value"in Ni?Ni.value:Ni.textContent,y=g.length;for(i=0;i<l&&s[i]===g[i];i++);var x=l-i;for(h=1;h<=x&&s[l-h]===g[y-h];h++);return Qt=g.slice(i,1<h?1-h:void 0)}function Vs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ir(){return!0}function tr(){return!1}function An(i){function s(l,h,g,y,x){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=x,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(l=i[N],this[N]=l?l(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ir:tr,this.isPropagationStopped=tr,this}return A(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),s}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Or=An(nr),as=A({},nr,{view:0,detail:0}),at=An(as),zs,Bn,ri,va=A({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ri&&(ri&&i.type==="mousemove"?(zs=i.screenX-ri.screenX,Bn=i.screenY-ri.screenY):Bn=zs=0,ri=i),zs)},movementY:function(i){return"movementY"in i?i.movementY:Bn}}),bl=An(va),os=A({},va,{dataTransfer:0}),Pu=An(os),wl=A({},as,{relatedTarget:0}),ba=An(wl),El=A({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),go=An(El),_o=A({},nr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_i=An(_o),Lu=A({},nr,{data:0}),ir=An(Lu),rr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yo(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Sl[i])?!!s[i]:!1}function Bs(){return yo}var Un=A({},as,{key:function(i){if(i.key){var s=rr[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Vs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Tl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(i){return i.type==="keypress"?Vs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xl=An(Un),Mu=A({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=An(Mu),d=A({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),T=An(d),C=A({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=An(C),J=A({},va,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),se=An(J),Ce=A({},nr,{newState:0,oldState:0}),Ze=An(Ce),wt=[9,13,27,32],Et=ii&&"CompositionEvent"in window,Gt=null;ii&&"documentMode"in document&&(Gt=document.documentMode);var Pi=ii&&"TextEvent"in window&&!Gt,Li=ii&&(!Et||Gt&&8<Gt&&11>=Gt),yi=" ",sr=!1;function wa(i,s){switch(i){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vo=!1;function ar(i,s){switch(i){case"compositionend":return Ea(s);case"keypress":return s.which!==32?null:(sr=!0,yi);case"textInput":return i=s.data,i===yi&&sr?null:i;default:return null}}function bo(i,s){if(vo)return i==="compositionend"||!Et&&wa(i,s)?(i=er(),Qt=ss=Ni=null,vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Li&&s.locale!=="ko"?null:s.data;default:return null}}var tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!tg[i.type]:s==="textarea"}function Hf(i,s,l,h){js?Fe?Fe.push(h):Fe=[h]:js=h,s=Ld(s,"onChange"),0<s.length&&(l=new Or("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Pr=null,Al=null;function Cl(i){Xw(i,0)}function Rl(i){var s=Vn(i);if(kt(s))return i}function Il(i,s){if(i==="change")return s}var qf=!1;if(ii){var Lr;if(ii){var wo="oninput"in document;if(!wo){var Gf=document.createElement("div");Gf.setAttribute("oninput","return;"),wo=typeof Gf.oninput=="function"}Lr=wo}else Lr=!1;qf=Lr&&(!document.documentMode||9<document.documentMode)}function ku(){Pr&&(Pr.detachEvent("onpropertychange",Zf),Al=Pr=null)}function Zf(i){if(i.propertyName==="value"&&Rl(Al)){var s=[];Hf(s,Al,i,ni(i)),is(Cl,s)}}function us(i,s,l){i==="focusin"?(ku(),Pr=s,Al=l,Pr.attachEvent("onpropertychange",Zf)):i==="focusout"&&ku()}function ng(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Rl(Al)}function Eo(i,s){if(i==="click")return Rl(s)}function ig(i,s){if(i==="input"||i==="change")return Rl(s)}function cs(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Fn=typeof Object.is=="function"?Object.is:cs;function To(i,s){if(Fn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Lt.call(s,g)||!Fn(i[g],s[g]))return!1}return!0}function Du(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ol(i,s){var l=Du(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Du(l)}}function ju(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ju(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Nl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ii(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ii(i.document)}return s}function Us(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Vu=ii&&"documentMode"in document&&11>=document.documentMode,Fs=null,zu=null,Pl=null,So=!1;function Wf(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;So||Fs==null||Fs!==Ii(h)||(h=Fs,"selectionStart"in h&&Us(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Pl&&To(Pl,h)||(Pl=h,h=Ld(zu,"onSelect"),0<h.length&&(s=new Or("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Fs)))}function Hs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var xo={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Bu={},Kf={};ii&&(Kf=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Hn(i){if(Bu[i])return Bu[i];if(!xo[i])return i;var s=xo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Kf)return Bu[i]=s[l];return i}var Ll=Hn("animationend"),Yf=Hn("animationiteration"),Ml=Hn("animationstart"),rg=Hn("transitionrun"),$f=Hn("transitionstart"),sg=Hn("transitioncancel"),Ao=Hn("transitionend"),Qf=new Map,qs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qs.push("scrollEnd");function Mi(i,s){Qf.set(i,s),xr(s,[i])}var kl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ki=[],si=0,Uu=0;function Dl(){for(var i=si,s=Uu=si=0;s<i;){var l=ki[s];ki[s++]=null;var h=ki[s];ki[s++]=null;var g=ki[s];ki[s++]=null;var y=ki[s];if(ki[s++]=null,h!==null&&g!==null){var x=h.pending;x===null?g.next=g:(g.next=x.next,x.next=g),h.pending=g}y!==0&&Co(l,g,y)}}function Gs(i,s,l,h){ki[si++]=i,ki[si++]=s,ki[si++]=l,ki[si++]=h,Uu|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function nh(i,s,l,h){return Gs(i,s,l,h),jl(i)}function Mr(i,s){return Gs(i,null,null,s),jl(i)}function Co(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=i.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&s!==null&&(g=31-rn(l),i=y.hiddenUpdates,h=i[g],h===null?i[g]=[s]:h.push(s),s.lane=l|536870912),y):null}function jl(i){if(50<Ch)throw Ch=0,o_=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ta={};function ag(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(i,s,l,h){return new ag(i,s,l,h)}function Fu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function kr(i,s){var l=i.alternate;return l===null?(l=ai(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function ih(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vl(i,s,l,h,g,y){var x=0;if(h=i,typeof i=="function")Fu(i)&&(x=1);else if(typeof i=="string")x=wI(i,l,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=ai(31,l,s,g),i.elementType=z,i.lanes=y,i;case F:return Sa(l.children,g,y,s);case j:x=8,g|=24;break;case le:return i=ai(12,l,s,g|2),i.elementType=le,i.lanes=y,i;case fe:return i=ai(13,l,s,g),i.elementType=fe,i.lanes=y,i;case Te:return i=ai(19,l,s,g),i.elementType=Te,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ae:x=10;break e;case Ee:x=9;break e;case Se:x=11;break e;case k:x=14;break e;case D:x=16,h=null;break e}x=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=ai(x,l,s,g),s.elementType=i,s.type=h,s.lanes=y,s}function Sa(i,s,l,h){return i=ai(7,i,h,s),i.lanes=l,i}function Hu(i,s,l){return i=ai(6,i,null,s),i.lanes=l,i}function rh(i){var s=ai(18,null,null,0);return s.stateNode=i,s}function sh(i,s,l){return s=ai(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var o=new WeakMap;function c(i,s){if(typeof i=="object"&&i!==null){var l=o.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Tn(s)},o.set(i,s),s)}return{value:i,source:s,stack:Tn(s)}}var m=[],w=0,S=null,O=0,U=[],X=0,ie=null,ge=1,Ie="";function Ve(i,s){m[w++]=O,m[w++]=S,S=i,O=s}function it(i,s,l){U[X++]=ge,U[X++]=Ie,U[X++]=ie,ie=i;var h=ge;i=Ie;var g=32-rn(h)-1;h&=~(1<<g),l+=1;var y=32-rn(s)+g;if(30<y){var x=g-g%5;y=(h&(1<<x)-1).toString(32),h>>=x,g-=x,ge=1<<32-rn(s)+g|l<<g|h,Ie=y+i}else ge=1<<y|l<<g|h,Ie=i}function Mn(i){i.return!==null&&(Ve(i,1),it(i,1,0))}function mn(i){for(;i===S;)S=m[--w],m[w]=null,O=m[--w],m[w]=null;for(;i===ie;)ie=U[--X],U[X]=null,Ie=U[--X],U[X]=null,ge=U[--X],U[X]=null}function vi(i,s){U[X++]=ge,U[X++]=Ie,U[X++]=ie,ge=s.id,Ie=s.overflow,ie=i}var Ct=null,Rt=null,ut=!1,Zs=null,Di=!1,qu=Error(r(519));function Ws(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(c(s,i)),qu}function ah(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[an]=i,s[fn]=h,l){case"dialog":ht("cancel",s),ht("close",s);break;case"iframe":case"object":case"embed":ht("load",s);break;case"video":case"audio":for(l=0;l<Ih.length;l++)ht(Ih[l],s);break;case"source":ht("error",s);break;case"img":case"image":case"link":ht("error",s),ht("load",s);break;case"details":ht("toggle",s);break;case"input":ht("invalid",s),ga(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":ht("invalid",s);break;case"textarea":ht("invalid",s),Oi(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||nE(s.textContent,l)?(h.popover!=null&&(ht("beforetoggle",s),ht("toggle",s)),h.onScroll!=null&&ht("scroll",s),h.onScrollEnd!=null&&ht("scrollend",s),h.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||Ws(i,!0)}function on(i){for(Ct=i.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:Ct=Ct.return}}function hs(i){if(i!==Ct)return!1;if(!ut)return on(i),ut=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||E_(i.type,i.memoizedProps)),l=!l),l&&Rt&&Ws(i),on(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Rt=hE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Rt=hE(i)}else s===27?(s=Rt,Uo(i.type)?(i=C_,C_=null,Rt=i):Rt=s):Rt=Ct?jr(i.stateNode.nextSibling):null;return!0}function xa(){Rt=Ct=null,ut=!1}function oh(){var i=Zs;return i!==null&&(Bi===null?Bi=i:Bi.push.apply(Bi,i),Zs=null),i}function zl(i){Zs===null?Zs=[i]:Zs.push(i)}var Bl=R(null),Ks=null,fs=null;function Ro(i,s,l){ue(Bl,s._currentValue),s._currentValue=l}function Aa(i){i._currentValue=Bl.current,$(Bl)}function og(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function lg(i,s,l,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var x=g.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=g;for(var G=0;G<s.length;G++)if(N.context===s[G]){y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),og(y.return,l,i),h||(x=null);break e}y=N.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(r(341));x.lanes|=l,y=x.alternate,y!==null&&(y.lanes|=l),og(x,l,i),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function Gu(i,s,l,h){i=null;for(var g=s,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(r(387));if(x=x.memoizedProps,x!==null){var N=g.type;Fn(g.pendingProps.value,x.value)||(i!==null?i.push(N):i=[N])}}else if(g===xe.current){if(x=g.alternate,x===null)throw Error(r(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Mh):i=[Mh])}g=g.return}i!==null&&lg(s,i,l,h),s.flags|=262144}function Xf(i){for(i=i.firstContext;i!==null;){if(!Fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ul(i){Ks=i,fs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zn(i){return U0(Ks,i)}function Jf(i,s){return Ks===null&&Ul(i),U0(i,s)}function U0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},fs===null){if(i===null)throw Error(r(308));fs=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else fs=fs.next=s;return l}var _2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},y2=n.unstable_scheduleCallback,v2=n.unstable_NormalPriority,Cn={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ug(){return{controller:new _2,data:new Map,refCount:0}}function lh(i){i.refCount--,i.refCount===0&&y2(v2,function(){i.controller.abort()})}var uh=null,cg=0,Zu=0,Wu=null;function b2(i,s){if(uh===null){var l=uh=[];cg=0,Zu=d_(),Wu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return cg++,s.then(F0,F0),s}function F0(){if(--cg===0&&uh!==null){Wu!==null&&(Wu.status="fulfilled");var i=uh;uh=null,Zu=0,Wu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function w2(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var H0=ne.S;ne.S=function(i,s){Aw=Sn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&b2(i,s),H0!==null&&H0(i,s)};var Fl=R(null);function hg(){var i=Fl.current;return i!==null?i:Zt.pooledCache}function ed(i,s){s===null?ue(Fl,Fl.current):ue(Fl,s.pool)}function q0(){var i=hg();return i===null?null:{parent:Cn._currentValue,pool:i}}var Ku=Error(r(460)),fg=Error(r(474)),td=Error(r(542)),nd={then:function(){}};function G0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Z0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(ti,ti),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,K0(i),i;default:if(typeof s.status=="string")s.then(ti,ti);else{if(i=Zt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=h}},function(h){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,K0(i),i}throw ql=s,Ku}}function Hl(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ql=l,Ku):l}}var ql=null;function W0(){if(ql===null)throw Error(r(459));var i=ql;return ql=null,i}function K0(i){if(i===Ku||i===td)throw Error(r(483))}var Yu=null,ch=0;function id(i){var s=ch;return ch+=1,Yu===null&&(Yu=[]),Z0(Yu,i,s)}function hh(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function rd(i,s){throw s.$$typeof===I?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Y0(i){function s(Q,Y){if(i){var ee=Q.deletions;ee===null?(Q.deletions=[Y],Q.flags|=16):ee.push(Y)}}function l(Q,Y){if(!i)return null;for(;Y!==null;)s(Q,Y),Y=Y.sibling;return null}function h(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=kr(Q,Y),Q.index=0,Q.sibling=null,Q}function y(Q,Y,ee){return Q.index=ee,i?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<Y?(Q.flags|=67108866,Y):ee):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function x(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function N(Q,Y,ee,me){return Y===null||Y.tag!==6?(Y=Hu(ee,Q.mode,me),Y.return=Q,Y):(Y=g(Y,ee),Y.return=Q,Y)}function G(Q,Y,ee,me){var ze=ee.type;return ze===F?de(Q,Y,ee.props.children,me,ee.key):Y!==null&&(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===D&&Hl(ze)===Y.type)?(Y=g(Y,ee.props),hh(Y,ee),Y.return=Q,Y):(Y=Vl(ee.type,ee.key,ee.props,null,Q.mode,me),hh(Y,ee),Y.return=Q,Y)}function te(Q,Y,ee,me){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=sh(ee,Q.mode,me),Y.return=Q,Y):(Y=g(Y,ee.children||[]),Y.return=Q,Y)}function de(Q,Y,ee,me,ze){return Y===null||Y.tag!==7?(Y=Sa(ee,Q.mode,me,ze),Y.return=Q,Y):(Y=g(Y,ee),Y.return=Q,Y)}function _e(Q,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Hu(""+Y,Q.mode,ee),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:return ee=Vl(Y.type,Y.key,Y.props,null,Q.mode,ee),hh(ee,Y),ee.return=Q,ee;case V:return Y=sh(Y,Q.mode,ee),Y.return=Q,Y;case D:return Y=Hl(Y),_e(Q,Y,ee)}if(zt(Y)||H(Y))return Y=Sa(Y,Q.mode,ee,null),Y.return=Q,Y;if(typeof Y.then=="function")return _e(Q,id(Y),ee);if(Y.$$typeof===ae)return _e(Q,Jf(Q,Y),ee);rd(Q,Y)}return null}function re(Q,Y,ee,me){var ze=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ze!==null?null:N(Q,Y,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case M:return ee.key===ze?G(Q,Y,ee,me):null;case V:return ee.key===ze?te(Q,Y,ee,me):null;case D:return ee=Hl(ee),re(Q,Y,ee,me)}if(zt(ee)||H(ee))return ze!==null?null:de(Q,Y,ee,me,null);if(typeof ee.then=="function")return re(Q,Y,id(ee),me);if(ee.$$typeof===ae)return re(Q,Y,Jf(Q,ee),me);rd(Q,ee)}return null}function ce(Q,Y,ee,me,ze){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Q=Q.get(ee)||null,N(Y,Q,""+me,ze);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case M:return Q=Q.get(me.key===null?ee:me.key)||null,G(Y,Q,me,ze);case V:return Q=Q.get(me.key===null?ee:me.key)||null,te(Y,Q,me,ze);case D:return me=Hl(me),ce(Q,Y,ee,me,ze)}if(zt(me)||H(me))return Q=Q.get(ee)||null,de(Y,Q,me,ze,null);if(typeof me.then=="function")return ce(Q,Y,ee,id(me),ze);if(me.$$typeof===ae)return ce(Q,Y,ee,Jf(Y,me),ze);rd(Y,me)}return null}function De(Q,Y,ee,me){for(var ze=null,It=null,je=Y,rt=Y=0,pt=null;je!==null&&rt<ee.length;rt++){je.index>rt?(pt=je,je=null):pt=je.sibling;var Ot=re(Q,je,ee[rt],me);if(Ot===null){je===null&&(je=pt);break}i&&je&&Ot.alternate===null&&s(Q,je),Y=y(Ot,Y,rt),It===null?ze=Ot:It.sibling=Ot,It=Ot,je=pt}if(rt===ee.length)return l(Q,je),ut&&Ve(Q,rt),ze;if(je===null){for(;rt<ee.length;rt++)je=_e(Q,ee[rt],me),je!==null&&(Y=y(je,Y,rt),It===null?ze=je:It.sibling=je,It=je);return ut&&Ve(Q,rt),ze}for(je=h(je);rt<ee.length;rt++)pt=ce(je,Q,rt,ee[rt],me),pt!==null&&(i&&pt.alternate!==null&&je.delete(pt.key===null?rt:pt.key),Y=y(pt,Y,rt),It===null?ze=pt:It.sibling=pt,It=pt);return i&&je.forEach(function(Zo){return s(Q,Zo)}),ut&&Ve(Q,rt),ze}function He(Q,Y,ee,me){if(ee==null)throw Error(r(151));for(var ze=null,It=null,je=Y,rt=Y=0,pt=null,Ot=ee.next();je!==null&&!Ot.done;rt++,Ot=ee.next()){je.index>rt?(pt=je,je=null):pt=je.sibling;var Zo=re(Q,je,Ot.value,me);if(Zo===null){je===null&&(je=pt);break}i&&je&&Zo.alternate===null&&s(Q,je),Y=y(Zo,Y,rt),It===null?ze=Zo:It.sibling=Zo,It=Zo,je=pt}if(Ot.done)return l(Q,je),ut&&Ve(Q,rt),ze;if(je===null){for(;!Ot.done;rt++,Ot=ee.next())Ot=_e(Q,Ot.value,me),Ot!==null&&(Y=y(Ot,Y,rt),It===null?ze=Ot:It.sibling=Ot,It=Ot);return ut&&Ve(Q,rt),ze}for(je=h(je);!Ot.done;rt++,Ot=ee.next())Ot=ce(je,Q,rt,Ot.value,me),Ot!==null&&(i&&Ot.alternate!==null&&je.delete(Ot.key===null?rt:Ot.key),Y=y(Ot,Y,rt),It===null?ze=Ot:It.sibling=Ot,It=Ot);return i&&je.forEach(function(PI){return s(Q,PI)}),ut&&Ve(Q,rt),ze}function Ht(Q,Y,ee,me){if(typeof ee=="object"&&ee!==null&&ee.type===F&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case M:e:{for(var ze=ee.key;Y!==null;){if(Y.key===ze){if(ze=ee.type,ze===F){if(Y.tag===7){l(Q,Y.sibling),me=g(Y,ee.props.children),me.return=Q,Q=me;break e}}else if(Y.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===D&&Hl(ze)===Y.type){l(Q,Y.sibling),me=g(Y,ee.props),hh(me,ee),me.return=Q,Q=me;break e}l(Q,Y);break}else s(Q,Y);Y=Y.sibling}ee.type===F?(me=Sa(ee.props.children,Q.mode,me,ee.key),me.return=Q,Q=me):(me=Vl(ee.type,ee.key,ee.props,null,Q.mode,me),hh(me,ee),me.return=Q,Q=me)}return x(Q);case V:e:{for(ze=ee.key;Y!==null;){if(Y.key===ze)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){l(Q,Y.sibling),me=g(Y,ee.children||[]),me.return=Q,Q=me;break e}else{l(Q,Y);break}else s(Q,Y);Y=Y.sibling}me=sh(ee,Q.mode,me),me.return=Q,Q=me}return x(Q);case D:return ee=Hl(ee),Ht(Q,Y,ee,me)}if(zt(ee))return De(Q,Y,ee,me);if(H(ee)){if(ze=H(ee),typeof ze!="function")throw Error(r(150));return ee=ze.call(ee),He(Q,Y,ee,me)}if(typeof ee.then=="function")return Ht(Q,Y,id(ee),me);if(ee.$$typeof===ae)return Ht(Q,Y,Jf(Q,ee),me);rd(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(l(Q,Y.sibling),me=g(Y,ee),me.return=Q,Q=me):(l(Q,Y),me=Hu(ee,Q.mode,me),me.return=Q,Q=me),x(Q)):l(Q,Y)}return function(Q,Y,ee,me){try{ch=0;var ze=Ht(Q,Y,ee,me);return Yu=null,ze}catch(je){if(je===Ku||je===td)throw je;var It=ai(29,je,null,Q.mode);return It.lanes=me,It.return=Q,It}finally{}}}var Gl=Y0(!0),$0=Y0(!1),Io=!1;function dg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Oo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function No(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Pt&2)!==0){var g=h.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),h.pending=s,s=jl(i),Co(i,null,l),s}return Gs(i,h,s,l),jl(i)}function fh(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,pl(i,l)}}function pg(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=x:y=y.next=x,l=l.next}while(l!==null);y===null?g=y=s:y=y.next=s}else g=y=s;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var gg=!1;function dh(){if(gg){var i=Wu;if(i!==null)throw i}}function mh(i,s,l,h){gg=!1;var g=i.updateQueue;Io=!1;var y=g.firstBaseUpdate,x=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var G=N,te=G.next;G.next=null,x===null?y=te:x.next=te,x=G;var de=i.alternate;de!==null&&(de=de.updateQueue,N=de.lastBaseUpdate,N!==x&&(N===null?de.firstBaseUpdate=te:N.next=te,de.lastBaseUpdate=G))}if(y!==null){var _e=g.baseState;x=0,de=te=G=null,N=y;do{var re=N.lane&-536870913,ce=re!==N.lane;if(ce?(mt&re)===re:(h&re)===re){re!==0&&re===Zu&&(gg=!0),de!==null&&(de=de.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var De=i,He=N;re=s;var Ht=l;switch(He.tag){case 1:if(De=He.payload,typeof De=="function"){_e=De.call(Ht,_e,re);break e}_e=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=He.payload,re=typeof De=="function"?De.call(Ht,_e,re):De,re==null)break e;_e=A({},_e,re);break e;case 2:Io=!0}}re=N.callback,re!==null&&(i.flags|=64,ce&&(i.flags|=8192),ce=g.callbacks,ce===null?g.callbacks=[re]:ce.push(re))}else ce={lane:re,tag:N.tag,payload:N.payload,callback:N.callback,next:null},de===null?(te=de=ce,G=_e):de=de.next=ce,x|=re;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;ce=N,N=ce.next,ce.next=null,g.lastBaseUpdate=ce,g.shared.pending=null}}while(!0);de===null&&(G=_e),g.baseState=G,g.firstBaseUpdate=te,g.lastBaseUpdate=de,y===null&&(g.shared.lanes=0),Do|=x,i.lanes=x,i.memoizedState=_e}}function Q0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function X0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Q0(l[i],s)}var $u=R(null),sd=R(0);function J0(i,s){i=ka,ue(sd,i),ue($u,s),ka=i|s.baseLanes}function _g(){ue(sd,ka),ue($u,$u.current)}function yg(){ka=sd.current,$($u),$(sd)}var or=R(null),Dr=null;function Po(i){var s=i.alternate;ue(vn,vn.current&1),ue(or,i),Dr===null&&(s===null||$u.current!==null||s.memoizedState!==null)&&(Dr=i)}function vg(i){ue(vn,vn.current),ue(or,i),Dr===null&&(Dr=i)}function eb(i){i.tag===22?(ue(vn,vn.current),ue(or,i),Dr===null&&(Dr=i)):Lo()}function Lo(){ue(vn,vn.current),ue(or,or.current)}function lr(i){$(or),Dr===i&&(Dr=null),$(vn)}var vn=R(0);function ad(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||x_(l)||A_(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ca=0,et=null,Ut=null,Rn=null,od=!1,Qu=!1,Zl=!1,ld=0,ph=0,Xu=null,E2=0;function pn(){throw Error(r(321))}function bg(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Fn(i[l],s[l]))return!1;return!0}function wg(i,s,l,h,g,y){return Ca=y,et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ne.H=i===null||i.memoizedState===null?jb:Dg,Zl=!1,y=l(h,g),Zl=!1,Qu&&(y=nb(s,l,h,g)),tb(i),y}function tb(i){ne.H=yh;var s=Ut!==null&&Ut.next!==null;if(Ca=0,Rn=Ut=et=null,od=!1,ph=0,Xu=null,s)throw Error(r(300));i===null||In||(i=i.dependencies,i!==null&&Xf(i)&&(In=!0))}function nb(i,s,l,h){et=i;var g=0;do{if(Qu&&(Xu=null),ph=0,Qu=!1,25<=g)throw Error(r(301));if(g+=1,Rn=Ut=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ne.H=Vb,y=s(l,h)}while(Qu);return y}function T2(){var i=ne.H,s=i.useState()[0];return s=typeof s.then=="function"?gh(s):s,i=i.useState()[0],(Ut!==null?Ut.memoizedState:null)!==i&&(et.flags|=1024),s}function Eg(){var i=ld!==0;return ld=0,i}function Tg(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Sg(i){if(od){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}od=!1}Ca=0,Rn=Ut=et=null,Qu=!1,ph=ld=0,Xu=null}function bi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?et.memoizedState=Rn=i:Rn=Rn.next=i,Rn}function bn(){if(Ut===null){var i=et.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var s=Rn===null?et.memoizedState:Rn.next;if(s!==null)Rn=s,Ut=i;else{if(i===null)throw et.alternate===null?Error(r(467)):Error(r(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Rn===null?et.memoizedState=Rn=i:Rn=Rn.next=i}return Rn}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gh(i){var s=ph;return ph+=1,Xu===null&&(Xu=[]),i=Z0(Xu,i,s),s=et,(Rn===null?s.memoizedState:Rn.next)===null&&(s=s.alternate,ne.H=s===null||s.memoizedState===null?jb:Dg),i}function cd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gh(i);if(i.$$typeof===ae)return Zn(i)}throw Error(r(438,String(i)))}function xg(i){var s=null,l=et.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=et.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ud(),et.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=W;return s.index++,l}function Ra(i,s){return typeof s=="function"?s(i):s}function hd(i){var s=bn();return Ag(s,Ut,i)}function Ag(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var g=i.baseQueue,y=h.pending;if(y!==null){if(g!==null){var x=g.next;g.next=y.next,y.next=x}s.baseQueue=g=y,h.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{s=g.next;var N=x=null,G=null,te=s,de=!1;do{var _e=te.lane&-536870913;if(_e!==te.lane?(mt&_e)===_e:(Ca&_e)===_e){var re=te.revertLane;if(re===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),_e===Zu&&(de=!0);else if((Ca&re)===re){te=te.next,re===Zu&&(de=!0);continue}else _e={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(N=G=_e,x=y):G=G.next=_e,et.lanes|=re,Do|=re;_e=te.action,Zl&&l(y,_e),y=te.hasEagerState?te.eagerState:l(y,_e)}else re={lane:_e,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(N=G=re,x=y):G=G.next=re,et.lanes|=_e,Do|=_e;te=te.next}while(te!==null&&te!==s);if(G===null?x=y:G.next=N,!Fn(y,i.memoizedState)&&(In=!0,de&&(l=Wu,l!==null)))throw l;i.memoizedState=y,i.baseState=x,i.baseQueue=G,h.lastRenderedState=y}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Cg(i){var s=bn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,g=l.pending,y=s.memoizedState;if(g!==null){l.pending=null;var x=g=g.next;do y=i(y,x.action),x=x.next;while(x!==g);Fn(y,s.memoizedState)||(In=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function ib(i,s,l){var h=et,g=bn(),y=ut;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var x=!Fn((Ut||g).memoizedState,l);if(x&&(g.memoizedState=l,In=!0),g=g.queue,Og(ab.bind(null,h,g,i),[i]),g.getSnapshot!==s||x||Rn!==null&&Rn.memoizedState.tag&1){if(h.flags|=2048,Ju(9,{destroy:void 0},sb.bind(null,h,g,l,s),null),Zt===null)throw Error(r(349));y||(Ca&127)!==0||rb(h,s,l)}return l}function rb(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=et.updateQueue,s===null?(s=ud(),et.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function sb(i,s,l,h){s.value=l,s.getSnapshot=h,ob(s)&&lb(i)}function ab(i,s,l){return l(function(){ob(s)&&lb(i)})}function ob(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Fn(i,l)}catch{return!0}}function lb(i){var s=Mr(i,2);s!==null&&Ui(s,i,2)}function Rg(i){var s=bi();if(typeof i=="function"){var l=i;if(i=l(),Zl){mi(!0);try{l()}finally{mi(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:i},s}function ub(i,s,l,h){return i.baseState=l,Ag(i,Ut,typeof h=="function"?h:Ra)}function S2(i,s,l,h,g){if(md(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){y.listeners.push(x)}};ne.T!==null?l(!0):y.isTransition=!1,h(y),l=s.pending,l===null?(y.next=s.pending=y,cb(s,y)):(y.next=l.next,s.pending=l.next=y)}}function cb(i,s){var l=s.action,h=s.payload,g=i.state;if(s.isTransition){var y=ne.T,x={};ne.T=x;try{var N=l(g,h),G=ne.S;G!==null&&G(x,N),hb(i,s,N)}catch(te){Ig(i,s,te)}finally{y!==null&&x.types!==null&&(y.types=x.types),ne.T=y}}else try{y=l(g,h),hb(i,s,y)}catch(te){Ig(i,s,te)}}function hb(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){fb(i,s,h)},function(h){return Ig(i,s,h)}):fb(i,s,l)}function fb(i,s,l){s.status="fulfilled",s.value=l,db(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,cb(i,l)))}function Ig(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,db(s),s=s.next;while(s!==h)}i.action=null}function db(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function mb(i,s){return s}function pb(i,s){if(ut){var l=Zt.formState;if(l!==null){e:{var h=et;if(ut){if(Rt){t:{for(var g=Rt,y=Di;g.nodeType!==8;){if(!y){g=null;break t}if(g=jr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Rt=jr(g.nextSibling),h=g.data==="F!";break e}}Ws(h)}h=!1}h&&(s=l[0])}}return l=bi(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mb,lastRenderedState:s},l.queue=h,l=Mb.bind(null,et,h),h.dispatch=l,h=Rg(!1),y=kg.bind(null,et,!1,h.queue),h=bi(),g={state:s,dispatch:null,action:i,pending:null},h.queue=g,l=S2.bind(null,et,g,y,l),g.dispatch=l,h.memoizedState=i,[s,l,!1]}function gb(i){var s=bn();return _b(s,Ut,i)}function _b(i,s,l){if(s=Ag(i,s,mb)[0],i=hd(Ra)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=gh(s)}catch(x){throw x===Ku?td:x}else h=s;s=bn();var g=s.queue,y=g.dispatch;return l!==s.memoizedState&&(et.flags|=2048,Ju(9,{destroy:void 0},x2.bind(null,g,l),null)),[h,y,i]}function x2(i,s){i.action=s}function yb(i){var s=bn(),l=Ut;if(l!==null)return _b(s,l,i);bn(),s=s.memoizedState,l=bn();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function Ju(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=et.updateQueue,s===null&&(s=ud(),et.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function vb(){return bn().memoizedState}function fd(i,s,l,h){var g=bi();et.flags|=i,g.memoizedState=Ju(1|s,{destroy:void 0},l,h===void 0?null:h)}function dd(i,s,l,h){var g=bn();h=h===void 0?null:h;var y=g.memoizedState.inst;Ut!==null&&h!==null&&bg(h,Ut.memoizedState.deps)?g.memoizedState=Ju(s,y,l,h):(et.flags|=i,g.memoizedState=Ju(1|s,y,l,h))}function bb(i,s){fd(8390656,8,i,s)}function Og(i,s){dd(2048,8,i,s)}function A2(i){et.flags|=4;var s=et.updateQueue;if(s===null)s=ud(),et.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function wb(i){var s=bn().memoizedState;return A2({ref:s,nextImpl:i}),function(){if((Pt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Eb(i,s){return dd(4,2,i,s)}function Tb(i,s){return dd(4,4,i,s)}function Sb(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function xb(i,s,l){l=l!=null?l.concat([i]):null,dd(4,4,Sb.bind(null,s,i),l)}function Ng(){}function Ab(i,s){var l=bn();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&bg(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Cb(i,s){var l=bn();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&bg(s,h[1]))return h[0];if(h=i(),Zl){mi(!0);try{i()}finally{mi(!1)}}return l.memoizedState=[h,s],h}function Pg(i,s,l){return l===void 0||(Ca&1073741824)!==0&&(mt&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=Rw(),et.lanes|=i,Do|=i,l)}function Rb(i,s,l,h){return Fn(l,s)?l:$u.current!==null?(i=Pg(i,l,h),Fn(i,s)||(In=!0),i):(Ca&42)===0||(Ca&1073741824)!==0&&(mt&261930)===0?(In=!0,i.memoizedState=l):(i=Rw(),et.lanes|=i,Do|=i,s)}function Ib(i,s,l,h,g){var y=Ae.p;Ae.p=y!==0&&8>y?y:8;var x=ne.T,N={};ne.T=N,kg(i,!1,s,l);try{var G=g(),te=ne.S;if(te!==null&&te(N,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var de=w2(G,h);_h(i,s,de,hr(i))}else _h(i,s,h,hr(i))}catch(_e){_h(i,s,{then:function(){},status:"rejected",reason:_e},hr())}finally{Ae.p=y,x!==null&&N.types!==null&&(x.types=N.types),ne.T=x}}function C2(){}function Lg(i,s,l,h){if(i.tag!==5)throw Error(r(476));var g=Ob(i).queue;Ib(i,g,s,we,l===null?C2:function(){return Nb(i),l(h)})}function Ob(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:we},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Nb(i){var s=Ob(i);s.next===null&&(s=i.alternate.memoizedState),_h(i,s.next.queue,{},hr())}function Mg(){return Zn(Mh)}function Pb(){return bn().memoizedState}function Lb(){return bn().memoizedState}function R2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=hr();i=Oo(l);var h=No(s,i,l);h!==null&&(Ui(h,s,l),fh(h,s,l)),s={cache:ug()},i.payload=s;return}s=s.return}}function I2(i,s,l){var h=hr();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},md(i)?kb(s,l):(l=nh(i,s,l,h),l!==null&&(Ui(l,i,h),Db(l,s,h)))}function Mb(i,s,l){var h=hr();_h(i,s,l,h)}function _h(i,s,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(md(i))kb(s,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var x=s.lastRenderedState,N=y(x,l);if(g.hasEagerState=!0,g.eagerState=N,Fn(N,x))return Gs(i,s,g,0),Zt===null&&Dl(),!1}catch{}finally{}if(l=nh(i,s,g,h),l!==null)return Ui(l,i,h),Db(l,s,h),!0}return!1}function kg(i,s,l,h){if(h={lane:2,revertLane:d_(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},md(i)){if(s)throw Error(r(479))}else s=nh(i,l,h,2),s!==null&&Ui(s,i,2)}function md(i){var s=i.alternate;return i===et||s!==null&&s===et}function kb(i,s){Qu=od=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Db(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,pl(i,l)}}var yh={readContext:Zn,use:cd,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn};yh.useEffectEvent=pn;var jb={readContext:Zn,use:cd,useCallback:function(i,s){return bi().memoizedState=[i,s===void 0?null:s],i},useContext:Zn,useEffect:bb,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,fd(4194308,4,Sb.bind(null,s,i),l)},useLayoutEffect:function(i,s){return fd(4194308,4,i,s)},useInsertionEffect:function(i,s){fd(4,2,i,s)},useMemo:function(i,s){var l=bi();s=s===void 0?null:s;var h=i();if(Zl){mi(!0);try{i()}finally{mi(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=bi();if(l!==void 0){var g=l(s);if(Zl){mi(!0);try{l(s)}finally{mi(!1)}}}else g=s;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=I2.bind(null,et,i),[h.memoizedState,i]},useRef:function(i){var s=bi();return i={current:i},s.memoizedState=i},useState:function(i){i=Rg(i);var s=i.queue,l=Mb.bind(null,et,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Ng,useDeferredValue:function(i,s){var l=bi();return Pg(l,i,s)},useTransition:function(){var i=Rg(!1);return i=Ib.bind(null,et,i.queue,!0,!1),bi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=et,g=bi();if(ut){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Zt===null)throw Error(r(349));(mt&127)!==0||rb(h,s,l)}g.memoizedState=l;var y={value:l,getSnapshot:s};return g.queue=y,bb(ab.bind(null,h,y,i),[i]),h.flags|=2048,Ju(9,{destroy:void 0},sb.bind(null,h,y,l,s),null),l},useId:function(){var i=bi(),s=Zt.identifierPrefix;if(ut){var l=Ie,h=ge;l=(h&~(1<<32-rn(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=ld++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=E2++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Mg,useFormState:pb,useActionState:pb,useOptimistic:function(i){var s=bi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=kg.bind(null,et,!0,l),l.dispatch=s,[i,s]},useMemoCache:xg,useCacheRefresh:function(){return bi().memoizedState=R2.bind(null,et)},useEffectEvent:function(i){var s=bi(),l={impl:i};return s.memoizedState=l,function(){if((Pt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Dg={readContext:Zn,use:cd,useCallback:Ab,useContext:Zn,useEffect:Og,useImperativeHandle:xb,useInsertionEffect:Eb,useLayoutEffect:Tb,useMemo:Cb,useReducer:hd,useRef:vb,useState:function(){return hd(Ra)},useDebugValue:Ng,useDeferredValue:function(i,s){var l=bn();return Rb(l,Ut.memoizedState,i,s)},useTransition:function(){var i=hd(Ra)[0],s=bn().memoizedState;return[typeof i=="boolean"?i:gh(i),s]},useSyncExternalStore:ib,useId:Pb,useHostTransitionStatus:Mg,useFormState:gb,useActionState:gb,useOptimistic:function(i,s){var l=bn();return ub(l,Ut,i,s)},useMemoCache:xg,useCacheRefresh:Lb};Dg.useEffectEvent=wb;var Vb={readContext:Zn,use:cd,useCallback:Ab,useContext:Zn,useEffect:Og,useImperativeHandle:xb,useInsertionEffect:Eb,useLayoutEffect:Tb,useMemo:Cb,useReducer:Cg,useRef:vb,useState:function(){return Cg(Ra)},useDebugValue:Ng,useDeferredValue:function(i,s){var l=bn();return Ut===null?Pg(l,i,s):Rb(l,Ut.memoizedState,i,s)},useTransition:function(){var i=Cg(Ra)[0],s=bn().memoizedState;return[typeof i=="boolean"?i:gh(i),s]},useSyncExternalStore:ib,useId:Pb,useHostTransitionStatus:Mg,useFormState:yb,useActionState:yb,useOptimistic:function(i,s){var l=bn();return Ut!==null?ub(l,Ut,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:xg,useCacheRefresh:Lb};Vb.useEffectEvent=wb;function jg(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:A({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Vg={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=hr(),g=Oo(h);g.payload=s,l!=null&&(g.callback=l),s=No(i,g,h),s!==null&&(Ui(s,i,h),fh(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=hr(),g=Oo(h);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=No(i,g,h),s!==null&&(Ui(s,i,h),fh(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=hr(),h=Oo(l);h.tag=2,s!=null&&(h.callback=s),s=No(i,h,l),s!==null&&(Ui(s,i,l),fh(s,i,l))}};function zb(i,s,l,h,g,y,x){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,x):s.prototype&&s.prototype.isPureReactComponent?!To(l,h)||!To(g,y):!0}function Bb(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&Vg.enqueueReplaceState(s,s.state,null)}function Wl(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=A({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}function Ub(i){kl(i)}function Fb(i){console.error(i)}function Hb(i){kl(i)}function pd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function qb(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function zg(i,s,l){return l=Oo(l),l.tag=3,l.payload={element:null},l.callback=function(){pd(i,s)},l}function Gb(i){return i=Oo(i),i.tag=3,i}function Zb(i,s,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;i.payload=function(){return g(y)},i.callback=function(){qb(s,l,h)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(i.callback=function(){qb(s,l,h),typeof g!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var N=h.stack;this.componentDidCatch(h.value,{componentStack:N!==null?N:""})})}function O2(i,s,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Gu(s,l,g,!0),l=or.current,l!==null){switch(l.tag){case 31:case 13:return Dr===null?Cd():l.alternate===null&&gn===0&&(gn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===nd?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),c_(i,h,g)),!1;case 22:return l.flags|=65536,h===nd?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),c_(i,h,g)),!1}throw Error(r(435,l.tag))}return c_(i,h,g),Cd(),!1}if(ut)return s=or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,h!==qu&&(i=Error(r(422),{cause:h}),zl(c(i,l)))):(h!==qu&&(s=Error(r(423),{cause:h}),zl(c(s,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=c(h,l),g=zg(i.stateNode,h,g),pg(i,g),gn!==4&&(gn=2)),!1;var y=Error(r(520),{cause:h});if(y=c(y,l),Ah===null?Ah=[y]:Ah.push(y),gn!==4&&(gn=2),s===null)return!0;h=c(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=zg(l.stateNode,h,i),pg(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(jo===null||!jo.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Gb(g),Zb(g,i,l,h),pg(l,g),!1}l=l.return}while(l!==null);return!1}var Bg=Error(r(461)),In=!1;function Wn(i,s,l,h){s.child=i===null?$0(s,null,l,h):Gl(s,i.child,l,h)}function Wb(i,s,l,h,g){l=l.render;var y=s.ref;if("ref"in h){var x={};for(var N in h)N!=="ref"&&(x[N]=h[N])}else x=h;return Ul(s),h=wg(i,s,l,x,y,g),N=Eg(),i!==null&&!In?(Tg(i,s,g),Ia(i,s,g)):(ut&&N&&Mn(s),s.flags|=1,Wn(i,s,h,g),s.child)}function Kb(i,s,l,h,g){if(i===null){var y=l.type;return typeof y=="function"&&!Fu(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,Yb(i,s,y,h,g)):(i=Vl(l.type,null,h,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Kg(i,g)){var x=y.memoizedProps;if(l=l.compare,l=l!==null?l:To,l(x,h)&&i.ref===s.ref)return Ia(i,s,g)}return s.flags|=1,i=kr(y,h),i.ref=s.ref,i.return=s,s.child=i}function Yb(i,s,l,h,g){if(i!==null){var y=i.memoizedProps;if(To(y,h)&&i.ref===s.ref)if(In=!1,s.pendingProps=h=y,Kg(i,g))(i.flags&131072)!==0&&(In=!0);else return s.lanes=i.lanes,Ia(i,s,g)}return Ug(i,s,l,h,g)}function $b(i,s,l,h){var g=h.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,i!==null){for(h=s.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,s.child=null;return Qb(i,s,y,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ed(s,y!==null?y.cachePool:null),y!==null?J0(s,y):_g(),eb(s);else return h=s.lanes=536870912,Qb(i,s,y!==null?y.baseLanes|l:l,l,h)}else y!==null?(ed(s,y.cachePool),J0(s,y),Lo(),s.memoizedState=null):(i!==null&&ed(s,null),_g(),Lo());return Wn(i,s,g,l),s.child}function vh(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Qb(i,s,l,h,g){var y=hg();return y=y===null?null:{parent:Cn._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},i!==null&&ed(s,null),_g(),eb(s),i!==null&&Gu(i,s,h,!0),s.childLanes=g,null}function gd(i,s){return s=yd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Xb(i,s,l){return Gl(s,i.child,null,l),i=gd(s,s.pendingProps),i.flags|=2,lr(s),s.memoizedState=null,i}function N2(i,s,l){var h=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ut){if(h.mode==="hidden")return i=gd(s,h),s.lanes=536870912,vh(null,i);if(vg(s),(i=Rt)?(i=cE(i,Di),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ie!==null?{id:ge,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},l=rh(i),l.return=s,s.child=l,Ct=s,Rt=null)):i=null,i===null)throw Ws(s);return s.lanes=536870912,null}return gd(s,h)}var y=i.memoizedState;if(y!==null){var x=y.dehydrated;if(vg(s),g)if(s.flags&256)s.flags&=-257,s=Xb(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(In||Gu(i,s,l,!1),g=(l&i.childLanes)!==0,In||g){if(h=Zt,h!==null&&(x=gl(h,l),x!==0&&x!==y.retryLane))throw y.retryLane=x,Mr(i,x),Ui(h,i,x),Bg;Cd(),s=Xb(i,s,l)}else i=y.treeContext,Rt=jr(x.nextSibling),Ct=s,ut=!0,Zs=null,Di=!1,i!==null&&vi(s,i),s=gd(s,h),s.flags|=4096;return s}return i=kr(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function _d(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Ug(i,s,l,h,g){return Ul(s),l=wg(i,s,l,h,void 0,g),h=Eg(),i!==null&&!In?(Tg(i,s,g),Ia(i,s,g)):(ut&&h&&Mn(s),s.flags|=1,Wn(i,s,l,g),s.child)}function Jb(i,s,l,h,g,y){return Ul(s),s.updateQueue=null,l=nb(s,h,l,g),tb(i),h=Eg(),i!==null&&!In?(Tg(i,s,y),Ia(i,s,y)):(ut&&h&&Mn(s),s.flags|=1,Wn(i,s,l,y),s.child)}function ew(i,s,l,h,g){if(Ul(s),s.stateNode===null){var y=Ta,x=l.contextType;typeof x=="object"&&x!==null&&(y=Zn(x)),y=new l(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Vg,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},dg(s),x=l.contextType,y.context=typeof x=="object"&&x!==null?Zn(x):Ta,y.state=s.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(jg(s,l,x,h),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(x=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),x!==y.state&&Vg.enqueueReplaceState(y,y.state,null),mh(s,h,y,g),dh(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){y=s.stateNode;var N=s.memoizedProps,G=Wl(l,N);y.props=G;var te=y.context,de=l.contextType;x=Ta,typeof de=="object"&&de!==null&&(x=Zn(de));var _e=l.getDerivedStateFromProps;de=typeof _e=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||te!==x)&&Bb(s,y,h,x),Io=!1;var re=s.memoizedState;y.state=re,mh(s,h,y,g),dh(),te=s.memoizedState,N||re!==te||Io?(typeof _e=="function"&&(jg(s,l,_e,h),te=s.memoizedState),(G=Io||zb(s,l,G,h,re,te,x))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=te),y.props=h,y.state=te,y.context=x,h=G):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,mg(i,s),x=s.memoizedProps,de=Wl(l,x),y.props=de,_e=s.pendingProps,re=y.context,te=l.contextType,G=Ta,typeof te=="object"&&te!==null&&(G=Zn(te)),N=l.getDerivedStateFromProps,(te=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==_e||re!==G)&&Bb(s,y,h,G),Io=!1,re=s.memoizedState,y.state=re,mh(s,h,y,g),dh();var ce=s.memoizedState;x!==_e||re!==ce||Io||i!==null&&i.dependencies!==null&&Xf(i.dependencies)?(typeof N=="function"&&(jg(s,l,N,h),ce=s.memoizedState),(de=Io||zb(s,l,de,h,re,ce,G)||i!==null&&i.dependencies!==null&&Xf(i.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,ce,G),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,ce,G)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ce),y.props=h,y.state=ce,y.context=G,h=de):(typeof y.componentDidUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&re===i.memoizedState||(s.flags|=1024),h=!1)}return y=h,_d(i,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&h?(s.child=Gl(s,i.child,null,g),s.child=Gl(s,null,l,g)):Wn(i,s,l,g),s.memoizedState=y.state,i=s.child):i=Ia(i,s,g),i}function tw(i,s,l,h){return xa(),s.flags|=256,Wn(i,s,l,h),s.child}var Fg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hg(i){return{baseLanes:i,cachePool:q0()}}function qg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=cr),i}function nw(i,s,l){var h=s.pendingProps,g=!1,y=(s.flags&128)!==0,x;if((x=y)||(x=i!==null&&i.memoizedState===null?!1:(vn.current&2)!==0),x&&(g=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,i===null){if(ut){if(g?Po(s):Lo(),(i=Rt)?(i=cE(i,Di),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ie!==null?{id:ge,overflow:Ie}:null,retryLane:536870912,hydrationErrors:null},l=rh(i),l.return=s,s.child=l,Ct=s,Rt=null)):i=null,i===null)throw Ws(s);return A_(i)?s.lanes=32:s.lanes=536870912,null}var N=h.children;return h=h.fallback,g?(Lo(),g=s.mode,N=yd({mode:"hidden",children:N},g),h=Sa(h,g,l,null),N.return=s,h.return=s,N.sibling=h,s.child=N,h=s.child,h.memoizedState=Hg(l),h.childLanes=qg(i,x,l),s.memoizedState=Fg,vh(null,h)):(Po(s),Gg(s,N))}var G=i.memoizedState;if(G!==null&&(N=G.dehydrated,N!==null)){if(y)s.flags&256?(Po(s),s.flags&=-257,s=Zg(i,s,l)):s.memoizedState!==null?(Lo(),s.child=i.child,s.flags|=128,s=null):(Lo(),N=h.fallback,g=s.mode,h=yd({mode:"visible",children:h.children},g),N=Sa(N,g,l,null),N.flags|=2,h.return=s,N.return=s,h.sibling=N,s.child=h,Gl(s,i.child,null,l),h=s.child,h.memoizedState=Hg(l),h.childLanes=qg(i,x,l),s.memoizedState=Fg,s=vh(null,h));else if(Po(s),A_(N)){if(x=N.nextSibling&&N.nextSibling.dataset,x)var te=x.dgst;x=te,h=Error(r(419)),h.stack="",h.digest=x,zl({value:h,source:null,stack:null}),s=Zg(i,s,l)}else if(In||Gu(i,s,l,!1),x=(l&i.childLanes)!==0,In||x){if(x=Zt,x!==null&&(h=gl(x,l),h!==0&&h!==G.retryLane))throw G.retryLane=h,Mr(i,h),Ui(x,i,h),Bg;x_(N)||Cd(),s=Zg(i,s,l)}else x_(N)?(s.flags|=192,s.child=i.child,s=null):(i=G.treeContext,Rt=jr(N.nextSibling),Ct=s,ut=!0,Zs=null,Di=!1,i!==null&&vi(s,i),s=Gg(s,h.children),s.flags|=4096);return s}return g?(Lo(),N=h.fallback,g=s.mode,G=i.child,te=G.sibling,h=kr(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,te!==null?N=kr(te,N):(N=Sa(N,g,l,null),N.flags|=2),N.return=s,h.return=s,h.sibling=N,s.child=h,vh(null,h),h=s.child,N=i.child.memoizedState,N===null?N=Hg(l):(g=N.cachePool,g!==null?(G=Cn._currentValue,g=g.parent!==G?{parent:G,pool:G}:g):g=q0(),N={baseLanes:N.baseLanes|l,cachePool:g}),h.memoizedState=N,h.childLanes=qg(i,x,l),s.memoizedState=Fg,vh(i.child,h)):(Po(s),l=i.child,i=l.sibling,l=kr(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(x=s.deletions,x===null?(s.deletions=[i],s.flags|=16):x.push(i)),s.child=l,s.memoizedState=null,l)}function Gg(i,s){return s=yd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function yd(i,s){return i=ai(22,i,null,s),i.lanes=0,i}function Zg(i,s,l){return Gl(s,i.child,null,l),i=Gg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function iw(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),og(i.return,s,l)}function Wg(i,s,l,h,g,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:y}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=h,x.tail=l,x.tailMode=g,x.treeForkCount=y)}function rw(i,s,l){var h=s.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var x=vn.current,N=(x&2)!==0;if(N?(x=x&1|2,s.flags|=128):x&=1,ue(vn,x),Wn(i,s,h,l),h=ut?O:0,!N&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&iw(i,l,s);else if(i.tag===19)iw(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)i=l.alternate,i!==null&&ad(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Wg(s,!1,g,l,y,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&ad(i)===null){s.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Wg(s,!0,l,null,y,h);break;case"together":Wg(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function Ia(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Do|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Gu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=kr(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=kr(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Kg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Xf(i)))}function P2(i,s,l){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),Ro(s,Cn,i.memoizedState.cache),xa();break;case 27:case 5:bt(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:Ro(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,vg(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Po(s),s.flags|=128,null):(l&s.child.childLanes)!==0?nw(i,s,l):(Po(s),i=Ia(i,s,l),i!==null?i.sibling:null);Po(s);break;case 19:var g=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Gu(i,s,l,!1),h=(l&s.childLanes)!==0),g){if(h)return rw(i,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(vn,vn.current),h)break;return null;case 22:return s.lanes=0,$b(i,s,l,s.pendingProps);case 24:Ro(s,Cn,i.memoizedState.cache)}return Ia(i,s,l)}function sw(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)In=!0;else{if(!Kg(i,l)&&(s.flags&128)===0)return In=!1,P2(i,s,l);In=(i.flags&131072)!==0}else In=!1,ut&&(s.flags&1048576)!==0&&it(s,O,s.index);switch(s.lanes=0,s.tag){case 16:e:{var h=s.pendingProps;if(i=Hl(s.elementType),s.type=i,typeof i=="function")Fu(i)?(h=Wl(i,h),s.tag=1,s=ew(null,s,i,h,l)):(s.tag=0,s=Ug(null,s,i,h,l));else{if(i!=null){var g=i.$$typeof;if(g===Se){s.tag=11,s=Wb(null,s,i,h,l);break e}else if(g===k){s.tag=14,s=Kb(null,s,i,h,l);break e}}throw s=Ye(i)||i,Error(r(306,s,""))}}return s;case 0:return Ug(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,g=Wl(h,s.pendingProps),ew(i,s,h,g,l);case 3:e:{if(ke(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var y=s.memoizedState;g=y.element,mg(i,s),mh(s,h,null,l);var x=s.memoizedState;if(h=x.cache,Ro(s,Cn,h),h!==y.cache&&lg(s,[Cn],l,!0),dh(),h=x.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=tw(i,s,h,l);break e}else if(h!==g){g=c(Error(r(424)),s),zl(g),s=tw(i,s,h,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Rt=jr(i.firstChild),Ct=s,ut=!0,Zs=null,Di=!0,l=$0(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(xa(),h===g){s=Ia(i,s,l);break e}Wn(i,s,h,l)}s=s.child}return s;case 26:return _d(i,s),i===null?(l=gE(s.type,null,s.pendingProps,null))?s.memoizedState=l:ut||(l=s.type,i=s.pendingProps,h=Md(ve.current).createElement(l),h[an]=s,h[fn]=i,Kn(h,l,i),dn(h),s.stateNode=h):s.memoizedState=gE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return bt(s),i===null&&ut&&(h=s.stateNode=dE(s.type,s.pendingProps,ve.current),Ct=s,Di=!0,g=Rt,Uo(s.type)?(C_=g,Rt=jr(h.firstChild)):Rt=g),Wn(i,s,s.pendingProps.children,l),_d(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ut&&((g=h=Rt)&&(h=lI(h,s.type,s.pendingProps,Di),h!==null?(s.stateNode=h,Ct=s,Rt=jr(h.firstChild),Di=!1,g=!0):g=!1),g||Ws(s)),bt(s),g=s.type,y=s.pendingProps,x=i!==null?i.memoizedProps:null,h=y.children,E_(g,y)?h=null:x!==null&&E_(g,x)&&(s.flags|=32),s.memoizedState!==null&&(g=wg(i,s,T2,null,null,l),Mh._currentValue=g),_d(i,s),Wn(i,s,h,l),s.child;case 6:return i===null&&ut&&((i=l=Rt)&&(l=uI(l,s.pendingProps,Di),l!==null?(s.stateNode=l,Ct=s,Rt=null,i=!0):i=!1),i||Ws(s)),null;case 13:return nw(i,s,l);case 4:return ke(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Gl(s,null,h,l):Wn(i,s,h,l),s.child;case 11:return Wb(i,s,s.type,s.pendingProps,l);case 7:return Wn(i,s,s.pendingProps,l),s.child;case 8:return Wn(i,s,s.pendingProps.children,l),s.child;case 12:return Wn(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,Ro(s,s.type,h.value),Wn(i,s,h.children,l),s.child;case 9:return g=s.type._context,h=s.pendingProps.children,Ul(s),g=Zn(g),h=h(g),s.flags|=1,Wn(i,s,h,l),s.child;case 14:return Kb(i,s,s.type,s.pendingProps,l);case 15:return Yb(i,s,s.type,s.pendingProps,l);case 19:return rw(i,s,l);case 31:return N2(i,s,l);case 22:return $b(i,s,l,s.pendingProps);case 24:return Ul(s),h=Zn(Cn),i===null?(g=hg(),g===null&&(g=Zt,y=ug(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),s.memoizedState={parent:h,cache:g},dg(s),Ro(s,Cn,g)):((i.lanes&l)!==0&&(mg(i,s),mh(s,null,null,l),dh()),g=i.memoizedState,y=s.memoizedState,g.parent!==h?(g={parent:h,cache:h},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Ro(s,Cn,h)):(h=y.cache,Ro(s,Cn,h),h!==g.cache&&lg(s,[Cn],l,!0))),Wn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Oa(i){i.flags|=4}function Yg(i,s,l,h,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(Pw())i.flags|=8192;else throw ql=nd,fg}else i.flags&=-16777217}function aw(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!wE(s))if(Pw())i.flags|=8192;else throw ql=nd,fg}function vd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ru():536870912,i.lanes|=s,ic|=s)}function bh(i,s){if(!ut)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Xt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function L2(i,s,l){var h=s.pendingProps;switch(mn(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return Xt(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Aa(Cn),Ue(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(hs(s)?Oa(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,oh())),Xt(s),null;case 26:var g=s.type,y=s.memoizedState;return i===null?(Oa(s),y!==null?(Xt(s),aw(s,y)):(Xt(s),Yg(s,g,null,h,l))):y?y!==i.memoizedState?(Oa(s),Xt(s),aw(s,y)):(Xt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&Oa(s),Xt(s),Yg(s,g,i,h,l)),null;case 27:if(ft(s),l=ve.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Oa(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Xt(s),null}i=he.current,hs(s)?ah(s):(i=dE(g,h,l),s.stateNode=i,Oa(s))}return Xt(s),null;case 5:if(ft(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Oa(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Xt(s),null}if(y=he.current,hs(s))ah(s);else{var x=Md(ve.current);switch(y){case 1:y=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=x.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?x.createElement(g,{is:h.is}):x.createElement(g)}}y[an]=s,y[fn]=h;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)y.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=y;e:switch(Kn(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Oa(s)}}return Xt(s),Yg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Oa(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=ve.current,hs(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,g=Ct,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[an]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||nE(i.nodeValue,l)),i||Ws(s,!0)}else i=Md(i).createTextNode(h),i[an]=s,s.stateNode=i}return Xt(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(h=hs(s),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[an]=s}else xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),i=!1}else l=oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(lr(s),s):(lr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Xt(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=hs(s),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[an]=s}else xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xt(s),g=!1}else g=oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(lr(s),s):(lr(s),null)}return lr(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=s.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),vd(s,s.updateQueue),Xt(s),null);case 4:return Ue(),i===null&&__(s.stateNode.containerInfo),Xt(s),null;case 10:return Aa(s.type),Xt(s),null;case 19:if($(vn),h=s.memoizedState,h===null)return Xt(s),null;if(g=(s.flags&128)!==0,y=h.rendering,y===null)if(g)bh(h,!1);else{if(gn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=ad(i),y!==null){for(s.flags|=128,bh(h,!1),i=y.updateQueue,s.updateQueue=i,vd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)ih(l,i),l=l.sibling;return ue(vn,vn.current&1|2),ut&&Ve(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&Sn()>Sd&&(s.flags|=128,g=!0,bh(h,!1),s.lanes=4194304)}else{if(!g)if(i=ad(y),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,vd(s,i),bh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!ut)return Xt(s),null}else 2*Sn()-h.renderingStartTime>Sd&&l!==536870912&&(s.flags|=128,g=!0,bh(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(i=h.last,i!==null?i.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Sn(),i.sibling=null,l=vn.current,ue(vn,g?l&1|2:l&1),ut&&Ve(s,h.treeForkCount),i):(Xt(s),null);case 22:case 23:return lr(s),yg(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),l=s.updateQueue,l!==null&&vd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&$(Fl),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Aa(Cn),Xt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function M2(i,s){switch(mn(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Aa(Cn),Ue(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ft(s),null;case 31:if(s.memoizedState!==null){if(lr(s),s.alternate===null)throw Error(r(340));xa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(lr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));xa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return $(vn),null;case 4:return Ue(),null;case 10:return Aa(s.type),null;case 22:case 23:return lr(s),yg(),i!==null&&$(Fl),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Aa(Cn),null;case 25:return null;default:return null}}function ow(i,s){switch(mn(s),s.tag){case 3:Aa(Cn),Ue();break;case 26:case 27:case 5:ft(s);break;case 4:Ue();break;case 31:s.memoizedState!==null&&lr(s);break;case 13:lr(s);break;case 19:$(vn);break;case 10:Aa(s.type);break;case 22:case 23:lr(s),yg(),i!==null&&$(Fl);break;case 24:Aa(Cn)}}function wh(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&i)===i){h=void 0;var y=l.create,x=l.inst;h=y(),x.destroy=h}l=l.next}while(l!==g)}}catch(N){Vt(s,s.return,N)}}function Mo(i,s,l){try{var h=s.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&i)===i){var x=h.inst,N=x.destroy;if(N!==void 0){x.destroy=void 0,g=s;var G=l,te=N;try{te()}catch(de){Vt(g,G,de)}}}h=h.next}while(h!==y)}}catch(de){Vt(s,s.return,de)}}function lw(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{X0(s,l)}catch(h){Vt(i,i.return,h)}}}function uw(i,s,l){l.props=Wl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Vt(i,s,h)}}function Eh(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(g){Vt(i,s,g)}}function Ys(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Vt(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Vt(i,s,g)}else l.current=null}function cw(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Vt(i,i.return,g)}}function $g(i,s,l){try{var h=i.stateNode;nI(h,i.type,l,s),h[fn]=s}catch(g){Vt(i,i.return,g)}}function hw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Uo(i.type)||i.tag===4}function Qg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||hw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Uo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xg(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ti));else if(h!==4&&(h===27&&Uo(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Xg(i,s,l),i=i.sibling;i!==null;)Xg(i,s,l),i=i.sibling}function bd(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&Uo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(bd(i,s,l),i=i.sibling;i!==null;)bd(i,s,l),i=i.sibling}function fw(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Kn(s,h,l),s[an]=i,s[fn]=l}catch(y){Vt(i,i.return,y)}}var Na=!1,On=!1,Jg=!1,dw=typeof WeakSet=="function"?WeakSet:Set,qn=null;function k2(i,s){if(i=i.containerInfo,b_=Ud,i=Nl(i),Us(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var x=0,N=-1,G=-1,te=0,de=0,_e=i,re=null;t:for(;;){for(var ce;_e!==l||g!==0&&_e.nodeType!==3||(N=x+g),_e!==y||h!==0&&_e.nodeType!==3||(G=x+h),_e.nodeType===3&&(x+=_e.nodeValue.length),(ce=_e.firstChild)!==null;)re=_e,_e=ce;for(;;){if(_e===i)break t;if(re===l&&++te===g&&(N=x),re===y&&++de===h&&(G=x),(ce=_e.nextSibling)!==null)break;_e=re,re=_e.parentNode}_e=ce}l=N===-1||G===-1?null:{start:N,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(w_={focusedElem:i,selectionRange:l},Ud=!1,qn=s;qn!==null;)if(s=qn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,qn=i;else for(;qn!==null;){switch(s=qn,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)g=i[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var De=Wl(l.type,g);i=h.getSnapshotBeforeUpdate(De,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(He){Vt(l,l.return,He)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)S_(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":S_(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,qn=i;break}qn=s.return}}function mw(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:La(i,l),h&4&&wh(5,l);break;case 1:if(La(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(x){Vt(l,l.return,x)}else{var g=Wl(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(x){Vt(l,l.return,x)}}h&64&&lw(l),h&512&&Eh(l,l.return);break;case 3:if(La(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{X0(i,s)}catch(x){Vt(l,l.return,x)}}break;case 27:s===null&&h&4&&fw(l);case 26:case 5:La(i,l),s===null&&h&4&&cw(l),h&512&&Eh(l,l.return);break;case 12:La(i,l);break;case 31:La(i,l),h&4&&_w(i,l);break;case 13:La(i,l),h&4&&yw(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=q2.bind(null,l),cI(i,l))));break;case 22:if(h=l.memoizedState!==null||Na,!h){s=s!==null&&s.memoizedState!==null||On,g=Na;var y=On;Na=h,(On=s)&&!y?Ma(i,l,(l.subtreeFlags&8772)!==0):La(i,l),Na=g,On=y}break;case 30:break;default:La(i,l)}}function pw(i){var s=i.alternate;s!==null&&(i.alternate=null,pw(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&uo(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var en=null,ji=!1;function Pa(i,s,l){for(l=l.child;l!==null;)gw(i,s,l),l=l.sibling}function gw(i,s,l){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(ei,l)}catch{}switch(l.tag){case 26:On||Ys(l,s),Pa(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:On||Ys(l,s);var h=en,g=ji;Uo(l.type)&&(en=l.stateNode,ji=!1),Pa(i,s,l),Nh(l.stateNode),en=h,ji=g;break;case 5:On||Ys(l,s);case 6:if(h=en,g=ji,en=null,Pa(i,s,l),en=h,ji=g,en!==null)if(ji)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(l.stateNode)}catch(y){Vt(l,s,y)}else try{en.removeChild(l.stateNode)}catch(y){Vt(l,s,y)}break;case 18:en!==null&&(ji?(i=en,lE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),hc(i)):lE(en,l.stateNode));break;case 4:h=en,g=ji,en=l.stateNode.containerInfo,ji=!0,Pa(i,s,l),en=h,ji=g;break;case 0:case 11:case 14:case 15:Mo(2,l,s),On||Mo(4,l,s),Pa(i,s,l);break;case 1:On||(Ys(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&uw(l,s,h)),Pa(i,s,l);break;case 21:Pa(i,s,l);break;case 22:On=(h=On)||l.memoizedState!==null,Pa(i,s,l),On=h;break;default:Pa(i,s,l)}}function _w(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{hc(i)}catch(l){Vt(s,s.return,l)}}}function yw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{hc(i)}catch(l){Vt(s,s.return,l)}}function D2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new dw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new dw),s;default:throw Error(r(435,i.tag))}}function wd(i,s){var l=D2(i);s.forEach(function(h){if(!l.has(h)){l.add(h);var g=G2.bind(null,i,h);h.then(g,g)}})}function Vi(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=i,x=s,N=x;e:for(;N!==null;){switch(N.tag){case 27:if(Uo(N.type)){en=N.stateNode,ji=!1;break e}break;case 5:en=N.stateNode,ji=!1;break e;case 3:case 4:en=N.stateNode.containerInfo,ji=!0;break e}N=N.return}if(en===null)throw Error(r(160));gw(y,x,g),en=null,ji=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)vw(s,i),s=s.sibling}var ds=null;function vw(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vi(s,i),zi(i),h&4&&(Mo(3,i,i.return),wh(3,i),Mo(5,i,i.return));break;case 1:Vi(s,i),zi(i),h&512&&(On||l===null||Ys(l,l.return)),h&64&&Na&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=ds;if(Vi(s,i),zi(i),h&512&&(On||l===null||Ys(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Tr]||y[an]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Kn(y,h,l),y[an]=i,dn(y),h=y;break e;case"link":var x=vE("link","href",g).get(h+(l.href||""));if(x){for(var N=0;N<x.length;N++)if(y=x[N],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(N,1);break t}}y=g.createElement(h),Kn(y,h,l),g.head.appendChild(y);break;case"meta":if(x=vE("meta","content",g).get(h+(l.content||""))){for(N=0;N<x.length;N++)if(y=x[N],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(N,1);break t}}y=g.createElement(h),Kn(y,h,l),g.head.appendChild(y);break;default:throw Error(r(468,h))}y[an]=i,dn(y),h=y}i.stateNode=h}else bE(g,i.type,i.stateNode);else i.stateNode=yE(g,h,i.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?bE(g,i.type,i.stateNode):yE(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&$g(i,i.memoizedProps,l.memoizedProps)}break;case 27:Vi(s,i),zi(i),h&512&&(On||l===null||Ys(l,l.return)),l!==null&&h&4&&$g(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Vi(s,i),zi(i),h&512&&(On||l===null||Ys(l,l.return)),i.flags&32){g=i.stateNode;try{xn(g,"")}catch(De){Vt(i,i.return,De)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,$g(i,g,l!==null?l.memoizedProps:g)),h&1024&&(Jg=!0);break;case 6:if(Vi(s,i),zi(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(De){Vt(i,i.return,De)}}break;case 3:if(jd=null,g=ds,ds=kd(s.containerInfo),Vi(s,i),ds=g,zi(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{hc(s.containerInfo)}catch(De){Vt(i,i.return,De)}Jg&&(Jg=!1,bw(i));break;case 4:h=ds,ds=kd(i.stateNode.containerInfo),Vi(s,i),zi(i),ds=h;break;case 12:Vi(s,i),zi(i);break;case 31:Vi(s,i),zi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 13:Vi(s,i),zi(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Td=Sn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 22:g=i.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,te=Na,de=On;if(Na=te||g,On=de||G,Vi(s,i),On=de,Na=te,zi(i),h&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||G||Na||On||Kl(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){G=l=s;try{if(y=G.stateNode,g)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{N=G.stateNode;var _e=G.memoizedProps.style,re=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;N.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(De){Vt(G,G.return,De)}}}else if(s.tag===6){if(l===null){G=s;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(De){Vt(G,G.return,De)}}}else if(s.tag===18){if(l===null){G=s;try{var ce=G.stateNode;g?uE(ce,!0):uE(G.stateNode,!1)}catch(De){Vt(G,G.return,De)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,wd(i,l))));break;case 19:Vi(s,i),zi(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,wd(i,h)));break;case 30:break;case 21:break;default:Vi(s,i),zi(i)}}function zi(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(hw(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=Qg(i);bd(i,y,g);break;case 5:var x=l.stateNode;l.flags&32&&(xn(x,""),l.flags&=-33);var N=Qg(i);bd(i,N,x);break;case 3:case 4:var G=l.stateNode.containerInfo,te=Qg(i);Xg(i,te,G);break;default:throw Error(r(161))}}catch(de){Vt(i,i.return,de)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function bw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;bw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function La(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mw(i,s.alternate,s),s=s.sibling}function Kl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Mo(4,s,s.return),Kl(s);break;case 1:Ys(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&uw(s,s.return,l),Kl(s);break;case 27:Nh(s.stateNode);case 26:case 5:Ys(s,s.return),Kl(s);break;case 22:s.memoizedState===null&&Kl(s);break;case 30:Kl(s);break;default:Kl(s)}i=i.sibling}}function Ma(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,g=i,y=s,x=y.flags;switch(y.tag){case 0:case 11:case 15:Ma(g,y,l),wh(4,y);break;case 1:if(Ma(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){Vt(h,h.return,te)}if(h=y,g=h.updateQueue,g!==null){var N=h.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)Q0(G[g],N)}catch(te){Vt(h,h.return,te)}}l&&x&64&&lw(y),Eh(y,y.return);break;case 27:fw(y);case 26:case 5:Ma(g,y,l),l&&h===null&&x&4&&cw(y),Eh(y,y.return);break;case 12:Ma(g,y,l);break;case 31:Ma(g,y,l),l&&x&4&&_w(g,y);break;case 13:Ma(g,y,l),l&&x&4&&yw(g,y);break;case 22:y.memoizedState===null&&Ma(g,y,l),Eh(y,y.return);break;case 30:break;default:Ma(g,y,l)}s=s.sibling}}function e_(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&lh(l))}function t_(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&lh(i))}function ms(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ww(i,s,l,h),s=s.sibling}function ww(i,s,l,h){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ms(i,s,l,h),g&2048&&wh(9,s);break;case 1:ms(i,s,l,h);break;case 3:ms(i,s,l,h),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&lh(i)));break;case 12:if(g&2048){ms(i,s,l,h),i=s.stateNode;try{var y=s.memoizedProps,x=y.id,N=y.onPostCommit;typeof N=="function"&&N(x,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){Vt(s,s.return,G)}}else ms(i,s,l,h);break;case 31:ms(i,s,l,h);break;case 13:ms(i,s,l,h);break;case 23:break;case 22:y=s.stateNode,x=s.alternate,s.memoizedState!==null?y._visibility&2?ms(i,s,l,h):Th(i,s):y._visibility&2?ms(i,s,l,h):(y._visibility|=2,ec(i,s,l,h,(s.subtreeFlags&10256)!==0||!1)),g&2048&&e_(x,s);break;case 24:ms(i,s,l,h),g&2048&&t_(s.alternate,s);break;default:ms(i,s,l,h)}}function ec(i,s,l,h,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,x=s,N=l,G=h,te=x.flags;switch(x.tag){case 0:case 11:case 15:ec(y,x,N,G,g),wh(8,x);break;case 23:break;case 22:var de=x.stateNode;x.memoizedState!==null?de._visibility&2?ec(y,x,N,G,g):Th(y,x):(de._visibility|=2,ec(y,x,N,G,g)),g&&te&2048&&e_(x.alternate,x);break;case 24:ec(y,x,N,G,g),g&&te&2048&&t_(x.alternate,x);break;default:ec(y,x,N,G,g)}s=s.sibling}}function Th(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,g=h.flags;switch(h.tag){case 22:Th(l,h),g&2048&&e_(h.alternate,h);break;case 24:Th(l,h),g&2048&&t_(h.alternate,h);break;default:Th(l,h)}s=s.sibling}}var Sh=8192;function tc(i,s,l){if(i.subtreeFlags&Sh)for(i=i.child;i!==null;)Ew(i,s,l),i=i.sibling}function Ew(i,s,l){switch(i.tag){case 26:tc(i,s,l),i.flags&Sh&&i.memoizedState!==null&&EI(l,ds,i.memoizedState,i.memoizedProps);break;case 5:tc(i,s,l);break;case 3:case 4:var h=ds;ds=kd(i.stateNode.containerInfo),tc(i,s,l),ds=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Sh,Sh=16777216,tc(i,s,l),Sh=h):tc(i,s,l));break;default:tc(i,s,l)}}function Tw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function xh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];qn=h,xw(h,i)}Tw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sw(i),i=i.sibling}function Sw(i){switch(i.tag){case 0:case 11:case 15:xh(i),i.flags&2048&&Mo(9,i,i.return);break;case 3:xh(i);break;case 12:xh(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ed(i)):xh(i);break;default:xh(i)}}function Ed(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];qn=h,xw(h,i)}Tw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Mo(8,s,s.return),Ed(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Ed(s));break;default:Ed(s)}i=i.sibling}}function xw(i,s){for(;qn!==null;){var l=qn;switch(l.tag){case 0:case 11:case 15:Mo(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:lh(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,qn=h;else e:for(l=i;qn!==null;){h=qn;var g=h.sibling,y=h.return;if(pw(h),h===l){qn=null;break e}if(g!==null){g.return=y,qn=g;break e}qn=y}}}var j2={getCacheForType:function(i){var s=Zn(Cn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Zn(Cn).controller.signal}},V2=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Zt=null,ct=null,mt=0,jt=0,ur=null,ko=!1,nc=!1,n_=!1,ka=0,gn=0,Do=0,Yl=0,i_=0,cr=0,ic=0,Ah=null,Bi=null,r_=!1,Td=0,Aw=0,Sd=1/0,xd=null,jo=null,kn=0,Vo=null,rc=null,Da=0,s_=0,a_=null,Cw=null,Ch=0,o_=null;function hr(){return(Pt&2)!==0&&mt!==0?mt&-mt:ne.T!==null?d_():_l()}function Rw(){if(cr===0)if((mt&536870912)===0||ut){var i=Ls;Ls<<=1,(Ls&3932160)===0&&(Ls=262144),cr=i}else cr=536870912;return i=or.current,i!==null&&(i.flags|=32),cr}function Ui(i,s,l){(i===Zt&&(jt===2||jt===9)||i.cancelPendingCommit!==null)&&(sc(i,0),zo(i,mt,cr,!1)),es(i,l),((Pt&2)===0||i!==Zt)&&(i===Zt&&((Pt&2)===0&&(Yl|=l),gn===4&&zo(i,mt,cr,!1)),$s(i))}function Iw(i,s,l){if((Pt&6)!==0)throw Error(r(327));var h=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Yi(i,s),g=h?U2(i,s):u_(i,s,!0),y=h;do{if(g===0){nc&&!h&&zo(i,s,0,!1);break}else{if(l=i.current.alternate,y&&!z2(l)){g=u_(i,s,!1),y=!1;continue}if(g===2){if(y=s,i.errorRecoveryDisabledLanes&y)var x=0;else x=i.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var N=i;g=Ah;var G=N.current.memoizedState.isDehydrated;if(G&&(sc(N,x).flags|=256),x=u_(N,x,!1),x!==2){if(n_&&!G){N.errorRecoveryDisabledLanes|=y,Yl|=y,g=4;break e}y=Bi,Bi=g,y!==null&&(Bi===null?Bi=y:Bi.push.apply(Bi,y))}g=x}if(y=!1,g!==2)continue}}if(g===1){sc(i,0),zo(i,s,0,!0);break}e:{switch(h=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:zo(h,s,cr,!ko);break e;case 2:Bi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Td+300-Sn(),10<g)){if(zo(h,s,cr,!ko),wr(h,0,!0)!==0)break e;Da=s,h.timeoutHandle=aE(Ow.bind(null,h,l,Bi,xd,r_,s,cr,Yl,ic,ko,y,"Throttled",-0,0),g);break e}Ow(h,l,Bi,xd,r_,s,cr,Yl,ic,ko,y,null,-0,0)}}break}while(!0);$s(i)}function Ow(i,s,l,h,g,y,x,N,G,te,de,_e,re,ce){if(i.timeoutHandle=-1,_e=s.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Ew(s,y,_e);var De=(y&62914560)===y?Td-Sn():(y&4194048)===y?Aw-Sn():0;if(De=TI(_e,De),De!==null){Da=y,i.cancelPendingCommit=De(Vw.bind(null,i,s,y,l,h,g,x,N,G,de,_e,null,re,ce)),zo(i,y,x,!te);return}}Vw(i,s,y,l,h,g,x,N,G)}function z2(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!Fn(y(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zo(i,s,l,h){s&=~i_,s&=~Yl,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var g=s;0<g;){var y=31-rn(g),x=1<<y;h[y]=-1,g&=~x}l!==0&&ma(i,l,s)}function Ad(){return(Pt&6)===0?(Rh(0),!1):!0}function l_(){if(ct!==null){if(jt===0)var i=ct.return;else i=ct,fs=Ks=null,Sg(i),Yu=null,ch=0,i=ct;for(;i!==null;)ow(i.alternate,i),i=i.return;ct=null}}function sc(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,sI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Da=0,l_(),Zt=i,ct=l=kr(i.current,null),mt=s,jt=0,ur=null,ko=!1,nc=Yi(i,s),n_=!1,ic=cr=i_=Yl=Do=gn=0,Bi=Ah=null,r_=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var g=31-rn(h),y=1<<g;s|=i[g],h&=~y}return ka=s,Dl(),l}function Nw(i,s){et=null,ne.H=yh,s===Ku||s===td?(s=W0(),jt=3):s===fg?(s=W0(),jt=4):jt=s===Bg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ur=s,ct===null&&(gn=1,pd(i,c(s,i.current)))}function Pw(){var i=or.current;return i===null?!0:(mt&4194048)===mt?Dr===null:(mt&62914560)===mt||(mt&536870912)!==0?i===Dr:!1}function Lw(){var i=ne.H;return ne.H=yh,i===null?yh:i}function Mw(){var i=ne.A;return ne.A=j2,i}function Cd(){gn=4,ko||(mt&4194048)!==mt&&or.current!==null||(nc=!0),(Do&134217727)===0&&(Yl&134217727)===0||Zt===null||zo(Zt,mt,cr,!1)}function u_(i,s,l){var h=Pt;Pt|=2;var g=Lw(),y=Mw();(Zt!==i||mt!==s)&&(xd=null,sc(i,s)),s=!1;var x=gn;e:do try{if(jt!==0&&ct!==null){var N=ct,G=ur;switch(jt){case 8:l_(),x=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(s=!0);var te=jt;if(jt=0,ur=null,ac(i,N,G,te),l&&nc){x=0;break e}break;default:te=jt,jt=0,ur=null,ac(i,N,G,te)}}B2(),x=gn;break}catch(de){Nw(i,de)}while(!0);return s&&i.shellSuspendCounter++,fs=Ks=null,Pt=h,ne.H=g,ne.A=y,ct===null&&(Zt=null,mt=0,Dl()),x}function B2(){for(;ct!==null;)kw(ct)}function U2(i,s){var l=Pt;Pt|=2;var h=Lw(),g=Mw();Zt!==i||mt!==s?(xd=null,Sd=Sn()+500,sc(i,s)):nc=Yi(i,s);e:do try{if(jt!==0&&ct!==null){s=ct;var y=ur;t:switch(jt){case 1:jt=0,ur=null,ac(i,s,y,1);break;case 2:case 9:if(G0(y)){jt=0,ur=null,Dw(s);break}s=function(){jt!==2&&jt!==9||Zt!==i||(jt=7),$s(i)},y.then(s,s);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:G0(y)?(jt=0,ur=null,Dw(s)):(jt=0,ur=null,ac(i,s,y,7));break;case 5:var x=null;switch(ct.tag){case 26:x=ct.memoizedState;case 5:case 27:var N=ct;if(x?wE(x):N.stateNode.complete){jt=0,ur=null;var G=N.sibling;if(G!==null)ct=G;else{var te=N.return;te!==null?(ct=te,Rd(te)):ct=null}break t}}jt=0,ur=null,ac(i,s,y,5);break;case 6:jt=0,ur=null,ac(i,s,y,6);break;case 8:l_(),gn=6;break e;default:throw Error(r(462))}}F2();break}catch(de){Nw(i,de)}while(!0);return fs=Ks=null,ne.H=h,ne.A=g,Pt=l,ct!==null?0:(Zt=null,mt=0,Dl(),gn)}function F2(){for(;ct!==null&&!so();)kw(ct)}function kw(i){var s=sw(i.alternate,i,ka);i.memoizedProps=i.pendingProps,s===null?Rd(i):ct=s}function Dw(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Jb(l,s,s.pendingProps,s.type,void 0,mt);break;case 11:s=Jb(l,s,s.pendingProps,s.type.render,s.ref,mt);break;case 5:Sg(s);default:ow(l,s),s=ct=ih(s,ka),s=sw(l,s,ka)}i.memoizedProps=i.pendingProps,s===null?Rd(i):ct=s}function ac(i,s,l,h){fs=Ks=null,Sg(s),Yu=null,ch=0;var g=s.return;try{if(O2(i,g,s,l,mt)){gn=1,pd(i,c(l,i.current)),ct=null;return}}catch(y){if(g!==null)throw ct=g,y;gn=1,pd(i,c(l,i.current)),ct=null;return}s.flags&32768?(ut||h===1?i=!0:nc||(mt&536870912)!==0?i=!1:(ko=i=!0,(h===2||h===9||h===3||h===6)&&(h=or.current,h!==null&&h.tag===13&&(h.flags|=16384))),jw(s,i)):Rd(s)}function Rd(i){var s=i;do{if((s.flags&32768)!==0){jw(s,ko);return}i=s.return;var l=L2(s.alternate,s,ka);if(l!==null){ct=l;return}if(s=s.sibling,s!==null){ct=s;return}ct=s=i}while(s!==null);gn===0&&(gn=5)}function jw(i,s){do{var l=M2(i.alternate,i);if(l!==null){l.flags&=32767,ct=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){ct=i;return}ct=i=l}while(i!==null);gn=6,ct=null}function Vw(i,s,l,h,g,y,x,N,G){i.cancelPendingCommit=null;do Id();while(kn!==0);if((Pt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Uu,th(i,l,y,x,N,G),i===Zt&&(ct=Zt=null,mt=0),rc=s,Vo=i,Da=l,s_=y,a_=g,Cw=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Z2(Wi,function(){return Hw(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=ne.T,ne.T=null,g=Ae.p,Ae.p=2,x=Pt,Pt|=4;try{k2(i,s,l)}finally{Pt=x,Ae.p=g,ne.T=h}}kn=1,zw(),Bw(),Uw()}}function zw(){if(kn===1){kn=0;var i=Vo,s=rc,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=ne.T,ne.T=null;var h=Ae.p;Ae.p=2;var g=Pt;Pt|=4;try{vw(s,i);var y=w_,x=Nl(i.containerInfo),N=y.focusedElem,G=y.selectionRange;if(x!==N&&N&&N.ownerDocument&&ju(N.ownerDocument.documentElement,N)){if(G!==null&&Us(N)){var te=G.start,de=G.end;if(de===void 0&&(de=te),"selectionStart"in N)N.selectionStart=te,N.selectionEnd=Math.min(de,N.value.length);else{var _e=N.ownerDocument||document,re=_e&&_e.defaultView||window;if(re.getSelection){var ce=re.getSelection(),De=N.textContent.length,He=Math.min(G.start,De),Ht=G.end===void 0?He:Math.min(G.end,De);!ce.extend&&He>Ht&&(x=Ht,Ht=He,He=x);var Q=Ol(N,He),Y=Ol(N,Ht);if(Q&&Y&&(ce.rangeCount!==1||ce.anchorNode!==Q.node||ce.anchorOffset!==Q.offset||ce.focusNode!==Y.node||ce.focusOffset!==Y.offset)){var ee=_e.createRange();ee.setStart(Q.node,Q.offset),ce.removeAllRanges(),He>Ht?(ce.addRange(ee),ce.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),ce.addRange(ee))}}}}for(_e=[],ce=N;ce=ce.parentNode;)ce.nodeType===1&&_e.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<_e.length;N++){var me=_e[N];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Ud=!!b_,w_=b_=null}finally{Pt=g,Ae.p=h,ne.T=l}}i.current=s,kn=2}}function Bw(){if(kn===2){kn=0;var i=Vo,s=rc,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=ne.T,ne.T=null;var h=Ae.p;Ae.p=2;var g=Pt;Pt|=4;try{mw(i,s.alternate,s)}finally{Pt=g,Ae.p=h,ne.T=l}}kn=3}}function Uw(){if(kn===4||kn===3){kn=0,da();var i=Vo,s=rc,l=Da,h=Cw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kn=5:(kn=0,rc=Vo=null,Fw(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(jo=null),Me(l),s=s.stateNode,yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(ei,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=ne.T,g=Ae.p,Ae.p=2,ne.T=null;try{for(var y=i.onRecoverableError,x=0;x<h.length;x++){var N=h[x];y(N.value,{componentStack:N.stack})}}finally{ne.T=s,Ae.p=g}}(Da&3)!==0&&Id(),$s(i),g=i.pendingLanes,(l&261930)!==0&&(g&42)!==0?i===o_?Ch++:(Ch=0,o_=i):Ch=0,Rh(0)}}function Fw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,lh(s)))}function Id(){return zw(),Bw(),Uw(),Hw()}function Hw(){if(kn!==5)return!1;var i=Vo,s=s_;s_=0;var l=Me(Da),h=ne.T,g=Ae.p;try{Ae.p=32>l?32:l,ne.T=null,l=a_,a_=null;var y=Vo,x=Da;if(kn=0,rc=Vo=null,Da=0,(Pt&6)!==0)throw Error(r(331));var N=Pt;if(Pt|=4,Sw(y.current),ww(y,y.current,x,l),Pt=N,Rh(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(ei,y)}catch{}return!0}finally{Ae.p=g,ne.T=h,Fw(i,s)}}function qw(i,s,l){s=c(l,s),s=zg(i.stateNode,s,2),i=No(i,s,2),i!==null&&(es(i,2),$s(i))}function Vt(i,s,l){if(i.tag===3)qw(i,i,l);else for(;s!==null;){if(s.tag===3){qw(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(jo===null||!jo.has(h))){i=c(l,i),l=Gb(2),h=No(s,l,2),h!==null&&(Zb(l,h,s,i),es(h,2),$s(h));break}}s=s.return}}function c_(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new V2;var g=new Set;h.set(s,g)}else g=h.get(s),g===void 0&&(g=new Set,h.set(s,g));g.has(l)||(n_=!0,g.add(l),i=H2.bind(null,i,s,l),s.then(i,i))}function H2(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Zt===i&&(mt&l)===l&&(gn===4||gn===3&&(mt&62914560)===mt&&300>Sn()-Td?(Pt&2)===0&&sc(i,0):i_|=l,ic===mt&&(ic=0)),$s(i)}function Gw(i,s){s===0&&(s=Ru()),i=Mr(i,s),i!==null&&(es(i,s),$s(i))}function q2(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Gw(i,l)}function G2(i,s){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Gw(i,l)}function Z2(i,s){return St(i,s)}var Od=null,oc=null,h_=!1,Nd=!1,f_=!1,Bo=0;function $s(i){i!==oc&&i.next===null&&(oc===null?Od=oc=i:oc=oc.next=i),Nd=!0,h_||(h_=!0,K2())}function Rh(i,s){if(!f_&&Nd){f_=!0;do for(var l=!1,h=Od;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var x=h.suspendedLanes,N=h.pingedLanes;y=(1<<31-rn(42|i)+1)-1,y&=g&~(x&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Yw(h,y))}else y=mt,y=wr(h,h===Zt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Yi(h,y)||(l=!0,Yw(h,y));h=h.next}while(l);f_=!1}}function W2(){Zw()}function Zw(){Nd=h_=!1;var i=0;Bo!==0&&rI()&&(i=Bo);for(var s=Sn(),l=null,h=Od;h!==null;){var g=h.next,y=Ww(h,s);y===0?(h.next=null,l===null?Od=g:l.next=g,g===null&&(oc=l)):(l=h,(i!==0||(y&3)!==0)&&(Nd=!0)),h=g}kn!==0&&kn!==5||Rh(i),Bo!==0&&(Bo=0)}function Ww(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var x=31-rn(y),N=1<<x,G=g[x];G===-1?((N&l)===0||(N&h)!==0)&&(g[x]=eh(N,s)):G<=s&&(i.expiredLanes|=N),y&=~N}if(s=Zt,l=mt,l=wr(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(jt===2||jt===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Si(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Yi(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&Si(h),Me(l)){case 2:case 8:l=Os;break;case 32:l=Wi;break;case 268435456:l=Ns;break;default:l=Wi}return h=Kw.bind(null,i),l=St(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&Si(h),i.callbackPriority=2,i.callbackNode=null,2}function Kw(i,s){if(kn!==0&&kn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Id()&&i.callbackNode!==l)return null;var h=mt;return h=wr(i,i===Zt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Iw(i,h,s),Ww(i,Sn()),i.callbackNode!=null&&i.callbackNode===l?Kw.bind(null,i):null)}function Yw(i,s){if(Id())return null;Iw(i,s,!0)}function K2(){aI(function(){(Pt&6)!==0?St(vr,W2):Zw()})}function d_(){if(Bo===0){var i=Zu;i===0&&(i=Ki,Ki<<=1,(Ki&261888)===0&&(Ki=256)),Bo=i}return Bo}function $w(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ds(""+i)}function Qw(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function Y2(i,s,l,h,g){if(s==="submit"&&l&&l.stateNode===g){var y=$w((g[fn]||null).action),x=h.submitter;x&&(s=(s=x[fn]||null)?$w(s.formAction):x.getAttribute("formAction"),s!==null&&(y=s,x=null));var N=new Or("action","action",null,h,g);i.push({event:N,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Bo!==0){var G=x?Qw(g,x):new FormData(g);Lg(l,{pending:!0,data:G,method:g.method,action:y},null,G)}}else typeof y=="function"&&(N.preventDefault(),G=x?Qw(g,x):new FormData(g),Lg(l,{pending:!0,data:G,method:g.method,action:y},y,G))},currentTarget:g}]})}}for(var m_=0;m_<qs.length;m_++){var p_=qs[m_],$2=p_.toLowerCase(),Q2=p_[0].toUpperCase()+p_.slice(1);Mi($2,"on"+Q2)}Mi(Ll,"onAnimationEnd"),Mi(Yf,"onAnimationIteration"),Mi(Ml,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(rg,"onTransitionRun"),Mi($f,"onTransitionStart"),Mi(sg,"onTransitionCancel"),Mi(Ao,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ih));function Xw(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],g=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var x=h.length-1;0<=x;x--){var N=h[x],G=N.instance,te=N.currentTarget;if(N=N.listener,G!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=te;try{y(g)}catch(de){kl(de)}g.currentTarget=null,y=G}else for(x=0;x<h.length;x++){if(N=h[x],G=N.instance,te=N.currentTarget,N=N.listener,G!==y&&g.isPropagationStopped())break e;y=N,g.currentTarget=te;try{y(g)}catch(de){kl(de)}g.currentTarget=null,y=G}}}}function ht(i,s){var l=s[Qi];l===void 0&&(l=s[Qi]=new Set);var h=i+"__bubble";l.has(h)||(Jw(s,i,2,!1),l.add(h))}function g_(i,s,l){var h=0;s&&(h|=4),Jw(l,i,h,s)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function __(i){if(!i[Pd]){i[Pd]=!0,yl.forEach(function(l){l!=="selectionchange"&&(X2.has(l)||g_(l,!1,i),g_(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Pd]||(s[Pd]=!0,g_("selectionchange",!1,s))}}function Jw(i,s,l,h){switch(RE(s)){case 2:var g=AI;break;case 8:g=CI;break;default:g=P_}l=g.bind(null,s,l,i),g=void 0,!rs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(s,l,{capture:!0,passive:g}):i.addEventListener(s,l,!0):g!==void 0?i.addEventListener(s,l,{passive:g}):i.addEventListener(s,l,!1)}function y_(i,s,l,h,g){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var N=h.stateNode.containerInfo;if(N===g)break;if(x===4)for(x=h.return;x!==null;){var G=x.tag;if((G===3||G===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;N!==null;){if(x=Xi(N),x===null)return;if(G=x.tag,G===5||G===6||G===26||G===27){h=y=x;continue e}N=N.parentNode}}h=h.return}is(function(){var te=y,de=ni(l),_e=[];e:{var re=Qf.get(i);if(re!==void 0){var ce=Or,De=i;switch(i){case"keypress":if(Vs(l)===0)break e;case"keydown":case"keyup":ce=xl;break;case"focusin":De="focus",ce=ba;break;case"focusout":De="blur",ce=ba;break;case"beforeblur":case"afterblur":ce=ba;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=T;break;case Ll:case Yf:case Ml:ce=go;break;case Ao:ce=P;break;case"scroll":case"scrollend":ce=at;break;case"wheel":ce=se;break;case"copy":case"cut":case"paste":ce=_i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=ls;break;case"toggle":case"beforetoggle":ce=Ze}var He=(s&4)!==0,Ht=!He&&(i==="scroll"||i==="scrollend"),Q=He?re!==null?re+"Capture":null:re;He=[];for(var Y=te,ee;Y!==null;){var me=Y;if(ee=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ee===null||Q===null||(me=gi(Y,Q),me!=null&&He.push(Oh(Y,me,ee))),Ht)break;Y=Y.return}0<He.length&&(re=new ce(re,De,null,l,de),_e.push({event:re,listeners:He}))}}if((s&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",re&&l!==po&&(De=l.relatedTarget||l.fromElement)&&(Xi(De)||De[$i]))break e;if((ce||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,ce?(De=l.relatedTarget||l.toElement,ce=te,De=De?Xi(De):null,De!==null&&(Ht=u(De),He=De.tag,De!==Ht||He!==5&&He!==27&&He!==6)&&(De=null)):(ce=null,De=te),ce!==De)){if(He=bl,me="onMouseLeave",Q="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(He=ls,me="onPointerLeave",Q="onPointerEnter",Y="pointer"),Ht=ce==null?re:Vn(ce),ee=De==null?re:Vn(De),re=new He(me,Y+"leave",ce,l,de),re.target=Ht,re.relatedTarget=ee,me=null,Xi(de)===te&&(He=new He(Q,Y+"enter",De,l,de),He.target=ee,He.relatedTarget=Ht,me=He),Ht=me,ce&&De)t:{for(He=J2,Q=ce,Y=De,ee=0,me=Q;me;me=He(me))ee++;me=0;for(var ze=Y;ze;ze=He(ze))me++;for(;0<ee-me;)Q=He(Q),ee--;for(;0<me-ee;)Y=He(Y),me--;for(;ee--;){if(Q===Y||Y!==null&&Q===Y.alternate){He=Q;break t}Q=He(Q),Y=He(Y)}He=null}else He=null;ce!==null&&eE(_e,re,ce,He,!1),De!==null&&Ht!==null&&eE(_e,Ht,De,He,!0)}}e:{if(re=te?Vn(te):window,ce=re.nodeName&&re.nodeName.toLowerCase(),ce==="select"||ce==="input"&&re.type==="file")var It=Il;else if(Nr(re))if(qf)It=ig;else{It=ng;var je=us}else ce=re.nodeName,!ce||ce.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&ks(te.elementType)&&(It=Il):It=Eo;if(It&&(It=It(i,te))){Hf(_e,It,l,de);break e}je&&je(i,re,te),i==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&Ji(re,"number",re.value)}switch(je=te?Vn(te):window,i){case"focusin":(Nr(je)||je.contentEditable==="true")&&(Fs=je,zu=te,Pl=null);break;case"focusout":Pl=zu=Fs=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,Wf(_e,l,de);break;case"selectionchange":if(Vu)break;case"keydown":case"keyup":Wf(_e,l,de)}var rt;if(Et)e:{switch(i){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else vo?wa(i,l)&&(pt="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(pt="onCompositionStart");pt&&(Li&&l.locale!=="ko"&&(vo||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&vo&&(rt=er()):(Ni=de,ss="value"in Ni?Ni.value:Ni.textContent,vo=!0)),je=Ld(te,pt),0<je.length&&(pt=new ir(pt,i,null,l,de),_e.push({event:pt,listeners:je}),rt?pt.data=rt:(rt=Ea(l),rt!==null&&(pt.data=rt)))),(rt=Pi?ar(i,l):bo(i,l))&&(pt=Ld(te,"onBeforeInput"),0<pt.length&&(je=new ir("onBeforeInput","beforeinput",null,l,de),_e.push({event:je,listeners:pt}),je.data=rt)),Y2(_e,i,te,l,de)}Xw(_e,s)})}function Oh(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ld(i,s){for(var l=s+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=gi(i,l),g!=null&&h.unshift(Oh(i,g,y)),g=gi(i,s),g!=null&&h.push(Oh(i,g,y))),i.tag===3)return h;i=i.return}return[]}function J2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function eE(i,s,l,h,g){for(var y=s._reactName,x=[];l!==null&&l!==h;){var N=l,G=N.alternate,te=N.stateNode;if(N=N.tag,G!==null&&G===h)break;N!==5&&N!==26&&N!==27||te===null||(G=te,g?(te=gi(l,y),te!=null&&x.unshift(Oh(l,te,G))):g||(te=gi(l,y),te!=null&&x.push(Oh(l,te,G)))),l=l.return}x.length!==0&&i.push({event:s,listeners:x})}var eI=/\r\n?/g,tI=/\u0000|\uFFFD/g;function tE(i){return(typeof i=="string"?i:""+i).replace(eI,`
`).replace(tI,"")}function nE(i,s){return s=tE(s),tE(i)===s}function Ft(i,s,l,h,g,y){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||xn(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&xn(i,""+h);break;case"className":lt(i,"class",h);break;case"tabIndex":lt(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(i,l,h);break;case"style":_a(i,h,y);break;case"data":if(s!=="object"){lt(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ds(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Ft(i,s,"name",g.name,g,null),Ft(i,s,"formEncType",g.formEncType,g,null),Ft(i,s,"formMethod",g.formMethod,g,null),Ft(i,s,"formTarget",g.formTarget,g,null)):(Ft(i,s,"encType",g.encType,g,null),Ft(i,s,"method",g.method,g,null),Ft(i,s,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ds(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=ti);break;case"onScroll":h!=null&&ht("scroll",i);break;case"onScrollEnd":h!=null&&ht("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Ds(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":ht("beforetoggle",i),ht("toggle",i),ot(i,"popover",h);break;case"xlinkActuate":Yt(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Yt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Yt(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Yt(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Yt(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Yt(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Yt(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ot(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ya.get(l)||l,ot(i,l,h))}}function v_(i,s,l,h,g,y){switch(l){case"style":_a(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?xn(i,h):(typeof h=="number"||typeof h=="bigint")&&xn(i,""+h);break;case"onScroll":h!=null&&ht("scroll",i);break;case"onScrollEnd":h!=null&&ht("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),y=i[fn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,g);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):ot(i,l,h)}}}function Kn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",i),ht("load",i);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var x=l[y];if(x!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ft(i,s,y,x,l,null)}}g&&Ft(i,s,"srcSet",l.srcSet,l,null),h&&Ft(i,s,"src",l.src,l,null);return;case"input":ht("invalid",i);var N=y=x=g=null,G=null,te=null;for(h in l)if(l.hasOwnProperty(h)){var de=l[h];if(de!=null)switch(h){case"name":g=de;break;case"type":x=de;break;case"checked":G=de;break;case"defaultChecked":te=de;break;case"value":y=de;break;case"defaultValue":N=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,s));break;default:Ft(i,s,h,de,l,null)}}ga(i,y,N,G,te,x,g,!1);return;case"select":ht("invalid",i),h=x=y=null;for(g in l)if(l.hasOwnProperty(g)&&(N=l[g],N!=null))switch(g){case"value":y=N;break;case"defaultValue":x=N;break;case"multiple":h=N;default:Ft(i,s,g,N,l,null)}s=y,l=x,i.multiple=!!h,s!=null?Dt(i,!!h,s,!1):l!=null&&Dt(i,!!h,l,!0);return;case"textarea":ht("invalid",i),y=g=h=null;for(x in l)if(l.hasOwnProperty(x)&&(N=l[x],N!=null))switch(x){case"value":h=N;break;case"defaultValue":g=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:Ft(i,s,x,N,l,null)}Oi(i,h,g,y);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(h=l[G],h!=null))switch(G){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ft(i,s,G,h,l,null)}return;case"dialog":ht("beforetoggle",i),ht("toggle",i),ht("cancel",i),ht("close",i);break;case"iframe":case"object":ht("load",i);break;case"video":case"audio":for(h=0;h<Ih.length;h++)ht(Ih[h],i);break;case"image":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"embed":case"source":case"link":ht("error",i),ht("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(h=l[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ft(i,s,te,h,l,null)}return;default:if(ks(s)){for(de in l)l.hasOwnProperty(de)&&(h=l[de],h!==void 0&&v_(i,s,de,h,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(h=l[N],h!=null&&Ft(i,s,N,h,l,null))}function nI(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,x=null,N=null,G=null,te=null,de=null;for(ce in l){var _e=l[ce];if(l.hasOwnProperty(ce)&&_e!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":G=_e;default:h.hasOwnProperty(ce)||Ft(i,s,ce,null,h,_e)}}for(var re in h){var ce=h[re];if(_e=l[re],h.hasOwnProperty(re)&&(ce!=null||_e!=null))switch(re){case"type":y=ce;break;case"name":g=ce;break;case"checked":te=ce;break;case"defaultChecked":de=ce;break;case"value":x=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:ce!==_e&&Ft(i,s,re,ce,h,_e)}}fo(i,x,N,G,te,de,y,g);return;case"select":ce=x=N=re=null;for(y in l)if(G=l[y],l.hasOwnProperty(y)&&G!=null)switch(y){case"value":break;case"multiple":ce=G;default:h.hasOwnProperty(y)||Ft(i,s,y,null,h,G)}for(g in h)if(y=h[g],G=l[g],h.hasOwnProperty(g)&&(y!=null||G!=null))switch(g){case"value":re=y;break;case"defaultValue":N=y;break;case"multiple":x=y;default:y!==G&&Ft(i,s,g,y,h,G)}s=N,l=x,h=ce,re!=null?Dt(i,!!l,re,!1):!!h!=!!l&&(s!=null?Dt(i,!!l,s,!0):Dt(i,!!l,l?[]:"",!1));return;case"textarea":ce=re=null;for(N in l)if(g=l[N],l.hasOwnProperty(N)&&g!=null&&!h.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ft(i,s,N,null,h,g)}for(x in h)if(g=h[x],y=l[x],h.hasOwnProperty(x)&&(g!=null||y!=null))switch(x){case"value":re=g;break;case"defaultValue":ce=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Ft(i,s,x,g,h,y)}Cr(i,re,ce);return;case"option":for(var De in l)if(re=l[De],l.hasOwnProperty(De)&&re!=null&&!h.hasOwnProperty(De))switch(De){case"selected":i.selected=!1;break;default:Ft(i,s,De,null,h,re)}for(G in h)if(re=h[G],ce=l[G],h.hasOwnProperty(G)&&re!==ce&&(re!=null||ce!=null))switch(G){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Ft(i,s,G,re,h,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in l)re=l[He],l.hasOwnProperty(He)&&re!=null&&!h.hasOwnProperty(He)&&Ft(i,s,He,null,h,re);for(te in h)if(re=h[te],ce=l[te],h.hasOwnProperty(te)&&re!==ce&&(re!=null||ce!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,s));break;default:Ft(i,s,te,re,h,ce)}return;default:if(ks(s)){for(var Ht in l)re=l[Ht],l.hasOwnProperty(Ht)&&re!==void 0&&!h.hasOwnProperty(Ht)&&v_(i,s,Ht,void 0,h,re);for(de in h)re=h[de],ce=l[de],!h.hasOwnProperty(de)||re===ce||re===void 0&&ce===void 0||v_(i,s,de,re,h,ce);return}}for(var Q in l)re=l[Q],l.hasOwnProperty(Q)&&re!=null&&!h.hasOwnProperty(Q)&&Ft(i,s,Q,null,h,re);for(_e in h)re=h[_e],ce=l[_e],!h.hasOwnProperty(_e)||re===ce||re==null&&ce==null||Ft(i,s,_e,re,h,ce)}function iE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],y=g.transferSize,x=g.initiatorType,N=g.duration;if(y&&N&&iE(x)){for(x=0,N=g.responseEnd,h+=1;h<l.length;h++){var G=l[h],te=G.startTime;if(te>N)break;var de=G.transferSize,_e=G.initiatorType;de&&iE(_e)&&(G=G.responseEnd,x+=de*(G<N?1:(N-te)/(G-te)))}if(--h,s+=8*(y+x)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var b_=null,w_=null;function Md(i){return i.nodeType===9?i:i.ownerDocument}function rE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function E_(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var T_=null;function rI(){var i=window.event;return i&&i.type==="popstate"?i===T_?!1:(T_=i,!0):(T_=null,!1)}var aE=typeof setTimeout=="function"?setTimeout:void 0,sI=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,aI=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(i){return oE.resolve(null).then(i).catch(oI)}:aE;function oI(i){setTimeout(function(){throw i})}function Uo(i){return i==="head"}function lE(i,s){var l=s,h=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(g),hc(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Nh(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Nh(l);for(var y=l.firstChild;y;){var x=y.nextSibling,N=y.nodeName;y[Tr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=x}}else l==="body"&&Nh(i.ownerDocument.body);l=g}while(l);hc(s)}function uE(i,s){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function S_(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":S_(l),uo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function lI(i,s,l,h){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Tr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=jr(i.nextSibling),i===null)break}return null}function uI(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=jr(i.nextSibling),i===null))return null;return i}function cE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=jr(i.nextSibling),i===null))return null;return i}function x_(i){return i.data==="$?"||i.data==="$~"}function A_(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function cI(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function jr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var C_=null;function hE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return jr(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function fE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function dE(i,s,l){switch(s=Md(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Nh(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);uo(i)}var Vr=new Map,mE=new Set;function kd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ja=Ae.d;Ae.d={f:hI,r:fI,D:dI,C:mI,L:pI,m:gI,X:yI,S:_I,M:vI};function hI(){var i=ja.f(),s=Ad();return i||s}function fI(i){var s=Ci(i);s!==null&&s.tag===5&&s.type==="form"?Nb(s):ja.r(i)}var lc=typeof document>"u"?null:document;function pE(i,s,l){var h=lc;if(h&&typeof s=="string"&&s){var g=qt(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),mE.has(g)||(mE.add(g),i={rel:i,crossOrigin:l,href:s},h.querySelector(g)===null&&(s=h.createElement("link"),Kn(s,"link",i),dn(s),h.head.appendChild(s)))}}function dI(i){ja.D(i),pE("dns-prefetch",i,null)}function mI(i,s){ja.C(i,s),pE("preconnect",i,s)}function pI(i,s,l){ja.L(i,s,l);var h=lc;if(h&&i&&s){var g='link[rel="preload"][as="'+qt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+qt(l.imageSizes)+'"]')):g+='[href="'+qt(i)+'"]';var y=g;switch(s){case"style":y=uc(i);break;case"script":y=cc(i)}Vr.has(y)||(i=A({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Vr.set(y,i),h.querySelector(g)!==null||s==="style"&&h.querySelector(Ph(y))||s==="script"&&h.querySelector(Lh(y))||(s=h.createElement("link"),Kn(s,"link",i),dn(s),h.head.appendChild(s)))}}function gI(i,s){ja.m(i,s);var l=lc;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+qt(h)+'"][href="'+qt(i)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cc(i)}if(!Vr.has(y)&&(i=A({rel:"modulepreload",href:i},s),Vr.set(y,i),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Lh(y)))return}h=l.createElement("link"),Kn(h,"link",i),dn(h),l.head.appendChild(h)}}}function _I(i,s,l){ja.S(i,s,l);var h=lc;if(h&&i){var g=Sr(h).hoistableStyles,y=uc(i);s=s||"default";var x=g.get(y);if(!x){var N={loading:0,preload:null};if(x=h.querySelector(Ph(y)))N.loading=5;else{i=A({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Vr.get(y))&&R_(i,l);var G=x=h.createElement("link");dn(G),Kn(G,"link",i),G._p=new Promise(function(te,de){G.onload=te,G.onerror=de}),G.addEventListener("load",function(){N.loading|=1}),G.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Dd(x,s,h)}x={type:"stylesheet",instance:x,count:1,state:N},g.set(y,x)}}}function yI(i,s){ja.X(i,s);var l=lc;if(l&&i){var h=Sr(l).hoistableScripts,g=cc(i),y=h.get(g);y||(y=l.querySelector(Lh(g)),y||(i=A({src:i,async:!0},s),(s=Vr.get(g))&&I_(i,s),y=l.createElement("script"),dn(y),Kn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function vI(i,s){ja.M(i,s);var l=lc;if(l&&i){var h=Sr(l).hoistableScripts,g=cc(i),y=h.get(g);y||(y=l.querySelector(Lh(g)),y||(i=A({src:i,async:!0,type:"module"},s),(s=Vr.get(g))&&I_(i,s),y=l.createElement("script"),dn(y),Kn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function gE(i,s,l,h){var g=(g=ve.current)?kd(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=uc(l.href),l=Sr(g).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=uc(l.href);var y=Sr(g).hoistableStyles,x=y.get(i);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,x),(y=g.querySelector(Ph(i)))&&!y._p&&(x.instance=y,x.state.loading=5),Vr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Vr.set(i,l),y||bI(g,i,l,x.state))),s&&h===null)throw Error(r(528,""));return x}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=cc(l),l=Sr(g).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function uc(i){return'href="'+qt(i)+'"'}function Ph(i){return'link[rel="stylesheet"]['+i+"]"}function _E(i){return A({},i,{"data-precedence":i.precedence,precedence:null})}function bI(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Kn(s,"link",l),dn(s),i.head.appendChild(s))}function cc(i){return'[src="'+qt(i)+'"]'}function Lh(i){return"script[async]"+i}function yE(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+qt(l.href)+'"]');if(h)return s.instance=h,dn(h),h;var g=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),dn(h),Kn(h,"style",g),Dd(h,l.precedence,i),s.instance=h;case"stylesheet":g=uc(l.href);var y=i.querySelector(Ph(g));if(y)return s.state.loading|=4,s.instance=y,dn(y),y;h=_E(l),(g=Vr.get(g))&&R_(h,g),y=(i.ownerDocument||i).createElement("link"),dn(y);var x=y;return x._p=new Promise(function(N,G){x.onload=N,x.onerror=G}),Kn(y,"link",h),s.state.loading|=4,Dd(y,l.precedence,i),s.instance=y;case"script":return y=cc(l.src),(g=i.querySelector(Lh(y)))?(s.instance=g,dn(g),g):(h=l,(g=Vr.get(y))&&(h=A({},l),I_(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),dn(g),Kn(g,"link",h),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,Dd(h,l.precedence,i));return s.instance}function Dd(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,x=0;x<h.length;x++){var N=h[x];if(N.dataset.precedence===s)y=N;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function R_(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function I_(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var jd=null;function vE(i,s,l){if(jd===null){var h=new Map,g=jd=new Map;g.set(l,h)}else g=jd,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var y=l[g];if(!(y[Tr]||y[an]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var x=y.getAttribute(s)||"";x=i+x;var N=h.get(x);N?N.push(y):h.set(x,[y])}}return h}function bE(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function wI(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function wE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function EI(i,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=uc(h.href),y=s.querySelector(Ph(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Vd.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=y,dn(y);return}y=s.ownerDocument||s,h=_E(h),(g=Vr.get(g))&&R_(h,g),y=y.createElement("link"),dn(y);var x=y;x._p=new Promise(function(N,G){x.onload=N,x.onerror=G}),Kn(y,"link",h),l.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Vd.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var O_=0;function TI(i,s){return i.stylesheets&&i.count===0&&Bd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&O_===0&&(O_=62500*iI());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>O_?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zd=null;function Bd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zd=new Map,s.forEach(SI,i),zd=null,Vd.call(i))}function SI(i,s){if(!(s.state.loading&4)){var l=zd.get(i);if(l)var h=l.get(null);else{l=new Map,zd.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var x=g[y];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),h=x)}h&&l.set(null,h)}g=s.instance,x=g.getAttribute("data-precedence"),y=l.get(x)||h,y===h&&l.set(null,g),l.set(x,g),this.count++,h=Vd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var Mh={$$typeof:ae,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function xI(i,s,l,h,g,y,x,N,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.hiddenUpdates=Er(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function EE(i,s,l,h,g,y,x,N,G,te,de,_e){return i=new xI(i,s,l,x,G,te,de,_e,N),s=1,y===!0&&(s|=24),y=ai(3,null,null,s),i.current=y,y.stateNode=i,s=ug(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:s},dg(y),i}function TE(i){return i?(i=Ta,i):Ta}function SE(i,s,l,h,g,y){g=TE(g),h.context===null?h.context=g:h.pendingContext=g,h=Oo(s),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=No(i,h,s),l!==null&&(Ui(l,i,s),fh(l,i,s))}function xE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function N_(i,s){xE(i,s),(i=i.alternate)&&xE(i,s)}function AE(i){if(i.tag===13||i.tag===31){var s=Mr(i,67108864);s!==null&&Ui(s,i,67108864),N_(i,67108864)}}function CE(i){if(i.tag===13||i.tag===31){var s=hr();s=jn(s);var l=Mr(i,s);l!==null&&Ui(l,i,s),N_(i,s)}}var Ud=!0;function AI(i,s,l,h){var g=ne.T;ne.T=null;var y=Ae.p;try{Ae.p=2,P_(i,s,l,h)}finally{Ae.p=y,ne.T=g}}function CI(i,s,l,h){var g=ne.T;ne.T=null;var y=Ae.p;try{Ae.p=8,P_(i,s,l,h)}finally{Ae.p=y,ne.T=g}}function P_(i,s,l,h){if(Ud){var g=L_(h);if(g===null)y_(i,s,h,Fd,l),IE(i,h);else if(II(g,i,s,l,h))h.stopPropagation();else if(IE(i,h),s&4&&-1<RI.indexOf(i)){for(;g!==null;){var y=Ci(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var x=br(y.pendingLanes);if(x!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;x;){var G=1<<31-rn(x);N.entanglements[1]|=G,x&=~G}$s(y),(Pt&6)===0&&(Sd=Sn()+500,Rh(0))}}break;case 31:case 13:N=Mr(y,2),N!==null&&Ui(N,y,2),Ad(),N_(y,2)}if(y=L_(h),y===null&&y_(i,s,h,Fd,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else y_(i,s,h,null,l)}}function L_(i){return i=ni(i),M_(i)}var Fd=null;function M_(i){if(Fd=null,i=Xi(i),i!==null){var s=u(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=f(s),i!==null)return i;i=null}else if(l===31){if(i=p(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Fd=i,null}function RE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case vr:return 2;case Os:return 8;case Wi:case ao:return 32;case Ns:return 268435456;default:return 32}default:return 32}}var k_=!1,Fo=null,Ho=null,qo=null,kh=new Map,Dh=new Map,Go=[],RI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IE(i,s){switch(i){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":qo=null;break;case"pointerover":case"pointerout":kh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(s.pointerId)}}function jh(i,s,l,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},s!==null&&(s=Ci(s),s!==null&&AE(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function II(i,s,l,h,g){switch(s){case"focusin":return Fo=jh(Fo,i,s,l,h,g),!0;case"dragenter":return Ho=jh(Ho,i,s,l,h,g),!0;case"mouseover":return qo=jh(qo,i,s,l,h,g),!0;case"pointerover":var y=g.pointerId;return kh.set(y,jh(kh.get(y)||null,i,s,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Dh.set(y,jh(Dh.get(y)||null,i,s,l,h,g)),!0}return!1}function OE(i){var s=Xi(i.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=f(l),s!==null){i.blockedOn=s,xi(i.priority,function(){CE(l)});return}}else if(s===31){if(s=p(l),s!==null){i.blockedOn=s,xi(i.priority,function(){CE(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=L_(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);po=h,l.target.dispatchEvent(h),po=null}else return s=Ci(l),s!==null&&AE(s),i.blockedOn=l,!1;s.shift()}return!0}function NE(i,s,l){Hd(i)&&l.delete(s)}function OI(){k_=!1,Fo!==null&&Hd(Fo)&&(Fo=null),Ho!==null&&Hd(Ho)&&(Ho=null),qo!==null&&Hd(qo)&&(qo=null),kh.forEach(NE),Dh.forEach(NE)}function qd(i,s){i.blockedOn===s&&(i.blockedOn=null,k_||(k_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,OI)))}var Gd=null;function PE(i){Gd!==i&&(Gd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gd===i&&(Gd=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],g=i[s+2];if(typeof h!="function"){if(M_(h||l)===null)continue;break}var y=Ci(l);y!==null&&(i.splice(s,3),s-=3,Lg(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function hc(i){function s(G){return qd(G,i)}Fo!==null&&qd(Fo,i),Ho!==null&&qd(Ho,i),qo!==null&&qd(qo,i),kh.forEach(s),Dh.forEach(s);for(var l=0;l<Go.length;l++){var h=Go[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Go.length&&(l=Go[0],l.blockedOn===null);)OE(l),l.blockedOn===null&&Go.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],x=g[fn]||null;if(typeof y=="function")x||PE(l);else if(x){var N=null;if(y&&y.hasAttribute("formAction")){if(g=y,x=y[fn]||null)N=x.formAction;else if(M_(g)!==null)continue}else N=x.action;typeof N=="function"?l[h+1]=N:(l.splice(h,3),h-=3),PE(l)}}}function LE(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(x){return g=x})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function D_(i){this._internalRoot=i}Zd.prototype.render=D_.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=hr();SE(l,h,i,s,null,null)},Zd.prototype.unmount=D_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;SE(i.current,2,null,i,null,null),Ad(),s[$i]=null}};function Zd(i){this._internalRoot=i}Zd.prototype.unstable_scheduleHydration=function(i){if(i){var s=_l();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Go.length&&s!==0&&s<Go[l].priority;l++);Go.splice(l,0,i),l===0&&OE(i)}};var ME=e.version;if(ME!=="19.2.1")throw Error(r(527,ME,"19.2.1"));Ae.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=v(s),i=i!==null?E(i):null,i=i===null?null:i.stateNode,i};var NI={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{ei=Wd.inject(NI),yn=Wd}catch{}}return zh.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,h="",g=Ub,y=Fb,x=Hb;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=EE(i,1,!1,null,null,l,h,null,g,y,x,LE),i[$i]=s.current,__(i),new D_(s)},zh.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var h=!1,g="",y=Ub,x=Fb,N=Hb,G=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.formState!==void 0&&(G=l.formState)),s=EE(i,1,!0,s,l??null,h,g,G,y,x,N,LE),s.context=TE(null),l=s.current,h=hr(),h=jn(h),g=Oo(h),g.callback=null,No(l,g,h),l=h,s.current.lanes=l,es(s,l),$s(s),i[$i]=s.current,__(i),new Zd(s)},zh.version="19.2.1",zh}var qE;function FI(){if(qE)return z_.exports;qE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),z_.exports=UI(),z_.exports}var HI=FI();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GE="popstate";function qI(n={}){function e(r,a){let{pathname:u,search:f,hash:p}=r.location;return by("",{pathname:u,search:f,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:af(a)}return ZI(e,t,null,n)}function tn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Kr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GI(){return Math.random().toString(36).substring(2,10)}function ZE(n,e){return{usr:n.state,key:n.key,idx:e}}function by(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vc(e):e,state:t,key:e&&e.key||r||GI()}}function af({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ZI(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:u=!1}=r,f=a.history,p="POP",_=null,v=E();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function E(){return(f.state||{idx:null}).idx}function A(){p="POP";let j=E(),le=j==null?null:j-v;v=j,_&&_({action:p,location:F.location,delta:le})}function I(j,le){p="PUSH";let Ee=by(F.location,j,le);v=E()+1;let ae=ZE(Ee,v),Se=F.createHref(Ee);try{f.pushState(ae,"",Se)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;a.location.assign(Se)}u&&_&&_({action:p,location:F.location,delta:1})}function M(j,le){p="REPLACE";let Ee=by(F.location,j,le);v=E();let ae=ZE(Ee,v),Se=F.createHref(Ee);f.replaceState(ae,"",Se),u&&_&&_({action:p,location:F.location,delta:0})}function V(j){return WI(j)}let F={get action(){return p},get location(){return n(a,f)},listen(j){if(_)throw new Error("A history only accepts one active listener");return a.addEventListener(GE,A),_=j,()=>{a.removeEventListener(GE,A),_=null}},createHref(j){return e(a,j)},createURL:V,encodeLocation(j){let le=V(j);return{pathname:le.pathname,search:le.search,hash:le.hash}},push:I,replace:M,go(j){return f.go(j)}};return F}function WI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:af(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function R1(n,e,t="/"){return KI(n,e,t,!1)}function KI(n,e,t,r){let a=typeof e=="string"?Vc(e):e,u=Ya(a.pathname||"/",t);if(u==null)return null;let f=I1(n);YI(f);let p=null;for(let _=0;p==null&&_<f.length;++_){let v=aO(u);p=rO(f[_],v,r)}return p}function I1(n,e=[],t=[],r="",a=!1){let u=(f,p,_=a,v)=>{let E={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(r)&&_)return;tn(E.relativePath.startsWith(r),`Absolute route path "${E.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(r.length)}let A=Ga([r,E.relativePath]),I=t.concat(E);f.children&&f.children.length>0&&(tn(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),I1(f.children,e,I,A,_)),!(f.path==null&&!f.index)&&e.push({path:A,score:nO(A,f.index),routesMeta:I})};return n.forEach((f,p)=>{var _;if(f.path===""||!((_=f.path)!=null&&_.includes("?")))u(f,p);else for(let v of O1(f.path))u(f,p,!0,v)}),e}function O1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),u=t.replace(/\?$/,"");if(r.length===0)return a?[u,""]:[u];let f=O1(r.join("/")),p=[];return p.push(...f.map(_=>_===""?u:[u,_].join("/"))),a&&p.push(...f),p.map(_=>n.startsWith("/")&&_===""?"/":_)}function YI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iO(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var $I=/^:[\w-]+$/,QI=3,XI=2,JI=1,eO=10,tO=-2,WE=n=>n==="*";function nO(n,e){let t=n.split("/"),r=t.length;return t.some(WE)&&(r+=tO),e&&(r+=XI),t.filter(a=>!WE(a)).reduce((a,u)=>a+($I.test(u)?QI:u===""?JI:eO),r)}function iO(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function rO(n,e,t=!1){let{routesMeta:r}=n,a={},u="/",f=[];for(let p=0;p<r.length;++p){let _=r[p],v=p===r.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=xm({path:_.relativePath,caseSensitive:_.caseSensitive,end:v},E),I=_.route;if(!A&&v&&t&&!r[r.length-1].route.index&&(A=xm({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},E)),!A)return null;Object.assign(a,A.params),f.push({params:a,pathname:Ga([u,A.pathname]),pathnameBase:hO(Ga([u,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(u=Ga([u,A.pathnameBase]))}return f}function xm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=sO(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let u=a[0],f=u.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:r.reduce((v,{paramName:E,isOptional:A},I)=>{if(E==="*"){let V=p[I]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const M=p[I];return A&&!M?v[E]=void 0:v[E]=(M||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:f,pattern:n}}function sO(n,e=!1,t=!0){Kr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,_)=>(r.push({paramName:p,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function aO(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ya(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var oO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lO=n=>oO.test(n);function uO(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Vc(n):n,u;if(t)if(lO(t))u=t;else{if(t.includes("//")){let f=t;t=t.replace(/\/\/+/g,"/"),Kr(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${t}`)}t.startsWith("/")?u=KE(t.substring(1),"/"):u=KE(t,e)}else u=e;return{pathname:u,search:fO(r),hash:dO(a)}}function KE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function H_(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cO(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _v(n){let e=cO(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function yv(n,e,t,r=!1){let a;typeof n=="string"?a=Vc(n):(a={...n},tn(!a.pathname||!a.pathname.includes("?"),H_("?","pathname","search",a)),tn(!a.pathname||!a.pathname.includes("#"),H_("#","pathname","hash",a)),tn(!a.search||!a.search.includes("#"),H_("#","search","hash",a)));let u=n===""||a.pathname==="",f=u?"/":a.pathname,p;if(f==null)p=t;else{let A=e.length-1;if(!r&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),A-=1;a.pathname=I.join("/")}p=A>=0?e[A]:"/"}let _=uO(a,p),v=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&t.endsWith("/");return!_.pathname.endsWith("/")&&(v||E)&&(_.pathname+="/"),_}var Ga=n=>n.join("/").replace(/\/\/+/g,"/"),hO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function mO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function pO(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N1=["POST","PUT","PATCH","DELETE"];new Set(N1);var gO=["GET",...N1];new Set(gO);var zc=K.createContext(null);zc.displayName="DataRouter";var lp=K.createContext(null);lp.displayName="DataRouterState";K.createContext(!1);var P1=K.createContext({isTransitioning:!1});P1.displayName="ViewTransition";var _O=K.createContext(new Map);_O.displayName="Fetchers";var yO=K.createContext(null);yO.displayName="Await";var $r=K.createContext(null);$r.displayName="Navigation";var vf=K.createContext(null);vf.displayName="Location";var Qr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Qr.displayName="Route";var vv=K.createContext(null);vv.displayName="RouteError";function vO(n,{relative:e}={}){tn(Bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext($r),{hash:a,pathname:u,search:f}=bf(n,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:Ga([t,u])),r.createHref({pathname:p,search:f,hash:a})}function Bc(){return K.useContext(vf)!=null}function cl(){return tn(Bc(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(vf).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M1(n){K.useContext($r).static||K.useLayoutEffect(n)}function _u(){let{isDataRoute:n}=K.useContext(Qr);return n?kO():bO()}function bO(){tn(Bc(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(zc),{basename:e,navigator:t}=K.useContext($r),{matches:r}=K.useContext(Qr),{pathname:a}=cl(),u=JSON.stringify(_v(r)),f=K.useRef(!1);return M1(()=>{f.current=!0}),K.useCallback((_,v={})=>{if(Kr(f.current,L1),!f.current)return;if(typeof _=="number"){t.go(_);return}let E=yv(_,JSON.parse(u),a,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Ga([e,E.pathname])),(v.replace?t.replace:t.push)(E,v.state,v)},[e,t,u,a,n])}var wO=K.createContext(null);function EO(n){let e=K.useContext(Qr).outlet;return K.useMemo(()=>e&&K.createElement(wO.Provider,{value:n},e),[e,n])}function TO(){let{matches:n}=K.useContext(Qr),e=n[n.length-1];return e?e.params:{}}function bf(n,{relative:e}={}){let{matches:t}=K.useContext(Qr),{pathname:r}=cl(),a=JSON.stringify(_v(t));return K.useMemo(()=>yv(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function SO(n,e){return k1(n,e)}function k1(n,e,t,r,a){var Ee;tn(Bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=K.useContext($r),{matches:f}=K.useContext(Qr),p=f[f.length-1],_=p?p.params:{},v=p?p.pathname:"/",E=p?p.pathnameBase:"/",A=p&&p.route;{let ae=A&&A.path||"";D1(v,!A||ae.endsWith("*")||ae.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ae}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ae}"> to <Route path="${ae==="/"?"*":`${ae}/*`}">.`)}let I=cl(),M;if(e){let ae=typeof e=="string"?Vc(e):e;tn(E==="/"||((Ee=ae.pathname)==null?void 0:Ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ae.pathname}" was given in the \`location\` prop.`),M=ae}else M=I;let V=M.pathname||"/",F=V;if(E!=="/"){let ae=E.replace(/^\//,"").split("/");F="/"+V.replace(/^\//,"").split("/").slice(ae.length).join("/")}let j=R1(n,{pathname:F});Kr(A||j!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Kr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let le=IO(j&&j.map(ae=>Object.assign({},ae,{params:Object.assign({},_,ae.params),pathname:Ga([E,u.encodeLocation?u.encodeLocation(ae.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathname]),pathnameBase:ae.pathnameBase==="/"?E:Ga([E,u.encodeLocation?u.encodeLocation(ae.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ae.pathnameBase])})),f,t,r,a);return e&&le?K.createElement(vf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},le):le}function xO(){let n=MO(),e=mO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:a},t):null,f)}var AO=K.createElement(xO,null),CO=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?K.createElement(Qr.Provider,{value:this.props.routeContext},K.createElement(vv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RO({routeContext:n,match:e,children:t}){let r=K.useContext(zc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Qr.Provider,{value:n},t)}function IO(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,f=t==null?void 0:t.errors;if(f!=null){let E=u.findIndex(A=>A.route.id&&(f==null?void 0:f[A.route.id])!==void 0);tn(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let p=!1,_=-1;if(t)for(let E=0;E<u.length;E++){let A=u[E];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(_=E),A.route.id){let{loaderData:I,errors:M}=t,V=A.route.loader&&!I.hasOwnProperty(A.route.id)&&(!M||M[A.route.id]===void 0);if(A.route.lazy||V){p=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}let v=t&&r?(E,A)=>{var I,M;r(E,{location:t.location,params:((M=(I=t.matches)==null?void 0:I[0])==null?void 0:M.params)??{},unstable_pattern:pO(t.matches),errorInfo:A})}:void 0;return u.reduceRight((E,A,I)=>{let M,V=!1,F=null,j=null;t&&(M=f&&A.route.id?f[A.route.id]:void 0,F=A.route.errorElement||AO,p&&(_<0&&I===0?(D1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,j=null):_===I&&(V=!0,j=A.route.hydrateFallbackElement||null)));let le=e.concat(u.slice(0,I+1)),Ee=()=>{let ae;return M?ae=F:V?ae=j:A.route.Component?ae=K.createElement(A.route.Component,null):A.route.element?ae=A.route.element:ae=E,K.createElement(RO,{match:A,routeContext:{outlet:E,matches:le,isDataRoute:t!=null},children:ae})};return t&&(A.route.ErrorBoundary||A.route.errorElement||I===0)?K.createElement(CO,{location:t.location,revalidation:t.revalidation,component:F,error:M,children:Ee(),routeContext:{outlet:null,matches:le,isDataRoute:!0},onError:v}):Ee()},null)}function bv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OO(n){let e=K.useContext(zc);return tn(e,bv(n)),e}function NO(n){let e=K.useContext(lp);return tn(e,bv(n)),e}function PO(n){let e=K.useContext(Qr);return tn(e,bv(n)),e}function wv(n){let e=PO(n),t=e.matches[e.matches.length-1];return tn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function LO(){return wv("useRouteId")}function MO(){var r;let n=K.useContext(vv),e=NO("useRouteError"),t=wv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function kO(){let{router:n}=OO("useNavigate"),e=wv("useNavigate"),t=K.useRef(!1);return M1(()=>{t.current=!0}),K.useCallback(async(a,u={})=>{Kr(t.current,L1),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...u}))},[n,e])}var YE={};function D1(n,e,t){!e&&!YE[n]&&(YE[n]=!0,Kr(!1,t))}K.memo(DO);function DO({routes:n,future:e,state:t,unstable_onError:r}){return k1(n,void 0,t,r,e)}function jO({to:n,replace:e,state:t,relative:r}){tn(Bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=K.useContext($r);Kr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=K.useContext(Qr),{pathname:f}=cl(),p=_u(),_=yv(n,_v(u),f,r==="path"),v=JSON.stringify(_);return K.useEffect(()=>{p(JSON.parse(v),{replace:e,state:t,relative:r})},[p,v,r,e,t]),null}function VO(n){return EO(n.context)}function fr(n){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zO({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:u=!1,unstable_useTransitions:f}){tn(!Bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=n.replace(/^\/*/,"/"),_=K.useMemo(()=>({basename:p,navigator:a,static:u,unstable_useTransitions:f,future:{}}),[p,a,u,f]);typeof t=="string"&&(t=Vc(t));let{pathname:v="/",search:E="",hash:A="",state:I=null,key:M="default"}=t,V=K.useMemo(()=>{let F=Ya(v,p);return F==null?null:{location:{pathname:F,search:E,hash:A,state:I,key:M},navigationType:r}},[p,v,E,A,I,M,r]);return Kr(V!=null,`<Router basename="${p}"> is not able to match the URL "${v}${E}${A}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:K.createElement($r.Provider,{value:_},K.createElement(vf.Provider,{children:e,value:V}))}function BO({children:n,location:e}){return SO(wy(n),e)}function wy(n,e=[]){let t=[];return K.Children.forEach(n,(r,a)=>{if(!K.isValidElement(r))return;let u=[...e,a];if(r.type===K.Fragment){t.push.apply(t,wy(r.props.children,u));return}tn(r.type===fr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=wy(r.props.children,u)),t.push(f)}),t}var am="get",om="application/x-www-form-urlencoded";function up(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function UO(n){return up(n)&&n.tagName.toLowerCase()==="button"}function FO(n){return up(n)&&n.tagName.toLowerCase()==="form"}function HO(n){return up(n)&&n.tagName.toLowerCase()==="input"}function qO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function GO(n,e){return n.button===0&&(!e||e==="_self")&&!qO(n)}var Kd=null;function ZO(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var WO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function q_(n){return n!=null&&!WO.has(n)?(Kr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${om}"`),null):n}function KO(n,e){let t,r,a,u,f;if(FO(n)){let p=n.getAttribute("action");r=p?Ya(p,e):null,t=n.getAttribute("method")||am,a=q_(n.getAttribute("enctype"))||om,u=new FormData(n)}else if(UO(n)||HO(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=n.getAttribute("formaction")||p.getAttribute("action");if(r=_?Ya(_,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||am,a=q_(n.getAttribute("formenctype"))||q_(p.getAttribute("enctype"))||om,u=new FormData(p,n),!ZO()){let{name:v,type:E,value:A}=n;if(E==="image"){let I=v?`${v}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else v&&u.append(v,A)}}else{if(up(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=am,r=null,a=om,f=n}return u&&a==="text/plain"&&(f=u,u=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ev(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function YO(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ya(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function $O(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function XO(n,e,t){let r=await Promise.all(n.map(async a=>{let u=e.routes[a.route.id];if(u){let f=await $O(u,t);return f.links?f.links():[]}return[]}));return nN(r.flat(1).filter(QO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function $E(n,e,t,r,a,u){let f=(_,v)=>t[v]?_.route.id!==t[v].route.id:!0,p=(_,v)=>{var E;return t[v].pathname!==_.pathname||((E=t[v].route.path)==null?void 0:E.endsWith("*"))&&t[v].params["*"]!==_.params["*"]};return u==="assets"?e.filter((_,v)=>f(_,v)||p(_,v)):u==="data"?e.filter((_,v)=>{var A;let E=r.routes[_.route.id];if(!E||!E.hasLoader)return!1;if(f(_,v)||p(_,v))return!0;if(_.route.shouldRevalidate){let I=_.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(n,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function JO(n,e,{includeHydrateFallback:t}={}){return eN(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function eN(n){return[...new Set(n)]}function tN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function nN(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let u=JSON.stringify(tN(a));return t.has(u)||(t.add(u),r.push({key:u,link:a})),r},[])}function j1(){let n=K.useContext(zc);return Ev(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function iN(){let n=K.useContext(lp);return Ev(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Tv=K.createContext(void 0);Tv.displayName="FrameworkContext";function V1(){let n=K.useContext(Tv);return Ev(n,"You must render this element inside a <HydratedRouter> element"),n}function rN(n,e){let t=K.useContext(Tv),[r,a]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:p,onBlur:_,onMouseEnter:v,onMouseLeave:E,onTouchStart:A}=e,I=K.useRef(null);K.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let F=le=>{le.forEach(Ee=>{f(Ee.isIntersecting)})},j=new IntersectionObserver(F,{threshold:.5});return I.current&&j.observe(I.current),()=>{j.disconnect()}}},[n]),K.useEffect(()=>{if(r){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[r]);let M=()=>{a(!0)},V=()=>{a(!1),f(!1)};return t?n!=="intent"?[u,I,{}]:[u,I,{onFocus:Bh(p,M),onBlur:Bh(_,V),onMouseEnter:Bh(v,M),onMouseLeave:Bh(E,V),onTouchStart:Bh(A,M)}]:[!1,I,{}]}function Bh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sN({page:n,...e}){let{router:t}=j1(),r=K.useMemo(()=>R1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(oN,{page:n,matches:r,...e}):null}function aN(n){let{manifest:e,routeModules:t}=V1(),[r,a]=K.useState([]);return K.useEffect(()=>{let u=!1;return XO(n,e,t).then(f=>{u||a(f)}),()=>{u=!0}},[n,e,t]),r}function oN({page:n,matches:e,...t}){let r=cl(),{manifest:a,routeModules:u}=V1(),{basename:f}=j1(),{loaderData:p,matches:_}=iN(),v=K.useMemo(()=>$E(n,e,_,a,r,"data"),[n,e,_,a,r]),E=K.useMemo(()=>$E(n,e,_,a,r,"assets"),[n,e,_,a,r]),A=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let V=new Set,F=!1;if(e.forEach(le=>{var ae;let Ee=a.routes[le.route.id];!Ee||!Ee.hasLoader||(!v.some(Se=>Se.route.id===le.route.id)&&le.route.id in p&&((ae=u[le.route.id])!=null&&ae.shouldRevalidate)||Ee.hasClientLoader?F=!0:V.add(le.route.id))}),V.size===0)return[];let j=YO(n,f,"data");return F&&V.size>0&&j.searchParams.set("_routes",e.filter(le=>V.has(le.route.id)).map(le=>le.route.id).join(",")),[j.pathname+j.search]},[f,p,r,a,v,e,n,u]),I=K.useMemo(()=>JO(E,a),[E,a]),M=aN(E);return K.createElement(K.Fragment,null,A.map(V=>K.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),I.map(V=>K.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),M.map(({key:V,link:F})=>K.createElement("link",{key:V,nonce:t.nonce,...F})))}function lN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z1&&(window.__reactRouterVersion="7.10.1")}catch{}function uN({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=K.useRef();a.current==null&&(a.current=qI({window:r,v5Compat:!0}));let u=a.current,[f,p]=K.useState({action:u.action,location:u.location}),_=K.useCallback(v=>{t===!1?p(v):K.startTransition(()=>p(v))},[t]);return K.useLayoutEffect(()=>u.listen(_),[u,_]),K.createElement(zO,{basename:n,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:t===!0})}var B1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:u,replace:f,state:p,target:_,to:v,preventScrollReset:E,viewTransition:A,...I},M){let{basename:V,unstable_useTransitions:F}=K.useContext($r),j=typeof v=="string"&&B1.test(v),le,Ee=!1;if(typeof v=="string"&&j&&(le=v,z1))try{let W=new URL(window.location.href),q=v.startsWith("//")?new URL(W.protocol+v):new URL(v),H=Ya(q.pathname,V);q.origin===W.origin&&H!=null?v=H+q.search+q.hash:Ee=!0}catch{Kr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=vO(v,{relative:a}),[Se,fe,Te]=rN(r,I),k=fN(v,{replace:f,state:p,target:_,preventScrollReset:E,relative:a,viewTransition:A,unstable_useTransitions:F});function D(W){e&&e(W),W.defaultPrevented||k(W)}let z=K.createElement("a",{...I,...Te,href:le||ae,onClick:Ee||u?e:D,ref:lN(M,fe),target:_,"data-discover":!j&&t==="render"?"true":void 0});return Se&&!j?K.createElement(K.Fragment,null,z,K.createElement(sN,{page:ae})):z});fi.displayName="Link";var zr=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:u,to:f,viewTransition:p,children:_,...v},E){let A=bf(f,{relative:v.relative}),I=cl(),M=K.useContext(lp),{navigator:V,basename:F}=K.useContext($r),j=M!=null&&_N(A)&&p===!0,le=V.encodeLocation?V.encodeLocation(A).pathname:A.pathname,Ee=I.pathname,ae=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(Ee=Ee.toLowerCase(),ae=ae?ae.toLowerCase():null,le=le.toLowerCase()),ae&&F&&(ae=Ya(ae,F)||ae);const Se=le!=="/"&&le.endsWith("/")?le.length-1:le.length;let fe=Ee===le||!a&&Ee.startsWith(le)&&Ee.charAt(Se)==="/",Te=ae!=null&&(ae===le||!a&&ae.startsWith(le)&&ae.charAt(le.length)==="/"),k={isActive:fe,isPending:Te,isTransitioning:j},D=fe?e:void 0,z;typeof r=="function"?z=r(k):z=[r,fe?"active":null,Te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let W=typeof u=="function"?u(k):u;return K.createElement(fi,{...v,"aria-current":D,className:z,ref:E,style:W,to:f,viewTransition:p},typeof _=="function"?_(k):_)});zr.displayName="NavLink";var cN=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:u,method:f=am,action:p,onSubmit:_,relative:v,preventScrollReset:E,viewTransition:A,...I},M)=>{let{unstable_useTransitions:V}=K.useContext($r),F=pN(),j=gN(p,{relative:v}),le=f.toLowerCase()==="get"?"get":"post",Ee=typeof p=="string"&&B1.test(p),ae=Se=>{if(_&&_(Se),Se.defaultPrevented)return;Se.preventDefault();let fe=Se.nativeEvent.submitter,Te=(fe==null?void 0:fe.getAttribute("formmethod"))||f,k=()=>F(fe||Se.currentTarget,{fetcherKey:e,method:Te,navigate:t,replace:a,state:u,relative:v,preventScrollReset:E,viewTransition:A});V&&t!==!1?K.startTransition(()=>k()):k()};return K.createElement("form",{ref:M,method:le,action:j,onSubmit:r?_:ae,...I,"data-discover":!Ee&&n==="render"?"true":void 0})});cN.displayName="Form";function hN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(n){let e=K.useContext(zc);return tn(e,hN(n)),e}function fN(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:u,viewTransition:f,unstable_useTransitions:p}={}){let _=_u(),v=cl(),E=bf(n,{relative:u});return K.useCallback(A=>{if(GO(A,e)){A.preventDefault();let I=t!==void 0?t:af(v)===af(E),M=()=>_(n,{replace:I,state:r,preventScrollReset:a,relative:u,viewTransition:f});p?K.startTransition(()=>M()):M()}},[v,_,E,t,r,e,n,a,u,f,p])}var dN=0,mN=()=>`__${String(++dN)}__`;function pN(){let{router:n}=U1("useSubmit"),{basename:e}=K.useContext($r),t=LO(),r=n.fetch,a=n.navigate;return K.useCallback(async(u,f={})=>{let{action:p,method:_,encType:v,formData:E,body:A}=KO(u,e);if(f.navigate===!1){let I=f.fetcherKey||mN();await r(I,t,f.action||p,{preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||_,formEncType:f.encType||v,flushSync:f.flushSync})}else await a(f.action||p,{preventScrollReset:f.preventScrollReset,formData:E,body:A,formMethod:f.method||_,formEncType:f.encType||v,replace:f.replace,state:f.state,fromRouteId:t,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,a,e,t])}function gN(n,{relative:e}={}){let{basename:t}=K.useContext($r),r=K.useContext(Qr);tn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),u={...bf(n||".",{relative:e})},f=cl();if(n==null){u.search=f.search;let p=new URLSearchParams(u.search),_=p.getAll("index");if(_.some(E=>E==="")){p.delete("index"),_.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();u.search=E?`?${E}`:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Ga([t,u.pathname])),af(u)}function _N(n,{relative:e}={}){let t=K.useContext(P1);tn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=U1("useViewTransitionState"),a=bf(n,{relative:e});if(!t.isTransitioning)return!1;let u=Ya(t.currentLocation.pathname,r)||t.currentLocation.pathname,f=Ya(t.nextLocation.pathname,r)||t.nextLocation.pathname;return xm(a.pathname,f)!=null||xm(a.pathname,u)!=null}var F1=C1();function H1(n,e){return function(){return n.apply(e,arguments)}}const{toString:yN}=Object.prototype,{getPrototypeOf:Sv}=Object,{iterator:cp,toStringTag:q1}=Symbol,hp=(n=>e=>{const t=yN.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Cs=n=>(n=n.toLowerCase(),e=>hp(e)===n),fp=n=>e=>typeof e===n,{isArray:Uc}=Array,Rc=fp("undefined");function wf(n){return n!==null&&!Rc(n)&&n.constructor!==null&&!Rc(n.constructor)&&Gi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const G1=Cs("ArrayBuffer");function vN(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&G1(n.buffer),e}const bN=fp("string"),Gi=fp("function"),Z1=fp("number"),Ef=n=>n!==null&&typeof n=="object",wN=n=>n===!0||n===!1,lm=n=>{if(hp(n)!=="object")return!1;const e=Sv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(q1 in n)&&!(cp in n)},EN=n=>{if(!Ef(n)||wf(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},TN=Cs("Date"),SN=Cs("File"),xN=Cs("Blob"),AN=Cs("FileList"),CN=n=>Ef(n)&&Gi(n.pipe),RN=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Gi(n.append)&&((e=hp(n))==="formdata"||e==="object"&&Gi(n.toString)&&n.toString()==="[object FormData]"))},IN=Cs("URLSearchParams"),[ON,NN,PN,LN]=["ReadableStream","Request","Response","Headers"].map(Cs),MN=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Tf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,a;if(typeof n!="object"&&(n=[n]),Uc(n))for(r=0,a=n.length;r<a;r++)e.call(null,n[r],r,n);else{if(wf(n))return;const u=t?Object.getOwnPropertyNames(n):Object.keys(n),f=u.length;let p;for(r=0;r<f;r++)p=u[r],e.call(null,n[p],p,n)}}function W1(n,e){if(wf(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,a;for(;r-- >0;)if(a=t[r],e===a.toLowerCase())return a;return null}const Xl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,K1=n=>!Rc(n)&&n!==Xl;function Ey(){const{caseless:n,skipUndefined:e}=K1(this)&&this||{},t={},r=(a,u)=>{const f=n&&W1(t,u)||u;lm(t[f])&&lm(a)?t[f]=Ey(t[f],a):lm(a)?t[f]=Ey({},a):Uc(a)?t[f]=a.slice():(!e||!Rc(a))&&(t[f]=a)};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&Tf(arguments[a],r);return t}const kN=(n,e,t,{allOwnKeys:r}={})=>(Tf(e,(a,u)=>{t&&Gi(a)?n[u]=H1(a,t):n[u]=a},{allOwnKeys:r}),n),DN=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),jN=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},VN=(n,e,t,r)=>{let a,u,f;const p={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),u=a.length;u-- >0;)f=a[u],(!r||r(f,n,e))&&!p[f]&&(e[f]=n[f],p[f]=!0);n=t!==!1&&Sv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},zN=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},BN=n=>{if(!n)return null;if(Uc(n))return n;let e=n.length;if(!Z1(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},UN=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Sv(Uint8Array)),FN=(n,e)=>{const r=(n&&n[cp]).call(n);let a;for(;(a=r.next())&&!a.done;){const u=a.value;e.call(n,u[0],u[1])}},HN=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},qN=Cs("HTMLFormElement"),GN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,a){return r.toUpperCase()+a}),QE=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),ZN=Cs("RegExp"),Y1=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Tf(t,(a,u)=>{let f;(f=e(a,u,n))!==!1&&(r[u]=f||a)}),Object.defineProperties(n,r)},WN=n=>{Y1(n,(e,t)=>{if(Gi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Gi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},KN=(n,e)=>{const t={},r=a=>{a.forEach(u=>{t[u]=!0})};return Uc(n)?r(n):r(String(n).split(e)),t},YN=()=>{},$N=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function QN(n){return!!(n&&Gi(n.append)&&n[q1]==="FormData"&&n[cp])}const XN=n=>{const e=new Array(10),t=(r,a)=>{if(Ef(r)){if(e.indexOf(r)>=0)return;if(wf(r))return r;if(!("toJSON"in r)){e[a]=r;const u=Uc(r)?[]:{};return Tf(r,(f,p)=>{const _=t(f,a+1);!Rc(_)&&(u[p]=_)}),e[a]=void 0,u}}return r};return t(n,0)},JN=Cs("AsyncFunction"),eP=n=>n&&(Ef(n)||Gi(n))&&Gi(n.then)&&Gi(n.catch),$1=((n,e)=>n?setImmediate:e?((t,r)=>(Xl.addEventListener("message",({source:a,data:u})=>{a===Xl&&u===t&&r.length&&r.shift()()},!1),a=>{r.push(a),Xl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Gi(Xl.postMessage)),tP=typeof queueMicrotask<"u"?queueMicrotask.bind(Xl):typeof process<"u"&&process.nextTick||$1,nP=n=>n!=null&&Gi(n[cp]),oe={isArray:Uc,isArrayBuffer:G1,isBuffer:wf,isFormData:RN,isArrayBufferView:vN,isString:bN,isNumber:Z1,isBoolean:wN,isObject:Ef,isPlainObject:lm,isEmptyObject:EN,isReadableStream:ON,isRequest:NN,isResponse:PN,isHeaders:LN,isUndefined:Rc,isDate:TN,isFile:SN,isBlob:xN,isRegExp:ZN,isFunction:Gi,isStream:CN,isURLSearchParams:IN,isTypedArray:UN,isFileList:AN,forEach:Tf,merge:Ey,extend:kN,trim:MN,stripBOM:DN,inherits:jN,toFlatObject:VN,kindOf:hp,kindOfTest:Cs,endsWith:zN,toArray:BN,forEachEntry:FN,matchAll:HN,isHTMLForm:qN,hasOwnProperty:QE,hasOwnProp:QE,reduceDescriptors:Y1,freezeMethods:WN,toObjectSet:KN,toCamelCase:GN,noop:YN,toFiniteNumber:$N,findKey:W1,global:Xl,isContextDefined:K1,isSpecCompliantForm:QN,toJSONObject:XN,isAsyncFn:JN,isThenable:eP,setImmediate:$1,asap:tP,isIterable:nP};function tt(n,e,t,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}oe.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const Q1=tt.prototype,X1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{X1[n]={value:n}});Object.defineProperties(tt,X1);Object.defineProperty(Q1,"isAxiosError",{value:!0});tt.from=(n,e,t,r,a,u)=>{const f=Object.create(Q1);oe.toFlatObject(n,f,function(E){return E!==Error.prototype},v=>v!=="isAxiosError");const p=n&&n.message?n.message:"Error",_=e==null&&n?n.code:e;return tt.call(f,p,_,t,r,a),n&&f.cause==null&&Object.defineProperty(f,"cause",{value:n,configurable:!0}),f.name=n&&n.name||"Error",u&&Object.assign(f,u),f};const iP=null;function Ty(n){return oe.isPlainObject(n)||oe.isArray(n)}function J1(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function XE(n,e,t){return n?n.concat(e).map(function(a,u){return a=J1(a),!t&&u?"["+a+"]":a}).join(t?".":""):e}function rP(n){return oe.isArray(n)&&!n.some(Ty)}const sP=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function dp(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(F,j){return!oe.isUndefined(j[F])});const r=t.metaTokens,a=t.visitor||E,u=t.dots,f=t.indexes,_=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(a))throw new TypeError("visitor must be a function");function v(V){if(V===null)return"";if(oe.isDate(V))return V.toISOString();if(oe.isBoolean(V))return V.toString();if(!_&&oe.isBlob(V))throw new tt("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(V)||oe.isTypedArray(V)?_&&typeof Blob=="function"?new Blob([V]):Buffer.from(V):V}function E(V,F,j){let le=V;if(V&&!j&&typeof V=="object"){if(oe.endsWith(F,"{}"))F=r?F:F.slice(0,-2),V=JSON.stringify(V);else if(oe.isArray(V)&&rP(V)||(oe.isFileList(V)||oe.endsWith(F,"[]"))&&(le=oe.toArray(V)))return F=J1(F),le.forEach(function(ae,Se){!(oe.isUndefined(ae)||ae===null)&&e.append(f===!0?XE([F],Se,u):f===null?F:F+"[]",v(ae))}),!1}return Ty(V)?!0:(e.append(XE(j,F,u),v(V)),!1)}const A=[],I=Object.assign(sP,{defaultVisitor:E,convertValue:v,isVisitable:Ty});function M(V,F){if(!oe.isUndefined(V)){if(A.indexOf(V)!==-1)throw Error("Circular reference detected in "+F.join("."));A.push(V),oe.forEach(V,function(le,Ee){(!(oe.isUndefined(le)||le===null)&&a.call(e,le,oe.isString(Ee)?Ee.trim():Ee,F,I))===!0&&M(le,F?F.concat(Ee):[Ee])}),A.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return M(n),e}function JE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function xv(n,e){this._pairs=[],n&&dp(n,this,e)}const ex=xv.prototype;ex.append=function(e,t){this._pairs.push([e,t])};ex.toString=function(e){const t=e?function(r){return e.call(this,r,JE)}:JE;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function aP(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tx(n,e,t){if(!e)return n;const r=t&&t.encode||aP;oe.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let u;if(a?u=a(e,t):u=oe.isURLSearchParams(e)?e.toString():new xv(e,t).toString(r),u){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class eT{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const nx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oP=typeof URLSearchParams<"u"?URLSearchParams:xv,lP=typeof FormData<"u"?FormData:null,uP=typeof Blob<"u"?Blob:null,cP={isBrowser:!0,classes:{URLSearchParams:oP,FormData:lP,Blob:uP},protocols:["http","https","file","blob","url","data"]},Av=typeof window<"u"&&typeof document<"u",Sy=typeof navigator=="object"&&navigator||void 0,hP=Av&&(!Sy||["ReactNative","NativeScript","NS"].indexOf(Sy.product)<0),fP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dP=Av&&window.location.href||"http://localhost",mP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Av,hasStandardBrowserEnv:hP,hasStandardBrowserWebWorkerEnv:fP,navigator:Sy,origin:dP},Symbol.toStringTag,{value:"Module"})),hi={...mP,...cP};function pP(n,e){return dp(n,new hi.classes.URLSearchParams,{visitor:function(t,r,a,u){return hi.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...e})}function gP(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _P(n){const e={},t=Object.keys(n);let r;const a=t.length;let u;for(r=0;r<a;r++)u=t[r],e[u]=n[u];return e}function ix(n){function e(t,r,a,u){let f=t[u++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),_=u>=t.length;return f=!f&&oe.isArray(a)?a.length:f,_?(oe.hasOwnProp(a,f)?a[f]=[a[f],r]:a[f]=r,!p):((!a[f]||!oe.isObject(a[f]))&&(a[f]=[]),e(t,r,a[f],u)&&oe.isArray(a[f])&&(a[f]=_P(a[f])),!p)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,a)=>{e(gP(r),a,t,0)}),t}return null}function yP(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Sf={transitional:nx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,u=oe.isObject(e);if(u&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return a?JSON.stringify(ix(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let p;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pP(e,this.formSerializer).toString();if((p=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return dp(p?{"files[]":e}:e,_&&new _,this.formSerializer)}}return u||a?(t.setContentType("application/json",!1),yP(e)):e}],transformResponse:[function(e){const t=this.transitional||Sf.transitional,r=t&&t.forcedJSONParsing,a=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||a)){const f=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(p){if(f)throw p.name==="SyntaxError"?tt.from(p,tt.ERR_BAD_RESPONSE,this,null,this.response):p}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hi.classes.FormData,Blob:hi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{Sf.headers[n]={}});const vP=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bP=n=>{const e={};let t,r,a;return n&&n.split(`
`).forEach(function(f){a=f.indexOf(":"),t=f.substring(0,a).trim().toLowerCase(),r=f.substring(a+1).trim(),!(!t||e[t]&&vP[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},tT=Symbol("internals");function Uh(n){return n&&String(n).trim().toLowerCase()}function um(n){return n===!1||n==null?n:oe.isArray(n)?n.map(um):String(n)}function wP(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const EP=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function G_(n,e,t,r,a){if(oe.isFunction(r))return r.call(this,e,t);if(a&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function TP(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function SP(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(a,u,f){return this[r].call(this,e,a,u,f)},configurable:!0})})}let Zi=class{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function u(p,_,v){const E=Uh(_);if(!E)throw new Error("header name must be a non-empty string");const A=oe.findKey(a,E);(!A||a[A]===void 0||v===!0||v===void 0&&a[A]!==!1)&&(a[A||_]=um(p))}const f=(p,_)=>oe.forEach(p,(v,E)=>u(v,E,_));if(oe.isPlainObject(e)||e instanceof this.constructor)f(e,t);else if(oe.isString(e)&&(e=e.trim())&&!EP(e))f(bP(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let p={},_,v;for(const E of e){if(!oe.isArray(E))throw TypeError("Object iterator must return a key-value pair");p[v=E[0]]=(_=p[v])?oe.isArray(_)?[..._,E[1]]:[_,E[1]]:E[1]}f(p,t)}else e!=null&&u(t,e,r);return this}get(e,t){if(e=Uh(e),e){const r=oe.findKey(this,e);if(r){const a=this[r];if(!t)return a;if(t===!0)return wP(a);if(oe.isFunction(t))return t.call(this,a,r);if(oe.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Uh(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||G_(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let a=!1;function u(f){if(f=Uh(f),f){const p=oe.findKey(r,f);p&&(!t||G_(r,r[p],p,t))&&(delete r[p],a=!0)}}return oe.isArray(e)?e.forEach(u):u(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const u=t[r];(!e||G_(this,this[u],u,e,!0))&&(delete this[u],a=!0)}return a}normalize(e){const t=this,r={};return oe.forEach(this,(a,u)=>{const f=oe.findKey(r,u);if(f){t[f]=um(a),delete t[u];return}const p=e?TP(u):String(u).trim();p!==u&&delete t[u],t[p]=um(a),r[p]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,a)=>{r!=null&&r!==!1&&(t[a]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[tT]=this[tT]={accessors:{}}).accessors,a=this.prototype;function u(f){const p=Uh(f);r[p]||(SP(a,f),r[p]=!0)}return oe.isArray(e)?e.forEach(u):u(e),this}};Zi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Zi.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(Zi);function Z_(n,e){const t=this||Sf,r=e||t,a=Zi.from(r.headers);let u=r.data;return oe.forEach(n,function(p){u=p.call(t,u,a.normalize(),e?e.status:void 0)}),a.normalize(),u}function rx(n){return!!(n&&n.__CANCEL__)}function Fc(n,e,t){tt.call(this,n??"canceled",tt.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Fc,tt,{__CANCEL__:!0});function sx(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new tt("Request failed with status code "+t.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function xP(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function AP(n,e){n=n||10;const t=new Array(n),r=new Array(n);let a=0,u=0,f;return e=e!==void 0?e:1e3,function(_){const v=Date.now(),E=r[u];f||(f=v),t[a]=_,r[a]=v;let A=u,I=0;for(;A!==a;)I+=t[A++],A=A%n;if(a=(a+1)%n,a===u&&(u=(u+1)%n),v-f<e)return;const M=E&&v-E;return M?Math.round(I*1e3/M):void 0}}function CP(n,e){let t=0,r=1e3/e,a,u;const f=(v,E=Date.now())=>{t=E,a=null,u&&(clearTimeout(u),u=null),n(...v)};return[(...v)=>{const E=Date.now(),A=E-t;A>=r?f(v,E):(a=v,u||(u=setTimeout(()=>{u=null,f(a)},r-A)))},()=>a&&f(a)]}const Am=(n,e,t=3)=>{let r=0;const a=AP(50,250);return CP(u=>{const f=u.loaded,p=u.lengthComputable?u.total:void 0,_=f-r,v=a(_),E=f<=p;r=f;const A={loaded:f,total:p,progress:p?f/p:void 0,bytes:_,rate:v||void 0,estimated:v&&p&&E?(p-f)/v:void 0,event:u,lengthComputable:p!=null,[e?"download":"upload"]:!0};n(A)},t)},nT=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},iT=n=>(...e)=>oe.asap(()=>n(...e)),RP=hi.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,hi.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(hi.origin),hi.navigator&&/(msie|trident)/i.test(hi.navigator.userAgent)):()=>!0,IP=hi.hasStandardBrowserEnv?{write(n,e,t,r,a,u,f){if(typeof document>"u")return;const p=[`${n}=${encodeURIComponent(e)}`];oe.isNumber(t)&&p.push(`expires=${new Date(t).toUTCString()}`),oe.isString(r)&&p.push(`path=${r}`),oe.isString(a)&&p.push(`domain=${a}`),u===!0&&p.push("secure"),oe.isString(f)&&p.push(`SameSite=${f}`),document.cookie=p.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function OP(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function NP(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function ax(n,e,t){let r=!OP(e);return n&&(r||t==!1)?NP(n,e):e}const rT=n=>n instanceof Zi?{...n}:n;function ou(n,e){e=e||{};const t={};function r(v,E,A,I){return oe.isPlainObject(v)&&oe.isPlainObject(E)?oe.merge.call({caseless:I},v,E):oe.isPlainObject(E)?oe.merge({},E):oe.isArray(E)?E.slice():E}function a(v,E,A,I){if(oe.isUndefined(E)){if(!oe.isUndefined(v))return r(void 0,v,A,I)}else return r(v,E,A,I)}function u(v,E){if(!oe.isUndefined(E))return r(void 0,E)}function f(v,E){if(oe.isUndefined(E)){if(!oe.isUndefined(v))return r(void 0,v)}else return r(void 0,E)}function p(v,E,A){if(A in e)return r(v,E);if(A in n)return r(void 0,v)}const _={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(v,E,A)=>a(rT(v),rT(E),A,!0)};return oe.forEach(Object.keys({...n,...e}),function(E){const A=_[E]||a,I=A(n[E],e[E],E);oe.isUndefined(I)&&A!==p||(t[E]=I)}),t}const ox=n=>{const e=ou({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:u,headers:f,auth:p}=e;if(e.headers=f=Zi.from(f),e.url=tx(ax(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),oe.isFormData(t)){if(hi.hasStandardBrowserEnv||hi.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(oe.isFunction(t.getHeaders)){const _=t.getHeaders(),v=["content-type","content-length"];Object.entries(_).forEach(([E,A])=>{v.includes(E.toLowerCase())&&f.set(E,A)})}}if(hi.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&RP(e.url))){const _=a&&u&&IP.read(u);_&&f.set(a,_)}return e},PP=typeof XMLHttpRequest<"u",LP=PP&&function(n){return new Promise(function(t,r){const a=ox(n);let u=a.data;const f=Zi.from(a.headers).normalize();let{responseType:p,onUploadProgress:_,onDownloadProgress:v}=a,E,A,I,M,V;function F(){M&&M(),V&&V(),a.cancelToken&&a.cancelToken.unsubscribe(E),a.signal&&a.signal.removeEventListener("abort",E)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function le(){if(!j)return;const ae=Zi.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),fe={data:!p||p==="text"||p==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:ae,config:n,request:j};sx(function(k){t(k),F()},function(k){r(k),F()},fe),j=null}"onloadend"in j?j.onloadend=le:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(le)},j.onabort=function(){j&&(r(new tt("Request aborted",tt.ECONNABORTED,n,j)),j=null)},j.onerror=function(Se){const fe=Se&&Se.message?Se.message:"Network Error",Te=new tt(fe,tt.ERR_NETWORK,n,j);Te.event=Se||null,r(Te),j=null},j.ontimeout=function(){let Se=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const fe=a.transitional||nx;a.timeoutErrorMessage&&(Se=a.timeoutErrorMessage),r(new tt(Se,fe.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,n,j)),j=null},u===void 0&&f.setContentType(null),"setRequestHeader"in j&&oe.forEach(f.toJSON(),function(Se,fe){j.setRequestHeader(fe,Se)}),oe.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),p&&p!=="json"&&(j.responseType=a.responseType),v&&([I,V]=Am(v,!0),j.addEventListener("progress",I)),_&&j.upload&&([A,M]=Am(_),j.upload.addEventListener("progress",A),j.upload.addEventListener("loadend",M)),(a.cancelToken||a.signal)&&(E=ae=>{j&&(r(!ae||ae.type?new Fc(null,n,j):ae),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(E),a.signal&&(a.signal.aborted?E():a.signal.addEventListener("abort",E)));const Ee=xP(a.url);if(Ee&&hi.protocols.indexOf(Ee)===-1){r(new tt("Unsupported protocol "+Ee+":",tt.ERR_BAD_REQUEST,n));return}j.send(u||null)})},MP=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,a;const u=function(v){if(!a){a=!0,p();const E=v instanceof Error?v:this.reason;r.abort(E instanceof tt?E:new Fc(E instanceof Error?E.message:E))}};let f=e&&setTimeout(()=>{f=null,u(new tt(`timeout ${e} of ms exceeded`,tt.ETIMEDOUT))},e);const p=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(u):v.removeEventListener("abort",u)}),n=null)};n.forEach(v=>v.addEventListener("abort",u));const{signal:_}=r;return _.unsubscribe=()=>oe.asap(p),_}},kP=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,a;for(;r<t;)a=r+e,yield n.slice(r,a),r=a},DP=async function*(n,e){for await(const t of jP(n))yield*kP(t,e)},jP=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},sT=(n,e,t,r)=>{const a=DP(n,e);let u=0,f,p=_=>{f||(f=!0,r&&r(_))};return new ReadableStream({async pull(_){try{const{done:v,value:E}=await a.next();if(v){p(),_.close();return}let A=E.byteLength;if(t){let I=u+=A;t(I)}_.enqueue(new Uint8Array(E))}catch(v){throw p(v),v}},cancel(_){return p(_),a.return()}},{highWaterMark:2})},aT=64*1024,{isFunction:Yd}=oe,VP=(({Request:n,Response:e})=>({Request:n,Response:e}))(oe.global),{ReadableStream:oT,TextEncoder:lT}=oe.global,uT=(n,...e)=>{try{return!!n(...e)}catch{return!1}},zP=n=>{n=oe.merge.call({skipUndefined:!0},VP,n);const{fetch:e,Request:t,Response:r}=n,a=e?Yd(e):typeof fetch=="function",u=Yd(t),f=Yd(r);if(!a)return!1;const p=a&&Yd(oT),_=a&&(typeof lT=="function"?(V=>F=>V.encode(F))(new lT):async V=>new Uint8Array(await new t(V).arrayBuffer())),v=u&&p&&uT(()=>{let V=!1;const F=new t(hi.origin,{body:new oT,method:"POST",get duplex(){return V=!0,"half"}}).headers.has("Content-Type");return V&&!F}),E=f&&p&&uT(()=>oe.isReadableStream(new r("").body)),A={stream:E&&(V=>V.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(V=>{!A[V]&&(A[V]=(F,j)=>{let le=F&&F[V];if(le)return le.call(F);throw new tt(`Response type '${V}' is not supported`,tt.ERR_NOT_SUPPORT,j)})});const I=async V=>{if(V==null)return 0;if(oe.isBlob(V))return V.size;if(oe.isSpecCompliantForm(V))return(await new t(hi.origin,{method:"POST",body:V}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(V)||oe.isArrayBuffer(V))return V.byteLength;if(oe.isURLSearchParams(V)&&(V=V+""),oe.isString(V))return(await _(V)).byteLength},M=async(V,F)=>{const j=oe.toFiniteNumber(V.getContentLength());return j??I(F)};return async V=>{let{url:F,method:j,data:le,signal:Ee,cancelToken:ae,timeout:Se,onDownloadProgress:fe,onUploadProgress:Te,responseType:k,headers:D,withCredentials:z="same-origin",fetchOptions:W}=ox(V),q=e||fetch;k=k?(k+"").toLowerCase():"text";let H=MP([Ee,ae&&ae.toAbortSignal()],Se),B=null;const Ye=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let zt;try{if(Te&&v&&j!=="get"&&j!=="head"&&(zt=await M(D,le))!==0){let R=new t(F,{method:"POST",body:le,duplex:"half"}),$;if(oe.isFormData(le)&&($=R.headers.get("content-type"))&&D.setContentType($),R.body){const[ue,he]=nT(zt,Am(iT(Te)));le=sT(R.body,aT,ue,he)}}oe.isString(z)||(z=z?"include":"omit");const ne=u&&"credentials"in t.prototype,Ae={...W,signal:H,method:j.toUpperCase(),headers:D.normalize().toJSON(),body:le,duplex:"half",credentials:ne?z:void 0};B=u&&new t(F,Ae);let we=await(u?q(B,W):q(F,Ae));const nt=E&&(k==="stream"||k==="response");if(E&&(fe||nt&&Ye)){const R={};["status","statusText","headers"].forEach(pe=>{R[pe]=we[pe]});const $=oe.toFiniteNumber(we.headers.get("content-length")),[ue,he]=fe&&nT($,Am(iT(fe),!0))||[];we=new r(sT(we.body,aT,ue,()=>{he&&he(),Ye&&Ye()}),R)}k=k||"text";let Z=await A[oe.findKey(A,k)||"text"](we,V);return!nt&&Ye&&Ye(),await new Promise((R,$)=>{sx(R,$,{data:Z,headers:Zi.from(we.headers),status:we.status,statusText:we.statusText,config:V,request:B})})}catch(ne){throw Ye&&Ye(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,V,B),{cause:ne.cause||ne}):tt.from(ne,ne&&ne.code,V,B)}}},BP=new Map,lx=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:a}=e,u=[r,a,t];let f=u.length,p=f,_,v,E=BP;for(;p--;)_=u[p],v=E.get(_),v===void 0&&E.set(_,v=p?new Map:zP(e)),E=v;return v};lx();const Cv={http:iP,xhr:LP,fetch:{get:lx}};oe.forEach(Cv,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const cT=n=>`- ${n}`,UP=n=>oe.isFunction(n)||n===null||n===!1;function FP(n,e){n=oe.isArray(n)?n:[n];const{length:t}=n;let r,a;const u={};for(let f=0;f<t;f++){r=n[f];let p;if(a=r,!UP(r)&&(a=Cv[(p=String(r)).toLowerCase()],a===void 0))throw new tt(`Unknown adapter '${p}'`);if(a&&(oe.isFunction(a)||(a=a.get(e))))break;u[p||"#"+f]=a}if(!a){const f=Object.entries(u).map(([_,v])=>`adapter ${_} `+(v===!1?"is not supported by the environment":"is not available in the build"));let p=t?f.length>1?`since :
`+f.map(cT).join(`
`):" "+cT(f[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return a}const ux={getAdapter:FP,adapters:Cv};function W_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Fc(null,n)}function hT(n){return W_(n),n.headers=Zi.from(n.headers),n.data=Z_.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),ux.getAdapter(n.adapter||Sf.adapter,n)(n).then(function(r){return W_(n),r.data=Z_.call(n,n.transformResponse,r),r.headers=Zi.from(r.headers),r},function(r){return rx(r)||(W_(n),r&&r.response&&(r.response.data=Z_.call(n,n.transformResponse,r.response),r.response.headers=Zi.from(r.response.headers))),Promise.reject(r)})}const cx="1.13.2",mp={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{mp[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const fT={};mp.transitional=function(e,t,r){function a(u,f){return"[Axios v"+cx+"] Transitional option '"+u+"'"+f+(r?". "+r:"")}return(u,f,p)=>{if(e===!1)throw new tt(a(f," has been removed"+(t?" in "+t:"")),tt.ERR_DEPRECATED);return t&&!fT[f]&&(fT[f]=!0,console.warn(a(f," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,f,p):!0}};mp.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function HP(n,e,t){if(typeof n!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let a=r.length;for(;a-- >0;){const u=r[a],f=e[u];if(f){const p=n[u],_=p===void 0||f(p,u,n);if(_!==!0)throw new tt("option "+u+" must be "+_,tt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new tt("Unknown option "+u,tt.ERR_BAD_OPTION)}}const cm={assertOptions:HP,validators:mp},Qs=cm.validators;let iu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new eT,response:new eT}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ou(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:u}=t;r!==void 0&&cm.assertOptions(r,{silentJSONParsing:Qs.transitional(Qs.boolean),forcedJSONParsing:Qs.transitional(Qs.boolean),clarifyTimeoutError:Qs.transitional(Qs.boolean)},!1),a!=null&&(oe.isFunction(a)?t.paramsSerializer={serialize:a}:cm.assertOptions(a,{encode:Qs.function,serialize:Qs.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),cm.assertOptions(t,{baseUrl:Qs.spelling("baseURL"),withXsrfToken:Qs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let f=u&&oe.merge(u.common,u[t.method]);u&&oe.forEach(["delete","get","head","post","put","patch","common"],V=>{delete u[V]}),t.headers=Zi.concat(f,u);const p=[];let _=!0;this.interceptors.request.forEach(function(F){typeof F.runWhen=="function"&&F.runWhen(t)===!1||(_=_&&F.synchronous,p.unshift(F.fulfilled,F.rejected))});const v=[];this.interceptors.response.forEach(function(F){v.push(F.fulfilled,F.rejected)});let E,A=0,I;if(!_){const V=[hT.bind(this),void 0];for(V.unshift(...p),V.push(...v),I=V.length,E=Promise.resolve(t);A<I;)E=E.then(V[A++],V[A++]);return E}I=p.length;let M=t;for(;A<I;){const V=p[A++],F=p[A++];try{M=V(M)}catch(j){F.call(this,j);break}}try{E=hT.call(this,M)}catch(V){return Promise.reject(V)}for(A=0,I=v.length;A<I;)E=E.then(v[A++],v[A++]);return E}getUri(e){e=ou(this.defaults,e);const t=ax(e.baseURL,e.url,e.allowAbsoluteUrls);return tx(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){iu.prototype[e]=function(t,r){return this.request(ou(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(u,f,p){return this.request(ou(p||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}iu.prototype[e]=t(),iu.prototype[e+"Form"]=t(!0)});let qP=class hx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const r=this;this.promise.then(a=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](a);r._listeners=null}),this.promise.then=a=>{let u;const f=new Promise(p=>{r.subscribe(p),u=p}).then(a);return f.cancel=function(){r.unsubscribe(u)},f},e(function(u,f,p){r.reason||(r.reason=new Fc(u,f,p),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new hx(function(a){e=a}),cancel:e}}};function GP(n){return function(t){return n.apply(null,t)}}function ZP(n){return oe.isObject(n)&&n.isAxiosError===!0}const xy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(xy).forEach(([n,e])=>{xy[e]=n});function fx(n){const e=new iu(n),t=H1(iu.prototype.request,e);return oe.extend(t,iu.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return fx(ou(n,a))},t}const ln=fx(Sf);ln.Axios=iu;ln.CanceledError=Fc;ln.CancelToken=qP;ln.isCancel=rx;ln.VERSION=cx;ln.toFormData=dp;ln.AxiosError=tt;ln.Cancel=ln.CanceledError;ln.all=function(e){return Promise.all(e)};ln.spread=GP;ln.isAxiosError=ZP;ln.mergeConfig=ou;ln.AxiosHeaders=Zi;ln.formToJSON=n=>ix(oe.isHTMLForm(n)?new FormData(n):n);ln.getAdapter=ux.getAdapter;ln.HttpStatusCode=xy;ln.default=ln;const{Axios:LB,AxiosError:MB,CanceledError:kB,isCancel:DB,CancelToken:jB,VERSION:VB,all:zB,Cancel:BB,isAxiosError:UB,spread:FB,toFormData:HB,AxiosHeaders:qB,HttpStatusCode:GB,formToJSON:ZB,getAdapter:WB,mergeConfig:KB}=ln;function dx(n,e){const t=K.useRef(e);K.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}function WP(n,e,t){e.center!==t.center&&n.setLatLng(e.center),e.radius!=null&&e.radius!==t.radius&&n.setRadius(e.radius)}const KP=1;function YP(n){return Object.freeze({__version:KP,map:n})}function mx(n,e){return Object.freeze({...n,...e})}const Rv=K.createContext(null);function pp(){const n=K.use(Rv);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function px(n){function e(t,r){const{instance:a,context:u}=n(t).current;K.useImperativeHandle(r,()=>a);const{children:f}=t;return f==null?null:_s.createElement(Rv,{value:u},f)}return K.forwardRef(e)}function $P(n){function e(t,r){const[a,u]=K.useState(!1),{instance:f}=n(t,u).current;K.useImperativeHandle(r,()=>f),K.useEffect(function(){a&&f.update()},[f,a,t.children]);const p=f._contentNode;return p?F1.createPortal(t.children,p):null}return K.forwardRef(e)}function QP(n){function e(t,r){const{instance:a}=n(t).current;return K.useImperativeHandle(r,()=>a),null}return K.forwardRef(e)}function Iv(n,e){const t=K.useRef(void 0);K.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function gp(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function XP(n,e){return function(r,a){const u=pp(),f=n(gp(r,u),u);return dx(u.map,r.attribution),Iv(f.current,r.eventHandlers),e(f.current,u,r,a),f}}var qh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var JP=qh.exports,dT;function eL(){return dT||(dT=1,(function(n,e){(function(t,r){r(e)})(JP,(function(t){var r="1.9.4";function a(o){var c,m,w,S;for(m=1,w=arguments.length;m<w;m++){S=arguments[m];for(c in S)o[c]=S[c]}return o}var u=Object.create||(function(){function o(){}return function(c){return o.prototype=c,new o}})();function f(o,c){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var w=m.call(arguments,2);return function(){return o.apply(c,w.length?w.concat(m.call(arguments)):arguments)}}var p=0;function _(o){return"_leaflet_id"in o||(o._leaflet_id=++p),o._leaflet_id}function v(o,c,m){var w,S,O,U;return U=function(){w=!1,S&&(O.apply(m,S),S=!1)},O=function(){w?S=arguments:(o.apply(m,arguments),setTimeout(U,c),w=!0)},O}function E(o,c,m){var w=c[1],S=c[0],O=w-S;return o===w&&m?o:((o-S)%O+O)%O+S}function A(){return!1}function I(o,c){if(c===!1)return o;var m=Math.pow(10,c===void 0?6:c);return Math.round(o*m)/m}function M(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function V(o){return M(o).split(/\s+/)}function F(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var m in c)o.options[m]=c[m];return o.options}function j(o,c,m){var w=[];for(var S in o)w.push(encodeURIComponent(m?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!c||c.indexOf("?")===-1?"?":"&")+w.join("&")}var le=/\{ *([\w_ -]+) *\}/g;function Ee(o,c){return o.replace(le,function(m,w){var S=c[w];if(S===void 0)throw new Error("No value provided for variable "+m);return typeof S=="function"&&(S=S(c)),S})}var ae=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function Se(o,c){for(var m=0;m<o.length;m++)if(o[m]===c)return m;return-1}var fe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Te(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var k=0;function D(o){var c=+new Date,m=Math.max(0,16-(c-k));return k=c+m,window.setTimeout(o,m)}var z=window.requestAnimationFrame||Te("RequestAnimationFrame")||D,W=window.cancelAnimationFrame||Te("CancelAnimationFrame")||Te("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function q(o,c,m){if(m&&z===D)o.call(c);else return z.call(window,f(o,c))}function H(o){o&&W.call(window,o)}var B={__proto__:null,extend:a,create:u,bind:f,get lastId(){return p},stamp:_,throttle:v,wrapNum:E,falseFn:A,formatNum:I,trim:M,splitWords:V,setOptions:F,getParamString:j,template:Ee,isArray:ae,indexOf:Se,emptyImageUrl:fe,requestFn:z,cancelFn:W,requestAnimFrame:q,cancelAnimFrame:H};function Ye(){}Ye.extend=function(o){var c=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,w=u(m);w.constructor=c,c.prototype=w;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return o.statics&&a(c,o.statics),o.includes&&(zt(o.includes),a.apply(null,[w].concat(o.includes))),a(w,o),delete w.statics,delete w.includes,w.options&&(w.options=m.options?u(m.options):{},a(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,U=w._initHooks.length;O<U;O++)w._initHooks[O].call(this)}},c},Ye.include=function(o){var c=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},Ye.mergeOptions=function(o){return a(this.prototype.options,o),this},Ye.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function zt(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=ae(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(o,c,m){if(typeof o=="object")for(var w in o)this._on(w,o[w],c);else{o=V(o);for(var S=0,O=o.length;S<O;S++)this._on(o[S],c,m)}return this},off:function(o,c,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],c);else{o=V(o);for(var S=arguments.length===1,O=0,U=o.length;O<U;O++)S?this._off(o[O]):this._off(o[O],c,m)}return this},_on:function(o,c,m,w){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,m)===!1){m===this&&(m=void 0);var S={fn:c,ctx:m};w&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,c,m){var w,S,O;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(S=0,O=w.length;S<O;S++)w[S].fn=A;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var U=this._listens(o,c,m);if(U!==!1){var X=w[U];this._firingCount&&(X.fn=A,this._events[o]=w=w.slice()),w.splice(U,1)}}},fire:function(o,c,m){if(!this.listens(o,m))return this;var w=a({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var O=0,U=S.length;O<U;O++){var X=S[O],ie=X.fn;X.once&&this.off(o,ie,X.ctx),ie.call(X.ctx||this,w)}this._firingCount--}}return m&&this._propagateEvent(w),this},listens:function(o,c,m,w){typeof o!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(w=!!c,S=void 0,m=void 0);var O=this._events&&this._events[o];if(O&&O.length&&this._listens(o,S,m)!==!1)return!0;if(w){for(var U in this._eventParents)if(this._eventParents[U].listens(o,c,m,w))return!0}return!1},_listens:function(o,c,m){if(!this._events)return!1;var w=this._events[o]||[];if(!c)return!!w.length;m===this&&(m=void 0);for(var S=0,O=w.length;S<O;S++)if(w[S].fn===c&&w[S].ctx===m)return S;return!1},once:function(o,c,m){if(typeof o=="object")for(var w in o)this._on(w,o[w],c,!0);else{o=V(o);for(var S=0,O=o.length;S<O;S++)this._on(o[S],c,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[_(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[_(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var Ae=Ye.extend(ne);function we(o,c,m){this.x=m?Math.round(o):o,this.y=m?Math.round(c):c}var nt=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};we.prototype={clone:function(){return new we(this.x,this.y)},add:function(o){return this.clone()._add(Z(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Z(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new we(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new we(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nt(this.x),this.y=nt(this.y),this},distanceTo:function(o){o=Z(o);var c=o.x-this.x,m=o.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(o){return o=Z(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=Z(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+I(this.x)+", "+I(this.y)+")"}};function Z(o,c,m){return o instanceof we?o:ae(o)?new we(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new we(o.x,o.y):new we(o,c,m)}function R(o,c){if(o)for(var m=c?[o,c]:o,w=0,S=m.length;w<S;w++)this.extend(m[w])}R.prototype={extend:function(o){var c,m;if(!o)return this;if(o instanceof we||typeof o[0]=="number"||"x"in o)c=m=Z(o);else if(o=$(o),c=o.min,m=o.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,m;return typeof o[0]=="number"||o instanceof we?o=Z(o):o=$(o),o instanceof R?(c=o.min,m=o.max):c=m=o,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=$(o);var c=this.min,m=this.max,w=o.min,S=o.max,O=S.x>=c.x&&w.x<=m.x,U=S.y>=c.y&&w.y<=m.y;return O&&U},overlaps:function(o){o=$(o);var c=this.min,m=this.max,w=o.min,S=o.max,O=S.x>c.x&&w.x<m.x,U=S.y>c.y&&w.y<m.y;return O&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,m=this.max,w=Math.abs(c.x-m.x)*o,S=Math.abs(c.y-m.y)*o;return $(Z(c.x-w,c.y-S),Z(m.x+w,m.y+S))},equals:function(o){return o?(o=$(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function $(o,c){return!o||o instanceof R?o:new R(o,c)}function ue(o,c){if(o)for(var m=c?[o,c]:o,w=0,S=m.length;w<S;w++)this.extend(m[w])}ue.prototype={extend:function(o){var c=this._southWest,m=this._northEast,w,S;if(o instanceof pe)w=o,S=o;else if(o instanceof ue){if(w=o._southWest,S=o._northEast,!w||!S)return this}else return o?this.extend(ve(o)||he(o)):this;return!c&&!m?(this._southWest=new pe(w.lat,w.lng),this._northEast=new pe(S.lat,S.lng)):(c.lat=Math.min(w.lat,c.lat),c.lng=Math.min(w.lng,c.lng),m.lat=Math.max(S.lat,m.lat),m.lng=Math.max(S.lng,m.lng)),this},pad:function(o){var c=this._southWest,m=this._northEast,w=Math.abs(c.lat-m.lat)*o,S=Math.abs(c.lng-m.lng)*o;return new ue(new pe(c.lat-w,c.lng-S),new pe(m.lat+w,m.lng+S))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof pe||"lat"in o?o=ve(o):o=he(o);var c=this._southWest,m=this._northEast,w,S;return o instanceof ue?(w=o.getSouthWest(),S=o.getNorthEast()):w=S=o,w.lat>=c.lat&&S.lat<=m.lat&&w.lng>=c.lng&&S.lng<=m.lng},intersects:function(o){o=he(o);var c=this._southWest,m=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),O=S.lat>=c.lat&&w.lat<=m.lat,U=S.lng>=c.lng&&w.lng<=m.lng;return O&&U},overlaps:function(o){o=he(o);var c=this._southWest,m=this._northEast,w=o.getSouthWest(),S=o.getNorthEast(),O=S.lat>c.lat&&w.lat<m.lat,U=S.lng>c.lng&&w.lng<m.lng;return O&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=he(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(o,c){return o instanceof ue?o:new ue(o,c)}function pe(o,c,m){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,m!==void 0&&(this.alt=+m)}pe.prototype={equals:function(o,c){if(!o)return!1;o=ve(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+I(this.lat,o)+", "+I(this.lng,o)+")"},distanceTo:function(o){return ke.distance(this,ve(o))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,m=c/Math.cos(Math.PI/180*this.lat);return he([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function ve(o,c,m){return o instanceof pe?o:ae(o)&&typeof o[0]!="object"?o.length===3?new pe(o[0],o[1],o[2]):o.length===2?new pe(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new pe(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new pe(o,c,m)}var xe={latLngToPoint:function(o,c){var m=this.projection.project(o),w=this.scale(c);return this.transformation._transform(m,w)},pointToLatLng:function(o,c){var m=this.scale(c),w=this.transformation.untransform(o,m);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(o),w=this.transformation.transform(c.min,m),S=this.transformation.transform(c.max,m);return new R(w,S)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?E(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?E(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new pe(m,c,w)},wrapLatLngBounds:function(o){var c=o.getCenter(),m=this.wrapLatLng(c),w=c.lat-m.lat,S=c.lng-m.lng;if(w===0&&S===0)return o;var O=o.getSouthWest(),U=o.getNorthEast(),X=new pe(O.lat-w,O.lng-S),ie=new pe(U.lat-w,U.lng-S);return new ue(X,ie)}},ke=a({},xe,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var m=Math.PI/180,w=o.lat*m,S=c.lat*m,O=Math.sin((c.lat-o.lat)*m/2),U=Math.sin((c.lng-o.lng)*m/2),X=O*O+Math.cos(w)*Math.cos(S)*U*U,ie=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*ie}}),Ue=6378137,bt={R:Ue,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,m=this.MAX_LATITUDE,w=Math.max(Math.min(m,o.lat),-m),S=Math.sin(w*c);return new we(this.R*o.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var c=180/Math.PI;return new pe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:(function(){var o=Ue*Math.PI;return new R([-o,-o],[o,o])})()};function ft(o,c,m,w){if(ae(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=m,this._d=w}ft.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new we((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function vt(o,c,m,w){return new ft(o,c,m,w)}var Bt=a({},ke,{code:"EPSG:3857",projection:bt,transformation:(function(){var o=.5/(Math.PI*bt.R);return vt(o,.5,-o,.5)})()}),Ke=a({},Bt,{code:"EPSG:900913"});function nn(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function hn(o,c){var m="",w,S,O,U,X,ie;for(w=0,O=o.length;w<O;w++){for(X=o[w],S=0,U=X.length;S<U;S++)ie=X[S],m+=(S?"L":"M")+ie.x+" "+ie.y;m+=c?Me.svg?"z":"x":""}return m||"M0 0"}var _n=document.documentElement.style,Tn="ActiveXObject"in window,Lt=Tn&&!document.addEventListener,St="msLaunchUri"in navigator&&!("documentMode"in document),Si=jn("webkit"),so=jn("android"),da=jn("android 2")||jn("android 3"),Sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xr=so&&jn("Google")&&Sn<537&&!("AudioNode"in window),vr=!!window.opera,Os=!St&&jn("chrome"),Wi=jn("gecko")&&!Si&&!vr&&!Tn,ao=!Os&&jn("safari"),Ns=jn("phantom"),Jr="OTransition"in _n,oo=navigator.platform.indexOf("Win")===0,ei=Tn&&"transition"in _n,yn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!da,mi="MozPerspective"in _n,rn=!window.L_DISABLE_3D&&(ei||yn||mi)&&!Jr&&!Ns,Ps=typeof orientation<"u"||jn("mobile"),lo=Ps&&Si,Cu=Ps&&yn,Ki=!window.PointerEvent&&window.MSPointerEvent,Ls=!!(window.PointerEvent||Ki),sn="ontouchstart"in window||!!window.TouchEvent,br=!window.L_NO_TOUCH&&(sn||Ls),wr=Ps&&vr,Yi=Ps&&Wi,eh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ru=(function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",A,c),window.removeEventListener("testPassiveEventSupport",A,c)}catch{}return o})(),Er=(function(){return!!document.createElement("canvas").getContext})(),es=!!(document.createElementNS&&nn("svg").createSVGRect),th=!!es&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ma=!es&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),pl=navigator.platform.indexOf("Mac")===0,gl=navigator.platform.indexOf("Linux")===0;function jn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Me={ie:Tn,ielt9:Lt,edge:St,webkit:Si,android:so,android23:da,androidStock:Xr,opera:vr,chrome:Os,gecko:Wi,safari:ao,phantom:Ns,opera12:Jr,win:oo,ie3d:ei,webkit3d:yn,gecko3d:mi,any3d:rn,mobile:Ps,mobileWebkit:lo,mobileWebkit3d:Cu,msPointer:Ki,pointer:Ls,touch:br,touchNative:sn,mobileOpera:wr,mobileGecko:Yi,retina:eh,passiveEvents:Ru,canvas:Er,svg:es,vml:ma,inlineSvg:th,mac:pl,linux:gl},_l=Me.msPointer?"MSPointerDown":"pointerdown",xi=Me.msPointer?"MSPointerMove":"pointermove",Ai=Me.msPointer?"MSPointerUp":"pointerup",an=Me.msPointer?"MSPointerCancel":"pointercancel",fn={touchstart:_l,touchmove:xi,touchend:Ai,touchcancel:an},$i={touchstart:Sr,touchmove:Vn,touchend:Vn,touchcancel:Vn},Qi={},Iu=!1;function Ou(o,c,m){return c==="touchstart"&&Ci(),$i[c]?(m=$i[c].bind(this,m),o.addEventListener(fn[c],m,!1),m):(console.warn("wrong event specified:",c),A)}function Nu(o,c,m){if(!fn[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(fn[c],m,!1)}function Tr(o){Qi[o.pointerId]=o}function uo(o){Qi[o.pointerId]&&(Qi[o.pointerId]=o)}function Xi(o){delete Qi[o.pointerId]}function Ci(){Iu||(document.addEventListener(_l,Tr,!0),document.addEventListener(xi,uo,!0),document.addEventListener(Ai,Xi,!0),document.addEventListener(an,Xi,!0),Iu=!0)}function Vn(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Qi)c.touches.push(Qi[m]);c.changedTouches=[c],o(c)}}function Sr(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Qt(c),Vn(o,c)}function dn(o){var c={},m,w;for(w in o)m=o[w],c[w]=m&&m.bind?m.bind(o):m;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var yl=200;function vl(o,c){o.addEventListener("dblclick",c);var m=0,w;function S(O){if(O.detail!==1){w=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var U=Vs(O);if(!(U.some(function(ie){return ie instanceof HTMLLabelElement&&ie.attributes.for})&&!U.some(function(ie){return ie instanceof HTMLInputElement||ie instanceof HTMLSelectElement}))){var X=Date.now();X-m<=yl?(w++,w===2&&c(dn(O))):w=1,m=X}}}return o.addEventListener("click",S),{dblclick:c,simDblclick:S}}function xr(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var Ri=ga(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ts=ga(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),co=ts==="webkitTransition"||ts==="OTransition"?ts+"End":"transitionend";function ho(o){return typeof o=="string"?document.getElementById(o):o}function Ms(o,c){var m=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);m=w?w[c]:null}return m==="auto"?null:m}function ot(o,c,m){var w=document.createElement(o);return w.className=c||"",m&&m.appendChild(w),w}function lt(o){var c=o.parentNode;c&&c.removeChild(o)}function Yt(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function $t(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function pi(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function pa(o,c){if(o.classList!==void 0)return o.classList.contains(c);var m=Ar(o);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Pe(o,c){if(o.classList!==void 0)for(var m=V(c),w=0,S=m.length;w<S;w++)o.classList.add(m[w]);else if(!pa(o,c)){var O=Ar(o);Ii(o,(O?O+" ":"")+c)}}function kt(o,c){o.classList!==void 0?o.classList.remove(c):Ii(o,M((" "+Ar(o)+" ").replace(" "+c+" "," ")))}function Ii(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function Ar(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function qt(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&fo(o,c)}function fo(o,c){var m=!1,w="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(w)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):o.style.filter+=" progid:"+w+"(opacity="+c+")"}function ga(o){for(var c=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in c)return o[m];return!1}function Ji(o,c,m){var w=c||new we(0,0);o.style[Ri]=(Me.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(m?" scale("+m+")":"")}function Dt(o,c){o._leaflet_pos=c,Me.any3d?Ji(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function Cr(o){return o._leaflet_pos||new we(0,0)}var Oi,xn,mo;if("onselectstart"in document)Oi=function(){Fe(window,"selectstart",Qt)},xn=function(){xt(window,"selectstart",Qt)};else{var ns=ga(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Oi=function(){if(ns){var o=document.documentElement.style;mo=o[ns],o[ns]="none"}},xn=function(){ns&&(document.documentElement.style[ns]=mo,mo=void 0)}}function _a(){Fe(window,"dragstart",Qt)}function ks(){xt(window,"dragstart",Qt)}var ya,Rr;function Ds(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ti(),ya=o,Rr=o.style.outlineStyle,o.style.outlineStyle="none",Fe(window,"keydown",ti))}function ti(){ya&&(ya.style.outlineStyle=Rr,ya=void 0,Rr=void 0,xt(window,"keydown",ti))}function po(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function ni(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var js={__proto__:null,TRANSFORM:Ri,TRANSITION:ts,TRANSITION_END:co,get:ho,getStyle:Ms,create:ot,remove:lt,empty:Yt,toFront:$t,toBack:pi,hasClass:pa,addClass:Pe,removeClass:kt,setClass:Ii,getClass:Ar,setOpacity:qt,testProp:ga,setTransform:Ji,setPosition:Dt,getPosition:Cr,get disableTextSelection(){return Oi},get enableTextSelection(){return xn},disableImageDrag:_a,enableImageDrag:ks,preventOutline:Ds,restoreOutline:ti,getSizedParentNode:po,getScale:ni};function Fe(o,c,m,w){if(c&&typeof c=="object")for(var S in c)ii(o,S,c[S],m);else{c=V(c);for(var O=0,U=c.length;O<U;O++)ii(o,c[O],m,w)}return this}var zn="_leaflet_events";function xt(o,c,m,w){if(arguments.length===1)is(o),delete o[zn];else if(c&&typeof c=="object")for(var S in c)rs(o,S,c[S],m);else if(c=V(c),arguments.length===2)is(o,function(X){return Se(c,X)!==-1});else for(var O=0,U=c.length;O<U;O++)rs(o,c[O],m,w);return this}function is(o,c){for(var m in o[zn]){var w=m.split(/\d/)[0];(!c||c(w))&&rs(o,w,null,null,m)}}var gi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ii(o,c,m,w){var S=c+_(m)+(w?"_"+_(w):"");if(o[zn]&&o[zn][S])return this;var O=function(X){return m.call(w||o,X||window.event)},U=O;!Me.touchNative&&Me.pointer&&c.indexOf("touch")===0?O=Ou(o,c,O):Me.touch&&c==="dblclick"?O=vl(o,O):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(gi[c]||c,O,Me.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(O=function(X){X=X||window.event,nr(o,X)&&U(X)},o.addEventListener(gi[c],O,!1)):o.addEventListener(c,U,!1):o.attachEvent("on"+c,O),o[zn]=o[zn]||{},o[zn][S]=O}function rs(o,c,m,w,S){S=S||c+_(m)+(w?"_"+_(w):"");var O=o[zn]&&o[zn][S];if(!O)return this;!Me.touchNative&&Me.pointer&&c.indexOf("touch")===0?Nu(o,c,O):Me.touch&&c==="dblclick"?xr(o,O):"removeEventListener"in o?o.removeEventListener(gi[c]||c,O,!1):o.detachEvent("on"+c,O),o[zn][S]=null}function dt(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ni(o){return ii(o,"wheel",dt),this}function ss(o){return Fe(o,"mousedown touchstart dblclick contextmenu",dt),o._leaflet_disable_click=!0,this}function Qt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function er(o){return Qt(o),dt(o),this}function Vs(o){if(o.composedPath)return o.composedPath();for(var c=[],m=o.target;m;)c.push(m),m=m.parentNode;return c}function Ir(o,c){if(!c)return new we(o.clientX,o.clientY);var m=ni(c),w=m.boundingClientRect;return new we((o.clientX-w.left)/m.x-c.clientLeft,(o.clientY-w.top)/m.y-c.clientTop)}var tr=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function An(o){return Me.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/tr:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function nr(o,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var Or={__proto__:null,on:Fe,off:xt,stopPropagation:dt,disableScrollPropagation:Ni,disableClickPropagation:ss,preventDefault:Qt,stop:er,getPropagationPath:Vs,getMousePosition:Ir,getWheelDelta:An,isExternalTarget:nr,addListener:Fe,removeListener:xt},as=Ae.extend({run:function(o,c,m,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Cr(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var m=this._startPos.add(this._offset.multiplyBy(o));c&&m._round(),Dt(this._el,m),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),at=Ae.extend({options:{crs:Bt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=F(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ve(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ts&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Fe(this._proxy,co,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(ve(o),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=a({animate:m.animate},m.zoom),m.pan=a({animate:m.animate,duration:m.duration},m.pan));var w=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,m.zoom):this._tryAnimatedPan(o,m.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,m){var w=this.getZoomScale(c),S=this.getSize().divideBy(2),O=o instanceof we?o:this.latLngToContainerPoint(o),U=O.subtract(S).multiplyBy(1-1/w),X=this.containerPointToLatLng(S.add(U));return this.setView(X,c,{zoom:m})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():he(o);var m=Z(c.paddingTopLeft||c.padding||[0,0]),w=Z(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(o,!1,m.add(w));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var O=w.subtract(m).divideBy(2),U=this.project(o.getSouthWest(),S),X=this.project(o.getNorthEast(),S),ie=this.unproject(U.add(X).divideBy(2).add(O),S);return{center:ie,zoom:S}},fitBounds:function(o,c){if(o=he(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=Z(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new as,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Pe(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,m){if(m=m||{},m.animate===!1||!Me.any3d)return this.setView(o,c,m);this._stop();var w=this.project(this.getCenter()),S=this.project(o),O=this.getSize(),U=this._zoom;o=ve(o),c=c===void 0?U:c;var X=Math.max(O.x,O.y),ie=X*this.getZoomScale(U,c),ge=S.distanceTo(w)||1,Ie=1.42,Ve=Ie*Ie;function it(on){var hs=on?-1:1,xa=on?ie:X,oh=ie*ie-X*X+hs*Ve*Ve*ge*ge,zl=2*xa*Ve*ge,Bl=oh/zl,Ks=Math.sqrt(Bl*Bl+1)-Bl,fs=Ks<1e-9?-18:Math.log(Ks);return fs}function Mn(on){return(Math.exp(on)-Math.exp(-on))/2}function mn(on){return(Math.exp(on)+Math.exp(-on))/2}function vi(on){return Mn(on)/mn(on)}var Ct=it(0);function Rt(on){return X*(mn(Ct)/mn(Ct+Ie*on))}function ut(on){return X*(mn(Ct)*vi(Ct+Ie*on)-Mn(Ct))/Ve}function Zs(on){return 1-Math.pow(1-on,1.5)}var Di=Date.now(),qu=(it(1)-Ct)/Ie,Ws=m.duration?1e3*m.duration:1e3*qu*.8;function ah(){var on=(Date.now()-Di)/Ws,hs=Zs(on)*qu;on<=1?(this._flyToFrame=q(ah,this),this._move(this.unproject(w.add(S.subtract(w).multiplyBy(ut(hs)/ge)),U),this.getScaleZoom(X/Rt(hs),U),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),ah.call(this),this},flyToBounds:function(o,c){var m=this._getBoundsCenterZoom(o,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(o){return o=he(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var m=this.getCenter(),w=this._limitCenter(m,this._zoom,he(o));return m.equals(w)||this.panTo(w,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var m=Z(c.paddingTopLeft||c.padding||[0,0]),w=Z(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),O=this.project(o),U=this.getPixelBounds(),X=$([U.min.add(m),U.max.subtract(w)]),ie=X.getSize();if(!X.contains(O)){this._enforcingBounds=!0;var ge=O.subtract(X.getCenter()),Ie=X.extend(O).getSize().subtract(ie);S.x+=ge.x<0?-Ie.x:Ie.x,S.y+=ge.y<0?-Ie.y:Ie.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),w=c.divideBy(2).round(),S=m.divideBy(2).round(),O=w.subtract(S);return!O.x&&!O.y?this:(o.animate&&o.pan?this.panBy(O):(o.pan&&this._rawPanBy(O),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,o):navigator.geolocation.getCurrentPosition(c,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,m=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,m=o.coords.longitude,w=new pe(c,m),S=w.toBounds(o.coords.accuracy*2),O=this._locateOptions;if(O.setView){var U=this.getBoundsZoom(S);this.setView(w,O.maxZoom?Math.min(U,O.maxZoom):U)}var X={latlng:w,bounds:S,timestamp:o.timestamp};for(var ie in o.coords)typeof o.coords[ie]=="number"&&(X[ie]=o.coords[ie]);this.fire("locationfound",X)}},addHandler:function(o,c){if(!c)return this;var m=this[o]=new c(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)lt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=ot("div",m,c||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new ue(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,m){o=he(o),m=Z(m||[0,0]);var w=this.getZoom()||0,S=this.getMinZoom(),O=this.getMaxZoom(),U=o.getNorthWest(),X=o.getSouthEast(),ie=this.getSize().subtract(m),ge=$(this.project(X,w),this.project(U,w)).getSize(),Ie=Me.any3d?this.options.zoomSnap:1,Ve=ie.x/ge.x,it=ie.y/ge.y,Mn=c?Math.max(Ve,it):Math.min(Ve,it);return w=this.getScaleZoom(Mn,w),Ie&&(w=Math.round(w/(Ie/100))*(Ie/100),w=c?Math.ceil(w/Ie)*Ie:Math.floor(w/Ie)*Ie),Math.max(S,Math.min(O,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new we(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var m=this._getTopLeftPoint(o,c);return new R(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(o)/m.scale(c)},getScaleZoom:function(o,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var w=m.zoom(o*m.scale(c));return isNaN(w)?1/0:w},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ve(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(Z(o),c)},layerPointToLatLng:function(o){var c=Z(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(ve(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(ve(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(he(o))},distance:function(o,c){return this.options.crs.distance(ve(o),ve(c))},containerPointToLayerPoint:function(o){return Z(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Z(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(Z(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ve(o)))},mouseEventToContainerPoint:function(o){return Ir(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=ho(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Fe(c,"scroll",this._onScroll,this),this._containerId=_(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,Pe(o,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Ms(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Dt(this._mapPane,new we(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pe(o.markerPane,"leaflet-zoom-hide"),Pe(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,m){Dt(this._mapPane,new we(0,0));var w=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,m)._move(o,c)._moveEnd(S),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,m,w){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?m&&m.pinch&&this.fire("zoom",m):((S||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Dt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[_(this._container)]=this;var c=o?xt:Fe;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var m=[],w,S=c==="mouseout"||c==="mouseover",O=o.target||o.srcElement,U=!1;O;){if(w=this._targets[_(O)],w&&(c==="click"||c==="preclick")&&this._draggableMoved(w)){U=!0;break}if(w&&w.listens(c,!0)&&(S&&!nr(O,o)||(m.push(w),S))||O===this._container)break;O=O.parentNode}return!m.length&&!U&&!S&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var m=o.type;m==="mousedown"&&Ds(c),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,m){if(o.type==="click"){var w=a({},o);w.type="preclick",this._fireDOMEvent(w,w.type,m)}var S=this._findEventTargets(o,c);if(m){for(var O=[],U=0;U<m.length;U++)m[U].listens(c,!0)&&O.push(m[U]);S=O.concat(S)}if(S.length){c==="contextmenu"&&Qt(o);var X=S[0],ie={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ge=X.getLatLng&&(!X._radius||X._radius<=10);ie.containerPoint=ge?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(o),ie.layerPoint=this.containerPointToLayerPoint(ie.containerPoint),ie.latlng=ge?X.getLatLng():this.layerPointToLatLng(ie.layerPoint)}for(U=0;U<S.length;U++)if(S[U].fire(c,ie,!0),ie.originalEvent._stopped||S[U].options.bubblingMouseEvents===!1&&Se(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return Cr(this._mapPane)||new we(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var m=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var m=this.getSize()._divideBy(2);return this.project(o,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,m){var w=this._getNewPixelOrigin(m,c);return this.project(o,c)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,c,m){var w=this._getNewPixelOrigin(m,c);return $([this.project(o.getSouthWest(),c)._subtract(w),this.project(o.getNorthWest(),c)._subtract(w),this.project(o.getSouthEast(),c)._subtract(w),this.project(o.getNorthEast(),c)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,m){if(!m)return o;var w=this.project(o,c),S=this.getSize().divideBy(2),O=new R(w.subtract(S),w.add(S)),U=this._getBoundsOffset(O,m,c);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?o:this.unproject(w.add(U),c)},_limitOffset:function(o,c){if(!c)return o;var m=this.getPixelBounds(),w=new R(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(w,c))},_getBoundsOffset:function(o,c,m){var w=$(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),S=w.min.subtract(o.min),O=w.max.subtract(o.max),U=this._rebound(S.x,-O.x),X=this._rebound(S.y,-O.y);return new we(U,X)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),m=this.getMaxZoom(),w=Me.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(c,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){kt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var m=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var o=this._proxy=ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var m=Ri,w=this._proxy.style[m];Ji(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),w===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();Ji(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(c),S=this._getCenterOffset(o)._divideBy(1-1/w);return m.animate!==!0&&!this.getSize().contains(S)?!1:(q(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,m,w){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&kt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function zs(o,c){return new at(o,c)}var Bn=Ye.extend({options:{position:"topright"},initialize:function(o){F(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),m=this.getPosition(),w=o._controlCorners[m];return Pe(c,"leaflet-control"),m.indexOf("bottom")!==-1?w.insertBefore(c,w.firstChild):w.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),ri=function(o){return new Bn(o)};at.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",m=this._controlContainer=ot("div",c+"control-container",this._container);function w(S,O){var U=c+S+" "+c+O;o[S+O]=ot("div",U,m)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)lt(this._controlCorners[o]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var va=Bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,m,w){return m<w?-1:w<m?1:0}},initialize:function(o,c,m){F(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in c)this._addLayer(c[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Bn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(_(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):kt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return kt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=ot("div",o),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),ss(c),Ni(c);var w=this._section=ot("section",o+"-list");m&&(this._map.on("click",this.collapse,this),Fe(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ot("a",o+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),Fe(S,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){Qt(O),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ot("div",o+"-base",w),this._separator=ot("div",o+"-separator",w),this._overlaysList=ot("div",o+"-overlays",w),c.appendChild(w)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&_(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(w,S){return this.options.sortFunction(w.layer,S.layer,w.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yt(this._baseLayersList),Yt(this._overlaysList),this._layerControlInputs=[];var o,c,m,w,S=0;for(m=0;m<this._layers.length;m++)w=this._layers[m],this._addItem(w),c=c||w.overlay,o=o||!w.overlay,S+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(_(o.target)),m=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(o,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=m,w.firstChild},_addItem:function(o){var c=document.createElement("label"),m=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=m):w=this._createRadioElement("leaflet-base-layers_"+_(this),m),this._layerControlInputs.push(w),w.layerId=_(o.layer),Fe(w,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var O=document.createElement("span");c.appendChild(O),O.appendChild(w),O.appendChild(S);var U=o.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,m,w=[],S=[];this._handlingClick=!0;for(var O=o.length-1;O>=0;O--)c=o[O],m=this._getLayer(c.layerId).layer,c.checked?w.push(m):c.checked||S.push(m);for(O=0;O<S.length;O++)this._map.hasLayer(S[O])&&this._map.removeLayer(S[O]);for(O=0;O<w.length;O++)this._map.hasLayer(w[O])||this._map.addLayer(w[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,m,w=this._map.getZoom(),S=o.length-1;S>=0;S--)c=o[S],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&w<m.options.minZoom||m.options.maxZoom!==void 0&&w>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Fe(o,"click",Qt),this.expand();var c=this;setTimeout(function(){xt(o,"click",Qt),c._preventClick=!1})}}),bl=function(o,c,m){return new va(o,c,m)},os=Bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",m=ot("div",c+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,m,w,S){var O=ot("a",m,w);return O.innerHTML=o,O.href="#",O.title=c,O.setAttribute("role","button"),O.setAttribute("aria-label",c),ss(O),Fe(O,"click",er),Fe(O,"click",S,this),Fe(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";kt(this._zoomInButton,c),kt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Pe(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Pe(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});at.mergeOptions({zoomControl:!0}),at.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new os,this.addControl(this.zoomControl))});var Pu=function(o){return new os(o)},wl=Bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",m=ot("div",c),w=this.options;return this._addScales(w,c+"-line",m),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,m){o.metric&&(this._mScale=ot("div",c,m)),o.imperial&&(this._iScale=ot("div",c,m))},_update:function(){var o=this._map,c=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/o)},_updateImperial:function(o){var c=o*3.2808399,m,w,S;c>5280?(m=c/5280,w=this._getRoundNum(m),this._updateScale(this._iScale,w+" mi",w/m)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(o,c,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),m=o/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),ba=function(o){return new wl(o)},El='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',go=Bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?El+" ":"")+"Leaflet</a>"},initialize:function(o){F(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ot("div","leaflet-control-attribution"),ss(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});at.mergeOptions({attributionControl:!0}),at.addInitHook(function(){this.options.attributionControl&&new go().addTo(this)});var _o=function(o){return new go(o)};Bn.Layers=va,Bn.Zoom=os,Bn.Scale=wl,Bn.Attribution=go,ri.layers=bl,ri.zoom=Pu,ri.scale=ba,ri.attribution=_o;var _i=Ye.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_i.addTo=function(o,c){return o.addHandler(c,this),this};var Lu={Events:ne},ir=Me.touch?"touchstart mousedown":"mousedown",rr=Ae.extend({options:{clickTolerance:3},initialize:function(o,c,m,w){F(this,w),this._element=o,this._dragStartTarget=c||o,this._preventOutline=m},enable:function(){this._enabled||(Fe(this._dragStartTarget,ir,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rr._dragging===this&&this.finishDrag(!0),xt(this._dragStartTarget,ir,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!pa(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){rr._dragging===this&&this.finishDrag();return}if(!(rr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(rr._dragging=this,this._preventOutline&&Ds(this._element),_a(),Oi(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,m=po(this._element);this._startPoint=new we(c.clientX,c.clientY),this._startPos=Cr(this._element),this._parentScale=ni(m);var w=o.type==="mousedown";Fe(document,w?"mousemove":"touchmove",this._onMove,this),Fe(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,m=new we(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Qt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Pe(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Dt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){kt(document.body,"leaflet-dragging"),this._lastTarget&&(kt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xt(document,"mousemove touchmove",this._onMove,this),xt(document,"mouseup touchend touchcancel",this._onUp,this),ks(),xn();var c=this._moved&&this._moving;this._moving=!1,rr._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Tl(o,c,m){var w,S=[1,4,2,8],O,U,X,ie,ge,Ie,Ve,it;for(O=0,Ie=o.length;O<Ie;O++)o[O]._code=se(o[O],c);for(X=0;X<4;X++){for(Ve=S[X],w=[],O=0,Ie=o.length,U=Ie-1;O<Ie;U=O++)ie=o[O],ge=o[U],ie._code&Ve?ge._code&Ve||(it=J(ge,ie,Ve,c,m),it._code=se(it,c),w.push(it)):(ge._code&Ve&&(it=J(ge,ie,Ve,c,m),it._code=se(it,c),w.push(it)),w.push(ie));o=w}return o}function Sl(o,c){var m,w,S,O,U,X,ie,ge,Ie;if(!o||o.length===0)throw new Error("latlngs not passed");wt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ve=ve([0,0]),it=he(o),Mn=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());Mn<1700&&(Ve=yo(o));var mn=o.length,vi=[];for(m=0;m<mn;m++){var Ct=ve(o[m]);vi.push(c.project(ve([Ct.lat-Ve.lat,Ct.lng-Ve.lng])))}for(X=ie=ge=0,m=0,w=mn-1;m<mn;w=m++)S=vi[m],O=vi[w],U=S.y*O.x-O.y*S.x,ie+=(S.x+O.x)*U,ge+=(S.y+O.y)*U,X+=U*3;X===0?Ie=vi[0]:Ie=[ie/X,ge/X];var Rt=c.unproject(Z(Ie));return ve([Rt.lat+Ve.lat,Rt.lng+Ve.lng])}function yo(o){for(var c=0,m=0,w=0,S=0;S<o.length;S++){var O=ve(o[S]);c+=O.lat,m+=O.lng,w++}return ve([c/w,m/w])}var Bs={__proto__:null,clipPolygon:Tl,polygonCenter:Sl,centroid:yo};function Un(o,c){if(!c||!o.length)return o.slice();var m=c*c;return o=T(o,m),o=ls(o,m),o}function xl(o,c,m){return Math.sqrt(Ze(o,c,m,!0))}function Mu(o,c,m){return Ze(o,c,m)}function ls(o,c){var m=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,S=new w(m);S[0]=S[m-1]=1,d(o,S,c,0,m-1);var O,U=[];for(O=0;O<m;O++)S[O]&&U.push(o[O]);return U}function d(o,c,m,w,S){var O=0,U,X,ie;for(X=w+1;X<=S-1;X++)ie=Ze(o[X],o[w],o[S],!0),ie>O&&(U=X,O=ie);O>m&&(c[U]=1,d(o,c,m,w,U),d(o,c,m,U,S))}function T(o,c){for(var m=[o[0]],w=1,S=0,O=o.length;w<O;w++)Ce(o[w],o[S])>c&&(m.push(o[w]),S=w);return S<O-1&&m.push(o[O-1]),m}var C;function P(o,c,m,w,S){var O=w?C:se(o,m),U=se(c,m),X,ie,ge;for(C=U;;){if(!(O|U))return[o,c];if(O&U)return!1;X=O||U,ie=J(o,c,X,m,S),ge=se(ie,m),X===O?(o=ie,O=ge):(c=ie,U=ge)}}function J(o,c,m,w,S){var O=c.x-o.x,U=c.y-o.y,X=w.min,ie=w.max,ge,Ie;return m&8?(ge=o.x+O*(ie.y-o.y)/U,Ie=ie.y):m&4?(ge=o.x+O*(X.y-o.y)/U,Ie=X.y):m&2?(ge=ie.x,Ie=o.y+U*(ie.x-o.x)/O):m&1&&(ge=X.x,Ie=o.y+U*(X.x-o.x)/O),new we(ge,Ie,S)}function se(o,c){var m=0;return o.x<c.min.x?m|=1:o.x>c.max.x&&(m|=2),o.y<c.min.y?m|=4:o.y>c.max.y&&(m|=8),m}function Ce(o,c){var m=c.x-o.x,w=c.y-o.y;return m*m+w*w}function Ze(o,c,m,w){var S=c.x,O=c.y,U=m.x-S,X=m.y-O,ie=U*U+X*X,ge;return ie>0&&(ge=((o.x-S)*U+(o.y-O)*X)/ie,ge>1?(S=m.x,O=m.y):ge>0&&(S+=U*ge,O+=X*ge)),U=o.x-S,X=o.y-O,w?U*U+X*X:new we(S,O)}function wt(o){return!ae(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function Et(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),wt(o)}function Gt(o,c){var m,w,S,O,U,X,ie,ge;if(!o||o.length===0)throw new Error("latlngs not passed");wt(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Ie=ve([0,0]),Ve=he(o),it=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());it<1700&&(Ie=yo(o));var Mn=o.length,mn=[];for(m=0;m<Mn;m++){var vi=ve(o[m]);mn.push(c.project(ve([vi.lat-Ie.lat,vi.lng-Ie.lng])))}for(m=0,w=0;m<Mn-1;m++)w+=mn[m].distanceTo(mn[m+1])/2;if(w===0)ge=mn[0];else for(m=0,O=0;m<Mn-1;m++)if(U=mn[m],X=mn[m+1],S=U.distanceTo(X),O+=S,O>w){ie=(O-w)/S,ge=[X.x-ie*(X.x-U.x),X.y-ie*(X.y-U.y)];break}var Ct=c.unproject(Z(ge));return ve([Ct.lat+Ie.lat,Ct.lng+Ie.lng])}var Pi={__proto__:null,simplify:Un,pointToSegmentDistance:xl,closestPointOnSegment:Mu,clipSegment:P,_getEdgeIntersection:J,_getBitCode:se,_sqClosestPointOnSegment:Ze,isFlat:wt,_flat:Et,polylineCenter:Gt},Li={project:function(o){return new we(o.lng,o.lat)},unproject:function(o){return new pe(o.y,o.x)},bounds:new R([-180,-90],[180,90])},yi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new R([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,m=this.R,w=o.lat*c,S=this.R_MINOR/m,O=Math.sqrt(1-S*S),U=O*Math.sin(w),X=Math.tan(Math.PI/4-w/2)/Math.pow((1-U)/(1+U),O/2);return w=-m*Math.log(Math.max(X,1e-10)),new we(o.lng*c*m,w)},unproject:function(o){for(var c=180/Math.PI,m=this.R,w=this.R_MINOR/m,S=Math.sqrt(1-w*w),O=Math.exp(-o.y/m),U=Math.PI/2-2*Math.atan(O),X=0,ie=.1,ge;X<15&&Math.abs(ie)>1e-7;X++)ge=S*Math.sin(U),ge=Math.pow((1-ge)/(1+ge),S/2),ie=Math.PI/2-2*Math.atan(O*ge)-U,U+=ie;return new pe(U*c,o.x*c/m)}},sr={__proto__:null,LonLat:Li,Mercator:yi,SphericalMercator:bt},wa=a({},ke,{code:"EPSG:3395",projection:yi,transformation:(function(){var o=.5/(Math.PI*yi.R);return vt(o,.5,-o,.5)})()}),Ea=a({},ke,{code:"EPSG:4326",projection:Li,transformation:vt(1/180,1,-1/180,.5)}),vo=a({},xe,{projection:Li,transformation:vt(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var m=c.lng-o.lng,w=c.lat-o.lat;return Math.sqrt(m*m+w*w)},infinite:!0});xe.Earth=ke,xe.EPSG3395=wa,xe.EPSG3857=Bt,xe.EPSG900913=Ke,xe.EPSG4326=Ea,xe.Simple=vo;var ar=Ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[_(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[_(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});at.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=_(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=_(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return _(o)in this._layers},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},_addLayers:function(o){o=o?ae(o)?o:[o]:[];for(var c=0,m=o.length;c<m;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[_(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=_(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,m=this._getZoomSpan();for(var w in this._zoomBoundLayers){var S=this._zoomBoundLayers[w].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bo=ar.extend({initialize:function(o,c){F(this,c),this._layers={};var m,w;if(o)for(m=0,w=o.length;m<w;m++)this.addLayer(o[m])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),m,w;for(m in this._layers)w=this._layers[m],w[o]&&w[o].apply(w,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return _(o)}}),tg=function(o,c){return new bo(o,c)},Nr=bo.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),bo.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),bo.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new ue;for(var c in this._layers){var m=this._layers[c];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),Hf=function(o,c){return new Nr(o,c)},Pr=Ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){F(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,c){var m=this.options,w=m[c+"Size"];typeof w=="number"&&(w=[w,w]);var S=Z(w),O=Z(c==="shadow"&&m.shadowAnchor||m.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(m.className||""),O&&(o.style.marginLeft=-O.x+"px",o.style.marginTop=-O.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return Me.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Al(o){return new Pr(o)}var Cl=Pr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Cl.imagePath!="string"&&(Cl.imagePath=this._detectIconPath()),(this.options.imagePath||Cl.imagePath)+Pr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(m,w,S){var O=w.exec(m);return O&&O[S]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ot("div","leaflet-default-icon-path",document.body),c=Ms(o,"background-image")||Ms(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Rl=_i.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new rr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pe(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&kt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,m=c._map,w=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,O=Cr(c._icon),U=m.getPixelBounds(),X=m.getPixelOrigin(),ie=$(U.min._subtract(X).add(S),U.max._subtract(X).subtract(S));if(!ie.contains(O)){var ge=Z((Math.max(ie.max.x,O.x)-ie.max.x)/(U.max.x-ie.max.x)-(Math.min(ie.min.x,O.x)-ie.min.x)/(U.min.x-ie.min.x),(Math.max(ie.max.y,O.y)-ie.max.y)/(U.max.y-ie.max.y)-(Math.min(ie.min.y,O.y)-ie.min.y)/(U.min.y-ie.min.y)).multiplyBy(w);m.panBy(ge,{animate:!1}),this._draggable._newPos._add(ge),this._draggable._startPos._add(ge),Dt(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=q(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,m=c._shadow,w=Cr(c._icon),S=c._map.layerPointToLatLng(w);m&&Dt(m,w),c._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Il=ar.extend({options:{icon:new Cl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){F(this,c),this._latlng=ve(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=ve(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),w=!1;m!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),Pe(m,c),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(m,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),O=!1;S!==this._shadow&&(this._removeShadow(),O=!0),S&&(Pe(S,c),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&O&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xt(this._icon,"focus",this._panOnFocus,this),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Dt(this._icon,o),this._shadow&&Dt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Rl)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Rl(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&qt(this._icon,o),this._shadow&&qt(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,m=c.iconSize?Z(c.iconSize):Z(0,0),w=c.iconAnchor?Z(c.iconAnchor):Z(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:m.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qf(o,c){return new Il(o,c)}var Lr=ar.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return F(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wo=Lr.extend({options:{fill:!0,radius:10},initialize:function(o,c){F(this,c),this._latlng=ve(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=ve(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return Lr.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,m=this._clickTolerance(),w=[o+m,c+m];this._pxBounds=new R(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gf(o,c){return new wo(o,c)}var ku=wo.extend({initialize:function(o,c,m){if(typeof c=="number"&&(c=a({},m,{radius:c})),F(this,c),this._latlng=ve(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new ue(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Lr.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,m=this._map,w=m.options.crs;if(w.distance===ke.distance){var S=Math.PI/180,O=this._mRadius/ke.R/S,U=m.project([c+O,o]),X=m.project([c-O,o]),ie=U.add(X).divideBy(2),ge=m.unproject(ie).lat,Ie=Math.acos((Math.cos(O*S)-Math.sin(c*S)*Math.sin(ge*S))/(Math.cos(c*S)*Math.cos(ge*S)))/S;(isNaN(Ie)||Ie===0)&&(Ie=O/Math.cos(Math.PI/180*c)),this._point=ie.subtract(m.getPixelOrigin()),this._radius=isNaN(Ie)?0:ie.x-m.project([ge,o-Ie]).x,this._radiusY=ie.y-U.y}else{var Ve=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Ve).x}this._updateBounds()}});function Zf(o,c,m){return new ku(o,c,m)}var us=Lr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){F(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,m=null,w=Ze,S,O,U=0,X=this._parts.length;U<X;U++)for(var ie=this._parts[U],ge=1,Ie=ie.length;ge<Ie;ge++){S=ie[ge-1],O=ie[ge];var Ve=w(o,S,O,!0);Ve<c&&(c=Ve,m=w(o,S,O))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=ve(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new ue,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return wt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],m=wt(o),w=0,S=o.length;w<S;w++)m?(c[w]=ve(o[w]),this._bounds.extend(c[w])):c[w]=this._convertLatLngs(o[w]);return c},_project:function(){var o=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new we(o,o);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,m){var w=o[0]instanceof pe,S=o.length,O,U;if(w){for(U=[],O=0;O<S;O++)U[O]=this._map.latLngToLayerPoint(o[O]),m.extend(U[O]);c.push(U)}else for(O=0;O<S;O++)this._projectLatlngs(o[O],c,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,w,S,O,U,X,ie;for(m=0,S=0,O=this._rings.length;m<O;m++)for(ie=this._rings[m],w=0,U=ie.length;w<U-1;w++)X=P(ie[w],ie[w+1],o,w,!0),X&&(c[S]=c[S]||[],c[S].push(X[0]),(X[1]!==ie[w+1]||w===U-2)&&(c[S].push(X[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,m=0,w=o.length;m<w;m++)o[m]=Un(o[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var m,w,S,O,U,X,ie=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,O=this._parts.length;m<O;m++)for(X=this._parts[m],w=0,U=X.length,S=U-1;w<U;S=w++)if(!(!c&&w===0)&&xl(o,X[S],X[w])<=ie)return!0;return!1}});function ng(o,c){return new us(o,c)}us._flat=Et;var Eo=us.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=us.prototype._convertLatLngs.call(this,o),m=c.length;return m>=2&&c[0]instanceof pe&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(o){us.prototype._setLatLngs.call(this,o),wt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return wt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,m=new we(c,c);if(o=new R(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,S=this._rings.length,O;w<S;w++)O=Tl(this._rings[w],o,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,m,w,S,O,U,X,ie,ge;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(O=0,ie=this._parts.length;O<ie;O++)for(m=this._parts[O],U=0,ge=m.length,X=ge-1;U<ge;X=U++)w=m[U],S=m[X],w.y>o.y!=S.y>o.y&&o.x<(S.x-w.x)*(o.y-w.y)/(S.y-w.y)+w.x&&(c=!c);return c||us.prototype._containsPoint.call(this,o,!0)}});function ig(o,c){return new Eo(o,c)}var cs=Nr.extend({initialize:function(o,c){F(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=ae(o)?o:o.features,m,w,S;if(c){for(m=0,w=c.length;m<w;m++)S=c[m],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var O=this.options;if(O.filter&&!O.filter(o))return this;var U=Fn(o,O);return U?(U.feature=Vu(o),U.defaultOptions=U.options,this.resetStyle(U),O.onEachFeature&&O.onEachFeature(o,U),this.addLayer(U)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function Fn(o,c){var m=o.type==="Feature"?o.geometry:o,w=m?m.coordinates:null,S=[],O=c&&c.pointToLayer,U=c&&c.coordsToLatLng||Du,X,ie,ge,Ie;if(!w&&!m)return null;switch(m.type){case"Point":return X=U(w),To(O,o,X,c);case"MultiPoint":for(ge=0,Ie=w.length;ge<Ie;ge++)X=U(w[ge]),S.push(To(O,o,X,c));return new Nr(S);case"LineString":case"MultiLineString":return ie=Ol(w,m.type==="LineString"?0:1,U),new us(ie,c);case"Polygon":case"MultiPolygon":return ie=Ol(w,m.type==="Polygon"?1:2,U),new Eo(ie,c);case"GeometryCollection":for(ge=0,Ie=m.geometries.length;ge<Ie;ge++){var Ve=Fn({geometry:m.geometries[ge],type:"Feature",properties:o.properties},c);Ve&&S.push(Ve)}return new Nr(S);case"FeatureCollection":for(ge=0,Ie=m.features.length;ge<Ie;ge++){var it=Fn(m.features[ge],c);it&&S.push(it)}return new Nr(S);default:throw new Error("Invalid GeoJSON object.")}}function To(o,c,m,w){return o?o(c,m):new Il(m,w&&w.markersInheritOptions&&w)}function Du(o){return new pe(o[1],o[0],o[2])}function Ol(o,c,m){for(var w=[],S=0,O=o.length,U;S<O;S++)U=c?Ol(o[S],c-1,m):(m||Du)(o[S]),w.push(U);return w}function ju(o,c){return o=ve(o),o.alt!==void 0?[I(o.lng,c),I(o.lat,c),I(o.alt,c)]:[I(o.lng,c),I(o.lat,c)]}function Nl(o,c,m,w){for(var S=[],O=0,U=o.length;O<U;O++)S.push(c?Nl(o[O],wt(o[O])?0:c-1,m,w):ju(o[O],w));return!c&&m&&S.length>0&&S.push(S[0].slice()),S}function Us(o,c){return o.feature?a({},o.feature,{geometry:c}):Vu(c)}function Vu(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Fs={toGeoJSON:function(o){return Us(this,{type:"Point",coordinates:ju(this.getLatLng(),o)})}};Il.include(Fs),ku.include(Fs),wo.include(Fs),us.include({toGeoJSON:function(o){var c=!wt(this._latlngs),m=Nl(this._latlngs,c?1:0,!1,o);return Us(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Eo.include({toGeoJSON:function(o){var c=!wt(this._latlngs),m=c&&!wt(this._latlngs[0]),w=Nl(this._latlngs,m?2:c?1:0,!0,o);return c||(w=[w]),Us(this,{type:(m?"Multi":"")+"Polygon",coordinates:w})}}),bo.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(o).geometry.coordinates)}),Us(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var m=c==="GeometryCollection",w=[];return this.eachLayer(function(S){if(S.toGeoJSON){var O=S.toGeoJSON(o);if(m)w.push(O.geometry);else{var U=Vu(O);U.type==="FeatureCollection"?w.push.apply(w,U.features):w.push(U)}}}),m?Us(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function zu(o,c){return new cs(o,c)}var Pl=zu,So=ar.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,m){this._url=o,this._bounds=he(c),F(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&$t(this._image),this},bringToBack:function(){return this._map&&pi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=he(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:ot("img");if(Pe(c,"leaflet-image-layer"),this._zoomAnimated&&Pe(c,"leaflet-zoom-animated"),this.options.className&&Pe(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Ji(this._image,m,c)},_reset:function(){var o=this._image,c=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Dt(o,c.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Wf=function(o,c,m){return new So(o,c,m)},Hs=So.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:ot("video");if(Pe(c,"leaflet-image-layer"),this._zoomAnimated&&Pe(c,"leaflet-zoom-animated"),this.options.className&&Pe(c,this.options.className),c.onselectstart=A,c.onmousemove=A,c.onloadeddata=f(this.fire,this,"load"),o){for(var m=c.getElementsByTagName("source"),w=[],S=0;S<m.length;S++)w.push(m[S].src);this._url=m.length>0?w:[c.src];return}ae(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var U=ot("source");U.src=this._url[O],c.appendChild(U)}}});function xo(o,c,m){return new Hs(o,c,m)}var Bu=So.extend({_initImage:function(){var o=this._image=this._url;Pe(o,"leaflet-image-layer"),this._zoomAnimated&&Pe(o,"leaflet-zoom-animated"),this.options.className&&Pe(o,this.options.className),o.onselectstart=A,o.onmousemove=A}});function Kf(o,c,m){return new Bu(o,c,m)}var Hn=ar.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof pe||ae(o))?(this._latlng=ve(o),F(this,c)):(F(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&qt(this._container,1),this.bringToFront(),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(qt(this._container,0),this._removeTimeout=setTimeout(f(lt,void 0,this._container),200)):lt(this._container),this.options.interactive&&(kt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=ve(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$t(this._container),this},bringToBack:function(){return this._map&&pi(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof Nr){c=null;var m=this._source._layers;for(var w in m)if(m[w]._map){c=m[w];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=Z(this.options.offset),m=this._getAnchor();this._zoomAnimated?Dt(this._container,o.add(m)):c=c.add(o).add(m);var w=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=w+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});at.include({_initOverlay:function(o,c,m,w){var S=c;return S instanceof o||(S=new o(w).setContent(c)),m&&S.setLatLng(m),S}}),ar.include({_initOverlay:function(o,c,m,w){var S=m;return S instanceof o?(F(S,w),S._source=this):(S=c&&!w?c:new o(w,this),S.setContent(m)),S}});var Ll=Hn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Hn.prototype.openOn.call(this,o)},onAdd:function(o){Hn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Lr||this._source.on("preclick",dt))},onRemove:function(o){Hn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Lr||this._source.off("preclick",dt))},getEvents:function(){var o=Hn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=ot("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ot("div",o+"-content-wrapper",c);if(this._contentNode=ot("div",o+"-content",m),ss(c),Ni(this._contentNode),Fe(c,"contextmenu",dt),this._tipContainer=ot("div",o+"-tip-container",c),this._tip=ot("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=ot("a",o+"-close-button",c);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Fe(w,"click",function(S){Qt(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var w=o.offsetHeight,S=this.options.maxHeight,O="leaflet-popup-scrolled";S&&w>S?(c.height=S+"px",Pe(o,O)):kt(o,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();Dt(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(Ms(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,w=this._containerWidth,S=new we(this._containerLeft,-m-this._containerBottom);S._add(Cr(this._container));var O=o.layerPointToContainerPoint(S),U=Z(this.options.autoPanPadding),X=Z(this.options.autoPanPaddingTopLeft||U),ie=Z(this.options.autoPanPaddingBottomRight||U),ge=o.getSize(),Ie=0,Ve=0;O.x+w+ie.x>ge.x&&(Ie=O.x+w-ge.x+ie.x),O.x-Ie-X.x<0&&(Ie=O.x-X.x),O.y+m+ie.y>ge.y&&(Ve=O.y+m-ge.y+ie.y),O.y-Ve-X.y<0&&(Ve=O.y-X.y),(Ie||Ve)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([Ie,Ve]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yf=function(o,c){return new Ll(o,c)};at.mergeOptions({closePopupOnClick:!0}),at.include({openPopup:function(o,c,m){return this._initOverlay(Ll,o,c,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),ar.include({bindPopup:function(o,c){return this._popup=this._initOverlay(Ll,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Nr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){er(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof Lr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ml=Hn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Hn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Hn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Hn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ot("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,m,w=this._map,S=this._container,O=w.latLngToContainerPoint(w.getCenter()),U=w.layerPointToContainerPoint(o),X=this.options.direction,ie=S.offsetWidth,ge=S.offsetHeight,Ie=Z(this.options.offset),Ve=this._getAnchor();X==="top"?(c=ie/2,m=ge):X==="bottom"?(c=ie/2,m=0):X==="center"?(c=ie/2,m=ge/2):X==="right"?(c=0,m=ge/2):X==="left"?(c=ie,m=ge/2):U.x<O.x?(X="right",c=0,m=ge/2):(X="left",c=ie+(Ie.x+Ve.x)*2,m=ge/2),o=o.subtract(Z(c,m,!0)).add(Ie).add(Ve),kt(S,"leaflet-tooltip-right"),kt(S,"leaflet-tooltip-left"),kt(S,"leaflet-tooltip-top"),kt(S,"leaflet-tooltip-bottom"),Pe(S,"leaflet-tooltip-"+X),Dt(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&qt(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rg=function(o,c){return new Ml(o,c)};at.include({openTooltip:function(o,c,m){return this._initOverlay(Ml,o,c,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),ar.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ml,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Nr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(Fe(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Fe(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,m,w;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(c)}});var $f=Pr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Yt(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var w=Z(m.bgPos);c.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function sg(o){return new $f(o)}Pr.Default=Cl;var Ao=ar.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){F(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),lt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($t(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(pi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof we?o:new we(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,m=-o(-1/0,1/0),w=0,S=c.length,O;w<S;w++)O=c[w].style.zIndex,c[w]!==this._container&&O&&(m=o(m,+O));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){qt(this._container,this.options.opacity);var o=+new Date,c=!1,m=!1;for(var w in this._tiles){var S=this._tiles[w];if(!(!S.current||!S.loaded)){var O=Math.min(1,(o-S.loaded)/200);qt(S.el,O),O<1?c=!0:(S.active?m=!0:this._onOpaqueTile(S),S.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(H(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=c-Math.abs(o-m),this._onUpdateLevel(m)):(lt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var w=this._levels[o],S=this._map;return w||(w=this._levels[o]={},w.el=ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=c,w.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,S.getCenter(),S.getZoom()),A(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var o,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var w=c.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)lt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,m,w){var S=Math.floor(o/2),O=Math.floor(c/2),U=m-1,X=new we(+S,+O);X.z=+U;var ie=this._tileCoordsToKey(X),ge=this._tiles[ie];return ge&&ge.active?(ge.retain=!0,!0):(ge&&ge.loaded&&(ge.retain=!0),U>w?this._retainParent(S,O,U,w):!1)},_retainChildren:function(o,c,m,w){for(var S=2*o;S<2*o+2;S++)for(var O=2*c;O<2*c+2;O++){var U=new we(S,O);U.z=m+1;var X=this._tileCoordsToKey(U),ie=this._tiles[X];if(ie&&ie.active){ie.retain=!0;continue}else ie&&ie.loaded&&(ie.retain=!0);m+1<w&&this._retainChildren(S,O,m+1,w)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,m,w){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var O=this.options.updateWhenZooming&&S!==this._tileZoom;(!w||O)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,c)},_setZoomTransform:function(o,c,m){var w=this._map.getZoomScale(m,o.zoom),S=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(c,m)).round();Me.any3d?Ji(o.el,S,w):Dt(o.el,S)},_resetGrid:function(){var o=this._map,c=o.options.crs,m=this._tileSize=this.getTileSize(),w=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],w).x/m.x),Math.ceil(o.project([0,c.wrapLng[1]],w).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],w).y/m.x),Math.ceil(o.project([c.wrapLat[1],0],w).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),w=c.getZoomScale(m,this._tileZoom),S=c.project(o,this._tileZoom).floor(),O=c.getSize().divideBy(w*2);return new R(S.subtract(O),S.add(O))},_update:function(o){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(w),O=S.getCenter(),U=[],X=this.options.keepBuffer,ie=new R(S.getBottomLeft().subtract([X,-X]),S.getTopRight().add([X,-X]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ge in this._tiles){var Ie=this._tiles[ge].coords;(Ie.z!==this._tileZoom||!ie.contains(new we(Ie.x,Ie.y)))&&(this._tiles[ge].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var Ve=S.min.y;Ve<=S.max.y;Ve++)for(var it=S.min.x;it<=S.max.x;it++){var Mn=new we(it,Ve);if(Mn.z=this._tileZoom,!!this._isValidTile(Mn)){var mn=this._tiles[this._tileCoordsToKey(Mn)];mn?mn.current=!0:U.push(Mn)}}if(U.sort(function(Ct,Rt){return Ct.distanceTo(O)-Rt.distanceTo(O)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vi=document.createDocumentFragment();for(it=0;it<U.length;it++)this._addTile(U[it],vi);this._level.el.appendChild(vi)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!c.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return he(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,m=this.getTileSize(),w=o.scaleBy(m),S=w.add(m),O=c.unproject(w,o.z),U=c.unproject(S,o.z);return[O,U]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),m=new ue(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),m=new we(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(o){var c=this._tiles[o];c&&(lt(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Pe(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=A,o.onmousemove=A,Me.ielt9&&this.options.opacity<1&&qt(o,this.options.opacity)},_addTile:function(o,c){var m=this._getTilePos(o),w=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&q(f(this._tileReady,this,o,null,S)),Dt(S,m),this._tiles[w]={el:S,coords:o,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:o});var w=this._tileCoordsToKey(o);m=this._tiles[w],m&&(m.loaded=+new Date,this._map._fadeAnimated?(qt(m.el,0),H(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Pe(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new we(this._wrapX?E(o.x,this._wrapX):o.x,this._wrapY?E(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new R(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Qf(o){return new Ao(o)}var qs=Ao.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=F(this,c),c.detectRetina&&Me.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var m=document.createElement("img");return Fe(m,"load",f(this._tileOnLoad,this,c,m)),Fe(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var c={r:Me.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=m),c["-y"]=m}return Ee(this._url,a(c,this.options))},_tileOnLoad:function(o,c){Me.ielt9?setTimeout(f(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,m){var w=this.options.errorTileUrl;w&&c.getAttribute("src")!==w&&(c.src=w),o(m,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,w=this.options.zoomOffset;return m&&(o=c-o),o+w},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=A,c.onerror=A,!c.complete)){c.src=fe;var m=this._tiles[o].coords;lt(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",fe),Ao.prototype._removeTile.call(this,o)},_tileReady:function(o,c,m){if(!(!this._map||m&&m.getAttribute("src")===fe))return Ao.prototype._tileReady.call(this,o,c,m)}});function Mi(o,c){return new qs(o,c)}var kl=qs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var m=a({},this.defaultWmsParams);for(var w in c)w in this.options||(m[w]=c[w]);c=F(this,c);var S=c.detectRetina&&Me.retina?2:1,O=this.getTileSize();m.width=O.x*S,m.height=O.y*S,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,qs.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),m=this._crs,w=$(m.project(c[0]),m.project(c[1])),S=w.min,O=w.max,U=(this._wmsVersion>=1.3&&this._crs===Ea?[S.y,S.x,O.y,O.x]:[S.x,S.y,O.x,O.y]).join(","),X=qs.prototype.getTileUrl.call(this,o);return X+j(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(o,c){return a(this.wmsParams,o),c||this.redraw(),this}});function ki(o,c){return new kl(o,c)}qs.WMS=kl,Mi.wms=ki;var si=ar.extend({options:{padding:.1},initialize:function(o){F(this,o),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var m=this._map.getZoomScale(c,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),O=w.multiplyBy(-m).add(S).subtract(this._map._getNewPixelOrigin(o,c));Me.any3d?Ji(this._container,O,m):Dt(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new R(m,m.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Uu=si.extend({options:{tolerance:0},getEvents:function(){var o=si.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Fe(o,"mousemove",this._onMouseMove,this),Fe(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Fe(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,lt(this._container),xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){si.prototype._update.call(this);var o=this._bounds,c=this._container,m=o.getSize(),w=Me.retina?2:1;Dt(c,o.min),c.width=w*m.x,c.height=w*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[_(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,m=c.next,w=c.prev;m?m.prev=w:this._drawLast=w,w?w.next=m:this._drawFirst=m,delete o._order,delete this._layers[_(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),m=[],w,S;for(S=0;S<c.length;S++){if(w=Number(c[S]),isNaN(w))return;m.push(w)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var m,w,S,O,U=o._parts,X=U.length,ie=this._ctx;if(X){for(ie.beginPath(),m=0;m<X;m++){for(w=0,S=U[m].length;w<S;w++)O=U[m][w],ie[w?"lineTo":"moveTo"](O.x,O.y);c&&ie.closePath()}this._fillStroke(ie,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,m=this._ctx,w=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||w)/w;S!==1&&(m.save(),m.scale(1,S)),m.beginPath(),m.arc(c.x,c.y/S,w,0,Math.PI*2,!1),S!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,c){var m=c.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),m,w,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(w=m);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(kt(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var m,w,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(c)&&(w=m);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,m){this._map._fireDOMEvent(c,m||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var m=c.next,w=c.prev;if(m)m.prev=w;else return;w?w.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var m=c.next,w=c.prev;if(w)w.next=m;else return;m?m.prev=w:w&&(this._drawLast=w),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function Dl(o){return Me.canvas?new Uu(o):null}var Gs=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),nh={_initContainer:function(){this._container=ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(si.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Gs("shape");Pe(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Gs("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[_(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;lt(c),o.removeInteractiveTarget(c),delete this._layers[_(o)]},_updateStyle:function(o){var c=o._stroke,m=o._fill,w=o.options,S=o._container;S.stroked=!!w.stroke,S.filled=!!w.fill,w.stroke?(c||(c=o._stroke=Gs("stroke")),S.appendChild(c),c.weight=w.weight+"px",c.color=w.color,c.opacity=w.opacity,w.dashArray?c.dashStyle=ae(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=w.lineCap.replace("butt","flat"),c.joinstyle=w.lineJoin):c&&(S.removeChild(c),o._stroke=null),w.fill?(m||(m=o._fill=Gs("fill")),S.appendChild(m),m.color=w.fillColor||w.color,m.opacity=w.fillOpacity):m&&(S.removeChild(m),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),m=Math.round(o._radius),w=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+w+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){$t(o._container)},_bringToBack:function(o){pi(o._container)}},Mr=Me.vml?Gs:nn,Co=si.extend({_initContainer:function(){this._container=Mr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Mr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){si.prototype._update.call(this);var o=this._bounds,c=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Dt(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=Mr("path");o.options.className&&Pe(c,o.options.className),o.options.interactive&&Pe(c,"leaflet-interactive"),this._updateStyle(o),this._layers[_(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){lt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[_(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,m=o.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,hn(o._parts,c))},_updateCircle:function(o){var c=o._point,m=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||m,S="a"+m+","+w+" 0 1,0 ",O=o._empty()?"M0 0":"M"+(c.x-m)+","+c.y+S+m*2+",0 "+S+-m*2+",0 ";this._setPath(o,O)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){$t(o._path)},_bringToBack:function(o){pi(o._path)}});Me.vml&&Co.include(nh);function jl(o){return Me.svg||Me.vml?new Co(o):null}at.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&Dl(o)||jl(o)}});var Ta=Eo.extend({initialize:function(o,c){Eo.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=he(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function ag(o,c){return new Ta(o,c)}Co.create=Mr,Co.pointsToPath=hn,cs.geometryToLayer=Fn,cs.coordsToLatLng=Du,cs.coordsToLatLngs=Ol,cs.latLngToCoords=ju,cs.latLngsToCoords=Nl,cs.getFeature=Us,cs.asFeature=Vu,at.mergeOptions({boxZoom:!0});var ai=_i.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Oi(),_a(),this._startPoint=this._map.mouseEventToContainerPoint(o),Fe(document,{contextmenu:er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ot("div","leaflet-zoom-box",this._container),Pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new R(this._point,this._startPoint),m=c.getSize();Dt(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(lt(this._box),kt(this._container,"leaflet-crosshair")),xn(),ks(),xt(document,{contextmenu:er,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new ue(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});at.addInitHook("addHandler","boxZoom",ai),at.mergeOptions({doubleClickZoom:!0});var Fu=_i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,m=c.getZoom(),w=c.options.zoomDelta,S=o.originalEvent.shiftKey?m-w:m+w;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(o.containerPoint,S)}});at.addInitHook("addHandler","doubleClickZoom",Fu),at.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var kr=_i.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new rr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){kt(this._map._container,"leaflet-grab"),kt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=he(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),m=this._initialWorldOffset,w=this._draggable._newPos.x,S=(w-c+m)%o+c-m,O=(w+c+m)%o-c-m,U=Math.abs(S+m)<Math.abs(O+m)?S:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(o){var c=this._map,m=c.options,w=!m.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),w)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,U=m.easeLinearity,X=S.multiplyBy(U/O),ie=X.distanceTo([0,0]),ge=Math.min(m.inertiaMaxSpeed,ie),Ie=X.multiplyBy(ge/ie),Ve=ge/(m.inertiaDeceleration*U),it=Ie.multiplyBy(-Ve/2).round();!it.x&&!it.y?c.fire("moveend"):(it=c._limitOffset(it,c.options.maxBounds),q(function(){c.panBy(it,{duration:Ve,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});at.addInitHook("addHandler","dragging",kr),at.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ih=_i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Fe(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,m=o.scrollTop||c.scrollTop,w=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(w,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},m=this.keyCodes,w,S;for(w=0,S=m.left.length;w<S;w++)c[m.left[w]]=[-1*o,0];for(w=0,S=m.right.length;w<S;w++)c[m.right[w]]=[o,0];for(w=0,S=m.down.length;w<S;w++)c[m.down[w]]=[0,o];for(w=0,S=m.up.length;w<S;w++)c[m.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},m=this.keyCodes,w,S;for(w=0,S=m.zoomIn.length;w<S;w++)c[m.zoomIn[w]]=o;for(w=0,S=m.zoomOut.length;w<S;w++)c[m.zoomOut[w]]=-o},_addHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,m=this._map,w;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(w=this._panKeys[c],o.shiftKey&&(w=Z(w).multiplyBy(3)),m.options.maxBounds&&(w=m._limitOffset(Z(w),m.options.maxBounds)),m.options.worldCopyJump){var S=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(w)));m.panTo(S)}else m.panBy(w)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;er(o)}}});at.addInitHook("addHandler","keyboard",ih),at.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vl=_i.extend({addHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=An(o),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),w),er(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,O=m?Math.ceil(S/m)*m:S,U=o._limitZoom(c+(this._delta>0?O:-O))-c;this._delta=0,this._startTime=null,U&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+U):o.setZoomAround(this._lastMousePos,c+U))}});at.addInitHook("addHandler","scrollWheelZoom",Vl);var Sa=600;at.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var Hu=_i.extend({addHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new we(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Fe(document,"touchend",Qt),Fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Sa),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){xt(document,"touchend",Qt),xt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),xt(document,"touchend touchcancel contextmenu",this._cancel,this),xt(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new we(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});at.addInitHook("addHandler","tapHold",Hu),at.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var rh=_i.extend({addHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){kt(this._map._container,"leaflet-touch-zoom"),xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(o.touches[0]),w=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(w)._divideBy(2))),this._startDist=m.distanceTo(w),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),Qt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(o.touches[0]),w=c.mouseEventToContainerPoint(o.touches[1]),S=m.distanceTo(w)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var O=m._add(w)._divideBy(2)._subtract(this._centerPoint);if(S===1&&O.x===0&&O.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var U=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(U,this,!0),Qt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),xt(document,"touchmove",this._onTouchMove,this),xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});at.addInitHook("addHandler","touchZoom",rh),at.BoxZoom=ai,at.DoubleClickZoom=Fu,at.Drag=kr,at.Keyboard=ih,at.ScrollWheelZoom=Vl,at.TapHold=Hu,at.TouchZoom=rh,t.Bounds=R,t.Browser=Me,t.CRS=xe,t.Canvas=Uu,t.Circle=ku,t.CircleMarker=wo,t.Class=Ye,t.Control=Bn,t.DivIcon=$f,t.DivOverlay=Hn,t.DomEvent=Or,t.DomUtil=js,t.Draggable=rr,t.Evented=Ae,t.FeatureGroup=Nr,t.GeoJSON=cs,t.GridLayer=Ao,t.Handler=_i,t.Icon=Pr,t.ImageOverlay=So,t.LatLng=pe,t.LatLngBounds=ue,t.Layer=ar,t.LayerGroup=bo,t.LineUtil=Pi,t.Map=at,t.Marker=Il,t.Mixin=Lu,t.Path=Lr,t.Point=we,t.PolyUtil=Bs,t.Polygon=Eo,t.Polyline=us,t.Popup=Ll,t.PosAnimation=as,t.Projection=sr,t.Rectangle=Ta,t.Renderer=si,t.SVG=Co,t.SVGOverlay=Bu,t.TileLayer=qs,t.Tooltip=Ml,t.Transformation=ft,t.Util=B,t.VideoOverlay=Hs,t.bind=f,t.bounds=$,t.canvas=Dl,t.circle=Zf,t.circleMarker=Gf,t.control=ri,t.divIcon=sg,t.extend=a,t.featureGroup=Hf,t.geoJSON=zu,t.geoJson=Pl,t.gridLayer=Qf,t.icon=Al,t.imageOverlay=Wf,t.latLng=ve,t.latLngBounds=he,t.layerGroup=tg,t.map=zs,t.marker=qf,t.point=Z,t.polygon=ig,t.polyline=ng,t.popup=Yf,t.rectangle=ag,t.setOptions=F,t.stamp=_,t.svg=jl,t.svgOverlay=Kf,t.tileLayer=Mi,t.tooltip=rg,t.transformation=vt,t.version=r,t.videoOverlay=xo;var sh=window.L;t.noConflict=function(){return window.L=sh,this},window.L=t}))})(qh,qh.exports)),qh.exports}var Hc=eL();const Ov=A1(Hc);function _p(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function yp(n,e){return e==null?function(r,a){const u=K.useRef(void 0);return u.current||(u.current=n(r,a)),u}:function(r,a){const u=K.useRef(void 0);u.current||(u.current=n(r,a));const f=K.useRef(r),{instance:p}=u.current;return K.useEffect(function(){f.current!==r&&(e(p,r,f.current),f.current=r)},[p,r,e]),u}}function gx(n,e){K.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var u;(u=e.layerContainer)==null||u.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function _x(n){return function(t){const r=pp(),a=n(gp(t,r),r);return dx(r.map,t.attribution),Iv(a.current,t.eventHandlers),gx(a.current,r),a}}function tL(n,e){const t=K.useRef(void 0);K.useEffect(function(){if(e.pathOptions!==t.current){const a=e.pathOptions??{};n.instance.setStyle(a),t.current=a}},[n,e])}function nL(n){return function(t){const r=pp(),a=n(gp(t,r),r);return Iv(a.current,t.eventHandlers),gx(a.current,r),tL(a.current,t),a}}function iL(n,e){const t=yp(n,e),r=_x(t);return px(r)}function rL(n,e){const t=yp(n),r=XP(t,e);return $P(r)}function sL(n,e){const t=yp(n,e),r=nL(t);return px(r)}function aL(n,e){const t=yp(n,e),r=_x(t);return QP(r)}function oL(n,e,t){const{opacity:r,zIndex:a}=e;r!=null&&r!==t.opacity&&n.setOpacity(r),a!=null&&a!==t.zIndex&&n.setZIndex(a)}function yx(){return pp().map}const lL=sL(function({center:e,children:t,...r},a){const u=new Hc.CircleMarker(e,r);return _p(u,mx(a,{overlayContainer:u}))},WP);function uL({bounds:n,boundsOptions:e,center:t,children:r,className:a,id:u,placeholder:f,style:p,whenReady:_,zoom:v,...E},A){const[I]=K.useState({className:a,id:u,style:p}),[M,V]=K.useState(null),F=K.useRef(void 0);K.useImperativeHandle(A,()=>(M==null?void 0:M.map)??null,[M]);const j=K.useCallback(Ee=>{if(Ee!==null&&!F.current){const ae=new Hc.Map(Ee,E);F.current=ae,t!=null&&v!=null?ae.setView(t,v):n!=null&&ae.fitBounds(n,e),_!=null&&ae.whenReady(_),V(YP(ae))}},[]);K.useEffect(()=>()=>{M==null||M.map.remove()},[M]);const le=M?_s.createElement(Rv,{value:M},r):f??null;return _s.createElement("div",{...I,ref:j},le)}const vx=K.forwardRef(uL),mT=iL(function({position:e,...t},r){const a=new Hc.Marker(e,t);return _p(a,mx(r,{overlayContainer:a}))},function(e,t,r){t.position!==r.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==r.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==r.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==r.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),Ay=rL(function(e,t){const r=new Hc.Popup(e,t.overlayContainer);return _p(r,t)},function(e,t,{position:r},a){K.useEffect(function(){const{instance:f}=e;function p(v){v.popup===f&&(f.update(),a(!0))}function _(v){v.popup===f&&a(!1)}return t.map.on({popupopen:p,popupclose:_}),t.overlayContainer==null?(r!=null&&f.setLatLng(r),f.openOn(t.map)):t.overlayContainer.bindPopup(f),function(){var E;t.map.off({popupopen:p,popupclose:_}),(E=t.overlayContainer)==null||E.unbindPopup(),t.map.removeLayer(f)}},[e,t,a,r])}),bx=aL(function({url:e,...t},r){const a=new Hc.TileLayer(e,gp(t,r));return _p(a,r)},function(e,t,r){oL(e,t,r);const{url:a}=t;a!=null&&a!==r.url&&e.setUrl(a)}),pT={REQUESTED:"REQUESTED",CONFIRMED:"CONFIRMED",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED"},ru={DUMMY:"DUMMY",GREENWHEELS:"GREENWHEELS",MYWHEELS:"MYWHEELS",EINDHOVEN:"EINDHOVEN"},K_={EV:"EV",HYBRID:"HYBRID",PETROL:"PETROL"},cL=({center:n,zoom:e})=>{const t=yx();return K.useEffect(()=>{t.setView(n,e),t.invalidateSize()},[n,e,t]),null},hL=n=>{const t=(r=>r.toLowerCase())(n);return t.includes("mywheels")?"#116284":t.includes("greenwheels")?"#106F62":t.includes("iris")?"#EA8D31":"#C32D1C"},wx=({cars:n,center:e=[51.4416,5.4697],zoom:t=13})=>b.jsx("div",{className:"car-map-container",style:{height:"500px",width:"100%",borderRadius:"12px",overflow:"hidden",zIndex:0},children:b.jsxs(vx,{center:e,zoom:t,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[b.jsx(bx,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),b.jsx(cL,{center:e,zoom:t}),n.map(r=>{const a=r.provider===ru.EINDHOVEN?hL(r.make):"#3498db";return r.location&&r.location.latitude&&r.location.longitude&&b.jsx(lL,{center:[r.location.latitude,r.location.longitude],radius:8,pathOptions:{color:a,fillColor:a,fillOpacity:.7},children:b.jsx(Ay,{children:b.jsxs("div",{className:"car-popup",children:[b.jsxs("h4",{style:{margin:"0 0 5px 0"},children:[r.make," ",r.model]}),b.jsx("p",{style:{margin:"0",fontSize:"0.9em",color:"#666"},children:r.location.address}),b.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"5px"},children:[b.jsx("span",{className:"badge",style:{background:a,color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"0.8em"},children:r.make}),b.jsxs("span",{className:"badge",style:{background:"#3498db",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"0.8em"},children:["",r.pricePerHourEstimate,"/hr"]})]})]})})},r.id)})]})}),fL=()=>{const[n,e]=K.useState([]),[t,r]=K.useState(!0),[a,u]=K.useState(null);return K.useEffect(()=>{(async()=>{try{const p={address:"Eindhoven",latitude:51.4416,longitude:5.4697},_=await ln.post("http://localhost:3000/api/matching/search",{startLocation:p,endLocation:p,passengers:1,luggageLevel:0,dateTime:new Date().toISOString()});console.log("Fetched cars:",_.data.length),e(_.data)}catch(p){console.error("Failed to fetch cars",p),u(p.message||"Unknown error")}finally{r(!1)}})()},[]),b.jsxs("div",{className:"landing-page",children:[b.jsxs("header",{className:"hero-section",style:{background:"linear-gradient(135deg, var(--ocean-800) 0%, var(--primary-900) 100%)",color:"white",border:"none",paddingBottom:"4rem"},children:[b.jsxs("div",{style:{position:"relative",zIndex:2},children:[b.jsxs("h1",{className:"hero-title",style:{color:"white"},children:["Elektrische mobiliteit",b.jsx("br",{}),"voor iedereen"]}),b.jsx("p",{className:"hero-subtitle",style:{color:"var(--primary-100)"},children:"Slim boeken. Slim rijden. Zero emission. Ervaar de vrijheid van de toekomst."}),b.jsxs(fi,{to:"/request",className:"cta-button",children:["Reis aanvragen ",b.jsx("span",{children:""})]})]}),b.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"600px",height:"600px",background:"radial-gradient(circle, var(--primary-500) 0%, transparent 70%)",opacity:.1,filter:"blur(60px)",zIndex:1}})]}),b.jsx("section",{className:"live-map-section",style:{padding:"2rem",maxWidth:"1200px",margin:"-3rem auto 2rem auto",position:"relative",zIndex:3},children:b.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)"},children:[b.jsx("h2",{style:{textAlign:"center",marginBottom:"1rem",color:"var(--ocean-900)"},children:"Live Beschikbaarheid in Eindhoven"}),t?b.jsx("div",{style:{height:"500px",display:"flex",alignItems:"center",justifyContent:"center"},children:b.jsx("p",{children:"Zoeken naar auto's..."})}):a?b.jsxs("div",{style:{height:"500px",display:"flex",alignItems:"center",justifyContent:"center",color:"red",flexDirection:"column"},children:[b.jsxs("p",{children:["Error loading cars: ",a]}),b.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 16px",background:"var(--primary-600)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Retry"})]}):b.jsx(wx,{cars:n,center:[51.4416,5.4697],zoom:12})]})}),b.jsxs("section",{className:"features-grid",children:[b.jsxs("div",{className:"feature-card",children:[b.jsx("span",{className:"feature-icon",children:""}),b.jsx("h3",{className:"feature-title",children:"Duurzaam reizen"}),b.jsx("p",{className:"feature-desc",children:"100% elektrische vloot voor een schonere toekomst. Wij zorgen voor de planeet terwijl jij rijdt."})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx("span",{className:"feature-icon",children:""}),b.jsx("h3",{className:"feature-title",children:"Flexibele beschikbaarheid"}),b.jsx("p",{className:"feature-desc",children:"Boek direct een auto in jouw buurt, 24/7. Geen wachttijden, geen gedoe."})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx("span",{className:"feature-icon",children:""}),b.jsx("h3",{className:"feature-title",children:"Laadpunten onderweg"}),b.jsx("p",{className:"feature-desc",children:"Slimme integratie met laadpalen op je route. Altijd opgeladen aankomen."})]})]})]})};function At(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var dL={};function vp(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:dL}var Ex=Object.assign,Cm=Object.getOwnPropertyDescriptor,ta=Object.defineProperty,bp=Object.prototype,Cy=[];Object.freeze(Cy);var Tx={};Object.freeze(Tx);var mL=typeof Proxy<"u",pL=Object.toString();function Sx(){mL||At("Proxy not available")}function xx(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var vc=function(){};function Es(n){return typeof n=="function"}function lu(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function wp(n){return n!==null&&typeof n=="object"}function $a(n){if(!wp(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===pL}function Ax(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function xf(n,e,t){ta(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function Cx(n,e,t){ta(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function yu(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(r){return wp(r)&&r[t]===!0}}function qc(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function gL(n){var e=Object.getPrototypeOf(n),t=Object.getPrototypeOf(e),r=Object.getPrototypeOf(t);return r===null}function za(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var Rx=typeof Object.getOwnPropertySymbols<"u";function _L(n){var e=Object.keys(n);if(!Rx)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(r){return bp.propertyIsEnumerable.call(n,r)})):e}var Ic=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Rx?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function Ix(n){return n===null?null:typeof n=="object"?""+n:n}function Za(n,e){return bp.hasOwnProperty.call(n,e)}var yL=Object.getOwnPropertyDescriptors||function(e){var t={};return Ic(e).forEach(function(r){t[r]=Cm(e,r)}),t};function dr(n,e){return!!(n&e)}function mr(n,e,t){return t?n|=e:n&=~e,n}function gT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function vL(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,wL(r.key),r)}}function Gc(n,e,t){return e&&vL(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function bc(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=EL(n))||e){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uu(){return uu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uu.apply(null,arguments)}function Ox(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ry(n,e)}function Ry(n,e){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Ry(n,e)}function bL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function wL(n){var e=bL(n,"string");return typeof e=="symbol"?e:e+""}function EL(n,e){if(n){if(typeof n=="string")return gT(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?gT(n,e):void 0}}var ea=Symbol("mobx-stored-annotations");function na(n){function e(t,r){if(Cf(r))return n.decorate_20223_(t,r);Af(t,r,n)}return Object.assign(e,n)}function Af(n,e,t){Za(n,ea)||xf(n,ea,uu({},n[ea])),IL(t)||(n[ea][e]=t)}function TL(n){return Za(n,ea)||xf(n,ea,uu({},n[ea])),n[ea]}function Cf(n){return typeof n=="object"&&typeof n.kind=="string"}var We=Symbol("mobx administration"),hl=(function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Nt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return Wx(this)},e.reportChanged=function(){qr(),Kx(this),Gr()},e.toString=function(){return this.name_},Gc(n,[{key:"isBeingObserved",get:function(){return dr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=mr(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return dr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=mr(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return dr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=mr(this.flags_,n.diffValueMask_,r===1)}}])})();hl.isBeingObservedMask_=1;hl.isPendingUnobservationMask_=2;hl.diffValueMask_=4;var Nv=yu("Atom",hl);function Nx(n,e,t){e===void 0&&(e=vc),t===void 0&&(t=vc);var r=new hl(n);return e!==vc&&NM(r,e),t!==vc&&eA(r,t),r}function SL(n,e){return dA(n,e)}function xL(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Rm={structural:SL,default:xL};function cu(n,e,t){return sA(n)?n:Array.isArray(n)?$n.array(n,{name:t}):$a(n)?$n.object(n,void 0,{name:t}):qc(n)?$n.map(n,{name:t}):za(n)?$n.set(n,{name:t}):typeof n=="function"&&!Oc(n)&&!lf(n)?Ax(n)?Nc(n):of(t,n):n}function AL(n,e,t){if(n==null||Rp(n)||Cp(n)||bu(n)||Js(n))return n;if(Array.isArray(n))return $n.array(n,{name:t,deep:!1});if($a(n))return $n.object(n,void 0,{name:t,deep:!1});if(qc(n))return $n.map(n,{name:t,deep:!1});if(za(n))return $n.set(n,{name:t,deep:!1})}function Ep(n){return n}function CL(n,e){return dA(n,e)?e:n}var RL="override";function IL(n){return n.annotationType_===RL}function Rf(n,e){return{annotationType_:n,options_:e,make_:OL,extend_:NL,decorate_20223_:PL}}function OL(n,e,t,r){var a;if((a=this.options_)!=null&&a.bound)return this.extend_(n,e,t,!1)===null?0:1;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(Oc(t.value))return 1;var u=Px(n,this,e,t,!1);return ta(r,e,u),2}function NL(n,e,t,r){var a=Px(n,this,e,t);return n.defineProperty_(e,a,r)}function PL(n,e){var t=e.kind,r=e.name,a=e.addInitializer,u=this,f=function(v){var E,A,I,M;return hu((E=(A=u.options_)==null?void 0:A.name)!=null?E:r.toString(),v,(I=(M=u.options_)==null?void 0:M.autoAction)!=null?I:!1)};if(t=="field")return function(_){var v,E=_;return Oc(E)||(E=f(E)),(v=u.options_)!=null&&v.bound&&(E=E.bind(this),E.isMobxAction=!0),E};if(t=="method"){var p;return Oc(n)||(n=f(n)),(p=this.options_)!=null&&p.bound&&a(function(){var _=this,v=_[r].bind(_);v.isMobxAction=!0,_[r]=v}),n}At("Cannot apply '"+u.annotationType_+"' to '"+String(r)+"' (kind: "+t+"):"+(`
'`+u.annotationType_+"' can only be used on properties with a function value."))}function LL(n,e,t,r){e.annotationType_,r.value}function Px(n,e,t,r,a){var u,f,p,_,v,E,A;a===void 0&&(a=Oe.safeDescriptors),LL(n,e,t,r);var I=r.value;if((u=e.options_)!=null&&u.bound){var M;I=I.bind((M=n.proxy_)!=null?M:n.target_)}return{value:hu((f=(p=e.options_)==null?void 0:p.name)!=null?f:t.toString(),I,(_=(v=e.options_)==null?void 0:v.autoAction)!=null?_:!1,(E=e.options_)!=null&&E.bound?(A=n.proxy_)!=null?A:n.target_:void 0),configurable:a?n.isPlainObject_:!0,enumerable:!1,writable:!a}}function Lx(n,e){return{annotationType_:n,options_:e,make_:ML,extend_:kL,decorate_20223_:DL}}function ML(n,e,t,r){var a;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((a=this.options_)!=null&&a.bound&&(!Za(n.target_,e)||!lf(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(lf(t.value))return 1;var u=Mx(n,this,e,t,!1,!1);return ta(r,e,u),2}function kL(n,e,t,r){var a,u=Mx(n,this,e,t,(a=this.options_)==null?void 0:a.bound);return n.defineProperty_(e,u,r)}function DL(n,e){var t,r=e.name,a=e.addInitializer;return lf(n)||(n=Nc(n)),(t=this.options_)!=null&&t.bound&&a(function(){var u=this,f=u[r].bind(u);f.isMobXFlow=!0,u[r]=f}),n}function jL(n,e,t,r){e.annotationType_,r.value}function Mx(n,e,t,r,a,u){u===void 0&&(u=Oe.safeDescriptors),jL(n,e,t,r);var f=r.value;if(lf(f)||(f=Nc(f)),a){var p;f=f.bind((p=n.proxy_)!=null?p:n.target_),f.isMobXFlow=!0}return{value:f,configurable:u?n.isPlainObject_:!0,enumerable:!1,writable:!u}}function Pv(n,e){return{annotationType_:n,options_:e,make_:VL,extend_:zL,decorate_20223_:BL}}function VL(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function zL(n,e,t,r){return UL(n,this,e,t),n.defineComputedProperty_(e,uu({},this.options_,{get:t.get,set:t.set}),r)}function BL(n,e){var t=this,r=e.name,a=e.addInitializer;return a(function(){var u=wu(this)[We],f=uu({},t.options_,{get:n,context:this});f.name||(f.name="ObservableObject."+r.toString()),u.values_.set(r,new Ts(f))}),function(){return this[We].getObservablePropValue_(r)}}function UL(n,e,t,r){e.annotationType_,r.get}function Tp(n,e){return{annotationType_:n,options_:e,make_:FL,extend_:HL,decorate_20223_:qL}}function FL(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function HL(n,e,t,r){var a,u;return GL(n,this),n.defineObservableProperty_(e,t.value,(a=(u=this.options_)==null?void 0:u.enhancer)!=null?a:cu,r)}function qL(n,e){var t=this,r=e.kind,a=e.name,u=new WeakSet;function f(p,_){var v,E,A=wu(p)[We],I=new su(_,(v=(E=t.options_)==null?void 0:E.enhancer)!=null?v:cu,"ObservableObject."+a.toString(),!1);A.values_.set(a,I),u.add(p)}if(r=="accessor")return{get:function(){return u.has(this)||f(this,n.get.call(this)),this[We].getObservablePropValue_(a)},set:function(_){return u.has(this)||f(this,_),this[We].setObservablePropValue_(a,_)},init:function(_){return u.has(this)||f(this,_),_}}}function GL(n,e,t,r){e.annotationType_}var ZL="true",WL=kx();function kx(n){return{annotationType_:ZL,options_:n,make_:KL,extend_:YL,decorate_20223_:$L}}function KL(n,e,t,r){var a,u;if(t.get)return Sp.make_(n,e,t,r);if(t.set){var f=Oc(t.set)?t.set:hu(e.toString(),t.set);return r===n.target_?n.defineProperty_(e,{configurable:Oe.safeDescriptors?n.isPlainObject_:!0,set:f})===null?0:2:(ta(r,e,{configurable:!0,set:f}),2)}if(r!==n.target_&&typeof t.value=="function"){var p;if(Ax(t.value)){var _,v=(_=this.options_)!=null&&_.autoBind?Nc.bound:Nc;return v.make_(n,e,t,r)}var E=(p=this.options_)!=null&&p.autoBind?of.bound:of;return E.make_(n,e,t,r)}var A=((a=this.options_)==null?void 0:a.deep)===!1?$n.ref:$n;if(typeof t.value=="function"&&(u=this.options_)!=null&&u.autoBind){var I;t.value=t.value.bind((I=n.proxy_)!=null?I:n.target_)}return A.make_(n,e,t,r)}function YL(n,e,t,r){var a,u;if(t.get)return Sp.extend_(n,e,t,r);if(t.set)return n.defineProperty_(e,{configurable:Oe.safeDescriptors?n.isPlainObject_:!0,set:hu(e.toString(),t.set)},r);if(typeof t.value=="function"&&(a=this.options_)!=null&&a.autoBind){var f;t.value=t.value.bind((f=n.proxy_)!=null?f:n.target_)}var p=((u=this.options_)==null?void 0:u.deep)===!1?$n.ref:$n;return p.extend_(n,e,t,r)}function $L(n,e){At("'"+this.annotationType_+"' cannot be used as a decorator")}var QL="observable",XL="observable.ref",JL="observable.shallow",eM="observable.struct",Dx={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Dx);function $d(n){return n||Dx}var Iy=Tp(QL),tM=Tp(XL,{enhancer:Ep}),nM=Tp(JL,{enhancer:AL}),iM=Tp(eM,{enhancer:CL}),jx=na(Iy);function Qd(n){return n.deep===!0?cu:n.deep===!1?Ep:sM(n.defaultDecorator)}function rM(n){var e;return n?(e=n.defaultDecorator)!=null?e:kx(n):void 0}function sM(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:cu}function Vx(n,e,t){if(Cf(e))return Iy.decorate_20223_(n,e);if(lu(e)){Af(n,e,Iy);return}return sA(n)?n:$a(n)?$n.object(n,e,t):Array.isArray(n)?$n.array(n,e):qc(n)?$n.map(n,e):za(n)?$n.set(n,e):typeof n=="object"&&n!==null?n:$n.box(n,e)}Ex(Vx,jx);var aM={box:function(e,t){var r=$d(t);return new su(e,Qd(r),r.name,!0,r.equals)},array:function(e,t){var r=$d(t);return(Oe.useProxies===!1||r.proxy===!1?tk:GM)(e,Qd(r),r.name)},map:function(e,t){var r=$d(t);return new oA(e,Qd(r),r.name)},set:function(e,t){var r=$d(t);return new lA(e,Qd(r),r.name)},object:function(e,t,r){return fl(function(){return nA(Oe.useProxies===!1||(r==null?void 0:r.proxy)===!1?wu({},r):UM({},r),e,t)})},ref:na(tM),shallow:na(nM),deep:jx,struct:na(iM)},$n=Ex(Vx,aM),zx="computed",oM="computed.struct",Oy=Pv(zx),lM=Pv(oM,{equals:Rm.structural}),Sp=function(e,t){if(Cf(t))return Oy.decorate_20223_(e,t);if(lu(t))return Af(e,t,Oy);if($a(e))return na(Pv(zx,e));var r=$a(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new Ts(r)};Object.assign(Sp,Oy);Sp.struct=na(lM);var _T,yT,Im=0,uM=1,cM=(_T=(yT=Cm(function(){},"name"))==null?void 0:yT.configurable)!=null?_T:!1,vT={value:"action",configurable:!0,writable:!1,enumerable:!1};function hu(n,e,t,r){t===void 0&&(t=!1);function a(){return Bx(n,t,e,r||this,arguments)}return a.isMobxAction=!0,a.toString=function(){return e.toString()},cM&&(vT.value=n,ta(a,"name",vT)),a}function Bx(n,e,t,r,a){var u=hM(n,e);try{return t.apply(r,a)}catch(f){throw u.error_=f,f}finally{fM(u)}}function hM(n,e,t,r){var a=!1,u=0,f=Oe.trackingDerivation,p=!e||!f;qr();var _=Oe.allowStateChanges;p&&(vu(),_=Lv(!0));var v=kv(!0),E={runAsAction_:p,prevDerivation_:f,prevAllowStateChanges_:_,prevAllowStateReads_:v,notifySpy_:a,startTime_:u,actionId_:uM++,parentActionId_:Im};return Im=E.actionId_,E}function fM(n){Im!==n.actionId_&&At(30),Im=n.parentActionId_,n.error_!==void 0&&(Oe.suppressReactionErrors=!0),Mv(n.prevAllowStateChanges_),Qh(n.prevAllowStateReads_),Gr(),n.runAsAction_&&Wa(n.prevDerivation_),Oe.suppressReactionErrors=!1}function Lv(n){var e=Oe.allowStateChanges;return Oe.allowStateChanges=n,e}function Mv(n){Oe.allowStateChanges=n}var su=(function(n){function e(r,a,u,f,p){var _;return u===void 0&&(u="ObservableValue"),p===void 0&&(p=Rm.default),_=n.call(this,u)||this,_.enhancer=void 0,_.name_=void 0,_.equals=void 0,_.hasUnreportedChange_=!1,_.interceptors_=void 0,_.changeListeners_=void 0,_.value_=void 0,_.dehancer=void 0,_.enhancer=a,_.name_=u,_.equals=p,_.value_=a(r,void 0,u),_}Ox(e,n);var t=e.prototype;return t.dehanceValue=function(a){return this.dehancer!==void 0?this.dehancer(a):a},t.set=function(a){this.value_,a=this.prepareNewValue_(a),a!==Oe.UNCHANGED&&this.setNewValue_(a)},t.prepareNewValue_=function(a){if(Ur(this)){var u=Fr(this,{object:this,type:ia,newValue:a});if(!u)return Oe.UNCHANGED;a=u.newValue}return a=this.enhancer(a,this.value_,this.name_),this.equals(this.value_,a)?Oe.UNCHANGED:a},t.setNewValue_=function(a){var u=this.value_;this.value_=a,this.reportChanged(),vs(this)&&bs(this,{type:ia,object:this,newValue:a,oldValue:u})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(a){return If(this,a)},t.observe_=function(a,u){return u&&a({observableKind:"value",debugObjectName:this.name_,object:this,type:ia,newValue:this.value_,oldValue:void 0}),Of(this,a)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return Ix(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},e})(hl),Ts=(function(){function n(t){this.dependenciesState_=Nt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Nt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Nm(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Om.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||At(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=hu("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Rm.structural:Rm.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){_M(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&At(32,this.name_,this.derivation),Oe.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Ny(this)&&(this.warnAboutUntrackedRead_(),qr(),this.value_=this.computeValue_(!1),Gr());else if(Wx(this),Ny(this)){var r=Oe.trackingContext;this.keepAlive_&&!r&&(Oe.trackingContext=this),this.trackAndCompute()&&gM(this),Oe.trackingContext=r}var a=this.value_;if(hm(a))throw a.cause;return a},e.set=function(r){if(this.setter_){this.isRunningSetter&&At(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else At(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,a=this.dependenciesState_===Nt.NOT_TRACKING_,u=this.computeValue_(!0),f=a||hm(r)||hm(u)||!this.equals_(r,u);return f&&(this.value_=u),f},e.computeValue_=function(r){this.isComputing=!0;var a=Lv(!1),u;if(r)u=Ux(this,this.derivation,this.scope_);else if(Oe.disableErrorBoundaries===!0)u=this.derivation.call(this.scope_);else try{u=this.derivation.call(this.scope_)}catch(f){u=new Nm(f)}return Mv(a),this.isComputing=!1,u},e.suspend_=function(){this.keepAlive_||(Py(this),this.value_=void 0)},e.observe_=function(r,a){var u=this,f=!0,p=void 0;return AM(function(){var _=u.get();if(!f||a){var v=vu();r({observableKind:"computed",debugObjectName:u.name_,type:ia,object:u,newValue:_,oldValue:p}),Wa(v)}f=!1,p=_})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return Ix(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Gc(n,[{key:"isComputing",get:function(){return dr(this.flags_,n.isComputingMask_)},set:function(r){this.flags_=mr(this.flags_,n.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return dr(this.flags_,n.isRunningSetterMask_)},set:function(r){this.flags_=mr(this.flags_,n.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return dr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=mr(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return dr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=mr(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return dr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=mr(this.flags_,n.diffValueMask_,r===1)}}])})();Ts.isComputingMask_=1;Ts.isRunningSetterMask_=2;Ts.isBeingObservedMask_=4;Ts.isPendingUnobservationMask_=8;Ts.diffValueMask_=16;var xp=yu("ComputedValue",Ts),Nt;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(Nt||(Nt={}));var Om;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(Om||(Om={}));var Nm=function(e){this.cause=void 0,this.cause=e};function hm(n){return n instanceof Nm}function Ny(n){switch(n.dependenciesState_){case Nt.UP_TO_DATE_:return!1;case Nt.NOT_TRACKING_:case Nt.STALE_:return!0;case Nt.POSSIBLY_STALE_:{for(var e=kv(!0),t=vu(),r=n.observing_,a=r.length,u=0;u<a;u++){var f=r[u];if(xp(f)){if(Oe.disableErrorBoundaries)f.get();else try{f.get()}catch{return Wa(t),Qh(e),!0}if(n.dependenciesState_===Nt.STALE_)return Wa(t),Qh(e),!0}}return Hx(n),Wa(t),Qh(e),!1}}}function Ux(n,e,t){var r=kv(!0);Hx(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++Oe.runId;var a=Oe.trackingDerivation;Oe.trackingDerivation=n,Oe.inBatch++;var u;if(Oe.disableErrorBoundaries===!0)u=e.call(t);else try{u=e.call(t)}catch(f){u=new Nm(f)}return Oe.inBatch--,Oe.trackingDerivation=a,dM(n),Qh(r),u}function dM(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,r=Nt.UP_TO_DATE_,a=0,u=n.unboundDepsCount_,f=0;f<u;f++){var p=t[f];p.diffValue===0&&(p.diffValue=1,a!==f&&(t[a]=p),a++),p.dependenciesState_>r&&(r=p.dependenciesState_)}for(t.length=a,n.newObserving_=null,u=e.length;u--;){var _=e[u];_.diffValue===0&&Gx(_,n),_.diffValue=0}for(;a--;){var v=t[a];v.diffValue===1&&(v.diffValue=0,pM(v,n))}r!==Nt.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function Py(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)Gx(e[t],n);n.dependenciesState_=Nt.NOT_TRACKING_}function Fx(n){var e=vu();try{return n()}finally{Wa(e)}}function vu(){var n=Oe.trackingDerivation;return Oe.trackingDerivation=null,n}function Wa(n){Oe.trackingDerivation=n}function kv(n){var e=Oe.allowStateReads;return Oe.allowStateReads=n,e}function Qh(n){Oe.allowStateReads=n}function Hx(n){if(n.dependenciesState_!==Nt.UP_TO_DATE_){n.dependenciesState_=Nt.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=Nt.UP_TO_DATE_}}var fm=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},dm=!0,qx=!1,Oe=(function(){var n=vp();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(dm=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new fm().version&&(dm=!1),dm?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new fm):(setTimeout(function(){qx||At(35)},1),new fm)})();function mM(){if((Oe.pendingReactions.length||Oe.inBatch||Oe.isRunningReactions)&&At(36),qx=!0,dm){var n=vp();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),Oe=new fm}}function pM(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function Gx(n,e){n.observers_.delete(e),n.observers_.size===0&&Zx(n)}function Zx(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,Oe.pendingUnobservations.push(n))}function qr(){Oe.inBatch++}function Gr(){if(--Oe.inBatch===0){Yx();for(var n=Oe.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation=!1,t.observers_.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBUO()),t instanceof Ts&&t.suspend_())}Oe.pendingUnobservations=[]}}function Wx(n){var e=Oe.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved&&Oe.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&Oe.inBatch>0&&Zx(n),!1)}function Kx(n){n.lowestObserverState_!==Nt.STALE_&&(n.lowestObserverState_=Nt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===Nt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Nt.STALE_}))}function gM(n){n.lowestObserverState_!==Nt.STALE_&&(n.lowestObserverState_=Nt.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===Nt.POSSIBLY_STALE_?e.dependenciesState_=Nt.STALE_:e.dependenciesState_===Nt.UP_TO_DATE_&&(n.lowestObserverState_=Nt.UP_TO_DATE_)}))}function _M(n){n.lowestObserverState_===Nt.UP_TO_DATE_&&(n.lowestObserverState_=Nt.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===Nt.UP_TO_DATE_&&(e.dependenciesState_=Nt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Qa=(function(){function n(t,r,a,u){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Nt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Om.NONE,this.name_=t,this.onInvalidate_=r,this.errorHandler_=a,this.requiresObservable_=u}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Oe.pendingReactions.push(this),Yx())},e.runReaction_=function(){if(!this.isDisposed){qr(),this.isScheduled=!1;var r=Oe.trackingContext;if(Oe.trackingContext=this,Ny(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(a){this.reportExceptionInDerivation_(a)}}Oe.trackingContext=r,Gr()}},e.track=function(r){if(!this.isDisposed){qr(),this.isRunning=!0;var a=Oe.trackingContext;Oe.trackingContext=this;var u=Ux(this,r,void 0);Oe.trackingContext=a,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Py(this),hm(u)&&this.reportExceptionInDerivation_(u.cause),Gr()}},e.reportExceptionInDerivation_=function(r){var a=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Oe.disableErrorBoundaries)throw r;var u="[mobx] uncaught error in '"+this+"'";Oe.suppressReactionErrors||console.error(u,r),Oe.globalReactionErrorHandlers.forEach(function(f){return f(r,a)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(qr(),Py(this),Gr()))},e.getDisposer_=function(r){var a=this,u=function f(){a.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",f)};return r==null||r.addEventListener==null||r.addEventListener("abort",u),u[We]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(u[Symbol.dispose]=u),u},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},Gc(n,[{key:"isDisposed",get:function(){return dr(this.flags_,n.isDisposedMask_)},set:function(r){this.flags_=mr(this.flags_,n.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return dr(this.flags_,n.isScheduledMask_)},set:function(r){this.flags_=mr(this.flags_,n.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return dr(this.flags_,n.isTrackPendingMask_)},set:function(r){this.flags_=mr(this.flags_,n.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return dr(this.flags_,n.isRunningMask_)},set:function(r){this.flags_=mr(this.flags_,n.isRunningMask_,r)}},{key:"diffValue",get:function(){return dr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=mr(this.flags_,n.diffValueMask_,r===1)}}])})();Qa.isDisposedMask_=1;Qa.isScheduledMask_=2;Qa.isTrackPendingMask_=4;Qa.isRunningMask_=8;Qa.diffValueMask_=16;var yM=100,Ly=function(e){return e()};function Yx(){Oe.inBatch>0||Oe.isRunningReactions||Ly(vM)}function vM(){Oe.isRunningReactions=!0;for(var n=Oe.pendingReactions,e=0;n.length>0;){++e===yM&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),r=0,a=t.length;r<a;r++)t[r].runReaction_()}Oe.isRunningReactions=!1}var Pm=yu("Reaction",Qa);function bM(n){var e=Ly;Ly=function(r){return n(function(){return e(r)})}}function Xh(){return!1}function wM(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var $x="action",EM="action.bound",Qx="autoAction",TM="autoAction.bound",Xx="<unnamed action>",My=Rf($x),SM=Rf(EM,{bound:!0}),ky=Rf(Qx,{autoAction:!0}),xM=Rf(TM,{autoAction:!0,bound:!0});function Jx(n){var e=function(r,a){if(Es(r))return hu(r.name||Xx,r,n);if(Es(a))return hu(r,a,n);if(Cf(a))return(n?ky:My).decorate_20223_(r,a);if(lu(a))return Af(r,a,n?ky:My);if(lu(r))return na(Rf(n?Qx:$x,{name:r,autoAction:n}))};return e}var wc=Jx(!1);Object.assign(wc,My);var of=Jx(!0);Object.assign(of,ky);wc.bound=na(SM);of.bound=na(xM);function $e(n){return Bx(n.name||Xx,!1,n,this,void 0)}function Oc(n){return Es(n)&&n.isMobxAction===!0}function AM(n,e){var t,r,a,u;e===void 0&&(e=Tx);var f=(t=(r=e)==null?void 0:r.name)!=null?t:"Autorun",p=!e.scheduler&&!e.delay,_;if(p)_=new Qa(f,function(){this.track(A)},e.onError,e.requiresObservable);else{var v=RM(e),E=!1;_=new Qa(f,function(){E||(E=!0,v(function(){E=!1,_.isDisposed||_.track(A)}))},e.onError,e.requiresObservable)}function A(){n(_)}return(a=e)!=null&&(a=a.signal)!=null&&a.aborted||_.schedule_(),_.getDisposer_((u=e)==null?void 0:u.signal)}var CM=function(e){return e()};function RM(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:CM}var IM="onBO",OM="onBUO";function NM(n,e,t){return tA(IM,n,e,t)}function eA(n,e,t){return tA(OM,n,e,t)}function tA(n,e,t,r){var a=km(e),u=Es(r)?r:t,f=n+"L";return a[f]?a[f].add(u):a[f]=new Set([u]),function(){var p=a[f];p&&(p.delete(u),p.size===0&&delete a[f])}}var PM="never",Xd="always",LM="observed";function MM(n){n.isolateGlobalState===!0&&mM();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(Oe.useProxies=e===Xd?!0:e===PM?!1:typeof Proxy<"u"),e==="ifavailable"&&(Oe.verifyProxies=!0),t!==void 0){var r=t===Xd?Xd:t===LM;Oe.enforceActions=r,Oe.allowStateChanges=!(r===!0||r===Xd)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(a){a in n&&(Oe[a]=!!n[a])}),Oe.allowStateReads=!Oe.observableRequiresReaction,n.reactionScheduler&&bM(n.reactionScheduler)}function nA(n,e,t,r){var a=yL(e);return fl(function(){var u=wu(n,r)[We];Ic(a).forEach(function(f){u.extend_(f,a[f],t&&f in t?t[f]:!0)})}),n}function kM(n,e){return iA(km(n,e))}function iA(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=DM(n.observing_).map(iA)),e}function DM(n){return Array.from(new Set(n))}var jM=0;function rA(){this.message="FLOW_CANCELLED"}rA.prototype=Object.create(Error.prototype);var Y_=Lx("flow"),VM=Lx("flow.bound",{bound:!0}),Nc=Object.assign(function(e,t){if(Cf(t))return Y_.decorate_20223_(e,t);if(lu(t))return Af(e,t,Y_);var r=e,a=r.name||"<unnamed flow>",u=function(){var p=this,_=arguments,v=++jM,E=wc(a+" - runid: "+v+" - init",r).apply(p,_),A,I=void 0,M=new Promise(function(V,F){var j=0;A=F;function le(Se){I=void 0;var fe;try{fe=wc(a+" - runid: "+v+" - yield "+j++,E.next).call(E,Se)}catch(Te){return F(Te)}ae(fe)}function Ee(Se){I=void 0;var fe;try{fe=wc(a+" - runid: "+v+" - yield "+j++,E.throw).call(E,Se)}catch(Te){return F(Te)}ae(fe)}function ae(Se){if(Es(Se==null?void 0:Se.then)){Se.then(ae,F);return}return Se.done?V(Se.value):(I=Promise.resolve(Se.value),I.then(le,Ee))}le(void 0)});return M.cancel=wc(a+" - runid: "+v+" - cancel",function(){try{I&&bT(I);var V=E.return(void 0),F=Promise.resolve(V.value);F.then(vc,vc),bT(F),A(new rA)}catch(j){A(j)}}),M};return u.isMobXFlow=!0,u},Y_);Nc.bound=na(VM);function bT(n){Es(n.cancel)&&n.cancel()}function lf(n){return(n==null?void 0:n.isMobXFlow)===!0}function zM(n,e){return n?Rp(n)||!!n[We]||Nv(n)||Pm(n)||xp(n):!1}function sA(n){return zM(n)}function Ba(n,e){e===void 0&&(e=void 0),qr();try{return n.apply(e)}finally{Gr()}}function fc(n){return n[We]}var BM={has:function(e,t){return fc(e).has_(t)},get:function(e,t){return fc(e).get_(t)},set:function(e,t,r){var a;return lu(t)?(a=fc(e).set_(t,r,!0))!=null?a:!0:!1},deleteProperty:function(e,t){var r;return lu(t)?(r=fc(e).delete_(t,!0))!=null?r:!0:!1},defineProperty:function(e,t,r){var a;return(a=fc(e).defineProperty_(t,r))!=null?a:!0},ownKeys:function(e){return fc(e).ownKeys_()},preventExtensions:function(e){At(13)}};function UM(n,e){var t,r;return Sx(),n=wu(n,e),(r=(t=n[We]).proxy_)!=null?r:t.proxy_=new Proxy(n,BM)}function Ur(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function If(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),xx(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function Fr(n,e){var t=vu();try{for(var r=[].concat(n.interceptors_||[]),a=0,u=r.length;a<u&&(e=r[a](e),e&&!e.type&&At(14),!!e);a++);return e}finally{Wa(t)}}function vs(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function Of(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),xx(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function bs(n,e){var t=vu(),r=n.changeListeners_;if(r){r=r.slice();for(var a=0,u=r.length;a<u;a++)r[a](e);Wa(t)}}function FM(n,e,t){return fl(function(){var r,a=wu(n,t)[We];(r=e)!=null||(e=TL(n)),Ic(e).forEach(function(u){return a.make_(u,e[u])})}),n}var $_=Symbol("mobx-keys");function Ap(n,e,t){return $a(n)?nA(n,n,e,t):(fl(function(){var r=wu(n,t)[We];if(!n[$_]){var a=Object.getPrototypeOf(n),u=new Set([].concat(Ic(n),Ic(a)));u.delete("constructor"),u.delete(We),xf(a,$_,u)}n[$_].forEach(function(f){return r.make_(f,e&&f in e?e[f]:!0)})}),n)}var wT="splice",ia="update",HM=1e4,qM={get:function(e,t){var r=e[We];return t===We?r:t==="length"?r.getArrayLength_():typeof t=="string"&&!isNaN(t)?r.get_(parseInt(t)):Za(Lm,t)?Lm[t]:e[t]},set:function(e,t,r){var a=e[We];return t==="length"&&a.setArrayLength_(r),typeof t=="symbol"||isNaN(t)?e[t]=r:a.set_(parseInt(t),r),!0},preventExtensions:function(){At(15)}},Dv=(function(){function n(t,r,a,u){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=a,this.legacyMode_=u,this.atom_=new hl(t),this.enhancer_=function(f,p){return r(f,p,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return If(this,r)},e.observe_=function(r,a){return a===void 0&&(a=!1),a&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Of(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&At("Out of range: "+r);var a=this.values_.length;if(r!==a)if(r>a){for(var u=new Array(r-a),f=0;f<r-a;f++)u[f]=void 0;this.spliceWithArray_(a,0,u)}else this.spliceWithArray_(r,a-r)},e.updateArrayLength_=function(r,a){r!==this.lastKnownLength_&&At(16),this.lastKnownLength_+=a,this.legacyMode_&&a>0&&fA(r+a+1)},e.spliceWithArray_=function(r,a,u){var f=this;this.atom_;var p=this.values_.length;if(r===void 0?r=0:r>p?r=p:r<0&&(r=Math.max(0,p+r)),arguments.length===1?a=p-r:a==null?a=0:a=Math.max(0,Math.min(a,p-r)),u===void 0&&(u=Cy),Ur(this)){var _=Fr(this,{object:this.proxy_,type:wT,index:r,removedCount:a,added:u});if(!_)return Cy;a=_.removedCount,u=_.added}if(u=u.length===0?u:u.map(function(A){return f.enhancer_(A,void 0)}),this.legacyMode_){var v=u.length-a;this.updateArrayLength_(p,v)}var E=this.spliceItemsIntoValues_(r,a,u);return(a!==0||u.length!==0)&&this.notifyArraySplice_(r,u,E),this.dehanceValues_(E)},e.spliceItemsIntoValues_=function(r,a,u){if(u.length<HM){var f;return(f=this.values_).splice.apply(f,[r,a].concat(u))}else{var p=this.values_.slice(r,r+a),_=this.values_.slice(r+a);this.values_.length+=u.length-a;for(var v=0;v<u.length;v++)this.values_[r+v]=u[v];for(var E=0;E<_.length;E++)this.values_[r+u.length+E]=_[E];return p}},e.notifyArrayChildUpdate_=function(r,a,u){var f=!this.owned_&&Xh(),p=vs(this),_=p||f?{observableKind:"array",object:this.proxy_,type:ia,debugObjectName:this.atom_.name_,index:r,newValue:a,oldValue:u}:null;this.atom_.reportChanged(),p&&bs(this,_)},e.notifyArraySplice_=function(r,a,u){var f=!this.owned_&&Xh(),p=vs(this),_=p||f?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:wT,index:r,removed:u,added:a,removedCount:u.length,addedCount:a.length}:null;this.atom_.reportChanged(),p&&bs(this,_)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,a){var u=this.values_;if(this.legacyMode_&&r>u.length&&At(17,r,u.length),r<u.length){this.atom_;var f=u[r];if(Ur(this)){var p=Fr(this,{type:ia,object:this.proxy_,index:r,newValue:a});if(!p)return;a=p.newValue}a=this.enhancer_(a,f);var _=a!==f;_&&(u[r]=a,this.notifyArrayChildUpdate_(r,a,f))}else{for(var v=new Array(r+1-u.length),E=0;E<v.length-1;E++)v[E]=void 0;v[v.length-1]=a,this.spliceWithArray_(u.length,0,v)}},n})();function GM(n,e,t,r){return t===void 0&&(t="ObservableArray"),r===void 0&&(r=!1),Sx(),fl(function(){var a=new Dv(t,e,r,!1);Cx(a.values_,We,a);var u=new Proxy(a.values_,qM);return a.proxy_=u,n&&n.length&&a.spliceWithArray_(0,0,n),u})}var Lm={clear:function(){return this.splice(0)},replace:function(e){var t=this[We];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),u=2;u<r;u++)a[u-2]=arguments[u];var f=this[We];switch(arguments.length){case 0:return[];case 1:return f.spliceWithArray_(e);case 2:return f.spliceWithArray_(e,t)}return f.spliceWithArray_(e,t,a)},spliceWithArray:function(e,t,r){return this[We].spliceWithArray_(e,t,r)},push:function(){for(var e=this[We],t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[We].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[We],t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return Oe.trackingDerivation&&At(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Oe.trackingDerivation&&At(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[We],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};Kt("at",_r);Kt("concat",_r);Kt("flat",_r);Kt("includes",_r);Kt("indexOf",_r);Kt("join",_r);Kt("lastIndexOf",_r);Kt("slice",_r);Kt("toString",_r);Kt("toLocaleString",_r);Kt("toSorted",_r);Kt("toSpliced",_r);Kt("with",_r);Kt("every",Rs);Kt("filter",Rs);Kt("find",Rs);Kt("findIndex",Rs);Kt("findLast",Rs);Kt("findLastIndex",Rs);Kt("flatMap",Rs);Kt("forEach",Rs);Kt("map",Rs);Kt("some",Rs);Kt("toReversed",Rs);Kt("reduce",aA);Kt("reduceRight",aA);function Kt(n,e){typeof Array.prototype[n]=="function"&&(Lm[n]=e(n))}function _r(n){return function(){var e=this[We];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function Rs(n){return function(e,t){var r=this,a=this[We];a.atom_.reportObserved();var u=a.dehanceValues_(a.values_);return u[n](function(f,p){return e.call(t,f,p,r)})}}function aA(n){return function(){var e=this,t=this[We];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_),a=arguments[0];return arguments[0]=function(u,f,p){return a(u,f,p,e)},r[n].apply(r,arguments)}}var ZM=yu("ObservableArrayAdministration",Dv);function Cp(n){return wp(n)&&ZM(n[We])}var WM={},Qo="add",Mm="delete",oA=(function(){function n(t,r,a){var u=this;r===void 0&&(r=cu),a===void 0&&(a="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[We]=WM,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=a,Es(Map)||At(18),fl(function(){u.keysAtom_=Nx("ObservableMap.keys()"),u.data_=new Map,u.hasMap_=new Map,t&&u.merge(t)})}var e=n.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var a=this;if(!Oe.trackingDerivation)return this.has_(r);var u=this.hasMap_.get(r);if(!u){var f=u=new su(this.has_(r),Ep,"ObservableMap.key?",!1);this.hasMap_.set(r,f),eA(f,function(){return a.hasMap_.delete(r)})}return u.get()},e.set=function(r,a){var u=this.has_(r);if(Ur(this)){var f=Fr(this,{type:u?ia:Qo,object:this,newValue:a,name:r});if(!f)return this;a=f.newValue}return u?this.updateValue_(r,a):this.addValue_(r,a),this},e.delete=function(r){var a=this;if(this.keysAtom_,Ur(this)){var u=Fr(this,{type:Mm,object:this,name:r});if(!u)return!1}if(this.has_(r)){var f=Xh(),p=vs(this),_=p||f?{observableKind:"map",debugObjectName:this.name_,type:Mm,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Ba(function(){var v;a.keysAtom_.reportChanged(),(v=a.hasMap_.get(r))==null||v.setNewValue_(!1);var E=a.data_.get(r);E.setNewValue_(void 0),a.data_.delete(r)}),p&&bs(this,_),!0}return!1},e.updateValue_=function(r,a){var u=this.data_.get(r);if(a=u.prepareNewValue_(a),a!==Oe.UNCHANGED){var f=Xh(),p=vs(this),_=p||f?{observableKind:"map",debugObjectName:this.name_,type:ia,object:this,oldValue:u.value_,name:r,newValue:a}:null;u.setNewValue_(a),p&&bs(this,_)}},e.addValue_=function(r,a){var u=this;this.keysAtom_,Ba(function(){var v,E=new su(a,u.enhancer_,"ObservableMap.key",!1);u.data_.set(r,E),a=E.value_,(v=u.hasMap_.get(r))==null||v.setNewValue_(!0),u.keysAtom_.reportChanged()});var f=Xh(),p=vs(this),_=p||f?{observableKind:"map",debugObjectName:this.name_,type:Qo,object:this,name:r,newValue:a}:null;p&&bs(this,_)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,a=this.keys();return ET({next:function(){var f=a.next(),p=f.done,_=f.value;return{done:p,value:p?void 0:r.get(_)}}})},e.entries=function(){var r=this,a=this.keys();return ET({next:function(){var f=a.next(),p=f.done,_=f.value;return{done:p,value:p?void 0:[_,r.get(_)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,a){for(var u=bc(this),f;!(f=u()).done;){var p=f.value,_=p[0],v=p[1];r.call(a,v,_,this)}},e.merge=function(r){var a=this;return bu(r)&&(r=new Map(r)),Ba(function(){$a(r)?_L(r).forEach(function(u){return a.set(u,r[u])}):Array.isArray(r)?r.forEach(function(u){var f=u[0],p=u[1];return a.set(f,p)}):qc(r)?(gL(r)||At(19,r),r.forEach(function(u,f){return a.set(f,u)})):r!=null&&At(20,r)}),this},e.clear=function(){var r=this;Ba(function(){Fx(function(){for(var a=bc(r.keys()),u;!(u=a()).done;){var f=u.value;r.delete(f)}})})},e.replace=function(r){var a=this;return Ba(function(){for(var u=KM(r),f=new Map,p=!1,_=bc(a.data_.keys()),v;!(v=_()).done;){var E=v.value;if(!u.has(E)){var A=a.delete(E);if(A)p=!0;else{var I=a.data_.get(E);f.set(E,I)}}}for(var M=bc(u.entries()),V;!(V=M()).done;){var F=V.value,j=F[0],le=F[1],Ee=a.data_.has(j);if(a.set(j,le),a.data_.has(j)){var ae=a.data_.get(j);f.set(j,ae),Ee||(p=!0)}}if(!p)if(a.data_.size!==f.size)a.keysAtom_.reportChanged();else for(var Se=a.data_.keys(),fe=f.keys(),Te=Se.next(),k=fe.next();!Te.done;){if(Te.value!==k.value){a.keysAtom_.reportChanged();break}Te=Se.next(),k=fe.next()}a.data_=f}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,a){return Of(this,r)},e.intercept_=function(r){return If(this,r)},Gc(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),bu=yu("ObservableMap",oA);function ET(n){return n[Symbol.toStringTag]="MapIterator",Vv(n)}function KM(n){if(qc(n)||bu(n))return n;if(Array.isArray(n))return new Map(n);if($a(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return At(21,n)}var YM={},lA=(function(){function n(t,r,a){var u=this;r===void 0&&(r=cu),a===void 0&&(a="ObservableSet"),this.name_=void 0,this[We]=YM,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=a,Es(Set)||At(22),this.enhancer_=function(f,p){return r(f,p,a)},fl(function(){u.atom_=Nx(u.name_),t&&u.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Ba(function(){Fx(function(){for(var a=bc(r.data_.values()),u;!(u=a()).done;){var f=u.value;r.delete(f)}})})},e.forEach=function(r,a){for(var u=bc(this),f;!(f=u()).done;){var p=f.value;r.call(a,p,p,this)}},e.add=function(r){var a=this;if(this.atom_,Ur(this)){var u=Fr(this,{type:Qo,object:this,newValue:r});if(!u)return this;r=u.newValue}if(!this.has(r)){Ba(function(){a.data_.add(a.enhancer_(r,void 0)),a.atom_.reportChanged()});var f=!1,p=vs(this),_=p||f?{observableKind:"set",debugObjectName:this.name_,type:Qo,object:this,newValue:r}:null;p&&bs(this,_)}return this},e.delete=function(r){var a=this;if(Ur(this)){var u=Fr(this,{type:Mm,object:this,oldValue:r});if(!u)return!1}if(this.has(r)){var f=!1,p=vs(this),_=p||f?{observableKind:"set",debugObjectName:this.name_,type:Mm,object:this,oldValue:r}:null;return Ba(function(){a.atom_.reportChanged(),a.data_.delete(r)}),p&&bs(this,_),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=this.values();return TT({next:function(){var u=r.next(),f=u.value,p=u.done;return p?{value:void 0,done:p}:{value:[f,f],done:p}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,a=this.data_.values();return TT({next:function(){var f=a.next(),p=f.value,_=f.done;return _?{value:void 0,done:_}:{value:r.dehanceValue_(p),done:_}}})},e.intersection=function(r){if(za(r)&&!Js(r))return r.intersection(this);var a=new Set(this);return a.intersection(r)},e.union=function(r){if(za(r)&&!Js(r))return r.union(this);var a=new Set(this);return a.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(za(r)&&!Js(r))return r.symmetricDifference(this);var a=new Set(this);return a.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(za(r)&&!Js(r))return r.isDisjointFrom(this);var a=new Set(this);return a.isDisjointFrom(r)},e.replace=function(r){var a=this;return Js(r)&&(r=new Set(r)),Ba(function(){Array.isArray(r)?(a.clear(),r.forEach(function(u){return a.add(u)})):za(r)?(a.clear(),r.forEach(function(u){return a.add(u)})):r!=null&&At("Cannot initialize set from "+r)}),this},e.observe_=function(r,a){return Of(this,r)},e.intercept_=function(r){return If(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Gc(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Js=yu("ObservableSet",lA);function TT(n){return n[Symbol.toStringTag]="SetIterator",Vv(n)}var ST=Object.create(null),xT="remove",uA=(function(){function n(t,r,a,u){r===void 0&&(r=new Map),u===void 0&&(u=WL),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=r,this.name_=a,this.defaultAnnotation_=u,this.keysAtom_=new hl("ObservableObject.keys"),this.isPlainObject_=$a(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,a){var u=this.values_.get(r);if(u instanceof Ts)return u.set(a),!0;if(Ur(this)){var f=Fr(this,{type:ia,object:this.proxy_||this.target_,name:r,newValue:a});if(!f)return null;a=f.newValue}if(a=u.prepareNewValue_(a),a!==Oe.UNCHANGED){var p=vs(this),_=!1,v=p||_?{type:ia,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:u.value_,name:r,newValue:a}:null;u.setNewValue_(a),p&&bs(this,v)}return!0},e.get_=function(r){return Oe.trackingDerivation&&!Za(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,a,u){return u===void 0&&(u=!1),Za(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,a):u?Reflect.set(this.target_,r,a):(this.target_[r]=a,!0):this.extend_(r,{value:a,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,u)},e.has_=function(r){if(!Oe.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var a=this.pendingKeys_.get(r);return a||(a=new su(r in this.target_,Ep,"ObservableObject.key?",!1),this.pendingKeys_.set(r,a)),a.get()},e.make_=function(r,a){if(a===!0&&(a=this.defaultAnnotation_),a!==!1){if(!(r in this.target_)){var u;if((u=this.target_[ea])!=null&&u[r])return;At(1,a.annotationType_,this.name_+"."+r.toString())}for(var f=this.target_;f&&f!==bp;){var p=Cm(f,r);if(p){var _=a.make_(this,r,p,f);if(_===0)return;if(_===1)break}f=Object.getPrototypeOf(f)}CT(this,a,r)}},e.extend_=function(r,a,u,f){if(f===void 0&&(f=!1),u===!0&&(u=this.defaultAnnotation_),u===!1)return this.defineProperty_(r,a,f);var p=u.extend_(this,r,a,f);return p&&CT(this,u,r),p},e.defineProperty_=function(r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{qr();var f=this.delete_(r);if(!f)return f;if(Ur(this)){var p=Fr(this,{object:this.proxy_||this.target_,name:r,type:Qo,newValue:a.value});if(!p)return null;var _=p.newValue;a.value!==_&&(a=uu({},a,{value:_}))}if(u){if(!Reflect.defineProperty(this.target_,r,a))return!1}else ta(this.target_,r,a);this.notifyPropertyAddition_(r,a.value)}finally{Gr()}return!0},e.defineObservableProperty_=function(r,a,u,f){f===void 0&&(f=!1),this.keysAtom_;try{qr();var p=this.delete_(r);if(!p)return p;if(Ur(this)){var _=Fr(this,{object:this.proxy_||this.target_,name:r,type:Qo,newValue:a});if(!_)return null;a=_.newValue}var v=AT(r),E={configurable:Oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:v.get,set:v.set};if(f){if(!Reflect.defineProperty(this.target_,r,E))return!1}else ta(this.target_,r,E);var A=new su(a,u,"ObservableObject.key",!1);this.values_.set(r,A),this.notifyPropertyAddition_(r,A.value_)}finally{Gr()}return!0},e.defineComputedProperty_=function(r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{qr();var f=this.delete_(r);if(!f)return f;if(Ur(this)){var p=Fr(this,{object:this.proxy_||this.target_,name:r,type:Qo,newValue:void 0});if(!p)return null}a.name||(a.name="ObservableObject.key"),a.context=this.proxy_||this.target_;var _=AT(r),v={configurable:Oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:_.get,set:_.set};if(u){if(!Reflect.defineProperty(this.target_,r,v))return!1}else ta(this.target_,r,v);this.values_.set(r,new Ts(a)),this.notifyPropertyAddition_(r,void 0)}finally{Gr()}return!0},e.delete_=function(r,a){if(a===void 0&&(a=!1),this.keysAtom_,!Za(this.target_,r))return!0;if(Ur(this)){var u=Fr(this,{object:this.proxy_||this.target_,name:r,type:xT});if(!u)return null}try{var f;qr();var p=vs(this),_=!1,v=this.values_.get(r),E=void 0;if(!v&&(p||_)){var A;E=(A=Cm(this.target_,r))==null?void 0:A.value}if(a){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(v&&(this.values_.delete(r),v instanceof su&&(E=v.value_),Kx(v)),this.keysAtom_.reportChanged(),(f=this.pendingKeys_)==null||(f=f.get(r))==null||f.set(r in this.target_),p||_){var I={type:xT,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:E,name:r};p&&bs(this,I)}}finally{Gr()}return!0},e.observe_=function(r,a){return Of(this,r)},e.intercept_=function(r){return If(this,r)},e.notifyPropertyAddition_=function(r,a){var u,f=vs(this),p=!1;if(f||p){var _=f||p?{type:Qo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:a}:null;f&&bs(this,_)}(u=this.pendingKeys_)==null||(u=u.get(r))==null||u.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Ic(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n})();function wu(n,e){var t;if(Za(n,We))return n;var r=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",a=new uA(n,new Map,String(r),rM(e));return xf(n,We,a),n}var $M=yu("ObservableObjectAdministration",uA);function AT(n){return ST[n]||(ST[n]={get:function(){return this[We].getObservablePropValue_(n)},set:function(t){return this[We].setObservablePropValue_(n,t)}})}function Rp(n){return wp(n)?$M(n[We]):!1}function CT(n,e,t){var r;(r=n.target_[ea])==null||delete r[t]}var QM=hA(0),XM=(function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1})(),Q_=0,cA=function(){};function JM(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}JM(cA,Array.prototype);var jv=(function(n){function e(r,a,u,f){var p;return u===void 0&&(u="ObservableArray"),f===void 0&&(f=!1),p=n.call(this)||this,fl(function(){var _=new Dv(u,a,f,!0);_.proxy_=p,Cx(p,We,_),r&&r.length&&p.spliceWithArray(0,0,r),XM&&Object.defineProperty(p,"0",QM)}),p}Ox(e,n);var t=e.prototype;return t.concat=function(){this[We].atom_.reportObserved();for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return Array.prototype.concat.apply(this.slice(),u.map(function(p){return Cp(p)?p.slice():p}))},t[Symbol.iterator]=function(){var r=this,a=0;return Vv({next:function(){return a<r.length?{value:r[a++],done:!1}:{done:!0,value:void 0}}})},Gc(e,[{key:"length",get:function(){return this[We].getArrayLength_()},set:function(a){this[We].setArrayLength_(a)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(cA);Object.entries(Lm).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&xf(jv.prototype,e,t)});function hA(n){return{enumerable:!1,configurable:!0,get:function(){return this[We].get_(n)},set:function(t){this[We].set_(n,t)}}}function ek(n){ta(jv.prototype,""+n,hA(n))}function fA(n){if(n>Q_){for(var e=Q_;e<n+100;e++)ek(e);Q_=n}}fA(1e3);function tk(n,e,t){return new jv(n,e,t)}function km(n,e){if(typeof n=="object"&&n!==null){if(Cp(n))return e!==void 0&&At(23),n[We].atom_;if(Js(n))return n.atom_;if(bu(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||At(25,e,Dy(n)),t}if(Rp(n)){if(!e)return At(26);var r=n[We].values_.get(e);return r||At(27,e,Dy(n)),r}if(Nv(n)||xp(n)||Pm(n))return n}else if(Es(n)&&Pm(n[We]))return n[We];At(28)}function nk(n,e){if(n||At(29),Nv(n)||xp(n)||Pm(n)||bu(n)||Js(n))return n;if(n[We])return n[We];At(24,n)}function Dy(n,e){var t;if(e!==void 0)t=km(n,e);else{if(Oc(n))return n.name;Rp(n)||bu(n)||Js(n)?t=nk(n):t=km(n)}return t.name_}function fl(n){var e=vu(),t=Lv(!0);qr();try{return n()}finally{Gr(),Mv(t),Wa(e)}}var RT=bp.toString;function dA(n,e,t){return t===void 0&&(t=-1),jy(n,e,t)}function jy(n,e,t,r,a){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var u=typeof n;if(u!=="function"&&u!=="object"&&typeof e!="object")return!1;var f=RT.call(n);if(f!==RT.call(e))return!1;switch(f){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=IT(n),e=IT(e);var p=f==="[object Array]";if(!p){if(typeof n!="object"||typeof e!="object")return!1;var _=n.constructor,v=e.constructor;if(_!==v&&!(Es(_)&&_ instanceof _&&Es(v)&&v instanceof v)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),r=r||[],a=a||[];for(var E=r.length;E--;)if(r[E]===n)return a[E]===e;if(r.push(n),a.push(e),p){if(E=n.length,E!==e.length)return!1;for(;E--;)if(!jy(n[E],e[E],t-1,r,a))return!1}else{var A=Object.keys(n),I=A.length;if(Object.keys(e).length!==I)return!1;for(var M=0;M<I;M++){var V=A[M];if(!(Za(e,V)&&jy(n[V],e[V],t-1,r,a)))return!1}}return r.pop(),a.pop(),!0}function IT(n){return Cp(n)?n.slice():qc(n)||bu(n)||za(n)||Js(n)?Array.from(n.entries()):n}var OT,ik=((OT=vp().Iterator)==null?void 0:OT.prototype)||{};function Vv(n){return n[Symbol.iterator]=rk,Object.assign(Object.create(ik),n)}function rk(){return this}["Symbol","Map","Set"].forEach(function(n){var e=vp();typeof e[n]>"u"&&At("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:wM,extras:{getDebugName:Dy},$mobx:We});if(!K.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!FM)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function sk(n){n()}function ak(n){n||(n=sk),MM({reactionScheduler:n})}function ok(n){return kM(n)}var lk=1e4,uk=1e4,ck=(function(){function n(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=lk),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var a=Date.now();t.registrations.forEach(function(u,f){a-u.registeredAt>=r&&(t.finalize(u.value),t.registrations.delete(f))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){this.registrations.set(r,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,uk))}}),n})(),hk=typeof FinalizationRegistry<"u"?FinalizationRegistry:ck,Vy=new hk(function(n){var e;(e=n.reaction)===null||e===void 0||e.dispose(),n.reaction=null}),X_={exports:{}},J_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function fk(){if(NT)return J_;NT=1;var n=op();function e(A,I){return A===I&&(A!==0||1/A===1/I)||A!==A&&I!==I}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,a=n.useEffect,u=n.useLayoutEffect,f=n.useDebugValue;function p(A,I){var M=I(),V=r({inst:{value:M,getSnapshot:I}}),F=V[0].inst,j=V[1];return u(function(){F.value=M,F.getSnapshot=I,_(F)&&j({inst:F})},[A,M,I]),a(function(){return _(F)&&j({inst:F}),A(function(){_(F)&&j({inst:F})})},[A]),f(M),M}function _(A){var I=A.getSnapshot;A=A.value;try{var M=I();return!t(A,M)}catch{return!0}}function v(A,I){return I()}var E=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:p;return J_.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:E,J_}var PT;function dk(){return PT||(PT=1,X_.exports=fk()),X_.exports}var mk=dk();function LT(n){n.reaction=new Qa("observer".concat(n.name),function(){var e;n.stateVersion=Symbol(),(e=n.onStoreChange)===null||e===void 0||e.call(n)})}function pk(n,e){e===void 0&&(e="observed");var t=_s.useRef(null);if(!t.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:e,subscribe:function(p){return Vy.unregister(r),r.onStoreChange=p,r.reaction||(LT(r),r.stateVersion=Symbol()),function(){var _;r.onStoreChange=null,(_=r.reaction)===null||_===void 0||_.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};t.current=r}var a=t.current;a.reaction||(LT(a),Vy.register(t,a,a)),_s.useDebugValue(a.reaction,ok),mk.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot);var u,f;if(a.reaction.track(function(){try{u=n()}catch(p){f=p}}),f)throw f;return u}var ey,ty,mA=typeof Symbol=="function"&&Symbol.for,gk=(ty=(ey=Object.getOwnPropertyDescriptor(function(){},"name"))===null||ey===void 0?void 0:ey.configurable)!==null&&ty!==void 0?ty:!1,MT=mA?Symbol.for("react.forward_ref"):typeof K.forwardRef=="function"&&K.forwardRef(function(n){return null}).$$typeof,kT=mA?Symbol.for("react.memo"):typeof K.memo=="function"&&K.memo(function(n){return null}).$$typeof;function yr(n,e){var t;if(kT&&n.$$typeof===kT)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(t=void 0)!==null&&t!==void 0?t:!1,a=n,u=n.displayName||n.name;if(MT&&n.$$typeof===MT&&(r=!0,a=n.render,typeof a!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var f=function(p,_){return pk(function(){return a(p,_)},u)};return f.displayName=n.displayName,gk&&Object.defineProperty(f,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(f.contextTypes=n.contextTypes),r&&(f=K.forwardRef(f)),f=K.memo(f),yk(n,f),f}var _k={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function yk(n,e){Object.keys(n).forEach(function(t){_k[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}var ny;ak(F1.unstable_batchedUpdates);ny=Vy.finalizeAllImmediately;const vk=()=>{};var DT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},bk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[t++];e[r++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[t++],f=n[t++],p=n[t++],_=((a&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const u=n[t++],f=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(u&63)<<6|f&63)}}return e.join("")},gA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const u=n[a],f=a+1<n.length,p=f?n[a+1]:0,_=a+2<n.length,v=_?n[a+2]:0,E=u>>2,A=(u&3)<<4|p>>4;let I=(p&15)<<2|v>>6,M=v&63;_||(M=64,f||(I=64)),r.push(t[E],t[A],t[I],t[M])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):bk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const u=t[n.charAt(a++)],p=a<n.length?t[n.charAt(a)]:0;++a;const v=a<n.length?t[n.charAt(a)]:64;++a;const A=a<n.length?t[n.charAt(a)]:64;if(++a,u==null||p==null||v==null||A==null)throw new wk;const I=u<<2|p>>4;if(r.push(I),v!==64){const M=p<<4&240|v>>2;if(r.push(M),A!==64){const V=v<<6&192|A;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ek=function(n){const e=pA(n);return gA.encodeByteArray(e,!0)},Dm=function(n){return Ek(n).replace(/\./g,"")},_A=function(n){try{return gA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=()=>Tk().__FIREBASE_DEFAULTS__,xk=()=>{if(typeof process>"u"||typeof DT>"u")return;const n=DT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ak=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&_A(n[1]);return e&&JSON.parse(e)},Ip=()=>{try{return vk()||Sk()||xk()||Ak()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yA=n=>{var e,t;return(t=(e=Ip())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},Ck=n=>{const e=yA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},vA=()=>{var n;return(n=Ip())==null?void 0:n.config},bA=n=>{var e;return(e=Ip())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Dm(JSON.stringify(t)),Dm(JSON.stringify(f)),""].join(".")}const Jh={};function Ok(){const n={prod:[],emulator:[]};for(const e of Object.keys(Jh))Jh[e]?n.emulator.push(e):n.prod.push(e);return n}function Nk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let jT=!1;function EA(n,e){if(typeof window>"u"||typeof document>"u"||!Zc(window.location.host)||Jh[n]===e||Jh[n]||jT)return;Jh[n]=e;function t(I){return`__firebase__banner__${I}`}const r="__firebase__banner",u=Ok().prod.length>0;function f(){const I=document.getElementById(r);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,M){I.setAttribute("width","24"),I.setAttribute("id",M),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{jT=!0,f()},I}function E(I,M){I.setAttribute("id",M),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=Nk(r),M=t("text"),V=document.getElementById(M)||document.createElement("span"),F=t("learnmore"),j=document.getElementById(F)||document.createElement("a"),le=t("preprendIcon"),Ee=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ae=I.element;p(ae),E(j,F);const Se=v();_(Ee,le),ae.append(Ee,V,j,Se),document.body.appendChild(ae)}u?(V.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(di())}function Lk(){var e;const n=(e=Ip())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dk(){const n=di();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jk(){return!Lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var u;e(((u=a.error)==null?void 0:u.message)||"")}}catch(t){e(t)}})}function Vk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="FirebaseError";class Is extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=zk,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,u=this.errors[e],f=u?Bk(u,r):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Is(a,p,r)}}function Bk(n,e){return n.replace(Uk,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Uk=/\{\$([^}]+)}/g;function Fk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function il(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const u=n[a],f=e[a];if(VT(u)&&VT(f)){if(!il(u,f))return!1}else if(u!==f)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function VT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,u]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(u)}}),e}function Zh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Hk(n,e){const t=new qk(n,e);return t.subscribe.bind(t)}class qk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Gk(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=iy),a.error===void 0&&(a.error=iy),a.complete===void 0&&(a.complete=iy);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function iy(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=1e3,Wk=2,Kk=14400*1e3,Yk=.5;function zT(n,e=Zk,t=Wk){const r=e*Math.pow(t,n),a=Math.round(Yk*r*(Math.random()-.5)*2);return Math.min(Kk,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(n){return n&&n._delegate?n._delegate:n}class Ss{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Rk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xk(e))try{this.getOrInitializeService({instanceIdentifier:$l})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:a});r.resolve(u)}catch{}}}}clearInstance(e=$l){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$l){return this.instances.has(e)}getOptions(e=$l){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&f.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const u=this.instances.get(r);return u&&e(u,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$l){return this.component?this.component.multipleInstances?e:$l:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qk(n){return n===$l?void 0:n}function Xk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $k(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(gt||(gt={}));const eD={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},tD=gt.INFO,nD={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},iD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=nD[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=tD,this._logHandler=iD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const rD=(n,e)=>e.some(t=>n instanceof t);let BT,UT;function sD(){return BT||(BT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aD(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AA=new WeakMap,zy=new WeakMap,CA=new WeakMap,ry=new WeakMap,zv=new WeakMap;function oD(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{t(Jo(n.result)),a()},f=()=>{r(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&AA.set(t,n)}).catch(()=>{}),zv.set(e,n),e}function lD(n){if(zy.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{t(),a()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});zy.set(n,e)}let By={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||CA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uD(n){By=n(By)}function cD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(sy(this),e,...t);return CA.set(r,e.sort?e.sort():[e]),Jo(r)}:aD().includes(n)?function(...e){return n.apply(sy(this),e),Jo(AA.get(this))}:function(...e){return Jo(n.apply(sy(this),e))}}function hD(n){return typeof n=="function"?cD(n):(n instanceof IDBTransaction&&lD(n),rD(n,sD())?new Proxy(n,By):n)}function Jo(n){if(n instanceof IDBRequest)return oD(n);if(ry.has(n))return ry.get(n);const e=hD(n);return e!==n&&(ry.set(n,e),zv.set(e,n)),e}const sy=n=>zv.get(n);function RA(n,e,{blocked:t,upgrade:r,blocking:a,terminated:u}={}){const f=indexedDB.open(n,e),p=Jo(f);return r&&f.addEventListener("upgradeneeded",_=>{r(Jo(f.result),_.oldVersion,_.newVersion,Jo(f.transaction),_)}),t&&f.addEventListener("blocked",_=>t(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),a&&_.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const fD=["get","getKey","getAll","getAllKeys","count"],dD=["put","add","delete","clear"],ay=new Map;function FT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=dD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||fD.includes(t)))return;const u=async function(f,...p){const _=this.transaction(f,a?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(p.shift())),(await Promise.all([v[t](...p),a&&_.done]))[0]};return ay.set(e,u),u}uD(n=>({...n,get:(e,t,r)=>FT(e,t)||n.get(e,t,r),has:(e,t)=>!!FT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function pD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uy="@firebase/app",HT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Op("@firebase/app"),gD="@firebase/app-compat",_D="@firebase/analytics-compat",yD="@firebase/analytics",vD="@firebase/app-check-compat",bD="@firebase/app-check",wD="@firebase/auth",ED="@firebase/auth-compat",TD="@firebase/database",SD="@firebase/data-connect",xD="@firebase/database-compat",AD="@firebase/functions",CD="@firebase/functions-compat",RD="@firebase/installations",ID="@firebase/installations-compat",OD="@firebase/messaging",ND="@firebase/messaging-compat",PD="@firebase/performance",LD="@firebase/performance-compat",MD="@firebase/remote-config",kD="@firebase/remote-config-compat",DD="@firebase/storage",jD="@firebase/storage-compat",VD="@firebase/firestore",zD="@firebase/ai",BD="@firebase/firestore-compat",UD="firebase",FD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="[DEFAULT]",HD={[Uy]:"fire-core",[gD]:"fire-core-compat",[yD]:"fire-analytics",[_D]:"fire-analytics-compat",[bD]:"fire-app-check",[vD]:"fire-app-check-compat",[wD]:"fire-auth",[ED]:"fire-auth-compat",[TD]:"fire-rtdb",[SD]:"fire-data-connect",[xD]:"fire-rtdb-compat",[AD]:"fire-fn",[CD]:"fire-fn-compat",[RD]:"fire-iid",[ID]:"fire-iid-compat",[OD]:"fire-fcm",[ND]:"fire-fcm-compat",[PD]:"fire-perf",[LD]:"fire-perf-compat",[MD]:"fire-rc",[kD]:"fire-rc-compat",[DD]:"fire-gcs",[jD]:"fire-gcs-compat",[VD]:"fire-fst",[BD]:"fire-fst-compat",[zD]:"fire-vertex","fire-js":"fire-js",[UD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=new Map,qD=new Map,Hy=new Map;function qT(n,e){try{n.container.addComponent(e)}catch(t){Xa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ca(n){const e=n.name;if(Hy.has(e))return Xa.debug(`There were multiple attempts to register component ${e}.`),!1;Hy.set(e,n);for(const t of jm.values())qT(t,n);for(const t of qD.values())qT(t,n);return!0}function Tu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},el=new Eu("app","Firebase",GD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw el.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=FD;function IA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Fy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw el.create("bad-app-name",{appName:String(a)});if(t||(t=vA()),!t)throw el.create("no-options");const u=jm.get(a);if(u){if(il(t,u.options)&&il(r,u.config))return u;throw el.create("duplicate-app",{appName:a})}const f=new Jk(a);for(const _ of Hy.values())f.addComponent(_);const p=new ZD(t,r,f);return jm.set(a,p),p}function Bv(n=Fy){const e=jm.get(n);if(!e&&n===Fy&&vA())return IA();if(!e)throw el.create("no-app",{appName:n});return e}function Zr(n,e,t){let r=HD[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${r}" with version "${e}":`];a&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xa.warn(f.join(" "));return}ca(new Ss(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="firebase-heartbeat-database",KD=1,uf="firebase-heartbeat-store";let oy=null;function OA(){return oy||(oy=RA(WD,KD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uf)}catch(t){console.warn(t)}}}}).catch(n=>{throw el.create("idb-open",{originalErrorMessage:n.message})})),oy}async function YD(n){try{const t=(await OA()).transaction(uf),r=await t.objectStore(uf).get(NA(n));return await t.done,r}catch(e){if(e instanceof Is)Xa.warn(e.message);else{const t=el.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xa.warn(t.message)}}}async function GT(n,e){try{const r=(await OA()).transaction(uf,"readwrite");await r.objectStore(uf).put(e,NA(n)),await r.done}catch(t){if(t instanceof Is)Xa.warn(t.message);else{const r=el.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Xa.warn(r.message)}}}function NA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1024,QD=30;class XD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new e5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ZT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>QD){const f=t5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZT(),{heartbeatsToSend:r,unsentEntries:a}=JD(this._heartbeatsCache.heartbeats),u=Dm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Xa.warn(t),""}}}function ZT(){return new Date().toISOString().substring(0,10)}function JD(n,e=$D){const t=[];let r=n.slice();for(const a of n){const u=t.find(f=>f.agent===a.agent);if(u){if(u.dates.push(a.date),WT(t)>e){u.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),WT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class e5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function WT(n){return Dm(JSON.stringify({version:2,heartbeats:n})).length}function t5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(n){ca(new Ss("platform-logger",e=>new mD(e),"PRIVATE")),ca(new Ss("heartbeat",e=>new XD(e),"PRIVATE")),Zr(Uy,HT,n),Zr(Uy,HT,"esm2020"),Zr("fire-js","")}n5("");function PA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i5=PA,LA=new Eu("auth","Firebase",PA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Op("@firebase/auth");function r5(n,...e){Vm.logLevel<=gt.WARN&&Vm.warn(`Auth (${Wc}): ${n}`,...e)}function mm(n,...e){Vm.logLevel<=gt.ERROR&&Vm.error(`Auth (${Wc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n,...e){throw Fv(n,...e)}function ws(n,...e){return Fv(n,...e)}function Uv(n,e,t){const r={...i5(),[e]:t};return new Eu("auth","Firebase",r).create(e,{appName:n.name})}function ra(n){return Uv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s5(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Yr(n,"argument-error"),Uv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return LA.create(n,...e)}function qe(n,e,...t){if(!n)throw Fv(e,...t)}function Fa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mm(e),new Error(e)}function Ja(n,e){n||Fa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function a5(){return KT()==="http:"||KT()==="https:"}function KT(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a5()||TA()||"connection"in navigator)?navigator.onLine:!0}function l5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ja(t>e,"Short delay should be less than long delay!"),this.isMobile=Pk()||kk()}get(){return o5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(n,e){Ja(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h5=new Pf(3e4,6e4);function io(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ro(n,e,t,r,a={}){return kA(n,a,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const p=Nf({key:n.config.apiKey,...f}).slice(1),_=await n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:_,...u};return Mk()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Zc(n.emulatorConfig.host)&&(v.credentials="include"),MA.fetch()(await DA(n,n.config.apiHost,t,p),v)})}async function kA(n,e,t){n._canInitEmulator=!1;const r={...u5,...e};try{const a=new d5(n),u=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Jd(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jd(n,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Jd(n,"email-already-in-use",f);if(_==="USER_DISABLED")throw Jd(n,"user-disabled",f);const E=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Uv(n,E,v);Yr(n,E)}}catch(a){if(a instanceof Is)throw a;Yr(n,"network-request-failed",{message:String(a)})}}async function Lf(n,e,t,r,a={}){const u=await ro(n,e,t,r,a);return"mfaPendingCredential"in u&&Yr(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function DA(n,e,t,r){const a=`${e}${t}?${r}`,u=n,f=u.config.emulator?Hv(n.config,a):`${n.config.apiScheme}://${a}`;return c5.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function f5(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ws(this.auth,"network-request-failed")),h5.get())})}}function Jd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=ws(n,e,r);return a.customData._tokenResponse=t,a}function YT(n){return n!==void 0&&n.enterprise!==void 0}class m5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return f5(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function p5(n,e){return ro(n,"GET","/v2/recaptchaConfig",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(n,e){return ro(n,"POST","/v1/accounts:delete",e)}async function zm(n,e){return ro(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _5(n,e=!1){const t=un(n),r=await t.getIdToken(e),a=qv(r);qe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:a,token:r,authTime:ef(ly(a.auth_time)),issuedAtTime:ef(ly(a.iat)),expirationTime:ef(ly(a.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ly(n){return Number(n)*1e3}function qv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return mm("JWT malformed, contained fewer than 3 sections"),null;try{const a=_A(t);return a?JSON.parse(a):(mm("Failed to decode base64 JWT payload"),null)}catch(a){return mm("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function $T(n){const e=qv(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Is&&y5(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function y5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ef(this.lastLoginAt),this.creationTime=ef(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(n){var A;const e=n.auth,t=await n.getIdToken(),r=await cf(n,zm(e,{idToken:t}));qe(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const u=(A=a.providerUserInfo)!=null&&A.length?jA(a.providerUserInfo):[],f=w5(n.providerData,u),p=n.isAnonymous,_=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=p?_:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Gy(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function b5(n){const e=un(n);await Bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w5(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function jA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(n,e){const t=await kA(n,{},async()=>{const r=Nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,f=await DA(n,a,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return n.emulatorConfig&&Zc(n.emulatorConfig.host)&&(_.credentials="include"),MA.fetch()(f,_)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function T5(n,e){return ro(n,"POST","/v2/accounts:revokeToken",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=$T(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:u}=await E5(e,t);this.updateTokensAndExpiration(r,a,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:u}=t,f=new Ec;return r&&(qe(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),a&&(qe(typeof a=="string","internal-error",{appName:e}),f.accessToken=a),u&&(qe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return Fa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ys{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new v5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await cf(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return _5(this,e)}reload(){return b5(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ys({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(ra(this.auth));const e=await this.getIdToken();return await cf(this,g5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,u=t.phoneNumber??void 0,f=t.photoURL??void 0,p=t.tenantId??void 0,_=t._redirectEventId??void 0,v=t.createdAt??void 0,E=t.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:M,providerData:V,stsTokenManager:F}=t;qe(A&&F,e,"internal-error");const j=Ec.fromJSON(this.name,F);qe(typeof A=="string",e,"internal-error"),Wo(r,e.name),Wo(a,e.name),qe(typeof I=="boolean",e,"internal-error"),qe(typeof M=="boolean",e,"internal-error"),Wo(u,e.name),Wo(f,e.name),Wo(p,e.name),Wo(_,e.name),Wo(v,e.name),Wo(E,e.name);const le=new ys({uid:A,auth:e,email:a,emailVerified:I,displayName:r,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:j,createdAt:v,lastLoginAt:E});return V&&Array.isArray(V)&&(le.providerData=V.map(Ee=>({...Ee}))),_&&(le._redirectEventId=_),le}static async _fromIdTokenResponse(e,t,r=!1){const a=new Ec;a.updateFromServerResponse(t);const u=new ys({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Bm(u),u}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];qe(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?jA(a.providerUserInfo):[],f=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),p=new Ec;p.updateFromIdToken(r);const _=new ys({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:f}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Gy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=new Map;function Ha(n){Ja(n instanceof Function,"Expected a class definition");let e=QT.get(n);return e?(Ja(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,QT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}VA.type="NONE";const XT=VA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n,e,t){return`firebase:${n}:${e}:${t}`}class Tc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:u}=this.auth;this.fullUserKey=pm(this.userKey,a.apiKey,u),this.fullPersistenceKey=pm("persistence",a.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zm(this.auth,{idToken:e}).catch(()=>{});return t?ys._fromGetAccountInfoResponse(this.auth,t,e):null}return ys._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Tc(Ha(XT),e,r);const a=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=a[0]||Ha(XT);const f=pm(r,e.config.apiKey,e.name);let p=null;for(const v of t)try{const E=await v._get(f);if(E){let A;if(typeof E=="string"){const I=await zm(e,{idToken:E}).catch(()=>{});if(!I)break;A=await ys._fromGetAccountInfoResponse(e,I,E)}else A=ys._fromJSON(e,E);v!==u&&(p=A),u=v;break}}catch{}const _=a.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Tc(u,e,r):(u=_[0],p&&await u._set(f,p.toJSON()),await Promise.all(t.map(async v=>{if(v!==u)try{await v._remove(f)}catch{}})),new Tc(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qA(e))return"Blackberry";if(GA(e))return"Webos";if(BA(e))return"Safari";if((e.includes("chrome/")||UA(e))&&!e.includes("edge/"))return"Chrome";if(HA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zA(n=di()){return/firefox\//i.test(n)}function BA(n=di()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UA(n=di()){return/crios\//i.test(n)}function FA(n=di()){return/iemobile/i.test(n)}function HA(n=di()){return/android/i.test(n)}function qA(n=di()){return/blackberry/i.test(n)}function GA(n=di()){return/webos/i.test(n)}function Gv(n=di()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function S5(n=di()){var e;return Gv(n)&&!!((e=window.navigator)!=null&&e.standalone)}function x5(){return Dk()&&document.documentMode===10}function ZA(n=di()){return Gv(n)||HA(n)||GA(n)||qA(n)||/windows phone/i.test(n)||FA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n,e=[]){let t;switch(n){case"Browser":t=JT(di());break;case"Worker":t=`${JT(di())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((f,p)=>{try{const _=e(u);f(_)}catch(_){p(_)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(n,e={}){return ro(n,"GET","/v2/passwordPolicy",io(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=6;class I5{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??R5,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eS(this),this.idTokenSubscription=new eS(this),this.beforeStateQueue=new A5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ha(t)),this._initializationPromise=this.queue(async()=>{var r,a,u;if(!this._deleted&&(this.persistenceManager=await Tc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zm(this,{idToken:e}),r=await ys._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Hi(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(p,p))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=r==null?void 0:r._redirectEventId,_=await this.tryRedirectSignIn(e);(!f||f===p)&&(_!=null&&_.user)&&(r=_.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(ra(this));const t=e?un(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ha(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C5(this),t=new I5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await T5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ha(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Tc.create(this,[Ha(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const _=e.addObserver(t,r,a);return()=>{f=!0,_()}}else{const _=e.addObserver(t);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&r5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fa(n){return un(n)}class eS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hk(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N5(n){Np=n}function KA(n){return Np.loadJS(n)}function P5(){return Np.recaptchaEnterpriseScript}function L5(){return Np.gapiScript}function M5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class k5{constructor(){this.enterprise=new D5}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class D5{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const j5="recaptcha-enterprise",YA="NO_RECAPTCHA";class V5{constructor(e){this.type=j5,this.auth=fa(e)}async verify(e="verify",t=!1){async function r(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{p5(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new m5(_);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,f(v.siteKey)}}).catch(_=>{p(_)})})}function a(u,f,p){const _=window.grecaptcha;YT(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:e}).then(v=>{f(v)}).catch(()=>{f(YA)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k5().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(p=>{if(!t&&YT(window.grecaptcha))a(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let _=P5();_.length!==0&&(_+=p),KA(_).then(()=>{a(p,u,f)}).catch(v=>{f(v)})}}).catch(p=>{f(p)})})}}async function tS(n,e,t,r=!1,a=!1){const u=new V5(n);let f;if(a)f=YA;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Um(n,e,t,r,a){var u;if((u=n._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await tS(n,e,t,t==="getOobCode");return r(n,f)}else return r(n,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await tS(n,e,t,t==="getOobCode");return r(n,p)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(n,e){const t=Tu(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),u=t.getOptions();if(il(u,e??{}))return a;Yr(a,"already-initialized")}return t.initialize({options:e})}function B5(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ha);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U5(n,e,t){const r=fa(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,u=$A(e),{host:f,port:p}=F5(e),_=p===null?"":`:${p}`,v={url:`${u}//${f}${_}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(il(v,r.config.emulator)&&il(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,Zc(f)?(wA(`${u}//${f}${_}`),EA("Auth",!0)):H5()}function $A(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function F5(n){const e=$A(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const u=a[1];return{host:u,port:nS(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:nS(f)}}}function nS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function H5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fa("not implemented")}_getIdTokenResponse(e){return Fa("not implemented")}_linkToIdToken(e,t){return Fa("not implemented")}_getReauthenticationResolver(e){return Fa("not implemented")}}async function q5(n,e){return ro(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(n,e){return Lf(n,"POST","/v1/accounts:signInWithPassword",io(n,e))}async function QA(n,e){return ro(n,"POST","/v1/accounts:sendOobCode",io(n,e))}async function Z5(n,e){return QA(n,e)}async function W5(n,e){return QA(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(n,e){return Lf(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}async function Y5(n,e){return Lf(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Zv{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new hf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new hf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,t,"signInWithPassword",G5);case"emailLink":return K5(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,r,"signUpPassword",q5);case"emailLink":return Y5(e,{idToken:t,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(n,e){return Lf(n,"POST","/v1/accounts:signInWithIdp",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="http://localhost";class fu extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...u}=t;if(!r||!a)return null;const f=new fu(r,a);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return Sc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Sc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sc(e,t)}buildRequest(){const e={requestUri:$5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X5(n){const e=Gh(Zh(n)).link,t=e?Gh(Zh(e)).deep_link_id:null,r=Gh(Zh(n)).deep_link_id;return(r?Gh(Zh(r)).link:null)||r||t||e||n}class Wv{constructor(e){const t=Gh(Zh(e)),r=t.apiKey??null,a=t.oobCode??null,u=Q5(t.mode??null);qe(r&&a&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=X5(e);try{return new Wv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.providerId=Kc.PROVIDER_ID}static credential(e,t){return hf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Wv.parseLink(t);return qe(r,"argument-error"),hf._fromEmailAndCode(e,r.code,r.tenantId)}}Kc.PROVIDER_ID="password";Kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends Mf{constructor(){super("facebook.com")}static credential(e){return fu._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ko.credential(e.oauthAccessToken)}catch{return null}}}Ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fu._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ua.credential(t,r)}catch{return null}}}Ua.GOOGLE_SIGN_IN_METHOD="google.com";Ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Mf{constructor(){super("github.com")}static credential(e){return fu._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.GITHUB_SIGN_IN_METHOD="github.com";Yo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Mf{constructor(){super("twitter.com")}static credential(e,t){return fu._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return $o.credential(t,r)}catch{return null}}}$o.TWITTER_SIGN_IN_METHOD="twitter.com";$o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(n,e){return Lf(n,"POST","/v1/accounts:signUp",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const u=await ys._fromIdTokenResponse(e,r,a),f=iS(r);return new eo({user:u,providerId:f,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=iS(r);return new eo({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function iS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(n){var a;if(Hi(n.app))return Promise.reject(ra(n));const e=fa(n);if(await e._initializationPromise,(a=e.currentUser)!=null&&a.isAnonymous)return new eo({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await XA(e,{returnSecureToken:!0}),r=await eo._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Is{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Fm(e,t,r,a)}}function JA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(n,u,e,r):u})}async function ej(n,e,t=!1){const r=await cf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return eo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(n,e,t=!1){const{auth:r}=n;if(Hi(r.app))return Promise.reject(ra(r));const a="reauthenticate";try{const u=await cf(n,JA(r,a,e,n),t);qe(u.idToken,r,"internal-error");const f=qv(u.idToken);qe(f,r,"internal-error");const{sub:p}=f;return qe(n.uid===p,r,"user-mismatch"),eo._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(n,e,t=!1){if(Hi(n.app))return Promise.reject(ra(n));const r="signIn",a=await JA(n,r,e),u=await eo._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(u.user),u}async function nj(n,e){return eC(fa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(n){const e=fa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ij(n,e,t){const r=fa(n);await Um(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",W5)}async function rj(n,e,t){if(Hi(n.app))return Promise.reject(ra(n));const r=fa(n),f=await Um(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XA).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&tC(n),_}),p=await eo._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(p.user),p}function sj(n,e,t){return Hi(n.app)?Promise.reject(ra(n)):nj(un(n),Kc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tC(n),r})}async function rS(n,e){const t=un(n),a={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:u}=await Z5(t.auth,a);u!==n.email&&await n.reload()}function aj(n,e,t,r){return un(n).onIdTokenChanged(e,t,r)}function oj(n,e,t){return un(n).beforeAuthStateChanged(e,t)}function lj(n,e,t,r){return un(n).onAuthStateChanged(e,t,r)}function uj(n){return un(n).signOut()}async function cj(n){return un(n).delete()}const Hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=1e3,fj=10;class iC extends nC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,p,_)=>{this.notifyListeners(f,_)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const f=this.storage.getItem(r);!t&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);x5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,fj):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iC.type="LOCAL";const dj=iC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends nC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rC.type="SESSION";const sC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Pp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:u}=t.data,f=this.handlersMap[a];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const p=Array.from(f).map(async v=>v(t.origin,u)),_=await mj(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:_})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,f;return new Promise((p,_)=>{const v=Yv("",20);a.port1.start();const E=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:a,onMessage(A){const I=A;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(I.data.response);break;default:clearTimeout(E),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),a.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[a.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(){return window}function gj(n){sa().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return typeof sa().WorkerGlobalScope<"u"&&typeof sa().importScripts=="function"}async function _j(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yj(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function vj(){return aC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebaseLocalStorageDb",bj=1,qm="firebaseLocalStorage",lC="fbase_key";class kf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lp(n,e){return n.transaction([qm],e?"readwrite":"readonly").objectStore(qm)}function wj(){const n=indexedDB.deleteDatabase(oC);return new kf(n).toPromise()}function Zy(){const n=indexedDB.open(oC,bj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qm,{keyPath:lC})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qm)?e(r):(r.close(),await wj(),e(await Zy()))})})}async function sS(n,e,t){const r=Lp(n,!0).put({[lC]:e,value:t});return new kf(r).toPromise()}async function Ej(n,e){const t=Lp(n,!1).get(e),r=await new kf(t).toPromise();return r===void 0?null:r.value}function aS(n,e){const t=Lp(n,!0).delete(e);return new kf(t).toPromise()}const Tj=800,Sj=3;class uC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Sj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pp._getInstance(vj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await _j(),!this.activeServiceWorker)return;this.sender=new pj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zy();return await sS(e,Hm,"1"),await aS(e,Hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>sS(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Ej(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=Lp(a,!1).getAll();return new kf(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uC.type="LOCAL";const xj=uC;new Pf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n,e){return e?Ha(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Aj(n){return eC(n.auth,new $v(n),n.bypassAuthState)}function Cj(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),tj(t,new $v(n),n.bypassAuthState)}async function Rj(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),ej(t,new $v(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t,r,a,u=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Aj;case"linkViaPopup":case"linkViaRedirect":return Rj;case"reauthViaPopup":case"reauthViaRedirect":return Cj;default:Yr(this.auth,"internal-error")}}resolve(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new Pf(2e3,1e4);async function Oj(n,e,t){if(Hi(n.app))return Promise.reject(ws(n,"operation-not-supported-in-this-environment"));const r=fa(n);s5(n,e,Kv);const a=cC(r,t);return new Jl(r,"signInViaPopup",e,a).executeNotNull()}class Jl extends hC{constructor(e,t,r,a,u){super(e,t,a,u),this.provider=r,this.authWindow=null,this.pollId=null,Jl.currentPopupAction&&Jl.currentPopupAction.cancel(),Jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Ja(this.filter.length===1,"Popup operations only handle one event");const e=Yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ij.get())};e()}}Jl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="pendingRedirect",gm=new Map;class Pj extends hC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=gm.get(this.auth._key());if(!e){try{const r=await Lj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}gm.set(this.auth._key(),e)}return this.bypassAuthState||gm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lj(n,e){const t=Dj(e),r=kj(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function Mj(n,e){gm.set(n._key(),e)}function kj(n){return Ha(n._redirectPersistence)}function Dj(n){return pm(Nj,n.config.apiKey,n.name)}async function jj(n,e,t=!1){if(Hi(n.app))return Promise.reject(ra(n));const r=fa(n),a=cC(r,e),f=await new Pj(r,a,t).execute();return f&&!t&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=600*1e3;class zj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!fC(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(ws(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Vj&&this.cachedEventUids.clear(),this.cachedEventUids.has(oS(e))}saveEventToCache(e){this.cachedEventUids.add(oS(e)),this.lastProcessedEventTime=Date.now()}}function oS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(n,e={}){return ro(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hj=/^https?/;async function qj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Uj(n);for(const t of e)try{if(Gj(t))return}catch{}Yr(n,"unauthorized-domain")}function Gj(n){const e=qy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===r}if(!Hj.test(t))return!1;if(Fj.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new Pf(3e4,6e4);function lS(){const n=sa().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Wj(n){return new Promise((e,t)=>{var a,u,f;function r(){lS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lS(),t(ws(n,"network-request-failed"))},timeout:Zj.get()})}if((u=(a=sa().gapi)==null?void 0:a.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=sa().gapi)!=null&&f.load)r();else{const p=M5("iframefcb");return sa()[p]=()=>{gapi.load?r():t(ws(n,"network-request-failed"))},KA(`${L5()}?onload=${p}`).catch(_=>t(_))}}).catch(e=>{throw _m=null,e})}let _m=null;function Kj(n){return _m=_m||Wj(n),_m}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new Pf(5e3,15e3),$j="__/auth/iframe",Qj="emulator/auth/iframe",Xj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e4(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hv(e,Qj):`https://${n.config.authDomain}/${$j}`,r={apiKey:e.apiKey,appName:n.name,v:Wc},a=Jj.get(n.config.apiHost);a&&(r.eid=a);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${Nf(r).slice(1)}`}async function t4(n){const e=await Kj(n),t=sa().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:e4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xj,dontclear:!0},r=>new Promise(async(a,u)=>{await r.restyle({setHideOnLeave:!1});const f=ws(n,"network-request-failed"),p=sa().setTimeout(()=>{u(f)},Yj.get());function _(){sa().clearTimeout(p),a(r)}r.ping(_).then(_,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i4=500,r4=600,s4="_blank",a4="http://localhost";class uS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o4(n,e,t,r=i4,a=r4){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...n4,width:r.toString(),height:a.toString(),top:u,left:f},v=di().toLowerCase();t&&(p=UA(v)?s4:t),zA(v)&&(e=e||a4,_.scrollbars="yes");const E=Object.entries(_).reduce((I,[M,V])=>`${I}${M}=${V},`,"");if(S5(v)&&p!=="_self")return l4(e||"",p),new uS(null);const A=window.open(e||"",p,E);qe(A,n,"popup-blocked");try{A.focus()}catch{}return new uS(A)}function l4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="__/auth/handler",c4="emulator/auth/handler",h4=encodeURIComponent("fac");async function cS(n,e,t,r,a,u){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wc,eventId:a};if(e instanceof Kv){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",Fk(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Mf){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}n.tenantId&&(f.tid=n.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const _=await n._getAppCheckToken(),v=_?`#${h4}=${encodeURIComponent(_)}`:"";return`${f4(n)}?${Nf(p).slice(1)}${v}`}function f4({config:n}){return n.emulator?Hv(n,c4):`https://${n.authDomain}/${u4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="webStorageSupport";class d4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sC,this._completeRedirectFn=jj,this._overrideRedirectResult=Mj}async _openPopup(e,t,r,a){var f;Ja((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await cS(e,t,r,qy(),a);return o4(e,u,Yv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const u=await cS(e,t,r,qy(),a);return gj(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:u}=this.eventManagers[t];return a?Promise.resolve(a):(Ja(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await t4(e),r=new zj(e);return t.register("authEvent",a=>(qe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uy,{type:uy},a=>{var f;const u=(f=a==null?void 0:a[0])==null?void 0:f[uy];u!==void 0&&t(!!u),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZA()||BA()||Gv()}}const m4=d4;var hS="@firebase/auth",fS="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _4(n){ca(new Ss("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=r.options;qe(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:f,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(n)},v=new O5(r,a,u,_);return B5(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ca(new Ss("auth-internal",e=>{const t=fa(e.getProvider("auth").getImmediate());return(r=>new p4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(hS,fS,g4(n)),Zr(hS,fS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=300,v4=bA("authIdTokenMaxAge")||y4;let dS=null;const b4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>v4)return;const a=t==null?void 0:t.token;dS!==a&&(dS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function w4(n=Bv()){const e=Tu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=z5(n,{popupRedirectResolver:m4,persistence:[xj,dj,sC]}),r=bA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=b4(u.toString());oj(t,f,()=>f(t.currentUser)),aj(t,p=>f(p))}}const a=yA("auth");return a&&U5(t,`http://${a}`),t}function E4(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}N5({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const u=ws("internal-error");u.customData=a,t(u)},r.type="text/javascript",r.charset="UTF-8",E4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_4("Browser");var mS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tl,dC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,D){function z(){}z.prototype=D.prototype,k.F=D.prototype,k.prototype=new z,k.prototype.constructor=k,k.D=function(W,q,H){for(var B=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)B[Ye-2]=arguments[Ye];return D.prototype[q].apply(W,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,D,z){z||(z=0);const W=Array(16);if(typeof D=="string")for(var q=0;q<16;++q)W[q]=D.charCodeAt(z++)|D.charCodeAt(z++)<<8|D.charCodeAt(z++)<<16|D.charCodeAt(z++)<<24;else for(q=0;q<16;++q)W[q]=D[z++]|D[z++]<<8|D[z++]<<16|D[z++]<<24;D=k.g[0],z=k.g[1],q=k.g[2];let H=k.g[3],B;B=D+(H^z&(q^H))+W[0]+3614090360&4294967295,D=z+(B<<7&4294967295|B>>>25),B=H+(q^D&(z^q))+W[1]+3905402710&4294967295,H=D+(B<<12&4294967295|B>>>20),B=q+(z^H&(D^z))+W[2]+606105819&4294967295,q=H+(B<<17&4294967295|B>>>15),B=z+(D^q&(H^D))+W[3]+3250441966&4294967295,z=q+(B<<22&4294967295|B>>>10),B=D+(H^z&(q^H))+W[4]+4118548399&4294967295,D=z+(B<<7&4294967295|B>>>25),B=H+(q^D&(z^q))+W[5]+1200080426&4294967295,H=D+(B<<12&4294967295|B>>>20),B=q+(z^H&(D^z))+W[6]+2821735955&4294967295,q=H+(B<<17&4294967295|B>>>15),B=z+(D^q&(H^D))+W[7]+4249261313&4294967295,z=q+(B<<22&4294967295|B>>>10),B=D+(H^z&(q^H))+W[8]+1770035416&4294967295,D=z+(B<<7&4294967295|B>>>25),B=H+(q^D&(z^q))+W[9]+2336552879&4294967295,H=D+(B<<12&4294967295|B>>>20),B=q+(z^H&(D^z))+W[10]+4294925233&4294967295,q=H+(B<<17&4294967295|B>>>15),B=z+(D^q&(H^D))+W[11]+2304563134&4294967295,z=q+(B<<22&4294967295|B>>>10),B=D+(H^z&(q^H))+W[12]+1804603682&4294967295,D=z+(B<<7&4294967295|B>>>25),B=H+(q^D&(z^q))+W[13]+4254626195&4294967295,H=D+(B<<12&4294967295|B>>>20),B=q+(z^H&(D^z))+W[14]+2792965006&4294967295,q=H+(B<<17&4294967295|B>>>15),B=z+(D^q&(H^D))+W[15]+1236535329&4294967295,z=q+(B<<22&4294967295|B>>>10),B=D+(q^H&(z^q))+W[1]+4129170786&4294967295,D=z+(B<<5&4294967295|B>>>27),B=H+(z^q&(D^z))+W[6]+3225465664&4294967295,H=D+(B<<9&4294967295|B>>>23),B=q+(D^z&(H^D))+W[11]+643717713&4294967295,q=H+(B<<14&4294967295|B>>>18),B=z+(H^D&(q^H))+W[0]+3921069994&4294967295,z=q+(B<<20&4294967295|B>>>12),B=D+(q^H&(z^q))+W[5]+3593408605&4294967295,D=z+(B<<5&4294967295|B>>>27),B=H+(z^q&(D^z))+W[10]+38016083&4294967295,H=D+(B<<9&4294967295|B>>>23),B=q+(D^z&(H^D))+W[15]+3634488961&4294967295,q=H+(B<<14&4294967295|B>>>18),B=z+(H^D&(q^H))+W[4]+3889429448&4294967295,z=q+(B<<20&4294967295|B>>>12),B=D+(q^H&(z^q))+W[9]+568446438&4294967295,D=z+(B<<5&4294967295|B>>>27),B=H+(z^q&(D^z))+W[14]+3275163606&4294967295,H=D+(B<<9&4294967295|B>>>23),B=q+(D^z&(H^D))+W[3]+4107603335&4294967295,q=H+(B<<14&4294967295|B>>>18),B=z+(H^D&(q^H))+W[8]+1163531501&4294967295,z=q+(B<<20&4294967295|B>>>12),B=D+(q^H&(z^q))+W[13]+2850285829&4294967295,D=z+(B<<5&4294967295|B>>>27),B=H+(z^q&(D^z))+W[2]+4243563512&4294967295,H=D+(B<<9&4294967295|B>>>23),B=q+(D^z&(H^D))+W[7]+1735328473&4294967295,q=H+(B<<14&4294967295|B>>>18),B=z+(H^D&(q^H))+W[12]+2368359562&4294967295,z=q+(B<<20&4294967295|B>>>12),B=D+(z^q^H)+W[5]+4294588738&4294967295,D=z+(B<<4&4294967295|B>>>28),B=H+(D^z^q)+W[8]+2272392833&4294967295,H=D+(B<<11&4294967295|B>>>21),B=q+(H^D^z)+W[11]+1839030562&4294967295,q=H+(B<<16&4294967295|B>>>16),B=z+(q^H^D)+W[14]+4259657740&4294967295,z=q+(B<<23&4294967295|B>>>9),B=D+(z^q^H)+W[1]+2763975236&4294967295,D=z+(B<<4&4294967295|B>>>28),B=H+(D^z^q)+W[4]+1272893353&4294967295,H=D+(B<<11&4294967295|B>>>21),B=q+(H^D^z)+W[7]+4139469664&4294967295,q=H+(B<<16&4294967295|B>>>16),B=z+(q^H^D)+W[10]+3200236656&4294967295,z=q+(B<<23&4294967295|B>>>9),B=D+(z^q^H)+W[13]+681279174&4294967295,D=z+(B<<4&4294967295|B>>>28),B=H+(D^z^q)+W[0]+3936430074&4294967295,H=D+(B<<11&4294967295|B>>>21),B=q+(H^D^z)+W[3]+3572445317&4294967295,q=H+(B<<16&4294967295|B>>>16),B=z+(q^H^D)+W[6]+76029189&4294967295,z=q+(B<<23&4294967295|B>>>9),B=D+(z^q^H)+W[9]+3654602809&4294967295,D=z+(B<<4&4294967295|B>>>28),B=H+(D^z^q)+W[12]+3873151461&4294967295,H=D+(B<<11&4294967295|B>>>21),B=q+(H^D^z)+W[15]+530742520&4294967295,q=H+(B<<16&4294967295|B>>>16),B=z+(q^H^D)+W[2]+3299628645&4294967295,z=q+(B<<23&4294967295|B>>>9),B=D+(q^(z|~H))+W[0]+4096336452&4294967295,D=z+(B<<6&4294967295|B>>>26),B=H+(z^(D|~q))+W[7]+1126891415&4294967295,H=D+(B<<10&4294967295|B>>>22),B=q+(D^(H|~z))+W[14]+2878612391&4294967295,q=H+(B<<15&4294967295|B>>>17),B=z+(H^(q|~D))+W[5]+4237533241&4294967295,z=q+(B<<21&4294967295|B>>>11),B=D+(q^(z|~H))+W[12]+1700485571&4294967295,D=z+(B<<6&4294967295|B>>>26),B=H+(z^(D|~q))+W[3]+2399980690&4294967295,H=D+(B<<10&4294967295|B>>>22),B=q+(D^(H|~z))+W[10]+4293915773&4294967295,q=H+(B<<15&4294967295|B>>>17),B=z+(H^(q|~D))+W[1]+2240044497&4294967295,z=q+(B<<21&4294967295|B>>>11),B=D+(q^(z|~H))+W[8]+1873313359&4294967295,D=z+(B<<6&4294967295|B>>>26),B=H+(z^(D|~q))+W[15]+4264355552&4294967295,H=D+(B<<10&4294967295|B>>>22),B=q+(D^(H|~z))+W[6]+2734768916&4294967295,q=H+(B<<15&4294967295|B>>>17),B=z+(H^(q|~D))+W[13]+1309151649&4294967295,z=q+(B<<21&4294967295|B>>>11),B=D+(q^(z|~H))+W[4]+4149444226&4294967295,D=z+(B<<6&4294967295|B>>>26),B=H+(z^(D|~q))+W[11]+3174756917&4294967295,H=D+(B<<10&4294967295|B>>>22),B=q+(D^(H|~z))+W[2]+718787259&4294967295,q=H+(B<<15&4294967295|B>>>17),B=z+(H^(q|~D))+W[9]+3951481745&4294967295,k.g[0]=k.g[0]+D&4294967295,k.g[1]=k.g[1]+(q+(B<<21&4294967295|B>>>11))&4294967295,k.g[2]=k.g[2]+q&4294967295,k.g[3]=k.g[3]+H&4294967295}r.prototype.v=function(k,D){D===void 0&&(D=k.length);const z=D-this.blockSize,W=this.C;let q=this.h,H=0;for(;H<D;){if(q==0)for(;H<=z;)a(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<D;)if(W[q++]=k.charCodeAt(H++),q==this.blockSize){a(this,W),q=0;break}}else for(;H<D;)if(W[q++]=k[H++],q==this.blockSize){a(this,W),q=0;break}}this.h=q,this.o+=D},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var D=1;D<k.length-8;++D)k[D]=0;D=this.o*8;for(var z=k.length-8;z<k.length;++z)k[z]=D&255,D/=256;for(this.v(k),k=Array(16),D=0,z=0;z<4;++z)for(let W=0;W<32;W+=8)k[D++]=this.g[z]>>>W&255;return k};function u(k,D){var z=p;return Object.prototype.hasOwnProperty.call(z,k)?z[k]:z[k]=D(k)}function f(k,D){this.h=D;const z=[];let W=!0;for(let q=k.length-1;q>=0;q--){const H=k[q]|0;W&&H==D||(z[q]=H,W=!1)}this.g=z}var p={};function _(k){return-128<=k&&k<128?u(k,function(D){return new f([D|0],D<0?-1:0)}):new f([k|0],k<0?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return A;if(k<0)return j(v(-k));const D=[];let z=1;for(let W=0;k>=z;W++)D[W]=k/z|0,z*=4294967296;return new f(D,0)}function E(k,D){if(k.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(k.charAt(0)=="-")return j(E(k.substring(1),D));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const z=v(Math.pow(D,8));let W=A;for(let H=0;H<k.length;H+=8){var q=Math.min(8,k.length-H);const B=parseInt(k.substring(H,H+q),D);q<8?(q=v(Math.pow(D,q)),W=W.j(q).add(v(B))):(W=W.j(z),W=W.add(v(B)))}return W}var A=_(0),I=_(1),M=_(16777216);n=f.prototype,n.m=function(){if(F(this))return-j(this).m();let k=0,D=1;for(let z=0;z<this.g.length;z++){const W=this.i(z);k+=(W>=0?W:4294967296+W)*D,D*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(V(this))return"0";if(F(this))return"-"+j(this).toString(k);const D=v(Math.pow(k,6));var z=this;let W="";for(;;){const q=Se(z,D).g;z=le(z,q.j(D));let H=((z.g.length>0?z.g[0]:z.h)>>>0).toString(k);if(z=q,V(z))return H+W;for(;H.length<6;)H="0"+H;W=H+W}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function V(k){if(k.h!=0)return!1;for(let D=0;D<k.g.length;D++)if(k.g[D]!=0)return!1;return!0}function F(k){return k.h==-1}n.l=function(k){return k=le(this,k),F(k)?-1:V(k)?0:1};function j(k){const D=k.g.length,z=[];for(let W=0;W<D;W++)z[W]=~k.g[W];return new f(z,~k.h).add(I)}n.abs=function(){return F(this)?j(this):this},n.add=function(k){const D=Math.max(this.g.length,k.g.length),z=[];let W=0;for(let q=0;q<=D;q++){let H=W+(this.i(q)&65535)+(k.i(q)&65535),B=(H>>>16)+(this.i(q)>>>16)+(k.i(q)>>>16);W=B>>>16,H&=65535,B&=65535,z[q]=B<<16|H}return new f(z,z[z.length-1]&-2147483648?-1:0)};function le(k,D){return k.add(j(D))}n.j=function(k){if(V(this)||V(k))return A;if(F(this))return F(k)?j(this).j(j(k)):j(j(this).j(k));if(F(k))return j(this.j(j(k)));if(this.l(M)<0&&k.l(M)<0)return v(this.m()*k.m());const D=this.g.length+k.g.length,z=[];for(var W=0;W<2*D;W++)z[W]=0;for(W=0;W<this.g.length;W++)for(let q=0;q<k.g.length;q++){const H=this.i(W)>>>16,B=this.i(W)&65535,Ye=k.i(q)>>>16,zt=k.i(q)&65535;z[2*W+2*q]+=B*zt,Ee(z,2*W+2*q),z[2*W+2*q+1]+=H*zt,Ee(z,2*W+2*q+1),z[2*W+2*q+1]+=B*Ye,Ee(z,2*W+2*q+1),z[2*W+2*q+2]+=H*Ye,Ee(z,2*W+2*q+2)}for(k=0;k<D;k++)z[k]=z[2*k+1]<<16|z[2*k];for(k=D;k<2*D;k++)z[k]=0;return new f(z,0)};function Ee(k,D){for(;(k[D]&65535)!=k[D];)k[D+1]+=k[D]>>>16,k[D]&=65535,D++}function ae(k,D){this.g=k,this.h=D}function Se(k,D){if(V(D))throw Error("division by zero");if(V(k))return new ae(A,A);if(F(k))return D=Se(j(k),D),new ae(j(D.g),j(D.h));if(F(D))return D=Se(k,j(D)),new ae(j(D.g),D.h);if(k.g.length>30){if(F(k)||F(D))throw Error("slowDivide_ only works with positive integers.");for(var z=I,W=D;W.l(k)<=0;)z=fe(z),W=fe(W);var q=Te(z,1),H=Te(W,1);for(W=Te(W,2),z=Te(z,2);!V(W);){var B=H.add(W);B.l(k)<=0&&(q=q.add(z),H=B),W=Te(W,1),z=Te(z,1)}return D=le(k,q.j(D)),new ae(q,D)}for(q=A;k.l(D)>=0;){for(z=Math.max(1,Math.floor(k.m()/D.m())),W=Math.ceil(Math.log(z)/Math.LN2),W=W<=48?1:Math.pow(2,W-48),H=v(z),B=H.j(D);F(B)||B.l(k)>0;)z-=W,H=v(z),B=H.j(D);V(H)&&(H=I),q=q.add(H),k=le(k,B)}return new ae(q,k)}n.B=function(k){return Se(this,k).h},n.and=function(k){const D=Math.max(this.g.length,k.g.length),z=[];for(let W=0;W<D;W++)z[W]=this.i(W)&k.i(W);return new f(z,this.h&k.h)},n.or=function(k){const D=Math.max(this.g.length,k.g.length),z=[];for(let W=0;W<D;W++)z[W]=this.i(W)|k.i(W);return new f(z,this.h|k.h)},n.xor=function(k){const D=Math.max(this.g.length,k.g.length),z=[];for(let W=0;W<D;W++)z[W]=this.i(W)^k.i(W);return new f(z,this.h^k.h)};function fe(k){const D=k.g.length+1,z=[];for(let W=0;W<D;W++)z[W]=k.i(W)<<1|k.i(W-1)>>>31;return new f(z,k.h)}function Te(k,D){const z=D>>5;D%=32;const W=k.g.length-z,q=[];for(let H=0;H<W;H++)q[H]=D>0?k.i(H+z)>>>D|k.i(H+z+1)<<32-D:k.i(H+z);return new f(q,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dC=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=E,tl=f}).apply(typeof mS<"u"?mS:typeof self<"u"?self:typeof window<"u"?window:{});var em=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mC,Wh,pC,ym,Wy,gC,_C,yC;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof em=="object"&&em];for(var T=0;T<d.length;++T){var C=d[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=t(this);function a(d,T){if(T)e:{var C=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var J=d[P];if(!(J in C))break e;C=C[J]}d=d[d.length-1],P=C[d],T=T(P),T!=P&&T!=null&&e(C,d,{configurable:!0,writable:!0,value:T})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(T){var C=[],P;for(P in T)Object.prototype.hasOwnProperty.call(T,P)&&C.push([P,T[P]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(d){var T=typeof d;return T=="object"&&d!=null||T=="function"}function _(d,T,C){return d.call.apply(d.bind,arguments)}function v(d,T,C){return v=_,v.apply(null,arguments)}function E(d,T){var C=Array.prototype.slice.call(arguments,1);return function(){var P=C.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function A(d,T){function C(){}C.prototype=T.prototype,d.Z=T.prototype,d.prototype=new C,d.prototype.constructor=d,d.Ob=function(P,J,se){for(var Ce=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ce[Ze-2]=arguments[Ze];return T.prototype[J].apply(P,Ce)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function M(d){const T=d.length;if(T>0){const C=Array(T);for(let P=0;P<T;P++)C[P]=d[P];return C}return[]}function V(d,T){for(let P=1;P<arguments.length;P++){const J=arguments[P];var C=typeof J;if(C=C!="object"?C:J?Array.isArray(J)?"array":C:"null",C=="array"||C=="object"&&typeof J.length=="number"){C=d.length||0;const se=J.length||0;d.length=C+se;for(let Ce=0;Ce<se;Ce++)d[C+Ce]=J[Ce]}else d.push(J)}}class F{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function j(d){f.setTimeout(()=>{throw d},0)}function le(){var d=k;let T=null;return d.g&&(T=d.g,d.g=d.g.next,d.g||(d.h=null),T.next=null),T}class Ee{constructor(){this.h=this.g=null}add(T,C){const P=ae.get();P.set(T,C),this.h?this.h.next=P:this.g=P,this.h=P}}var ae=new F(()=>new Se,d=>d.reset());class Se{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,Te=!1,k=new Ee,D=()=>{const d=Promise.resolve(void 0);fe=()=>{d.then(z)}};function z(){for(var d;d=le();){try{d.h.call(d.g)}catch(C){j(C)}var T=ae;T.j(d),T.h<100&&(T.h++,d.next=T.g,T.g=d)}Te=!1}function W(){this.u=this.u,this.C=this.C}W.prototype.u=!1,W.prototype.dispose=function(){this.u||(this.u=!0,this.N())},W.prototype[Symbol.dispose]=function(){this.dispose()},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(d,T){this.type=d,this.g=this.target=T,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,T=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};f.addEventListener("test",C,T),f.removeEventListener("test",C,T)}catch{}return d})();function B(d){return/^[\s\xa0]*$/.test(d)}function Ye(d,T){q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,T)}A(Ye,q),Ye.prototype.init=function(d,T){const C=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=T,T=d.relatedTarget,T||(C=="mouseover"?T=d.fromElement:C=="mouseout"&&(T=d.toElement)),this.relatedTarget=T,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var zt="closure_listenable_"+(Math.random()*1e6|0),ne=0;function Ae(d,T,C,P,J){this.listener=d,this.proxy=null,this.src=T,this.type=C,this.capture=!!P,this.ha=J,this.key=++ne,this.da=this.fa=!1}function we(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function nt(d,T,C){for(const P in d)T.call(C,d[P],P,d)}function Z(d,T){for(const C in d)T.call(void 0,d[C],C,d)}function R(d){const T={};for(const C in d)T[C]=d[C];return T}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(d,T){let C,P;for(let J=1;J<arguments.length;J++){P=arguments[J];for(C in P)d[C]=P[C];for(let se=0;se<$.length;se++)C=$[se],Object.prototype.hasOwnProperty.call(P,C)&&(d[C]=P[C])}}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,T,C,P,J){const se=d.toString();d=this.g[se],d||(d=this.g[se]=[],this.h++);const Ce=ve(d,T,P,J);return Ce>-1?(T=d[Ce],C||(T.fa=!1)):(T=new Ae(T,this.src,se,!!P,J),T.fa=C,d.push(T)),T};function pe(d,T){const C=T.type;if(C in d.g){var P=d.g[C],J=Array.prototype.indexOf.call(P,T,void 0),se;(se=J>=0)&&Array.prototype.splice.call(P,J,1),se&&(we(T),d.g[C].length==0&&(delete d.g[C],d.h--))}}function ve(d,T,C,P){for(let J=0;J<d.length;++J){const se=d[J];if(!se.da&&se.listener==T&&se.capture==!!C&&se.ha==P)return J}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),ke={};function Ue(d,T,C,P,J){if(Array.isArray(T)){for(let se=0;se<T.length;se++)Ue(d,T[se],C,P,J);return null}return C=Tn(C),d&&d[zt]?d.J(T,C,p(P)?!!P.capture:!1,J):bt(d,T,C,!1,P,J)}function bt(d,T,C,P,J,se){if(!T)throw Error("Invalid event type");const Ce=p(J)?!!J.capture:!!J;let Ze=hn(d);if(Ze||(d[xe]=Ze=new he(d)),C=Ze.add(T,C,P,Ce,se),C.proxy)return C;if(P=ft(),C.proxy=P,P.src=d,P.listener=C,d.addEventListener)H||(J=Ce),J===void 0&&(J=!1),d.addEventListener(T.toString(),P,J);else if(d.attachEvent)d.attachEvent(Ke(T.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return C}function ft(){function d(C){return T.call(d.src,d.listener,C)}const T=nn;return d}function vt(d,T,C,P,J){if(Array.isArray(T))for(var se=0;se<T.length;se++)vt(d,T[se],C,P,J);else P=p(P)?!!P.capture:!!P,C=Tn(C),d&&d[zt]?(d=d.i,se=String(T).toString(),se in d.g&&(T=d.g[se],C=ve(T,C,P,J),C>-1&&(we(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete d.g[se],d.h--)))):d&&(d=hn(d))&&(T=d.g[T.toString()],d=-1,T&&(d=ve(T,C,P,J)),(C=d>-1?T[d]:null)&&Bt(C))}function Bt(d){if(typeof d!="number"&&d&&!d.da){var T=d.src;if(T&&T[zt])pe(T.i,d);else{var C=d.type,P=d.proxy;T.removeEventListener?T.removeEventListener(C,P,d.capture):T.detachEvent?T.detachEvent(Ke(C),P):T.addListener&&T.removeListener&&T.removeListener(P),(C=hn(T))?(pe(C,d),C.h==0&&(C.src=null,T[xe]=null)):we(d)}}}function Ke(d){return d in ke?ke[d]:ke[d]="on"+d}function nn(d,T){if(d.da)d=!0;else{T=new Ye(T,this);const C=d.listener,P=d.ha||d.src;d.fa&&Bt(d),d=C.call(P,T)}return d}function hn(d){return d=d[xe],d instanceof he?d:null}var _n="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tn(d){return typeof d=="function"?d:(d[_n]||(d[_n]=function(T){return d.handleEvent(T)}),d[_n])}function Lt(){W.call(this),this.i=new he(this),this.M=this,this.G=null}A(Lt,W),Lt.prototype[zt]=!0,Lt.prototype.removeEventListener=function(d,T,C,P){vt(this,d,T,C,P)};function St(d,T){var C,P=d.G;if(P)for(C=[];P;P=P.G)C.push(P);if(d=d.M,P=T.type||T,typeof T=="string")T=new q(T,d);else if(T instanceof q)T.target=T.target||d;else{var J=T;T=new q(P,d),ue(T,J)}J=!0;let se,Ce;if(C)for(Ce=C.length-1;Ce>=0;Ce--)se=T.g=C[Ce],J=Si(se,P,!0,T)&&J;if(se=T.g=d,J=Si(se,P,!0,T)&&J,J=Si(se,P,!1,T)&&J,C)for(Ce=0;Ce<C.length;Ce++)se=T.g=C[Ce],J=Si(se,P,!1,T)&&J}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var d=this.i;for(const T in d.g){const C=d.g[T];for(let P=0;P<C.length;P++)we(C[P]);delete d.g[T],d.h--}}this.G=null},Lt.prototype.J=function(d,T,C,P){return this.i.add(String(d),T,!1,C,P)},Lt.prototype.K=function(d,T,C,P){return this.i.add(String(d),T,!0,C,P)};function Si(d,T,C,P){if(T=d.i.g[String(T)],!T)return!0;T=T.concat();let J=!0;for(let se=0;se<T.length;++se){const Ce=T[se];if(Ce&&!Ce.da&&Ce.capture==C){const Ze=Ce.listener,wt=Ce.ha||Ce.src;Ce.fa&&pe(d.i,Ce),J=Ze.call(wt,P)!==!1&&J}}return J&&!P.defaultPrevented}function so(d,T){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:f.setTimeout(d,T||0)}function da(d){d.g=so(()=>{d.g=null,d.i&&(d.i=!1,da(d))},d.l);const T=d.h;d.h=null,d.m.apply(null,T)}class Sn extends W{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(d){W.call(this),this.h=d,this.g={}}A(Xr,W);var vr=[];function Os(d){nt(d.g,function(T,C){this.g.hasOwnProperty(C)&&Bt(T)},d),d.g={}}Xr.prototype.N=function(){Xr.Z.N.call(this),Os(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=f.JSON.stringify,ao=f.JSON.parse,Ns=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Jr(){}function oo(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yn(){q.call(this,"d")}A(yn,q);function mi(){q.call(this,"c")}A(mi,q);var rn={},Ps=null;function lo(){return Ps=Ps||new Lt}rn.Ia="serverreachability";function Cu(d){q.call(this,rn.Ia,d)}A(Cu,q);function Ki(d){const T=lo();St(T,new Cu(T))}rn.STAT_EVENT="statevent";function Ls(d,T){q.call(this,rn.STAT_EVENT,d),this.stat=T}A(Ls,q);function sn(d){const T=lo();St(T,new Ls(T,d))}rn.Ja="timingevent";function br(d,T){q.call(this,rn.Ja,d),this.size=T}A(br,q);function wr(d,T){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},T)}function Yi(){this.g=!0}Yi.prototype.ua=function(){this.g=!1};function eh(d,T,C,P,J,se){d.info(function(){if(d.g)if(se){var Ce="",Ze=se.split("&");for(let Et=0;Et<Ze.length;Et++){var wt=Ze[Et].split("=");if(wt.length>1){const Gt=wt[0];wt=wt[1];const Pi=Gt.split("_");Ce=Pi.length>=2&&Pi[1]=="type"?Ce+(Gt+"="+wt+"&"):Ce+(Gt+"=redacted&")}}}else Ce=null;else Ce=se;return"XMLHTTP REQ ("+P+") [attempt "+J+"]: "+T+`
`+C+`
`+Ce})}function Ru(d,T,C,P,J,se,Ce){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+J+"]: "+T+`
`+C+`
`+se+" "+Ce})}function Er(d,T,C,P){d.info(function(){return"XMLHTTP TEXT ("+T+"): "+th(d,C)+(P?" "+P:"")})}function es(d,T){d.info(function(){return"TIMEOUT: "+T})}Yi.prototype.info=function(){};function th(d,T){if(!d.g)return T;if(!T)return null;try{const se=JSON.parse(T);if(se){for(d=0;d<se.length;d++)if(Array.isArray(se[d])){var C=se[d];if(!(C.length<2)){var P=C[1];if(Array.isArray(P)&&!(P.length<1)){var J=P[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Ce=1;Ce<P.length;Ce++)P[Ce]=""}}}}return Wi(se)}catch{return T}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function jn(){}A(jn,Jr),jn.prototype.g=function(){return new XMLHttpRequest},gl=new jn;function Me(d){return encodeURIComponent(String(d))}function _l(d){var T=1;d=d.split(":");const C=[];for(;T>0&&d.length;)C.push(d.shift()),T--;return d.length&&C.push(d.join(":")),C}function xi(d,T,C,P){this.j=d,this.i=T,this.l=C,this.S=P||1,this.V=new Xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ai}function Ai(){this.i=null,this.g="",this.h=!1}var an={},fn={};function $i(d,T,C){d.M=1,d.A=kt(Yt(T)),d.u=C,d.R=!0,Qi(d,null)}function Qi(d,T){d.F=Date.now(),Tr(d),d.B=Yt(d.A);var C=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),ks(C.i,"t",P),d.C=0,C=d.j.L,d.h=new Ai,d.g=Sl(d.j,C?T:null,!d.u),d.P>0&&(d.O=new Sn(v(d.Y,d,d.g),d.P)),T=d.V,C=d.g,P=d.ba;var J="readystatechange";Array.isArray(J)||(J&&(vr[0]=J.toString()),J=vr);for(let se=0;se<J.length;se++){const Ce=Ue(C,J[se],P||T.handleEvent,!1,T.h||T);if(!Ce)break;T.g[Ce.key]=Ce}T=d.J?R(d.J):{},d.u?(d.v||(d.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,T)):(d.v="GET",d.g.ea(d.B,d.v,null,T)),Ki(),eh(d.i,d.v,d.B,d.l,d.S,d.u)}xi.prototype.ba=function(d){d=d.target;const T=this.O;T&&tr(d)==3?T.j():this.Y(d)},xi.prototype.Y=function(d){try{if(d==this.g)e:{const Ze=tr(this.g),wt=this.g.ya(),Et=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||An(this.g)))){this.K||Ze!=4||wt==7||(wt==8||Et<=0?Ki(3):Ki(2)),Xi(this);var T=this.g.ca();this.X=T;var C=Iu(this);if(this.o=T==200,Ru(this.i,this.v,this.B,this.l,this.S,Ze,T),this.o){if(this.U&&!this.L){t:{if(this.g){var P,J=this.g;if((P=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(P)){var se=P;break t}}se=null}if(d=se)Er(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sr(this,d);else{this.o=!1,this.m=3,sn(12),Vn(this),Ci(this);break e}}if(this.R){d=!0;let Gt;for(;!this.K&&this.C<C.length;)if(Gt=Nu(this,C),Gt==fn){Ze==4&&(this.m=4,sn(14),d=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==an){this.m=4,sn(15),Er(this.i,this.l,C,"[Invalid Chunk]"),d=!1;break}else Er(this.i,this.l,Gt,null),Sr(this,Gt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||C.length!=0||this.h.h||(this.m=1,sn(16),d=!1),this.o=this.o&&d,!d)Er(this.i,this.l,C,"[Invalid Chunked Response]"),Vn(this),Ci(this);else if(C.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),El(Ce),Ce.P=!0,sn(11))}}else Er(this.i,this.l,C,null),Sr(this,C);Ze==4&&Vn(this),this.o&&!this.K&&(Ze==4?_i(this.j,this):(this.o=!1,Tr(this)))}else nr(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),Vn(this),Ci(this)}}}catch{}finally{}};function Iu(d){if(!Ou(d))return d.g.la();const T=An(d.g);if(T==="")return"";let C="";const P=T.length,J=tr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Vn(d),Ci(d),"";d.h.i=new f.TextDecoder}for(let se=0;se<P;se++)d.h.h=!0,C+=d.h.i.decode(T[se],{stream:!(J&&se==P-1)});return T.length=0,d.h.g+=C,d.C=0,d.h.g}function Ou(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Nu(d,T){var C=d.C,P=T.indexOf(`
`,C);return P==-1?fn:(C=Number(T.substring(C,P)),isNaN(C)?an:(P+=1,P+C>T.length?fn:(T=T.slice(P,P+C),d.C=P+C,T)))}xi.prototype.cancel=function(){this.K=!0,Vn(this)};function Tr(d){d.T=Date.now()+d.H,uo(d,d.H)}function uo(d,T){if(d.D!=null)throw Error("WatchDog timer not null");d.D=wr(v(d.aa,d),T)}function Xi(d){d.D&&(f.clearTimeout(d.D),d.D=null)}xi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(es(this.i,this.B),this.M!=2&&(Ki(),sn(17)),Vn(this),this.m=2,Ci(this)):uo(this,this.T-d)};function Ci(d){d.j.I==0||d.K||_i(d.j,d)}function Vn(d){Xi(d);var T=d.O;T&&typeof T.dispose=="function"&&T.dispose(),d.O=null,Os(d.V),d.g&&(T=d.g,d.g=null,T.abort(),T.dispose())}function Sr(d,T){try{var C=d.j;if(C.I!=0&&(C.g==d||Ri(C.h,d))){if(!d.L&&Ri(C.h,d)&&C.I==3){try{var P=C.Ba.g.parse(T)}catch{P=null}if(Array.isArray(P)&&P.length==3){var J=P;if(J[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<d.F)_o(C),zs(C);else break e;ba(C),sn(18)}}else C.xa=J[1],0<C.xa-C.K&&J[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=wr(v(C.Va,C),6e3));xr(C.h)<=1&&C.ta&&(C.ta=void 0)}else ir(C,11)}else if((d.L||C.g==d)&&_o(C),!B(T))for(J=C.Ba.g.parse(T),T=0;T<J.length;T++){let Et=J[T];const Gt=Et[0];if(!(Gt<=C.K))if(C.K=Gt,Et=Et[1],C.I==2)if(Et[0]=="c"){C.M=Et[1],C.ba=Et[2];const Pi=Et[3];Pi!=null&&(C.ka=Pi,C.j.info("VER="+C.ka));const Li=Et[4];Li!=null&&(C.za=Li,C.j.info("SVER="+C.za));const yi=Et[5];yi!=null&&typeof yi=="number"&&yi>0&&(P=1.5*yi,C.O=P,C.j.info("backChannelRequestTimeoutMs_="+P)),P=C;const sr=d.g;if(sr){const wa=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var se=P.h;se.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(ts(se,se.h),se.h=null))}if(P.G){const Ea=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(P.wa=Ea,Pe(P.J,P.G,Ea))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-d.F,C.j.info("Handshake RTT: "+C.T+"ms")),P=C;var Ce=d;if(P.na=Tl(P,P.L?P.ba:null,P.W),Ce.L){co(P.h,Ce);var Ze=Ce,wt=P.O;wt&&(Ze.H=wt),Ze.D&&(Xi(Ze),Tr(Ze)),P.g=Ce}else wl(P);C.i.length>0&&ri(C)}else Et[0]!="stop"&&Et[0]!="close"||ir(C,7);else C.I==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?ir(C,7):at(C):Et[0]!="noop"&&C.l&&C.l.qa(Et),C.A=0)}}Ki(4)}catch{}}var dn=class{constructor(d,T){this.g=d,this.map=T}};function yl(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function xr(d){return d.h?1:d.g?d.g.size:0}function Ri(d,T){return d.h?d.h==T:d.g?d.g.has(T):!1}function ts(d,T){d.g?d.g.add(T):d.h=T}function co(d,T){d.h&&d.h==T?d.h=null:d.g&&d.g.has(T)&&d.g.delete(T)}yl.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ho(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let T=d.i;for(const C of d.g.values())T=T.concat(C.G);return T}return M(d.i)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(d,T){if(d){d=d.split("&");for(let C=0;C<d.length;C++){const P=d[C].indexOf("=");let J,se=null;P>=0?(J=d[C].substring(0,P),se=d[C].substring(P+1)):J=d[C],T(J,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function lt(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;d instanceof lt?(this.l=d.l,$t(this,d.j),this.o=d.o,this.g=d.g,pi(this,d.u),this.h=d.h,pa(this,ya(d.i)),this.m=d.m):d&&(T=String(d).match(Ms))?(this.l=!1,$t(this,T[1]||"",!0),this.o=Ii(T[2]||""),this.g=Ii(T[3]||"",!0),pi(this,T[4]),this.h=Ii(T[5]||"",!0),pa(this,T[6]||"",!0),this.m=Ii(T[7]||"")):(this.l=!1,this.i=new Oi(null,this.l))}lt.prototype.toString=function(){const d=[];var T=this.j;T&&d.push(Ar(T,fo,!0),":");var C=this.g;return(C||T=="file")&&(d.push("//"),(T=this.o)&&d.push(Ar(T,fo,!0),"@"),d.push(Me(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&d.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(Ar(C,C.charAt(0)=="/"?Ji:ga,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",Ar(C,Cr)),d.join("")},lt.prototype.resolve=function(d){const T=Yt(this);let C=!!d.j;C?$t(T,d.j):C=!!d.o,C?T.o=d.o:C=!!d.g,C?T.g=d.g:C=d.u!=null;var P=d.h;if(C)pi(T,d.u);else if(C=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var J=T.h.lastIndexOf("/");J!=-1&&(P=T.h.slice(0,J+1)+P)}if(J=P,J==".."||J==".")P="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){P=J.lastIndexOf("/",0)==0,J=J.split("/");const se=[];for(let Ce=0;Ce<J.length;){const Ze=J[Ce++];Ze=="."?P&&Ce==J.length&&se.push(""):Ze==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),P&&Ce==J.length&&se.push("")):(se.push(Ze),P=!0)}P=se.join("/")}else P=J}return C?T.h=P:C=d.i.toString()!=="",C?pa(T,ya(d.i)):C=!!d.m,C&&(T.m=d.m),T};function Yt(d){return new lt(d)}function $t(d,T,C){d.j=C?Ii(T,!0):T,d.j&&(d.j=d.j.replace(/:$/,""))}function pi(d,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);d.u=T}else d.u=null}function pa(d,T,C){T instanceof Oi?(d.i=T,Ds(d.i,d.l)):(C||(T=Ar(T,Dt)),d.i=new Oi(T,d.l))}function Pe(d,T,C){d.i.set(T,C)}function kt(d){return Pe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ii(d,T){return d?T?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ar(d,T,C){return typeof d=="string"?(d=encodeURI(d).replace(T,qt),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function qt(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fo=/[#\/\?@]/g,ga=/[#\?:]/g,Ji=/[#\?]/g,Dt=/[#\?@]/g,Cr=/#/g;function Oi(d,T){this.h=this.g=null,this.i=d||null,this.j=!!T}function xn(d){d.g||(d.g=new Map,d.h=0,d.i&&ot(d.i,function(T,C){d.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}n=Oi.prototype,n.add=function(d,T){xn(this),this.i=null,d=Rr(this,d);let C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(T),this.h+=1,this};function mo(d,T){xn(d),T=Rr(d,T),d.g.has(T)&&(d.i=null,d.h-=d.g.get(T).length,d.g.delete(T))}function ns(d,T){return xn(d),T=Rr(d,T),d.g.has(T)}n.forEach=function(d,T){xn(this),this.g.forEach(function(C,P){C.forEach(function(J){d.call(T,J,P,this)},this)},this)};function _a(d,T){xn(d);let C=[];if(typeof T=="string")ns(d,T)&&(C=C.concat(d.g.get(Rr(d,T))));else for(d=Array.from(d.g.values()),T=0;T<d.length;T++)C=C.concat(d[T]);return C}n.set=function(d,T){return xn(this),this.i=null,d=Rr(this,d),ns(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[T]),this.h+=1,this},n.get=function(d,T){return d?(d=_a(this,d),d.length>0?String(d[0]):T):T};function ks(d,T,C){mo(d,T),C.length>0&&(d.i=null,d.g.set(Rr(d,T),M(C)),d.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],T=Array.from(this.g.keys());for(let P=0;P<T.length;P++){var C=T[P];const J=Me(C);C=_a(this,C);for(let se=0;se<C.length;se++){let Ce=J;C[se]!==""&&(Ce+="="+Me(C[se])),d.push(Ce)}}return this.i=d.join("&")};function ya(d){const T=new Oi;return T.i=d.i,d.g&&(T.g=new Map(d.g),T.h=d.h),T}function Rr(d,T){return T=String(T),d.j&&(T=T.toLowerCase()),T}function Ds(d,T){T&&!d.j&&(xn(d),d.i=null,d.g.forEach(function(C,P){const J=P.toLowerCase();P!=J&&(mo(this,P),ks(this,J,C))},d)),d.j=T}function ti(d,T){const C=new Yi;if(f.Image){const P=new Image;P.onload=E(ni,C,"TestLoadImage: loaded",!0,T,P),P.onerror=E(ni,C,"TestLoadImage: error",!1,T,P),P.onabort=E(ni,C,"TestLoadImage: abort",!1,T,P),P.ontimeout=E(ni,C,"TestLoadImage: timeout",!1,T,P),f.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else T(!1)}function po(d,T){const C=new Yi,P=new AbortController,J=setTimeout(()=>{P.abort(),ni(C,"TestPingServer: timeout",!1,T)},1e4);fetch(d,{signal:P.signal}).then(se=>{clearTimeout(J),se.ok?ni(C,"TestPingServer: ok",!0,T):ni(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(J),ni(C,"TestPingServer: error",!1,T)})}function ni(d,T,C,P,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),P(C)}catch{}}function js(){this.g=new Ns}function Fe(d){this.i=d.Sb||null,this.h=d.ab||!1}A(Fe,Jr),Fe.prototype.g=function(){return new zn(this.i,this.h)};function zn(d,T){Lt.call(this),this.H=d,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(zn,Lt),n=zn.prototype,n.open=function(d,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=T,this.readyState=1,gi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(T.body=d),(this.H||f).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xt(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function xt(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var T=d.value?d.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!d.done}))&&(this.response=this.responseText+=T)}d.done?is(this):gi(this),this.readyState==3&&xt(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,is(this))},n.Na=function(d){this.g&&(this.response=d,is(this))},n.ga=function(){this.g&&is(this)};function is(d){d.readyState=4,d.l=null,d.j=null,d.B=null,gi(d)}n.setRequestHeader=function(d,T){this.A.append(d,T)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=T.next();return d.join(`\r
`)};function gi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ii(d){let T="";return nt(d,function(C,P){T+=P,T+=":",T+=C,T+=`\r
`}),T}function rs(d,T,C){e:{for(P in C){var P=!1;break e}P=!0}P||(C=ii(C),typeof d=="string"?C!=null&&Me(C):Pe(d,T,C))}function dt(d){Lt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(dt,Lt);var Ni=/^https?$/i,ss=["POST","PUT"];n=dt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,T,C,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);T=T?T.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=I(v(this.Ca,this));try{this.B=!0,this.g.open(T,String(d),!0),this.B=!1}catch(se){Qt(this,se);return}if(d=C||"",C=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var J in P)C.set(J,P[J]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const se of P.keys())C.set(se,P.get(se));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(C.keys()).find(se=>se.toLowerCase()=="content-type"),J=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(ss,T,void 0)>=0)||P||J||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ce]of C)this.g.setRequestHeader(se,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(se){Qt(this,se)}};function Qt(d,T){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=T,d.o=5,er(d),Ir(d)}function er(d){d.A||(d.A=!0,St(d,"complete"),St(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,St(this,"complete"),St(this,"abort"),Ir(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ir(this,!0)),dt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},n.Xa=function(){Vs(this)};function Vs(d){if(d.h&&typeof u<"u"){if(d.v&&tr(d)==4)setTimeout(d.Ca.bind(d),0);else if(St(d,"readystatechange"),tr(d)==4){d.h=!1;try{const se=d.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var P;if(P=se===0){let Ce=String(d.D).match(Ms)[1]||null;!Ce&&f.self&&f.self.location&&(Ce=f.self.location.protocol.slice(0,-1)),P=!Ni.test(Ce?Ce.toLowerCase():"")}C=P}if(C)St(d,"complete"),St(d,"success");else{d.o=6;try{var J=tr(d)>2?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.ca()+"]",er(d)}}finally{Ir(d)}}}}function Ir(d,T){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const C=d.g;d.g=null,T||St(d,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function tr(d){return d.g?d.g.readyState:0}n.ca=function(){try{return tr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var T=this.g.responseText;return d&&T.indexOf(d)==0&&(T=T.substring(d.length)),ao(T)}};function An(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(d){const T={};d=(d.g&&tr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(B(d[P]))continue;var C=_l(d[P]);const J=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const se=T[J]||[];T[J]=se,se.push(C)}Z(T,function(P){return P.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Or(d,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||T}function as(d){this.za=0,this.i=[],this.j=new Yi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Or("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Or("baseRetryDelayMs",5e3,d),this.Za=Or("retryDelaySeedMs",1e4,d),this.Ta=Or("forwardChannelMaxRetries",2,d),this.va=Or("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(d&&d.concurrentRequestLimit),this.Ba=new js,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=as.prototype,n.ka=8,n.I=1,n.connect=function(d,T,C,P){sn(0),this.W=d,this.H=T||{},C&&P!==void 0&&(this.H.OSID=C,this.H.OAID=P),this.F=this.X,this.J=Tl(this,null,this.W),ri(this)};function at(d){if(Bn(d),d.I==3){var T=d.V++,C=Yt(d.J);if(Pe(C,"SID",d.M),Pe(C,"RID",T),Pe(C,"TYPE","terminate"),os(d,C),T=new xi(d,d.j,T),T.M=2,T.A=kt(Yt(C)),C=!1,f.navigator&&f.navigator.sendBeacon)try{C=f.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&f.Image&&(new Image().src=T.A,C=!0),C||(T.g=Sl(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Tr(T)}rr(d)}function zs(d){d.g&&(El(d),d.g.cancel(),d.g=null)}function Bn(d){zs(d),d.v&&(f.clearTimeout(d.v),d.v=null),_o(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function ri(d){if(!vl(d.h)&&!d.m){d.m=!0;var T=d.Ea;fe||D(),Te||(fe(),Te=!0),k.add(T,d),d.D=0}}function va(d,T){return xr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=T.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=wr(v(d.Ea,d,T),Lu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const J=new xi(this,this.j,d);let se=this.o;if(this.U&&(se?(se=R(se),ue(se,this.U)):se=this.U),this.u!==null||this.R||(J.J=se,se=null),this.S)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var P=this.i[C];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(T+=P,T>4096){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=Pu(this,J,T),C=Yt(this.J),Pe(C,"RID",d),Pe(C,"CVER",22),this.G&&Pe(C,"X-HTTP-Session-Id",this.G),os(this,C),se&&(this.R?T="headers="+Me(ii(se))+"&"+T:this.u&&rs(C,this.u,se)),ts(this.h,J),this.Ra&&Pe(C,"TYPE","init"),this.S?(Pe(C,"$req",T),Pe(C,"SID","null"),J.U=!0,$i(J,C,null)):$i(J,C,T),this.I=2}}else this.I==3&&(d?bl(this,d):this.i.length==0||vl(this.h)||bl(this))};function bl(d,T){var C;T?C=T.l:C=d.V++;const P=Yt(d.J);Pe(P,"SID",d.M),Pe(P,"RID",C),Pe(P,"AID",d.K),os(d,P),d.u&&d.o&&rs(P,d.u,d.o),C=new xi(d,d.j,C,d.D+1),d.u===null&&(C.J=d.o),T&&(d.i=T.G.concat(d.i)),T=Pu(d,C,1e3),C.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ts(d.h,C),$i(C,P,T)}function os(d,T){d.H&&nt(d.H,function(C,P){Pe(T,P,C)}),d.l&&nt({},function(C,P){Pe(T,P,C)})}function Pu(d,T,C){C=Math.min(d.i.length,C);const P=d.l?v(d.l.Ka,d.l,d):null;e:{var J=d.i;let Ze=-1;for(;;){const wt=["count="+C];Ze==-1?C>0?(Ze=J[0].g,wt.push("ofs="+Ze)):Ze=0:wt.push("ofs="+Ze);let Et=!0;for(let Gt=0;Gt<C;Gt++){var se=J[Gt].g;const Pi=J[Gt].map;if(se-=Ze,se<0)Ze=Math.max(0,J[Gt].g-100),Et=!1;else try{se="req"+se+"_"||"";try{var Ce=Pi instanceof Map?Pi:Object.entries(Pi);for(const[Li,yi]of Ce){let sr=yi;p(yi)&&(sr=Wi(yi)),wt.push(se+Li+"="+encodeURIComponent(sr))}}catch(Li){throw wt.push(se+"type="+encodeURIComponent("_badmap")),Li}}catch{P&&P(Pi)}}if(Et){Ce=wt.join("&");break e}}Ce=void 0}return d=d.i.splice(0,C),T.G=d,Ce}function wl(d){if(!d.g&&!d.v){d.Y=1;var T=d.Da;fe||D(),Te||(fe(),Te=!0),k.add(T,d),d.A=0}}function ba(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=wr(v(d.Da,d),Lu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,go(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=wr(v(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),zs(this),go(this))};function El(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function go(d){d.g=new xi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var T=Yt(d.na);Pe(T,"RID","rpc"),Pe(T,"SID",d.M),Pe(T,"AID",d.K),Pe(T,"CI",d.F?"0":"1"),!d.F&&d.ia&&Pe(T,"TO",d.ia),Pe(T,"TYPE","xmlhttp"),os(d,T),d.u&&d.o&&rs(T,d.u,d.o),d.O&&(d.g.H=d.O);var C=d.g;d=d.ba,C.M=1,C.A=kt(Yt(T)),C.u=null,C.R=!0,Qi(C,d)}n.Va=function(){this.C!=null&&(this.C=null,zs(this),ba(this),sn(19))};function _o(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function _i(d,T){var C=null;if(d.g==T){_o(d),El(d),d.g=null;var P=2}else if(Ri(d.h,T))C=T.G,co(d.h,T),P=1;else return;if(d.I!=0){if(T.o)if(P==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var J=d.D;P=lo(),St(P,new br(P,C)),ri(d)}else wl(d);else if(J=T.m,J==3||J==0&&T.X>0||!(P==1&&va(d,T)||P==2&&ba(d)))switch(C&&C.length>0&&(T=d.h,T.i=T.i.concat(C)),J){case 1:ir(d,5);break;case 4:ir(d,10);break;case 3:ir(d,6);break;default:ir(d,2)}}}function Lu(d,T){let C=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(C*=2),C*T}function ir(d,T){if(d.j.info("Error code "+T),T==2){var C=v(d.bb,d),P=d.Ua;const J=!P;P=new lt(P||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$t(P,"https"),kt(P),J?ti(P.toString(),C):po(P.toString(),C)}else sn(2);d.I=0,d.l&&d.l.pa(T),rr(d),Bn(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function rr(d){if(d.I=0,d.ja=[],d.l){const T=ho(d.h);(T.length!=0||d.i.length!=0)&&(V(d.ja,T),V(d.ja,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.oa()}}function Tl(d,T,C){var P=C instanceof lt?Yt(C):new lt(C);if(P.g!="")T&&(P.g=T+"."+P.g),pi(P,P.u);else{var J=f.location;P=J.protocol,T=T?T+"."+J.hostname:J.hostname,J=+J.port;const se=new lt(null);P&&$t(se,P),T&&(se.g=T),J&&pi(se,J),C&&(se.h=C),P=se}return C=d.G,T=d.wa,C&&T&&Pe(P,C,T),Pe(P,"VER",d.ka),os(d,P),P}function Sl(d,T,C){if(T&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=d.Aa&&!d.ma?new dt(new Fe({ab:C})):new dt(d.ma),T.Fa(d.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}n=yo.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Bs(){}Bs.prototype.g=function(d,T){return new Un(d,T)};function Un(d,T){Lt.call(this),this.g=new as(T),this.l=d,this.h=T&&T.messageUrlParams||null,d=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(d?d["X-WebChannel-Content-Type"]=T.messageContentType:d={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(d?d["X-WebChannel-Client-Profile"]=T.sa:d={"X-WebChannel-Client-Profile":T.sa}),this.g.U=d,(d=T&&T.Qb)&&!B(d)&&(this.g.u=d),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.G=T,d=this.h,d!==null&&T in d&&(d=this.h,T in d&&delete d[T])),this.j=new ls(this)}A(Un,Lt),Un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){at(this.g)},Un.prototype.o=function(d){var T=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.v&&(C={},C.__data__=Wi(d),d=C);T.i.push(new dn(T.Ya++,d)),T.I==3&&ri(T)},Un.prototype.N=function(){this.g.l=null,delete this.j,at(this.g),delete this.g,Un.Z.N.call(this)};function xl(d){yn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var T=d.__sm__;if(T){e:{for(const C in T){d=C;break e}d=void 0}(this.i=d)&&(d=this.i,T=T!==null&&d in T?T[d]:void 0),this.data=T}else this.data=d}A(xl,yn);function Mu(){mi.call(this),this.status=1}A(Mu,mi);function ls(d){this.g=d}A(ls,yo),ls.prototype.ra=function(){St(this.g,"a")},ls.prototype.qa=function(d){St(this.g,new xl(d))},ls.prototype.pa=function(d){St(this.g,new Mu)},ls.prototype.oa=function(){St(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,yC=function(){return new Bs},_C=function(){return lo()},gC=rn,Wy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,ym=ma,pl.COMPLETE="complete",pC=pl,oo.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,Wh=oo,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,mC=dt}).apply(typeof em<"u"?em:typeof self<"u"?self:typeof window<"u"?window:{});const pS="@firebase/firestore",gS="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Op("@firebase/firestore");function pc(){return du.logLevel}function Le(n,...e){if(du.logLevel<=gt.DEBUG){const t=e.map(Qv);du.debug(`Firestore (${Yc}): ${n}`,...t)}}function to(n,...e){if(du.logLevel<=gt.ERROR){const t=e.map(Qv);du.error(`Firestore (${Yc}): ${n}`,...t)}}function Pc(n,...e){if(du.logLevel<=gt.WARN){const t=e.map(Qv);du.warn(`Firestore (${Yc}): ${n}`,...t)}}function Qv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,vC(n,r,t)}function vC(n,e,t){let r=`FIRESTORE (${Yc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw to(r),new Error(r)}function Mt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||vC(e,a,r)}function Je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Is{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ui.UNAUTHENTICATED)))}shutdown(){}}class S4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class x4{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mt(this.o===void 0,42304);let r=this.i;const a=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let u=new Ka;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ka,e.enqueueRetryable((()=>a(this.currentUser)))};const f=()=>{const _=u;e.enqueueRetryable((async()=>{await _.promise,await a(this.currentUser)}))},p=_=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ka)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt(typeof r.accessToken=="string",31837,{l:r}),new bC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new ui(e)}}class A4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ui.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new A4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ui.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _S{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mt(this.o===void 0,3512);const r=u=>{u.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const a=u=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _S(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _S(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=I4(40);for(let u=0;u<a.length;++u)r.length<20&&a[u]<t&&(r+=e.charAt(a[u]%62))}return r}}function _t(n,e){return n<e?-1:n>e?1:0}function Ky(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),u=e.charAt(r);if(a!==u)return cy(a)===cy(u)?_t(a,u):cy(a)?1:-1}return _t(n.length,e.length)}const O4=55296,N4=57343;function cy(n){const e=n.charCodeAt(0);return e>=O4&&e<=N4}function Lc(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="__name__";class Xs{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ge(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ge(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const u=Xs.compareSegments(e.get(a),t.get(a));if(u!==0)return u}return _t(e.length,t.length)}static compareSegments(e,t){const r=Xs.isNumericId(e),a=Xs.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Xs.extractNumericId(e).compare(Xs.extractNumericId(t)):Ky(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tl.fromString(e.substring(4,e.length-2))}}class Wt extends Xs{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new Wt(t)}static emptyPath(){return new Wt([])}}const P4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Xs{construct(e,t,r){return new Qn(e,t,r)}static isValidIdentifier(e){return P4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yS}static keyField(){return new Qn([yS])}static fromServerFormat(e){const t=[];let r="",a=0;const u=()=>{if(r.length===0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new Ne(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Ne(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,a+=2}else p==="`"?(f=!f,a++):p!=="."||f?(r+=p,a++):(u(),a++)}if(u(),f)throw new Ne(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(t)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Wt.fromString(e))}static fromName(e){return new Be(Wt.fromString(e).popFirst(5))}static empty(){return new Be(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n,e,t){if(!t)throw new Ne(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function L4(n,e,t,r){if(e===!0&&r===!0)throw new Ne(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vS(n){if(!Be.isDocumentKey(n))throw new Ne(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bS(n){if(Be.isDocumentKey(n))throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function EC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Mp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ge(12329,{type:typeof n})}function xs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mp(n);throw new Ne(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(n,e){const t={typeString:n};return e&&(t.value=e),t}function Df(n,e){if(!EC(n))throw new Ne(ye.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const f=n[r];if(a&&typeof f!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(u!==void 0&&f!==u.value){t=`Expected '${r}' field to equal '${u.value}'`;break}}if(t)throw new Ne(ye.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=-62135596800,ES=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ES);return new Jt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wS)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ES}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Df(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Ln("string",Jt._jsonSchemaVersion),seconds:Ln("number"),nanoseconds:Ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Jt(0,0))}static max(){return new Qe(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=-1;function M4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Qe.fromTimestamp(r===1e9?new Jt(t+1,0):new Jt(t,r));return new rl(a,Be.empty(),e)}function k4(n){return new rl(n.readTime,n.key,ff)}class rl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rl(Qe.min(),Be.empty(),ff)}static max(){return new rl(Qe.max(),Be.empty(),ff)}}function D4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Be.comparator(n.documentKey,e.documentKey),t!==0?t:_t(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==j4)throw n;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be(((r,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,a)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):be.reject(t)}static resolve(e){return new be(((t,r)=>{t(e)}))}static reject(e){return new be(((t,r)=>{r(e)}))}static waitFor(e){return new be(((t,r)=>{let a=0,u=0,f=!1;e.forEach((p=>{++a,p.next((()=>{++u,f&&u===a&&t()}),(_=>r(_)))})),f=!0,u===a&&t()}))}static or(e){let t=be.resolve(!1);for(const r of e)t=t.next((a=>a?be.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,u)=>{r.push(t.call(this,a,u))})),this.waitFor(r)}static mapArray(e,t){return new be(((r,a)=>{const u=e.length,f=new Array(u);let p=0;for(let _=0;_<u;_++){const v=_;t(e[v]).next((E=>{f[v]=E,++p,p===u&&r(f)}),(E=>a(E)))}}))}static doWhile(e,t){return new be(((r,a)=>{const u=()=>{e()===!0?t().next((()=>{u()}),a):r()};u()}))}}function z4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-1;function Dp(n){return n==null}function Gm(n){return n===0&&1/n==-1/0}function B4(n){return typeof n=="number"&&Number.isInteger(n)&&!Gm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="";function U4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TS(e)),e=F4(n.get(t),e);return TS(e)}function F4(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const u=n.charAt(a);switch(u){case"\0":t+="";break;case TC:t+="";break;default:t+=u}}return t}function TS(n){return n+TC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function dl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t){this.comparator=e,this.root=t||Yn.EMPTY}insert(e,t){return new cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tm(this.root,e,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tm(this.root,e,this.comparator,!0)}}class tm{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yn{constructor(e,t,r,a,u){this.key=e,this.value=t,this.color=r??Yn.RED,this.left=a??Yn.EMPTY,this.right=u??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,u){return new Yn(e??this.key,t??this.value,r??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const u=r(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,t,r),null):u===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Yn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,t,r,a,u){return this}insert(e,t,r){return new Yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xS(this.data.getIterator())}getIteratorFrom(e){return new xS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=r.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class xS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new pr([])}unionWith(e){let t=new Dn(Qn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new xC("Invalid base64 string: "+u):u}})(e);return new Jn(t)}static fromUint8Array(e){const t=(function(a){let u="";for(let f=0;f<a.length;++f)u+=String.fromCharCode(a[f]);return u})(e);return new Jn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const H4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sl(n){if(Mt(!!n,39018),typeof n=="string"){let e=0;const t=H4.exec(n);if(Mt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(n.seconds),nanos:wn(n.nanos)}}function wn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function al(n){return typeof n=="string"?Jn.fromBase64String(n):Jn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="server_timestamp",CC="__type__",RC="__previous_value__",IC="__local_write_time__";function e0(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[CC])==null?void 0:r.stringValue)===AC}function jp(n){const e=n.mapValue.fields[RC];return e0(e)?jp(e):e}function df(n){const e=sl(n.mapValue.fields[IC].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,t,r,a,u,f,p,_,v,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=E}}const Zm="(default)";class mf{constructor(e,t){this.projectId=e,this.database=t||Zm}static empty(){return new mf("","")}get isDefaultDatabase(){return this.database===Zm}isEqual(e){return e instanceof mf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="__type__",G4="__max__",nm={mapValue:{}},NC="__vector__",Wm="value";function ol(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?e0(n)?4:W4(n)?9007199254740991:Z4(n)?10:11:Ge(28295,{value:n})}function ha(n,e){if(n===e)return!0;const t=ol(n);if(t!==ol(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return df(n).isEqual(df(e));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const f=sl(a.timestampValue),p=sl(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,u){return al(a.bytesValue).isEqual(al(u.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,u){return wn(a.geoPointValue.latitude)===wn(u.geoPointValue.latitude)&&wn(a.geoPointValue.longitude)===wn(u.geoPointValue.longitude)})(n,e);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return wn(a.integerValue)===wn(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const f=wn(a.doubleValue),p=wn(u.doubleValue);return f===p?Gm(f)===Gm(p):isNaN(f)&&isNaN(p)}return!1})(n,e);case 9:return Lc(n.arrayValue.values||[],e.arrayValue.values||[],ha);case 10:case 11:return(function(a,u){const f=a.mapValue.fields||{},p=u.mapValue.fields||{};if(SS(f)!==SS(p))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(p[_]===void 0||!ha(f[_],p[_])))return!1;return!0})(n,e);default:return Ge(52216,{left:n})}}function pf(n,e){return(n.values||[]).find((t=>ha(t,e)))!==void 0}function Mc(n,e){if(n===e)return 0;const t=ol(n),r=ol(e);if(t!==r)return _t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _t(n.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=wn(u.integerValue||u.doubleValue),_=wn(f.integerValue||f.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(n,e);case 3:return AS(n.timestampValue,e.timestampValue);case 4:return AS(df(n),df(e));case 5:return Ky(n.stringValue,e.stringValue);case 6:return(function(u,f){const p=al(u),_=al(f);return p.compareTo(_)})(n.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),_=f.split("/");for(let v=0;v<p.length&&v<_.length;v++){const E=_t(p[v],_[v]);if(E!==0)return E}return _t(p.length,_.length)})(n.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=_t(wn(u.latitude),wn(f.latitude));return p!==0?p:_t(wn(u.longitude),wn(f.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return CS(n.arrayValue,e.arrayValue);case 10:return(function(u,f){var I,M,V,F;const p=u.fields||{},_=f.fields||{},v=(I=p[Wm])==null?void 0:I.arrayValue,E=(M=_[Wm])==null?void 0:M.arrayValue,A=_t(((V=v==null?void 0:v.values)==null?void 0:V.length)||0,((F=E==null?void 0:E.values)==null?void 0:F.length)||0);return A!==0?A:CS(v,E)})(n.mapValue,e.mapValue);case 11:return(function(u,f){if(u===nm.mapValue&&f===nm.mapValue)return 0;if(u===nm.mapValue)return 1;if(f===nm.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),v=f.fields||{},E=Object.keys(v);_.sort(),E.sort();for(let A=0;A<_.length&&A<E.length;++A){const I=Ky(_[A],E[A]);if(I!==0)return I;const M=Mc(p[_[A]],v[E[A]]);if(M!==0)return M}return _t(_.length,E.length)})(n.mapValue,e.mapValue);default:throw Ge(23264,{he:t})}}function AS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _t(n,e);const t=sl(n),r=sl(e),a=_t(t.seconds,r.seconds);return a!==0?a:_t(t.nanos,r.nanos)}function CS(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const u=Mc(t[a],r[a]);if(u)return u}return _t(t.length,r.length)}function kc(n){return Yy(n)}function Yy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=sl(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return al(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const u of t.values||[])a?a=!1:r+=",",r+=Yy(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${Yy(t.fields[f])}`;return a+"}"})(n.mapValue):Ge(61005,{value:n})}function vm(n){switch(ol(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jp(n);return e?16+vm(e):16;case 5:return 2*n.stringValue.length;case 6:return al(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,u)=>a+vm(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return dl(r.fields,((u,f)=>{a+=u.length+vm(f)})),a})(n.mapValue);default:throw Ge(13486,{value:n})}}function RS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $y(n){return!!n&&"integerValue"in n}function t0(n){return!!n&&"arrayValue"in n}function IS(n){return!!n&&"nullValue"in n}function OS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bm(n){return!!n&&"mapValue"in n}function Z4(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[OC])==null?void 0:r.stringValue)===NC}function tf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return dl(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=tf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tf(n.arrayValue.values[t]);return e}return{...n}}function W4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===G4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tf(t)}setAll(e){let t=Qn.emptyPath(),r={},a=[];e.forEach(((f,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,a),r={},a=[],t=p.popLast()}f?r[p.lastSegment()]=tf(f):a.push(p.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,r,a)}delete(e){const t=this.field(e.popLast());bm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ha(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];bm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){dl(t,((a,u)=>e[a]=u));for(const a of r)delete e[a]}clone(){return new qi(tf(this.value))}}function PC(n){const e=[];return dl(n.fields,((t,r)=>{const a=new Qn([t]);if(bm(r)){const u=PC(r.mapValue).fields;if(u.length===0)e.push(a);else for(const f of u)e.push(a.child(f))}else e.push(a)})),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t,r,a,u,f,p){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new ci(e,0,Qe.min(),Qe.min(),Qe.min(),qi.empty(),0)}static newFoundDocument(e,t,r,a){return new ci(e,1,t,Qe.min(),r,a,0)}static newNoDocument(e,t){return new ci(e,2,t,Qe.min(),Qe.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,Qe.min(),Qe.min(),qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t){this.position=e,this.inclusive=t}}function NS(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const u=e[a],f=n.position[a];if(u.field.isKeyField()?r=Be.comparator(Be.fromName(f.referenceValue),t.key):r=Mc(f,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function PS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ha(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t="asc"){this.field=e,this.dir=t}}function K4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{}class Pn extends LC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $4(e,t,r):t==="array-contains"?new J4(e,r):t==="in"?new eV(e,r):t==="not-in"?new tV(e,r):t==="array-contains-any"?new nV(e,r):new Pn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Q4(e,r):new X4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Mc(t,this.value)):t!==null&&ol(this.value)===ol(t)&&this.matchesComparison(Mc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class As extends LC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new As(e,t)}matches(e){return MC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MC(n){return n.op==="and"}function kC(n){return Y4(n)&&MC(n)}function Y4(n){for(const e of n.filters)if(e instanceof As)return!1;return!0}function Qy(n){if(n instanceof Pn)return n.field.canonicalString()+n.op.toString()+kc(n.value);if(kC(n))return n.filters.map((e=>Qy(e))).join(",");{const e=n.filters.map((t=>Qy(t))).join(",");return`${n.op}(${e})`}}function DC(n,e){return n instanceof Pn?(function(r,a){return a instanceof Pn&&r.op===a.op&&r.field.isEqual(a.field)&&ha(r.value,a.value)})(n,e):n instanceof As?(function(r,a){return a instanceof As&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((u,f,p)=>u&&DC(f,a.filters[p])),!0):!1})(n,e):void Ge(19439)}function jC(n){return n instanceof Pn?(function(t){return`${t.field.canonicalString()} ${t.op} ${kc(t.value)}`})(n):n instanceof As?(function(t){return t.op.toString()+" {"+t.getFilters().map(jC).join(" ,")+"}"})(n):"Filter"}class $4 extends Pn{constructor(e,t,r){super(e,t,r),this.key=Be.fromName(r.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.matchesComparison(t)}}class Q4 extends Pn{constructor(e,t){super(e,"in",t),this.keys=VC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class X4 extends Pn{constructor(e,t){super(e,"not-in",t),this.keys=VC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function VC(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Be.fromName(r.referenceValue)))}class J4 extends Pn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return t0(t)&&pf(t.arrayValue,this.value)}}class eV extends Pn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pf(this.value.arrayValue,t)}}class tV extends Pn{constructor(e,t){super(e,"not-in",t)}matches(e){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pf(this.value.arrayValue,t)}}class nV extends Pn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!t0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>pf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,t=null,r=[],a=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function LS(n,e=null,t=[],r=[],a=null,u=null,f=null){return new iV(n,e,t,r,a,u,f)}function n0(n){const e=Je(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Qy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Dp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>kc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>kc(r))).join(",")),e.Te=t}return e.Te}function i0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!K4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PS(n.startAt,e.startAt)&&PS(n.endAt,e.endAt)}function Xy(n){return Be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t=null,r=[],a=[],u=null,f="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rV(n,e,t,r,a,u,f,p){return new jf(n,e,t,r,a,u,f,p)}function r0(n){return new jf(n)}function MS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zC(n){return n.collectionGroup!==null}function nf(n){const e=Je(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Dn(Qn.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ym(u,r))})),t.has(Qn.keyField().canonicalString())||e.Ie.push(new Ym(Qn.keyField(),r))}return e.Ie}function aa(n){const e=Je(n);return e.Ee||(e.Ee=sV(e,nf(n))),e.Ee}function sV(n,e){if(n.limitType==="F")return LS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new Ym(a.field,u)}));const t=n.endAt?new Km(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Km(n.startAt.position,n.startAt.inclusive):null;return LS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Jy(n,e){const t=n.filters.concat([e]);return new jf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ev(n,e,t){return new jf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vp(n,e){return i0(aa(n),aa(e))&&n.limitType===e.limitType}function BC(n){return`${n0(aa(n))}|lt:${n.limitType}`}function gc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>jC(a))).join(", ")}]`),Dp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>kc(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>kc(a))).join(",")),`Target(${r})`})(aa(n))}; limitType=${n.limitType})`}function zp(n,e){return e.isFoundDocument()&&(function(r,a){const u=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Be.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,e)&&(function(r,a){for(const u of nf(r))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const u of r.filters)if(!u.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(f,p,_){const v=NS(f,p,_);return f.inclusive?v<=0:v<0})(r.startAt,nf(r),a)||r.endAt&&!(function(f,p,_){const v=NS(f,p,_);return f.inclusive?v>=0:v>0})(r.endAt,nf(r),a))})(n,e)}function aV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function UC(n){return(e,t)=>{let r=!1;for(const a of nf(n)){const u=oV(a,e,t);if(u!==0)return u;r=r||a.field.isKeyField()}return 0}}function oV(n,e,t){const r=n.field.isKeyField()?Be.comparator(e.key,t.key):(function(u,f,p){const _=f.data.field(u),v=p.data.field(u);return _!==null&&v!==null?Mc(_,v):Ge(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,u]of r)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){dl(this.inner,((t,r)=>{for(const[a,u]of r)e(a,u)}))}isEmpty(){return SC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new cn(Be.comparator);function no(){return lV}const FC=new cn(Be.comparator);function Kh(...n){let e=FC;for(const t of n)e=e.insert(t.key,t);return e}function HC(n){let e=FC;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function eu(){return rf()}function qC(){return rf()}function rf(){return new Su((n=>n.toString()),((n,e)=>n.isEqual(e)))}const uV=new cn(Be.comparator),cV=new Dn(Be.comparator);function yt(...n){let e=cV;for(const t of n)e=e.add(t);return e}const hV=new Dn(_t);function fV(){return hV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gm(e)?"-0":e}}function GC(n){return{integerValue:""+n}}function dV(n,e){return B4(e)?GC(e):s0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this._=void 0}}function mV(n,e,t){return n instanceof $m?(function(a,u){const f={fields:{[CC]:{stringValue:AC},[IC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&e0(u)&&(u=jp(u)),u&&(f.fields[RC]=u),{mapValue:f}})(t,e):n instanceof gf?WC(n,e):n instanceof _f?KC(n,e):(function(a,u){const f=ZC(a,u),p=kS(f)+kS(a.Ae);return $y(f)&&$y(a.Ae)?GC(p):s0(a.serializer,p)})(n,e)}function pV(n,e,t){return n instanceof gf?WC(n,e):n instanceof _f?KC(n,e):t}function ZC(n,e){return n instanceof Qm?(function(r){return $y(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class $m extends Bp{}class gf extends Bp{constructor(e){super(),this.elements=e}}function WC(n,e){const t=YC(e);for(const r of n.elements)t.some((a=>ha(a,r)))||t.push(r);return{arrayValue:{values:t}}}class _f extends Bp{constructor(e){super(),this.elements=e}}function KC(n,e){let t=YC(e);for(const r of n.elements)t=t.filter((a=>!ha(a,r)));return{arrayValue:{values:t}}}class Qm extends Bp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function kS(n){return wn(n.integerValue||n.doubleValue)}function YC(n){return t0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function gV(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof gf&&a instanceof gf||r instanceof _f&&a instanceof _f?Lc(r.elements,a.elements,ha):r instanceof Qm&&a instanceof Qm?ha(r.Ae,a.Ae):r instanceof $m&&a instanceof $m})(n.transform,e.transform)}class _V{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Up{}function $C(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new a0(n.key,Wr.none()):new Vf(n.key,n.data,Wr.none());{const t=n.data,r=qi.empty();let a=new Dn(Qn.comparator);for(let u of e.fields)if(!a.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?r.delete(u):r.set(u,f),a=a.add(u)}return new ml(n.key,r,new pr(a.toArray()),Wr.none())}}function yV(n,e,t){n instanceof Vf?(function(a,u,f){const p=a.value.clone(),_=jS(a.fieldTransforms,u,f.transformResults);p.setAll(_),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(n,e,t):n instanceof ml?(function(a,u,f){if(!wm(a.precondition,u))return void u.convertToUnknownDocument(f.version);const p=jS(a.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(QC(a)),_.setAll(p),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(n,e,t):(function(a,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function sf(n,e,t,r){return n instanceof Vf?(function(u,f,p,_){if(!wm(u.precondition,f))return p;const v=u.value.clone(),E=VS(u.fieldTransforms,_,f);return v.setAll(E),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(n,e,t,r):n instanceof ml?(function(u,f,p,_){if(!wm(u.precondition,f))return p;const v=VS(u.fieldTransforms,_,f),E=f.data;return E.setAll(QC(u)),E.setAll(v),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(n,e,t,r):(function(u,f,p){return wm(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(n,e,t)}function vV(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),u=ZC(r.transform,a||null);u!=null&&(t===null&&(t=qi.empty()),t.set(r.field,u))}return t||null}function DS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Lc(r,a,((u,f)=>gV(u,f)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vf extends Up{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ml extends Up{constructor(e,t,r,a,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function QC(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function jS(n,e,t){const r=new Map;Mt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const u=n[a],f=u.transform,p=e.data.field(u.field);r.set(u.field,pV(f,p,t[a]))}return r}function VS(n,e,t){const r=new Map;for(const a of n){const u=a.transform,f=t.data.field(a.field);r.set(a.field,mV(u,f,e))}return r}class a0 extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bV extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&yV(u,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qC();return this.mutations.forEach((a=>{const u=e.get(a.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=t.has(a.key)?null:p;const _=$C(f,p);_!==null&&r.set(a.key,_),f.isValidDocument()||f.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),yt())}isEqual(e){return this.batchId===e.batchId&&Lc(this.mutations,e.mutations,((t,r)=>DS(t,r)))&&Lc(this.baseMutations,e.baseMutations,((t,r)=>DS(t,r)))}}class o0{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return uV})();const u=e.mutations;for(let f=0;f<u.length;f++)a=a.insert(u[f].key,r[f].version);return new o0(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,Tt;function SV(n){switch(n){case ye.OK:return Ge(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Ge(15467,{code:n})}}function XC(n){if(n===void 0)return to("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Nn.OK:return ye.OK;case Nn.CANCELLED:return ye.CANCELLED;case Nn.UNKNOWN:return ye.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return ye.INTERNAL;case Nn.UNAVAILABLE:return ye.UNAVAILABLE;case Nn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Nn.NOT_FOUND:return ye.NOT_FOUND;case Nn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Nn.ABORTED:return ye.ABORTED;case Nn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Nn.DATA_LOSS:return ye.DATA_LOSS;default:return Ge(39323,{code:n})}}(Tt=Nn||(Nn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new tl([4294967295,4294967295],0);function zS(n){const e=xV().encode(n),t=new dC;return t.update(e),new Uint8Array(t.digest())}function BS(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new tl([t,r],0),new tl([a,u],0)]}class l0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yh(`Invalid padding: ${t}`);if(r<0)throw new Yh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=tl.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(tl.fromNumber(r)));return a.compare(AV)===1&&(a=new tl([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=zS(e),[r,a]=BS(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,a,u);if(!this.we(f))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new l0(u,a,t);return r.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const t=zS(e),[r,a]=BS(t);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,a,u);this.Se(f)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Yh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,r,a,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Fp(Qe.min(),a,new cn(_t),no(),yt())}}class zf{constructor(e,t,r,a,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zf(r,t,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class JC{constructor(e,t){this.targetId=e,this.Ce=t}}class eR{constructor(e,t,r=Jn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class US{constructor(){this.ve=0,this.Fe=FS(),this.Me=Jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=yt(),t=yt(),r=yt();return this.Fe.forEach(((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Ge(38017,{changeType:u})}})),new zf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=FS()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CV{constructor(e){this.Ge=e,this.ze=new Map,this.je=no(),this.Je=im(),this.He=im(),this.Ye=new cn(_t)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const u=a.target;if(Xy(u))if(r===0){const f=new Be(u.path);this.et(t,f,ci.newNoDocument(f,Qe.min()))}else Mt(r===1,20013,{expectedCount:r});else{const f=this._t(t);if(f!==r){const p=this.ut(e),_=p?this.ct(p,e,f):1;if(_!==0){this.it(t);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:u=0}=t;let f,p;try{f=al(r).toUint8Array()}catch(_){if(_ instanceof xC)return Pc("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new l0(f,a,u)}catch(_){return Pc(_ instanceof Yh?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(t,u,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&Xy(p.target)){const _=new Be(p.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,ci.newNoDocument(_,e))}u.Be&&(t.set(f,u.ke()),u.qe())}}));let r=yt();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const a=new Fp(e,t,this.Ye,this.je,r);return this.je=no(),this.Je=im(),this.He=im(),this.Ye=new cn(_t),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new US,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Dn(_t),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Dn(_t),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new US),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function im(){return new cn(Be.comparator)}function FS(){return new cn(Be.comparator)}const RV={asc:"ASCENDING",desc:"DESCENDING"},IV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OV={and:"AND",or:"OR"};class NV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tv(n,e){return n.useProto3Json||Dp(e)?e:{value:e}}function Xm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PV(n,e){return Xm(n,e.toTimestamp())}function oa(n){return Mt(!!n,49232),Qe.fromTimestamp((function(t){const r=sl(t);return new Jt(r.seconds,r.nanos)})(n))}function u0(n,e){return nv(n,e).canonicalString()}function nv(n,e){const t=(function(a){return new Wt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function nR(n){const e=Wt.fromString(n);return Mt(oR(e),10190,{key:e.toString()}),e}function iv(n,e){return u0(n.databaseId,e.path)}function hy(n,e){const t=nR(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(rR(t))}function iR(n,e){return u0(n.databaseId,e)}function LV(n){const e=nR(n);return e.length===4?Wt.emptyPath():rR(e)}function rv(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rR(n){return Mt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HS(n,e,t){return{name:iv(n,e),fields:t.value.mapValue.fields}}function MV(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ge(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=(function(v,E){return v.useProto3Json?(Mt(E===void 0||typeof E=="string",58123),Jn.fromBase64String(E||"")):(Mt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jn.fromUint8Array(E||new Uint8Array))})(n,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(v){const E=v.code===void 0?ye.UNKNOWN:XC(v.code);return new Ne(E,v.message||"")})(f);t=new eR(r,a,u,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=hy(n,r.document.name),u=oa(r.document.updateTime),f=r.document.createTime?oa(r.document.createTime):Qe.min(),p=new qi({mapValue:{fields:r.document.fields}}),_=ci.newFoundDocument(a,u,f,p),v=r.targetIds||[],E=r.removedTargetIds||[];t=new Em(v,E,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=hy(n,r.document),u=r.readTime?oa(r.readTime):Qe.min(),f=ci.newNoDocument(a,u),p=r.removedTargetIds||[];t=new Em([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=hy(n,r.document),u=r.removedTargetIds||[];t=new Em([],u,a,null)}else{if(!("filter"in e))return Ge(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:u}=r,f=new TV(a,u),p=r.targetId;t=new JC(p,f)}}return t}function kV(n,e){let t;if(e instanceof Vf)t={update:HS(n,e.key,e.value)};else if(e instanceof a0)t={delete:iv(n,e.key)};else if(e instanceof ml)t={update:HS(n,e.key,e.data),updateMask:qV(e.fieldMask)};else{if(!(e instanceof bV))return Ge(16599,{Vt:e.type});t={verify:iv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const p=f.transform;if(p instanceof $m)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof gf)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof _f)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qm)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Ge(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:PV(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ge(27497)})(n,e.precondition)),t}function DV(n,e){return n&&n.length>0?(Mt(e!==void 0,14353),n.map((t=>(function(a,u){let f=a.updateTime?oa(a.updateTime):oa(u);return f.isEqual(Qe.min())&&(f=oa(u)),new _V(f,a.transformResults||[])})(t,e)))):[]}function jV(n,e){return{documents:[iR(n,e.path)]}}function VV(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iR(n,a);const u=(function(v){if(v.length!==0)return aR(As.create(v,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((E=>(function(I){return{field:_c(I.field),direction:UV(I.dir)}})(E)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const p=tv(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:a}}function zV(n){let e=LV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Mt(r===1,65062);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=(function(A){const I=sR(A);return I instanceof As&&kC(I)?I.getFilters():[I]})(t.where));let f=[];t.orderBy&&(f=(function(A){return A.map((I=>(function(V){return new Ym(yc(V.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(I)))})(t.orderBy));let p=null;t.limit&&(p=(function(A){let I;return I=typeof A=="object"?A.value:A,Dp(I)?null:I})(t.limit));let _=null;t.startAt&&(_=(function(A){const I=!!A.before,M=A.values||[];return new Km(M,I)})(t.startAt));let v=null;return t.endAt&&(v=(function(A){const I=!A.before,M=A.values||[];return new Km(M,I)})(t.endAt)),rV(e,a,f,u,p,"F",_,v)}function BV(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=yc(t.unaryFilter.field);return Pn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=yc(t.unaryFilter.field);return Pn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yc(t.unaryFilter.field);return Pn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=yc(t.unaryFilter.field);return Pn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Pn.create(yc(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return As.create(t.compositeFilter.filters.map((r=>sR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(t.compositeFilter.op))})(n):Ge(30097,{filter:n})}function UV(n){return RV[n]}function FV(n){return IV[n]}function HV(n){return OV[n]}function _c(n){return{fieldPath:n.canonicalString()}}function yc(n){return Qn.fromServerFormat(n.fieldPath)}function aR(n){return n instanceof Pn?(function(t){if(t.op==="=="){if(OS(t.value))return{unaryFilter:{field:_c(t.field),op:"IS_NAN"}};if(IS(t.value))return{unaryFilter:{field:_c(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(OS(t.value))return{unaryFilter:{field:_c(t.field),op:"IS_NOT_NAN"}};if(IS(t.value))return{unaryFilter:{field:_c(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_c(t.field),op:FV(t.op),value:t.value}}})(n):n instanceof As?(function(t){const r=t.getFilters().map((a=>aR(a)));return r.length===1?r[0]:{compositeFilter:{op:HV(t.op),filters:r}}})(n):Ge(54877,{filter:n})}function qV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function oR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t,r,a,u=Qe.min(),f=Qe.min(),p=Jn.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(e){return new Xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.yt=e}}function ZV(n){const e=zV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ev(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.Cn=new KV}addToCollectionParentIndex(e,t){return this.Cn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(rl.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(rl.min())}updateCollectionGroup(e,t,r){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class KV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Dn(Wt.comparator),u=!a.has(r);return this.index[t]=a.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Dn(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lR=41943040;class Fi{static withCacheSize(e){return new Fi(e,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi.DEFAULT_COLLECTION_PERCENTILE=10,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fi.DEFAULT=new Fi(lR,Fi.DEFAULT_COLLECTION_PERCENTILE,Fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fi.DISABLED=new Fi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dc(0)}static cr(){return new Dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="LruGarbageCollector",YV=1048576;function ZS([n,e],[t,r]){const a=_t(n,t);return a===0?_t(e,r):a}class $V{constructor(e){this.Ir=e,this.buffer=new Dn(ZS),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ZS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Le(GS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qc(t)?Le(GS,"Ignoring IndexedDB error during garbage collection: ",t):await $c(t)}await this.Vr(3e5)}))}}class XV{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return be.resolve(kp.ce);const r=new $V(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(qS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qS):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,u,f,p,_,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,f=Date.now(),this.nthSequenceNumber(e,a)))).next((A=>(r=A,p=Date.now(),this.removeTargets(e,r,t)))).next((A=>(u=A,_=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(v=Date.now(),pc()<=gt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${a} in `+(p-f)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${A} documents in `+(v-_)+`ms
Total Duration: ${v-E}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:A}))))}}function JV(n,e){return new XV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.changes=new Su((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&sf(r.mutation,a,pr.empty(),Jt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,yt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=yt()){const a=eu();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((u=>{let f=Kh();return u.forEach(((p,_)=>{f=f.insert(p,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const r=eu();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,yt())))}populateOverlays(e,t,r){const a=[];return r.forEach((u=>{t.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(e,a).next((u=>{u.forEach(((f,p)=>{t.set(f,p)}))}))}computeViews(e,t,r,a){let u=no();const f=rf(),p=(function(){return rf()})();return t.forEach(((_,v)=>{const E=r.get(v.key);a.has(v.key)&&(E===void 0||E.mutation instanceof ml)?u=u.insert(v.key,v):E!==void 0?(f.set(v.key,E.mutation.getFieldMask()),sf(E.mutation,v,E.mutation.getFieldMask(),Jt.now())):f.set(v.key,pr.empty())})),this.recalculateAndSaveOverlays(e,u).next((_=>(_.forEach(((v,E)=>f.set(v,E))),t.forEach(((v,E)=>p.set(v,new t3(E,f.get(v)??null)))),p)))}recalculateAndSaveOverlays(e,t){const r=rf();let a=new cn(((f,p)=>f-p)),u=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const p of f)p.keys().forEach((_=>{const v=t.get(_);if(v===null)return;let E=r.get(_)||pr.empty();E=p.applyToLocalView(v,E),r.set(_,E);const A=(a.get(p.batchId)||yt()).add(_);a=a.insert(p.batchId,A)}))})).next((()=>{const f=[],p=a.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,E=_.value,A=qC();E.forEach((I=>{if(!u.has(I)){const M=$C(t.get(I),r.get(I));M!==null&&A.set(I,M),u=u.add(I)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,A))}return be.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(f){return Be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((u=>{const f=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-u.size):be.resolve(eu());let p=ff,_=u;return f.next((v=>be.forEach(v,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(E)?be.resolve():this.remoteDocumentCache.getEntry(e,E).next((I=>{_=_.insert(E,I)}))))).next((()=>this.populateOverlays(e,v,u))).next((()=>this.computeViews(e,_,v,yt()))).next((E=>({batchId:p,changes:HC(E)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Be(t)).next((r=>{let a=Kh();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const u=t.collectionGroup;let f=Kh();return this.indexManager.getCollectionParents(e,u).next((p=>be.forEach(p,(_=>{const v=(function(A,I){return new jf(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,_.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,r,a).next((E=>{E.forEach(((A,I)=>{f=f.insert(A,I)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,a)))).next((f=>{u.forEach(((_,v)=>{const E=v.getKey();f.get(E)===null&&(f=f.insert(E,ci.newInvalidDocument(E)))}));let p=Kh();return f.forEach(((_,v)=>{const E=u.get(_);E!==void 0&&sf(E.mutation,v,pr.empty(),Jt.now()),zp(t,v)&&(p=p.insert(_,v))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return be.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:oa(a.createTime)}})(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:ZV(a.bundledQuery),readTime:oa(a.readTime)}})(t)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this.overlays=new cn(Be.comparator),this.qr=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const r=eu();return be.forEach(t,(a=>this.getOverlay(e,a).next((u=>{u!==null&&r.set(a,u)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,u)=>{this.St(e,t,u)})),be.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),be.resolve()}getOverlaysForCollection(e,t,r){const a=eu(),u=t.length+1,f=new Be(t.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&_.largestBatchId>r&&a.set(_.getKey(),_)}return be.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let u=new cn(((v,E)=>v-E));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let E=u.get(v.largestBatchId);E===null&&(E=eu(),u=u.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const p=eu(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,E)=>p.set(v,E))),!(p.size()>=a)););return be.resolve(p)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const f=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new EV(t,r));let u=this.qr.get(t);u===void 0&&(u=yt(),this.qr.set(t,u)),this.qr.set(t,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.sessionToken=Jn.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.Qr=new Dn(Gn.$r),this.Ur=new Dn(Gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Gn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Gn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Be(new Wt([])),r=new Gn(t,e),a=new Gn(t,e+1),u=[];return this.Ur.forEachInRange([r,a],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Be(new Wt([])),r=new Gn(t,e),a=new Gn(t,e+1);let u=yt();return this.Ur.forEachInRange([r,a],(f=>{u=u.add(f.key)})),u}containsKey(e){const t=new Gn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Be.comparator(e.key,t.key)||_t(e.Yr,t.Yr)}static Kr(e,t){return _t(e.Yr,t.Yr)||Be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(Gn.$r)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new wV(u,t,r,a);this.mutationQueue.push(f);for(const p of a)this.Zr=this.Zr.add(new Gn(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return be.resolve(f)}lookupMutationBatch(e,t){return be.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),u=a<0?0:a;return be.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?Jv:this.tr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gn(t,0),a=new Gn(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,a],(f=>{const p=this.Xr(f.Yr);u.push(p)})),be.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(_t);return t.forEach((a=>{const u=new Gn(a,0),f=new Gn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{r=r.add(p.Yr)}))})),be.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let u=r;Be.isDocumentKey(u)||(u=u.child(""));const f=new Gn(new Be(u),0);let p=new Dn(_t);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===a&&(p=p.add(_.Yr)),!0)}),f),be.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Mt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return be.forEach(t.mutations,(a=>{const u=new Gn(a.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Gn(t,0),a=this.Zr.firstAfterOrEqual(r);return be.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.ri=e,this.docs=(function(){return new cn(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),u=a?a.size:0,f=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return be.resolve(r?r.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let r=no();return t.forEach((a=>{const u=this.docs.get(a);r=r.insert(a,u?u.document.mutableCopy():ci.newInvalidDocument(a))})),be.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let u=no();const f=t.path,p=new Be(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:E}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||D4(k4(E),r)<=0||(a.has(E.key)||zp(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return be.resolve(u)}getAllFromCollectionGroup(e,t,r,a){Ge(9500)}ii(e,t){return be.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new l3(this)}getSize(e){return be.resolve(this.size)}}class l3 extends e3{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),be.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.persistence=e,this.si=new Su((t=>n0(t)),i0),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.oi=0,this._i=new c0,this.targetCount=0,this.ai=Dc.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),be.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Dc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Pr(t),be.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,r){let a=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)})),be.waitFor(u).next((()=>a))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return be.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),be.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,u=[];return a&&t.forEach((f=>{u.push(a.markPotentiallyOrphaned(e,f))})),be.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),be.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return be.resolve(r)}containsKey(e,t){return be.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t){this.ui={},this.overlays={},this.ci=new kp(0),this.li=!1,this.li=!0,this.hi=new s3,this.referenceDelegate=e(this),this.Pi=new u3(this),this.indexManager=new WV,this.remoteDocumentCache=(function(a){return new o3(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new GV(t),this.Ii=new i3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new a3(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const a=new c3(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((u=>this.referenceDelegate.di(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ai(e,t){return be.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class c3 extends V4{constructor(e){super(),this.currentSequenceNumber=e}}class h0{constructor(e){this.persistence=e,this.Ri=new c0,this.Vi=null}static mi(e){return new h0(e)}get fi(){if(this.Vi)return this.Vi;throw Ge(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),be.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),be.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.fi,(r=>{const a=Be.fromPath(r);return this.gi(e,a).next((u=>{u||t.removeEntry(a,Qe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return be.or([()=>be.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Jm{constructor(e,t){this.persistence=e,this.pi=new Su((r=>U4(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=JV(this,t)}static mi(e,t){return new Jm(e,t)}Ei(){}di(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return be.forEach(this.pi,((r,a)=>this.br(e,r,a).next((u=>u?be.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ii(e,(f=>this.br(e,f,t).next((p=>{p||(r++,u.removeEntry(f,Qe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),be.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vm(e.data.value)),t}br(e,t,r){return be.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return be.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=yt(),a=yt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new f0(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jk()?8:z4(di())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const u={result:null};return this.ys(e,t).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,t,a,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new h3;return this.Ss(e,t,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,t,f,p.size)}))})).next((()=>u.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(pc()<=gt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",gc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),be.resolve()):(pc()<=gt.DEBUG&&Le("QueryEngine","Query:",gc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(pc()<=gt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",gc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,aa(t))):be.resolve())}ys(e,t){if(MS(t))return be.resolve(null);let r=aa(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=ev(t,null,"F"),r=aa(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=yt(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,r).next((_=>{const v=this.Ds(t,p);return this.Cs(t,v,f,_.readTime)?this.ys(e,ev(t,null,"F")):this.vs(e,v,t,_)}))))})))))}ws(e,t,r,a){return MS(t)||a.isEqual(Qe.min())?be.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(t,u);return this.Cs(t,f,r,a)?be.resolve(null):(pc()<=gt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),gc(t)),this.vs(e,f,t,M4(a,ff)).next((p=>p)))}))}Ds(e,t){let r=new Dn(UC(e));return t.forEach(((a,u)=>{zp(e,u)&&(r=r.add(u))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(e,t,r){return pc()<=gt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",gc(t)),this.ps.getDocumentsMatchingQuery(e,t,rl.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((u=>(t.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LocalStore",d3=3e8;class m3{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new cn(_t),this.xs=new Su((u=>n0(u)),i0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function p3(n,e,t,r){return new m3(n,e,t,r)}async function cR(n,e){const t=Je(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((u=>(a=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],p=[];let _=yt();for(const v of a){f.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}for(const v of u){p.push(v.batchId);for(const E of v.mutations)_=_.add(E.key)}return t.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:p})))}))}))}function g3(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,E){const A=v.batch,I=A.keys();let M=be.resolve();return I.forEach((V=>{M=M.next((()=>E.getEntry(_,V))).next((F=>{const j=v.docVersions.get(V);Mt(j!==null,48541),F.version.compareTo(j)<0&&(A.applyToRemoteDocument(F,v),F.isValidDocument()&&(F.setReadTime(v.commitVersion),E.addEntry(F)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(_,A)))})(t,r,e,u).next((()=>u.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=yt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function hR(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function _3(n,e){const t=Je(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const p=[];e.targetChanges.forEach(((E,A)=>{const I=a.get(A);if(!I)return;p.push(t.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(u,E.addedDocuments,A))));let M=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?M=M.withResumeToken(Jn.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,r)),a=a.insert(A,M),(function(F,j,le){return F.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=d3?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(I,M,E)&&p.push(t.Pi.updateTargetData(u,M))}));let _=no(),v=yt();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(y3(u,f,e.documentUpdates).next((E=>{_=E.ks,v=E.qs}))),!r.isEqual(Qe.min())){const E=t.Pi.getLastRemoteSnapshotVersion(u).next((A=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(E)}return be.waitFor(p).next((()=>f.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,_,v))).next((()=>_))})).then((u=>(t.Ms=a,u)))}function y3(n,e,t){let r=yt(),a=yt();return t.forEach((u=>r=r.add(u))),e.getEntries(n,r).next((u=>{let f=no();return t.forEach(((p,_)=>{const v=u.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(p)),_.isNoDocument()&&_.version.isEqual(Qe.min())?(e.removeEntry(p,_.readTime),f=f.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),f=f.insert(p,_)):Le(d0,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:f,qs:a}}))}function v3(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Jv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function b3(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((u=>u?(a=u,be.resolve(a)):t.Pi.allocateTargetId(r).next((f=>(a=new Xo(e,f,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function sv(n,e,t){const r=Je(n),a=r.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Qc(f))throw f;Le(d0,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function WS(n,e,t){const r=Je(n);let a=Qe.min(),u=yt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,v,E){const A=Je(_),I=A.xs.get(E);return I!==void 0?be.resolve(A.Ms.get(I)):A.Pi.getTargetData(v,E)})(r,f,aa(e)).next((p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,p.targetId).next((_=>{u=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,t?a:Qe.min(),t?u:yt()))).next((p=>(w3(r,aV(e),p),{documents:p,Qs:u})))))}function w3(n,e,t){let r=n.Os.get(e)||Qe.min();t.forEach(((a,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(e,r)}class KS{constructor(){this.activeTargetIds=fV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E3{constructor(){this.Mo=new KS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new KS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="ConnectivityMonitor";class $S{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Le(YS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Le(YS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rm=null;function av(){return rm===null?rm=(function(){return 268435456+Math.round(2147483648*Math.random())})():rm++,"0x"+rm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="RestConnection",S3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Zm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,u){const f=av(),p=this.zo(e,t.toUriEncodedString());Le(fy,`Sending RPC '${e}' ${f}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,a,u);const{host:v}=new URL(p),E=Zc(v);return this.Jo(e,p,_,r,E).then((A=>(Le(fy,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw Pc(fy,`RPC '${e}' ${f} failed with error: `,A,"url: ",p,"request:",r),A}))}Ho(e,t,r,a,u,f){return this.Go(e,t,r,a,u)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,u)=>e[u]=a)),r&&r.headers.forEach(((a,u)=>e[u]=a))}zo(e,t){const r=S3[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="WebChannelConnection";class C3 extends x3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,u){const f=av();return new Promise(((p,_)=>{const v=new mC;v.setWithCredentials(!0),v.listenOnce(pC.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ym.NO_ERROR:const A=v.getResponseJson();Le(li,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),p(A);break;case ym.TIMEOUT:Le(li,`RPC '${e}' ${f} timed out`),_(new Ne(ye.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const I=v.getStatus();if(Le(li,`RPC '${e}' ${f} failed with status:`,I,"response text:",v.getResponseText()),I>0){let M=v.getResponseJson();Array.isArray(M)&&(M=M[0]);const V=M==null?void 0:M.error;if(V&&V.status&&V.message){const F=(function(le){const Ee=le.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Ee)>=0?Ee:ye.UNKNOWN})(V.status);_(new Ne(F,V.message))}else _(new Ne(ye.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new Ne(ye.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Le(li,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(a);Le(li,`RPC '${e}' ${f} sending request:`,a),v.send(t,"POST",E,r,15)}))}T_(e,t,r){const a=av(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=yC(),p=_C(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const E=u.join("");Le(li,`Creating RPC '${e}' stream ${a}: ${E}`,_);const A=f.createWebChannel(E,_);this.I_(A);let I=!1,M=!1;const V=new A3({Yo:j=>{M?Le(li,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(I||(Le(li,`Opening RPC '${e}' stream ${a} transport.`),A.open(),I=!0),Le(li,`RPC '${e}' stream ${a} sending:`,j),A.send(j))},Zo:()=>A.close()}),F=(j,le,Ee)=>{j.listen(le,(ae=>{try{Ee(ae)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return F(A,Wh.EventType.OPEN,(()=>{M||(Le(li,`RPC '${e}' stream ${a} transport opened.`),V.o_())})),F(A,Wh.EventType.CLOSE,(()=>{M||(M=!0,Le(li,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(A))})),F(A,Wh.EventType.ERROR,(j=>{M||(M=!0,Pc(li,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),V.a_(new Ne(ye.UNAVAILABLE,"The operation could not be completed")))})),F(A,Wh.EventType.MESSAGE,(j=>{var le;if(!M){const Ee=j.data[0];Mt(!!Ee,16349);const ae=Ee,Se=(ae==null?void 0:ae.error)||((le=ae[0])==null?void 0:le.error);if(Se){Le(li,`RPC '${e}' stream ${a} received error:`,Se);const fe=Se.status;let Te=(function(z){const W=Nn[z];if(W!==void 0)return XC(W)})(fe),k=Se.message;Te===void 0&&(Te=ye.INTERNAL,k="Unknown error status: "+fe+" with message "+Se.message),M=!0,V.a_(new Ne(Te,k)),A.close()}else Le(li,`RPC '${e}' stream ${a} received:`,Ee),V.u_(Ee)}})),F(p,gC.STAT_EVENT,(j=>{j.stat===Wy.PROXY?Le(li,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Wy.NOPROXY&&Le(li,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function dy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(n){return new NV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t,r=1e3,a=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Le("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="PersistentStream";class dR{constructor(e,t,r,a,u,f,p,_){this.Mi=e,this.S_=r,this.b_=a,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(to(t.toString()),to("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ne(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(QS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Le(QS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R3 extends dR{constructor(e,t,r,a,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,f),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=MV(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Qe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Qe.min():f.readTime?oa(f.readTime):Qe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=rv(this.serializer),t.addTarget=(function(u,f){let p;const _=f.target;if(p=Xy(_)?{documents:jV(u,_)}:{query:VV(u,_).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=tR(u,f.resumeToken);const v=tv(u,f.expectedCount);v!==null&&(p.expectedCount=v)}else if(f.snapshotVersion.compareTo(Qe.min())>0){p.readTime=Xm(u,f.snapshotVersion.toTimestamp());const v=tv(u,f.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,e);const r=BV(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=rv(this.serializer),t.removeTarget=e,this.q_(t)}}class I3 extends dR{constructor(e,t,r,a,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=DV(e.writeResults,e.commitTime),r=oa(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=rv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>kV(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{}class N3 extends O3{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,nv(t,r),a,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(ye.UNKNOWN,u.toString())}))}Ho(e,t,r,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,nv(t,r),a,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ne(ye.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class P3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(to(t),this.aa=!1):Le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="RemoteStore";class L3{constructor(e,t,r,a,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{xu(this)&&(Le(mu,"Restarting streams for network reachability change."),await(async function(_){const v=Je(_);v.Ea.add(4),await Bf(v),v.Ra.set("Unknown"),v.Ea.delete(4),await qp(v)})(this))}))})),this.Ra=new P3(r,a)}}async function qp(n){if(xu(n))for(const e of n.da)await e(!0)}async function Bf(n){for(const e of n.da)await e(!1)}function mR(n,e){const t=Je(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_0(t)?g0(t):Xc(t).O_()&&p0(t,e))}function m0(n,e){const t=Je(n),r=Xc(t);t.Ia.delete(e),r.O_()&&pR(t,e),t.Ia.size===0&&(r.O_()?r.L_():xu(t)&&t.Ra.set("Unknown"))}function p0(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xc(n).Y_(e)}function pR(n,e){n.Va.Ue(e),Xc(n).Z_(e)}function g0(n){n.Va=new CV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Xc(n).start(),n.Ra.ua()}function _0(n){return xu(n)&&!Xc(n).x_()&&n.Ia.size>0}function xu(n){return Je(n).Ea.size===0}function gR(n){n.Va=void 0}async function M3(n){n.Ra.set("Online")}async function k3(n){n.Ia.forEach(((e,t)=>{p0(n,e)}))}async function D3(n,e){gR(n),_0(n)?(n.Ra.ha(e),g0(n)):n.Ra.set("Unknown")}async function j3(n,e,t){if(n.Ra.set("Online"),e instanceof eR&&e.state===2&&e.cause)try{await(async function(a,u){const f=u.cause;for(const p of u.targetIds)a.Ia.has(p)&&(await a.remoteSyncer.rejectListen(p,f),a.Ia.delete(p),a.Va.removeTarget(p))})(n,e)}catch(r){Le(mu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ep(n,r)}else if(e instanceof Em?n.Va.Ze(e):e instanceof JC?n.Va.st(e):n.Va.tt(e),!t.isEqual(Qe.min()))try{const r=await hR(n.localStore);t.compareTo(r)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const E=u.Ia.get(v);E&&u.Ia.set(v,E.withResumeToken(_.resumeToken,f))}})),p.targetMismatches.forEach(((_,v)=>{const E=u.Ia.get(_);if(!E)return;u.Ia.set(_,E.withResumeToken(Jn.EMPTY_BYTE_STRING,E.snapshotVersion)),pR(u,_);const A=new Xo(E.target,_,v,E.sequenceNumber);p0(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(r){Le(mu,"Failed to raise snapshot:",r),await ep(n,r)}}async function ep(n,e,t){if(!Qc(e))throw e;n.Ea.add(1),await Bf(n),n.Ra.set("Offline"),t||(t=()=>hR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Le(mu,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await qp(n)}))}function _R(n,e){return e().catch((t=>ep(n,t,e)))}async function Gp(n){const e=Je(n),t=ll(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jv;for(;V3(e);)try{const a=await v3(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,z3(e,a)}catch(a){await ep(e,a)}yR(e)&&vR(e)}function V3(n){return xu(n)&&n.Ta.length<10}function z3(n,e){n.Ta.push(e);const t=ll(n);t.O_()&&t.X_&&t.ea(e.mutations)}function yR(n){return xu(n)&&!ll(n).x_()&&n.Ta.length>0}function vR(n){ll(n).start()}async function B3(n){ll(n).ra()}async function U3(n){const e=ll(n);for(const t of n.Ta)e.ea(t.mutations)}async function F3(n,e,t){const r=n.Ta.shift(),a=o0.from(r,e,t);await _R(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Gp(n)}async function H3(n,e){e&&ll(n).X_&&await(async function(r,a){if((function(f){return SV(f)&&f!==ye.ABORTED})(a.code)){const u=r.Ta.shift();ll(r).B_(),await _R(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,a))),await Gp(r)}})(n,e),yR(n)&&vR(n)}async function XS(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),Le(mu,"RemoteStore received new credentials");const r=xu(t);t.Ea.add(3),await Bf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await qp(t)}async function q3(n,e){const t=Je(n);e?(t.Ea.delete(2),await qp(t)):e||(t.Ea.add(2),await Bf(t),t.Ra.set("Unknown"))}function Xc(n){return n.ma||(n.ma=(function(t,r,a){const u=Je(t);return u.sa(),new R3(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(n.datastore,n.asyncQueue,{Xo:M3.bind(null,n),t_:k3.bind(null,n),r_:D3.bind(null,n),H_:j3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),_0(n)?g0(n):n.Ra.set("Unknown")):(await n.ma.stop(),gR(n))}))),n.ma}function ll(n){return n.fa||(n.fa=(function(t,r,a){const u=Je(t);return u.sa(),new I3(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:B3.bind(null,n),r_:H3.bind(null,n),ta:U3.bind(null,n),na:F3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Gp(n)):(await n.fa.stop(),n.Ta.length>0&&(Le(mu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t,r,a,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=u,this.deferred=new Ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,u){const f=Date.now()+r,p=new y0(e,t,f,a,u);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v0(n,e){if(to("AsyncQueue",`${e}: ${n}`),Qc(n))return new Ne(ye.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{static emptySet(e){return new xc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Be.comparator(t.key,r.key):(t,r)=>Be.comparator(t.key,r.key),this.keyedMap=Kh(),this.sortedSet=new cn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,u=r.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.ga=new cn(Be.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ge(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class jc{constructor(e,t,r,a,u,f,p,_,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,a,u){const f=[];return t.forEach((p=>{f.push({type:0,doc:p})})),new jc(e,t,xc.emptySet(t),f,r,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Z3{constructor(){this.queries=e1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Je(t),u=a.queries;a.queries=e1(),u.forEach(((f,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new Ne(ye.ABORTED,"Firestore shutting down"))}}function e1(){return new Su((n=>BC(n)),Vp)}async function bR(n,e){const t=Je(n);let r=3;const a=e.query;let u=t.queries.get(a);u?!u.ba()&&e.Da()&&(r=2):(u=new G3,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await t.onListen(a,!0);break;case 1:u.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(f){const p=v0(f,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(p)}t.queries.set(a,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&b0(t)}async function wR(n,e){const t=Je(n),r=e.query;let a=3;const u=t.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?a=e.Da()?0:1:!u.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function W3(n,e){const t=Je(n);let r=!1;for(const a of e){const u=a.query,f=t.queries.get(u);if(f){for(const p of f.Sa)p.Fa(a)&&(r=!0);f.wa=a}}r&&b0(t)}function K3(n,e,t){const r=Je(n),a=r.queries.get(e);if(a)for(const u of a.Sa)u.onError(t);r.queries.delete(e)}function b0(n){n.Ca.forEach((e=>{e.next()}))}var ov,t1;(t1=ov||(ov={})).Ma="default",t1.Cache="cache";class ER{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new jc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ov.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.key=e}}class SR{constructor(e){this.key=e}}class Y3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=yt(),this.mutatedKeys=yt(),this.eu=UC(e),this.tu=new xc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new JS,a=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,f=a,p=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((E,A)=>{const I=a.get(E),M=zp(this.query,A)?A:null,V=!!I&&this.mutatedKeys.has(I.key),F=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;I&&M?I.data.isEqual(M.data)?V!==F&&(r.track({type:3,doc:M}),j=!0):this.su(I,M)||(r.track({type:2,doc:M}),j=!0,(_&&this.eu(M,_)>0||v&&this.eu(M,v)<0)&&(p=!0)):!I&&M?(r.track({type:0,doc:M}),j=!0):I&&!M&&(r.track({type:1,doc:I}),j=!0,(_||v)&&(p=!0)),j&&(M?(f=f.add(M),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:p,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,A)=>(function(M,V){const F=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Rt:j})}};return F(M)-F(V)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(r),a=a??!1;const p=t&&!a?this._u():[],_=this.Xa.size===0&&this.current&&!a?1:0,v=_!==this.Za;return this.Za=_,f.length!==0||v?{snapshot:new jc(this.query,e.tu,u,f,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=yt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new SR(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new TR(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=yt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const w0="SyncEngine";class $3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Q3{constructor(e){this.key=e,this.hu=!1}}class X3{constructor(e,t,r,a,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Su((p=>BC(p)),Vp),this.Iu=new Map,this.Eu=new Set,this.du=new cn(Be.comparator),this.Au=new Map,this.Ru=new c0,this.Vu={},this.mu=new Map,this.fu=Dc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J3(n,e,t=!0){const r=OR(n);let a;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.lu()):a=await xR(r,e,t,!0),a}async function e6(n,e){const t=OR(n);await xR(t,e,!0,!1)}async function xR(n,e,t,r){const a=await b3(n.localStore,aa(e)),u=a.targetId,f=n.sharedClientState.addLocalQueryTarget(u,t);let p;return r&&(p=await t6(n,e,u,f==="current",a.resumeToken)),n.isPrimaryClient&&t&&mR(n.remoteStore,a),p}async function t6(n,e,t,r,a){n.pu=(A,I,M)=>(async function(F,j,le,Ee){let ae=j.view.ru(le);ae.Cs&&(ae=await WS(F.localStore,j.query,!1).then((({documents:k})=>j.view.ru(k,ae))));const Se=Ee&&Ee.targetChanges.get(j.targetId),fe=Ee&&Ee.targetMismatches.get(j.targetId)!=null,Te=j.view.applyChanges(ae,F.isPrimaryClient,Se,fe);return i1(F,j.targetId,Te.au),Te.snapshot})(n,A,I,M);const u=await WS(n.localStore,e,!0),f=new Y3(e,u.Qs),p=f.ru(u.documents),_=zf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),v=f.applyChanges(p,n.isPrimaryClient,_);i1(n,t,v.au);const E=new $3(e,t,f);return n.Tu.set(e,E),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function n6(n,e,t){const r=Je(n),a=r.Tu.get(e),u=r.Iu.get(a.targetId);if(u.length>1)return r.Iu.set(a.targetId,u.filter((f=>!Vp(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await sv(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&m0(r.remoteStore,a.targetId),lv(r,a.targetId)})).catch($c)):(lv(r,a.targetId),await sv(r.localStore,a.targetId,!0))}async function i6(n,e){const t=Je(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),m0(t.remoteStore,r.targetId))}async function r6(n,e,t){const r=h6(n);try{const a=await(function(f,p){const _=Je(f),v=Jt.now(),E=p.reduce(((M,V)=>M.add(V.key)),yt());let A,I;return _.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let V=no(),F=yt();return _.Ns.getEntries(M,E).next((j=>{V=j,V.forEach(((le,Ee)=>{Ee.isValidDocument()||(F=F.add(le))}))})).next((()=>_.localDocuments.getOverlayedDocuments(M,V))).next((j=>{A=j;const le=[];for(const Ee of p){const ae=vV(Ee,A.get(Ee.key).overlayedDocument);ae!=null&&le.push(new ml(Ee.key,ae,PC(ae.value.mapValue),Wr.exists(!0)))}return _.mutationQueue.addMutationBatch(M,v,le,p)})).next((j=>{I=j;const le=j.applyToLocalDocumentSet(A,F);return _.documentOverlayCache.saveOverlays(M,j.batchId,le)}))})).then((()=>({batchId:I.batchId,changes:HC(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(f,p,_){let v=f.Vu[f.currentUser.toKey()];v||(v=new cn(_t)),v=v.insert(p,_),f.Vu[f.currentUser.toKey()]=v})(r,a.batchId,t),await Uf(r,a.changes),await Gp(r.remoteStore)}catch(a){const u=v0(a,"Failed to persist write");t.reject(u)}}async function AR(n,e){const t=Je(n);try{const r=await _3(t.localStore,e);e.targetChanges.forEach(((a,u)=>{const f=t.Au.get(u);f&&(Mt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?f.hu=!0:a.modifiedDocuments.size>0?Mt(f.hu,14607):a.removedDocuments.size>0&&(Mt(f.hu,42227),f.hu=!1))})),await Uf(t,r,e)}catch(r){await $c(r)}}function n1(n,e,t){const r=Je(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&a.push(p.snapshot)})),(function(f,p){const _=Je(f);_.onlineState=p;let v=!1;_.queries.forEach(((E,A)=>{for(const I of A.Sa)I.va(p)&&(v=!0)})),v&&b0(_)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function s6(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),u=a&&a.key;if(u){let f=new cn(Be.comparator);f=f.insert(u,ci.newNoDocument(u,Qe.min()));const p=yt().add(u),_=new Fp(Qe.min(),new Map,new cn(_t),f,p);await AR(r,_),r.du=r.du.remove(u),r.Au.delete(e),E0(r)}else await sv(r.localStore,e,!1).then((()=>lv(r,e,t))).catch($c)}async function a6(n,e){const t=Je(n),r=e.batch.batchId;try{const a=await g3(t.localStore,e);RR(t,r,null),CR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Uf(t,a)}catch(a){await $c(a)}}async function o6(n,e,t){const r=Je(n);try{const a=await(function(f,p){const _=Je(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let E;return _.mutationQueue.lookupMutationBatch(v,p).next((A=>(Mt(A!==null,37113),E=A.keys(),_.mutationQueue.removeMutationBatch(v,A)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,E,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,E))).next((()=>_.localDocuments.getDocuments(v,E)))}))})(r.localStore,e);RR(r,e,t),CR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Uf(r,a)}catch(a){await $c(a)}}function CR(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function RR(n,e,t){const r=Je(n);let a=r.Vu[r.currentUser.toKey()];if(a){const u=a.get(e);u&&(t?u.reject(t):u.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function lv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||IR(n,r)}))}function IR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(m0(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),E0(n))}function i1(n,e,t){for(const r of t)r instanceof TR?(n.Ru.addReference(r.key,e),l6(n,r)):r instanceof SR?(Le(w0,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||IR(n,r.key)):Ge(19791,{wu:r})}function l6(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Le(w0,"New document in limbo: "+t),n.Eu.add(r),E0(n))}function E0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Be(Wt.fromString(e)),r=n.fu.next();n.Au.set(r,new Q3(t)),n.du=n.du.insert(t,r),mR(n.remoteStore,new Xo(aa(r0(t.path)),r,"TargetPurposeLimboResolution",kp.ce))}}async function Uf(n,e,t){const r=Je(n),a=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{f.push(r.pu(_,e,t).then((v=>{var E;if((v||t)&&r.isPrimaryClient){const A=v?!v.fromCache:(E=t==null?void 0:t.targetChanges.get(_.targetId))==null?void 0:E.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){a.push(v);const A=f0.As(_.targetId,v);u.push(A)}})))})),await Promise.all(f),r.Pu.H_(a),await(async function(_,v){const E=Je(_);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>be.forEach(v,(I=>be.forEach(I.Es,(M=>E.persistence.referenceDelegate.addReference(A,I.targetId,M))).next((()=>be.forEach(I.ds,(M=>E.persistence.referenceDelegate.removeReference(A,I.targetId,M)))))))))}catch(A){if(!Qc(A))throw A;Le(d0,"Failed to update sequence numbers: "+A)}for(const A of v){const I=A.targetId;if(!A.fromCache){const M=E.Ms.get(I),V=M.snapshotVersion,F=M.withLastLimboFreeSnapshotVersion(V);E.Ms=E.Ms.insert(I,F)}}})(r.localStore,u))}async function u6(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){Le(w0,"User change. New user:",e.toKey());const r=await cR(t.localStore,e);t.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new Ne(ye.CANCELLED,f))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uf(t,r.Ls)}}function c6(n,e){const t=Je(n),r=t.Au.get(e);if(r&&r.hu)return yt().add(r.key);{let a=yt();const u=t.Iu.get(e);if(!u)return a;for(const f of u){const p=t.Tu.get(f);a=a.unionWith(p.view.nu)}return a}}function OR(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s6.bind(null,e),e.Pu.H_=W3.bind(null,e.eventManager),e.Pu.yu=K3.bind(null,e.eventManager),e}function h6(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o6.bind(null,e),e}class tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return p3(this.persistence,new f3,e.initialUser,this.serializer)}Cu(e){return new uR(h0.mi,this.serializer)}Du(e){return new E3}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tp.provider={build:()=>new tp};class f6 extends tp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Mt(this.persistence.referenceDelegate instanceof Jm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QV(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Fi.withCacheSize(this.cacheSizeBytes):Fi.DEFAULT;return new uR((r=>Jm.mi(r,t)),this.serializer)}}class uv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=u6.bind(null,this.syncEngine),await q3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Z3})()}createDatastore(e){const t=Hp(e.databaseInfo.databaseId),r=(function(u){return new C3(u)})(e.databaseInfo);return(function(u,f,p,_){return new N3(u,f,p,_)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,u,f,p){return new L3(r,a,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>n1(this.syncEngine,t,0)),(function(){return $S.v()?new $S:new T3})())}createSyncEngine(e,t){return(function(a,u,f,p,_,v,E){const A=new X3(a,u,f,p,_,v);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const u=Je(a);Le(mu,"RemoteStore shutting down."),u.Ea.add(5),await Bf(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}uv.provider={build:()=>new uv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):to("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="FirestoreClient";class d6{constructor(e,t,r,a,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=ui.UNAUTHENTICATED,this.clientId=Xv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{Le(ul,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(Le(ul,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=v0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function my(n,e){n.asyncQueue.verifyOperationInProgress(),Le(ul,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await cR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function r1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await m6(n);Le(ul,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>XS(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>XS(e.remoteStore,a))),n._onlineComponents=e}async function m6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le(ul,"Using user provided OfflineComponentProvider");try{await my(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ye.FAILED_PRECONDITION||a.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Pc("Error using user provided cache. Falling back to memory cache: "+t),await my(n,new tp)}}else Le(ul,"Using default OfflineComponentProvider"),await my(n,new f6(void 0));return n._offlineComponents}async function PR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le(ul,"Using user provided OnlineComponentProvider"),await r1(n,n._uninitializedComponentsProvider._online)):(Le(ul,"Using default OnlineComponentProvider"),await r1(n,new uv))),n._onlineComponents}function p6(n){return PR(n).then((e=>e.syncEngine))}async function LR(n){const e=await PR(n),t=e.eventManager;return t.onListen=J3.bind(null,e.syncEngine),t.onUnlisten=n6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=e6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=i6.bind(null,e.syncEngine),t}function g6(n,e,t={}){const r=new Ka;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,v){const E=new NR({next:I=>{E.Nu(),f.enqueueAndForget((()=>wR(u,A)));const M=I.docs.has(p);!M&&I.fromCache?v.reject(new Ne(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&_&&_.source==="server"?v.reject(new Ne(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),A=new ER(r0(p.path),E,{includeMetadataChanges:!0,qa:!0});return bR(u,A)})(await LR(n),n.asyncQueue,e,t,r))),r.promise}function _6(n,e,t={}){const r=new Ka;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,_,v){const E=new NR({next:I=>{E.Nu(),f.enqueueAndForget((()=>wR(u,A))),I.fromCache&&_.source==="server"?v.reject(new Ne(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),A=new ER(p,E,{includeMetadataChanges:!0,qa:!0});return bR(u,A)})(await LR(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firestore.googleapis.com",a1=!0;class o1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kR,this.ssl=a1}else this.host=e.host,this.ssl=e.ssl??a1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YV)throw new Ne(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zp{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new T4;switch(r.type){case"firstParty":return new C4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=s1.get(t);r&&(Le("ComponentProvider","Removing Datastore"),s1.delete(t),r.terminate())})(this),Promise.resolve()}}function y6(n,e,t,r={}){var v;n=xs(n,Zp);const a=Zc(e),u=n._getSettings(),f={...u,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;a&&(wA(`https://${p}`),EA("Firestore",!0)),u.host!==kR&&u.host!==p&&Pc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:a,emulatorOptions:r};if(!il(_,f)&&(n._setSettings(_),r.mockUserToken)){let E,A;if(typeof r.mockUserToken=="string")E=r.mockUserToken,A=ui.MOCK_USER;else{E=Ik(r.mockUserToken,(v=n._app)==null?void 0:v.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Ne(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ui(I)}n._authCredentials=new S4(new bC(E,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jc(this.firestore,e,this._query)}}class En{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}toJSON(){return{type:En._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Df(t,En._jsonSchema))return new En(e,r||null,new Be(Wt.fromString(t.referencePath)))}}En._jsonSchemaVersion="firestore/documentReference/1.0",En._jsonSchema={type:Ln("string",En._jsonSchemaVersion),referencePath:Ln("string")};class nl extends Jc{constructor(e,t,r){super(e,t,r0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new Be(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function tu(n,e,...t){if(n=un(n),wC("collection","path",e),n instanceof Zp){const r=Wt.fromString(e,...t);return bS(r),new nl(n,null,r)}{if(!(n instanceof En||n instanceof nl))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return bS(r),new nl(n.firestore,null,r)}}function qa(n,e,...t){if(n=un(n),arguments.length===1&&(e=Xv.newId()),wC("doc","path",e),n instanceof Zp){const r=Wt.fromString(e,...t);return vS(r),new En(n,null,new Be(r))}{if(!(n instanceof En||n instanceof nl))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return vS(r),new En(n.firestore,n instanceof nl?n.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="AsyncQueue";class u1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fR(this,"async_queue_retry"),this._c=()=>{const r=dy();r&&Le(l1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=dy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ka;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qc(e))throw e;Le(l1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,to("INTERNAL UNHANDLED ERROR: ",c1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=y0.createAndSchedule(this,e,t,r,(u=>this.hc(u)));return this.tc.push(a),a}uc(){this.nc&&Ge(47125,{Pc:c1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function c1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Au extends Zp{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new u1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u1(e),this._firestoreClient=void 0,await e}}}function v6(n,e){const t=typeof n=="object"?n:Bv(),r=typeof n=="string"?n:Zm,a=Tu(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const u=Ck("firestore");u&&y6(a,...u)}return a}function T0(n){if(n._terminated)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||b6(n),n._firestoreClient}function b6(n){var r,a,u;const e=n._freezeSettings(),t=(function(p,_,v,E){return new q4(p,_,v,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,MR(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new d6(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(p){const _=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(_),_online:_}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(Jn.fromBase64String(e))}catch(t){throw new Ne(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hr(Jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Df(e,Hr._jsonSchema))return Hr.fromBase64String(e.bytes)}}Hr._jsonSchemaVersion="firestore/bytes/1.0",Hr._jsonSchema={type:Ln("string",Hr._jsonSchemaVersion),bytes:Ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:la._jsonSchemaVersion}}static fromJSON(e){if(Df(e,la._jsonSchema))return new la(e.latitude,e.longitude)}}la._jsonSchemaVersion="firestore/geoPoint/1.0",la._jsonSchema={type:Ln("string",la._jsonSchemaVersion),latitude:Ln("number"),longitude:Ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==a[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Df(e,ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ua(e.vectorValues);throw new Ne(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ua._jsonSchemaVersion="firestore/vectorValue/1.0",ua._jsonSchema={type:Ln("string",ua._jsonSchemaVersion),vectorValues:Ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=/^__.*__$/;class E6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ml(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vf(e,this.data,t,this.fieldTransforms)}}class DR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ml(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{Ac:n})}}class x0{constructor(e,t,r,a,u,f){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new x0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return np(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jR(this.Ac)&&w6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class T6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hp(e)}Cc(e,t,r,a=!1){return new x0({Ac:e,methodName:t,Dc:r,path:Qn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kp(n){const e=n._freezeSettings(),t=Hp(n._databaseId);return new T6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VR(n,e,t,r,a,u={}){const f=n.Cc(u.merge||u.mergeFields?2:0,e,t,a);A0("Data must be an object, but it was:",f,r);const p=zR(r,f);let _,v;if(u.merge)_=new pr(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const I=cv(e,A,t);if(!f.contains(I))throw new Ne(ye.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);UR(E,I)||E.push(I)}_=new pr(E),v=f.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,v=f.fieldTransforms;return new E6(new qi(p),_,v)}class Yp extends S0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yp}}function S6(n,e,t,r){const a=n.Cc(1,e,t);A0("Data must be an object, but it was:",a,r);const u=[],f=qi.empty();dl(r,((_,v)=>{const E=C0(e,_,t);v=un(v);const A=a.yc(E);if(v instanceof Yp)u.push(E);else{const I=Ff(v,A);I!=null&&(u.push(E),f.set(E,I))}}));const p=new pr(u);return new DR(f,p,a.fieldTransforms)}function x6(n,e,t,r,a,u){const f=n.Cc(1,e,t),p=[cv(e,r,t)],_=[a];if(u.length%2!=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)p.push(cv(e,u[I])),_.push(u[I+1]);const v=[],E=qi.empty();for(let I=p.length-1;I>=0;--I)if(!UR(v,p[I])){const M=p[I];let V=_[I];V=un(V);const F=f.yc(M);if(V instanceof Yp)v.push(M);else{const j=Ff(V,F);j!=null&&(v.push(M),E.set(M,j))}}const A=new pr(v);return new DR(E,A,f.fieldTransforms)}function A6(n,e,t,r=!1){return Ff(t,n.Cc(r?4:3,e))}function Ff(n,e){if(BR(n=un(n)))return A0("Unsupported field value:",e,n),zR(n,e);if(n instanceof S0)return(function(r,a){if(!jR(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const u=[];let f=0;for(const p of r){let _=Ff(p,a.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(n,e)}return(function(r,a){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dV(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Jt.fromDate(r);return{timestampValue:Xm(a.serializer,u)}}if(r instanceof Jt){const u=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xm(a.serializer,u)}}if(r instanceof la)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hr)return{bytesValue:tR(a.serializer,r._byteString)};if(r instanceof En){const u=a.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw a.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:u0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ua)return(function(f,p){return{mapValue:{fields:{[OC]:{stringValue:NC},[Wm]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return s0(p.serializer,v)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Mp(r)}`)})(n,e)}function zR(n,e){const t={};return SC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dl(n,((r,a)=>{const u=Ff(a,e.mc(r));u!=null&&(t[r]=u)})),{mapValue:{fields:t}}}function BR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof la||n instanceof Hr||n instanceof En||n instanceof S0||n instanceof ua)}function A0(n,e,t){if(!BR(t)||!EC(t)){const r=Mp(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function cv(n,e,t){if((e=un(e))instanceof Wp)return e._internalPath;if(typeof e=="string")return C0(n,e);throw np("Field path arguments must be of type string or ",n,!1,void 0,t)}const C6=new RegExp("[~\\*/\\[\\]]");function C0(n,e,t){if(e.search(C6)>=0)throw np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wp(...e.split("."))._internalPath}catch{throw np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function np(n,e,t,r,a){const u=r&&!r.isEmpty(),f=a!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${r}`),f&&(_+=` in document ${a}`),_+=")"),new Ne(ye.INVALID_ARGUMENT,p+n+_)}function UR(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,r,a,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(R0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class R6 extends FR{data(){return super.data()}}function R0(n,e){return typeof e=="string"?C0(n,e):e instanceof Wp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ne(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class O6 extends I0{}function N6(n,e,...t){let r=[];e instanceof I0&&r.push(e),r=r.concat(t),(function(u){const f=u.filter((_=>_ instanceof O0)).length,p=u.filter((_=>_ instanceof $p)).length;if(f>1||f>0&&p>0)throw new Ne(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class $p extends O6{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new $p(e,t,r)}_apply(e){const t=this._parse(e);return HR(e._query,t),new Jc(e.firestore,e.converter,Jy(e._query,t))}_parse(e){const t=Kp(e.firestore);return(function(u,f,p,_,v,E,A){let I;if(v.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){f1(A,E);const V=[];for(const F of A)V.push(h1(_,u,F));I={arrayValue:{values:V}}}else I=h1(_,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||f1(A,E),I=A6(p,f,A,E==="in"||E==="not-in");return Pn.create(v,E,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function P6(n,e,t){const r=e,a=R0("where",n);return $p._create(a,r,t)}class O0 extends I0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new O0(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:As.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,u){let f=a;const p=u.getFlattenedFilters();for(const _ of p)HR(f,_),f=Jy(f,_)})(e._query,t),new Jc(e.firestore,e.converter,Jy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function h1(n,e,t){if(typeof(t=un(t))=="string"){if(t==="")throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zC(e)&&t.indexOf("/")!==-1)throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!Be.isDocumentKey(r))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RS(n,new Be(r))}if(t instanceof En)return RS(n,t._key);throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mp(t)}.`)}function f1(n,e){if(!Array.isArray(n)||n.length===0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HR(n,e){const t=(function(a,u){for(const f of a)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ne(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class L6{convertValue(e,t="none"){switch(ol(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return dl(e,((a,u)=>{r[a]=this.convertValue(u,t)})),r}convertVectorValue(e){var r,a,u;const t=(u=(a=(r=e.fields)==null?void 0:r[Wm].arrayValue)==null?void 0:a.values)==null?void 0:u.map((f=>wn(f.doubleValue)));return new ua(t)}convertGeoPoint(e){return new la(wn(e.latitude),wn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=jp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(df(e));default:return null}}convertTimestamp(e){const t=sl(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);Mt(oR(r),9688,{name:e});const a=new mf(r.get(1),r.get(3)),u=new Be(r.popFirst(5));return a.isEqual(t)||to(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class $h{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class au extends FR{constructor(e,t,r,a,u,f){super(e,t,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(R0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=au._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}au._jsonSchemaVersion="firestore/documentSnapshot/1.0",au._jsonSchema={type:Ln("string",au._jsonSchemaVersion),bundleSource:Ln("string","DocumentSnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class Tm extends au{data(e={}){return super.data(e)}}class Ac{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new $h(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Tm(this._firestore,this._userDataWriter,r.key,r,new $h(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map((p=>{const _=new Tm(a._firestore,a._userDataWriter,p.doc.key,p.doc,new $h(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Tm(a._firestore,a._userDataWriter,p.doc.key,p.doc,new $h(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,E=-1;return p.type!==0&&(v=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:M6(p.type),doc:_,oldIndex:v,newIndex:E}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ac._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function M6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(n){n=xs(n,En);const e=xs(n.firestore,Au);return g6(T0(e),n._key).then((t=>D6(e,n,t)))}Ac._jsonSchemaVersion="firestore/querySnapshot/1.0",Ac._jsonSchema={type:Ln("string",Ac._jsonSchemaVersion),bundleSource:Ln("string","QuerySnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class GR extends L6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function ip(n){n=xs(n,Jc);const e=xs(n.firestore,Au),t=T0(e),r=new GR(e);return I6(n._query),_6(t,n._query).then((a=>new Ac(e,r,n,a)))}function d1(n,e,t){n=xs(n,En);const r=xs(n.firestore,Au),a=qR(n.converter,e,t);return Qp(r,[VR(Kp(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Wr.none())])}function k6(n,e,t,...r){n=xs(n,En);const a=xs(n.firestore,Au),u=Kp(a);let f;return f=typeof(e=un(e))=="string"||e instanceof Wp?x6(u,"updateDoc",n._key,e,t,r):S6(u,"updateDoc",n._key,e),Qp(a,[f.toMutation(n._key,Wr.exists(!0))])}function fv(n){return Qp(xs(n.firestore,Au),[new a0(n._key,Wr.none())])}function dv(n,e){const t=xs(n.firestore,Au),r=qa(n),a=qR(n.converter,e);return Qp(t,[VR(Kp(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then((()=>r))}function Qp(n,e){return(function(r,a){const u=new Ka;return r.asyncQueue.enqueueAndForget((async()=>r6(await p6(r),a,u))),u.promise})(T0(n),e)}function D6(n,e,t){const r=t.docs.get(e._key),a=new GR(n);return new au(n,a,e._key,r,new $h(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Yc=a})(Wc),ca(new Ss("firestore",((r,{instanceIdentifier:a,options:u})=>{const f=r.getProvider("app").getImmediate(),p=new Au(new x4(r.getProvider("auth-internal")),new R4(f,r.getProvider("app-check-internal")),(function(v,E){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Ne(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(v.options.projectId,E)})(f,a),f);return u={useFetchStreams:t,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Zr(pS,gS,e),Zr(pS,gS,"esm2020")})();var j6="firebase",V6="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(j6,V6,"app");const ZR="@firebase/installations",N0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=1e4,KR=`w:${N0}`,YR="FIS_v2",z6="https://firebaseinstallations.googleapis.com/v1",B6=3600*1e3,U6="installations",F6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pu=new Eu(U6,F6,H6);function $R(n){return n instanceof Is&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR({projectId:n}){return`${z6}/projects/${n}/installations`}function XR(n){return{token:n.token,requestStatus:2,expiresIn:G6(n.expiresIn),creationTime:Date.now()}}async function JR(n,e){const r=(await e.json()).error;return pu.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function e2({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function q6(n,{refreshToken:e}){const t=e2(n);return t.append("Authorization",Z6(e)),t}async function t2(n){const e=await n();return e.status>=500&&e.status<600?n():e}function G6(n){return Number(n.replace("s","000"))}function Z6(n){return`${YR} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=QR(n),a=e2(n),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const f={fid:t,authVersion:YR,appId:n.appId,sdkVersion:KR},p={method:"POST",headers:a,body:JSON.stringify(f)},_=await t2(()=>fetch(r,p));if(_.ok){const v=await _.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:XR(v.authToken)}}else throw await JR("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=/^[cdef][\w-]{21}$/,mv="";function $6(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Q6(n);return Y6.test(t)?t:mv}catch{return mv}}function Q6(n){return K6(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new Map;function r2(n,e){const t=Xp(n);s2(t,e),X6(t,e)}function s2(n,e){const t=i2.get(n);if(t)for(const r of t)r(e)}function X6(n,e){const t=J6();t&&t.postMessage({key:n,fid:e}),ez()}let nu=null;function J6(){return!nu&&"BroadcastChannel"in self&&(nu=new BroadcastChannel("[Firebase] FID Change"),nu.onmessage=n=>{s2(n.data.key,n.data.fid)}),nu}function ez(){i2.size===0&&nu&&(nu.close(),nu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz="firebase-installations-database",nz=1,gu="firebase-installations-store";let py=null;function P0(){return py||(py=RA(tz,nz,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(gu)}}})),py}async function rp(n,e){const t=Xp(n),a=(await P0()).transaction(gu,"readwrite"),u=a.objectStore(gu),f=await u.get(t);return await u.put(e,t),await a.done,(!f||f.fid!==e.fid)&&r2(n,e.fid),e}async function a2(n){const e=Xp(n),r=(await P0()).transaction(gu,"readwrite");await r.objectStore(gu).delete(e),await r.done}async function Jp(n,e){const t=Xp(n),a=(await P0()).transaction(gu,"readwrite"),u=a.objectStore(gu),f=await u.get(t),p=e(f);return p===void 0?await u.delete(t):await u.put(p,t),await a.done,p&&(!f||f.fid!==p.fid)&&r2(n,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0(n){let e;const t=await Jp(n.appConfig,r=>{const a=iz(r),u=rz(n,a);return e=u.registrationPromise,u.installationEntry});return t.fid===mv?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function iz(n){const e=n||{fid:$6(),registrationStatus:0};return o2(e)}function rz(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(pu.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=sz(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:az(n)}:{installationEntry:e}}async function sz(n,e){try{const t=await W6(n,e);return rp(n.appConfig,t)}catch(t){throw $R(t)&&t.customData.serverCode===409?await a2(n.appConfig):await rp(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function az(n){let e=await m1(n.appConfig);for(;e.registrationStatus===1;)await n2(100),e=await m1(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await L0(n);return r||t}return e}function m1(n){return Jp(n,e=>{if(!e)throw pu.create("installation-not-found");return o2(e)})}function o2(n){return oz(n)?{fid:n.fid,registrationStatus:0}:n}function oz(n){return n.registrationStatus===1&&n.registrationTime+WR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz({appConfig:n,heartbeatServiceProvider:e},t){const r=uz(n,t),a=q6(n,t),u=e.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const f={installation:{sdkVersion:KR,appId:n.appId}},p={method:"POST",headers:a,body:JSON.stringify(f)},_=await t2(()=>fetch(r,p));if(_.ok){const v=await _.json();return XR(v)}else throw await JR("Generate Auth Token",_)}function uz(n,{fid:e}){return`${QR(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(n,e=!1){let t;const r=await Jp(n.appConfig,u=>{if(!l2(u))throw pu.create("not-registered");const f=u.authToken;if(!e&&fz(f))return u;if(f.requestStatus===1)return t=cz(n,e),u;{if(!navigator.onLine)throw pu.create("app-offline");const p=mz(u);return t=hz(n,p),p}});return t?await t:r.authToken}async function cz(n,e){let t=await p1(n.appConfig);for(;t.authToken.requestStatus===1;)await n2(100),t=await p1(n.appConfig);const r=t.authToken;return r.requestStatus===0?M0(n,e):r}function p1(n){return Jp(n,e=>{if(!l2(e))throw pu.create("not-registered");const t=e.authToken;return pz(t)?{...e,authToken:{requestStatus:0}}:e})}async function hz(n,e){try{const t=await lz(n,e),r={...e,authToken:t};return await rp(n.appConfig,r),t}catch(t){if($R(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await a2(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await rp(n.appConfig,r)}throw t}}function l2(n){return n!==void 0&&n.registrationStatus===2}function fz(n){return n.requestStatus===2&&!dz(n)}function dz(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+B6}function mz(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function pz(n){return n.requestStatus===1&&n.requestTime+WR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gz(n){const e=n,{installationEntry:t,registrationPromise:r}=await L0(e);return r?r.catch(console.error):M0(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _z(n,e=!1){const t=n;return await yz(t),(await M0(t,e)).token}async function yz(n){const{registrationPromise:e}=await L0(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(n){if(!n||!n.options)throw gy("App Configuration");if(!n.name)throw gy("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw gy(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function gy(n){return pu.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="installations",bz="installations-internal",wz=n=>{const e=n.getProvider("app").getImmediate(),t=vz(e),r=Tu(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Ez=n=>{const e=n.getProvider("app").getImmediate(),t=Tu(e,u2).getImmediate();return{getId:()=>gz(t),getToken:a=>_z(t,a)}};function Tz(){ca(new Ss(u2,wz,"PUBLIC")),ca(new Ss(bz,Ez,"PRIVATE"))}Tz();Zr(ZR,N0);Zr(ZR,N0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="analytics",Sz="firebase_id",xz="origin",Az=60*1e3,Cz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",k0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Op("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gr=new Eu("analytics","Analytics",Rz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iz(n){if(!n.startsWith(k0)){const e=gr.create("invalid-gtag-resource",{gtagURL:n});return Ti.warn(e.message),""}return n}function c2(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Oz(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Nz(n,e){const t=Oz("firebase-js-sdk-policy",{createScriptURL:Iz}),r=document.createElement("script"),a=`${k0}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function Pz(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Lz(n,e,t,r,a,u){const f=r[a];try{if(f)await e[f];else{const _=(await c2(t)).find(v=>v.measurementId===a);_&&await e[_.appId]}}catch(p){Ti.error(p)}n("config",a,u)}async function Mz(n,e,t,r,a){try{let u=[];if(a&&a.send_to){let f=a.send_to;Array.isArray(f)||(f=[f]);const p=await c2(t);for(const _ of f){const v=p.find(A=>A.measurementId===_),E=v&&e[v.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),n("event",r,a||{})}catch(u){Ti.error(u)}}function kz(n,e,t,r){async function a(u,...f){try{if(u==="event"){const[p,_]=f;await Mz(n,e,t,p,_)}else if(u==="config"){const[p,_]=f;await Lz(n,e,t,r,p,_)}else if(u==="consent"){const[p,_]=f;n("consent",p,_)}else if(u==="get"){const[p,_,v]=f;n("get",p,_,v)}else if(u==="set"){const[p]=f;n("set",p)}else n(u,...f)}catch(p){Ti.error(p)}}return a}function Dz(n,e,t,r,a){let u=function(...f){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(u=window[a]),window[a]=kz(u,n,e,t),{gtagCore:u,wrappedGtag:window[a]}}function jz(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(k0)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz=30,zz=1e3;class Bz{constructor(e={},t=zz){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const h2=new Bz;function Uz(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function Fz(n){var f;const{appId:e,apiKey:t}=n,r={method:"GET",headers:Uz(t)},a=Cz.replace("{app-id}",e),u=await fetch(a,r);if(u.status!==200&&u.status!==304){let p="";try{const _=await u.json();(f=_.error)!=null&&f.message&&(p=_.error.message)}catch{}throw gr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:p})}return u.json()}async function Hz(n,e=h2,t){const{appId:r,apiKey:a,measurementId:u}=n.options;if(!r)throw gr.create("no-app-id");if(!a){if(u)return{measurementId:u,appId:r};throw gr.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Zz;return setTimeout(async()=>{p.abort()},Az),f2({appId:r,apiKey:a,measurementId:u},f,p,e)}async function f2(n,{throttleEndTimeMillis:e,backoffCount:t},r,a=h2){var p;const{appId:u,measurementId:f}=n;try{await qz(r,e)}catch(_){if(f)return Ti.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:u,measurementId:f};throw _}try{const _=await Fz(n);return a.deleteThrottleMetadata(u),_}catch(_){const v=_;if(!Gz(v)){if(a.deleteThrottleMetadata(u),f)return Ti.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:u,measurementId:f};throw _}const E=Number((p=v==null?void 0:v.customData)==null?void 0:p.httpStatus)===503?zT(t,a.intervalMillis,Vz):zT(t,a.intervalMillis),A={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return a.setThrottleMetadata(u,A),Ti.debug(`Calling attemptFetch again in ${E} millis`),f2(n,A,r,a)}}function qz(n,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),u=setTimeout(t,a);n.addEventListener(()=>{clearTimeout(u),r(gr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Gz(n){if(!(n instanceof Is)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Zz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Wz(n,e,t,r,a){if(a&&a.global){n("event",t,r);return}else{const u=await e,f={...r,send_to:u};n("event",t,f)}}async function Kz(n,e,t,r){if(r&&r.global){const a={};for(const u of Object.keys(t))a[`user_properties.${u}`]=t[u];return n("set",a),Promise.resolve()}else{const a=await e;n("config",a,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(){if(SA())try{await xA()}catch(n){return Ti.warn(gr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ti.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $z(n,e,t,r,a,u,f){const p=Hz(n);p.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&Ti.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>Ti.error(I)),e.push(p);const _=Yz().then(I=>{if(I)return r.getId()}),[v,E]=await Promise.all([p,_]);jz(u)||Nz(u,v.measurementId),a("js",new Date);const A=(f==null?void 0:f.config)??{};return A[xz]="firebase",A.update=!0,E!=null&&(A[Sz]=E),a("config",v.measurementId,A),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.app=e}_delete(){return delete Cc[this.app.options.appId],Promise.resolve()}}let Cc={},g1=[];const _1={};let _y="dataLayer",Xz="gtag",y1,D0,v1=!1;function Jz(){const n=[];if(TA()&&n.push("This is a browser extension environment."),Vk()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=gr.create("invalid-analytics-context",{errorInfo:e});Ti.warn(t.message)}}function eB(n,e,t){Jz();const r=n.options.appId;if(!r)throw gr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ti.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gr.create("no-api-key");if(Cc[r]!=null)throw gr.create("already-exists",{id:r});if(!v1){Pz(_y);const{wrappedGtag:u,gtagCore:f}=Dz(Cc,g1,_1,_y,Xz);D0=u,y1=f,v1=!0}return Cc[r]=$z(n,g1,_1,e,y1,_y,t),new Qz(n)}function tB(n=Bv()){n=un(n);const e=Tu(n,sp);return e.isInitialized()?e.getImmediate():nB(n)}function nB(n,e={}){const t=Tu(n,sp);if(t.isInitialized()){const a=t.getImmediate();if(il(e,t.getOptions()))return a;throw gr.create("already-initialized")}return t.initialize({options:e})}function iB(n,e,t){n=un(n),Kz(D0,Cc[n.app.options.appId],e,t).catch(r=>Ti.error(r))}function rB(n,e,t,r){n=un(n),Wz(D0,Cc[n.app.options.appId],e,t,r).catch(a=>Ti.error(a))}const b1="@firebase/analytics",w1="0.10.19";function sB(){ca(new Ss(sp,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return eB(r,a,t)},"PUBLIC")),ca(new Ss("analytics-internal",n,"PRIVATE")),Zr(b1,w1),Zr(b1,w1,"esm2020");function n(e){try{const t=e.getProvider(sp).getImmediate();return{logEvent:(r,a,u)=>rB(t,r,a,u),setUserProperties:(r,a)=>iB(t,r,a)}}catch(t){throw gr.create("interop-component-reg-failed",{reason:t})}}}sB();const aB={apiKey:"AIzaSyBpUED221Qngm9iO2vMU8HRzOaPzAQgbb0",authDomain:"tidal-mare.firebaseapp.com",projectId:"tidal-mare",storageBucket:"tidal-mare.firebasestorage.app",messagingSenderId:"411121995154",appId:"1:411121995154:web:9be647215a9de1efc8454b",measurementId:"G-YZNZQZJT7T"},j0=IA(aB),gs=w4(j0),Ei=v6(j0);tB(j0);class Ql{static getToken(){return localStorage.getItem(this.TOKEN_KEY)}static setToken(e){localStorage.setItem(this.TOKEN_KEY,e)}static removeToken(){localStorage.removeItem(this.TOKEN_KEY)}}st(Ql,"TOKEN_KEY","auth_token");class Br{static async login(e,t){const r=await sj(gs,e,t),a=await r.user.getIdToken();return Ql.setToken(a),r.user}static async loginWithGoogle(){const e=new Ua,r=(await Oj(gs,e)).user,a=await r.getIdToken();return Ql.setToken(a),await this.createUserDocument(r),r}static async loginAnonymously(){const e=await J5(gs),t=await e.user.getIdToken();return Ql.setToken(t),e.user}static async deleteAccount(){const e=gs.currentUser;if(!e)throw new Error("No user logged in");const t=qa(Ei,"users",e.uid);await fv(t),await cj(e),Ql.removeToken()}static async register(e,t){const a=(await rj(gs,e,t)).user,u=await a.getIdToken();return Ql.setToken(u),await this.createUserDocument(a),await this.sendVerificationEmail(a),a}static async sendVerificationEmail(e){await rS(e)}static async resendCurrentVerificationEmail(){gs.currentUser&&await rS(gs.currentUser)}static async resetPassword(e){await ij(gs,e)}static async logout(){await uj(gs),Ql.removeToken()}static onAuthStateChanged(e){return lj(gs,e)}static async getUserProfile(e){const t=qa(Ei,"users",e),r=await hv(t);return r.exists()?r.data():null}static async createUserDocument(e){const t=qa(Ei,"users",e.uid);(await hv(t)).exists()||await d1(t,{email:e.email,role:"customer",createdAt:new Date().toISOString(),displayName:e.displayName||"",photoURL:e.photoURL||""})}static async updateUserProfile(e,t){const r=qa(Ei,"users",e);await d1(r,t,{merge:!0})}}class oB{constructor(){st(this,"user",null);st(this,"isLoading",!1);st(this,"error",null);st(this,"sustainabilityStats",{co2Saved:124,treesPlanted:12,distance:850});st(this,"unsubscribeAuth",null);Ap(this,{},{autoBind:!0}),this.checkAuth()}get isAuthenticated(){return!!this.user}get isAdmin(){var e;return((e=this.user)==null?void 0:e.role)==="admin"}getFriendlyErrorMessage(e){const t=e.code||"",r=e.message||"";switch(t){case"auth/email-already-in-use":return"Dit e-mailadres is al in gebruik. Log in of probeer een ander adres.";case"auth/invalid-email":return"Het opgegeven e-mailadres is ongeldig.";case"auth/weak-password":return"Het wachtwoord is te zwak. Gebruik minimaal 6 tekens.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Ongeldig e-mailadres of wachtwoord.";case"auth/too-many-requests":return"Te veel mislukte pogingen. Probeer het later opnieuw.";case"auth/network-request-failed":return"Er is een netwerkfout opgetreden. Controleer je verbinding.";case"auth/requires-recent-login":return"Voor deze actie moet je opnieuw inloggen.";default:return r.includes("email-already-in-use")?"Dit e-mailadres is al in gebruik.":"Er is een fout opgetreden. Probeer het opnieuw."}}async login(e,t){this.isLoading=!0,this.error=null;try{const r=await Br.login(e,t);$e(()=>{this.user={id:r.uid,email:r.email||"",role:"customer"}})}catch(r){$e(()=>{this.error=this.getFriendlyErrorMessage(r)})}finally{$e(()=>{this.isLoading=!1})}}async loginWithGoogle(){this.isLoading=!0,this.error=null;try{const e=await Br.loginWithGoogle();$e(()=>{this.user={id:e.uid,email:e.email||"",role:"customer"}})}catch(e){$e(()=>{this.error=this.getFriendlyErrorMessage(e)})}finally{$e(()=>{this.isLoading=!1})}}async loginAnonymously(){this.isLoading=!0,this.error=null;try{const e=await Br.loginAnonymously();$e(()=>{this.user={id:e.uid,email:"guest@tidalmare.com",role:"guest"}})}catch(e){$e(()=>{console.error("Guest login error:",e),this.error=this.getFriendlyErrorMessage(e)})}finally{$e(()=>{this.isLoading=!1})}}async register(e,t){this.isLoading=!0,this.error=null,this.unsubscribeAuth&&(this.unsubscribeAuth(),this.unsubscribeAuth=null);try{await Br.register(e,t),await Br.logout(),$e(()=>{this.user=null})}catch(r){throw $e(()=>{this.error=this.getFriendlyErrorMessage(r)}),r}finally{$e(()=>{this.isLoading=!1}),this.checkAuth()}}async logout(){try{await Br.logout(),$e(()=>{this.user=null})}catch(e){console.error("Logout failed:",e)}}async deleteAccount(){this.isLoading=!0;try{await Br.deleteAccount(),$e(()=>{this.user=null})}catch(e){throw $e(()=>{this.error=this.getFriendlyErrorMessage(e)}),e}finally{$e(()=>{this.isLoading=!1})}}async resetPassword(e){this.isLoading=!0,this.error=null;try{await Br.resetPassword(e)}catch(t){throw $e(()=>{this.error=this.getFriendlyErrorMessage(t)}),t}finally{$e(()=>{this.isLoading=!1})}}async resendVerificationEmail(){this.isLoading=!0;try{await Br.resendCurrentVerificationEmail()}catch(e){$e(()=>{this.error=this.getFriendlyErrorMessage(e)})}finally{$e(()=>{this.isLoading=!1})}}checkAuth(){this.unsubscribeAuth&&this.unsubscribeAuth(),this.unsubscribeAuth=Br.onAuthStateChanged(async e=>{if(e){if(e.isAnonymous){$e(()=>{this.user={id:e.uid,email:"guest@tidalmare.com",role:"guest"}});return}try{const t=await Br.getUserProfile(e.uid);$e(()=>{this.user={id:e.uid,email:e.email||"",role:(t==null?void 0:t.role)||"customer",...t}})}catch{$e(()=>{this.user={id:e.uid,email:e.email||"",role:"customer"}})}}else $e(()=>{this.user=null})})}}const Fh="bookings";class Sm{static async createBooking(e){try{return(await dv(tu(Ei,Fh),{...e,createdAt:new Date().toISOString()})).id}catch(t){throw console.error("Error creating booking: ",t),t}}static async getUserBookings(e){try{const t=N6(tu(Ei,Fh),P6("userId","==",e));return(await ip(t)).docs.map(a=>({id:a.id,...a.data()}))}catch(t){return console.error("Error fetching user bookings: ",t),[]}}static async getAllBookings(){try{return(await ip(tu(Ei,Fh))).docs.map(t=>({id:t.id,...t.data()}))}catch(e){return console.error("Error fetching all bookings: ",e),[]}}static async updateBookingStatus(e,t,r){const a=qa(Ei,Fh,e);await k6(a,{status:t,cancellationReason:r})}static async getBookingById(e){const t=qa(Ei,Fh,e),r=await hv(t);return r.exists()?{id:r.id,...r.data()}:null}}class d2{constructor(){st(this,"startStreet","");st(this,"startHouseNumber","");st(this,"startPostcode","");st(this,"startCity","");st(this,"startCountry","Nederland");st(this,"isStartAddressValid",!1);st(this,"startLat",null);st(this,"startLng",null);st(this,"endStreet","");st(this,"endHouseNumber","");st(this,"endPostcode","");st(this,"endCity","");st(this,"endCountry","Nederland");st(this,"isEndAddressValid",!1);st(this,"endLat",null);st(this,"endLng",null);st(this,"bookingNote","");st(this,"dateTime",new Date().toISOString());st(this,"passengers",1);st(this,"luggageLevel",0);st(this,"availableCars",[]);st(this,"selectedCar",null);st(this,"isLoading",!1);st(this,"error",null);st(this,"bookingStatus",null);st(this,"selectedBookingDetails",null);st(this,"isCancelling",!1);st(this,"showValidationErrors",!1);Ap(this)}setStartAddress(e){this.startStreet=e.street,this.startHouseNumber=e.houseNumber,this.startPostcode=e.postcode,this.startCity=e.city,this.startCountry=e.country,this.startLat=e.latitude,this.startLng=e.longitude,this.isStartAddressValid=!0}setEndAddress(e){this.endStreet=e.street,this.endHouseNumber=e.houseNumber,this.endPostcode=e.postcode,this.endCity=e.city,this.endCountry=e.country,this.endLat=e.latitude,this.endLng=e.longitude,this.isEndAddressValid=!0}updateStartField(e,t){e==="street"?(this.startStreet=t,this.startHouseNumber="",this.startPostcode="",this.startCity=""):e==="houseNumber"?this.startHouseNumber=t:e==="postcode"?this.startPostcode=t:e==="city"&&(this.startCity=t),this.isStartAddressValid=!1}updateEndField(e,t){e==="street"?(this.endStreet=t,this.endHouseNumber="",this.endPostcode="",this.endCity=""):e==="houseNumber"?this.endHouseNumber=t:e==="postcode"?this.endPostcode=t:e==="city"&&(this.endCity=t),this.isEndAddressValid=!1}setPassengers(e){this.passengers=e}setLuggageLevel(e){this.luggageLevel=e}setBookingNote(e){this.bookingNote=e}get canSearch(){return this.isStartAddressValid&&this.isEndAddressValid&&this.passengers>0}async searchCars(){if(this.showValidationErrors=!0,!this.canSearch){$e(()=>{this.error="Vul a.u.b. geldige start- en eindadressen in."});return}this.isLoading=!0,this.error=null,this.availableCars=[];try{const e={startLocation:{address:this.startAddressSummary,latitude:this.startLat||51.4416,longitude:this.startLng||5.4697},endLocation:{address:this.endAddressSummary,latitude:this.endLat||51.4416,longitude:this.endLng||5.4697},dateTime:this.dateTime,passengers:this.passengers,luggageLevel:this.luggageLevel},t=await ln.post("http://localhost:3000/api/matching/search",e);$e(()=>{this.availableCars=t.data,this.isLoading=!1})}catch(e){$e(()=>{console.error("Search failed",e),this.error="Er ging iets mis bij het zoeken naar auto's.",this.isLoading=!1})}}selectCar(e){this.selectedCar=e}async confirmBooking(){if(!this.selectedCar||!this.isStartAddressValid||!this.isEndAddressValid)return;const e=gs.currentUser;if(!e){$e(()=>{this.error="Je moet ingelogd zijn om te boeken."});return}this.isLoading=!0;try{const t={userId:e.uid,carId:this.selectedCar.id,startLocation:{address:`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`,latitude:this.startLat||0,longitude:this.startLng||0},endLocation:{address:`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`,latitude:this.endLat||0,longitude:this.endLng||0},startTime:this.dateTime,totalPrice:this.selectedCar.pricePerHourEstimate*2,note:this.bookingNote,status:pT.REQUESTED};await Sm.createBooking(t),$e(()=>{this.bookingStatus=pT.REQUESTED})}catch(t){$e(()=>{this.error=t.message||"Booking failed"})}finally{$e(()=>{this.isLoading=!1})}}clearForm(){this.startStreet="",this.startHouseNumber="",this.startPostcode="",this.startCity="",this.isStartAddressValid=!1,this.endStreet="",this.endHouseNumber="",this.endPostcode="",this.endCity="",this.isEndAddressValid=!1,this.bookingNote="",this.availableCars=[],this.bookingStatus=null}get startAddressSummary(){return this.startStreet?`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`:"-"}get endAddressSummary(){return this.endStreet?`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`:"-"}async cancelBooking(e,t){var r;this.isCancelling=!0;try{await Sm.updateBookingStatus(e,"CANCELLED",t),((r=this.selectedBookingDetails)==null?void 0:r.id)===e&&await this.loadBookingDetails(e)}catch(a){console.error(a)}finally{$e(()=>{this.isCancelling=!1})}}async loadBookingDetails(e){try{const t=await Sm.getBookingById(e);$e(()=>this.selectedBookingDetails=t)}catch(t){console.error(t)}}}class lB{constructor(){st(this,"user",null);st(this,"isLoading",!1);Ap(this)}setUser(e){this.user=e}async updateProfile(e){if(this.user){this.isLoading=!0;try{await Br.updateUserProfile(this.user.id,e),$e(()=>{this.user&&(this.user={...this.user,...e})})}catch(t){throw console.error("Failed to update profile",t),t}finally{$e(()=>{this.isLoading=!1})}}}}class dc{static async getCars(){return(await ip(tu(Ei,"cars"))).docs.map(t=>({id:t.id,...t.data()}))}static async addCar(e){return{id:(await dv(tu(Ei,"cars"),e)).id,...e}}static async deleteCar(e){await fv(qa(Ei,"cars",e))}static async getChargingPoints(){return(await ip(tu(Ei,"charging_points"))).docs.map(t=>({id:t.id,...t.data()}))}static async addChargingPoint(e){return{id:(await dv(tu(Ei,"charging_points"),e)).id,...e}}static async deleteChargingPoint(e){await fv(qa(Ei,"charging_points",e))}}class uB{constructor(){st(this,"cars",[]);st(this,"chargingPoints",[]);st(this,"isLoading",!1);Ap(this)}async loadData(){this.isLoading=!0;try{const[e,t]=await Promise.all([dc.getCars(),dc.getChargingPoints()]);$e(()=>{this.cars=e,this.chargingPoints=t})}catch(e){console.error("Failed to load admin data",e)}finally{$e(()=>{this.isLoading=!1})}}async addCar(e){this.isLoading=!0;try{const t=await dc.addCar(e);$e(()=>{this.cars.push(t)})}catch(t){throw console.error("Failed to add car",t),t}finally{$e(()=>{this.isLoading=!1})}}async deleteCar(e){this.isLoading=!0;try{await dc.deleteCar(e),$e(()=>{this.cars=this.cars.filter(t=>t.id!==e)})}catch(t){console.error("Failed to delete car",t)}finally{$e(()=>{this.isLoading=!1})}}async addChargingPoint(e){this.isLoading=!0;try{const t=await dc.addChargingPoint(e);$e(()=>{this.chargingPoints.push(t)})}catch(t){throw console.error("Failed to add charging point",t),t}finally{$e(()=>{this.isLoading=!1})}}async deleteChargingPoint(e){this.isLoading=!0;try{await dc.deleteChargingPoint(e),$e(()=>{this.chargingPoints=this.chargingPoints.filter(t=>t.id!==e)})}catch(t){console.error("Failed to delete charging point",t)}finally{$e(()=>{this.isLoading=!1})}}}const Xn=new oB,mc=new uB,Hh=new lB,m2=({className:n,...e})=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...e,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),p2=({className:n,...e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),pv=({className:n,...e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),gv=({className:n,...e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})}),yf=({className:n,...e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),V0=({className:n,...e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),cB=({className:n,...e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...e,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),wi=Xn,hB=yr(()=>{const[n,e]=K.useState(""),[t,r]=K.useState(""),[a,u]=K.useState(!1),[f,p]=K.useState(""),[_,v]=K.useState(null),E=_u(),A=async F=>{F.preventDefault(),await wi.login(n,t),wi.isAuthenticated&&E("/dashboard")},I=async()=>{await wi.loginWithGoogle(),wi.isAuthenticated&&E("/dashboard")},M=async()=>{await wi.loginAnonymously(),wi.isAuthenticated&&E("/dashboard")},V=async F=>{F.preventDefault();try{await wi.resetPassword(f),v("Check je email voor instructies om je wachtwoord te resetten.")}catch{}};return a?b.jsx("div",{className:"auth-background",children:b.jsxs("div",{className:"auth-card",children:[b.jsx("h2",{className:"auth-title",children:"Wachtwoord Resetten"}),b.jsx("p",{className:"auth-subtitle",children:"Vul je email in om een reset link te ontvangen."}),wi.error&&b.jsx("p",{className:"error-message mb-4",children:wi.error}),_&&b.jsx("p",{className:"success-message mb-4",style:{color:"green",background:"#e6fffa",padding:"10px",borderRadius:"4px"},children:_}),b.jsxs("form",{onSubmit:V,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsxs("div",{className:"input-group",children:[b.jsx(yf,{className:"input-icon"}),b.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:f,onChange:F=>p(F.target.value),required:!0})]})]}),b.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:wi.isLoading,style:{width:"100%",padding:"12px"},children:wi.isLoading?"Verzenden...":"Reset Link Sturen"})]}),b.jsx("button",{onClick:()=>u(!1),className:"text-btn block mt-4 text-center w-full",style:{background:"none",border:"none",color:"#666",cursor:"pointer",marginTop:"1rem"},children:"Terug naar Inloggen"})]})}):b.jsx("div",{className:"auth-background",children:b.jsxs("div",{className:"auth-card",children:[b.jsx("h2",{className:"auth-title",children:"Welkom terug"}),b.jsx("p",{className:"auth-subtitle",children:"Log in om verder te gaan met Tidal Mare"}),wi.error&&b.jsxs("div",{className:"error-message mb-4",style:{background:"rgba(254, 226, 226, 0.5)",backdropFilter:"blur(8px)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#b91c1c",padding:"12px 16px",borderRadius:"12px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px",marginBottom:"1rem"},children:[b.jsx("span",{style:{fontSize:"1.2rem"},children:""}),wi.error]}),b.jsxs("form",{onSubmit:A,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsxs("div",{className:"input-group",children:[b.jsx(yf,{className:"input-icon"}),b.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:F=>e(F.target.value),required:!0})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Wachtwoord"}),b.jsxs("div",{className:"input-group",children:[b.jsx(V0,{className:"input-icon"}),b.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:t,onChange:F=>r(F.target.value),required:!0})]})]}),b.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:wi.isLoading,style:{width:"100%",padding:"12px"},children:wi.isLoading?"Bezig met inloggen...":"Inloggen"})]}),b.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[b.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),b.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of log in met"}),b.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),b.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:b.jsx("button",{onClick:I,className:"social-btn-round",title:"Inloggen met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),b.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:b.jsx("button",{onClick:M,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),b.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[b.jsx("button",{type:"button",onClick:()=>u(!0),style:{background:"none",border:"none",color:"#666",fontSize:"0.9rem",cursor:"pointer",textDecoration:"none"},children:"Wachtwoord vergeten?"}),b.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--slate-500)"},children:["Nog geen account? ",b.jsx(fi,{to:"/register",style:{fontWeight:600},children:"Registreer hier"})]})]})]})})}),ps=Xn,fB=yr(()=>{const[n,e]=K.useState(""),[t,r]=K.useState(""),[a,u]=K.useState(!1),f=_u(),p=async E=>{E.preventDefault(),await ps.register(n,t),ps.error||u(!0)},_=async()=>{await ps.loginWithGoogle(),ps.isAuthenticated&&f("/dashboard")},v=async()=>{await ps.loginAnonymously(),ps.isAuthenticated&&f("/dashboard")};return a?b.jsx("div",{className:"auth-background",children:b.jsxs("div",{className:"auth-card",style:{textAlign:"center"},children:[b.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),b.jsx("h2",{className:"auth-title",children:"Controleer je e-mail"}),b.jsxs("p",{className:"auth-subtitle",children:["We hebben een verificatielink gestuurd naar ",b.jsx("strong",{children:n}),". Klik op de link in de e-mail om je account te activeren."]}),b.jsxs("div",{style:{marginTop:"2rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[b.jsxs("button",{onClick:()=>window.open("https://gmail.com","_blank"),className:"btn-primary",style:{width:"100%",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:["Open Email App ",b.jsx(yf,{className:"w-5 h-5"})]}),b.jsx("button",{onClick:()=>f("/login"),className:"btn-secondary",style:{width:"100%",padding:"12px",background:"white",border:"1px solid #cbd5e1",color:"#334155",fontWeight:"600",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:"Terug naar inloggen"})]}),b.jsxs("p",{style:{marginTop:"2rem",fontSize:"0.9rem",color:"#64748b"},children:["Geen e-mail ontvangen? ",b.jsx("button",{onClick:()=>ps.resendVerificationEmail(),style:{color:"var(--primary-600)",fontWeight:600,background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Stuur opnieuw"})]})]})}):b.jsx("div",{className:"auth-background",children:b.jsxs("div",{className:"auth-card",children:[b.jsx("h2",{className:"auth-title",children:"Maak een account"}),b.jsx("p",{className:"auth-subtitle",children:"Begin vandaag nog met jouw duurzame reis"}),ps.error&&b.jsxs("div",{className:"error-message mb-4",style:{background:"rgba(254, 226, 226, 0.5)",backdropFilter:"blur(8px)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#b91c1c",padding:"12px 16px",borderRadius:"12px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px",marginBottom:"1rem"},children:[b.jsx("span",{style:{fontSize:"1.2rem"},children:""}),ps.error]}),b.jsxs("form",{onSubmit:p,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsxs("div",{className:"input-group",children:[b.jsx(yf,{className:"input-icon"}),b.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:E=>e(E.target.value),required:!0})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Wachtwoord"}),b.jsxs("div",{className:"input-group",children:[b.jsx(V0,{className:"input-icon"}),b.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:t,onChange:E=>r(E.target.value),required:!0})]})]}),b.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:ps.isLoading,style:{width:"100%",padding:"12px"},children:ps.isLoading?"Bezig met registreren...":"Registreren"})]}),b.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[b.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),b.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of registreer met"}),b.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),b.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:b.jsx("button",{onClick:_,className:"social-btn-round",title:"Registreren met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),b.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:b.jsx("button",{onClick:v,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),b.jsxs("div",{className:"mt-4 text-center",style:{marginTop:"1.5rem",fontSize:"0.9rem",color:"var(--slate-500)"},children:["Heb je al een account? ",b.jsx(fi,{to:"/login",style:{fontWeight:600},children:"Log in"})]})]})})}),yy=Xn,E1=yr(({roles:n})=>yy.isAuthenticated?n&&yy.user&&!n.includes(yy.user.role)?b.jsx("div",{className:"error-page",children:"403 - Geen toegang"}):b.jsx(VO,{}):b.jsx(jO,{to:"/login",replace:!0})),vy=({value:n,duration:e=2e3})=>{const[t,r]=K.useState(0);return K.useEffect(()=>{let a=null;const u=0,f=p=>{a||(a=p);const _=Math.min((p-a)/e,1),v=1-Math.pow(1-_,4);r(Math.floor(v*(n-u)+u)),_<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[n,e]),b.jsx("span",{children:t})},dB=yr(({co2Saved:n,treesPlanted:e,distance:t})=>{const r={background:"linear-gradient(135deg, #4ade80 0%, #059669 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"};return b.jsxs("div",{className:"sustainability-stats",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"2rem",marginTop:"1rem"},children:[b.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[b.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),b.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[b.jsx(vy,{value:n})," ",b.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"kg"})]}),b.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"CO2 Bespaard"})]}),b.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[b.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),b.jsx("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:b.jsx(vy,{value:e})}),b.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Bomen Equivalent"})]}),b.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[b.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),b.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[b.jsx(vy,{value:t})," ",b.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"km"})]}),b.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Emissievrij Gereden"})]}),b.jsx("style",{children:`
                @media (max-width: 768px) {
                    .sustainability-stats {
                        grid-template-columns: 1fr !important;
                    }
                }
            `})]})}),mB=yr(()=>{var a,u;const[n,e]=K.useState([]),[t,r]=K.useState(!0);return K.useEffect(()=>{(async()=>{try{const p={address:"Eindhoven",latitude:51.4416,longitude:5.4697},_=await ln.post("http://localhost:3000/api/matching/search",{startLocation:p,endLocation:p,passengers:1,luggageLevel:0,dateTime:new Date().toISOString()});e(_.data)}catch(p){console.error("Failed to fetch cars for dashboard",p)}finally{r(!1)}})()},[]),b.jsxs("div",{className:"dashboard app-container",children:[b.jsxs("div",{className:"dashboard-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[b.jsx("h2",{style:{fontSize:"2rem",margin:0},children:"Mijn Dashboard"}),b.jsxs("div",{className:"dashboard-actions",style:{display:"flex",gap:"1rem"},children:[b.jsx(fi,{to:"/request",className:"btn-primary",children:"+ Nieuwe Rit"}),((a=Xn.user)==null?void 0:a.role)!=="guest"?b.jsx(fi,{to:"/profile",className:"logout-btn",style:{textDecoration:"none",display:"inline-flex",alignItems:"center"},children:"Mijn Profiel"}):b.jsx(fi,{to:"/register",className:"btn-primary",style:{background:"#f59e0b",border:"none"},children:"Account Aanmaken"})]})]}),((u=Xn.user)==null?void 0:u.role)==="guest"&&b.jsxs("div",{style:{background:"#fffbeb",border:"1px solid #fcd34d",color:"#92400e",padding:"1rem",borderRadius:"12px",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"12px"},children:[b.jsx("span",{style:{fontSize:"1.5rem"},children:""}),b.jsxs("div",{children:[b.jsx("strong",{children:"Welkom als gast!"}),b.jsx("p",{style:{margin:0,fontSize:"0.95rem",opacity:.9},children:"Je kunt rondkijken en ritten zoeken, maar om daadwerkelijk te boeken moet je een account aanmaken."})]})]}),b.jsx(dB,{co2Saved:Xn.sustainabilityStats.co2Saved,treesPlanted:Xn.sustainabilityStats.treesPlanted,distance:Xn.sustainabilityStats.distance}),b.jsxs("section",{style:{marginBottom:"3rem"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",borderBottom:"1px solid var(--slate-200)",paddingBottom:"0.5rem"},children:[b.jsx("h3",{style:{margin:0},children:" Live Beschikbaarheid"}),b.jsx(fi,{to:"/request",style:{fontSize:"0.9rem",color:"var(--primary-600)",fontWeight:"600",textDecoration:"none"},children:"Bekijk alle auto's "})]}),b.jsx("div",{style:{background:"white",padding:"1rem",borderRadius:"16px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",border:"1px solid rgba(255, 255, 255, 0.5)"},children:t?b.jsx("div",{style:{height:"400px",display:"flex",alignItems:"center",justifyContent:"center"},children:b.jsx("p",{children:"Kaart laden..."})}):b.jsx(wx,{cars:n,center:[51.4416,5.4697],zoom:12})})]})]})});var z0={};(function n(e,t,r,a){var u=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",p=(function(){if(!e.OffscreenCanvas)return!1;try{var Z=new OffscreenCanvas(1,1),R=Z.getContext("2d");R.fillRect(0,0,1,1);var $=Z.transferToImageBitmap();R.createPattern($,"no-repeat")}catch{return!1}return!0})();function _(){}function v(Z){var R=t.exports.Promise,$=R!==void 0?R:e.Promise;return typeof $=="function"?new $(Z):(Z(_,_),null)}var E=(function(Z,R){return{transform:function($){if(Z)return $;if(R.has($))return R.get($);var ue=new OffscreenCanvas($.width,$.height),he=ue.getContext("2d");return he.drawImage($,0,0),R.set($,ue),ue},clear:function(){R.clear()}}})(p,new Map),A=(function(){var Z=Math.floor(16.666666666666668),R,$,ue={},he=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(R=function(pe){var ve=Math.random();return ue[ve]=requestAnimationFrame(function xe(ke){he===ke||he+Z-1<ke?(he=ke,delete ue[ve],pe()):ue[ve]=requestAnimationFrame(xe)}),ve},$=function(pe){ue[pe]&&cancelAnimationFrame(ue[pe])}):(R=function(pe){return setTimeout(pe,Z)},$=function(pe){return clearTimeout(pe)}),{frame:R,cancel:$}})(),I=(function(){var Z,R,$={};function ue(he){function pe(ve,xe){he.postMessage({options:ve||{},callback:xe})}he.init=function(xe){var ke=xe.transferControlToOffscreen();he.postMessage({canvas:ke},[ke])},he.fire=function(xe,ke,Ue){if(R)return pe(xe,null),R;var bt=Math.random().toString(36).slice(2);return R=v(function(ft){function vt(Bt){Bt.data.callback===bt&&(delete $[bt],he.removeEventListener("message",vt),R=null,E.clear(),Ue(),ft())}he.addEventListener("message",vt),pe(xe,bt),$[bt]=vt.bind(null,{data:{callback:bt}})}),R},he.reset=function(){he.postMessage({reset:!0});for(var xe in $)$[xe](),delete $[xe]}}return function(){if(Z)return Z;if(!r&&u){var he=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Z=new Worker(URL.createObjectURL(new Blob([he])))}catch(pe){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",pe),null}ue(Z)}return Z}})(),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function V(Z,R){return R?R(Z):Z}function F(Z){return Z!=null}function j(Z,R,$){return V(Z&&F(Z[R])?Z[R]:M[R],$)}function le(Z){return Z<0?0:Math.floor(Z)}function Ee(Z,R){return Math.floor(Math.random()*(R-Z))+Z}function ae(Z){return parseInt(Z,16)}function Se(Z){return Z.map(fe)}function fe(Z){var R=String(Z).replace(/[^0-9a-f]/gi,"");return R.length<6&&(R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]),{r:ae(R.substring(0,2)),g:ae(R.substring(2,4)),b:ae(R.substring(4,6))}}function Te(Z){var R=j(Z,"origin",Object);return R.x=j(R,"x",Number),R.y=j(R,"y",Number),R}function k(Z){Z.width=document.documentElement.clientWidth,Z.height=document.documentElement.clientHeight}function D(Z){var R=Z.getBoundingClientRect();Z.width=R.width,Z.height=R.height}function z(Z){var R=document.createElement("canvas");return R.style.position="fixed",R.style.top="0px",R.style.left="0px",R.style.pointerEvents="none",R.style.zIndex=Z,R}function W(Z,R,$,ue,he,pe,ve,xe,ke){Z.save(),Z.translate(R,$),Z.rotate(pe),Z.scale(ue,he),Z.arc(0,0,1,ve,xe,ke),Z.restore()}function q(Z){var R=Z.angle*(Math.PI/180),$=Z.spread*(Math.PI/180);return{x:Z.x,y:Z.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Z.startVelocity*.5+Math.random()*Z.startVelocity,angle2D:-R+(.5*$-Math.random()*$),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Z.color,shape:Z.shape,tick:0,totalTicks:Z.ticks,decay:Z.decay,drift:Z.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Z.gravity*3,ovalScalar:.6,scalar:Z.scalar,flat:Z.flat}}function H(Z,R){R.x+=Math.cos(R.angle2D)*R.velocity+R.drift,R.y+=Math.sin(R.angle2D)*R.velocity+R.gravity,R.velocity*=R.decay,R.flat?(R.wobble=0,R.wobbleX=R.x+10*R.scalar,R.wobbleY=R.y+10*R.scalar,R.tiltSin=0,R.tiltCos=0,R.random=1):(R.wobble+=R.wobbleSpeed,R.wobbleX=R.x+10*R.scalar*Math.cos(R.wobble),R.wobbleY=R.y+10*R.scalar*Math.sin(R.wobble),R.tiltAngle+=.1,R.tiltSin=Math.sin(R.tiltAngle),R.tiltCos=Math.cos(R.tiltAngle),R.random=Math.random()+2);var $=R.tick++/R.totalTicks,ue=R.x+R.random*R.tiltCos,he=R.y+R.random*R.tiltSin,pe=R.wobbleX+R.random*R.tiltCos,ve=R.wobbleY+R.random*R.tiltSin;if(Z.fillStyle="rgba("+R.color.r+", "+R.color.g+", "+R.color.b+", "+(1-$)+")",Z.beginPath(),f&&R.shape.type==="path"&&typeof R.shape.path=="string"&&Array.isArray(R.shape.matrix))Z.fill(Ae(R.shape.path,R.shape.matrix,R.x,R.y,Math.abs(pe-ue)*.1,Math.abs(ve-he)*.1,Math.PI/10*R.wobble));else if(R.shape.type==="bitmap"){var xe=Math.PI/10*R.wobble,ke=Math.abs(pe-ue)*.1,Ue=Math.abs(ve-he)*.1,bt=R.shape.bitmap.width*R.scalar,ft=R.shape.bitmap.height*R.scalar,vt=new DOMMatrix([Math.cos(xe)*ke,Math.sin(xe)*ke,-Math.sin(xe)*Ue,Math.cos(xe)*Ue,R.x,R.y]);vt.multiplySelf(new DOMMatrix(R.shape.matrix));var Bt=Z.createPattern(E.transform(R.shape.bitmap),"no-repeat");Bt.setTransform(vt),Z.globalAlpha=1-$,Z.fillStyle=Bt,Z.fillRect(R.x-bt/2,R.y-ft/2,bt,ft),Z.globalAlpha=1}else if(R.shape==="circle")Z.ellipse?Z.ellipse(R.x,R.y,Math.abs(pe-ue)*R.ovalScalar,Math.abs(ve-he)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI):W(Z,R.x,R.y,Math.abs(pe-ue)*R.ovalScalar,Math.abs(ve-he)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI);else if(R.shape==="star")for(var Ke=Math.PI/2*3,nn=4*R.scalar,hn=8*R.scalar,_n=R.x,Tn=R.y,Lt=5,St=Math.PI/Lt;Lt--;)_n=R.x+Math.cos(Ke)*hn,Tn=R.y+Math.sin(Ke)*hn,Z.lineTo(_n,Tn),Ke+=St,_n=R.x+Math.cos(Ke)*nn,Tn=R.y+Math.sin(Ke)*nn,Z.lineTo(_n,Tn),Ke+=St;else Z.moveTo(Math.floor(R.x),Math.floor(R.y)),Z.lineTo(Math.floor(R.wobbleX),Math.floor(he)),Z.lineTo(Math.floor(pe),Math.floor(ve)),Z.lineTo(Math.floor(ue),Math.floor(R.wobbleY));return Z.closePath(),Z.fill(),R.tick<R.totalTicks}function B(Z,R,$,ue,he){var pe=R.slice(),ve=Z.getContext("2d"),xe,ke,Ue=v(function(bt){function ft(){xe=ke=null,ve.clearRect(0,0,ue.width,ue.height),E.clear(),he(),bt()}function vt(){r&&!(ue.width===a.width&&ue.height===a.height)&&(ue.width=Z.width=a.width,ue.height=Z.height=a.height),!ue.width&&!ue.height&&($(Z),ue.width=Z.width,ue.height=Z.height),ve.clearRect(0,0,ue.width,ue.height),pe=pe.filter(function(Bt){return H(ve,Bt)}),pe.length?xe=A.frame(vt):ft()}xe=A.frame(vt),ke=ft});return{addFettis:function(bt){return pe=pe.concat(bt),Ue},canvas:Z,promise:Ue,reset:function(){xe&&A.cancel(xe),ke&&ke()}}}function Ye(Z,R){var $=!Z,ue=!!j(R||{},"resize"),he=!1,pe=j(R,"disableForReducedMotion",Boolean),ve=u&&!!j(R||{},"useWorker"),xe=ve?I():null,ke=$?k:D,Ue=Z&&xe?!!Z.__confetti_initialized:!1,bt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ft;function vt(Ke,nn,hn){for(var _n=j(Ke,"particleCount",le),Tn=j(Ke,"angle",Number),Lt=j(Ke,"spread",Number),St=j(Ke,"startVelocity",Number),Si=j(Ke,"decay",Number),so=j(Ke,"gravity",Number),da=j(Ke,"drift",Number),Sn=j(Ke,"colors",Se),Xr=j(Ke,"ticks",Number),vr=j(Ke,"shapes"),Os=j(Ke,"scalar"),Wi=!!j(Ke,"flat"),ao=Te(Ke),Ns=_n,Jr=[],oo=Z.width*ao.x,ei=Z.height*ao.y;Ns--;)Jr.push(q({x:oo,y:ei,angle:Tn,spread:Lt,startVelocity:St,color:Sn[Ns%Sn.length],shape:vr[Ee(0,vr.length)],ticks:Xr,decay:Si,gravity:so,drift:da,scalar:Os,flat:Wi}));return ft?ft.addFettis(Jr):(ft=B(Z,Jr,ke,nn,hn),ft.promise)}function Bt(Ke){var nn=pe||j(Ke,"disableForReducedMotion",Boolean),hn=j(Ke,"zIndex",Number);if(nn&&bt)return v(function(St){St()});$&&ft?Z=ft.canvas:$&&!Z&&(Z=z(hn),document.body.appendChild(Z)),ue&&!Ue&&ke(Z);var _n={width:Z.width,height:Z.height};xe&&!Ue&&xe.init(Z),Ue=!0,xe&&(Z.__confetti_initialized=!0);function Tn(){if(xe){var St={getBoundingClientRect:function(){if(!$)return Z.getBoundingClientRect()}};ke(St),xe.postMessage({resize:{width:St.width,height:St.height}});return}_n.width=_n.height=null}function Lt(){ft=null,ue&&(he=!1,e.removeEventListener("resize",Tn)),$&&Z&&(document.body.contains(Z)&&document.body.removeChild(Z),Z=null,Ue=!1)}return ue&&!he&&(he=!0,e.addEventListener("resize",Tn,!1)),xe?xe.fire(Ke,_n,Lt):vt(Ke,_n,Lt)}return Bt.reset=function(){xe&&xe.reset(),ft&&ft.reset()},Bt}var zt;function ne(){return zt||(zt=Ye(null,{useWorker:!0,resize:!0})),zt}function Ae(Z,R,$,ue,he,pe,ve){var xe=new Path2D(Z),ke=new Path2D;ke.addPath(xe,new DOMMatrix(R));var Ue=new Path2D;return Ue.addPath(ke,new DOMMatrix([Math.cos(ve)*he,Math.sin(ve)*he,-Math.sin(ve)*pe,Math.cos(ve)*pe,$,ue])),Ue}function we(Z){if(!f)throw new Error("path confetti are not supported in this browser");var R,$;typeof Z=="string"?R=Z:(R=Z.path,$=Z.matrix);var ue=new Path2D(R),he=document.createElement("canvas"),pe=he.getContext("2d");if(!$){for(var ve=1e3,xe=ve,ke=ve,Ue=0,bt=0,ft,vt,Bt=0;Bt<ve;Bt+=2)for(var Ke=0;Ke<ve;Ke+=2)pe.isPointInPath(ue,Bt,Ke,"nonzero")&&(xe=Math.min(xe,Bt),ke=Math.min(ke,Ke),Ue=Math.max(Ue,Bt),bt=Math.max(bt,Ke));ft=Ue-xe,vt=bt-ke;var nn=10,hn=Math.min(nn/ft,nn/vt);$=[hn,0,0,hn,-Math.round(ft/2+xe)*hn,-Math.round(vt/2+ke)*hn]}return{type:"path",path:R,matrix:$}}function nt(Z){var R,$=1,ue="#000000",he='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Z=="string"?R=Z:(R=Z.text,$="scalar"in Z?Z.scalar:$,he="fontFamily"in Z?Z.fontFamily:he,ue="color"in Z?Z.color:ue);var pe=10*$,ve=""+pe+"px "+he,xe=new OffscreenCanvas(pe,pe),ke=xe.getContext("2d");ke.font=ve;var Ue=ke.measureText(R),bt=Math.ceil(Ue.actualBoundingBoxRight+Ue.actualBoundingBoxLeft),ft=Math.ceil(Ue.actualBoundingBoxAscent+Ue.actualBoundingBoxDescent),vt=2,Bt=Ue.actualBoundingBoxLeft+vt,Ke=Ue.actualBoundingBoxAscent+vt;bt+=vt+vt,ft+=vt+vt,xe=new OffscreenCanvas(bt,ft),ke=xe.getContext("2d"),ke.font=ve,ke.fillStyle=ue,ke.fillText(R,Bt,Ke);var nn=1/$;return{type:"bitmap",bitmap:xe.transferToImageBitmap(),matrix:[nn,0,0,nn,-bt*nn/2,-ft*nn/2]}}t.exports=function(){return ne().apply(this,arguments)},t.exports.reset=function(){ne().reset()},t.exports.create=Ye,t.exports.shapeFromPath=we,t.exports.shapeFromText=nt})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),z0,!1);const T1=z0.exports;z0.exports.create;class pB{constructor(){st(this,"API_URL","https://api.pdok.nl/bzk/locatieserver/search/v3_1/free")}async search(e){if(!e||e.length<2)return[];try{const t=new URLSearchParams({q:`${e} and type:adres`,rows:"5",fl:"id,weergavenaam,straatnaam,huisnummer,postcode,woonplaatsnaam,centroide_ll"}),r=await fetch(`${this.API_URL}?${t.toString()}`);return r.ok?(await r.json()).response.docs.map(u=>{const{lat:f,lon:p}=this.parseWktPoint(u.centroide_ll);return{id:u.id,displayLabel:u.weergavenaam,street:u.straatnaam,houseNumber:u.huisnummer,postcode:u.postcode,city:u.woonplaatsnaam,country:"Nederland",latitude:f,longitude:p}}):[]}catch(t){return console.error("PDOK API Error:",t),[]}}parseWktPoint(e){try{const t=e.match(/POINT\(([\d.]+) ([\d.]+)\)/);return t&&t.length===3?{lon:parseFloat(t[1]),lat:parseFloat(t[2])}:{lat:0,lon:0}}catch{return{lat:0,lon:0}}}}const S1=new pB,ap=({label:n,value:e,onChange:t,onSelect:r,placeholder:a,className:u,isValid:f,hasError:p})=>{const[_,v]=K.useState([]),[E,A]=K.useState(!1),[I,M]=K.useState(!1),V=K.useRef(null);K.useEffect(()=>{const j=setTimeout(async()=>{if(e.length>=2&&E){M(!0);const le=await S1.search(e);v(le),M(!1)}else v([])},300);return()=>clearTimeout(j)},[e,E]),K.useEffect(()=>{const j=le=>{V.current&&!V.current.contains(le.target)&&A(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const F=j=>{r(j),v([]),A(!1)};return b.jsxs("div",{className:`form-group relative ${u||""}`,ref:V,style:{position:"relative"},children:[b.jsxs("div",{className:"flex justify-between items-center mb-1.5",style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[b.jsx("label",{className:"form-label",children:n}),f&&b.jsxs("span",{className:"text-green-600",style:{color:"var(--accent-hover)",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px",fontWeight:"bold"},children:[b.jsx(cB,{className:"w-4 h-4"})," Bevestigd"]})]}),b.jsxs("div",{className:"relative group",style:{position:"relative"},children:[b.jsx("div",{className:"absolute inset-y-0 left-0",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:f?"var(--accent-color)":"var(--slate-400)",pointerEvents:"none"},children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),b.jsx("input",{type:"text",className:`form-input ${f?"valid":""} ${p?"error":""}`,style:{paddingLeft:"2.5rem",borderColor:p?"#f87171":f?"var(--accent-color)":""},value:e,onChange:j=>{t(j.target.value),A(!0)},onFocus:()=>{A(!0),_.length===0&&e.length>=2&&S1.search(e).then(v)},placeholder:a||"Zoek adres...",autoComplete:"off"}),I&&b.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:b.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid var(--primary-color)",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})})]}),p&&!f&&b.jsx("p",{className:"error-message",style:{marginTop:"0.5rem",marginBottom:0,padding:"0.5rem",fontSize:"0.8rem"},children:"Kies een geldig adres uit de lijst"}),E&&_.length>0&&b.jsxs("ul",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",maxHeight:"18rem",overflowY:"auto",marginTop:"0.5rem",padding:"0.5rem 0",listStyle:"none",border:"1px solid var(--slate-200)"},children:[_.map(j=>b.jsx("li",{style:{padding:"0.75rem 1rem",cursor:"pointer",borderBottom:"1px solid var(--slate-50)",transition:"background-color 0.2s"},onMouseEnter:le=>le.currentTarget.style.backgroundColor="var(--slate-50)",onMouseLeave:le=>le.currentTarget.style.backgroundColor="transparent",onClick:le=>{le.stopPropagation(),F(j)},children:b.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[b.jsx("div",{style:{color:"var(--slate-400)",marginTop:"2px"},children:b.jsxs("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),b.jsxs("div",{style:{marginLeft:"0.75rem"},children:[b.jsxs("p",{style:{margin:0,fontWeight:600,color:"var(--slate-900)",fontSize:"0.9rem"},children:[j.street," ",j.houseNumber]}),b.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--slate-500)"},children:[j.postcode," ",j.city]})]})]})},j.id)),b.jsx("li",{style:{padding:"0.5rem 1rem",fontSize:"0.75rem",color:"var(--slate-400)",textAlign:"center",backgroundColor:"var(--slate-50)",borderTop:"1px solid var(--slate-100)",fontStyle:"italic"},children:"Powered by PDOK"})]}),E&&e.length>=2&&!I&&_.length===0&&b.jsx("div",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",padding:"1rem",textAlign:"center",color:"var(--slate-500)",fontStyle:"italic",marginTop:"0.5rem"},children:"Geen adressen gevonden"})]})};delete Ov.Icon.Default.prototype._getIconUrl;Ov.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const gB=new Ov.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/3202/3202926.png",iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[0,-16]}),_B=({center:n})=>(yx().flyTo(n,13),null),yB=({cars:n,center:e,onSelectCar:t})=>b.jsx("div",{style:{height:"400px",width:"100%",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",border:"1px solid var(--slate-200)"},children:b.jsxs(vx,{center:e,zoom:13,style:{height:"100%",width:"100%"},children:[b.jsx(bx,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),b.jsx(_B,{center:e}),b.jsx(mT,{position:e,children:b.jsx(Ay,{children:"Jouw Locatie"})}),n.map((r,a)=>{const u=(Math.random()-.5)*.02,f=(Math.random()-.5)*.02,p=[e[0]+u,e[1]+f];return b.jsx(mT,{position:p,icon:gB,eventHandlers:{click:()=>t(r)},children:b.jsx(Ay,{children:b.jsxs("div",{style:{textAlign:"center"},children:[b.jsxs("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem"},children:[r.make," ",r.model]}),b.jsx("p",{style:{margin:0,color:"#64748b"},children:r.provider}),b.jsx("button",{onClick:()=>t(r),style:{marginTop:"0.5rem",background:"#0ea5e9",color:"white",border:"none",padding:"0.25rem 0.75rem",borderRadius:"4px",cursor:"pointer"},children:"Kies deze"})]})})},r.id||a)})]})}),eg=()=>b.jsxs("div",{style:{position:"fixed",inset:0,zIndex:0,overflow:"hidden",pointerEvents:"none",backgroundColor:"#111827"},children:[b.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, #111827, #1f2937, #111827)",opacity:.8}}),b.jsxs("div",{style:{position:"absolute",inset:0,opacity:.3},children:[b.jsx("style",{children:`
                        @keyframes moveRight {
                            0% { transform: translateX(-100%) skewX(-30deg); }
                            100% { transform: translateX(200%) skewX(-30deg); }
                        }
                        @keyframes moveLeft {
                            0% { transform: translateX(200%) skewX(30deg); }
                            100% { transform: translateX(-100%) skewX(30deg); }
                        }
                        .traffic-light {
                            position: absolute;
                            height: 4px;
                            border-radius: 9999px;
                            filter: blur(3px);
                            box-shadow: 0 0 10px currentColor;
                        }
                        .light-red { color: #ef4444; background: currentColor; animation: moveLeft 8s linear infinite; }
                        .light-white { color: #facc15; background: currentColor; animation: moveRight 7s linear infinite; }
                        
                        .delay-1 { animation-delay: 0s; }
                        .delay-2 { animation-delay: 2s; }
                        .delay-3 { animation-delay: 4s; }
                        .delay-4 { animation-delay: 1.5s; }
                        .delay-5 { animation-delay: 3.5s; }
                    `}),b.jsx("div",{className:"traffic-light light-red",style:{width:"16rem",top:"15%",animationDuration:"15s"}}),b.jsx("div",{className:"traffic-light light-white",style:{width:"16rem",top:"18%",animationDuration:"12s",animationDelay:"5s"}}),b.jsx("div",{className:"traffic-light light-red delay-1",style:{width:"24rem",top:"40%"}}),b.jsx("div",{className:"traffic-light light-red delay-2",style:{width:"18rem",top:"42%"}}),b.jsx("div",{className:"traffic-light light-white delay-3",style:{width:"20rem",top:"45%"}}),b.jsx("div",{className:"traffic-light light-white delay-1",style:{width:"24rem",top:"48%"}}),b.jsx("div",{className:"traffic-light light-red",style:{width:"500px",top:"75%",opacity:.6,height:"6px",animationDuration:"6s"}}),b.jsx("div",{className:"traffic-light light-white",style:{width:"500px",top:"80%",opacity:.6,height:"6px",animationDuration:"5s",animationDelay:"1s"}})]}),b.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"url('https://grainy-gradients.vercel.app/noise.svg')",opacity:.1,mixBlendMode:"overlay"}})]}),B0=({isOpen:n,onClose:e,title:t,children:r,footer:a})=>n?b.jsxs("div",{style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,animation:"fadeIn 0.2s ease"},children:[b.jsxs("div",{style:{background:"rgba(23, 23, 23, 0.9)",backdropFilter:"blur(16px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"24px",width:"90%",maxWidth:"450px",padding:"2rem",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",transform:"translateY(0)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",color:"white"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[b.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"800",margin:0,color:"white"},children:t}),b.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#9ca3af",padding:"0.5rem",transition:"color 0.2s"},onMouseEnter:u=>u.currentTarget.style.color="white",onMouseLeave:u=>u.currentTarget.style.color="#9ca3af",children:""})]}),b.jsx("div",{style:{color:"#d1d5db",lineHeight:"1.6",marginBottom:"2rem"},children:r}),a&&b.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:a})]}),b.jsx("style",{children:`
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
                @keyframes slideUp {
                    from { transform: translateY(20px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            `})]}):null,vB=()=>b.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),bB=()=>b.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),g2=({message:n,type:e="success",onClose:t})=>{const[r,a]=K.useState(!1);K.useEffect(()=>{const f=setTimeout(()=>{a(!0),setTimeout(t,400)},3e3);return()=>clearTimeout(f)},[t]);const u=e==="success"?{gradient:"linear-gradient(135deg, #059669, #10b981)",shadow:"0 0 20px rgba(16, 185, 129, 0.3)"}:{gradient:"linear-gradient(135deg, #dc2626, #ef4444)",shadow:"0 0 20px rgba(239, 68, 68, 0.3)"};return b.jsxs("div",{className:r?"toast-exit":"toast-enter",style:{position:"fixed",bottom:"30px",right:"30px",background:"rgba(23, 23, 23, 0.85)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.1)",padding:"1rem 1.25rem",borderRadius:"16px",boxShadow:`0 10px 30px -5px rgba(0,0,0,0.5), ${u.shadow}`,display:"flex",alignItems:"center",gap:"1rem",zIndex:9999,color:"white",minWidth:"320px",maxWidth:"400px",overflow:"hidden"},children:[b.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:u.gradient,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:b.jsx("div",{style:{color:"white"},children:e==="success"?b.jsx(vB,{}):b.jsx(bB,{})})}),b.jsxs("div",{style:{flex:1},children:[b.jsx("div",{style:{fontWeight:"700",fontSize:"0.95rem",marginBottom:"2px"},children:e==="success"?"Succesvol":"Foutmelding"}),b.jsx("div",{style:{fontSize:"0.9rem",color:"#9ca3af",fontWeight:"500"},children:n})]}),b.jsx("button",{onClick:()=>{a(!0),setTimeout(t,400)},style:{background:"none",border:"none",color:"#6b7280",cursor:"pointer",padding:"4px",borderRadius:"50%",display:"flex",transition:"all 0.2s"},onMouseEnter:f=>f.currentTarget.style.background="rgba(255,255,255,0.1)",onMouseLeave:f=>f.currentTarget.style.background="none",children:b.jsx("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),b.jsx("div",{style:{position:"absolute",bottom:0,left:0,height:"3px",background:u.gradient,width:"100%",animation:"progress 3s linear forwards",transformOrigin:"left"}}),b.jsx("style",{children:`
                .toast-enter {
                    animation: slideUpFade 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                }
                .toast-exit {
                    animation: slideDownFade 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                }
                @keyframes slideUpFade {
                    from { transform: translateY(20px) scale(0.95); opacity: 0; }
                    to { transform: translateY(0) scale(1); opacity: 1; }
                }
                @keyframes slideDownFade {
                    from { transform: translateY(0) scale(1); opacity: 1; }
                    to { transform: translateY(10px) scale(0.95); opacity: 0; }
                }
                @keyframes progress {
                    from { transform: scaleX(1); }
                    to { transform: scaleX(0); }
                }
            `})]})},Re=new d2,wB=yr(()=>{const{user:n}=Xn,e=_u(),[t,r]=_s.useState(!1),[a,u]=_s.useState(!1),[f,p]=_s.useState(!1),_=()=>{try{const fe=window.AudioContext||window.webkitAudioContext;if(!fe)return;const Te=new fe;[{freq:440,type:"sine",delay:0},{freq:554,type:"sine",delay:.1},{freq:659,type:"sine",delay:.2},{freq:880,type:"sine",delay:.3}].forEach(({freq:D,type:z,delay:W})=>{const q=Te.createOscillator(),H=Te.createGain();q.type=z,q.frequency.setValueAtTime(D,Te.currentTime+W),H.gain.setValueAtTime(0,Te.currentTime+W),H.gain.linearRampToValueAtTime(.3,Te.currentTime+W+.1),H.gain.exponentialRampToValueAtTime(.001,Te.currentTime+W+.5),q.connect(H),H.connect(Te.destination),q.start(Te.currentTime+W),q.stop(Te.currentTime+W+.6)})}catch(fe){console.error("Audio playback failed",fe)}};K.useEffect(()=>{if(Re.bookingStatus==="CONFIRMED"||Re.bookingStatus==="REQUESTED"){_();const Te=Date.now()+3e3;p(!0);const k=()=>{T1({particleCount:7,angle:60,spread:55,origin:{x:0},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),T1({particleCount:7,angle:120,spread:55,origin:{x:1},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),Date.now()<Te&&requestAnimationFrame(k)};k()}},[Re.bookingStatus]);const v=async fe=>{fe.preventDefault(),await Re.searchCars()},E=(fe,Te="start")=>{const k=fe==="home"?n==null?void 0:n.homeLocation:n==null?void 0:n.workLocation;k&&(Te==="start"?(Re.startStreet=k.address,Re.isStartAddressValid=!0):(Re.endStreet=k.address,Re.isEndAddressValid=!0))},A=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(fe=>{const{latitude:Te,longitude:k}=fe.coords;Re.startLat=Te,Re.startLng=k,Re.startStreet="Huidige Locatie",Re.isStartAddressValid=!0},fe=>{console.error(fe),alert("Kon huidige locatie niet ophalen. Controleer je browser instellingen.")})},I=()=>{const fe={street:Re.startStreet,number:Re.startHouseNumber,postcode:Re.startPostcode,city:Re.startCity,lat:Re.startLat,lng:Re.startLng,valid:Re.isStartAddressValid};Re.startStreet=Re.endStreet,Re.startHouseNumber=Re.endHouseNumber,Re.startPostcode=Re.endPostcode,Re.startCity=Re.endCity,Re.startLat=Re.endLat,Re.startLng=Re.endLng,Re.isStartAddressValid=Re.isEndAddressValid,Re.endStreet=fe.street,Re.endHouseNumber=fe.number,Re.endPostcode=fe.postcode,Re.endCity=fe.city,Re.endLat=fe.lat,Re.endLng=fe.lng,Re.isEndAddressValid=fe.valid},[M,V]=_s.useState(window.innerWidth<=768);K.useEffect(()=>{const fe=()=>V(window.innerWidth<=768);return window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[]);const F=()=>{if((n==null?void 0:n.role)==="guest"){u(!0);return}Re.confirmBooking()},j={maxWidth:"1280px",margin:"0 auto",padding:M?"1rem 0.5rem":"2rem 1rem",position:"relative",zIndex:10},le={background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",borderRadius:"16px",padding:M?"1.25rem":"2rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)"},Ee={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:M?"1rem":"2rem"},ae={display:"grid",gridTemplateColumns:"minmax(0, 7fr) minmax(0, 5fr)",gap:"2rem"},Se={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0,0,0,0.05)",padding:M?"1rem 0":"1.5rem 0",marginBottom:M?"1rem":"2rem"};return b.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#f3f4f6",paddingBottom:"3rem",overflowX:"hidden"},children:[b.jsx(eg,{}),b.jsx("div",{style:{position:"relative",zIndex:20,...Se},children:b.jsx("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"0 1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:b.jsxs("div",{children:[b.jsx("span",{style:{color:"var(--primary-600)",fontWeight:"700",textTransform:"uppercase",fontSize:"0.85rem",letterSpacing:"0.05em"},children:"Tidal Mare"}),b.jsx("h1",{style:{fontSize:M?"1.5rem":"2rem",fontWeight:"800",color:"#111827",margin:"0.25rem 0 0.5rem 0"},children:"Waar wil je heen vandaag?"}),b.jsx("p",{style:{color:"#4b5563",fontSize:M?"0.95rem":"1.1rem"},children:"Regel binnen enkele seconden een comfortabele rit."})]})})}),b.jsxs("div",{style:j,children:[b.jsxs("div",{style:M?{display:"flex",flexDirection:"column",gap:"1.5rem"}:ae,children:[b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[b.jsxs("div",{style:le,children:[b.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:b.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[b.jsx("span",{style:{background:"var(--primary-100)",color:"var(--primary-600)",padding:"6px",borderRadius:"8px",display:"flex"},children:b.jsx(m2,{className:"w-5 h-5"})}),"Jouw Reis"]})}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx("div",{style:{position:"absolute",left:"20px",top:"45px",bottom:"45px",width:"2px",background:"linear-gradient(to bottom, #d1fae5, #e5e7eb, #fee2e2)",zIndex:0}}),b.jsxs("div",{style:{marginBottom:"0.5rem",position:"relative",zIndex:1},children:[b.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",paddingLeft:"4px"},children:"Ophalen"}),b.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-start"},children:[b.jsx("div",{style:{marginTop:"12px",color:"#10b981"},children:""}),b.jsxs("div",{style:{flex:1},children:[b.jsx(ap,{label:"",value:Re.startStreet+(Re.startHouseNumber?` ${Re.startHouseNumber}`:""),onChange:fe=>Re.updateStartField("street",fe),onSelect:fe=>Re.setStartAddress(fe),isValid:Re.isStartAddressValid,hasError:Re.showValidationErrors&&!Re.isStartAddressValid,placeholder:"Startlocatie..."}),b.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",flexWrap:"wrap"},children:[b.jsx("button",{type:"button",onClick:A,className:"shortcut-chip",style:{fontSize:"0.75rem",padding:"4px 8px"},children:" Huidige Locatie"}),b.jsxs("button",{type:"button",onClick:()=>E("home","start"),className:"shortcut-chip",style:{fontSize:"0.75rem",padding:"4px 8px"},children:[b.jsx(pv,{className:"w-3 h-3"})," Thuis"]}),b.jsxs("button",{type:"button",onClick:()=>E("work","start"),className:"shortcut-chip",style:{fontSize:"0.75rem",padding:"4px 8px"},children:[b.jsx(gv,{className:"w-3 h-3"})," Werk"]})]})]})]})]}),b.jsx("div",{style:{display:"flex",justifyContent:"flex-end",paddingRight:"1rem",marginTop:"-14px",marginBottom:"-14px",position:"relative",zIndex:10,pointerEvents:"none"},children:b.jsx("button",{onClick:I,style:{background:"white",border:"1px solid #e5e7eb",borderRadius:"50%",width:M?"28px":"32px",height:M?"28px":"32px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",transform:"rotate(90deg)",boxShadow:"0 2px 5px rgba(0,0,0,0.05)",pointerEvents:"auto",fontSize:M?"0.8rem":"1rem"},title:"Wissel Locaties",children:""})}),b.jsxs("div",{style:{marginBottom:"1.5rem",position:"relative",zIndex:1},children:[b.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem",paddingLeft:"4px"},children:"Bestemming"}),b.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-start"},children:[b.jsx("div",{style:{marginTop:"12px",color:"#ef4444"},children:""}),b.jsxs("div",{style:{flex:1},children:[b.jsx(ap,{label:"",value:Re.endStreet+(Re.endHouseNumber?` ${Re.endHouseNumber}`:""),onChange:fe=>Re.updateEndField("street",fe),onSelect:fe=>Re.setEndAddress(fe),isValid:Re.isEndAddressValid,hasError:Re.showValidationErrors&&!Re.isEndAddressValid,placeholder:"Waar wil je heen?"}),b.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem",flexWrap:"wrap"},children:[b.jsxs("button",{type:"button",onClick:()=>E("home","end"),className:"shortcut-chip",style:{fontSize:"0.75rem",padding:"4px 8px"},children:[b.jsx(pv,{className:"w-3 h-3"})," Naar Thuis"]}),b.jsxs("button",{type:"button",onClick:()=>E("work","end"),className:"shortcut-chip",style:{fontSize:"0.75rem",padding:"4px 8px"},children:[b.jsx(gv,{className:"w-3 h-3"})," Naar Werk"]})]})]})]})]})]})]}),b.jsxs("div",{style:le,children:[b.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[b.jsx("span",{style:{background:"#e0e7ff",color:"#4f46e5",padding:"6px",borderRadius:"8px",display:"flex"},children:b.jsx(p2,{className:"w-5 h-5"})}),"Voorkeuren"]}),b.jsxs("div",{style:Ee,children:[b.jsxs("div",{children:[b.jsx("label",{className:"form-label",children:"Datum & Tijd"}),b.jsx("input",{type:"datetime-local",className:"form-input",value:Re.dateTime?Re.dateTime.slice(0,16):"",onChange:fe=>Re.dateTime=new Date(fe.target.value).toISOString()})]}),b.jsxs("div",{children:[b.jsx("label",{className:"form-label",children:"Passagiers"}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#f3f4f6",padding:"4px",borderRadius:"8px"},children:[b.jsx("button",{onClick:()=>Re.setPassengers(Math.max(1,Re.passengers-1)),style:{width:"32px",height:"32px",borderRadius:"6px",border:"none",background:"white",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",color:"#374151"},children:""}),b.jsx("span",{style:{fontWeight:"600",minWidth:"24px",textAlign:"center",fontSize:"1rem",color:"#111827"},children:Re.passengers}),b.jsx("button",{onClick:()=>Re.setPassengers(Math.min(8,Re.passengers+1)),style:{width:"32px",height:"32px",borderRadius:"6px",border:"none",background:"white",cursor:"pointer",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.2rem",color:"#374151"},children:"+"})]})]})]}),b.jsxs("div",{style:{marginTop:"1.5rem"},children:[b.jsx("label",{className:"form-label",children:"Extra's"}),b.jsxs("select",{className:"form-input",value:Re.luggageLevel,onChange:fe=>Re.setLuggageLevel(parseInt(fe.target.value)),children:[b.jsx("option",{value:"0",children:"Geen bagage"}),b.jsx("option",{value:"1",children:"Klein (handbagage)"}),b.jsx("option",{value:"2",children:"Normaal (koffer)"}),b.jsx("option",{value:"3",children:"Veel bagage"})]})]})]})]}),b.jsx("div",{style:{position:"relative"},children:b.jsxs("div",{style:{...le,position:"sticky",top:"24px",border:"1px solid transparent",background:"linear-gradient(to bottom right, #ffffff, #f9fafb)"},children:[Re.error&&b.jsxs("div",{className:"error-message",style:{marginBottom:"1rem"},children:[b.jsx("span",{style:{marginRight:"8px"},children:""}),Re.error]}),b.jsx("button",{onClick:v,disabled:Re.isLoading,className:"btn-primary",style:{width:"100%",justifyContent:"center",padding:"1rem",fontSize:"1.1rem",background:"#111827"},children:Re.isLoading?"Zoeken...":"Zoek Auto's "}),b.jsx("p",{style:{textAlign:"center",marginTop:"1rem",fontSize:"0.85rem",color:"#6b7280"},children:"Wij zoeken direct bij alle aanbieders in de buurt."})]})})]}),Re.availableCars.length>0&&b.jsxs("div",{style:{marginTop:"3rem"},id:"results-section",children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[b.jsxs("div",{children:[b.jsxs("h3",{style:{fontSize:"1.8rem",fontWeight:"800",color:"#1f2937"},children:[Re.availableCars.length," Auto's gevonden"]}),b.jsx("p",{style:{color:"#6b7280"},children:"Kies de beste rit voor jou."})]}),b.jsxs("div",{style:{background:"#e5e7eb",padding:"4px",borderRadius:"12px",display:"flex"},children:[b.jsx("button",{onClick:()=>r(!1),style:{padding:"0.5rem 1.5rem",borderRadius:"8px",background:t?"transparent":"white",color:t?"#6b7280":"#111827",border:"none",cursor:"pointer",fontWeight:"600",boxShadow:t?"none":"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s"},children:"Lijst"}),b.jsx("button",{onClick:()=>r(!0),style:{padding:"0.5rem 1.5rem",borderRadius:"8px",background:t?"white":"transparent",color:t?"#111827":"#6b7280",border:"none",cursor:"pointer",fontWeight:"600",boxShadow:t?"0 1px 3px rgba(0,0,0,0.1)":"none",transition:"all 0.2s"},children:"Kaart"})]})]}),t?b.jsx("div",{className:"fade-in",style:{borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:b.jsx(yB,{cars:Re.availableCars,center:Re.startLat&&Re.startLng?[Re.startLat,Re.startLng]:[51.4416,5.4697],onSelectCar:fe=>{Re.selectCar(fe),F()}})}):b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(340px, 1fr))",gap:"1.5rem"},children:Re.availableCars.map(fe=>{var D;let Te="#6b7280",k=fe.provider;return fe.provider===ru.MYWHEELS||fe.make.toLowerCase().includes("mywheels")?(Te="#116284",k="MyWheels"):fe.provider===ru.GREENWHEELS||fe.make.toLowerCase().includes("greenwheels")?(Te="#106F62",k="Greenwheels"):fe.provider===ru.EINDHOVEN&&(Te="#ef4444",k=fe.make||"Deelauto"),b.jsxs("div",{style:{background:"white",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)",border:"1px solid #f3f4f6",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},className:"car-card-hover",onClick:()=>{Re.selectCar(fe),F()},children:[b.jsxs("div",{style:{height:"160px",background:`linear-gradient(135deg, ${Te}11, ${Te}33)`,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[b.jsxs("div",{style:{position:"absolute",top:"12px",left:"12px",background:"white",padding:"4px 10px",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"700",color:Te,display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[b.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:Te}}),k]}),b.jsx("div",{style:{fontSize:"4.5rem",filter:"drop-shadow(0 10px 10px rgba(0,0,0,0.1))"},children:""}),b.jsxs("div",{style:{position:"absolute",bottom:"12px",right:"12px",background:"rgba(255,255,255,0.8)",backdropFilter:"blur(4px)",padding:"4px 8px",borderRadius:"8px",fontSize:"0.75rem",fontWeight:"600"},children:[fe.seats," personen"]})]}),b.jsxs("div",{style:{padding:"1.5rem"},children:[b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[b.jsx("h4",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#1f2937",margin:0},children:fe.model}),b.jsx("span",{style:{background:"#f3f4f6",padding:"4px 8px",borderRadius:"6px",fontSize:"0.7rem",fontWeight:"700",color:"#4b5563"},children:fe.fuelType})]}),b.jsxs("p",{style:{color:"#6b7280",fontSize:"0.9rem",marginBottom:"1.5rem"},children:[((D=fe.location)==null?void 0:D.address)||"Locatie onbekend",fe.range?`  ${fe.range} km bereik`:""]}),b.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"1rem",borderTop:"1px solid #f3f4f6"},children:[b.jsxs("div",{children:[b.jsx("span",{style:{fontSize:"0.75rem",color:"#9ca3af",display:"block"},children:"Geschat tarief"}),b.jsxs("span",{style:{fontSize:"1.4rem",fontWeight:"800",color:"#111827"},children:["",fe.pricePerHourEstimate,b.jsx("small",{style:{fontSize:"0.9rem",fontWeight:"400",color:"#6b7280"},children:"/uur"})]})]}),b.jsx("button",{className:"btn-primary",style:{background:Te,boxShadow:`0 4px 10px ${Te}44`},children:"Boeken"})]})]})]},fe.id)})}),b.jsx("style",{children:`
                            .fade-in { animation: fadeIn 0.5s ease-out forwards; }
                            @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                            .car-card-hover:hover { transform: translateY(-4px); box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.1) !important; }
                        `})]}),b.jsx(B0,{isOpen:a,onClose:()=>u(!1),title:"Account vereist",footer:b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>u(!1),style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.1)",fontWeight:"600",cursor:"pointer",color:"white",transition:"background 0.2s"},children:"Annuleren"}),b.jsx("button",{onClick:()=>e("/register"),className:"btn-primary",style:{padding:"0.75rem 1.5rem",borderRadius:"12px",fontWeight:"700",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:"Registreren"})]}),children:b.jsx("p",{children:"Als gast kun je niet boeken. Wil je een account aanmaken om verder te gaan?"})}),f&&b.jsx(g2,{message:"Je rit is succesvol ingepland! Bevestiging verstuurd.",type:"success",onClose:()=>{p(!1),Re.clearForm()}})]})]})}),EB=yr(({carName:n,licensePlate:e,onUnlock:t})=>{const[r,a]=K.useState(!1),[u,f]=K.useState(0),[p,_]=K.useState(!1),v=K.useRef(null),E=2.5;K.useEffect(()=>{const M=()=>{r&&!p?(f(V=>{const F=V+E;return F>=100?(_(!0),a(!1),t(),100):F}),v.current=requestAnimationFrame(M)):!r&&!p&&u>0&&(f(V=>Math.max(0,V-E*3)),v.current=requestAnimationFrame(M))};return v.current=requestAnimationFrame(M),()=>{v.current!==null&&cancelAnimationFrame(v.current)}},[r,p,u,t]);const A=()=>{p||a(!0)},I=()=>{a(!1)};return b.jsxs("div",{className:"smart-key-container",style:{background:"#111827",borderRadius:"20px",padding:"2.5rem 2rem",color:"white",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px solid #1f2937",userSelect:"none"},children:[p&&b.jsx("div",{onClick:()=>{_(!1),f(0)},style:{position:"absolute",top:"1rem",right:"1rem",background:"#374151",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#9ca3af",transition:"all 0.2s",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"},title:"Vergrendelen",children:b.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),b.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),b.jsxs("div",{style:{marginBottom:"2.5rem",opacity:p?.5:1,transition:"opacity 0.5s"},children:[b.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"500",margin:0,color:"#e5e7eb",letterSpacing:"0.025em"},children:n}),e&&b.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#9ca3af",background:"#1f2937",padding:"0.25rem 0.75rem",borderRadius:"4px",display:"inline-block",fontFamily:"monospace",letterSpacing:"1px"},children:e})]}),b.jsxs("div",{onMouseDown:A,onMouseUp:I,onMouseLeave:I,onTouchStart:A,onTouchEnd:I,style:{width:"140px",height:"140px",borderRadius:"50%",background:p?"rgba(16, 185, 129, 0.1)":"linear-gradient(145deg, #1f2937, #111827)",boxShadow:p?"0 0 30px rgba(16, 185, 129, 0.2)":r?"inset 0 4px 10px rgba(0,0,0,0.5)":"5px 5px 15px #0b0f19, -5px -5px 15px #273549",display:"flex",alignItems:"center",justifyContent:"center",cursor:p?"default":"pointer",position:"relative",transform:r?"scale(0.96)":"scale(1)",transition:"all 0.2s ease-out",border:"1px solid #374151",marginBottom:"2rem"},children:[b.jsxs("svg",{width:"140",height:"140",style:{position:"absolute",top:0,left:0,transform:"rotate(-90deg)",pointerEvents:"none"},children:[b.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:"#374151",strokeWidth:"2",fill:"transparent"}),b.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:p?"#10b981":"#3b82f6",strokeWidth:"3",fill:"transparent",strokeDasharray:427,strokeDashoffset:427-427*u/100,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0s linear, opacity 0.3s"},opacity:r||p?1:0})]}),b.jsx("div",{style:{color:p?"#10b981":r?"#60a5fa":"#9ca3af",transition:"color 0.3s"},children:p?b.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),b.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),b.jsx("path",{d:"M7 7h10"}),b.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}):b.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),b.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]}),b.jsxs("div",{style:{minHeight:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[b.jsx("p",{style:{fontSize:"0.875rem",color:p?"#10b981":r?"#e5e7eb":"#6b7280",fontWeight:"600",margin:0,letterSpacing:"0.05em",textTransform:"uppercase",transition:"color 0.3s"},children:p?"Auto is open":r?"Authenticeren...":"Houd vast om te openen"}),p&&b.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"0.5rem 0 0 0",animation:"fadeIn 0.5s"},children:"Verbinding stabiel  Gereed voor start"})]})]})}),Va=new d2,TB=yr(()=>{var E,A,I,M,V;const{id:n}=TO(),[e,t]=K.useState(""),[r,a]=K.useState(!1);K.useEffect(()=>{n&&Va.loadBookingDetails(n)},[n]);const u=async()=>{n&&(await Va.cancelBooking(n,e),a(!1))};if(Va.isLoading&&!Va.selectedBookingDetails)return b.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Laden..."});if(Va.error)return b.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#ef4444"},children:["Error: ",Va.error]});const f=Va.selectedBookingDetails;if(!f)return b.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Geen boeking gevonden."});const p=f.status==="REQUESTED"||f.status==="CONFIRMED",v=(F=>{switch(F){case"CONFIRMED":return{color:"#059669",background:"#d1fae5"};case"CANCELLED":return{color:"#dc2626",background:"#fee2e2"};case"COMPLETED":return{color:"#374151",background:"#f3f4f6"};default:return{color:"#2563eb",background:"#dbeafe"}}})(f.status);return b.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem 1rem"},children:[b.jsx("div",{style:{marginBottom:"1.5rem"},children:b.jsx(fi,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#4b5563",textDecoration:"none",padding:"0.5rem 0.75rem",borderRadius:"8px",background:"#f9fafb",transition:"background 0.2s",fontWeight:"500"},children:" Terug naar Dashboard"})}),b.jsxs("div",{style:{background:"white",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",overflow:"hidden",border:"1px solid #f3f4f6"},children:[b.jsxs("div",{style:{background:"#f9fafb",padding:"1.5rem",borderBottom:"1px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[b.jsxs("div",{children:[b.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#111827",margin:0},children:["Boeking #",f.id.substring(0,8)]}),b.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:["Aangemaakt op ",new Date(f.createdAt).toLocaleDateString()," om ",new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),b.jsx("div",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"700",letterSpacing:"0.025em",...v},children:f.status})]}),b.jsxs("div",{style:{padding:"2rem"},children:[f.status==="CANCELLED"&&b.jsx("div",{style:{background:"#fef2f2",borderLeft:"4px solid #ef4444",padding:"1rem",marginBottom:"2rem",borderRadius:"0 8px 8px 0"},children:b.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[b.jsx("span",{style:{fontSize:"1.25rem"},children:""}),b.jsxs("div",{children:[b.jsx("h4",{style:{fontWeight:"700",color:"#7f1d1d",margin:0},children:"Deze rit is geannuleerd"}),b.jsxs("p",{style:{fontSize:"0.875rem",color:"#b91c1c",marginTop:"0.25rem"},children:["Datum: ",f.cancelledAt?new Date(f.cancelledAt).toLocaleString():"-",f.cancellationReason&&b.jsxs("span",{style:{display:"block",marginTop:"0.25rem",fontStyle:"italic"},children:['"',f.cancellationReason,'"']})]})]})]})}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[b.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[b.jsx("span",{children:""})," Route"]}),b.jsxs("div",{style:{position:"relative",paddingLeft:"1.5rem",marginLeft:"0.5rem",borderLeft:"2px solid #e5e7eb",display:"flex",flexDirection:"column",gap:"2rem"},children:[b.jsxs("div",{style:{position:"relative"},children:[b.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#3b82f6",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),b.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Vertrek"}),b.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.startLocation.address})]}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#111827",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),b.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Aankomst"}),b.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.endLocation.address})]})]})]}),b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[b.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[b.jsx("span",{children:""})," Details"]}),b.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[b.jsxs("div",{children:[b.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Voertuig"}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[b.jsx("div",{style:{fontSize:"1.5rem"},children:""}),b.jsxs("div",{children:[b.jsxs("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:[(E=f.car)==null?void 0:E.make," ",(A=f.car)==null?void 0:A.model]}),b.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:(I=f.car)==null?void 0:I.provider})]})]})]}),b.jsxs("div",{children:[b.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Tijdstip"}),b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[b.jsx("div",{style:{fontSize:"1.5rem"},children:""}),b.jsxs("div",{children:[b.jsx("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:new Date(f.startTime).toLocaleDateString()}),b.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:new Date(f.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})]})]}),f.status==="CONFIRMED"&&b.jsxs("div",{style:{marginTop:"2.5rem",paddingTop:"2rem",borderTop:"1px solid #f3f4f6"},children:[b.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"1.5rem",textAlign:"center"},children:"Jouw Digitale Sleutel"}),b.jsx("div",{style:{maxWidth:"360px",margin:"0 auto"},children:b.jsx(EB,{carName:`${(M=f.car)==null?void 0:M.make} ${(V=f.car)==null?void 0:V.model}`,licensePlate:"T-123-XY",onUnlock:()=>console.log("Unlocked from details!")})})]}),p&&b.jsx("div",{style:{marginTop:"2.5rem",paddingTop:"1.5rem",borderTop:"1px solid #f3f4f6",display:"flex",justifyContent:"flex-end"},children:b.jsx("button",{onClick:()=>a(!0),style:{padding:"0.625rem 1.5rem",background:"white",border:"1px solid #fecaca",color:"#dc2626",fontWeight:"500",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:" Rit Annuleren"})})]}),b.jsx(B0,{isOpen:r,onClose:()=>a(!1),title:"Rit Annuleren",footer:b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>a(!1),style:{padding:"0.625rem 1rem",border:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.1)",color:"white",fontWeight:"500",borderRadius:"8px",cursor:"pointer"},children:"Terug"}),b.jsx("button",{onClick:u,disabled:Va.isCancelling,style:{padding:"0.625rem 1rem",background:"#dc2626",color:"white",fontWeight:"700",borderRadius:"8px",border:"none",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(220, 38, 38, 0.2)"},children:Va.isCancelling?"Bezig...":"Bevestig Annulering"})]}),children:b.jsxs("div",{style:{marginBottom:"1.5rem"},children:[b.jsx("p",{style:{color:"#d1d5db",marginBottom:"1rem",fontSize:"0.9rem"},children:"Je staat op het punt deze rit te annuleren. Dit kan niet ongedaan worden gemaakt."}),b.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#d1d5db",marginBottom:"0.5rem"},children:"Reden van annulering (optioneel)"}),b.jsx("input",{type:"text",style:{width:"100%",border:"1px solid #4b5563",background:"rgba(0,0,0,0.2)",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",outline:"none",transition:"border-color 0.2s"},placeholder:"Bijv. Plannen gewijzigd...",value:e,onChange:F=>t(F.target.value)})]})})]})}),sm=({title:n,icon:e,children:t})=>b.jsxs("div",{style:{marginBottom:"2rem"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(0,0,0,0.05)"},children:[e&&b.jsx("span",{style:{color:"var(--primary-600)",background:"var(--primary-50)",padding:"0.5rem",borderRadius:"8px",display:"flex"},children:e}),b.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#111827"},children:n})]}),b.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:t})]}),SB=yr(()=>{const{user:n}=Xn,{isLoading:e}=Hh,[t,r]=K.useState(""),[a,u]=K.useState(""),[f,p]=K.useState(""),[_,v]=K.useState(""),[E,A]=K.useState(""),[I,M]=K.useState(""),[V,F]=K.useState(""),[j,le]=K.useState(""),[Ee,ae]=K.useState(""),[Se,fe]=K.useState(void 0),[Te,k]=K.useState(void 0),[D,z]=K.useState(!1);K.useEffect(()=>{n&&(Hh.setUser(n),n.firstName&&r(n.firstName),n.lastName&&u(n.lastName),n.phoneNumber&&p(n.phoneNumber),n.dateOfBirth&&v(n.dateOfBirth),n.licenseNumber&&A(n.licenseNumber),n.licenseExpiryDate&&M(n.licenseExpiryDate),n.emergencyContactName&&F(n.emergencyContactName),n.emergencyContactPhone&&le(n.emergencyContactPhone),n.iban&&ae(n.iban),n.homeLocation&&fe(n.homeLocation),n.workLocation&&k(n.workLocation))},[n]);const W=async H=>{H.preventDefault();const B={firstName:t,lastName:a,phoneNumber:f,dateOfBirth:_,licenseNumber:E,licenseExpiryDate:I,emergencyContactName:V,emergencyContactPhone:j,iban:Ee};Se&&(B.homeLocation=Se),Te&&(B.workLocation=Te),await Hh.updateProfile(B),Hh.user&&(Xn.user=Hh.user),z(!0)};if(!n)return b.jsx("div",{className:"p-8 text-center text-gray-500",children:"Niet ingelogd."});const q={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",maxWidth:"800px",margin:"0 auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(255, 255, 255, 0.5)",position:"relative",zIndex:10,overflow:"hidden"};return b.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",padding:"2rem 1rem"},children:[b.jsx(eg,{}),D&&b.jsx(g2,{message:"Updates succesvol opgeslagen!",onClose:()=>z(!1)}),b.jsx("div",{style:{maxWidth:"800px",margin:"0 auto 2rem auto",position:"relative",zIndex:10},children:b.jsx(fi,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"white",textDecoration:"none",padding:"0.5rem 1rem",borderRadius:"99px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(4px)",transition:"background 0.2s",fontWeight:"500",fontSize:"0.9rem"},children:" Terug naar Dashboard"})}),b.jsxs("div",{style:q,children:[b.jsx("div",{style:{background:"linear-gradient(to right, #0099cc, #0077a8)",padding:"3rem 2rem",color:"white"},children:b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"1rem"},children:[b.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:""}),b.jsxs("div",{children:[b.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",margin:0,textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Mijn Profiel"}),b.jsx("p",{style:{opacity:.9,fontSize:"1.1rem",marginTop:"0.25rem"},children:"Beheer je gegevens en locaties"})]})]})}),b.jsxs("div",{style:{padding:"2.5rem"},children:[b.jsxs("form",{onSubmit:W,children:[b.jsxs(sm,{title:"Accountgegevens",icon:b.jsx("div",{style:{width:"20px",height:"20px"},children:b.jsx(p2,{})}),children:[b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[b.jsx("span",{style:{color:"#6b7280"},children:b.jsx(yf,{className:"w-4 h-4"})}),b.jsx("span",{children:"E-mailadres"})]}),b.jsxs("div",{style:{position:"relative"},children:[b.jsx("input",{type:"text",className:"form-input",value:n.email,readOnly:!0,disabled:!0,style:{paddingLeft:"2.5rem",background:"#f3f4f6",color:"#6b7280",cursor:"not-allowed",borderColor:"#e5e7eb"}}),b.jsx("div",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},children:b.jsx(V0,{className:"w-4 h-4"})})]}),b.jsx("p",{style:{fontSize:"0.8rem",color:"#9ca3af",marginTop:"0.5rem",fontStyle:"italic"},children:"Je e-mailadres is gekoppeld aan je account en kan niet worden gewijzigd."})]}),b.jsxs("div",{className:"grid-2-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Voornaam"}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Je voornaam",value:t,onChange:H=>r(H.target.value)})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Achternaam"}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Je achternaam",value:a,onChange:H=>u(H.target.value)})]})]}),b.jsxs("div",{className:"grid-2-cols",style:{marginTop:"1rem"},children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Geboortedatum"}),b.jsx("input",{type:"date",className:"form-input",value:_,onChange:H=>v(H.target.value)})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Telefoonnummer"}),b.jsx("input",{type:"tel",className:"form-input",placeholder:"06 12345678",value:f,onChange:H=>p(H.target.value)})]})]}),b.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[b.jsx("label",{className:"form-label",children:"IBAN (voor betalingen)"}),b.jsx("input",{type:"text",className:"form-input",placeholder:"NL00 RABO 0123 4567 89",value:Ee,onChange:H=>ae(H.target.value)})]})]}),b.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),b.jsx(sm,{title:"Rijbewijs",icon:b.jsx("div",{style:{fontSize:"1.2rem"},children:""}),children:b.jsxs("div",{className:"grid-2-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Rijbewijsnummer"}),b.jsx("input",{type:"text",className:"form-input",placeholder:"1234567890",value:E,onChange:H=>A(H.target.value)})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Geldig tot"}),b.jsx("input",{type:"date",className:"form-input",value:I,onChange:H=>M(H.target.value)})]})]})}),b.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),b.jsx(sm,{title:"Noodcontact",icon:b.jsx("div",{style:{fontSize:"1.2rem"},children:""}),children:b.jsxs("div",{className:"grid-2-cols",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Naam Contactpersoon"}),b.jsx("input",{type:"text",className:"form-input",placeholder:"Naam",value:V,onChange:H=>F(H.target.value)})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Telefoonnummer"}),b.jsx("input",{type:"tel",className:"form-input",placeholder:"06 12345678",value:j,onChange:H=>le(H.target.value)})]})]})}),b.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),b.jsxs(sm,{title:"Favoriete Locaties",icon:b.jsx("div",{style:{width:"20px",height:"20px"},children:b.jsx(m2,{})}),children:[b.jsxs("div",{className:"form-group",children:[b.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[b.jsx("span",{style:{color:"var(--primary-600)"},children:b.jsx(pv,{})}),b.jsx("span",{children:"Thuisadres"})]}),b.jsx(ap,{label:"",value:(Se==null?void 0:Se.address)||"",onChange:H=>fe(B=>({...B,address:H,label:"Thuis"})),onSelect:H=>{fe({address:`${H.street} ${H.houseNumber}, ${H.city}`,latitude:H.latitude,longitude:H.longitude,label:"Thuis"})},placeholder:"Bijv. Kerkstraat 1, Amsterdam"})]}),b.jsxs("div",{className:"form-group",style:{marginTop:"1.5rem"},children:[b.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[b.jsx("span",{style:{color:"var(--primary-600)"},children:b.jsx(gv,{})}),b.jsx("span",{children:"Werkadres"})]}),b.jsx(ap,{label:"",value:(Te==null?void 0:Te.address)||"",onChange:H=>k(B=>({...B,address:H,label:"Werk"})),onSelect:H=>{k({address:`${H.street} ${H.houseNumber}, ${H.city}`,latitude:H.latitude,longitude:H.longitude,label:"Werk"})},placeholder:"Bijv. Stationsplein 5, Utrecht"})]})]}),b.jsx("style",{children:`
                            .grid-2-cols {
                                display: grid;
                                grid-template-columns: 1fr 1fr;
                                gap: 1.5rem;
                            }
                            @media (max-width: 640px) {
                                .grid-2-cols {
                                    grid-template-columns: 1fr;
                                }
                            }
                        `}),b.jsxs("div",{style:{marginTop:"3rem",display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[b.jsx(fi,{to:"/dashboard",style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"white",border:"1px solid #e5e7eb",color:"#374151",textDecoration:"none",fontWeight:"600",transition:"background 0.2s"},children:"Annuleren"}),b.jsx("button",{type:"submit",disabled:e,className:"btn-primary",style:{padding:"0.75rem 2rem",borderRadius:"12px",fontWeight:"700",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:e?"Opslaan...":"Wijzigingen Opslaan"})]})]}),b.jsx("div",{style:{marginTop:"3rem",paddingTop:"2rem",borderTop:"1px solid #fee2e2",display:"flex",justifyContent:"center"},children:b.jsx(fi,{to:"/delete-account",style:{color:"#dc2626",fontWeight:"600",fontSize:"0.95rem",textDecoration:"none",padding:"0.75rem 1.5rem",borderRadius:"12px",background:"#fef2f2",border:"1px solid #fee2e2",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"8px"},children:" Account definitief verwijderen"})})]})]})]})}),xB=yr(()=>{const n=_u(),{isLoading:e,error:t}=Xn,[r,a]=K.useState(!1),u=()=>{a(!0)},f=async()=>{try{await Xn.deleteAccount(),n("/login")}catch{a(!1)}};return b.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",padding:"2rem 1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:[b.jsx(eg,{}),b.jsx(B0,{isOpen:r,onClose:()=>a(!1),title:"Weet je het zeker?",footer:b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>a(!1),style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.1)",fontWeight:"600",cursor:"pointer",color:"white",transition:"background 0.2s"},children:"Annuleren"}),b.jsx("button",{onClick:f,style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"#dc2626",border:"none",fontWeight:"600",cursor:"pointer",color:"white"},children:"Ja, verwijder alles"})]}),children:b.jsx("p",{children:"Dit is definitief. Al je gegevens worden direct gewist en de actie kan niet ongedaan worden gemaakt."})}),b.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderRadius:"24px",padding:"3rem 2rem",maxWidth:"500px",width:"100%",position:"relative",zIndex:10,textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[b.jsx("div",{style:{fontSize:"4rem",marginBottom:"1.5rem"},children:""}),b.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",color:"#dc2626",marginBottom:"1rem"},children:"Account Verwijderen"}),b.jsxs("p",{style:{color:"#4b5563",marginBottom:"1.5rem",lineHeight:"1.6"},children:["Je staat op het punt om je account permanent te verwijderen.",b.jsx("br",{}),b.jsx("br",{}),b.jsx("strong",{children:"Wat gebeurt er?"})]}),b.jsxs("ul",{style:{textAlign:"left",marginTop:"0.5rem",marginBottom:"1rem",color:"#4b5563",paddingLeft:"1.5rem"},children:[b.jsx("li",{children:" Je profiel en privgegevens worden gewist."}),b.jsx("li",{children:" Je kunt niet meer inloggen."}),b.jsxs("li",{children:[" Je rithistorie wordt ",b.jsx("span",{style:{color:"#059669",fontWeight:600},children:"geanonimiseerd bewaard"})," voor statistieken."]})]}),t&&b.jsx("div",{style:{background:"#fee2e2",color:"#991b1b",padding:"1rem",borderRadius:"12px",marginBottom:"1.5rem",fontSize:"0.9rem"},children:t}),b.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[b.jsx("button",{onClick:u,disabled:e,style:{background:"#dc2626",color:"white",border:"none",padding:"1rem",borderRadius:"12px",fontWeight:"700",fontSize:"1rem",cursor:e?"not-allowed":"pointer",opacity:e?.7:1,transition:"all 0.2s"},children:e?"Bezig met verwijderen...":"Ja, verwijder mijn account"}),b.jsx("button",{onClick:()=>n("/dashboard"),style:{background:"transparent",color:"#4b5563",border:"1px solid #e5e7eb",padding:"1rem",borderRadius:"12px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"Annuleren, breng me terug"})]})]})]})}),x1=({booking:n})=>{var t;const e=r=>{switch(r){case"CONFIRMED":return"status-confirmed";case"CANCELLED":return"status-cancelled";case"COMPLETED":return"status-completed";default:return"status-requested"}};return b.jsx(fi,{to:`/booking/${n.id}`,className:"booking-card-link",children:b.jsxs("div",{className:"booking-card",children:[b.jsxs("div",{className:"booking-card-header",children:[b.jsxs("div",{className:"booking-time",children:[b.jsx("span",{className:"date",children:new Date(n.startTime).toLocaleDateString()}),b.jsx("span",{className:"time",children:new Date(n.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),b.jsx("span",{className:`status-badge ${e(n.status)}`,children:n.status})]}),b.jsxs("div",{className:"booking-route",children:[b.jsxs("div",{className:"route-point",children:[b.jsx("span",{className:"icon text-lg",children:""}),b.jsx("span",{className:"address",children:n.startLocation.address})]}),b.jsx("div",{className:"route-arrow",children:""}),b.jsxs("div",{className:"route-point",children:[b.jsx("span",{className:"icon text-lg",children:""}),b.jsx("span",{className:"address",children:((t=n.endLocation)==null?void 0:t.address)||"Bestemming"})]})]})]})})},AB=yr(()=>{const[n,e]=_s.useState([]),[t,r]=_s.useState(!0);K.useEffect(()=>{(async()=>{var A;const E=(A=Xn.user)==null?void 0:A.id;if(!E){r(!1);return}try{const I=await Sm.getUserBookings(E);e(I)}catch(I){console.error("Failed to fetch bookings",I)}finally{r(!1)}})()},[Xn.user]);const a=n.filter(v=>["REQUESTED","CONFIRMED"].includes(v.status)),u=n.filter(v=>["CANCELLED","COMPLETED"].includes(v.status)),f={maxWidth:"1280px",margin:"0 auto",padding:"2rem 1rem",position:"relative",zIndex:10,minHeight:"100vh",paddingBottom:"3rem"},p={fontSize:"1.5rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",paddingBottom:"0.5rem",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"0.5rem"},_={textAlign:"center",padding:"3rem",background:"rgba(255,255,255,0.6)",backdropFilter:"blur(12px)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.5)",color:"#6b7280"};return b.jsxs("div",{style:{background:"#f3f4f6",minHeight:"100vh",position:"relative"},children:[b.jsx(eg,{}),b.jsxs("div",{style:f,children:[b.jsxs("div",{style:{marginBottom:"2rem",paddingTop:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsxs("div",{children:[b.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"800",color:"#111827",marginBottom:"0.5rem"},children:"Mijn Ritten"}),b.jsx("p",{style:{color:"#4b5563",fontSize:"1.1rem"},children:"Beheer je aankomende en afgelopen reizen."})]}),b.jsx(fi,{to:"/request",className:"btn-primary",style:{textDecoration:"none",background:"#111827",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:"+ Nieuwe Rit"})]}),t?b.jsx("div",{style:{padding:"4rem",textAlign:"center",color:"#6b7280"},children:"Ritten laden..."}):b.jsxs(b.Fragment,{children:[b.jsxs("section",{style:{marginBottom:"3rem"},children:[b.jsxs("h2",{style:p,children:[" Aankomend ",b.jsx("span",{style:{fontSize:"0.9rem",background:"#e0e7ff",color:"#4f46e5",padding:"2px 8px",borderRadius:"12px"},children:a.length})]}),a.length===0?b.jsxs("div",{style:_,children:[b.jsx("p",{style:{fontSize:"1.1rem",marginBottom:"1rem"},children:"Je hebt nog geen ritten gepland."}),b.jsx(fi,{to:"/request",style:{color:"#4f46e5",fontWeight:"600",textDecoration:"none"},children:"Plan een rit "})]}):b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"1.5rem"},children:a.map(v=>b.jsx("div",{children:b.jsx(x1,{booking:v})},v.id))})]}),b.jsxs("section",{children:[b.jsx("h2",{style:p,children:" Geschiedenis"}),u.length===0?b.jsx("div",{style:_,children:b.jsx("p",{children:"Nog geen geschiedenis."})}):b.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"1.5rem"},children:u.map(v=>b.jsx("div",{style:{opacity:.8},children:b.jsx(x1,{booking:v})},v.id))})]})]})]})]})}),CB=yr(()=>{const{cars:n,chargingPoints:e,isLoading:t}=mc,[r,a]=K.useState(!1),[u,f]=K.useState({make:"",model:"",seats:"",luggageCapacity:"",fuelType:K_.EV,provider:ru.DUMMY,pricePerHourEstimate:""}),[p,_]=K.useState(!1),[v,E]=K.useState({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"});K.useEffect(()=>{mc.loadData()},[]);const A=async M=>{M.preventDefault(),await mc.addCar({...u,seats:Number(u.seats),luggageCapacity:Number(u.luggageCapacity),pricePerHourEstimate:Number(u.pricePerHourEstimate)}),a(!1),f({make:"",model:"",seats:"",luggageCapacity:"",fuelType:K_.EV,provider:ru.DUMMY,pricePerHourEstimate:""})},I=async M=>{M.preventDefault(),await mc.addChargingPoint({...v,latitude:Number(v.latitude),longitude:Number(v.longitude)}),_(!1),E({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"})};return b.jsxs("div",{className:"admin-panel",children:[b.jsx("h2",{className:"mb-4",children:"Admin Beheer"}),t&&b.jsx("p",{children:"Laden..."}),b.jsxs("section",{className:"admin-section card",children:[b.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[b.jsx("h3",{style:{margin:0},children:"Auto's Beheren"}),b.jsx("button",{className:"cta-button",onClick:()=>a(!r),children:r?"Annuleren":"+ Auto Toevoegen"})]}),r&&b.jsxs("form",{className:"admin-form mb-4",onSubmit:A,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Merk"}),b.jsx("input",{type:"text",placeholder:"Bijv. Tesla",value:u.make,onChange:M=>f({...u,make:M.target.value}),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Model"}),b.jsx("input",{type:"text",placeholder:"Bijv. Model Y",value:u.model,onChange:M=>f({...u,model:M.target.value}),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Aantal Stoelen"}),b.jsx("input",{type:"number",placeholder:"5",value:u.seats,onChange:M=>f({...u,seats:M.target.value}),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Bagageruimte"}),b.jsx("input",{type:"number",placeholder:"2",value:u.luggageCapacity,onChange:M=>f({...u,luggageCapacity:M.target.value}),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Brandstof / Type"}),b.jsx("select",{value:u.fuelType,onChange:M=>f({...u,fuelType:M.target.value}),children:Object.values(K_).map(M=>b.jsx("option",{value:M,children:M},M))})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Prijs per uur ()"}),b.jsx("input",{type:"number",placeholder:"Prijs per uur ()",value:u.pricePerHourEstimate,onChange:M=>f({...u,pricePerHourEstimate:M.target.value}),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Provider"}),b.jsx("select",{value:u.provider,onChange:M=>f({...u,provider:M.target.value}),children:Object.values(ru).map(M=>b.jsx("option",{value:M,children:M},M))})]}),b.jsx("button",{type:"submit",children:"Opslaan"})]}),b.jsx("div",{style:{overflowX:"auto"},children:b.jsxs("table",{className:"admin-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Merk/Model"}),b.jsx("th",{children:"Provider"}),b.jsx("th",{children:"Prijs/u"}),b.jsx("th",{children:"Acties"})]})}),b.jsx("tbody",{children:n.map(M=>b.jsxs("tr",{children:[b.jsxs("td",{children:[M.make," ",M.model," (",M.fuelType,")"]}),b.jsx("td",{children:M.provider}),b.jsxs("td",{children:["",M.pricePerHourEstimate]}),b.jsx("td",{children:b.jsx("button",{onClick:()=>mc.deleteCar(M.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})})]},M.id))})]})})]}),b.jsxs("section",{className:"admin-section card",children:[b.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[b.jsx("h3",{style:{margin:0},children:"Laadpunten Beheren"}),b.jsx("button",{className:"cta-button",onClick:()=>_(!p),children:p?"Annuleren":"+ Laadpunt Toevoegen"})]}),p&&b.jsxs("form",{className:"admin-form mb-4",onSubmit:I,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Naam"}),b.jsx("input",{type:"text",placeholder:"Bijv. Fastned Rotterdam",value:v.name,onChange:M=>E({...v,name:M.target.value}),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Status"}),b.jsxs("select",{value:v.status,onChange:M=>E({...v,status:M.target.value}),children:[b.jsx("option",{value:"AVAILABLE",children:"Beschikbaar"}),b.jsx("option",{value:"OCCUPIED",children:"Bezet"}),b.jsx("option",{value:"UNKNOWN",children:"Onbekend"})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Latitude"}),b.jsx("input",{type:"number",placeholder:"52.08",step:"any",value:v.latitude,onChange:M=>E({...v,latitude:M.target.value}),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{children:"Longitude"}),b.jsx("input",{type:"number",placeholder:"4.32",step:"any",value:v.longitude,onChange:M=>E({...v,longitude:M.target.value}),required:!0})]}),b.jsx("button",{type:"submit",children:"Opslaan"})]}),b.jsx("ul",{className:"admin-list",style:{listStyle:"none",padding:0},children:e.map(M=>b.jsxs("li",{className:"list-item",style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[b.jsxs("span",{children:[M.name," (",M.status,") - [",M.latitude.toFixed(3),", ",M.longitude.toFixed(3),"]"]}),b.jsx("button",{onClick:()=>mc.deleteChargingPoint(M.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})]},M.id))})]})]})}),RB=yr(()=>{const n=_u(),{user:e,isAuthenticated:t}=Xn,r=()=>{Xn.logout(),n("/")};return b.jsx("nav",{className:"navbar",children:b.jsxs("div",{className:"navbar-inner",children:[b.jsx("div",{className:"navbar-brand",children:"Onze Bedrijf Mobility"}),b.jsx("div",{className:"navbar-menu",children:b.jsxs("div",{className:"navbar-links",children:[!t&&b.jsx(zr,{to:"/",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Home"}),t&&(e==null?void 0:e.role)==="customer"&&b.jsxs(b.Fragment,{children:[b.jsx(zr,{to:"/dashboard",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Home"}),b.jsx(zr,{to:"/request",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Reis aanvragen"}),b.jsx(zr,{to:"/my-rides",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Mijn Ritten"}),b.jsx(zr,{to:"/profile",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Profiel"})]}),t&&(e==null?void 0:e.role)==="guest"&&b.jsxs(b.Fragment,{children:[b.jsx(zr,{to:"/dashboard",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Home"}),b.jsx(zr,{to:"/request",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Reis aanvragen"})]}),t&&(e==null?void 0:e.role)==="admin"&&b.jsxs(b.Fragment,{children:[b.jsx(zr,{to:"/dashboard",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Dashboard"}),b.jsx(zr,{to:"/admin",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Admin Panel"})]})]})}),b.jsx("div",{className:"navbar-end",children:t?b.jsx("button",{onClick:r,className:"logout-btn",children:"Uitloggen"}):b.jsxs("div",{className:"navbar-links",children:[b.jsx(zr,{to:"/login",className:"nav-item",children:"Inloggen"}),b.jsx(zr,{to:"/register",className:"nav-item",children:"Registreren"})]})})]})})});function IB(){return b.jsx(uN,{basename:"/tidal-mare",children:b.jsxs("div",{className:"app-shell",children:[b.jsx(RB,{}),b.jsx("main",{className:"app-content",children:b.jsx("div",{className:"app-container",children:b.jsxs(BO,{children:[b.jsx(fr,{path:"/",element:b.jsx(fL,{})}),b.jsx(fr,{path:"/login",element:b.jsx(hB,{})}),b.jsx(fr,{path:"/register",element:b.jsx(fB,{})}),b.jsxs(fr,{element:b.jsx(E1,{roles:["customer","admin","guest"]}),children:[b.jsx(fr,{path:"/dashboard",element:b.jsx(mB,{})}),b.jsx(fr,{path:"/request",element:b.jsx(wB,{})}),b.jsx(fr,{path:"/booking/:id",element:b.jsx(TB,{})}),b.jsx(fr,{path:"/my-rides",element:b.jsx(AB,{})}),b.jsx(fr,{path:"/profile",element:b.jsx(SB,{})}),b.jsx(fr,{path:"/delete-account",element:b.jsx(xB,{})})]}),b.jsx(fr,{element:b.jsx(E1,{roles:["admin"]}),children:b.jsx(fr,{path:"/admin",element:b.jsx(CB,{})})})]})})})]})})}HI.createRoot(document.getElementById("root")).render(b.jsx(K.StrictMode,{children:b.jsx(IB,{})}));
