var wI=Object.defineProperty;var TI=(n,t,e)=>t in n?wI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var se=(n,t,e)=>TI(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function e(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=e(a);fetch(a.href,u)}})();function EA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var P_={exports:{}},Vh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function SI(){if(Rw)return Vh;Rw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(r,a,u){var f=null;if(u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),"key"in a){u={};for(var g in a)g!=="key"&&(u[g]=a[g])}else u=a;return a=u.ref,{$$typeof:n,type:r,key:f,ref:a!==void 0?a:null,props:u}}return Vh.Fragment=t,Vh.jsx=e,Vh.jsxs=e,Vh}var Iw;function AI(){return Iw||(Iw=1,P_.exports=SI()),P_.exports}var E=AI(),N_={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function xI(){if(Ow)return Qt;Ow=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.iterator;function D(R){return R===null||typeof R!="object"?null:(R=O&&R[O]||R["@@iterator"],typeof R=="function"?R:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function ct(R,Y,lt){this.props=R,this.context=Y,this.refs=k,this.updater=lt||M}ct.prototype.isReactComponent={},ct.prototype.setState=function(R,Y){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Y,"setState")},ct.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Et(){}Et.prototype=ct.prototype;function nt(R,Y,lt){this.props=R,this.context=Y,this.refs=k,this.updater=lt||M}var Tt=nt.prototype=new Et;Tt.constructor=nt,z(Tt,ct.prototype),Tt.isPureReactComponent=!0;var Rt=Array.isArray;function Dt(){}var V={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function B(R,Y,lt){var ht=lt.ref;return{$$typeof:n,type:R,key:Y,ref:ht!==void 0?ht:null,props:lt}}function Z(R,Y){return B(R.type,Y,R.props)}function q(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function W(R){var Y={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(lt){return Y[lt]})}var F=/\/+/g;function Yt(R,Y){return typeof R=="object"&&R!==null&&R.key!=null?W(""+R.key):Y.toString(36)}function ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Dt,Dt):(R.status="pending",R.then(function(Y){R.status==="pending"&&(R.status="fulfilled",R.value=Y)},function(Y){R.status==="pending"&&(R.status="rejected",R.reason=Y)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function it(R,Y,lt,ht,mt){var yt=typeof R;(yt==="undefined"||yt==="boolean")&&(R=null);var wt=!1;if(R===null)wt=!0;else switch(yt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(R.$$typeof){case n:case t:wt=!0;break;case T:return wt=R._init,it(wt(R._payload),Y,lt,ht,mt)}}if(wt)return mt=mt(R),wt=ht===""?"."+Yt(R,0):ht,Rt(mt)?(lt="",wt!=null&&(lt=wt.replace(F,"$&/")+"/"),it(mt,Y,lt,"",function(be){return be})):mt!=null&&(q(mt)&&(mt=Z(mt,lt+(mt.key==null||R&&R.key===mt.key?"":(""+mt.key).replace(F,"$&/")+"/")+wt)),Y.push(mt)),1;wt=0;var Lt=ht===""?".":ht+":";if(Rt(R))for(var Ut=0;Ut<R.length;Ut++)ht=R[Ut],yt=Lt+Yt(ht,Ut),wt+=it(ht,Y,lt,yt,mt);else if(Ut=D(R),typeof Ut=="function")for(R=Ut.call(R),Ut=0;!(ht=R.next()).done;)ht=ht.value,yt=Lt+Yt(ht,Ut++),wt+=it(ht,Y,lt,yt,mt);else if(yt==="object"){if(typeof R.then=="function")return it(ze(R),Y,lt,ht,mt);throw Y=String(R),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return wt}function St(R,Y,lt){if(R==null)return R;var ht=[],mt=0;return it(R,ht,"","",function(yt){return Y.call(lt,yt,mt++)}),ht}function bt(R){if(R._status===-1){var Y=R._result;Y=Y(),Y.then(function(lt){(R._status===0||R._status===-1)&&(R._status=1,R._result=lt)},function(lt){(R._status===0||R._status===-1)&&(R._status=2,R._result=lt)}),R._status===-1&&(R._status=0,R._result=Y)}if(R._status===1)return R._result.default;throw R._result}var ee=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},G={map:St,forEach:function(R,Y,lt){St(R,function(){Y.apply(this,arguments)},lt)},count:function(R){var Y=0;return St(R,function(){Y++}),Y},toArray:function(R){return St(R,function(Y){return Y})||[]},only:function(R){if(!q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Qt.Activity=x,Qt.Children=G,Qt.Component=ct,Qt.Fragment=e,Qt.Profiler=a,Qt.PureComponent=nt,Qt.StrictMode=r,Qt.Suspense=_,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return V.H.useMemoCache(R)}},Qt.cache=function(R){return function(){return R.apply(null,arguments)}},Qt.cacheSignal=function(){return null},Qt.cloneElement=function(R,Y,lt){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ht=z({},R.props),mt=R.key;if(Y!=null)for(yt in Y.key!==void 0&&(mt=""+Y.key),Y)!j.call(Y,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Y.ref===void 0||(ht[yt]=Y[yt]);var yt=arguments.length-2;if(yt===1)ht.children=lt;else if(1<yt){for(var wt=Array(yt),Lt=0;Lt<yt;Lt++)wt[Lt]=arguments[Lt+2];ht.children=wt}return B(R.type,mt,ht)},Qt.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Qt.createElement=function(R,Y,lt){var ht,mt={},yt=null;if(Y!=null)for(ht in Y.key!==void 0&&(yt=""+Y.key),Y)j.call(Y,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(mt[ht]=Y[ht]);var wt=arguments.length-2;if(wt===1)mt.children=lt;else if(1<wt){for(var Lt=Array(wt),Ut=0;Ut<wt;Ut++)Lt[Ut]=arguments[Ut+2];mt.children=Lt}if(R&&R.defaultProps)for(ht in wt=R.defaultProps,wt)mt[ht]===void 0&&(mt[ht]=wt[ht]);return B(R,yt,mt)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(R){return{$$typeof:g,render:R}},Qt.isValidElement=q,Qt.lazy=function(R){return{$$typeof:T,_payload:{_status:-1,_result:R},_init:bt}},Qt.memo=function(R,Y){return{$$typeof:v,type:R,compare:Y===void 0?null:Y}},Qt.startTransition=function(R){var Y=V.T,lt={};V.T=lt;try{var ht=R(),mt=V.S;mt!==null&&mt(lt,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(Dt,ee)}catch(yt){ee(yt)}finally{Y!==null&&lt.types!==null&&(Y.types=lt.types),V.T=Y}},Qt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Qt.use=function(R){return V.H.use(R)},Qt.useActionState=function(R,Y,lt){return V.H.useActionState(R,Y,lt)},Qt.useCallback=function(R,Y){return V.H.useCallback(R,Y)},Qt.useContext=function(R){return V.H.useContext(R)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(R,Y){return V.H.useDeferredValue(R,Y)},Qt.useEffect=function(R,Y){return V.H.useEffect(R,Y)},Qt.useEffectEvent=function(R){return V.H.useEffectEvent(R)},Qt.useId=function(){return V.H.useId()},Qt.useImperativeHandle=function(R,Y,lt){return V.H.useImperativeHandle(R,Y,lt)},Qt.useInsertionEffect=function(R,Y){return V.H.useInsertionEffect(R,Y)},Qt.useLayoutEffect=function(R,Y){return V.H.useLayoutEffect(R,Y)},Qt.useMemo=function(R,Y){return V.H.useMemo(R,Y)},Qt.useOptimistic=function(R,Y){return V.H.useOptimistic(R,Y)},Qt.useReducer=function(R,Y,lt){return V.H.useReducer(R,Y,lt)},Qt.useRef=function(R){return V.H.useRef(R)},Qt.useState=function(R){return V.H.useState(R)},Qt.useSyncExternalStore=function(R,Y,lt){return V.H.useSyncExternalStore(R,Y,lt)},Qt.useTransition=function(){return V.H.useTransition()},Qt.version="19.2.1",Qt}var Pw;function ap(){return Pw||(Pw=1,N_.exports=xI()),N_.exports}var $=ap();const el=EA($);var L_={exports:{}},zh={},M_={exports:{}},D_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function CI(){return Nw||(Nw=1,(function(n){function t(it,St){var bt=it.length;it.push(St);t:for(;0<bt;){var ee=bt-1>>>1,G=it[ee];if(0<a(G,St))it[ee]=St,it[bt]=G,bt=ee;else break t}}function e(it){return it.length===0?null:it[0]}function r(it){if(it.length===0)return null;var St=it[0],bt=it.pop();if(bt!==St){it[0]=bt;t:for(var ee=0,G=it.length,R=G>>>1;ee<R;){var Y=2*(ee+1)-1,lt=it[Y],ht=Y+1,mt=it[ht];if(0>a(lt,bt))ht<G&&0>a(mt,lt)?(it[ee]=mt,it[ht]=bt,ee=ht):(it[ee]=lt,it[Y]=bt,ee=Y);else if(ht<G&&0>a(mt,bt))it[ee]=mt,it[ht]=bt,ee=ht;else break t}}return St}function a(it,St){var bt=it.sortIndex-St.sortIndex;return bt!==0?bt:it.id-St.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var _=[],v=[],T=1,x=null,O=3,D=!1,M=!1,z=!1,k=!1,ct=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function Tt(it){for(var St=e(v);St!==null;){if(St.callback===null)r(v);else if(St.startTime<=it)r(v),St.sortIndex=St.expirationTime,t(_,St);else break;St=e(v)}}function Rt(it){if(z=!1,Tt(it),!M)if(e(_)!==null)M=!0,Dt||(Dt=!0,W());else{var St=e(v);St!==null&&ze(Rt,St.startTime-it)}}var Dt=!1,V=-1,j=5,B=-1;function Z(){return k?!0:!(n.unstable_now()-B<j)}function q(){if(k=!1,Dt){var it=n.unstable_now();B=it;var St=!0;try{t:{M=!1,z&&(z=!1,Et(V),V=-1),D=!0;var bt=O;try{e:{for(Tt(it),x=e(_);x!==null&&!(x.expirationTime>it&&Z());){var ee=x.callback;if(typeof ee=="function"){x.callback=null,O=x.priorityLevel;var G=ee(x.expirationTime<=it);if(it=n.unstable_now(),typeof G=="function"){x.callback=G,Tt(it),St=!0;break e}x===e(_)&&r(_),Tt(it)}else r(_);x=e(_)}if(x!==null)St=!0;else{var R=e(v);R!==null&&ze(Rt,R.startTime-it),St=!1}}break t}finally{x=null,O=bt,D=!1}St=void 0}}finally{St?W():Dt=!1}}}var W;if(typeof nt=="function")W=function(){nt(q)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Yt=F.port2;F.port1.onmessage=q,W=function(){Yt.postMessage(null)}}else W=function(){ct(q,0)};function ze(it,St){V=ct(function(){it(n.unstable_now())},St)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(it){it.callback=null},n.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<it?Math.floor(1e3/it):5},n.unstable_getCurrentPriorityLevel=function(){return O},n.unstable_next=function(it){switch(O){case 1:case 2:case 3:var St=3;break;default:St=O}var bt=O;O=St;try{return it()}finally{O=bt}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(it,St){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var bt=O;O=it;try{return St()}finally{O=bt}},n.unstable_scheduleCallback=function(it,St,bt){var ee=n.unstable_now();switch(typeof bt=="object"&&bt!==null?(bt=bt.delay,bt=typeof bt=="number"&&0<bt?ee+bt:ee):bt=ee,it){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=bt+G,it={id:T++,callback:St,priorityLevel:it,startTime:bt,expirationTime:G,sortIndex:-1},bt>ee?(it.sortIndex=bt,t(v,it),e(_)===null&&it===e(v)&&(z?(Et(V),V=-1):z=!0,ze(Rt,bt-ee))):(it.sortIndex=G,t(_,it),M||D||(M=!0,Dt||(Dt=!0,W()))),it},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(it){var St=O;return function(){var bt=O;O=St;try{return it.apply(this,arguments)}finally{O=bt}}}})(D_)),D_}var Lw;function RI(){return Lw||(Lw=1,M_.exports=CI()),M_.exports}var k_={exports:{}},ai={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function II(){if(Mw)return ai;Mw=1;var n=ap();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var r={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(_,v,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:_,containerInfo:v,implementation:T}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ai.createPortal=function(_,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return u(_,v,null,T)},ai.flushSync=function(_){var v=f.T,T=r.p;try{if(f.T=null,r.p=2,_)return _()}finally{f.T=v,r.p=T,r.d.f()}},ai.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},ai.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},ai.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var T=v.as,x=g(T,v.crossOrigin),O=typeof v.integrity=="string"?v.integrity:void 0,D=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:D}):T==="script"&&r.d.X(_,{crossOrigin:x,integrity:O,fetchPriority:D,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ai.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=g(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},ai.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,x=g(T,v.crossOrigin);r.d.L(_,T,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ai.preloadModule=function(_,v){if(typeof _=="string")if(v){var T=g(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},ai.requestFormReset=function(_){r.d.r(_)},ai.unstable_batchedUpdates=function(_,v){return _(v)},ai.useFormState=function(_,v,T){return f.H.useFormState(_,v,T)},ai.useFormStatus=function(){return f.H.useHostTransitionStatus()},ai.version="19.2.1",ai}var Dw;function wA(){if(Dw)return k_.exports;Dw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),k_.exports=II(),k_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function OI(){if(kw)return zh;kw=1;var n=RI(),t=ap(),e=wA();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function f(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function g(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function _(i){if(u(i)!==i)throw Error(r(188))}function v(i){var s=i.alternate;if(!s){if(s=u(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return _(p),i;if(y===h)return _(p),s;y=y.sibling}throw Error(r(188))}if(l.return!==h.return)l=p,h=y;else{for(var A=!1,P=p.child;P;){if(P===l){A=!0,l=p,h=y;break}if(P===h){A=!0,h=p,l=y;break}P=P.sibling}if(!A){for(P=y.child;P;){if(P===l){A=!0,l=y,h=p;break}if(P===h){A=!0,h=y,l=p;break}P=P.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function T(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=T(i),s!==null)return s;i=i.sibling}return null}var x=Object.assign,O=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var F=Symbol.for("react.client.reference");function Yt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===F?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case z:return"Fragment";case ct:return"Profiler";case k:return"StrictMode";case Rt:return"Suspense";case Dt:return"SuspenseList";case B:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case nt:return i.displayName||"Context";case Et:return(i._context.displayName||"Context")+".Consumer";case Tt:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return s=i.displayName||null,s!==null?s:Yt(i.type)||"Memo";case j:s=i._payload,i=i._init;try{return Yt(i(s))}catch{}}return null}var ze=Array.isArray,it=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},ee=[],G=-1;function R(i){return{current:i}}function Y(i){0>G||(i.current=ee[G],ee[G]=null,G--)}function lt(i,s){G++,ee[G]=i.current,i.current=s}var ht=R(null),mt=R(null),yt=R(null),wt=R(null);function Lt(i,s){switch(lt(yt,s),lt(mt,i),lt(ht,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?QE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=QE(s),i=XE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(ht),lt(ht,i)}function Ut(){Y(ht),Y(mt),Y(yt)}function be(i){i.memoizedState!==null&&lt(wt,i);var s=ht.current,l=XE(s,i.type);s!==l&&(lt(mt,i),lt(ht,l))}function fe(i){mt.current===i&&(Y(ht),Y(mt)),wt.current===i&&(Y(wt),Mh._currentValue=bt)}var ve,Be;function Wt(i){if(ve===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ve=s&&s[1]||"",Be=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+i+Be}var nn=!1;function un(i,s){if(!i||nn)return"";nn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(ut){var st=ut}Reflect.construct(i,[],gt)}else{try{gt.call()}catch(ut){st=ut}i.call(gt.prototype)}}else{try{throw Error()}catch(ut){st=ut}(gt=i())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(ut){if(ut&&st&&typeof ut.stack=="string")return[ut.stack,st.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),A=y[0],P=y[1];if(A&&P){var H=A.split(`
`),et=P.split(`
`);for(p=h=0;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;for(;p<et.length&&!et[p].includes("DetermineComponentFrameRoot");)p++;if(h===H.length||p===et.length)for(h=H.length-1,p=et.length-1;1<=h&&0<=p&&H[h]!==et[p];)p--;for(;1<=h&&0<=p;h--,p--)if(H[h]!==et[p]){if(h!==1||p!==1)do if(h--,p--,0>p||H[h]!==et[p]){var ft=`
`+H[h].replace(" at new "," at ");return i.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",i.displayName)),ft}while(1<=h&&0<=p);break}}}finally{nn=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Wt(l):""}function pn(i,s){switch(i.tag){case 26:case 27:case 5:return Wt(i.type);case 16:return Wt("Lazy");case 13:return i.child!==s&&s!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return un(i.type,!1);case 11:return un(i.type.render,!1);case 1:return un(i.type,!0);case 31:return Wt("Activity");default:return""}}function Tn(i){try{var s="",l=null;do s+=pn(i,l),l=i,i=i.return;while(i);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Le=Object.prototype.hasOwnProperty,Se=n.unstable_scheduleCallback,wi=n.unstable_cancelCallback,eo=n.unstable_shouldYield,ca=n.unstable_requestPaint,Sn=n.unstable_now,Wr=n.unstable_getCurrentPriorityLevel,gr=n.unstable_ImmediatePriority,xs=n.unstable_UserBlockingPriority,Gi=n.unstable_NormalPriority,no=n.unstable_LowPriority,Cs=n.unstable_IdlePriority,Yr=n.log,io=n.unstable_setDisableYieldValue,Jn=null,gn=null;function fi(i){if(typeof Yr=="function"&&io(i),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(Jn,i)}catch{}}var rn=Math.clz32?Math.clz32:Au,Rs=Math.log,ro=Math.LN2;function Au(i){return i>>>=0,i===0?32:31-(Rs(i)/ro|0)|0}var Zi=256,Is=262144,sn=4194304;function _r(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yr(i,s,l){var h=i.pendingLanes;if(h===0)return 0;var p=0,y=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var P=h&134217727;return P!==0?(h=P&~y,h!==0?p=_r(h):(A&=P,A!==0?p=_r(A):l||(l=P&~i,l!==0&&(p=_r(l))))):(P=h&~y,P!==0?p=_r(P):A!==0?p=_r(A):l||(l=h&~i,l!==0&&(p=_r(l)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:p}function Ki(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function th(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var i=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),i}function vr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function $r(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function eh(i,s,l,h,p,y){var A=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var P=i.entanglements,H=i.expirationTimes,et=i.hiddenUpdates;for(l=A&~l;0<l;){var ft=31-rn(l),gt=1<<ft;P[ft]=0,H[ft]=-1;var st=et[ft];if(st!==null)for(et[ft]=null,ft=0;ft<st.length;ft++){var ut=st[ft];ut!==null&&(ut.lane&=-536870913)}l&=~gt}h!==0&&ha(i,h,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(A&~s))}function ha(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-rn(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function ml(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-rn(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}function pl(i,s){var l=s&-s;return l=(l&42)!==0?1:jn(l),(l&(i.suspendedLanes|s))!==0?0:l}function jn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Nt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function gl(){var i=St.p;return i!==0?i:(i=window.event,i===void 0?32:Ew(i.type))}function Ti(i,s){var l=St.p;try{return St.p=i,s()}finally{St.p=l}}var Si=Math.random().toString(36).slice(2),an="__reactFiber$"+Si,cn="__reactProps$"+Si,Wi="__reactContainer$"+Si,Yi="__reactEvents$"+Si,Cu="__reactListeners$"+Si,Ru="__reactHandles$"+Si,Iu="__reactResources$"+Si,br="__reactMarker$"+Si;function so(i){delete i[an],delete i[cn],delete i[Yi],delete i[Cu],delete i[Ru]}function $i(i){var s=i[an];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Wi]||l[an]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=sw(i);i!==null;){if(l=i[an])return l;i=sw(i)}return s}i=l,l=i.parentNode}return null}function Ai(i){if(i=i[an]||i[Wi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Vn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Er(i){var s=i[Iu];return s||(s=i[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function hn(i){i[br]=!0}var _l=new Set,yl={};function wr(i,s){xi(i,s),xi(i+"Capture",s)}function xi(i,s){for(yl[i]=s,i=0;i<s.length;i++)_l.add(s[i])}var Qr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ao={},oo={};function Os(i){return Le.call(oo,i)?!0:Le.call(ao,i)?!1:Qr.test(i)?oo[i]=!0:(ao[i]=!0,!1)}function ae(i,s,l){if(Os(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function le(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function Ye(i,s,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+h)}}function $e(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function di(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fa(i,s,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var p=h.get,y=h.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(A){l=""+A,y.call(this,A)}}),Object.defineProperty(i,s,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ot(i){if(!i._valueTracker){var s=di(i)?"checked":"value";i._valueTracker=fa(i,s,""+i[s])}}function De(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=di(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function Ci(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Tr=/[\n"\\]/g;function qe(i){return i.replace(Tr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function lo(i,s,l,h,p,y,A,P){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+$e(s)):i.value!==""+$e(s)&&(i.value=""+$e(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?Qi(i,A,$e(s)):l!=null?Qi(i,A,$e(l)):h!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+$e(P):i.removeAttribute("name")}function da(i,s,l,h,p,y,A,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Ot(i);return}l=l!=null?""+$e(l):"",s=s!=null?""+$e(s):l,P||s===i.value||(i.value=s),i.defaultValue=s}h=h??p,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=P?i.checked:!!h,i.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Ot(i)}function Qi(i,s,l){s==="number"&&Ci(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ke(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+$e(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Sr(i,s,l){if(s!=null&&(s=""+$e(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+$e(l):""}function Ri(i,s,l,h){if(s==null){if(h!=null){if(l!=null)throw Error(r(92));if(ze(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),s=l}l=$e(s),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Ot(i)}function An(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var uo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xr(i,s,l){var h=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,l):typeof l!="number"||l===0||uo.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function ma(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var p in s)h=s[p],s.hasOwnProperty(p)&&l[p]!==h&&Xr(i,p,h)}else for(var y in s)s.hasOwnProperty(y)&&Xr(i,y,s[y])}function Ps(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(i){return Ar.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ti(){}var co=null;function ei(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ls=null,Ft=null;function zn(i){var s=Ai(i);if(s&&(i=s.stateNode)){var l=i[cn]||null;t:switch(i=s.stateNode,s.type){case"input":if(lo(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qe(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=h[cn]||null;if(!p)throw Error(r(90));lo(h,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)h=l[s],h.form===i.form&&De(h)}break t;case"textarea":Sr(i,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&ke(i,!!l.multiple,s,!1)}}}var Ae=!1;function Jr(i,s,l){if(Ae)return i(s,l);Ae=!0;try{var h=i(s);return h}finally{if(Ae=!1,(Ls!==null||Ft!==null)&&(xd(),Ls&&(s=Ls,i=Ft,Ft=Ls=null,zn(s),i)))for(s=0;s<i.length;s++)zn(i[s])}}function mi(i,s){var l=i.stateNode;if(l===null)return null;var h=l[cn]||null;if(h===null)return null;l=h[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ts=!1;if(ni)try{var de={};Object.defineProperty(de,"passive",{get:function(){ts=!0}}),window.addEventListener("test",de,de),window.removeEventListener("test",de,de)}catch{ts=!1}var Ii=null,es=null,Qe=null;function Xi(){if(Qe)return Qe;var i,s=es,l=s.length,h,p="value"in Ii?Ii.value:Ii.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var A=l-i;for(h=1;h<=A&&s[l-h]===p[y-h];h++);return Qe=p.slice(i,1<h?1-h:void 0)}function Ms(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function xr(){return!0}function Ji(){return!1}function xn(i){function s(l,h,p,y,A){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?xr:Ji,this.isPropagationStopped=Ji,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),s}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cr=xn(tr),ns=x({},tr,{view:0,detail:0}),re=xn(ns),Ds,Bn,ii,ga=x({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ii&&(ii&&i.type==="mousemove"?(Ds=i.screenX-ii.screenX,Bn=i.screenY-ii.screenY):Bn=Ds=0,ii=i),Ds)},movementY:function(i){return"movementY"in i?i.movementY:Bn}}),vl=xn(ga),is=x({},ga,{dataTransfer:0}),Ou=xn(is),bl=x({},ns,{relatedTarget:0}),_a=xn(bl),El=x({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ho=xn(El),fo=x({},tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pi=xn(fo),Pu=x({},tr,{data:0}),er=xn(Pu),nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mo(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Tl[i])?!!s[i]:!1}function ks(){return mo}var Un=x({},ns,{key:function(i){if(i.key){var s=nr[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ms(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?wl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(i){return i.type==="keypress"?Ms(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ms(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Sl=xn(Un),Nu=x({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=xn(Nu),d=x({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),w=xn(d),C=x({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=xn(C),J=x({},ga,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),at=xn(J),At=x({},tr,{newState:0,oldState:0}),Zt=xn(At),Ee=[9,13,27,32],we=ni&&"CompositionEvent"in window,Ge=null;ni&&"documentMode"in document&&(Ge=document.documentMode);var Oi=ni&&"TextEvent"in window&&!Ge,Pi=ni&&(!we||Ge&&8<Ge&&11>=Ge),gi=" ",ir=!1;function ya(i,s){switch(i){case"keyup":return Ee.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var po=!1;function rr(i,s){switch(i){case"compositionend":return va(s);case"keypress":return s.which!==32?null:(ir=!0,gi);case"textInput":return i=s.data,i===gi&&ir?null:i;default:return null}}function go(i,s){if(po)return i==="compositionend"||!we&&ya(i,s)?(i=Xi(),Qe=es=Ii=null,po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Pi&&s.locale!=="ko"?null:s.data;default:return null}}var Yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rr(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Yp[i.type]:s==="textarea"}function Hf(i,s,l,h){Ls?Ft?Ft.push(h):Ft=[h]:Ls=h,s=Ld(s,"onChange"),0<s.length&&(l=new Cr("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Ir=null,Al=null;function xl(i){GE(i,0)}function Cl(i){var s=Vn(i);if(De(s))return i}function Rl(i,s){if(i==="change")return s}var qf=!1;if(ni){var Or;if(ni){var _o="oninput"in document;if(!_o){var Gf=document.createElement("div");Gf.setAttribute("oninput","return;"),_o=typeof Gf.oninput=="function"}Or=_o}else Or=!1;qf=Or&&(!document.documentMode||9<document.documentMode)}function Lu(){Ir&&(Ir.detachEvent("onpropertychange",Zf),Al=Ir=null)}function Zf(i){if(i.propertyName==="value"&&Cl(Al)){var s=[];Hf(s,Al,i,ei(i)),Jr(xl,s)}}function ss(i,s,l){i==="focusin"?(Lu(),Ir=s,Al=l,Ir.attachEvent("onpropertychange",Zf)):i==="focusout"&&Lu()}function $p(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cl(Al)}function yo(i,s){if(i==="click")return Cl(s)}function Qp(i,s){if(i==="input"||i==="change")return Cl(s)}function as(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Fn=typeof Object.is=="function"?Object.is:as;function vo(i,s){if(Fn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!Le.call(s,p)||!Fn(i[p],s[p]))return!1}return!0}function Mu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Il(i,s){var l=Mu(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Mu(l)}}function Du(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Du(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ol(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ci(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ci(i.document)}return s}function js(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ku=ni&&"documentMode"in document&&11>=document.documentMode,Vs=null,ju=null,Pl=null,bo=!1;function Kf(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;bo||Vs==null||Vs!==Ci(h)||(h=Vs,"selectionStart"in h&&js(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Pl&&vo(Pl,h)||(Pl=h,h=Ld(ju,"onSelect"),0<h.length&&(s=new Cr("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Vs)))}function zs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Eo={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Vu={},Wf={};ni&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Hn(i){if(Vu[i])return Vu[i];if(!Eo[i])return i;var s=Eo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Wf)return Vu[i]=s[l];return i}var Nl=Hn("animationend"),Yf=Hn("animationiteration"),Ll=Hn("animationstart"),Xp=Hn("transitionrun"),$f=Hn("transitionstart"),Jp=Hn("transitioncancel"),wo=Hn("transitionend"),Qf=new Map,Bs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bs.push("scrollEnd");function Ni(i,s){Qf.set(i,s),wr(s,[i])}var Ml=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Li=[],ri=0,zu=0;function Dl(){for(var i=ri,s=zu=ri=0;s<i;){var l=Li[s];Li[s++]=null;var h=Li[s];Li[s++]=null;var p=Li[s];Li[s++]=null;var y=Li[s];if(Li[s++]=null,h!==null&&p!==null){var A=h.pending;A===null?p.next=p:(p.next=A.next,A.next=p),h.pending=p}y!==0&&To(l,p,y)}}function Us(i,s,l,h){Li[ri++]=i,Li[ri++]=s,Li[ri++]=l,Li[ri++]=h,zu|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function nh(i,s,l,h){return Us(i,s,l,h),kl(i)}function Pr(i,s){return Us(i,null,null,s),kl(i)}function To(i,s,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var p=!1,y=i.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-rn(l),i=y.hiddenUpdates,h=i[p],h===null?i[p]=[s]:h.push(s),s.lane=l|536870912),y):null}function kl(i){if(50<Ch)throw Ch=0,e_=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var ba={};function tg(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(i,s,l,h){return new tg(i,s,l,h)}function Bu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Nr(i,s){var l=i.alternate;return l===null?(l=si(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function ih(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function jl(i,s,l,h,p,y){var A=0;if(h=i,typeof i=="function")Bu(i)&&(A=1);else if(typeof i=="string")A=cI(i,l,ht.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case B:return i=si(31,l,s,p),i.elementType=B,i.lanes=y,i;case z:return Ea(l.children,p,y,s);case k:A=8,p|=24;break;case ct:return i=si(12,l,s,p|2),i.elementType=ct,i.lanes=y,i;case Rt:return i=si(13,l,s,p),i.elementType=Rt,i.lanes=y,i;case Dt:return i=si(19,l,s,p),i.elementType=Dt,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case nt:A=10;break t;case Et:A=9;break t;case Tt:A=11;break t;case V:A=14;break t;case j:A=16,h=null;break t}A=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=si(A,l,s,p),s.elementType=i,s.type=h,s.lanes=y,s}function Ea(i,s,l,h){return i=si(7,i,h,s),i.lanes=l,i}function Uu(i,s,l){return i=si(6,i,null,s),i.lanes=l,i}function rh(i){var s=si(18,null,null,0);return s.stateNode=i,s}function sh(i,s,l){return s=si(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var o=new WeakMap;function c(i,s){if(typeof i=="object"&&i!==null){var l=o.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Tn(s)},o.set(i,s),s)}return{value:i,source:s,stack:Tn(s)}}var m=[],b=0,S=null,I=0,U=[],X=0,rt=null,pt=1,xt="";function jt(i,s){m[b++]=I,m[b++]=S,S=i,I=s}function ne(i,s,l){U[X++]=pt,U[X++]=xt,U[X++]=rt,rt=i;var h=pt;i=xt;var p=32-rn(h)-1;h&=~(1<<p),l+=1;var y=32-rn(s)+p;if(30<y){var A=p-p%5;y=(h&(1<<A)-1).toString(32),h>>=A,p-=A,pt=1<<32-rn(s)+p|l<<p|h,xt=y+i}else pt=1<<y|l<<p|h,xt=i}function Mn(i){i.return!==null&&(jt(i,1),ne(i,1,0))}function fn(i){for(;i===S;)S=m[--b],m[b]=null,I=m[--b],m[b]=null;for(;i===rt;)rt=U[--X],U[X]=null,xt=U[--X],U[X]=null,pt=U[--X],U[X]=null}function _i(i,s){U[X++]=pt,U[X++]=xt,U[X++]=rt,pt=s.id,xt=s.overflow,rt=i}var Ce=null,Re=null,ue=!1,Fs=null,Mi=!1,Fu=Error(r(519));function Hs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(c(s,i)),Fu}function ah(i){var s=i.stateNode,l=i.type,h=i.memoizedProps;switch(s[an]=i,s[cn]=h,l){case"dialog":he("cancel",s),he("close",s);break;case"iframe":case"object":case"embed":he("load",s);break;case"video":case"audio":for(l=0;l<Ih.length;l++)he(Ih[l],s);break;case"source":he("error",s);break;case"img":case"image":case"link":he("error",s),he("load",s);break;case"details":he("toggle",s);break;case"input":he("invalid",s),da(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":he("invalid",s);break;case"textarea":he("invalid",s),Ri(s,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||h.suppressHydrationWarning===!0||YE(s.textContent,l)?(h.popover!=null&&(he("beforetoggle",s),he("toggle",s)),h.onScroll!=null&&he("scroll",s),h.onScrollEnd!=null&&he("scrollend",s),h.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||Hs(i,!0)}function on(i){for(Ce=i.return;Ce;)switch(Ce.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:Ce=Ce.return}}function os(i){if(i!==Ce)return!1;if(!ue)return on(i),ue=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||g_(i.type,i.memoizedProps)),l=!l),l&&Re&&Hs(i),on(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Re=rw(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Re=rw(i)}else s===27?(s=Re,jo(i.type)?(i=E_,E_=null,Re=i):Re=s):Re=Ce?Mr(i.stateNode.nextSibling):null;return!0}function wa(){Re=Ce=null,ue=!1}function oh(){var i=Fs;return i!==null&&(Vi===null?Vi=i:Vi.push.apply(Vi,i),Fs=null),i}function Vl(i){Fs===null?Fs=[i]:Fs.push(i)}var zl=R(null),qs=null,ls=null;function So(i,s,l){lt(zl,s._currentValue),s._currentValue=l}function Ta(i){i._currentValue=zl.current,Y(zl)}function eg(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function ng(i,s,l,h){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var A=p.child;y=y.firstContext;t:for(;y!==null;){var P=y;y=p;for(var H=0;H<s.length;H++)if(P.context===s[H]){y.lanes|=l,P=y.alternate,P!==null&&(P.lanes|=l),eg(y.return,l,i),h||(A=null);break t}y=P.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),eg(A,l,i),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===i){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function Hu(i,s,l,h){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var P=p.type;Fn(p.pendingProps.value,A.value)||(i!==null?i.push(P):i=[P])}}else if(p===wt.current){if(A=p.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Mh):i=[Mh])}p=p.return}i!==null&&ng(s,i,l,h),s.flags|=262144}function Xf(i){for(i=i.firstContext;i!==null;){if(!Fn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Bl(i){qs=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zn(i){return M0(qs,i)}function Jf(i,s){return qs===null&&Bl(i),M0(i,s)}function M0(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ls===null){if(i===null)throw Error(r(308));ls=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ls=ls.next=s;return l}var a2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},o2=n.unstable_scheduleCallback,l2=n.unstable_NormalPriority,Cn={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ig(){return{controller:new a2,data:new Map,refCount:0}}function lh(i){i.refCount--,i.refCount===0&&o2(l2,function(){i.controller.abort()})}var uh=null,rg=0,qu=0,Gu=null;function u2(i,s){if(uh===null){var l=uh=[];rg=0,qu=o_(),Gu={status:"pending",value:void 0,then:function(h){l.push(h)}}}return rg++,s.then(D0,D0),s}function D0(){if(--rg===0&&uh!==null){Gu!==null&&(Gu.status="fulfilled");var i=uh;uh=null,qu=0,Gu=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function c2(i,s){var l=[],h={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(h.status="rejected",h.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),h}var k0=it.S;it.S=function(i,s){vE=Sn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&u2(i,s),k0!==null&&k0(i,s)};var Ul=R(null);function sg(){var i=Ul.current;return i!==null?i:Ze.pooledCache}function td(i,s){s===null?lt(Ul,Ul.current):lt(Ul,s.pool)}function j0(){var i=sg();return i===null?null:{parent:Cn._currentValue,pool:i}}var Zu=Error(r(460)),ag=Error(r(474)),ed=Error(r(542)),nd={then:function(){}};function V0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function z0(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(ti,ti),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,U0(i),i;default:if(typeof s.status=="string")s.then(ti,ti);else{if(i=Ze,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=h}},function(h){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,U0(i),i}throw Hl=s,Zu}}function Fl(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Hl=l,Zu):l}}var Hl=null;function B0(){if(Hl===null)throw Error(r(459));var i=Hl;return Hl=null,i}function U0(i){if(i===Zu||i===ed)throw Error(r(483))}var Ku=null,ch=0;function id(i){var s=ch;return ch+=1,Ku===null&&(Ku=[]),z0(Ku,i,s)}function hh(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function rd(i,s){throw s.$$typeof===O?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function F0(i){function s(Q,K){if(i){var tt=Q.deletions;tt===null?(Q.deletions=[K],Q.flags|=16):tt.push(K)}}function l(Q,K){if(!i)return null;for(;K!==null;)s(Q,K),K=K.sibling;return null}function h(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function p(Q,K){return Q=Nr(Q,K),Q.index=0,Q.sibling=null,Q}function y(Q,K,tt){return Q.index=tt,i?(tt=Q.alternate,tt!==null?(tt=tt.index,tt<K?(Q.flags|=67108866,K):tt):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function A(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function P(Q,K,tt,dt){return K===null||K.tag!==6?(K=Uu(tt,Q.mode,dt),K.return=Q,K):(K=p(K,tt),K.return=Q,K)}function H(Q,K,tt,dt){var zt=tt.type;return zt===z?ft(Q,K,tt.props.children,dt,tt.key):K!==null&&(K.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===j&&Fl(zt)===K.type)?(K=p(K,tt.props),hh(K,tt),K.return=Q,K):(K=jl(tt.type,tt.key,tt.props,null,Q.mode,dt),hh(K,tt),K.return=Q,K)}function et(Q,K,tt,dt){return K===null||K.tag!==4||K.stateNode.containerInfo!==tt.containerInfo||K.stateNode.implementation!==tt.implementation?(K=sh(tt,Q.mode,dt),K.return=Q,K):(K=p(K,tt.children||[]),K.return=Q,K)}function ft(Q,K,tt,dt,zt){return K===null||K.tag!==7?(K=Ea(tt,Q.mode,dt,zt),K.return=Q,K):(K=p(K,tt),K.return=Q,K)}function gt(Q,K,tt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Uu(""+K,Q.mode,tt),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return tt=jl(K.type,K.key,K.props,null,Q.mode,tt),hh(tt,K),tt.return=Q,tt;case M:return K=sh(K,Q.mode,tt),K.return=Q,K;case j:return K=Fl(K),gt(Q,K,tt)}if(ze(K)||W(K))return K=Ea(K,Q.mode,tt,null),K.return=Q,K;if(typeof K.then=="function")return gt(Q,id(K),tt);if(K.$$typeof===nt)return gt(Q,Jf(Q,K),tt);rd(Q,K)}return null}function st(Q,K,tt,dt){var zt=K!==null?K.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return zt!==null?null:P(Q,K,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case D:return tt.key===zt?H(Q,K,tt,dt):null;case M:return tt.key===zt?et(Q,K,tt,dt):null;case j:return tt=Fl(tt),st(Q,K,tt,dt)}if(ze(tt)||W(tt))return zt!==null?null:ft(Q,K,tt,dt,null);if(typeof tt.then=="function")return st(Q,K,id(tt),dt);if(tt.$$typeof===nt)return st(Q,K,Jf(Q,tt),dt);rd(Q,tt)}return null}function ut(Q,K,tt,dt,zt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Q=Q.get(tt)||null,P(K,Q,""+dt,zt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case D:return Q=Q.get(dt.key===null?tt:dt.key)||null,H(K,Q,dt,zt);case M:return Q=Q.get(dt.key===null?tt:dt.key)||null,et(K,Q,dt,zt);case j:return dt=Fl(dt),ut(Q,K,tt,dt,zt)}if(ze(dt)||W(dt))return Q=Q.get(tt)||null,ft(K,Q,dt,zt,null);if(typeof dt.then=="function")return ut(Q,K,tt,id(dt),zt);if(dt.$$typeof===nt)return ut(Q,K,tt,Jf(K,dt),zt);rd(K,dt)}return null}function Mt(Q,K,tt,dt){for(var zt=null,Ie=null,kt=K,ie=K=0,pe=null;kt!==null&&ie<tt.length;ie++){kt.index>ie?(pe=kt,kt=null):pe=kt.sibling;var Oe=st(Q,kt,tt[ie],dt);if(Oe===null){kt===null&&(kt=pe);break}i&&kt&&Oe.alternate===null&&s(Q,kt),K=y(Oe,K,ie),Ie===null?zt=Oe:Ie.sibling=Oe,Ie=Oe,kt=pe}if(ie===tt.length)return l(Q,kt),ue&&jt(Q,ie),zt;if(kt===null){for(;ie<tt.length;ie++)kt=gt(Q,tt[ie],dt),kt!==null&&(K=y(kt,K,ie),Ie===null?zt=kt:Ie.sibling=kt,Ie=kt);return ue&&jt(Q,ie),zt}for(kt=h(kt);ie<tt.length;ie++)pe=ut(kt,Q,ie,tt[ie],dt),pe!==null&&(i&&pe.alternate!==null&&kt.delete(pe.key===null?ie:pe.key),K=y(pe,K,ie),Ie===null?zt=pe:Ie.sibling=pe,Ie=pe);return i&&kt.forEach(function(Fo){return s(Q,Fo)}),ue&&jt(Q,ie),zt}function Ht(Q,K,tt,dt){if(tt==null)throw Error(r(151));for(var zt=null,Ie=null,kt=K,ie=K=0,pe=null,Oe=tt.next();kt!==null&&!Oe.done;ie++,Oe=tt.next()){kt.index>ie?(pe=kt,kt=null):pe=kt.sibling;var Fo=st(Q,kt,Oe.value,dt);if(Fo===null){kt===null&&(kt=pe);break}i&&kt&&Fo.alternate===null&&s(Q,kt),K=y(Fo,K,ie),Ie===null?zt=Fo:Ie.sibling=Fo,Ie=Fo,kt=pe}if(Oe.done)return l(Q,kt),ue&&jt(Q,ie),zt;if(kt===null){for(;!Oe.done;ie++,Oe=tt.next())Oe=gt(Q,Oe.value,dt),Oe!==null&&(K=y(Oe,K,ie),Ie===null?zt=Oe:Ie.sibling=Oe,Ie=Oe);return ue&&jt(Q,ie),zt}for(kt=h(kt);!Oe.done;ie++,Oe=tt.next())Oe=ut(kt,Q,ie,Oe.value,dt),Oe!==null&&(i&&Oe.alternate!==null&&kt.delete(Oe.key===null?ie:Oe.key),K=y(Oe,K,ie),Ie===null?zt=Oe:Ie.sibling=Oe,Ie=Oe);return i&&kt.forEach(function(EI){return s(Q,EI)}),ue&&jt(Q,ie),zt}function He(Q,K,tt,dt){if(typeof tt=="object"&&tt!==null&&tt.type===z&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case D:t:{for(var zt=tt.key;K!==null;){if(K.key===zt){if(zt=tt.type,zt===z){if(K.tag===7){l(Q,K.sibling),dt=p(K,tt.props.children),dt.return=Q,Q=dt;break t}}else if(K.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===j&&Fl(zt)===K.type){l(Q,K.sibling),dt=p(K,tt.props),hh(dt,tt),dt.return=Q,Q=dt;break t}l(Q,K);break}else s(Q,K);K=K.sibling}tt.type===z?(dt=Ea(tt.props.children,Q.mode,dt,tt.key),dt.return=Q,Q=dt):(dt=jl(tt.type,tt.key,tt.props,null,Q.mode,dt),hh(dt,tt),dt.return=Q,Q=dt)}return A(Q);case M:t:{for(zt=tt.key;K!==null;){if(K.key===zt)if(K.tag===4&&K.stateNode.containerInfo===tt.containerInfo&&K.stateNode.implementation===tt.implementation){l(Q,K.sibling),dt=p(K,tt.children||[]),dt.return=Q,Q=dt;break t}else{l(Q,K);break}else s(Q,K);K=K.sibling}dt=sh(tt,Q.mode,dt),dt.return=Q,Q=dt}return A(Q);case j:return tt=Fl(tt),He(Q,K,tt,dt)}if(ze(tt))return Mt(Q,K,tt,dt);if(W(tt)){if(zt=W(tt),typeof zt!="function")throw Error(r(150));return tt=zt.call(tt),Ht(Q,K,tt,dt)}if(typeof tt.then=="function")return He(Q,K,id(tt),dt);if(tt.$$typeof===nt)return He(Q,K,Jf(Q,tt),dt);rd(Q,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,K!==null&&K.tag===6?(l(Q,K.sibling),dt=p(K,tt),dt.return=Q,Q=dt):(l(Q,K),dt=Uu(tt,Q.mode,dt),dt.return=Q,Q=dt),A(Q)):l(Q,K)}return function(Q,K,tt,dt){try{ch=0;var zt=He(Q,K,tt,dt);return Ku=null,zt}catch(kt){if(kt===Zu||kt===ed)throw kt;var Ie=si(29,kt,null,Q.mode);return Ie.lanes=dt,Ie.return=Q,Ie}finally{}}}var ql=F0(!0),H0=F0(!1),Ao=!1;function og(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function xo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Co(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ne&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,s=kl(i),To(i,null,l),s}return Us(i,h,s,l),kl(i)}function fh(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ml(i,l)}}function ug(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?p=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var cg=!1;function dh(){if(cg){var i=Gu;if(i!==null)throw i}}function mh(i,s,l,h){cg=!1;var p=i.updateQueue;Ao=!1;var y=p.firstBaseUpdate,A=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var H=P,et=H.next;H.next=null,A===null?y=et:A.next=et,A=H;var ft=i.alternate;ft!==null&&(ft=ft.updateQueue,P=ft.lastBaseUpdate,P!==A&&(P===null?ft.firstBaseUpdate=et:P.next=et,ft.lastBaseUpdate=H))}if(y!==null){var gt=p.baseState;A=0,ft=et=H=null,P=y;do{var st=P.lane&-536870913,ut=st!==P.lane;if(ut?(me&st)===st:(h&st)===st){st!==0&&st===qu&&(cg=!0),ft!==null&&(ft=ft.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Mt=i,Ht=P;st=s;var He=l;switch(Ht.tag){case 1:if(Mt=Ht.payload,typeof Mt=="function"){gt=Mt.call(He,gt,st);break t}gt=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Ht.payload,st=typeof Mt=="function"?Mt.call(He,gt,st):Mt,st==null)break t;gt=x({},gt,st);break t;case 2:Ao=!0}}st=P.callback,st!==null&&(i.flags|=64,ut&&(i.flags|=8192),ut=p.callbacks,ut===null?p.callbacks=[st]:ut.push(st))}else ut={lane:st,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ft===null?(et=ft=ut,H=gt):ft=ft.next=ut,A|=st;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;ut=P,P=ut.next,ut.next=null,p.lastBaseUpdate=ut,p.shared.pending=null}}while(!0);ft===null&&(H=gt),p.baseState=H,p.firstBaseUpdate=et,p.lastBaseUpdate=ft,y===null&&(p.shared.lanes=0),No|=A,i.lanes=A,i.memoizedState=gt}}function q0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function G0(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)q0(l[i],s)}var Wu=R(null),sd=R(0);function Z0(i,s){i=Na,lt(sd,i),lt(Wu,s),Na=i|s.baseLanes}function hg(){lt(sd,Na),lt(Wu,Wu.current)}function fg(){Na=sd.current,Y(Wu),Y(sd)}var sr=R(null),Lr=null;function Ro(i){var s=i.alternate;lt(_n,_n.current&1),lt(sr,i),Lr===null&&(s===null||Wu.current!==null||s.memoizedState!==null)&&(Lr=i)}function dg(i){lt(_n,_n.current),lt(sr,i),Lr===null&&(Lr=i)}function K0(i){i.tag===22?(lt(_n,_n.current),lt(sr,i),Lr===null&&(Lr=i)):Io()}function Io(){lt(_n,_n.current),lt(sr,sr.current)}function ar(i){Y(sr),Lr===i&&(Lr=null),Y(_n)}var _n=R(0);function ad(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||v_(l)||b_(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sa=0,Jt=null,Ue=null,Rn=null,od=!1,Yu=!1,Gl=!1,ld=0,ph=0,$u=null,h2=0;function dn(){throw Error(r(321))}function mg(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Fn(i[l],s[l]))return!1;return!0}function pg(i,s,l,h,p,y){return Sa=y,Jt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,it.H=i===null||i.memoizedState===null?Ob:Og,Gl=!1,y=l(h,p),Gl=!1,Yu&&(y=Y0(s,l,h,p)),W0(i),y}function W0(i){it.H=yh;var s=Ue!==null&&Ue.next!==null;if(Sa=0,Rn=Ue=Jt=null,od=!1,ph=0,$u=null,s)throw Error(r(300));i===null||In||(i=i.dependencies,i!==null&&Xf(i)&&(In=!0))}function Y0(i,s,l,h){Jt=i;var p=0;do{if(Yu&&($u=null),ph=0,Yu=!1,25<=p)throw Error(r(301));if(p+=1,Rn=Ue=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}it.H=Pb,y=s(l,h)}while(Yu);return y}function f2(){var i=it.H,s=i.useState()[0];return s=typeof s.then=="function"?gh(s):s,i=i.useState()[0],(Ue!==null?Ue.memoizedState:null)!==i&&(Jt.flags|=1024),s}function gg(){var i=ld!==0;return ld=0,i}function _g(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function yg(i){if(od){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}od=!1}Sa=0,Rn=Ue=Jt=null,Yu=!1,ph=ld=0,$u=null}function yi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?Jt.memoizedState=Rn=i:Rn=Rn.next=i,Rn}function yn(){if(Ue===null){var i=Jt.alternate;i=i!==null?i.memoizedState:null}else i=Ue.next;var s=Rn===null?Jt.memoizedState:Rn.next;if(s!==null)Rn=s,Ue=i;else{if(i===null)throw Jt.alternate===null?Error(r(467)):Error(r(310));Ue=i,i={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Rn===null?Jt.memoizedState=Rn=i:Rn=Rn.next=i}return Rn}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gh(i){var s=ph;return ph+=1,$u===null&&($u=[]),i=z0($u,i,s),s=Jt,(Rn===null?s.memoizedState:Rn.next)===null&&(s=s.alternate,it.H=s===null||s.memoizedState===null?Ob:Og),i}function cd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gh(i);if(i.$$typeof===nt)return Zn(i)}throw Error(r(438,String(i)))}function vg(i){var s=null,l=Jt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var h=Jt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ud(),Jt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),h=0;h<i;h++)l[h]=Z;return s.index++,l}function Aa(i,s){return typeof s=="function"?s(i):s}function hd(i){var s=yn();return bg(s,Ue,i)}function bg(i,s,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var p=i.baseQueue,y=h.pending;if(y!==null){if(p!==null){var A=p.next;p.next=y.next,y.next=A}s.baseQueue=p=y,h.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var P=A=null,H=null,et=s,ft=!1;do{var gt=et.lane&-536870913;if(gt!==et.lane?(me&gt)===gt:(Sa&gt)===gt){var st=et.revertLane;if(st===0)H!==null&&(H=H.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),gt===qu&&(ft=!0);else if((Sa&st)===st){et=et.next,st===qu&&(ft=!0);continue}else gt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},H===null?(P=H=gt,A=y):H=H.next=gt,Jt.lanes|=st,No|=st;gt=et.action,Gl&&l(y,gt),y=et.hasEagerState?et.eagerState:l(y,gt)}else st={lane:gt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},H===null?(P=H=st,A=y):H=H.next=st,Jt.lanes|=gt,No|=gt;et=et.next}while(et!==null&&et!==s);if(H===null?A=y:H.next=P,!Fn(y,i.memoizedState)&&(In=!0,ft&&(l=Gu,l!==null)))throw l;i.memoizedState=y,i.baseState=A,i.baseQueue=H,h.lastRenderedState=y}return p===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Eg(i){var s=yn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var A=p=p.next;do y=i(y,A.action),A=A.next;while(A!==p);Fn(y,s.memoizedState)||(In=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function $0(i,s,l){var h=Jt,p=yn(),y=ue;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var A=!Fn((Ue||p).memoizedState,l);if(A&&(p.memoizedState=l,In=!0),p=p.queue,Sg(J0.bind(null,h,p,i),[i]),p.getSnapshot!==s||A||Rn!==null&&Rn.memoizedState.tag&1){if(h.flags|=2048,Qu(9,{destroy:void 0},X0.bind(null,h,p,l,s),null),Ze===null)throw Error(r(349));y||(Sa&127)!==0||Q0(h,s,l)}return l}function Q0(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Jt.updateQueue,s===null?(s=ud(),Jt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function X0(i,s,l,h){s.value=l,s.getSnapshot=h,tb(s)&&eb(i)}function J0(i,s,l){return l(function(){tb(s)&&eb(i)})}function tb(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Fn(i,l)}catch{return!0}}function eb(i){var s=Pr(i,2);s!==null&&zi(s,i,2)}function wg(i){var s=yi();if(typeof i=="function"){var l=i;if(i=l(),Gl){fi(!0);try{l()}finally{fi(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:i},s}function nb(i,s,l,h){return i.baseState=l,bg(i,Ue,typeof h=="function"?h:Aa)}function d2(i,s,l,h,p){if(md(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};it.T!==null?l(!0):y.isTransition=!1,h(y),l=s.pending,l===null?(y.next=s.pending=y,ib(s,y)):(y.next=l.next,s.pending=l.next=y)}}function ib(i,s){var l=s.action,h=s.payload,p=i.state;if(s.isTransition){var y=it.T,A={};it.T=A;try{var P=l(p,h),H=it.S;H!==null&&H(A,P),rb(i,s,P)}catch(et){Tg(i,s,et)}finally{y!==null&&A.types!==null&&(y.types=A.types),it.T=y}}else try{y=l(p,h),rb(i,s,y)}catch(et){Tg(i,s,et)}}function rb(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){sb(i,s,h)},function(h){return Tg(i,s,h)}):sb(i,s,l)}function sb(i,s,l){s.status="fulfilled",s.value=l,ab(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,ib(i,l)))}function Tg(i,s,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=l,ab(s),s=s.next;while(s!==h)}i.action=null}function ab(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function ob(i,s){return s}function lb(i,s){if(ue){var l=Ze.formState;if(l!==null){t:{var h=Jt;if(ue){if(Re){e:{for(var p=Re,y=Mi;p.nodeType!==8;){if(!y){p=null;break e}if(p=Mr(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Re=Mr(p.nextSibling),h=p.data==="F!";break t}}Hs(h)}h=!1}h&&(s=l[0])}}return l=yi(),l.memoizedState=l.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ob,lastRenderedState:s},l.queue=h,l=Cb.bind(null,Jt,h),h.dispatch=l,h=wg(!1),y=Ig.bind(null,Jt,!1,h.queue),h=yi(),p={state:s,dispatch:null,action:i,pending:null},h.queue=p,l=d2.bind(null,Jt,p,y,l),p.dispatch=l,h.memoizedState=i,[s,l,!1]}function ub(i){var s=yn();return cb(s,Ue,i)}function cb(i,s,l){if(s=bg(i,s,ob)[0],i=hd(Aa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=gh(s)}catch(A){throw A===Zu?ed:A}else h=s;s=yn();var p=s.queue,y=p.dispatch;return l!==s.memoizedState&&(Jt.flags|=2048,Qu(9,{destroy:void 0},m2.bind(null,p,l),null)),[h,y,i]}function m2(i,s){i.action=s}function hb(i){var s=yn(),l=Ue;if(l!==null)return cb(s,l,i);yn(),s=s.memoizedState,l=yn();var h=l.queue.dispatch;return l.memoizedState=i,[s,h,!1]}function Qu(i,s,l,h){return i={tag:i,create:l,deps:h,inst:s,next:null},s=Jt.updateQueue,s===null&&(s=ud(),Jt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i),i}function fb(){return yn().memoizedState}function fd(i,s,l,h){var p=yi();Jt.flags|=i,p.memoizedState=Qu(1|s,{destroy:void 0},l,h===void 0?null:h)}function dd(i,s,l,h){var p=yn();h=h===void 0?null:h;var y=p.memoizedState.inst;Ue!==null&&h!==null&&mg(h,Ue.memoizedState.deps)?p.memoizedState=Qu(s,y,l,h):(Jt.flags|=i,p.memoizedState=Qu(1|s,y,l,h))}function db(i,s){fd(8390656,8,i,s)}function Sg(i,s){dd(2048,8,i,s)}function p2(i){Jt.flags|=4;var s=Jt.updateQueue;if(s===null)s=ud(),Jt.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function mb(i){var s=yn().memoizedState;return p2({ref:s,nextImpl:i}),function(){if((Ne&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function pb(i,s){return dd(4,2,i,s)}function gb(i,s){return dd(4,4,i,s)}function _b(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function yb(i,s,l){l=l!=null?l.concat([i]):null,dd(4,4,_b.bind(null,s,i),l)}function Ag(){}function vb(i,s){var l=yn();s=s===void 0?null:s;var h=l.memoizedState;return s!==null&&mg(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function bb(i,s){var l=yn();s=s===void 0?null:s;var h=l.memoizedState;if(s!==null&&mg(s,h[1]))return h[0];if(h=i(),Gl){fi(!0);try{i()}finally{fi(!1)}}return l.memoizedState=[h,s],h}function xg(i,s,l){return l===void 0||(Sa&1073741824)!==0&&(me&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=EE(),Jt.lanes|=i,No|=i,l)}function Eb(i,s,l,h){return Fn(l,s)?l:Wu.current!==null?(i=xg(i,l,h),Fn(i,s)||(In=!0),i):(Sa&42)===0||(Sa&1073741824)!==0&&(me&261930)===0?(In=!0,i.memoizedState=l):(i=EE(),Jt.lanes|=i,No|=i,s)}function wb(i,s,l,h,p){var y=St.p;St.p=y!==0&&8>y?y:8;var A=it.T,P={};it.T=P,Ig(i,!1,s,l);try{var H=p(),et=it.S;if(et!==null&&et(P,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ft=c2(H,h);_h(i,s,ft,ur(i))}else _h(i,s,h,ur(i))}catch(gt){_h(i,s,{then:function(){},status:"rejected",reason:gt},ur())}finally{St.p=y,A!==null&&P.types!==null&&(A.types=P.types),it.T=A}}function g2(){}function Cg(i,s,l,h){if(i.tag!==5)throw Error(r(476));var p=Tb(i).queue;wb(i,p,s,bt,l===null?g2:function(){return Sb(i),l(h)})}function Tb(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:bt},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Sb(i){var s=Tb(i);s.next===null&&(s=i.alternate.memoizedState),_h(i,s.next.queue,{},ur())}function Rg(){return Zn(Mh)}function Ab(){return yn().memoizedState}function xb(){return yn().memoizedState}function _2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=ur();i=xo(l);var h=Co(s,i,l);h!==null&&(zi(h,s,l),fh(h,s,l)),s={cache:ig()},i.payload=s;return}s=s.return}}function y2(i,s,l){var h=ur();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},md(i)?Rb(s,l):(l=nh(i,s,l,h),l!==null&&(zi(l,i,h),Ib(l,s,h)))}function Cb(i,s,l){var h=ur();_h(i,s,l,h)}function _h(i,s,l,h){var p={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(md(i))Rb(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var A=s.lastRenderedState,P=y(A,l);if(p.hasEagerState=!0,p.eagerState=P,Fn(P,A))return Us(i,s,p,0),Ze===null&&Dl(),!1}catch{}finally{}if(l=nh(i,s,p,h),l!==null)return zi(l,i,h),Ib(l,s,h),!0}return!1}function Ig(i,s,l,h){if(h={lane:2,revertLane:o_(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},md(i)){if(s)throw Error(r(479))}else s=nh(i,l,h,2),s!==null&&zi(s,i,2)}function md(i){var s=i.alternate;return i===Jt||s!==null&&s===Jt}function Rb(i,s){Yu=od=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Ib(i,s,l){if((l&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,ml(i,l)}}var yh={readContext:Zn,use:cd,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};yh.useEffectEvent=dn;var Ob={readContext:Zn,use:cd,useCallback:function(i,s){return yi().memoizedState=[i,s===void 0?null:s],i},useContext:Zn,useEffect:db,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,fd(4194308,4,_b.bind(null,s,i),l)},useLayoutEffect:function(i,s){return fd(4194308,4,i,s)},useInsertionEffect:function(i,s){fd(4,2,i,s)},useMemo:function(i,s){var l=yi();s=s===void 0?null:s;var h=i();if(Gl){fi(!0);try{i()}finally{fi(!1)}}return l.memoizedState=[h,s],h},useReducer:function(i,s,l){var h=yi();if(l!==void 0){var p=l(s);if(Gl){fi(!0);try{l(s)}finally{fi(!1)}}}else p=s;return h.memoizedState=h.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},h.queue=i,i=i.dispatch=y2.bind(null,Jt,i),[h.memoizedState,i]},useRef:function(i){var s=yi();return i={current:i},s.memoizedState=i},useState:function(i){i=wg(i);var s=i.queue,l=Cb.bind(null,Jt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Ag,useDeferredValue:function(i,s){var l=yi();return xg(l,i,s)},useTransition:function(){var i=wg(!1);return i=wb.bind(null,Jt,i.queue,!0,!1),yi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var h=Jt,p=yi();if(ue){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Ze===null)throw Error(r(349));(me&127)!==0||Q0(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,db(J0.bind(null,h,y,i),[i]),h.flags|=2048,Qu(9,{destroy:void 0},X0.bind(null,h,y,l,s),null),l},useId:function(){var i=yi(),s=Ze.identifierPrefix;if(ue){var l=xt,h=pt;l=(h&~(1<<32-rn(h)-1)).toString(32)+l,s="_"+s+"R_"+l,l=ld++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=h2++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Rg,useFormState:lb,useActionState:lb,useOptimistic:function(i){var s=yi();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Ig.bind(null,Jt,!0,l),l.dispatch=s,[i,s]},useMemoCache:vg,useCacheRefresh:function(){return yi().memoizedState=_2.bind(null,Jt)},useEffectEvent:function(i){var s=yi(),l={impl:i};return s.memoizedState=l,function(){if((Ne&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Og={readContext:Zn,use:cd,useCallback:vb,useContext:Zn,useEffect:Sg,useImperativeHandle:yb,useInsertionEffect:pb,useLayoutEffect:gb,useMemo:bb,useReducer:hd,useRef:fb,useState:function(){return hd(Aa)},useDebugValue:Ag,useDeferredValue:function(i,s){var l=yn();return Eb(l,Ue.memoizedState,i,s)},useTransition:function(){var i=hd(Aa)[0],s=yn().memoizedState;return[typeof i=="boolean"?i:gh(i),s]},useSyncExternalStore:$0,useId:Ab,useHostTransitionStatus:Rg,useFormState:ub,useActionState:ub,useOptimistic:function(i,s){var l=yn();return nb(l,Ue,i,s)},useMemoCache:vg,useCacheRefresh:xb};Og.useEffectEvent=mb;var Pb={readContext:Zn,use:cd,useCallback:vb,useContext:Zn,useEffect:Sg,useImperativeHandle:yb,useInsertionEffect:pb,useLayoutEffect:gb,useMemo:bb,useReducer:Eg,useRef:fb,useState:function(){return Eg(Aa)},useDebugValue:Ag,useDeferredValue:function(i,s){var l=yn();return Ue===null?xg(l,i,s):Eb(l,Ue.memoizedState,i,s)},useTransition:function(){var i=Eg(Aa)[0],s=yn().memoizedState;return[typeof i=="boolean"?i:gh(i),s]},useSyncExternalStore:$0,useId:Ab,useHostTransitionStatus:Rg,useFormState:hb,useActionState:hb,useOptimistic:function(i,s){var l=yn();return Ue!==null?nb(l,Ue,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:vg,useCacheRefresh:xb};Pb.useEffectEvent=mb;function Pg(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:x({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ng={enqueueSetState:function(i,s,l){i=i._reactInternals;var h=ur(),p=xo(h);p.payload=s,l!=null&&(p.callback=l),s=Co(i,p,h),s!==null&&(zi(s,i,h),fh(s,i,h))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=ur(),p=xo(h);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Co(i,p,h),s!==null&&(zi(s,i,h),fh(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=ur(),h=xo(l);h.tag=2,s!=null&&(h.callback=s),s=Co(i,h,l),s!==null&&(zi(s,i,l),fh(s,i,l))}};function Nb(i,s,l,h,p,y,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,A):s.prototype&&s.prototype.isPureReactComponent?!vo(l,h)||!vo(p,y):!0}function Lb(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&Ng.enqueueReplaceState(s,s.state,null)}function Zl(i,s){var l=s;if("ref"in s){l={};for(var h in s)h!=="ref"&&(l[h]=s[h])}if(i=i.defaultProps){l===s&&(l=x({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function Mb(i){Ml(i)}function Db(i){console.error(i)}function kb(i){Ml(i)}function pd(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function jb(i,s,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Lg(i,s,l){return l=xo(l),l.tag=3,l.payload={element:null},l.callback=function(){pd(i,s)},l}function Vb(i){return i=xo(i),i.tag=3,i}function zb(i,s,l,h){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var y=h.value;i.payload=function(){return p(y)},i.callback=function(){jb(s,l,h)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){jb(s,l,h),typeof p!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function v2(i,s,l,h,p){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=l.alternate,s!==null&&Hu(s,l,p,!0),l=sr.current,l!==null){switch(l.tag){case 31:case 13:return Lr===null?Cd():l.alternate===null&&mn===0&&(mn=3),l.flags&=-257,l.flags|=65536,l.lanes=p,h===nd?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([h]):s.add(h),r_(i,h,p)),!1;case 22:return l.flags|=65536,h===nd?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([h]):l.add(h)),r_(i,h,p)),!1}throw Error(r(435,l.tag))}return r_(i,h,p),Cd(),!1}if(ue)return s=sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,h!==Fu&&(i=Error(r(422),{cause:h}),Vl(c(i,l)))):(h!==Fu&&(s=Error(r(423),{cause:h}),Vl(c(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,h=c(h,l),p=Lg(i.stateNode,h,p),ug(i,p),mn!==4&&(mn=2)),!1;var y=Error(r(520),{cause:h});if(y=c(y,l),xh===null?xh=[y]:xh.push(y),mn!==4&&(mn=2),s===null)return!0;h=c(h,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Lg(l.stateNode,h,i),ug(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Lo===null||!Lo.has(y))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Vb(p),zb(p,i,l,h),ug(l,p),!1}l=l.return}while(l!==null);return!1}var Mg=Error(r(461)),In=!1;function Kn(i,s,l,h){s.child=i===null?H0(s,null,l,h):ql(s,i.child,l,h)}function Bb(i,s,l,h,p){l=l.render;var y=s.ref;if("ref"in h){var A={};for(var P in h)P!=="ref"&&(A[P]=h[P])}else A=h;return Bl(s),h=pg(i,s,l,A,y,p),P=gg(),i!==null&&!In?(_g(i,s,p),xa(i,s,p)):(ue&&P&&Mn(s),s.flags|=1,Kn(i,s,h,p),s.child)}function Ub(i,s,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!Bu(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,Fb(i,s,y,h,p)):(i=jl(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Fg(i,p)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:vo,l(A,h)&&i.ref===s.ref)return xa(i,s,p)}return s.flags|=1,i=Nr(y,h),i.ref=s.ref,i.return=s,s.child=i}function Fb(i,s,l,h,p){if(i!==null){var y=i.memoizedProps;if(vo(y,h)&&i.ref===s.ref)if(In=!1,s.pendingProps=h=y,Fg(i,p))(i.flags&131072)!==0&&(In=!0);else return s.lanes=i.lanes,xa(i,s,p)}return Dg(i,s,l,h,p)}function Hb(i,s,l,h){var p=h.children,y=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,i!==null){for(h=s.child=i.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;h=p&~y}else h=0,s.child=null;return qb(i,s,y,l,h)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&td(s,y!==null?y.cachePool:null),y!==null?Z0(s,y):hg(),K0(s);else return h=s.lanes=536870912,qb(i,s,y!==null?y.baseLanes|l:l,l,h)}else y!==null?(td(s,y.cachePool),Z0(s,y),Io(),s.memoizedState=null):(i!==null&&td(s,null),hg(),Io());return Kn(i,s,p,l),s.child}function vh(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function qb(i,s,l,h,p){var y=sg();return y=y===null?null:{parent:Cn._currentValue,pool:y},s.memoizedState={baseLanes:l,cachePool:y},i!==null&&td(s,null),hg(),K0(s),i!==null&&Hu(i,s,h,!0),s.childLanes=p,null}function gd(i,s){return s=yd({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Gb(i,s,l){return ql(s,i.child,null,l),i=gd(s,s.pendingProps),i.flags|=2,ar(s),s.memoizedState=null,i}function b2(i,s,l){var h=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ue){if(h.mode==="hidden")return i=gd(s,h),s.lanes=536870912,vh(null,i);if(dg(s),(i=Re)?(i=iw(i,Mi),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:rt!==null?{id:pt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},l=rh(i),l.return=s,s.child=l,Ce=s,Re=null)):i=null,i===null)throw Hs(s);return s.lanes=536870912,null}return gd(s,h)}var y=i.memoizedState;if(y!==null){var A=y.dehydrated;if(dg(s),p)if(s.flags&256)s.flags&=-257,s=Gb(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(In||Hu(i,s,l,!1),p=(l&i.childLanes)!==0,In||p){if(h=Ze,h!==null&&(A=pl(h,l),A!==0&&A!==y.retryLane))throw y.retryLane=A,Pr(i,A),zi(h,i,A),Mg;Cd(),s=Gb(i,s,l)}else i=y.treeContext,Re=Mr(A.nextSibling),Ce=s,ue=!0,Fs=null,Mi=!1,i!==null&&_i(s,i),s=gd(s,h),s.flags|=4096;return s}return i=Nr(i.child,{mode:h.mode,children:h.children}),i.ref=s.ref,s.child=i,i.return=s,i}function _d(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Dg(i,s,l,h,p){return Bl(s),l=pg(i,s,l,h,void 0,p),h=gg(),i!==null&&!In?(_g(i,s,p),xa(i,s,p)):(ue&&h&&Mn(s),s.flags|=1,Kn(i,s,l,p),s.child)}function Zb(i,s,l,h,p,y){return Bl(s),s.updateQueue=null,l=Y0(s,h,l,p),W0(i),h=gg(),i!==null&&!In?(_g(i,s,y),xa(i,s,y)):(ue&&h&&Mn(s),s.flags|=1,Kn(i,s,l,y),s.child)}function Kb(i,s,l,h,p){if(Bl(s),s.stateNode===null){var y=ba,A=l.contextType;typeof A=="object"&&A!==null&&(y=Zn(A)),y=new l(h,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ng,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=h,y.state=s.memoizedState,y.refs={},og(s),A=l.contextType,y.context=typeof A=="object"&&A!==null?Zn(A):ba,y.state=s.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Pg(s,l,A,h),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&Ng.enqueueReplaceState(y,y.state,null),mh(s,h,y,p),dh(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){y=s.stateNode;var P=s.memoizedProps,H=Zl(l,P);y.props=H;var et=y.context,ft=l.contextType;A=ba,typeof ft=="object"&&ft!==null&&(A=Zn(ft));var gt=l.getDerivedStateFromProps;ft=typeof gt=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,ft||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||et!==A)&&Lb(s,y,h,A),Ao=!1;var st=s.memoizedState;y.state=st,mh(s,h,y,p),dh(),et=s.memoizedState,P||st!==et||Ao?(typeof gt=="function"&&(Pg(s,l,gt,h),et=s.memoizedState),(H=Ao||Nb(s,l,H,h,st,et,A))?(ft||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=et),y.props=h,y.state=et,y.context=A,h=H):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{y=s.stateNode,lg(i,s),A=s.memoizedProps,ft=Zl(l,A),y.props=ft,gt=s.pendingProps,st=y.context,et=l.contextType,H=ba,typeof et=="object"&&et!==null&&(H=Zn(et)),P=l.getDerivedStateFromProps,(et=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==gt||st!==H)&&Lb(s,y,h,H),Ao=!1,st=s.memoizedState,y.state=st,mh(s,h,y,p),dh();var ut=s.memoizedState;A!==gt||st!==ut||Ao||i!==null&&i.dependencies!==null&&Xf(i.dependencies)?(typeof P=="function"&&(Pg(s,l,P,h),ut=s.memoizedState),(ft=Ao||Nb(s,l,ft,h,st,ut,H)||i!==null&&i.dependencies!==null&&Xf(i.dependencies))?(et||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,ut,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,ut,H)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&st===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&st===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ut),y.props=h,y.state=ut,y.context=H,h=ft):(typeof y.componentDidUpdate!="function"||A===i.memoizedProps&&st===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&st===i.memoizedState||(s.flags|=1024),h=!1)}return y=h,_d(i,s),h=(s.flags&128)!==0,y||h?(y=s.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&h?(s.child=ql(s,i.child,null,p),s.child=ql(s,null,l,p)):Kn(i,s,l,p),s.memoizedState=y.state,i=s.child):i=xa(i,s,p),i}function Wb(i,s,l,h){return wa(),s.flags|=256,Kn(i,s,l,h),s.child}var kg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jg(i){return{baseLanes:i,cachePool:j0()}}function Vg(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=lr),i}function Yb(i,s,l){var h=s.pendingProps,p=!1,y=(s.flags&128)!==0,A;if((A=y)||(A=i!==null&&i.memoizedState===null?!1:(_n.current&2)!==0),A&&(p=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(ue){if(p?Ro(s):Io(),(i=Re)?(i=iw(i,Mi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:rt!==null?{id:pt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},l=rh(i),l.return=s,s.child=l,Ce=s,Re=null)):i=null,i===null)throw Hs(s);return b_(i)?s.lanes=32:s.lanes=536870912,null}var P=h.children;return h=h.fallback,p?(Io(),p=s.mode,P=yd({mode:"hidden",children:P},p),h=Ea(h,p,l,null),P.return=s,h.return=s,P.sibling=h,s.child=P,h=s.child,h.memoizedState=jg(l),h.childLanes=Vg(i,A,l),s.memoizedState=kg,vh(null,h)):(Ro(s),zg(s,P))}var H=i.memoizedState;if(H!==null&&(P=H.dehydrated,P!==null)){if(y)s.flags&256?(Ro(s),s.flags&=-257,s=Bg(i,s,l)):s.memoizedState!==null?(Io(),s.child=i.child,s.flags|=128,s=null):(Io(),P=h.fallback,p=s.mode,h=yd({mode:"visible",children:h.children},p),P=Ea(P,p,l,null),P.flags|=2,h.return=s,P.return=s,h.sibling=P,s.child=h,ql(s,i.child,null,l),h=s.child,h.memoizedState=jg(l),h.childLanes=Vg(i,A,l),s.memoizedState=kg,s=vh(null,h));else if(Ro(s),b_(P)){if(A=P.nextSibling&&P.nextSibling.dataset,A)var et=A.dgst;A=et,h=Error(r(419)),h.stack="",h.digest=A,Vl({value:h,source:null,stack:null}),s=Bg(i,s,l)}else if(In||Hu(i,s,l,!1),A=(l&i.childLanes)!==0,In||A){if(A=Ze,A!==null&&(h=pl(A,l),h!==0&&h!==H.retryLane))throw H.retryLane=h,Pr(i,h),zi(A,i,h),Mg;v_(P)||Cd(),s=Bg(i,s,l)}else v_(P)?(s.flags|=192,s.child=i.child,s=null):(i=H.treeContext,Re=Mr(P.nextSibling),Ce=s,ue=!0,Fs=null,Mi=!1,i!==null&&_i(s,i),s=zg(s,h.children),s.flags|=4096);return s}return p?(Io(),P=h.fallback,p=s.mode,H=i.child,et=H.sibling,h=Nr(H,{mode:"hidden",children:h.children}),h.subtreeFlags=H.subtreeFlags&65011712,et!==null?P=Nr(et,P):(P=Ea(P,p,l,null),P.flags|=2),P.return=s,h.return=s,h.sibling=P,s.child=h,vh(null,h),h=s.child,P=i.child.memoizedState,P===null?P=jg(l):(p=P.cachePool,p!==null?(H=Cn._currentValue,p=p.parent!==H?{parent:H,pool:H}:p):p=j0(),P={baseLanes:P.baseLanes|l,cachePool:p}),h.memoizedState=P,h.childLanes=Vg(i,A,l),s.memoizedState=kg,vh(i.child,h)):(Ro(s),l=i.child,i=l.sibling,l=Nr(l,{mode:"visible",children:h.children}),l.return=s,l.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=l,s.memoizedState=null,l)}function zg(i,s){return s=yd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function yd(i,s){return i=si(22,i,null,s),i.lanes=0,i}function Bg(i,s,l){return ql(s,i.child,null,l),i=zg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function $b(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),eg(i.return,s,l)}function Ug(i,s,l,h,p,y){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p,treeForkCount:y}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=l,A.tailMode=p,A.treeForkCount=y)}function Qb(i,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;h=h.children;var A=_n.current,P=(A&2)!==0;if(P?(A=A&1|2,s.flags|=128):A&=1,lt(_n,A),Kn(i,s,h,l),h=ue?I:0,!P&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$b(i,l,s);else if(i.tag===19)$b(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&ad(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Ug(s,!1,p,l,y,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&ad(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Ug(s,!0,l,null,y,h);break;case"together":Ug(s,!1,null,null,void 0,h);break;default:s.memoizedState=null}return s.child}function xa(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),No|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Hu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=Nr(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Nr(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Fg(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Xf(i)))}function E2(i,s,l){switch(s.tag){case 3:Lt(s,s.stateNode.containerInfo),So(s,Cn,i.memoizedState.cache),wa();break;case 27:case 5:be(s);break;case 4:Lt(s,s.stateNode.containerInfo);break;case 10:So(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,dg(s),null;break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Ro(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Yb(i,s,l):(Ro(s),i=xa(i,s,l),i!==null?i.sibling:null);Ro(s);break;case 19:var p=(i.flags&128)!==0;if(h=(l&s.childLanes)!==0,h||(Hu(i,s,l,!1),h=(l&s.childLanes)!==0),p){if(h)return Qb(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),lt(_n,_n.current),h)break;return null;case 22:return s.lanes=0,Hb(i,s,l,s.pendingProps);case 24:So(s,Cn,i.memoizedState.cache)}return xa(i,s,l)}function Xb(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)In=!0;else{if(!Fg(i,l)&&(s.flags&128)===0)return In=!1,E2(i,s,l);In=(i.flags&131072)!==0}else In=!1,ue&&(s.flags&1048576)!==0&&ne(s,I,s.index);switch(s.lanes=0,s.tag){case 16:t:{var h=s.pendingProps;if(i=Fl(s.elementType),s.type=i,typeof i=="function")Bu(i)?(h=Zl(i,h),s.tag=1,s=Kb(null,s,i,h,l)):(s.tag=0,s=Dg(null,s,i,h,l));else{if(i!=null){var p=i.$$typeof;if(p===Tt){s.tag=11,s=Bb(null,s,i,h,l);break t}else if(p===V){s.tag=14,s=Ub(null,s,i,h,l);break t}}throw s=Yt(i)||i,Error(r(306,s,""))}}return s;case 0:return Dg(i,s,s.type,s.pendingProps,l);case 1:return h=s.type,p=Zl(h,s.pendingProps),Kb(i,s,h,p,l);case 3:t:{if(Lt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var y=s.memoizedState;p=y.element,lg(i,s),mh(s,h,null,l);var A=s.memoizedState;if(h=A.cache,So(s,Cn,h),h!==y.cache&&ng(s,[Cn],l,!0),dh(),h=A.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Wb(i,s,h,l);break t}else if(h!==p){p=c(Error(r(424)),s),Vl(p),s=Wb(i,s,h,l);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Re=Mr(i.firstChild),Ce=s,ue=!0,Fs=null,Mi=!0,l=H0(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wa(),h===p){s=xa(i,s,l);break t}Kn(i,s,h,l)}s=s.child}return s;case 26:return _d(i,s),i===null?(l=uw(s.type,null,s.pendingProps,null))?s.memoizedState=l:ue||(l=s.type,i=s.pendingProps,h=Md(yt.current).createElement(l),h[an]=s,h[cn]=i,Wn(h,l,i),hn(h),s.stateNode=h):s.memoizedState=uw(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return be(s),i===null&&ue&&(h=s.stateNode=aw(s.type,s.pendingProps,yt.current),Ce=s,Mi=!0,p=Re,jo(s.type)?(E_=p,Re=Mr(h.firstChild)):Re=p),Kn(i,s,s.pendingProps.children,l),_d(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ue&&((p=h=Re)&&(h=Q2(h,s.type,s.pendingProps,Mi),h!==null?(s.stateNode=h,Ce=s,Re=Mr(h.firstChild),Mi=!1,p=!0):p=!1),p||Hs(s)),be(s),p=s.type,y=s.pendingProps,A=i!==null?i.memoizedProps:null,h=y.children,g_(p,y)?h=null:A!==null&&g_(p,A)&&(s.flags|=32),s.memoizedState!==null&&(p=pg(i,s,f2,null,null,l),Mh._currentValue=p),_d(i,s),Kn(i,s,h,l),s.child;case 6:return i===null&&ue&&((i=l=Re)&&(l=X2(l,s.pendingProps,Mi),l!==null?(s.stateNode=l,Ce=s,Re=null,i=!0):i=!1),i||Hs(s)),null;case 13:return Yb(i,s,l);case 4:return Lt(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=ql(s,null,h,l):Kn(i,s,h,l),s.child;case 11:return Bb(i,s,s.type,s.pendingProps,l);case 7:return Kn(i,s,s.pendingProps,l),s.child;case 8:return Kn(i,s,s.pendingProps.children,l),s.child;case 12:return Kn(i,s,s.pendingProps.children,l),s.child;case 10:return h=s.pendingProps,So(s,s.type,h.value),Kn(i,s,h.children,l),s.child;case 9:return p=s.type._context,h=s.pendingProps.children,Bl(s),p=Zn(p),h=h(p),s.flags|=1,Kn(i,s,h,l),s.child;case 14:return Ub(i,s,s.type,s.pendingProps,l);case 15:return Fb(i,s,s.type,s.pendingProps,l);case 19:return Qb(i,s,l);case 31:return b2(i,s,l);case 22:return Hb(i,s,l,s.pendingProps);case 24:return Bl(s),h=Zn(Cn),i===null?(p=sg(),p===null&&(p=Ze,y=ig(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=l),p=y),s.memoizedState={parent:h,cache:p},og(s),So(s,Cn,p)):((i.lanes&l)!==0&&(lg(i,s),mh(s,null,null,l),dh()),p=i.memoizedState,y=s.memoizedState,p.parent!==h?(p={parent:h,cache:h},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),So(s,Cn,h)):(h=y.cache,So(s,Cn,h),h!==p.cache&&ng(s,[Cn],l,!0))),Kn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ca(i){i.flags|=4}function Hg(i,s,l,h,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(AE())i.flags|=8192;else throw Hl=nd,ag}else i.flags&=-16777217}function Jb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!mw(s))if(AE())i.flags|=8192;else throw Hl=nd,ag}function vd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?xu():536870912,i.lanes|=s,ec|=s)}function bh(i,s){if(!ue)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Xe(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&65011712,h|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function w2(i,s,l){var h=s.pendingProps;switch(fn(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(s),null;case 1:return Xe(s),null;case 3:return l=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Ta(Cn),Ut(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(os(s)?Ca(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,oh())),Xe(s),null;case 26:var p=s.type,y=s.memoizedState;return i===null?(Ca(s),y!==null?(Xe(s),Jb(s,y)):(Xe(s),Hg(s,p,null,h,l))):y?y!==i.memoizedState?(Ca(s),Xe(s),Jb(s,y)):(Xe(s),s.flags&=-16777217):(i=i.memoizedProps,i!==h&&Ca(s),Xe(s),Hg(s,p,i,h,l)),null;case 27:if(fe(s),l=yt.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ca(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}i=ht.current,os(s)?ah(s):(i=aw(p,h,l),s.stateNode=i,Ca(s))}return Xe(s),null;case 5:if(fe(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Ca(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Xe(s),null}if(y=ht.current,os(s))ah(s);else{var A=Md(yt.current);switch(y){case 1:y=A.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=A.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=A.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?A.createElement(p,{is:h.is}):A.createElement(p)}}y[an]=s,y[cn]=h;t:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)y.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break t;for(;A.sibling===null;){if(A.return===null||A.return===s)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=y;t:switch(Wn(y,p,h),p){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ca(s)}}return Xe(s),Hg(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Ca(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=yt.current,os(s)){if(i=s.stateNode,l=s.memoizedProps,h=null,p=Ce,p!==null)switch(p.tag){case 27:case 5:h=p.memoizedProps}i[an]=s,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||YE(i.nodeValue,l)),i||Hs(s,!0)}else i=Md(i).createTextNode(h),i[an]=s,s.stateNode=i}return Xe(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(h=os(s),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[an]=s}else wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),i=!1}else l=oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(ar(s),s):(ar(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Xe(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=os(s),h!==null&&h.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[an]=s}else wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),p=!1}else p=oh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(ar(s),s):(ar(s),null)}return ar(s),(s.flags&128)!==0?(s.lanes=l,s):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=s.child,p=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(p=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),vd(s,s.updateQueue),Xe(s),null);case 4:return Ut(),i===null&&h_(s.stateNode.containerInfo),Xe(s),null;case 10:return Ta(s.type),Xe(s),null;case 19:if(Y(_n),h=s.memoizedState,h===null)return Xe(s),null;if(p=(s.flags&128)!==0,y=h.rendering,y===null)if(p)bh(h,!1);else{if(mn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=ad(i),y!==null){for(s.flags|=128,bh(h,!1),i=y.updateQueue,s.updateQueue=i,vd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)ih(l,i),l=l.sibling;return lt(_n,_n.current&1|2),ue&&jt(s,h.treeForkCount),s.child}i=i.sibling}h.tail!==null&&Sn()>Sd&&(s.flags|=128,p=!0,bh(h,!1),s.lanes=4194304)}else{if(!p)if(i=ad(y),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,vd(s,i),bh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!ue)return Xe(s),null}else 2*Sn()-h.renderingStartTime>Sd&&l!==536870912&&(s.flags|=128,p=!0,bh(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(i=h.last,i!==null?i.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Sn(),i.sibling=null,l=_n.current,lt(_n,p?l&1|2:l&1),ue&&jt(s,h.treeForkCount),i):(Xe(s),null);case 22:case 23:return ar(s),fg(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(l&536870912)!==0&&(s.flags&128)===0&&(Xe(s),s.subtreeFlags&6&&(s.flags|=8192)):Xe(s),l=s.updateQueue,l!==null&&vd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==l&&(s.flags|=2048),i!==null&&Y(Ul),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ta(Cn),Xe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function T2(i,s){switch(fn(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ta(Cn),Ut(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return fe(s),null;case 31:if(s.memoizedState!==null){if(ar(s),s.alternate===null)throw Error(r(340));wa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(ar(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));wa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Y(_n),null;case 4:return Ut(),null;case 10:return Ta(s.type),null;case 22:case 23:return ar(s),fg(),i!==null&&Y(Ul),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ta(Cn),null;case 25:return null;default:return null}}function tE(i,s){switch(fn(s),s.tag){case 3:Ta(Cn),Ut();break;case 26:case 27:case 5:fe(s);break;case 4:Ut();break;case 31:s.memoizedState!==null&&ar(s);break;case 13:ar(s);break;case 19:Y(_n);break;case 10:Ta(s.type);break;case 22:case 23:ar(s),fg(),i!==null&&Y(Ul);break;case 24:Ta(Cn)}}function Eh(i,s){try{var l=s.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&i)===i){h=void 0;var y=l.create,A=l.inst;h=y(),A.destroy=h}l=l.next}while(l!==p)}}catch(P){Ve(s,s.return,P)}}function Oo(i,s,l){try{var h=s.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&i)===i){var A=h.inst,P=A.destroy;if(P!==void 0){A.destroy=void 0,p=s;var H=l,et=P;try{et()}catch(ft){Ve(p,H,ft)}}}h=h.next}while(h!==y)}}catch(ft){Ve(s,s.return,ft)}}function eE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{G0(s,l)}catch(h){Ve(i,i.return,h)}}}function nE(i,s,l){l.props=Zl(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){Ve(i,s,h)}}function wh(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(p){Ve(i,s,p)}}function Gs(i,s){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(p){Ve(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ve(i,s,p)}else l.current=null}function iE(i){var s=i.type,l=i.memoizedProps,h=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(p){Ve(i,i.return,p)}}function qg(i,s,l){try{var h=i.stateNode;G2(h,i.type,l,s),h[cn]=s}catch(p){Ve(i,i.return,p)}}function rE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&jo(i.type)||i.tag===4}function Gg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||rE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&jo(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zg(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ti));else if(h!==4&&(h===27&&jo(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Zg(i,s,l),i=i.sibling;i!==null;)Zg(i,s,l),i=i.sibling}function bd(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(h===27&&jo(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(bd(i,s,l),i=i.sibling;i!==null;)bd(i,s,l),i=i.sibling}function sE(i){var s=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Wn(s,h,l),s[an]=i,s[cn]=l}catch(y){Ve(i,i.return,y)}}var Ra=!1,On=!1,Kg=!1,aE=typeof WeakSet=="function"?WeakSet:Set,qn=null;function S2(i,s){if(i=i.containerInfo,m_=Ud,i=Ol(i),js(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var A=0,P=-1,H=-1,et=0,ft=0,gt=i,st=null;e:for(;;){for(var ut;gt!==l||p!==0&&gt.nodeType!==3||(P=A+p),gt!==y||h!==0&&gt.nodeType!==3||(H=A+h),gt.nodeType===3&&(A+=gt.nodeValue.length),(ut=gt.firstChild)!==null;)st=gt,gt=ut;for(;;){if(gt===i)break e;if(st===l&&++et===p&&(P=A),st===y&&++ft===h&&(H=A),(ut=gt.nextSibling)!==null)break;gt=st,st=gt.parentNode}gt=ut}l=P===-1||H===-1?null:{start:P,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(p_={focusedElem:i,selectionRange:l},Ud=!1,qn=s;qn!==null;)if(s=qn,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,qn=i;else for(;qn!==null;){switch(s=qn,y=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,p=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var Mt=Zl(l.type,p);i=h.getSnapshotBeforeUpdate(Mt,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ht){Ve(l,l.return,Ht)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)y_(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":y_(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,qn=i;break}qn=s.return}}function oE(i,s,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Oa(i,l),h&4&&Eh(5,l);break;case 1:if(Oa(i,l),h&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(A){Ve(l,l.return,A)}else{var p=Zl(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){Ve(l,l.return,A)}}h&64&&eE(l),h&512&&wh(l,l.return);break;case 3:if(Oa(i,l),h&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{G0(i,s)}catch(A){Ve(l,l.return,A)}}break;case 27:s===null&&h&4&&sE(l);case 26:case 5:Oa(i,l),s===null&&h&4&&iE(l),h&512&&wh(l,l.return);break;case 12:Oa(i,l);break;case 31:Oa(i,l),h&4&&cE(i,l);break;case 13:Oa(i,l),h&4&&hE(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=L2.bind(null,l),J2(i,l))));break;case 22:if(h=l.memoizedState!==null||Ra,!h){s=s!==null&&s.memoizedState!==null||On,p=Ra;var y=On;Ra=h,(On=s)&&!y?Pa(i,l,(l.subtreeFlags&8772)!==0):Oa(i,l),Ra=p,On=y}break;case 30:break;default:Oa(i,l)}}function lE(i){var s=i.alternate;s!==null&&(i.alternate=null,lE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&so(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var tn=null,Di=!1;function Ia(i,s,l){for(l=l.child;l!==null;)uE(i,s,l),l=l.sibling}function uE(i,s,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Jn,l)}catch{}switch(l.tag){case 26:On||Gs(l,s),Ia(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:On||Gs(l,s);var h=tn,p=Di;jo(l.type)&&(tn=l.stateNode,Di=!1),Ia(i,s,l),Ph(l.stateNode),tn=h,Di=p;break;case 5:On||Gs(l,s);case 6:if(h=tn,p=Di,tn=null,Ia(i,s,l),tn=h,Di=p,tn!==null)if(Di)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(l.stateNode)}catch(y){Ve(l,s,y)}else try{tn.removeChild(l.stateNode)}catch(y){Ve(l,s,y)}break;case 18:tn!==null&&(Di?(i=tn,ew(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),uc(i)):ew(tn,l.stateNode));break;case 4:h=tn,p=Di,tn=l.stateNode.containerInfo,Di=!0,Ia(i,s,l),tn=h,Di=p;break;case 0:case 11:case 14:case 15:Oo(2,l,s),On||Oo(4,l,s),Ia(i,s,l);break;case 1:On||(Gs(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"&&nE(l,s,h)),Ia(i,s,l);break;case 21:Ia(i,s,l);break;case 22:On=(h=On)||l.memoizedState!==null,Ia(i,s,l),On=h;break;default:Ia(i,s,l)}}function cE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{uc(i)}catch(l){Ve(s,s.return,l)}}}function hE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{uc(i)}catch(l){Ve(s,s.return,l)}}function A2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new aE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new aE),s;default:throw Error(r(435,i.tag))}}function Ed(i,s){var l=A2(i);s.forEach(function(h){if(!l.has(h)){l.add(h);var p=M2.bind(null,i,h);h.then(p,p)}})}function ki(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h],y=i,A=s,P=A;t:for(;P!==null;){switch(P.tag){case 27:if(jo(P.type)){tn=P.stateNode,Di=!1;break t}break;case 5:tn=P.stateNode,Di=!1;break t;case 3:case 4:tn=P.stateNode.containerInfo,Di=!0;break t}P=P.return}if(tn===null)throw Error(r(160));uE(y,A,p),tn=null,Di=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)fE(s,i),s=s.sibling}var us=null;function fE(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ki(s,i),ji(i),h&4&&(Oo(3,i,i.return),Eh(3,i),Oo(5,i,i.return));break;case 1:ki(s,i),ji(i),h&512&&(On||l===null||Gs(l,l.return)),h&64&&Ra&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var p=us;if(ki(s,i),ji(i),h&512&&(On||l===null||Gs(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){t:{h=i.type,l=i.memoizedProps,p=p.ownerDocument||p;e:switch(h){case"title":y=p.getElementsByTagName("title")[0],(!y||y[br]||y[an]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(h),p.head.insertBefore(y,p.querySelector("head > title"))),Wn(y,h,l),y[an]=i,hn(y),h=y;break t;case"link":var A=fw("link","href",p).get(h+(l.href||""));if(A){for(var P=0;P<A.length;P++)if(y=A[P],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(P,1);break e}}y=p.createElement(h),Wn(y,h,l),p.head.appendChild(y);break;case"meta":if(A=fw("meta","content",p).get(h+(l.content||""))){for(P=0;P<A.length;P++)if(y=A[P],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(P,1);break e}}y=p.createElement(h),Wn(y,h,l),p.head.appendChild(y);break;default:throw Error(r(468,h))}y[an]=i,hn(y),h=y}i.stateNode=h}else dw(p,i.type,i.stateNode);else i.stateNode=hw(p,h,i.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?dw(p,i.type,i.stateNode):hw(p,h,i.memoizedProps)):h===null&&i.stateNode!==null&&qg(i,i.memoizedProps,l.memoizedProps)}break;case 27:ki(s,i),ji(i),h&512&&(On||l===null||Gs(l,l.return)),l!==null&&h&4&&qg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ki(s,i),ji(i),h&512&&(On||l===null||Gs(l,l.return)),i.flags&32){p=i.stateNode;try{An(p,"")}catch(Mt){Ve(i,i.return,Mt)}}h&4&&i.stateNode!=null&&(p=i.memoizedProps,qg(i,p,l!==null?l.memoizedProps:p)),h&1024&&(Kg=!0);break;case 6:if(ki(s,i),ji(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Mt){Ve(i,i.return,Mt)}}break;case 3:if(jd=null,p=us,us=Dd(s.containerInfo),ki(s,i),us=p,ji(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{uc(s.containerInfo)}catch(Mt){Ve(i,i.return,Mt)}Kg&&(Kg=!1,dE(i));break;case 4:h=us,us=Dd(i.stateNode.containerInfo),ki(s,i),ji(i),us=h;break;case 12:ki(s,i),ji(i);break;case 31:ki(s,i),ji(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ed(i,h)));break;case 13:ki(s,i),ji(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Td=Sn()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ed(i,h)));break;case 22:p=i.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,et=Ra,ft=On;if(Ra=et||p,On=ft||H,ki(s,i),On=ft,Ra=et,ji(i),h&8192)t:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||H||Ra||On||Kl(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){H=l=s;try{if(y=H.stateNode,p)A=y.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{P=H.stateNode;var gt=H.memoizedProps.style,st=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;P.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(Mt){Ve(H,H.return,Mt)}}}else if(s.tag===6){if(l===null){H=s;try{H.stateNode.nodeValue=p?"":H.memoizedProps}catch(Mt){Ve(H,H.return,Mt)}}}else if(s.tag===18){if(l===null){H=s;try{var ut=H.stateNode;p?nw(ut,!0):nw(H.stateNode,!1)}catch(Mt){Ve(H,H.return,Mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Ed(i,l))));break;case 19:ki(s,i),ji(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,Ed(i,h)));break;case 30:break;case 21:break;default:ki(s,i),ji(i)}}function ji(i){var s=i.flags;if(s&2){try{for(var l,h=i.return;h!==null;){if(rE(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,y=Gg(i);bd(i,y,p);break;case 5:var A=l.stateNode;l.flags&32&&(An(A,""),l.flags&=-33);var P=Gg(i);bd(i,P,A);break;case 3:case 4:var H=l.stateNode.containerInfo,et=Gg(i);Zg(i,et,H);break;default:throw Error(r(161))}}catch(ft){Ve(i,i.return,ft)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function dE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;dE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Oa(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)oE(i,s.alternate,s),s=s.sibling}function Kl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Oo(4,s,s.return),Kl(s);break;case 1:Gs(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&nE(s,s.return,l),Kl(s);break;case 27:Ph(s.stateNode);case 26:case 5:Gs(s,s.return),Kl(s);break;case 22:s.memoizedState===null&&Kl(s);break;case 30:Kl(s);break;default:Kl(s)}i=i.sibling}}function Pa(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,p=i,y=s,A=y.flags;switch(y.tag){case 0:case 11:case 15:Pa(p,y,l),Eh(4,y);break;case 1:if(Pa(p,y,l),h=y,p=h.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(et){Ve(h,h.return,et)}if(h=y,p=h.updateQueue,p!==null){var P=h.stateNode;try{var H=p.shared.hiddenCallbacks;if(H!==null)for(p.shared.hiddenCallbacks=null,p=0;p<H.length;p++)q0(H[p],P)}catch(et){Ve(h,h.return,et)}}l&&A&64&&eE(y),wh(y,y.return);break;case 27:sE(y);case 26:case 5:Pa(p,y,l),l&&h===null&&A&4&&iE(y),wh(y,y.return);break;case 12:Pa(p,y,l);break;case 31:Pa(p,y,l),l&&A&4&&cE(p,y);break;case 13:Pa(p,y,l),l&&A&4&&hE(p,y);break;case 22:y.memoizedState===null&&Pa(p,y,l),wh(y,y.return);break;case 30:break;default:Pa(p,y,l)}s=s.sibling}}function Wg(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&lh(l))}function Yg(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&lh(i))}function cs(i,s,l,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mE(i,s,l,h),s=s.sibling}function mE(i,s,l,h){var p=s.flags;switch(s.tag){case 0:case 11:case 15:cs(i,s,l,h),p&2048&&Eh(9,s);break;case 1:cs(i,s,l,h);break;case 3:cs(i,s,l,h),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&lh(i)));break;case 12:if(p&2048){cs(i,s,l,h),i=s.stateNode;try{var y=s.memoizedProps,A=y.id,P=y.onPostCommit;typeof P=="function"&&P(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Ve(s,s.return,H)}}else cs(i,s,l,h);break;case 31:cs(i,s,l,h);break;case 13:cs(i,s,l,h);break;case 23:break;case 22:y=s.stateNode,A=s.alternate,s.memoizedState!==null?y._visibility&2?cs(i,s,l,h):Th(i,s):y._visibility&2?cs(i,s,l,h):(y._visibility|=2,Xu(i,s,l,h,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Wg(A,s);break;case 24:cs(i,s,l,h),p&2048&&Yg(s.alternate,s);break;default:cs(i,s,l,h)}}function Xu(i,s,l,h,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=i,A=s,P=l,H=h,et=A.flags;switch(A.tag){case 0:case 11:case 15:Xu(y,A,P,H,p),Eh(8,A);break;case 23:break;case 22:var ft=A.stateNode;A.memoizedState!==null?ft._visibility&2?Xu(y,A,P,H,p):Th(y,A):(ft._visibility|=2,Xu(y,A,P,H,p)),p&&et&2048&&Wg(A.alternate,A);break;case 24:Xu(y,A,P,H,p),p&&et&2048&&Yg(A.alternate,A);break;default:Xu(y,A,P,H,p)}s=s.sibling}}function Th(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,h=s,p=h.flags;switch(h.tag){case 22:Th(l,h),p&2048&&Wg(h.alternate,h);break;case 24:Th(l,h),p&2048&&Yg(h.alternate,h);break;default:Th(l,h)}s=s.sibling}}var Sh=8192;function Ju(i,s,l){if(i.subtreeFlags&Sh)for(i=i.child;i!==null;)pE(i,s,l),i=i.sibling}function pE(i,s,l){switch(i.tag){case 26:Ju(i,s,l),i.flags&Sh&&i.memoizedState!==null&&hI(l,us,i.memoizedState,i.memoizedProps);break;case 5:Ju(i,s,l);break;case 3:case 4:var h=us;us=Dd(i.stateNode.containerInfo),Ju(i,s,l),us=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Sh,Sh=16777216,Ju(i,s,l),Sh=h):Ju(i,s,l));break;default:Ju(i,s,l)}}function gE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ah(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];qn=h,yE(h,i)}gE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_E(i),i=i.sibling}function _E(i){switch(i.tag){case 0:case 11:case 15:Ah(i),i.flags&2048&&Oo(9,i,i.return);break;case 3:Ah(i);break;case 12:Ah(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,wd(i)):Ah(i);break;default:Ah(i)}}function wd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];qn=h,yE(h,i)}gE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Oo(8,s,s.return),wd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,wd(s));break;default:wd(s)}i=i.sibling}}function yE(i,s){for(;qn!==null;){var l=qn;switch(l.tag){case 0:case 11:case 15:Oo(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:lh(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,qn=h;else t:for(l=i;qn!==null;){h=qn;var p=h.sibling,y=h.return;if(lE(h),h===l){qn=null;break t}if(p!==null){p.return=y,qn=p;break t}qn=y}}}var x2={getCacheForType:function(i){var s=Zn(Cn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Zn(Cn).controller.signal}},C2=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Ze=null,ce=null,me=0,je=0,or=null,Po=!1,tc=!1,$g=!1,Na=0,mn=0,No=0,Wl=0,Qg=0,lr=0,ec=0,xh=null,Vi=null,Xg=!1,Td=0,vE=0,Sd=1/0,Ad=null,Lo=null,Dn=0,Mo=null,nc=null,La=0,Jg=0,t_=null,bE=null,Ch=0,e_=null;function ur(){return(Ne&2)!==0&&me!==0?me&-me:it.T!==null?o_():gl()}function EE(){if(lr===0)if((me&536870912)===0||ue){var i=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),lr=i}else lr=536870912;return i=sr.current,i!==null&&(i.flags|=32),lr}function zi(i,s,l){(i===Ze&&(je===2||je===9)||i.cancelPendingCommit!==null)&&(ic(i,0),Do(i,me,lr,!1)),$r(i,l),((Ne&2)===0||i!==Ze)&&(i===Ze&&((Ne&2)===0&&(Wl|=l),mn===4&&Do(i,me,lr,!1)),Zs(i))}function wE(i,s,l){if((Ne&6)!==0)throw Error(r(327));var h=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Ki(i,s),p=h?O2(i,s):i_(i,s,!0),y=h;do{if(p===0){tc&&!h&&Do(i,s,0,!1);break}else{if(l=i.current.alternate,y&&!R2(l)){p=i_(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;t:{var P=i;p=xh;var H=P.current.memoizedState.isDehydrated;if(H&&(ic(P,A).flags|=256),A=i_(P,A,!1),A!==2){if($g&&!H){P.errorRecoveryDisabledLanes|=y,Wl|=y,p=4;break t}y=Vi,Vi=p,y!==null&&(Vi===null?Vi=y:Vi.push.apply(Vi,y))}p=A}if(y=!1,p!==2)continue}}if(p===1){ic(i,0),Do(i,s,0,!0);break}t:{switch(h=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Do(h,s,lr,!Po);break t;case 2:Vi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Td+300-Sn(),10<p)){if(Do(h,s,lr,!Po),yr(h,0,!0)!==0)break t;La=s,h.timeoutHandle=JE(TE.bind(null,h,l,Vi,Ad,Xg,s,lr,Wl,ec,Po,y,"Throttled",-0,0),p);break t}TE(h,l,Vi,Ad,Xg,s,lr,Wl,ec,Po,y,null,-0,0)}}break}while(!0);Zs(i)}function TE(i,s,l,h,p,y,A,P,H,et,ft,gt,st,ut){if(i.timeoutHandle=-1,gt=s.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},pE(s,y,gt);var Mt=(y&62914560)===y?Td-Sn():(y&4194048)===y?vE-Sn():0;if(Mt=fI(gt,Mt),Mt!==null){La=y,i.cancelPendingCommit=Mt(PE.bind(null,i,s,y,l,h,p,A,P,H,ft,gt,null,st,ut)),Do(i,y,A,!et);return}}PE(i,s,y,l,h,p,A,P,H)}function R2(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Fn(y(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Do(i,s,l,h){s&=~Qg,s&=~Wl,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var p=s;0<p;){var y=31-rn(p),A=1<<y;h[y]=-1,p&=~A}l!==0&&ha(i,l,s)}function xd(){return(Ne&6)===0?(Rh(0),!1):!0}function n_(){if(ce!==null){if(je===0)var i=ce.return;else i=ce,ls=qs=null,yg(i),Ku=null,ch=0,i=ce;for(;i!==null;)tE(i.alternate,i),i=i.return;ce=null}}function ic(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,W2(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),La=0,n_(),Ze=i,ce=l=Nr(i.current,null),me=s,je=0,or=null,Po=!1,tc=Ki(i,s),$g=!1,ec=lr=Qg=Wl=No=mn=0,Vi=xh=null,Xg=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var p=31-rn(h),y=1<<p;s|=i[p],h&=~y}return Na=s,Dl(),l}function SE(i,s){Jt=null,it.H=yh,s===Zu||s===ed?(s=B0(),je=3):s===ag?(s=B0(),je=4):je=s===Mg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,or=s,ce===null&&(mn=1,pd(i,c(s,i.current)))}function AE(){var i=sr.current;return i===null?!0:(me&4194048)===me?Lr===null:(me&62914560)===me||(me&536870912)!==0?i===Lr:!1}function xE(){var i=it.H;return it.H=yh,i===null?yh:i}function CE(){var i=it.A;return it.A=x2,i}function Cd(){mn=4,Po||(me&4194048)!==me&&sr.current!==null||(tc=!0),(No&134217727)===0&&(Wl&134217727)===0||Ze===null||Do(Ze,me,lr,!1)}function i_(i,s,l){var h=Ne;Ne|=2;var p=xE(),y=CE();(Ze!==i||me!==s)&&(Ad=null,ic(i,s)),s=!1;var A=mn;t:do try{if(je!==0&&ce!==null){var P=ce,H=or;switch(je){case 8:n_(),A=6;break t;case 3:case 2:case 9:case 6:sr.current===null&&(s=!0);var et=je;if(je=0,or=null,rc(i,P,H,et),l&&tc){A=0;break t}break;default:et=je,je=0,or=null,rc(i,P,H,et)}}I2(),A=mn;break}catch(ft){SE(i,ft)}while(!0);return s&&i.shellSuspendCounter++,ls=qs=null,Ne=h,it.H=p,it.A=y,ce===null&&(Ze=null,me=0,Dl()),A}function I2(){for(;ce!==null;)RE(ce)}function O2(i,s){var l=Ne;Ne|=2;var h=xE(),p=CE();Ze!==i||me!==s?(Ad=null,Sd=Sn()+500,ic(i,s)):tc=Ki(i,s);t:do try{if(je!==0&&ce!==null){s=ce;var y=or;e:switch(je){case 1:je=0,or=null,rc(i,s,y,1);break;case 2:case 9:if(V0(y)){je=0,or=null,IE(s);break}s=function(){je!==2&&je!==9||Ze!==i||(je=7),Zs(i)},y.then(s,s);break t;case 3:je=7;break t;case 4:je=5;break t;case 7:V0(y)?(je=0,or=null,IE(s)):(je=0,or=null,rc(i,s,y,7));break;case 5:var A=null;switch(ce.tag){case 26:A=ce.memoizedState;case 5:case 27:var P=ce;if(A?mw(A):P.stateNode.complete){je=0,or=null;var H=P.sibling;if(H!==null)ce=H;else{var et=P.return;et!==null?(ce=et,Rd(et)):ce=null}break e}}je=0,or=null,rc(i,s,y,5);break;case 6:je=0,or=null,rc(i,s,y,6);break;case 8:n_(),mn=6;break t;default:throw Error(r(462))}}P2();break}catch(ft){SE(i,ft)}while(!0);return ls=qs=null,it.H=h,it.A=p,Ne=l,ce!==null?0:(Ze=null,me=0,Dl(),mn)}function P2(){for(;ce!==null&&!eo();)RE(ce)}function RE(i){var s=Xb(i.alternate,i,Na);i.memoizedProps=i.pendingProps,s===null?Rd(i):ce=s}function IE(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Zb(l,s,s.pendingProps,s.type,void 0,me);break;case 11:s=Zb(l,s,s.pendingProps,s.type.render,s.ref,me);break;case 5:yg(s);default:tE(l,s),s=ce=ih(s,Na),s=Xb(l,s,Na)}i.memoizedProps=i.pendingProps,s===null?Rd(i):ce=s}function rc(i,s,l,h){ls=qs=null,yg(s),Ku=null,ch=0;var p=s.return;try{if(v2(i,p,s,l,me)){mn=1,pd(i,c(l,i.current)),ce=null;return}}catch(y){if(p!==null)throw ce=p,y;mn=1,pd(i,c(l,i.current)),ce=null;return}s.flags&32768?(ue||h===1?i=!0:tc||(me&536870912)!==0?i=!1:(Po=i=!0,(h===2||h===9||h===3||h===6)&&(h=sr.current,h!==null&&h.tag===13&&(h.flags|=16384))),OE(s,i)):Rd(s)}function Rd(i){var s=i;do{if((s.flags&32768)!==0){OE(s,Po);return}i=s.return;var l=w2(s.alternate,s,Na);if(l!==null){ce=l;return}if(s=s.sibling,s!==null){ce=s;return}ce=s=i}while(s!==null);mn===0&&(mn=5)}function OE(i,s){do{var l=T2(i.alternate,i);if(l!==null){l.flags&=32767,ce=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){ce=i;return}ce=i=l}while(i!==null);mn=6,ce=null}function PE(i,s,l,h,p,y,A,P,H){i.cancelPendingCommit=null;do Id();while(Dn!==0);if((Ne&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=zu,eh(i,l,y,A,P,H),i===Ze&&(ce=Ze=null,me=0),nc=s,Mo=i,La=l,Jg=y,t_=p,bE=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,D2(Gi,function(){return kE(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=it.T,it.T=null,p=St.p,St.p=2,A=Ne,Ne|=4;try{S2(i,s,l)}finally{Ne=A,St.p=p,it.T=h}}Dn=1,NE(),LE(),ME()}}function NE(){if(Dn===1){Dn=0;var i=Mo,s=nc,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=it.T,it.T=null;var h=St.p;St.p=2;var p=Ne;Ne|=4;try{fE(s,i);var y=p_,A=Ol(i.containerInfo),P=y.focusedElem,H=y.selectionRange;if(A!==P&&P&&P.ownerDocument&&Du(P.ownerDocument.documentElement,P)){if(H!==null&&js(P)){var et=H.start,ft=H.end;if(ft===void 0&&(ft=et),"selectionStart"in P)P.selectionStart=et,P.selectionEnd=Math.min(ft,P.value.length);else{var gt=P.ownerDocument||document,st=gt&&gt.defaultView||window;if(st.getSelection){var ut=st.getSelection(),Mt=P.textContent.length,Ht=Math.min(H.start,Mt),He=H.end===void 0?Ht:Math.min(H.end,Mt);!ut.extend&&Ht>He&&(A=He,He=Ht,Ht=A);var Q=Il(P,Ht),K=Il(P,He);if(Q&&K&&(ut.rangeCount!==1||ut.anchorNode!==Q.node||ut.anchorOffset!==Q.offset||ut.focusNode!==K.node||ut.focusOffset!==K.offset)){var tt=gt.createRange();tt.setStart(Q.node,Q.offset),ut.removeAllRanges(),Ht>He?(ut.addRange(tt),ut.extend(K.node,K.offset)):(tt.setEnd(K.node,K.offset),ut.addRange(tt))}}}}for(gt=[],ut=P;ut=ut.parentNode;)ut.nodeType===1&&gt.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<gt.length;P++){var dt=gt[P];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}Ud=!!m_,p_=m_=null}finally{Ne=p,St.p=h,it.T=l}}i.current=s,Dn=2}}function LE(){if(Dn===2){Dn=0;var i=Mo,s=nc,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=it.T,it.T=null;var h=St.p;St.p=2;var p=Ne;Ne|=4;try{oE(i,s.alternate,s)}finally{Ne=p,St.p=h,it.T=l}}Dn=3}}function ME(){if(Dn===4||Dn===3){Dn=0,ca();var i=Mo,s=nc,l=La,h=bE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dn=5:(Dn=0,nc=Mo=null,DE(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Lo=null),Nt(l),s=s.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Jn,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=it.T,p=St.p,St.p=2,it.T=null;try{for(var y=i.onRecoverableError,A=0;A<h.length;A++){var P=h[A];y(P.value,{componentStack:P.stack})}}finally{it.T=s,St.p=p}}(La&3)!==0&&Id(),Zs(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===e_?Ch++:(Ch=0,e_=i):Ch=0,Rh(0)}}function DE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,lh(s)))}function Id(){return NE(),LE(),ME(),kE()}function kE(){if(Dn!==5)return!1;var i=Mo,s=Jg;Jg=0;var l=Nt(La),h=it.T,p=St.p;try{St.p=32>l?32:l,it.T=null,l=t_,t_=null;var y=Mo,A=La;if(Dn=0,nc=Mo=null,La=0,(Ne&6)!==0)throw Error(r(331));var P=Ne;if(Ne|=4,_E(y.current),mE(y,y.current,A,l),Ne=P,Rh(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Jn,y)}catch{}return!0}finally{St.p=p,it.T=h,DE(i,s)}}function jE(i,s,l){s=c(l,s),s=Lg(i.stateNode,s,2),i=Co(i,s,2),i!==null&&($r(i,2),Zs(i))}function Ve(i,s,l){if(i.tag===3)jE(i,i,l);else for(;s!==null;){if(s.tag===3){jE(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Lo===null||!Lo.has(h))){i=c(l,i),l=Vb(2),h=Co(s,l,2),h!==null&&(zb(l,h,s,i),$r(h,2),Zs(h));break}}s=s.return}}function r_(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new C2;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||($g=!0,p.add(l),i=N2.bind(null,i,s,l),s.then(i,i))}function N2(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Ze===i&&(me&l)===l&&(mn===4||mn===3&&(me&62914560)===me&&300>Sn()-Td?(Ne&2)===0&&ic(i,0):Qg|=l,ec===me&&(ec=0)),Zs(i)}function VE(i,s){s===0&&(s=xu()),i=Pr(i,s),i!==null&&($r(i,s),Zs(i))}function L2(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),VE(i,l)}function M2(i,s){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),VE(i,l)}function D2(i,s){return Se(i,s)}var Od=null,sc=null,s_=!1,Pd=!1,a_=!1,ko=0;function Zs(i){i!==sc&&i.next===null&&(sc===null?Od=sc=i:sc=sc.next=i),Pd=!0,s_||(s_=!0,j2())}function Rh(i,s){if(!a_&&Pd){a_=!0;do for(var l=!1,h=Od;h!==null;){if(i!==0){var p=h.pendingLanes;if(p===0)var y=0;else{var A=h.suspendedLanes,P=h.pingedLanes;y=(1<<31-rn(42|i)+1)-1,y&=p&~(A&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,FE(h,y))}else y=me,y=yr(h,h===Ze?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Ki(h,y)||(l=!0,FE(h,y));h=h.next}while(l);a_=!1}}function k2(){zE()}function zE(){Pd=s_=!1;var i=0;ko!==0&&K2()&&(i=ko);for(var s=Sn(),l=null,h=Od;h!==null;){var p=h.next,y=BE(h,s);y===0?(h.next=null,l===null?Od=p:l.next=p,p===null&&(sc=l)):(l=h,(i!==0||(y&3)!==0)&&(Pd=!0)),h=p}Dn!==0&&Dn!==5||Rh(i),ko!==0&&(ko=0)}function BE(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var A=31-rn(y),P=1<<A,H=p[A];H===-1?((P&l)===0||(P&h)!==0)&&(p[A]=th(P,s)):H<=s&&(i.expiredLanes|=P),y&=~P}if(s=Ze,l=me,l=yr(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===s&&(je===2||je===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&wi(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ki(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(h!==null&&wi(h),Nt(l)){case 2:case 8:l=xs;break;case 32:l=Gi;break;case 268435456:l=Cs;break;default:l=Gi}return h=UE.bind(null,i),l=Se(l,h),i.callbackPriority=s,i.callbackNode=l,s}return h!==null&&h!==null&&wi(h),i.callbackPriority=2,i.callbackNode=null,2}function UE(i,s){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Id()&&i.callbackNode!==l)return null;var h=me;return h=yr(i,i===Ze?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(wE(i,h,s),BE(i,Sn()),i.callbackNode!=null&&i.callbackNode===l?UE.bind(null,i):null)}function FE(i,s){if(Id())return null;wE(i,s,!0)}function j2(){Y2(function(){(Ne&6)!==0?Se(gr,k2):zE()})}function o_(){if(ko===0){var i=qu;i===0&&(i=Zi,Zi<<=1,(Zi&261888)===0&&(Zi=256)),ko=i}return ko}function HE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ns(""+i)}function qE(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function V2(i,s,l,h,p){if(s==="submit"&&l&&l.stateNode===p){var y=HE((p[cn]||null).action),A=h.submitter;A&&(s=(s=A[cn]||null)?HE(s.formAction):A.getAttribute("formAction"),s!==null&&(y=s,A=null));var P=new Cr("action","action",null,h,p);i.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ko!==0){var H=A?qE(p,A):new FormData(p);Cg(l,{pending:!0,data:H,method:p.method,action:y},null,H)}}else typeof y=="function"&&(P.preventDefault(),H=A?qE(p,A):new FormData(p),Cg(l,{pending:!0,data:H,method:p.method,action:y},y,H))},currentTarget:p}]})}}for(var l_=0;l_<Bs.length;l_++){var u_=Bs[l_],z2=u_.toLowerCase(),B2=u_[0].toUpperCase()+u_.slice(1);Ni(z2,"on"+B2)}Ni(Nl,"onAnimationEnd"),Ni(Yf,"onAnimationIteration"),Ni(Ll,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Xp,"onTransitionRun"),Ni($f,"onTransitionStart"),Ni(Jp,"onTransitionCancel"),Ni(wo,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ih));function GE(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;t:{var y=void 0;if(s)for(var A=h.length-1;0<=A;A--){var P=h[A],H=P.instance,et=P.currentTarget;if(P=P.listener,H!==y&&p.isPropagationStopped())break t;y=P,p.currentTarget=et;try{y(p)}catch(ft){Ml(ft)}p.currentTarget=null,y=H}else for(A=0;A<h.length;A++){if(P=h[A],H=P.instance,et=P.currentTarget,P=P.listener,H!==y&&p.isPropagationStopped())break t;y=P,p.currentTarget=et;try{y(p)}catch(ft){Ml(ft)}p.currentTarget=null,y=H}}}}function he(i,s){var l=s[Yi];l===void 0&&(l=s[Yi]=new Set);var h=i+"__bubble";l.has(h)||(ZE(s,i,2,!1),l.add(h))}function c_(i,s,l){var h=0;s&&(h|=4),ZE(l,i,h,s)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function h_(i){if(!i[Nd]){i[Nd]=!0,_l.forEach(function(l){l!=="selectionchange"&&(U2.has(l)||c_(l,!1,i),c_(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Nd]||(s[Nd]=!0,c_("selectionchange",!1,s))}}function ZE(i,s,l,h){switch(Ew(s)){case 2:var p=pI;break;case 8:p=gI;break;default:p=x_}l=p.bind(null,s,l,i),p=void 0,!ts||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function f_(i,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)t:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var P=h.stateNode.containerInfo;if(P===p)break;if(A===4)for(A=h.return;A!==null;){var H=A.tag;if((H===3||H===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;P!==null;){if(A=$i(P),A===null)return;if(H=A.tag,H===5||H===6||H===26||H===27){h=y=A;continue t}P=P.parentNode}}h=h.return}Jr(function(){var et=y,ft=ei(l),gt=[];t:{var st=Qf.get(i);if(st!==void 0){var ut=Cr,Mt=i;switch(i){case"keypress":if(Ms(l)===0)break t;case"keydown":case"keyup":ut=Sl;break;case"focusin":Mt="focus",ut=_a;break;case"focusout":Mt="blur",ut=_a;break;case"beforeblur":case"afterblur":ut=_a;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=w;break;case Nl:case Yf:case Ll:ut=ho;break;case wo:ut=N;break;case"scroll":case"scrollend":ut=re;break;case"wheel":ut=at;break;case"copy":case"cut":case"paste":ut=pi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=rs;break;case"toggle":case"beforetoggle":ut=Zt}var Ht=(s&4)!==0,He=!Ht&&(i==="scroll"||i==="scrollend"),Q=Ht?st!==null?st+"Capture":null:st;Ht=[];for(var K=et,tt;K!==null;){var dt=K;if(tt=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||tt===null||Q===null||(dt=mi(K,Q),dt!=null&&Ht.push(Oh(K,dt,tt))),He)break;K=K.return}0<Ht.length&&(st=new ut(st,Mt,null,l,ft),gt.push({event:st,listeners:Ht}))}}if((s&7)===0){t:{if(st=i==="mouseover"||i==="pointerover",ut=i==="mouseout"||i==="pointerout",st&&l!==co&&(Mt=l.relatedTarget||l.fromElement)&&($i(Mt)||Mt[Wi]))break t;if((ut||st)&&(st=ft.window===ft?ft:(st=ft.ownerDocument)?st.defaultView||st.parentWindow:window,ut?(Mt=l.relatedTarget||l.toElement,ut=et,Mt=Mt?$i(Mt):null,Mt!==null&&(He=u(Mt),Ht=Mt.tag,Mt!==He||Ht!==5&&Ht!==27&&Ht!==6)&&(Mt=null)):(ut=null,Mt=et),ut!==Mt)){if(Ht=vl,dt="onMouseLeave",Q="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Ht=rs,dt="onPointerLeave",Q="onPointerEnter",K="pointer"),He=ut==null?st:Vn(ut),tt=Mt==null?st:Vn(Mt),st=new Ht(dt,K+"leave",ut,l,ft),st.target=He,st.relatedTarget=tt,dt=null,$i(ft)===et&&(Ht=new Ht(Q,K+"enter",Mt,l,ft),Ht.target=tt,Ht.relatedTarget=He,dt=Ht),He=dt,ut&&Mt)e:{for(Ht=F2,Q=ut,K=Mt,tt=0,dt=Q;dt;dt=Ht(dt))tt++;dt=0;for(var zt=K;zt;zt=Ht(zt))dt++;for(;0<tt-dt;)Q=Ht(Q),tt--;for(;0<dt-tt;)K=Ht(K),dt--;for(;tt--;){if(Q===K||K!==null&&Q===K.alternate){Ht=Q;break e}Q=Ht(Q),K=Ht(K)}Ht=null}else Ht=null;ut!==null&&KE(gt,st,ut,Ht,!1),Mt!==null&&He!==null&&KE(gt,He,Mt,Ht,!0)}}t:{if(st=et?Vn(et):window,ut=st.nodeName&&st.nodeName.toLowerCase(),ut==="select"||ut==="input"&&st.type==="file")var Ie=Rl;else if(Rr(st))if(qf)Ie=Qp;else{Ie=$p;var kt=ss}else ut=st.nodeName,!ut||ut.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?et&&Ps(et.elementType)&&(Ie=Rl):Ie=yo;if(Ie&&(Ie=Ie(i,et))){Hf(gt,Ie,l,ft);break t}kt&&kt(i,st,et),i==="focusout"&&et&&st.type==="number"&&et.memoizedProps.value!=null&&Qi(st,"number",st.value)}switch(kt=et?Vn(et):window,i){case"focusin":(Rr(kt)||kt.contentEditable==="true")&&(Vs=kt,ju=et,Pl=null);break;case"focusout":Pl=ju=Vs=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,Kf(gt,l,ft);break;case"selectionchange":if(ku)break;case"keydown":case"keyup":Kf(gt,l,ft)}var ie;if(we)t:{switch(i){case"compositionstart":var pe="onCompositionStart";break t;case"compositionend":pe="onCompositionEnd";break t;case"compositionupdate":pe="onCompositionUpdate";break t}pe=void 0}else po?ya(i,l)&&(pe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(pe="onCompositionStart");pe&&(Pi&&l.locale!=="ko"&&(po||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&po&&(ie=Xi()):(Ii=ft,es="value"in Ii?Ii.value:Ii.textContent,po=!0)),kt=Ld(et,pe),0<kt.length&&(pe=new er(pe,i,null,l,ft),gt.push({event:pe,listeners:kt}),ie?pe.data=ie:(ie=va(l),ie!==null&&(pe.data=ie)))),(ie=Oi?rr(i,l):go(i,l))&&(pe=Ld(et,"onBeforeInput"),0<pe.length&&(kt=new er("onBeforeInput","beforeinput",null,l,ft),gt.push({event:kt,listeners:pe}),kt.data=ie)),V2(gt,i,et,l,ft)}GE(gt,s)})}function Oh(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ld(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=mi(i,l),p!=null&&h.unshift(Oh(i,p,y)),p=mi(i,s),p!=null&&h.push(Oh(i,p,y))),i.tag===3)return h;i=i.return}return[]}function F2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function KE(i,s,l,h,p){for(var y=s._reactName,A=[];l!==null&&l!==h;){var P=l,H=P.alternate,et=P.stateNode;if(P=P.tag,H!==null&&H===h)break;P!==5&&P!==26&&P!==27||et===null||(H=et,p?(et=mi(l,y),et!=null&&A.unshift(Oh(l,et,H))):p||(et=mi(l,y),et!=null&&A.push(Oh(l,et,H)))),l=l.return}A.length!==0&&i.push({event:s,listeners:A})}var H2=/\r\n?/g,q2=/\u0000|\uFFFD/g;function WE(i){return(typeof i=="string"?i:""+i).replace(H2,`
`).replace(q2,"")}function YE(i,s){return s=WE(s),WE(i)===s}function Fe(i,s,l,h,p,y){switch(l){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||An(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&An(i,""+h);break;case"className":le(i,"class",h);break;case"tabIndex":le(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":le(i,l,h);break;case"style":ma(i,h,y);break;case"data":if(s!=="object"){le(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ns(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Fe(i,s,"name",p.name,p,null),Fe(i,s,"formEncType",p.formEncType,p,null),Fe(i,s,"formMethod",p.formMethod,p,null),Fe(i,s,"formTarget",p.formTarget,p,null)):(Fe(i,s,"encType",p.encType,p,null),Fe(i,s,"method",p.method,p,null),Fe(i,s,"target",p.target,p,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Ns(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=ti);break;case"onScroll":h!=null&&he("scroll",i);break;case"onScrollEnd":h!=null&&he("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Ns(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":he("beforetoggle",i),he("toggle",i),ae(i,"popover",h);break;case"xlinkActuate":Ye(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ye(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ye(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ye(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ye(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ye(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ye(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ae(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=pa.get(l)||l,ae(i,l,h))}}function d_(i,s,l,h,p,y){switch(l){case"style":ma(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?An(i,h):(typeof h=="number"||typeof h=="bigint")&&An(i,""+h);break;case"onScroll":h!=null&&he("scroll",i);break;case"onScrollEnd":h!=null&&he("scrollend",i);break;case"onClick":h!=null&&(i.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),y=i[cn]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof h=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,h,p);break t}l in i?i[l]=h:h===!0?i.setAttribute(l,""):ae(i,l,h)}}}function Wn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",i),he("load",i);var h=!1,p=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":h=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Fe(i,s,y,A,l,null)}}p&&Fe(i,s,"srcSet",l.srcSet,l,null),h&&Fe(i,s,"src",l.src,l,null);return;case"input":he("invalid",i);var P=y=A=p=null,H=null,et=null;for(h in l)if(l.hasOwnProperty(h)){var ft=l[h];if(ft!=null)switch(h){case"name":p=ft;break;case"type":A=ft;break;case"checked":H=ft;break;case"defaultChecked":et=ft;break;case"value":y=ft;break;case"defaultValue":P=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,s));break;default:Fe(i,s,h,ft,l,null)}}da(i,y,P,H,et,A,p,!1);return;case"select":he("invalid",i),h=A=y=null;for(p in l)if(l.hasOwnProperty(p)&&(P=l[p],P!=null))switch(p){case"value":y=P;break;case"defaultValue":A=P;break;case"multiple":h=P;default:Fe(i,s,p,P,l,null)}s=y,l=A,i.multiple=!!h,s!=null?ke(i,!!h,s,!1):l!=null&&ke(i,!!h,l,!0);return;case"textarea":he("invalid",i),y=p=h=null;for(A in l)if(l.hasOwnProperty(A)&&(P=l[A],P!=null))switch(A){case"value":h=P;break;case"defaultValue":p=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Fe(i,s,A,P,l,null)}Ri(i,h,p,y);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(h=l[H],h!=null))switch(H){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Fe(i,s,H,h,l,null)}return;case"dialog":he("beforetoggle",i),he("toggle",i),he("cancel",i),he("close",i);break;case"iframe":case"object":he("load",i);break;case"video":case"audio":for(h=0;h<Ih.length;h++)he(Ih[h],i);break;case"image":he("error",i),he("load",i);break;case"details":he("toggle",i);break;case"embed":case"source":case"link":he("error",i),he("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in l)if(l.hasOwnProperty(et)&&(h=l[et],h!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Fe(i,s,et,h,l,null)}return;default:if(Ps(s)){for(ft in l)l.hasOwnProperty(ft)&&(h=l[ft],h!==void 0&&d_(i,s,ft,h,l,void 0));return}}for(P in l)l.hasOwnProperty(P)&&(h=l[P],h!=null&&Fe(i,s,P,h,l,null))}function G2(i,s,l,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,A=null,P=null,H=null,et=null,ft=null;for(ut in l){var gt=l[ut];if(l.hasOwnProperty(ut)&&gt!=null)switch(ut){case"checked":break;case"value":break;case"defaultValue":H=gt;default:h.hasOwnProperty(ut)||Fe(i,s,ut,null,h,gt)}}for(var st in h){var ut=h[st];if(gt=l[st],h.hasOwnProperty(st)&&(ut!=null||gt!=null))switch(st){case"type":y=ut;break;case"name":p=ut;break;case"checked":et=ut;break;case"defaultChecked":ft=ut;break;case"value":A=ut;break;case"defaultValue":P=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,s));break;default:ut!==gt&&Fe(i,s,st,ut,h,gt)}}lo(i,A,P,H,et,ft,y,p);return;case"select":ut=A=P=st=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":ut=H;default:h.hasOwnProperty(y)||Fe(i,s,y,null,h,H)}for(p in h)if(y=h[p],H=l[p],h.hasOwnProperty(p)&&(y!=null||H!=null))switch(p){case"value":st=y;break;case"defaultValue":P=y;break;case"multiple":A=y;default:y!==H&&Fe(i,s,p,y,h,H)}s=P,l=A,h=ut,st!=null?ke(i,!!l,st,!1):!!h!=!!l&&(s!=null?ke(i,!!l,s,!0):ke(i,!!l,l?[]:"",!1));return;case"textarea":ut=st=null;for(P in l)if(p=l[P],l.hasOwnProperty(P)&&p!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Fe(i,s,P,null,h,p)}for(A in h)if(p=h[A],y=l[A],h.hasOwnProperty(A)&&(p!=null||y!=null))switch(A){case"value":st=p;break;case"defaultValue":ut=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&Fe(i,s,A,p,h,y)}Sr(i,st,ut);return;case"option":for(var Mt in l)if(st=l[Mt],l.hasOwnProperty(Mt)&&st!=null&&!h.hasOwnProperty(Mt))switch(Mt){case"selected":i.selected=!1;break;default:Fe(i,s,Mt,null,h,st)}for(H in h)if(st=h[H],ut=l[H],h.hasOwnProperty(H)&&st!==ut&&(st!=null||ut!=null))switch(H){case"selected":i.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:Fe(i,s,H,st,h,ut)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in l)st=l[Ht],l.hasOwnProperty(Ht)&&st!=null&&!h.hasOwnProperty(Ht)&&Fe(i,s,Ht,null,h,st);for(et in h)if(st=h[et],ut=l[et],h.hasOwnProperty(et)&&st!==ut&&(st!=null||ut!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,s));break;default:Fe(i,s,et,st,h,ut)}return;default:if(Ps(s)){for(var He in l)st=l[He],l.hasOwnProperty(He)&&st!==void 0&&!h.hasOwnProperty(He)&&d_(i,s,He,void 0,h,st);for(ft in h)st=h[ft],ut=l[ft],!h.hasOwnProperty(ft)||st===ut||st===void 0&&ut===void 0||d_(i,s,ft,st,h,ut);return}}for(var Q in l)st=l[Q],l.hasOwnProperty(Q)&&st!=null&&!h.hasOwnProperty(Q)&&Fe(i,s,Q,null,h,st);for(gt in h)st=h[gt],ut=l[gt],!h.hasOwnProperty(gt)||st===ut||st==null&&ut==null||Fe(i,s,gt,st,h,ut)}function $E(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var p=l[h],y=p.transferSize,A=p.initiatorType,P=p.duration;if(y&&P&&$E(A)){for(A=0,P=p.responseEnd,h+=1;h<l.length;h++){var H=l[h],et=H.startTime;if(et>P)break;var ft=H.transferSize,gt=H.initiatorType;ft&&$E(gt)&&(H=H.responseEnd,A+=ft*(H<P?1:(P-et)/(H-et)))}if(--h,s+=8*(y+A)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var m_=null,p_=null;function Md(i){return i.nodeType===9?i:i.ownerDocument}function QE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function XE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function g_(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var __=null;function K2(){var i=window.event;return i&&i.type==="popstate"?i===__?!1:(__=i,!0):(__=null,!1)}var JE=typeof setTimeout=="function"?setTimeout:void 0,W2=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(i){return tw.resolve(null).then(i).catch($2)}:JE;function $2(i){setTimeout(function(){throw i})}function jo(i){return i==="head"}function ew(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(p),uc(s);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Ph(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,Ph(l);for(var y=l.firstChild;y;){var A=y.nextSibling,P=y.nodeName;y[br]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=A}}else l==="body"&&Ph(i.ownerDocument.body);l=p}while(l);uc(s)}function nw(i,s){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function y_(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":y_(l),so(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function Q2(i,s,l,h){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[br])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Mr(i.nextSibling),i===null)break}return null}function X2(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Mr(i.nextSibling),i===null))return null;return i}function iw(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Mr(i.nextSibling),i===null))return null;return i}function v_(i){return i.data==="$?"||i.data==="$~"}function b_(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function J2(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var h=function(){s(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Mr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var E_=null;function rw(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Mr(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function sw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function aw(i,s,l){switch(s=Md(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Ph(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);so(i)}var Dr=new Map,ow=new Set;function Dd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ma=St.d;St.d={f:tI,r:eI,D:nI,C:iI,L:rI,m:sI,X:oI,S:aI,M:lI};function tI(){var i=Ma.f(),s=xd();return i||s}function eI(i){var s=Ai(i);s!==null&&s.tag===5&&s.type==="form"?Sb(s):Ma.r(i)}var ac=typeof document>"u"?null:document;function lw(i,s,l){var h=ac;if(h&&typeof s=="string"&&s){var p=qe(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),ow.has(p)||(ow.add(p),i={rel:i,crossOrigin:l,href:s},h.querySelector(p)===null&&(s=h.createElement("link"),Wn(s,"link",i),hn(s),h.head.appendChild(s)))}}function nI(i){Ma.D(i),lw("dns-prefetch",i,null)}function iI(i,s){Ma.C(i,s),lw("preconnect",i,s)}function rI(i,s,l){Ma.L(i,s,l);var h=ac;if(h&&i&&s){var p='link[rel="preload"][as="'+qe(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+qe(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+qe(l.imageSizes)+'"]')):p+='[href="'+qe(i)+'"]';var y=p;switch(s){case"style":y=oc(i);break;case"script":y=lc(i)}Dr.has(y)||(i=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Dr.set(y,i),h.querySelector(p)!==null||s==="style"&&h.querySelector(Nh(y))||s==="script"&&h.querySelector(Lh(y))||(s=h.createElement("link"),Wn(s,"link",i),hn(s),h.head.appendChild(s)))}}function sI(i,s){Ma.m(i,s);var l=ac;if(l&&i){var h=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+qe(h)+'"][href="'+qe(i)+'"]',y=p;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=lc(i)}if(!Dr.has(y)&&(i=x({rel:"modulepreload",href:i},s),Dr.set(y,i),l.querySelector(p)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Lh(y)))return}h=l.createElement("link"),Wn(h,"link",i),hn(h),l.head.appendChild(h)}}}function aI(i,s,l){Ma.S(i,s,l);var h=ac;if(h&&i){var p=Er(h).hoistableStyles,y=oc(i);s=s||"default";var A=p.get(y);if(!A){var P={loading:0,preload:null};if(A=h.querySelector(Nh(y)))P.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Dr.get(y))&&w_(i,l);var H=A=h.createElement("link");hn(H),Wn(H,"link",i),H._p=new Promise(function(et,ft){H.onload=et,H.onerror=ft}),H.addEventListener("load",function(){P.loading|=1}),H.addEventListener("error",function(){P.loading|=2}),P.loading|=4,kd(A,s,h)}A={type:"stylesheet",instance:A,count:1,state:P},p.set(y,A)}}}function oI(i,s){Ma.X(i,s);var l=ac;if(l&&i){var h=Er(l).hoistableScripts,p=lc(i),y=h.get(p);y||(y=l.querySelector(Lh(p)),y||(i=x({src:i,async:!0},s),(s=Dr.get(p))&&T_(i,s),y=l.createElement("script"),hn(y),Wn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function lI(i,s){Ma.M(i,s);var l=ac;if(l&&i){var h=Er(l).hoistableScripts,p=lc(i),y=h.get(p);y||(y=l.querySelector(Lh(p)),y||(i=x({src:i,async:!0,type:"module"},s),(s=Dr.get(p))&&T_(i,s),y=l.createElement("script"),hn(y),Wn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(p,y))}}function uw(i,s,l,h){var p=(p=yt.current)?Dd(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=oc(l.href),l=Er(p).hoistableStyles,h=l.get(s),h||(h={type:"style",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=oc(l.href);var y=Er(p).hoistableStyles,A=y.get(i);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,A),(y=p.querySelector(Nh(i)))&&!y._p&&(A.instance=y,A.state.loading=5),Dr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Dr.set(i,l),y||uI(p,i,l,A.state))),s&&h===null)throw Error(r(528,""));return A}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lc(l),l=Er(p).hoistableScripts,h=l.get(s),h||(h={type:"script",instance:null,count:0,state:null},l.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function oc(i){return'href="'+qe(i)+'"'}function Nh(i){return'link[rel="stylesheet"]['+i+"]"}function cw(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function uI(i,s,l,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Wn(s,"link",l),hn(s),i.head.appendChild(s))}function lc(i){return'[src="'+qe(i)+'"]'}function Lh(i){return"script[async]"+i}function hw(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+qe(l.href)+'"]');if(h)return s.instance=h,hn(h),h;var p=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),hn(h),Wn(h,"style",p),kd(h,l.precedence,i),s.instance=h;case"stylesheet":p=oc(l.href);var y=i.querySelector(Nh(p));if(y)return s.state.loading|=4,s.instance=y,hn(y),y;h=cw(l),(p=Dr.get(p))&&w_(h,p),y=(i.ownerDocument||i).createElement("link"),hn(y);var A=y;return A._p=new Promise(function(P,H){A.onload=P,A.onerror=H}),Wn(y,"link",h),s.state.loading|=4,kd(y,l.precedence,i),s.instance=y;case"script":return y=lc(l.src),(p=i.querySelector(Lh(y)))?(s.instance=p,hn(p),p):(h=l,(p=Dr.get(y))&&(h=x({},l),T_(h,p)),i=i.ownerDocument||i,p=i.createElement("script"),hn(p),Wn(p,"link",h),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,kd(h,l.precedence,i));return s.instance}function kd(i,s,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=h.length?h[h.length-1]:null,y=p,A=0;A<h.length;A++){var P=h[A];if(P.dataset.precedence===s)y=P;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function w_(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function T_(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var jd=null;function fw(i,s,l){if(jd===null){var h=new Map,p=jd=new Map;p.set(l,h)}else p=jd,h=p.get(l),h||(h=new Map,p.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var y=l[p];if(!(y[br]||y[an]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(s)||"";A=i+A;var P=h.get(A);P?P.push(y):h.set(A,[y])}}return h}function dw(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function cI(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function mw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function hI(i,s,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=oc(h.href),y=s.querySelector(Nh(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Vd.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=y,hn(y);return}y=s.ownerDocument||s,h=cw(h),(p=Dr.get(p))&&w_(h,p),y=y.createElement("link"),hn(y);var A=y;A._p=new Promise(function(P,H){A.onload=P,A.onerror=H}),Wn(y,"link",h),l.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Vd.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var S_=0;function fI(i,s){return i.stylesheets&&i.count===0&&Bd(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+s);0<i.imgBytes&&S_===0&&(S_=62500*Z2());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bd(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>S_?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(p)}}:null}function Vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zd=null;function Bd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zd=new Map,s.forEach(dI,i),zd=null,Vd.call(i))}function dI(i,s){if(!(s.state.loading&4)){var l=zd.get(i);if(l)var h=l.get(null);else{l=new Map,zd.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var A=p[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),h=A)}h&&l.set(null,h)}p=s.instance,A=p.getAttribute("data-precedence"),y=l.get(A)||h,y===h&&l.set(null,p),l.set(A,p),this.count++,h=Vd.bind(this),p.addEventListener("load",h),p.addEventListener("error",h),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Mh={$$typeof:nt,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function mI(i,s,l,h,p,y,A,P,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=h,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function pw(i,s,l,h,p,y,A,P,H,et,ft,gt){return i=new mI(i,s,l,A,H,et,ft,gt,P),s=1,y===!0&&(s|=24),y=si(3,null,null,s),i.current=y,y.stateNode=i,s=ig(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:s},og(y),i}function gw(i){return i?(i=ba,i):ba}function _w(i,s,l,h,p,y){p=gw(p),h.context===null?h.context=p:h.pendingContext=p,h=xo(s),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=Co(i,h,s),l!==null&&(zi(l,i,s),fh(l,i,s))}function yw(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function A_(i,s){yw(i,s),(i=i.alternate)&&yw(i,s)}function vw(i){if(i.tag===13||i.tag===31){var s=Pr(i,67108864);s!==null&&zi(s,i,67108864),A_(i,67108864)}}function bw(i){if(i.tag===13||i.tag===31){var s=ur();s=jn(s);var l=Pr(i,s);l!==null&&zi(l,i,s),A_(i,s)}}var Ud=!0;function pI(i,s,l,h){var p=it.T;it.T=null;var y=St.p;try{St.p=2,x_(i,s,l,h)}finally{St.p=y,it.T=p}}function gI(i,s,l,h){var p=it.T;it.T=null;var y=St.p;try{St.p=8,x_(i,s,l,h)}finally{St.p=y,it.T=p}}function x_(i,s,l,h){if(Ud){var p=C_(h);if(p===null)f_(i,s,h,Fd,l),ww(i,h);else if(yI(p,i,s,l,h))h.stopPropagation();else if(ww(i,h),s&4&&-1<_I.indexOf(i)){for(;p!==null;){var y=Ai(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=_r(y.pendingLanes);if(A!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;A;){var H=1<<31-rn(A);P.entanglements[1]|=H,A&=~H}Zs(y),(Ne&6)===0&&(Sd=Sn()+500,Rh(0))}}break;case 31:case 13:P=Pr(y,2),P!==null&&zi(P,y,2),xd(),A_(y,2)}if(y=C_(h),y===null&&f_(i,s,h,Fd,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else f_(i,s,h,null,l)}}function C_(i){return i=ei(i),R_(i)}var Fd=null;function R_(i){if(Fd=null,i=$i(i),i!==null){var s=u(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=f(s),i!==null)return i;i=null}else if(l===31){if(i=g(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Fd=i,null}function Ew(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case gr:return 2;case xs:return 8;case Gi:case no:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var I_=!1,Vo=null,zo=null,Bo=null,Dh=new Map,kh=new Map,Uo=[],_I="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ww(i,s){switch(i){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":Dh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":kh.delete(s.pointerId)}}function jh(i,s,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ai(s),s!==null&&vw(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function yI(i,s,l,h,p){switch(s){case"focusin":return Vo=jh(Vo,i,s,l,h,p),!0;case"dragenter":return zo=jh(zo,i,s,l,h,p),!0;case"mouseover":return Bo=jh(Bo,i,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return Dh.set(y,jh(Dh.get(y)||null,i,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,kh.set(y,jh(kh.get(y)||null,i,s,l,h,p)),!0}return!1}function Tw(i){var s=$i(i.target);if(s!==null){var l=u(s);if(l!==null){if(s=l.tag,s===13){if(s=f(l),s!==null){i.blockedOn=s,Ti(i.priority,function(){bw(l)});return}}else if(s===31){if(s=g(l),s!==null){i.blockedOn=s,Ti(i.priority,function(){bw(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=C_(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);co=h,l.target.dispatchEvent(h),co=null}else return s=Ai(l),s!==null&&vw(s),i.blockedOn=l,!1;s.shift()}return!0}function Sw(i,s,l){Hd(i)&&l.delete(s)}function vI(){I_=!1,Vo!==null&&Hd(Vo)&&(Vo=null),zo!==null&&Hd(zo)&&(zo=null),Bo!==null&&Hd(Bo)&&(Bo=null),Dh.forEach(Sw),kh.forEach(Sw)}function qd(i,s){i.blockedOn===s&&(i.blockedOn=null,I_||(I_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vI)))}var Gd=null;function Aw(i){Gd!==i&&(Gd=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gd===i&&(Gd=null);for(var s=0;s<i.length;s+=3){var l=i[s],h=i[s+1],p=i[s+2];if(typeof h!="function"){if(R_(h||l)===null)continue;break}var y=Ai(l);y!==null&&(i.splice(s,3),s-=3,Cg(y,{pending:!0,data:p,method:l.method,action:h},h,p))}}))}function uc(i){function s(H){return qd(H,i)}Vo!==null&&qd(Vo,i),zo!==null&&qd(zo,i),Bo!==null&&qd(Bo,i),Dh.forEach(s),kh.forEach(s);for(var l=0;l<Uo.length;l++){var h=Uo[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Uo.length&&(l=Uo[0],l.blockedOn===null);)Tw(l),l.blockedOn===null&&Uo.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var p=l[h],y=l[h+1],A=p[cn]||null;if(typeof y=="function")A||Aw(l);else if(A){var P=null;if(y&&y.hasAttribute("formAction")){if(p=y,A=y[cn]||null)P=A.formAction;else if(R_(p)!==null)continue}else P=A.action;typeof P=="function"?l[h+1]=P:(l.splice(h,3),h-=3),Aw(l)}}}function xw(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(A){return p=A})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function O_(i){this._internalRoot=i}Zd.prototype.render=O_.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,h=ur();_w(l,h,i,s,null,null)},Zd.prototype.unmount=O_.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;_w(i.current,2,null,i,null,null),xd(),s[Wi]=null}};function Zd(i){this._internalRoot=i}Zd.prototype.unstable_scheduleHydration=function(i){if(i){var s=gl();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Uo.length&&s!==0&&s<Uo[l].priority;l++);Uo.splice(l,0,i),l===0&&Tw(i)}};var Cw=t.version;if(Cw!=="19.2.1")throw Error(r(527,Cw,"19.2.1"));St.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=v(s),i=i!==null?T(i):null,i=i===null?null:i.stateNode,i};var bI={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:it,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{Jn=Kd.inject(bI),gn=Kd}catch{}}return zh.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,h="",p=Mb,y=Db,A=kb;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=pw(i,1,!1,null,null,l,h,null,p,y,A,xw),i[Wi]=s.current,h_(i),new O_(s)},zh.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var h=!1,p="",y=Mb,A=Db,P=kb,H=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(P=l.onRecoverableError),l.formState!==void 0&&(H=l.formState)),s=pw(i,1,!0,s,l??null,h,p,H,y,A,P,xw),s.context=gw(null),l=s.current,h=ur(),h=jn(h),p=xo(h),p.callback=null,Co(l,p,h),l=h,s.current.lanes=l,$r(s,l),Zs(s),i[Wi]=s.current,h_(i),new Zd(s)},zh.version="19.2.1",zh}var jw;function PI(){if(jw)return L_.exports;jw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),L_.exports=OI(),L_.exports}var NI=PI();/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vw="popstate";function LI(n={}){function t(r,a){let{pathname:u,search:f,hash:g}=r.location;return dy("",{pathname:u,search:f,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(r,a){return typeof a=="string"?a:af(a)}return DI(t,e,null,n)}function en(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function qr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MI(){return Math.random().toString(36).substring(2,10)}function zw(n,t){return{usr:n.state,key:n.key,idx:t}}function dy(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Vc(t):t,state:e,key:t&&t.key||r||MI()}}function af({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Vc(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function DI(n,t,e,r={}){let{window:a=document.defaultView,v5Compat:u=!1}=r,f=a.history,g="POP",_=null,v=T();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function T(){return(f.state||{idx:null}).idx}function x(){g="POP";let k=T(),ct=k==null?null:k-v;v=k,_&&_({action:g,location:z.location,delta:ct})}function O(k,ct){g="PUSH";let Et=dy(z.location,k,ct);v=T()+1;let nt=zw(Et,v),Tt=z.createHref(Et);try{f.pushState(nt,"",Tt)}catch(Rt){if(Rt instanceof DOMException&&Rt.name==="DataCloneError")throw Rt;a.location.assign(Tt)}u&&_&&_({action:g,location:z.location,delta:1})}function D(k,ct){g="REPLACE";let Et=dy(z.location,k,ct);v=T();let nt=zw(Et,v),Tt=z.createHref(Et);f.replaceState(nt,"",Tt),u&&_&&_({action:g,location:z.location,delta:0})}function M(k){return kI(k)}let z={get action(){return g},get location(){return n(a,f)},listen(k){if(_)throw new Error("A history only accepts one active listener");return a.addEventListener(Vw,x),_=k,()=>{a.removeEventListener(Vw,x),_=null}},createHref(k){return t(a,k)},createURL:M,encodeLocation(k){let ct=M(k);return{pathname:ct.pathname,search:ct.search,hash:ct.hash}},push:O,replace:D,go(k){return f.go(k)}};return z}function kI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),en(e,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:af(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=e+r),new URL(r,e)}function TA(n,t,e="/"){return jI(n,t,e,!1)}function jI(n,t,e,r){let a=typeof t=="string"?Vc(t):t,u=Ga(a.pathname||"/",e);if(u==null)return null;let f=SA(n);VI(f);let g=null;for(let _=0;g==null&&_<f.length;++_){let v=YI(u);g=KI(f[_],v,r)}return g}function SA(n,t=[],e=[],r="",a=!1){let u=(f,g,_=a,v)=>{let T={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&_)return;en(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let x=Ua([r,T.relativePath]),O=e.concat(T);f.children&&f.children.length>0&&(en(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),SA(f.children,t,O,x,_)),!(f.path==null&&!f.index)&&t.push({path:x,score:GI(x,f.index),routesMeta:O})};return n.forEach((f,g)=>{var _;if(f.path===""||!((_=f.path)!=null&&_.includes("?")))u(f,g);else for(let v of AA(f.path))u(f,g,!0,v)}),t}function AA(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,a=e.endsWith("?"),u=e.replace(/\?$/,"");if(r.length===0)return a?[u,""]:[u];let f=AA(r.join("/")),g=[];return g.push(...f.map(_=>_===""?u:[u,_].join("/"))),a&&g.push(...f),g.map(_=>n.startsWith("/")&&_===""?"/":_)}function VI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:ZI(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var zI=/^:[\w-]+$/,BI=3,UI=2,FI=1,HI=10,qI=-2,Bw=n=>n==="*";function GI(n,t){let e=n.split("/"),r=e.length;return e.some(Bw)&&(r+=qI),t&&(r+=UI),e.filter(a=>!Bw(a)).reduce((a,u)=>a+(zI.test(u)?BI:u===""?FI:HI),r)}function ZI(n,t){return n.length===t.length&&n.slice(0,-1).every((r,a)=>r===t[a])?n[n.length-1]-t[t.length-1]:0}function KI(n,t,e=!1){let{routesMeta:r}=n,a={},u="/",f=[];for(let g=0;g<r.length;++g){let _=r[g],v=g===r.length-1,T=u==="/"?t:t.slice(u.length)||"/",x=Sm({path:_.relativePath,caseSensitive:_.caseSensitive,end:v},T),O=_.route;if(!x&&v&&e&&!r[r.length-1].route.index&&(x=Sm({path:_.relativePath,caseSensitive:_.caseSensitive,end:!1},T)),!x)return null;Object.assign(a,x.params),f.push({params:a,pathname:Ua([u,x.pathname]),pathnameBase:tO(Ua([u,x.pathnameBase])),route:O}),x.pathnameBase!=="/"&&(u=Ua([u,x.pathnameBase]))}return f}function Sm(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=WI(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let u=a[0],f=u.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:r.reduce((v,{paramName:T,isOptional:x},O)=>{if(T==="*"){let M=g[O]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const D=g[O];return x&&!D?v[T]=void 0:v[T]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:f,pattern:n}}function WI(n,t=!1,e=!0){qr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,_)=>(r.push({paramName:g,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function YI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ga(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}var $I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QI=n=>$I.test(n);function XI(n,t="/"){let{pathname:e,search:r="",hash:a=""}=typeof n=="string"?Vc(n):n,u;if(e)if(QI(e))u=e;else{if(e.includes("//")){let f=e;e=e.replace(/\/\/+/g,"/"),qr(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${e}`)}e.startsWith("/")?u=Uw(e.substring(1),"/"):u=Uw(e,t)}else u=t;return{pathname:u,search:eO(r),hash:nO(a)}}function Uw(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function j_(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ov(n){let t=JI(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function lv(n,t,e,r=!1){let a;typeof n=="string"?a=Vc(n):(a={...n},en(!a.pathname||!a.pathname.includes("?"),j_("?","pathname","search",a)),en(!a.pathname||!a.pathname.includes("#"),j_("#","pathname","hash",a)),en(!a.search||!a.search.includes("#"),j_("#","search","hash",a)));let u=n===""||a.pathname==="",f=u?"/":a.pathname,g;if(f==null)g=e;else{let x=t.length-1;if(!r&&f.startsWith("..")){let O=f.split("/");for(;O[0]==="..";)O.shift(),x-=1;a.pathname=O.join("/")}g=x>=0?t[x]:"/"}let _=XI(a,g),v=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&e.endsWith("/");return!_.pathname.endsWith("/")&&(v||T)&&(_.pathname+="/"),_}var Ua=n=>n.join("/").replace(/\/\/+/g,"/"),tO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function iO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function rO(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xA=["POST","PUT","PATCH","DELETE"];new Set(xA);var sO=["GET",...xA];new Set(sO);var zc=$.createContext(null);zc.displayName="DataRouter";var op=$.createContext(null);op.displayName="DataRouterState";$.createContext(!1);var CA=$.createContext({isTransitioning:!1});CA.displayName="ViewTransition";var aO=$.createContext(new Map);aO.displayName="Fetchers";var oO=$.createContext(null);oO.displayName="Await";var Zr=$.createContext(null);Zr.displayName="Navigation";var yf=$.createContext(null);yf.displayName="Location";var Kr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var uv=$.createContext(null);uv.displayName="RouteError";function lO(n,{relative:t}={}){en(Bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=$.useContext(Zr),{hash:a,pathname:u,search:f}=vf(n,{relative:t}),g=u;return e!=="/"&&(g=u==="/"?e:Ua([e,u])),r.createHref({pathname:g,search:f,hash:a})}function Bc(){return $.useContext(yf)!=null}function ul(){return en(Bc(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(yf).location}var RA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IA(n){$.useContext(Zr).static||$.useLayoutEffect(n)}function Uc(){let{isDataRoute:n}=$.useContext(Kr);return n?SO():uO()}function uO(){en(Bc(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(zc),{basename:t,navigator:e}=$.useContext(Zr),{matches:r}=$.useContext(Kr),{pathname:a}=ul(),u=JSON.stringify(ov(r)),f=$.useRef(!1);return IA(()=>{f.current=!0}),$.useCallback((_,v={})=>{if(qr(f.current,RA),!f.current)return;if(typeof _=="number"){e.go(_);return}let T=lv(_,JSON.parse(u),a,v.relative==="path");n==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Ua([t,T.pathname])),(v.replace?e.replace:e.push)(T,v.state,v)},[t,e,u,a,n])}var cO=$.createContext(null);function hO(n){let t=$.useContext(Kr).outlet;return $.useMemo(()=>t&&$.createElement(cO.Provider,{value:n},t),[t,n])}function fO(){let{matches:n}=$.useContext(Kr),t=n[n.length-1];return t?t.params:{}}function vf(n,{relative:t}={}){let{matches:e}=$.useContext(Kr),{pathname:r}=ul(),a=JSON.stringify(ov(e));return $.useMemo(()=>lv(n,JSON.parse(a),r,t==="path"),[n,a,r,t])}function dO(n,t){return OA(n,t)}function OA(n,t,e,r,a){var Et;en(Bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=$.useContext(Zr),{matches:f}=$.useContext(Kr),g=f[f.length-1],_=g?g.params:{},v=g?g.pathname:"/",T=g?g.pathnameBase:"/",x=g&&g.route;{let nt=x&&x.path||"";PA(v,!x||nt.endsWith("*")||nt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${nt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${nt}"> to <Route path="${nt==="/"?"*":`${nt}/*`}">.`)}let O=ul(),D;if(t){let nt=typeof t=="string"?Vc(t):t;en(T==="/"||((Et=nt.pathname)==null?void 0:Et.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${nt.pathname}" was given in the \`location\` prop.`),D=nt}else D=O;let M=D.pathname||"/",z=M;if(T!=="/"){let nt=T.replace(/^\//,"").split("/");z="/"+M.replace(/^\//,"").split("/").slice(nt.length).join("/")}let k=TA(n,{pathname:z});qr(x||k!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),qr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ct=yO(k&&k.map(nt=>Object.assign({},nt,{params:Object.assign({},_,nt.params),pathname:Ua([T,u.encodeLocation?u.encodeLocation(nt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathname]),pathnameBase:nt.pathnameBase==="/"?T:Ua([T,u.encodeLocation?u.encodeLocation(nt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:nt.pathnameBase])})),f,e,r,a);return t&&ct?$.createElement(yf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},ct):ct}function mO(){let n=TO(),t=iO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:u},"ErrorBoundary")," or"," ",$.createElement("code",{style:u},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),e?$.createElement("pre",{style:a},e):null,f)}var pO=$.createElement(mO,null),gO=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?$.createElement(Kr.Provider,{value:this.props.routeContext},$.createElement(uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _O({routeContext:n,match:t,children:e}){let r=$.useContext(zc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Kr.Provider,{value:n},e)}function yO(n,t=[],e=null,r=null,a=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let u=n,f=e==null?void 0:e.errors;if(f!=null){let T=u.findIndex(x=>x.route.id&&(f==null?void 0:f[x.route.id])!==void 0);en(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let g=!1,_=-1;if(e)for(let T=0;T<u.length;T++){let x=u[T];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(_=T),x.route.id){let{loaderData:O,errors:D}=e,M=x.route.loader&&!O.hasOwnProperty(x.route.id)&&(!D||D[x.route.id]===void 0);if(x.route.lazy||M){g=!0,_>=0?u=u.slice(0,_+1):u=[u[0]];break}}}let v=e&&r?(T,x)=>{var O,D;r(T,{location:e.location,params:((D=(O=e.matches)==null?void 0:O[0])==null?void 0:D.params)??{},unstable_pattern:rO(e.matches),errorInfo:x})}:void 0;return u.reduceRight((T,x,O)=>{let D,M=!1,z=null,k=null;e&&(D=f&&x.route.id?f[x.route.id]:void 0,z=x.route.errorElement||pO,g&&(_<0&&O===0?(PA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,k=null):_===O&&(M=!0,k=x.route.hydrateFallbackElement||null)));let ct=t.concat(u.slice(0,O+1)),Et=()=>{let nt;return D?nt=z:M?nt=k:x.route.Component?nt=$.createElement(x.route.Component,null):x.route.element?nt=x.route.element:nt=T,$.createElement(_O,{match:x,routeContext:{outlet:T,matches:ct,isDataRoute:e!=null},children:nt})};return e&&(x.route.ErrorBoundary||x.route.errorElement||O===0)?$.createElement(gO,{location:e.location,revalidation:e.revalidation,component:z,error:D,children:Et(),routeContext:{outlet:null,matches:ct,isDataRoute:!0},onError:v}):Et()},null)}function cv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vO(n){let t=$.useContext(zc);return en(t,cv(n)),t}function bO(n){let t=$.useContext(op);return en(t,cv(n)),t}function EO(n){let t=$.useContext(Kr);return en(t,cv(n)),t}function hv(n){let t=EO(n),e=t.matches[t.matches.length-1];return en(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function wO(){return hv("useRouteId")}function TO(){var r;let n=$.useContext(uv),t=bO("useRouteError"),e=hv("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[e]}function SO(){let{router:n}=vO("useNavigate"),t=hv("useNavigate"),e=$.useRef(!1);return IA(()=>{e.current=!0}),$.useCallback(async(a,u={})=>{qr(e.current,RA),e.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:t,...u}))},[n,t])}var Fw={};function PA(n,t,e){!t&&!Fw[n]&&(Fw[n]=!0,qr(!1,e))}$.memo(AO);function AO({routes:n,future:t,state:e,unstable_onError:r}){return OA(n,void 0,e,r,t)}function xO({to:n,replace:t,state:e,relative:r}){en(Bc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=$.useContext(Zr);qr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=$.useContext(Kr),{pathname:f}=ul(),g=Uc(),_=lv(n,ov(u),f,r==="path"),v=JSON.stringify(_);return $.useEffect(()=>{g(JSON.parse(v),{replace:t,state:e,relative:r})},[g,v,r,t,e]),null}function CO(n){return hO(n.context)}function hs(n){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RO({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:a,static:u=!1,unstable_useTransitions:f}){en(!Bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),_=$.useMemo(()=>({basename:g,navigator:a,static:u,unstable_useTransitions:f,future:{}}),[g,a,u,f]);typeof e=="string"&&(e=Vc(e));let{pathname:v="/",search:T="",hash:x="",state:O=null,key:D="default"}=e,M=$.useMemo(()=>{let z=Ga(v,g);return z==null?null:{location:{pathname:z,search:T,hash:x,state:O,key:D},navigationType:r}},[g,v,T,x,O,D,r]);return qr(M!=null,`<Router basename="${g}"> is not able to match the URL "${v}${T}${x}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:$.createElement(Zr.Provider,{value:_},$.createElement(yf.Provider,{children:t,value:M}))}function IO({children:n,location:t}){return dO(my(n),t)}function my(n,t=[]){let e=[];return $.Children.forEach(n,(r,a)=>{if(!$.isValidElement(r))return;let u=[...t,a];if(r.type===$.Fragment){e.push.apply(e,my(r.props.children,u));return}en(r.type===hs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=my(r.props.children,u)),e.push(f)}),e}var sm="get",am="application/x-www-form-urlencoded";function lp(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function OO(n){return lp(n)&&n.tagName.toLowerCase()==="button"}function PO(n){return lp(n)&&n.tagName.toLowerCase()==="form"}function NO(n){return lp(n)&&n.tagName.toLowerCase()==="input"}function LO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MO(n,t){return n.button===0&&(!t||t==="_self")&&!LO(n)}var Wd=null;function DO(){if(Wd===null)try{new FormData(document.createElement("form"),0),Wd=!1}catch{Wd=!0}return Wd}var kO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function V_(n){return n!=null&&!kO.has(n)?(qr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${am}"`),null):n}function jO(n,t){let e,r,a,u,f;if(PO(n)){let g=n.getAttribute("action");r=g?Ga(g,t):null,e=n.getAttribute("method")||sm,a=V_(n.getAttribute("enctype"))||am,u=new FormData(n)}else if(OO(n)||NO(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let _=n.getAttribute("formaction")||g.getAttribute("action");if(r=_?Ga(_,t):null,e=n.getAttribute("formmethod")||g.getAttribute("method")||sm,a=V_(n.getAttribute("formenctype"))||V_(g.getAttribute("enctype"))||am,u=new FormData(g,n),!DO()){let{name:v,type:T,value:x}=n;if(T==="image"){let O=v?`${v}.`:"";u.append(`${O}x`,"0"),u.append(`${O}y`,"0")}else v&&u.append(v,x)}}else{if(lp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=sm,r=null,a=am,f=n}return u&&a==="text/plain"&&(f=u,u=void 0),{action:r,method:e.toLowerCase(),encType:a,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fv(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function VO(n,t,e){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${e}`:t&&Ga(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${e}`,r}async function zO(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function UO(n,t,e){let r=await Promise.all(n.map(async a=>{let u=t.routes[a.route.id];if(u){let f=await zO(u,e);return f.links?f.links():[]}return[]}));return GO(r.flat(1).filter(BO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hw(n,t,e,r,a,u){let f=(_,v)=>e[v]?_.route.id!==e[v].route.id:!0,g=(_,v)=>{var T;return e[v].pathname!==_.pathname||((T=e[v].route.path)==null?void 0:T.endsWith("*"))&&e[v].params["*"]!==_.params["*"]};return u==="assets"?t.filter((_,v)=>f(_,v)||g(_,v)):u==="data"?t.filter((_,v)=>{var x;let T=r.routes[_.route.id];if(!T||!T.hasLoader)return!1;if(f(_,v)||g(_,v))return!0;if(_.route.shouldRevalidate){let O=_.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=e[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:_.params,defaultShouldRevalidate:!0});if(typeof O=="boolean")return O}return!0}):[]}function FO(n,t,{includeHydrateFallback:e}={}){return HO(n.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let u=[a.module];return a.clientActionModule&&(u=u.concat(a.clientActionModule)),a.clientLoaderModule&&(u=u.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(u=u.concat(a.hydrateFallbackModule)),a.imports&&(u=u.concat(a.imports)),u}).flat(1))}function HO(n){return[...new Set(n)]}function qO(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function GO(n,t){let e=new Set;return new Set(t),n.reduce((r,a)=>{let u=JSON.stringify(qO(a));return e.has(u)||(e.add(u),r.push({key:u,link:a})),r},[])}function NA(){let n=$.useContext(zc);return fv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZO(){let n=$.useContext(op);return fv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var dv=$.createContext(void 0);dv.displayName="FrameworkContext";function LA(){let n=$.useContext(dv);return fv(n,"You must render this element inside a <HydratedRouter> element"),n}function KO(n,t){let e=$.useContext(dv),[r,a]=$.useState(!1),[u,f]=$.useState(!1),{onFocus:g,onBlur:_,onMouseEnter:v,onMouseLeave:T,onTouchStart:x}=t,O=$.useRef(null);$.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let z=ct=>{ct.forEach(Et=>{f(Et.isIntersecting)})},k=new IntersectionObserver(z,{threshold:.5});return O.current&&k.observe(O.current),()=>{k.disconnect()}}},[n]),$.useEffect(()=>{if(r){let z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(z)}}},[r]);let D=()=>{a(!0)},M=()=>{a(!1),f(!1)};return e?n!=="intent"?[u,O,{}]:[u,O,{onFocus:Bh(g,D),onBlur:Bh(_,M),onMouseEnter:Bh(v,D),onMouseLeave:Bh(T,M),onTouchStart:Bh(x,D)}]:[!1,O,{}]}function Bh(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function WO({page:n,...t}){let{router:e}=NA(),r=$.useMemo(()=>TA(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?$.createElement($O,{page:n,matches:r,...t}):null}function YO(n){let{manifest:t,routeModules:e}=LA(),[r,a]=$.useState([]);return $.useEffect(()=>{let u=!1;return UO(n,t,e).then(f=>{u||a(f)}),()=>{u=!0}},[n,t,e]),r}function $O({page:n,matches:t,...e}){let r=ul(),{manifest:a,routeModules:u}=LA(),{basename:f}=NA(),{loaderData:g,matches:_}=ZO(),v=$.useMemo(()=>Hw(n,t,_,a,r,"data"),[n,t,_,a,r]),T=$.useMemo(()=>Hw(n,t,_,a,r,"assets"),[n,t,_,a,r]),x=$.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let M=new Set,z=!1;if(t.forEach(ct=>{var nt;let Et=a.routes[ct.route.id];!Et||!Et.hasLoader||(!v.some(Tt=>Tt.route.id===ct.route.id)&&ct.route.id in g&&((nt=u[ct.route.id])!=null&&nt.shouldRevalidate)||Et.hasClientLoader?z=!0:M.add(ct.route.id))}),M.size===0)return[];let k=VO(n,f,"data");return z&&M.size>0&&k.searchParams.set("_routes",t.filter(ct=>M.has(ct.route.id)).map(ct=>ct.route.id).join(",")),[k.pathname+k.search]},[f,g,r,a,v,t,n,u]),O=$.useMemo(()=>FO(T,a),[T,a]),D=YO(T);return $.createElement($.Fragment,null,x.map(M=>$.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...e})),O.map(M=>$.createElement("link",{key:M,rel:"modulepreload",href:M,...e})),D.map(({key:M,link:z})=>$.createElement("link",{key:M,nonce:e.nonce,...z})))}function QO(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var MA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MA&&(window.__reactRouterVersion="7.10.1")}catch{}function XO({basename:n,children:t,unstable_useTransitions:e,window:r}){let a=$.useRef();a.current==null&&(a.current=LI({window:r,v5Compat:!0}));let u=a.current,[f,g]=$.useState({action:u.action,location:u.location}),_=$.useCallback(v=>{e===!1?g(v):$.startTransition(()=>g(v))},[e]);return $.useLayoutEffect(()=>u.listen(_),[u,_]),$.createElement(RO,{basename:n,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:e===!0})}var DA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=$.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:a,reloadDocument:u,replace:f,state:g,target:_,to:v,preventScrollReset:T,viewTransition:x,...O},D){let{basename:M,unstable_useTransitions:z}=$.useContext(Zr),k=typeof v=="string"&&DA.test(v),ct,Et=!1;if(typeof v=="string"&&k&&(ct=v,MA))try{let Z=new URL(window.location.href),q=v.startsWith("//")?new URL(Z.protocol+v):new URL(v),W=Ga(q.pathname,M);q.origin===Z.origin&&W!=null?v=W+q.search+q.hash:Et=!0}catch{qr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=lO(v,{relative:a}),[Tt,Rt,Dt]=KO(r,O),V=eP(v,{replace:f,state:g,target:_,preventScrollReset:T,relative:a,viewTransition:x,unstable_useTransitions:z});function j(Z){t&&t(Z),Z.defaultPrevented||V(Z)}let B=$.createElement("a",{...O,...Dt,href:ct||nt,onClick:Et||u?t:j,ref:QO(D,Rt),target:_,"data-discover":!k&&e==="render"?"true":void 0});return Tt&&!k?$.createElement($.Fragment,null,B,$.createElement(WO,{page:nt})):B});Ur.displayName="Link";var fs=$.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:a=!1,style:u,to:f,viewTransition:g,children:_,...v},T){let x=vf(f,{relative:v.relative}),O=ul(),D=$.useContext(op),{navigator:M,basename:z}=$.useContext(Zr),k=D!=null&&aP(x)&&g===!0,ct=M.encodeLocation?M.encodeLocation(x).pathname:x.pathname,Et=O.pathname,nt=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;e||(Et=Et.toLowerCase(),nt=nt?nt.toLowerCase():null,ct=ct.toLowerCase()),nt&&z&&(nt=Ga(nt,z)||nt);const Tt=ct!=="/"&&ct.endsWith("/")?ct.length-1:ct.length;let Rt=Et===ct||!a&&Et.startsWith(ct)&&Et.charAt(Tt)==="/",Dt=nt!=null&&(nt===ct||!a&&nt.startsWith(ct)&&nt.charAt(ct.length)==="/"),V={isActive:Rt,isPending:Dt,isTransitioning:k},j=Rt?t:void 0,B;typeof r=="function"?B=r(V):B=[r,Rt?"active":null,Dt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Z=typeof u=="function"?u(V):u;return $.createElement(Ur,{...v,"aria-current":j,className:B,ref:T,style:Z,to:f,viewTransition:g},typeof _=="function"?_(V):_)});fs.displayName="NavLink";var JO=$.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:a,state:u,method:f=sm,action:g,onSubmit:_,relative:v,preventScrollReset:T,viewTransition:x,...O},D)=>{let{unstable_useTransitions:M}=$.useContext(Zr),z=rP(),k=sP(g,{relative:v}),ct=f.toLowerCase()==="get"?"get":"post",Et=typeof g=="string"&&DA.test(g),nt=Tt=>{if(_&&_(Tt),Tt.defaultPrevented)return;Tt.preventDefault();let Rt=Tt.nativeEvent.submitter,Dt=(Rt==null?void 0:Rt.getAttribute("formmethod"))||f,V=()=>z(Rt||Tt.currentTarget,{fetcherKey:t,method:Dt,navigate:e,replace:a,state:u,relative:v,preventScrollReset:T,viewTransition:x});M&&e!==!1?$.startTransition(()=>V()):V()};return $.createElement("form",{ref:D,method:ct,action:k,onSubmit:r?_:nt,...O,"data-discover":!Et&&n==="render"?"true":void 0})});JO.displayName="Form";function tP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(n){let t=$.useContext(zc);return en(t,tP(n)),t}function eP(n,{target:t,replace:e,state:r,preventScrollReset:a,relative:u,viewTransition:f,unstable_useTransitions:g}={}){let _=Uc(),v=ul(),T=vf(n,{relative:u});return $.useCallback(x=>{if(MO(x,t)){x.preventDefault();let O=e!==void 0?e:af(v)===af(T),D=()=>_(n,{replace:O,state:r,preventScrollReset:a,relative:u,viewTransition:f});g?$.startTransition(()=>D()):D()}},[v,_,T,e,r,t,n,a,u,f,g])}var nP=0,iP=()=>`__${String(++nP)}__`;function rP(){let{router:n}=kA("useSubmit"),{basename:t}=$.useContext(Zr),e=wO(),r=n.fetch,a=n.navigate;return $.useCallback(async(u,f={})=>{let{action:g,method:_,encType:v,formData:T,body:x}=jO(u,t);if(f.navigate===!1){let O=f.fetcherKey||iP();await r(O,e,f.action||g,{preventScrollReset:f.preventScrollReset,formData:T,body:x,formMethod:f.method||_,formEncType:f.encType||v,flushSync:f.flushSync})}else await a(f.action||g,{preventScrollReset:f.preventScrollReset,formData:T,body:x,formMethod:f.method||_,formEncType:f.encType||v,replace:f.replace,state:f.state,fromRouteId:e,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,a,t,e])}function sP(n,{relative:t}={}){let{basename:e}=$.useContext(Zr),r=$.useContext(Kr);en(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),u={...vf(n||".",{relative:t})},f=ul();if(n==null){u.search=f.search;let g=new URLSearchParams(u.search),_=g.getAll("index");if(_.some(T=>T==="")){g.delete("index"),_.filter(x=>x).forEach(x=>g.append("index",x));let T=g.toString();u.search=T?`?${T}`:""}}return(!n||n===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(u.pathname=u.pathname==="/"?e:Ua([e,u.pathname])),af(u)}function aP(n,{relative:t}={}){let e=$.useContext(CA);en(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kA("useViewTransitionState"),a=vf(n,{relative:t});if(!e.isTransitioning)return!1;let u=Ga(e.currentLocation.pathname,r)||e.currentLocation.pathname,f=Ga(e.nextLocation.pathname,r)||e.nextLocation.pathname;return Sm(a.pathname,f)!=null||Sm(a.pathname,u)!=null}var jA=wA();const oP=()=>E.jsxs("div",{className:"landing-page",children:[E.jsxs("header",{className:"hero-section",style:{background:"linear-gradient(135deg, var(--ocean-800) 0%, var(--primary-900) 100%)",color:"white",border:"none"},children:[E.jsxs("div",{style:{position:"relative",zIndex:2},children:[E.jsxs("h1",{className:"hero-title",style:{color:"white"},children:["Elektrische mobiliteit",E.jsx("br",{}),"voor iedereen"]}),E.jsx("p",{className:"hero-subtitle",style:{color:"var(--primary-100)"},children:"Slim boeken. Slim rijden. Zero emission. Ervaar de vrijheid van de toekomst."}),E.jsxs(Ur,{to:"/request",className:"cta-button",children:["Reis aanvragen ",E.jsx("span",{children:""})]})]}),E.jsx("div",{style:{position:"absolute",top:"-50%",right:"-20%",width:"600px",height:"600px",background:"radial-gradient(circle, var(--primary-500) 0%, transparent 70%)",opacity:.1,filter:"blur(60px)",zIndex:1}})]}),E.jsxs("section",{className:"features-grid",children:[E.jsxs("div",{className:"feature-card",children:[E.jsx("span",{className:"feature-icon",children:""}),E.jsx("h3",{className:"feature-title",children:"Duurzaam reizen"}),E.jsx("p",{className:"feature-desc",children:"100% elektrische vloot voor een schonere toekomst. Wij zorgen voor de planeet terwijl jij rijdt."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("span",{className:"feature-icon",children:""}),E.jsx("h3",{className:"feature-title",children:"Flexibele beschikbaarheid"}),E.jsx("p",{className:"feature-desc",children:"Boek direct een auto in jouw buurt, 24/7. Geen wachttijden, geen gedoe."})]}),E.jsxs("div",{className:"feature-card",children:[E.jsx("span",{className:"feature-icon",children:""}),E.jsx("h3",{className:"feature-title",children:"Laadpunten onderweg"}),E.jsx("p",{className:"feature-desc",children:"Slimme integratie met laadpalen op je route. Altijd opgeladen aankomen."})]})]})]});function xe(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(e.length?" "+e.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var lP={};function up(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:lP}var VA=Object.assign,Am=Object.getOwnPropertyDescriptor,Xs=Object.defineProperty,cp=Object.prototype,py=[];Object.freeze(py);var zA={};Object.freeze(zA);var uP=typeof Proxy<"u",cP=Object.toString();function BA(){uP||xe("Proxy not available")}function UA(n){var t=!1;return function(){if(!t)return t=!0,n.apply(this,arguments)}}var _c=function(){};function _s(n){return typeof n=="function"}function su(n){var t=typeof n;switch(t){case"string":case"symbol":case"number":return!0}return!1}function hp(n){return n!==null&&typeof n=="object"}function Za(n){if(!hp(n))return!1;var t=Object.getPrototypeOf(n);if(t==null)return!0;var e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e.toString()===cP}function FA(n){var t=n==null?void 0:n.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function bf(n,t,e){Xs(n,t,{enumerable:!1,writable:!0,configurable:!0,value:e})}function HA(n,t,e){Xs(n,t,{enumerable:!1,writable:!1,configurable:!0,value:e})}function gu(n,t){var e="isMobX"+n;return t.prototype[e]=!0,function(r){return hp(r)&&r[e]===!0}}function Fc(n){return n!=null&&Object.prototype.toString.call(n)==="[object Map]"}function hP(n){var t=Object.getPrototypeOf(n),e=Object.getPrototypeOf(t),r=Object.getPrototypeOf(e);return r===null}function ka(n){return n!=null&&Object.prototype.toString.call(n)==="[object Set]"}var qA=typeof Object.getOwnPropertySymbols<"u";function fP(n){var t=Object.keys(n);if(!qA)return t;var e=Object.getOwnPropertySymbols(n);return e.length?[].concat(t,e.filter(function(r){return cp.propertyIsEnumerable.call(n,r)})):t}var Rc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:qA?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function GA(n){return n===null?null:typeof n=="object"?""+n:n}function Fa(n,t){return cp.hasOwnProperty.call(n,t)}var dP=Object.getOwnPropertyDescriptors||function(t){var e={};return Rc(t).forEach(function(r){e[r]=Am(t,r)}),e};function hr(n,t){return!!(n&t)}function fr(n,t,e){return e?n|=t:n&=~t,n}function qw(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function mP(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,gP(r.key),r)}}function Hc(n,t,e){return t&&mP(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function yc(n,t){var e=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e)return(e=e.call(n)).next.bind(e);if(Array.isArray(n)||(e=_P(n))||t){e&&(n=e);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function au(){return au=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},au.apply(null,arguments)}function ZA(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,gy(n,t)}function gy(n,t){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},gy(n,t)}function pP(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function gP(n){var t=pP(n,"string");return typeof t=="symbol"?t:t+""}function _P(n,t){if(n){if(typeof n=="string")return qw(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?qw(n,t):void 0}}var Qs=Symbol("mobx-stored-annotations");function Js(n){function t(e,r){if(wf(r))return n.decorate_20223_(e,r);Ef(e,r,n)}return Object.assign(t,n)}function Ef(n,t,e){Fa(n,Qs)||bf(n,Qs,au({},n[Qs])),SP(e)||(n[Qs][t]=e)}function yP(n){return Fa(n,Qs)||bf(n,Qs,au({},n[Qs])),n[Qs]}function wf(n){return typeof n=="object"&&typeof n.kind=="string"}var Kt=Symbol("mobx administration"),cl=(function(){function n(e){e===void 0&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=Pe.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=n.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return u1(this)},t.reportChanged=function(){zr(),c1(this),Br()},t.toString=function(){return this.name_},Hc(n,[{key:"isBeingObserved",get:function(){return hr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=fr(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return hr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=fr(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return hr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=fr(this.flags_,n.diffValueMask_,r===1)}}])})();cl.isBeingObservedMask_=1;cl.isPendingUnobservationMask_=2;cl.diffValueMask_=4;var mv=gu("Atom",cl);function KA(n,t,e){t===void 0&&(t=_c),e===void 0&&(e=_c);var r=new cl(n);return t!==_c&&xN(r,t),e!==_c&&g1(r,e),r}function vP(n,t){return I1(n,t)}function bP(n,t){return Object.is?Object.is(n,t):n===t?n!==0||1/n===1/t:n!==n&&t!==t}var xm={structural:vP,default:bP};function ou(n,t,e){return E1(n)?n:Array.isArray(n)?$n.array(n,{name:e}):Za(n)?$n.object(n,void 0,{name:e}):Fc(n)?$n.map(n,{name:e}):ka(n)?$n.set(n,{name:e}):typeof n=="function"&&!Ic(n)&&!lf(n)?FA(n)?Oc(n):of(e,n):n}function EP(n,t,e){if(n==null||yp(n)||_p(n)||yu(n)||$s(n))return n;if(Array.isArray(n))return $n.array(n,{name:e,deep:!1});if(Za(n))return $n.object(n,void 0,{name:e,deep:!1});if(Fc(n))return $n.map(n,{name:e,deep:!1});if(ka(n))return $n.set(n,{name:e,deep:!1})}function fp(n){return n}function wP(n,t){return I1(n,t)?t:n}var TP="override";function SP(n){return n.annotationType_===TP}function Tf(n,t){return{annotationType_:n,options_:t,make_:AP,extend_:xP,decorate_20223_:CP}}function AP(n,t,e,r){var a;if((a=this.options_)!=null&&a.bound)return this.extend_(n,t,e,!1)===null?0:1;if(r===n.target_)return this.extend_(n,t,e,!1)===null?0:2;if(Ic(e.value))return 1;var u=WA(n,this,t,e,!1);return Xs(r,t,u),2}function xP(n,t,e,r){var a=WA(n,this,t,e);return n.defineProperty_(t,a,r)}function CP(n,t){var e=t.kind,r=t.name,a=t.addInitializer,u=this,f=function(v){var T,x,O,D;return lu((T=(x=u.options_)==null?void 0:x.name)!=null?T:r.toString(),v,(O=(D=u.options_)==null?void 0:D.autoAction)!=null?O:!1)};if(e=="field")return function(_){var v,T=_;return Ic(T)||(T=f(T)),(v=u.options_)!=null&&v.bound&&(T=T.bind(this),T.isMobxAction=!0),T};if(e=="method"){var g;return Ic(n)||(n=f(n)),(g=this.options_)!=null&&g.bound&&a(function(){var _=this,v=_[r].bind(_);v.isMobxAction=!0,_[r]=v}),n}xe("Cannot apply '"+u.annotationType_+"' to '"+String(r)+"' (kind: "+e+"):"+(`
'`+u.annotationType_+"' can only be used on properties with a function value."))}function RP(n,t,e,r){t.annotationType_,r.value}function WA(n,t,e,r,a){var u,f,g,_,v,T,x;a===void 0&&(a=Ct.safeDescriptors),RP(n,t,e,r);var O=r.value;if((u=t.options_)!=null&&u.bound){var D;O=O.bind((D=n.proxy_)!=null?D:n.target_)}return{value:lu((f=(g=t.options_)==null?void 0:g.name)!=null?f:e.toString(),O,(_=(v=t.options_)==null?void 0:v.autoAction)!=null?_:!1,(T=t.options_)!=null&&T.bound?(x=n.proxy_)!=null?x:n.target_:void 0),configurable:a?n.isPlainObject_:!0,enumerable:!1,writable:!a}}function YA(n,t){return{annotationType_:n,options_:t,make_:IP,extend_:OP,decorate_20223_:PP}}function IP(n,t,e,r){var a;if(r===n.target_)return this.extend_(n,t,e,!1)===null?0:2;if((a=this.options_)!=null&&a.bound&&(!Fa(n.target_,t)||!lf(n.target_[t]))&&this.extend_(n,t,e,!1)===null)return 0;if(lf(e.value))return 1;var u=$A(n,this,t,e,!1,!1);return Xs(r,t,u),2}function OP(n,t,e,r){var a,u=$A(n,this,t,e,(a=this.options_)==null?void 0:a.bound);return n.defineProperty_(t,u,r)}function PP(n,t){var e,r=t.name,a=t.addInitializer;return lf(n)||(n=Oc(n)),(e=this.options_)!=null&&e.bound&&a(function(){var u=this,f=u[r].bind(u);f.isMobXFlow=!0,u[r]=f}),n}function NP(n,t,e,r){t.annotationType_,r.value}function $A(n,t,e,r,a,u){u===void 0&&(u=Ct.safeDescriptors),NP(n,t,e,r);var f=r.value;if(lf(f)||(f=Oc(f)),a){var g;f=f.bind((g=n.proxy_)!=null?g:n.target_),f.isMobXFlow=!0}return{value:f,configurable:u?n.isPlainObject_:!0,enumerable:!1,writable:!u}}function pv(n,t){return{annotationType_:n,options_:t,make_:LP,extend_:MP,decorate_20223_:DP}}function LP(n,t,e){return this.extend_(n,t,e,!1)===null?0:1}function MP(n,t,e,r){return kP(n,this,t,e),n.defineComputedProperty_(t,au({},this.options_,{get:e.get,set:e.set}),r)}function DP(n,t){var e=this,r=t.name,a=t.addInitializer;return a(function(){var u=vu(this)[Kt],f=au({},e.options_,{get:n,context:this});f.name||(f.name="ObservableObject."+r.toString()),u.values_.set(r,new ys(f))}),function(){return this[Kt].getObservablePropValue_(r)}}function kP(n,t,e,r){t.annotationType_,r.get}function dp(n,t){return{annotationType_:n,options_:t,make_:jP,extend_:VP,decorate_20223_:zP}}function jP(n,t,e){return this.extend_(n,t,e,!1)===null?0:1}function VP(n,t,e,r){var a,u;return BP(n,this),n.defineObservableProperty_(t,e.value,(a=(u=this.options_)==null?void 0:u.enhancer)!=null?a:ou,r)}function zP(n,t){var e=this,r=t.kind,a=t.name,u=new WeakSet;function f(g,_){var v,T,x=vu(g)[Kt],O=new nu(_,(v=(T=e.options_)==null?void 0:T.enhancer)!=null?v:ou,"ObservableObject."+a.toString(),!1);x.values_.set(a,O),u.add(g)}if(r=="accessor")return{get:function(){return u.has(this)||f(this,n.get.call(this)),this[Kt].getObservablePropValue_(a)},set:function(_){return u.has(this)||f(this,_),this[Kt].setObservablePropValue_(a,_)},init:function(_){return u.has(this)||f(this,_),_}}}function BP(n,t,e,r){t.annotationType_}var UP="true",FP=QA();function QA(n){return{annotationType_:UP,options_:n,make_:HP,extend_:qP,decorate_20223_:GP}}function HP(n,t,e,r){var a,u;if(e.get)return mp.make_(n,t,e,r);if(e.set){var f=Ic(e.set)?e.set:lu(t.toString(),e.set);return r===n.target_?n.defineProperty_(t,{configurable:Ct.safeDescriptors?n.isPlainObject_:!0,set:f})===null?0:2:(Xs(r,t,{configurable:!0,set:f}),2)}if(r!==n.target_&&typeof e.value=="function"){var g;if(FA(e.value)){var _,v=(_=this.options_)!=null&&_.autoBind?Oc.bound:Oc;return v.make_(n,t,e,r)}var T=(g=this.options_)!=null&&g.autoBind?of.bound:of;return T.make_(n,t,e,r)}var x=((a=this.options_)==null?void 0:a.deep)===!1?$n.ref:$n;if(typeof e.value=="function"&&(u=this.options_)!=null&&u.autoBind){var O;e.value=e.value.bind((O=n.proxy_)!=null?O:n.target_)}return x.make_(n,t,e,r)}function qP(n,t,e,r){var a,u;if(e.get)return mp.extend_(n,t,e,r);if(e.set)return n.defineProperty_(t,{configurable:Ct.safeDescriptors?n.isPlainObject_:!0,set:lu(t.toString(),e.set)},r);if(typeof e.value=="function"&&(a=this.options_)!=null&&a.autoBind){var f;e.value=e.value.bind((f=n.proxy_)!=null?f:n.target_)}var g=((u=this.options_)==null?void 0:u.deep)===!1?$n.ref:$n;return g.extend_(n,t,e,r)}function GP(n,t){xe("'"+this.annotationType_+"' cannot be used as a decorator")}var ZP="observable",KP="observable.ref",WP="observable.shallow",YP="observable.struct",XA={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(XA);function Yd(n){return n||XA}var _y=dp(ZP),$P=dp(KP,{enhancer:fp}),QP=dp(WP,{enhancer:EP}),XP=dp(YP,{enhancer:wP}),JA=Js(_y);function $d(n){return n.deep===!0?ou:n.deep===!1?fp:tN(n.defaultDecorator)}function JP(n){var t;return n?(t=n.defaultDecorator)!=null?t:QA(n):void 0}function tN(n){var t,e;return n&&(t=(e=n.options_)==null?void 0:e.enhancer)!=null?t:ou}function t1(n,t,e){if(wf(t))return _y.decorate_20223_(n,t);if(su(t)){Ef(n,t,_y);return}return E1(n)?n:Za(n)?$n.object(n,t,e):Array.isArray(n)?$n.array(n,t):Fc(n)?$n.map(n,t):ka(n)?$n.set(n,t):typeof n=="object"&&n!==null?n:$n.box(n,t)}VA(t1,JA);var eN={box:function(t,e){var r=Yd(e);return new nu(t,$d(r),r.name,!0,r.equals)},array:function(t,e){var r=Yd(e);return(Ct.useProxies===!1||r.proxy===!1?$N:BN)(t,$d(r),r.name)},map:function(t,e){var r=Yd(e);return new T1(t,$d(r),r.name)},set:function(t,e){var r=Yd(e);return new S1(t,$d(r),r.name)},object:function(t,e,r){return hl(function(){return y1(Ct.useProxies===!1||(r==null?void 0:r.proxy)===!1?vu({},r):kN({},r),t,e)})},ref:Js($P),shallow:Js(QP),deep:JA,struct:Js(XP)},$n=VA(t1,eN),e1="computed",nN="computed.struct",yy=pv(e1),iN=pv(nN,{equals:xm.structural}),mp=function(t,e){if(wf(e))return yy.decorate_20223_(t,e);if(su(e))return Ef(t,e,yy);if(Za(t))return Js(pv(e1,t));var r=Za(e)?e:{};return r.get=t,r.name||(r.name=t.name||""),new ys(r)};Object.assign(mp,yy);mp.struct=Js(iN);var Gw,Zw,Cm=0,rN=1,sN=(Gw=(Zw=Am(function(){},"name"))==null?void 0:Zw.configurable)!=null?Gw:!1,Kw={value:"action",configurable:!0,writable:!1,enumerable:!1};function lu(n,t,e,r){e===void 0&&(e=!1);function a(){return n1(n,e,t,r||this,arguments)}return a.isMobxAction=!0,a.toString=function(){return t.toString()},sN&&(Kw.value=n,Xs(a,"name",Kw)),a}function n1(n,t,e,r,a){var u=aN(n,t);try{return e.apply(r,a)}catch(f){throw u.error_=f,f}finally{oN(u)}}function aN(n,t,e,r){var a=!1,u=0,f=Ct.trackingDerivation,g=!t||!f;zr();var _=Ct.allowStateChanges;g&&(_u(),_=gv(!0));var v=yv(!0),T={runAsAction_:g,prevDerivation_:f,prevAllowStateChanges_:_,prevAllowStateReads_:v,notifySpy_:a,startTime_:u,actionId_:rN++,parentActionId_:Cm};return Cm=T.actionId_,T}function oN(n){Cm!==n.actionId_&&xe(30),Cm=n.parentActionId_,n.error_!==void 0&&(Ct.suppressReactionErrors=!0),_v(n.prevAllowStateChanges_),Qh(n.prevAllowStateReads_),Br(),n.runAsAction_&&Ha(n.prevDerivation_),Ct.suppressReactionErrors=!1}function gv(n){var t=Ct.allowStateChanges;return Ct.allowStateChanges=n,t}function _v(n){Ct.allowStateChanges=n}var nu=(function(n){function t(r,a,u,f,g){var _;return u===void 0&&(u="ObservableValue"),g===void 0&&(g=xm.default),_=n.call(this,u)||this,_.enhancer=void 0,_.name_=void 0,_.equals=void 0,_.hasUnreportedChange_=!1,_.interceptors_=void 0,_.changeListeners_=void 0,_.value_=void 0,_.dehancer=void 0,_.enhancer=a,_.name_=u,_.equals=g,_.value_=a(r,void 0,u),_}ZA(t,n);var e=t.prototype;return e.dehanceValue=function(a){return this.dehancer!==void 0?this.dehancer(a):a},e.set=function(a){this.value_,a=this.prepareNewValue_(a),a!==Ct.UNCHANGED&&this.setNewValue_(a)},e.prepareNewValue_=function(a){if(kr(this)){var u=jr(this,{object:this,type:ta,newValue:a});if(!u)return Ct.UNCHANGED;a=u.newValue}return a=this.enhancer(a,this.value_,this.name_),this.equals(this.value_,a)?Ct.UNCHANGED:a},e.setNewValue_=function(a){var u=this.value_;this.value_=a,this.reportChanged(),ms(this)&&ps(this,{type:ta,object:this,newValue:a,oldValue:u})},e.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},e.intercept_=function(a){return Sf(this,a)},e.observe_=function(a,u){return u&&a({observableKind:"value",debugObjectName:this.name_,object:this,type:ta,newValue:this.value_,oldValue:void 0}),Af(this,a)},e.raw=function(){return this.value_},e.toJSON=function(){return this.get()},e.toString=function(){return this.name_+"["+this.value_+"]"},e.valueOf=function(){return GA(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},t})(cl),ys=(function(){function n(e){this.dependenciesState_=Pe.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Pe.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Im(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Rm.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||xe(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=lu("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?xm.structural:xm.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=n.prototype;return t.onBecomeStale_=function(){fN(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&xe(32,this.name_,this.derivation),Ct.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)vy(this)&&(this.warnAboutUntrackedRead_(),zr(),this.value_=this.computeValue_(!1),Br());else if(u1(this),vy(this)){var r=Ct.trackingContext;this.keepAlive_&&!r&&(Ct.trackingContext=this),this.trackAndCompute()&&hN(this),Ct.trackingContext=r}var a=this.value_;if(om(a))throw a.cause;return a},t.set=function(r){if(this.setter_){this.isRunningSetter&&xe(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else xe(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,a=this.dependenciesState_===Pe.NOT_TRACKING_,u=this.computeValue_(!0),f=a||om(r)||om(u)||!this.equals_(r,u);return f&&(this.value_=u),f},t.computeValue_=function(r){this.isComputing=!0;var a=gv(!1),u;if(r)u=i1(this,this.derivation,this.scope_);else if(Ct.disableErrorBoundaries===!0)u=this.derivation.call(this.scope_);else try{u=this.derivation.call(this.scope_)}catch(f){u=new Im(f)}return _v(a),this.isComputing=!1,u},t.suspend_=function(){this.keepAlive_||(by(this),this.value_=void 0)},t.observe_=function(r,a){var u=this,f=!0,g=void 0;return EN(function(){var _=u.get();if(!f||a){var v=_u();r({observableKind:"computed",debugObjectName:u.name_,type:ta,object:u,newValue:_,oldValue:g}),Ha(v)}f=!1,g=_})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return GA(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Hc(n,[{key:"isComputing",get:function(){return hr(this.flags_,n.isComputingMask_)},set:function(r){this.flags_=fr(this.flags_,n.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return hr(this.flags_,n.isRunningSetterMask_)},set:function(r){this.flags_=fr(this.flags_,n.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return hr(this.flags_,n.isBeingObservedMask_)},set:function(r){this.flags_=fr(this.flags_,n.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return hr(this.flags_,n.isPendingUnobservationMask_)},set:function(r){this.flags_=fr(this.flags_,n.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return hr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=fr(this.flags_,n.diffValueMask_,r===1)}}])})();ys.isComputingMask_=1;ys.isRunningSetterMask_=2;ys.isBeingObservedMask_=4;ys.isPendingUnobservationMask_=8;ys.diffValueMask_=16;var pp=gu("ComputedValue",ys),Pe;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(Pe||(Pe={}));var Rm;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(Rm||(Rm={}));var Im=function(t){this.cause=void 0,this.cause=t};function om(n){return n instanceof Im}function vy(n){switch(n.dependenciesState_){case Pe.UP_TO_DATE_:return!1;case Pe.NOT_TRACKING_:case Pe.STALE_:return!0;case Pe.POSSIBLY_STALE_:{for(var t=yv(!0),e=_u(),r=n.observing_,a=r.length,u=0;u<a;u++){var f=r[u];if(pp(f)){if(Ct.disableErrorBoundaries)f.get();else try{f.get()}catch{return Ha(e),Qh(t),!0}if(n.dependenciesState_===Pe.STALE_)return Ha(e),Qh(t),!0}}return s1(n),Ha(e),Qh(t),!1}}}function i1(n,t,e){var r=yv(!0);s1(n),n.newObserving_=new Array(n.runId_===0?100:n.observing_.length),n.unboundDepsCount_=0,n.runId_=++Ct.runId;var a=Ct.trackingDerivation;Ct.trackingDerivation=n,Ct.inBatch++;var u;if(Ct.disableErrorBoundaries===!0)u=t.call(e);else try{u=t.call(e)}catch(f){u=new Im(f)}return Ct.inBatch--,Ct.trackingDerivation=a,lN(n),Qh(r),u}function lN(n){for(var t=n.observing_,e=n.observing_=n.newObserving_,r=Pe.UP_TO_DATE_,a=0,u=n.unboundDepsCount_,f=0;f<u;f++){var g=e[f];g.diffValue===0&&(g.diffValue=1,a!==f&&(e[a]=g),a++),g.dependenciesState_>r&&(r=g.dependenciesState_)}for(e.length=a,n.newObserving_=null,u=t.length;u--;){var _=t[u];_.diffValue===0&&o1(_,n),_.diffValue=0}for(;a--;){var v=e[a];v.diffValue===1&&(v.diffValue=0,cN(v,n))}r!==Pe.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function by(n){var t=n.observing_;n.observing_=[];for(var e=t.length;e--;)o1(t[e],n);n.dependenciesState_=Pe.NOT_TRACKING_}function r1(n){var t=_u();try{return n()}finally{Ha(t)}}function _u(){var n=Ct.trackingDerivation;return Ct.trackingDerivation=null,n}function Ha(n){Ct.trackingDerivation=n}function yv(n){var t=Ct.allowStateReads;return Ct.allowStateReads=n,t}function Qh(n){Ct.allowStateReads=n}function s1(n){if(n.dependenciesState_!==Pe.UP_TO_DATE_){n.dependenciesState_=Pe.UP_TO_DATE_;for(var t=n.observing_,e=t.length;e--;)t[e].lowestObserverState_=Pe.UP_TO_DATE_}}var lm=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},um=!0,a1=!1,Ct=(function(){var n=up();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(um=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new lm().version&&(um=!1),um?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new lm):(setTimeout(function(){a1||xe(35)},1),new lm)})();function uN(){if((Ct.pendingReactions.length||Ct.inBatch||Ct.isRunningReactions)&&xe(36),a1=!0,um){var n=up();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),Ct=new lm}}function cN(n,t){n.observers_.add(t),n.lowestObserverState_>t.dependenciesState_&&(n.lowestObserverState_=t.dependenciesState_)}function o1(n,t){n.observers_.delete(t),n.observers_.size===0&&l1(n)}function l1(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,Ct.pendingUnobservations.push(n))}function zr(){Ct.inBatch++}function Br(){if(--Ct.inBatch===0){h1();for(var n=Ct.pendingUnobservations,t=0;t<n.length;t++){var e=n[t];e.isPendingUnobservation=!1,e.observers_.size===0&&(e.isBeingObserved&&(e.isBeingObserved=!1,e.onBUO()),e instanceof ys&&e.suspend_())}Ct.pendingUnobservations=[]}}function u1(n){var t=Ct.trackingDerivation;return t!==null?(t.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=n,!n.isBeingObserved&&Ct.trackingContext&&(n.isBeingObserved=!0,n.onBO())),n.isBeingObserved):(n.observers_.size===0&&Ct.inBatch>0&&l1(n),!1)}function c1(n){n.lowestObserverState_!==Pe.STALE_&&(n.lowestObserverState_=Pe.STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Pe.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=Pe.STALE_}))}function hN(n){n.lowestObserverState_!==Pe.STALE_&&(n.lowestObserverState_=Pe.STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Pe.POSSIBLY_STALE_?t.dependenciesState_=Pe.STALE_:t.dependenciesState_===Pe.UP_TO_DATE_&&(n.lowestObserverState_=Pe.UP_TO_DATE_)}))}function fN(n){n.lowestObserverState_===Pe.UP_TO_DATE_&&(n.lowestObserverState_=Pe.POSSIBLY_STALE_,n.observers_.forEach(function(t){t.dependenciesState_===Pe.UP_TO_DATE_&&(t.dependenciesState_=Pe.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Ka=(function(){function n(e,r,a,u){e===void 0&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Pe.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Rm.NONE,this.name_=e,this.onInvalidate_=r,this.errorHandler_=a,this.requiresObservable_=u}var t=n.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ct.pendingReactions.push(this),h1())},t.runReaction_=function(){if(!this.isDisposed){zr(),this.isScheduled=!1;var r=Ct.trackingContext;if(Ct.trackingContext=this,vy(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(a){this.reportExceptionInDerivation_(a)}}Ct.trackingContext=r,Br()}},t.track=function(r){if(!this.isDisposed){zr(),this.isRunning=!0;var a=Ct.trackingContext;Ct.trackingContext=this;var u=i1(this,r,void 0);Ct.trackingContext=a,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&by(this),om(u)&&this.reportExceptionInDerivation_(u.cause),Br()}},t.reportExceptionInDerivation_=function(r){var a=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Ct.disableErrorBoundaries)throw r;var u="[mobx] uncaught error in '"+this+"'";Ct.suppressReactionErrors||console.error(u,r),Ct.globalReactionErrorHandlers.forEach(function(f){return f(r,a)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(zr(),by(this),Br()))},t.getDisposer_=function(r){var a=this,u=function f(){a.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",f)};return r==null||r.addEventListener==null||r.addEventListener("abort",u),u[Kt]=this,"dispose"in Symbol&&typeof Symbol.dispose=="symbol"&&(u[Symbol.dispose]=u),u},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Hc(n,[{key:"isDisposed",get:function(){return hr(this.flags_,n.isDisposedMask_)},set:function(r){this.flags_=fr(this.flags_,n.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return hr(this.flags_,n.isScheduledMask_)},set:function(r){this.flags_=fr(this.flags_,n.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return hr(this.flags_,n.isTrackPendingMask_)},set:function(r){this.flags_=fr(this.flags_,n.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return hr(this.flags_,n.isRunningMask_)},set:function(r){this.flags_=fr(this.flags_,n.isRunningMask_,r)}},{key:"diffValue",get:function(){return hr(this.flags_,n.diffValueMask_)?1:0},set:function(r){this.flags_=fr(this.flags_,n.diffValueMask_,r===1)}}])})();Ka.isDisposedMask_=1;Ka.isScheduledMask_=2;Ka.isTrackPendingMask_=4;Ka.isRunningMask_=8;Ka.diffValueMask_=16;var dN=100,Ey=function(t){return t()};function h1(){Ct.inBatch>0||Ct.isRunningReactions||Ey(mN)}function mN(){Ct.isRunningReactions=!0;for(var n=Ct.pendingReactions,t=0;n.length>0;){++t===dN&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var e=n.splice(0),r=0,a=e.length;r<a;r++)e[r].runReaction_()}Ct.isRunningReactions=!1}var Om=gu("Reaction",Ka);function pN(n){var t=Ey;Ey=function(r){return n(function(){return t(r)})}}function Xh(){return!1}function gN(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var f1="action",_N="action.bound",d1="autoAction",yN="autoAction.bound",m1="<unnamed action>",wy=Tf(f1),vN=Tf(_N,{bound:!0}),Ty=Tf(d1,{autoAction:!0}),bN=Tf(yN,{autoAction:!0,bound:!0});function p1(n){var t=function(r,a){if(_s(r))return lu(r.name||m1,r,n);if(_s(a))return lu(r,a,n);if(wf(a))return(n?Ty:wy).decorate_20223_(r,a);if(su(a))return Ef(r,a,n?Ty:wy);if(su(r))return Js(Tf(n?d1:f1,{name:r,autoAction:n}))};return t}var vc=p1(!1);Object.assign(vc,wy);var of=p1(!0);Object.assign(of,Ty);vc.bound=Js(vN);of.bound=Js(bN);function oe(n){return n1(n.name||m1,!1,n,this,void 0)}function Ic(n){return _s(n)&&n.isMobxAction===!0}function EN(n,t){var e,r,a,u;t===void 0&&(t=zA);var f=(e=(r=t)==null?void 0:r.name)!=null?e:"Autorun",g=!t.scheduler&&!t.delay,_;if(g)_=new Ka(f,function(){this.track(x)},t.onError,t.requiresObservable);else{var v=TN(t),T=!1;_=new Ka(f,function(){T||(T=!0,v(function(){T=!1,_.isDisposed||_.track(x)}))},t.onError,t.requiresObservable)}function x(){n(_)}return(a=t)!=null&&(a=a.signal)!=null&&a.aborted||_.schedule_(),_.getDisposer_((u=t)==null?void 0:u.signal)}var wN=function(t){return t()};function TN(n){return n.scheduler?n.scheduler:n.delay?function(t){return setTimeout(t,n.delay)}:wN}var SN="onBO",AN="onBUO";function xN(n,t,e){return _1(SN,n,t,e)}function g1(n,t,e){return _1(AN,n,t,e)}function _1(n,t,e,r){var a=Lm(t),u=_s(r)?r:e,f=n+"L";return a[f]?a[f].add(u):a[f]=new Set([u]),function(){var g=a[f];g&&(g.delete(u),g.size===0&&delete a[f])}}var CN="never",Qd="always",RN="observed";function IN(n){n.isolateGlobalState===!0&&uN();var t=n.useProxies,e=n.enforceActions;if(t!==void 0&&(Ct.useProxies=t===Qd?!0:t===CN?!1:typeof Proxy<"u"),t==="ifavailable"&&(Ct.verifyProxies=!0),e!==void 0){var r=e===Qd?Qd:e===RN;Ct.enforceActions=r,Ct.allowStateChanges=!(r===!0||r===Qd)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(a){a in n&&(Ct[a]=!!n[a])}),Ct.allowStateReads=!Ct.observableRequiresReaction,n.reactionScheduler&&pN(n.reactionScheduler)}function y1(n,t,e,r){var a=dP(t);return hl(function(){var u=vu(n,r)[Kt];Rc(a).forEach(function(f){u.extend_(f,a[f],e&&f in e?e[f]:!0)})}),n}function ON(n,t){return v1(Lm(n,t))}function v1(n){var t={name:n.name_};return n.observing_&&n.observing_.length>0&&(t.dependencies=PN(n.observing_).map(v1)),t}function PN(n){return Array.from(new Set(n))}var NN=0;function b1(){this.message="FLOW_CANCELLED"}b1.prototype=Object.create(Error.prototype);var z_=YA("flow"),LN=YA("flow.bound",{bound:!0}),Oc=Object.assign(function(t,e){if(wf(e))return z_.decorate_20223_(t,e);if(su(e))return Ef(t,e,z_);var r=t,a=r.name||"<unnamed flow>",u=function(){var g=this,_=arguments,v=++NN,T=vc(a+" - runid: "+v+" - init",r).apply(g,_),x,O=void 0,D=new Promise(function(M,z){var k=0;x=z;function ct(Tt){O=void 0;var Rt;try{Rt=vc(a+" - runid: "+v+" - yield "+k++,T.next).call(T,Tt)}catch(Dt){return z(Dt)}nt(Rt)}function Et(Tt){O=void 0;var Rt;try{Rt=vc(a+" - runid: "+v+" - yield "+k++,T.throw).call(T,Tt)}catch(Dt){return z(Dt)}nt(Rt)}function nt(Tt){if(_s(Tt==null?void 0:Tt.then)){Tt.then(nt,z);return}return Tt.done?M(Tt.value):(O=Promise.resolve(Tt.value),O.then(ct,Et))}ct(void 0)});return D.cancel=vc(a+" - runid: "+v+" - cancel",function(){try{O&&Ww(O);var M=T.return(void 0),z=Promise.resolve(M.value);z.then(_c,_c),Ww(z),x(new b1)}catch(k){x(k)}}),D};return u.isMobXFlow=!0,u},z_);Oc.bound=Js(LN);function Ww(n){_s(n.cancel)&&n.cancel()}function lf(n){return(n==null?void 0:n.isMobXFlow)===!0}function MN(n,t){return n?yp(n)||!!n[Kt]||mv(n)||Om(n)||pp(n):!1}function E1(n){return MN(n)}function ja(n,t){t===void 0&&(t=void 0),zr();try{return n.apply(t)}finally{Br()}}function cc(n){return n[Kt]}var DN={has:function(t,e){return cc(t).has_(e)},get:function(t,e){return cc(t).get_(e)},set:function(t,e,r){var a;return su(e)?(a=cc(t).set_(e,r,!0))!=null?a:!0:!1},deleteProperty:function(t,e){var r;return su(e)?(r=cc(t).delete_(e,!0))!=null?r:!0:!1},defineProperty:function(t,e,r){var a;return(a=cc(t).defineProperty_(e,r))!=null?a:!0},ownKeys:function(t){return cc(t).ownKeys_()},preventExtensions:function(t){xe(13)}};function kN(n,t){var e,r;return BA(),n=vu(n,t),(r=(e=n[Kt]).proxy_)!=null?r:e.proxy_=new Proxy(n,DN)}function kr(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function Sf(n,t){var e=n.interceptors_||(n.interceptors_=[]);return e.push(t),UA(function(){var r=e.indexOf(t);r!==-1&&e.splice(r,1)})}function jr(n,t){var e=_u();try{for(var r=[].concat(n.interceptors_||[]),a=0,u=r.length;a<u&&(t=r[a](t),t&&!t.type&&xe(14),!!t);a++);return t}finally{Ha(e)}}function ms(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function Af(n,t){var e=n.changeListeners_||(n.changeListeners_=[]);return e.push(t),UA(function(){var r=e.indexOf(t);r!==-1&&e.splice(r,1)})}function ps(n,t){var e=_u(),r=n.changeListeners_;if(r){r=r.slice();for(var a=0,u=r.length;a<u;a++)r[a](t);Ha(e)}}function jN(n,t,e){return hl(function(){var r,a=vu(n,e)[Kt];(r=t)!=null||(t=yP(n)),Rc(t).forEach(function(u){return a.make_(u,t[u])})}),n}var B_=Symbol("mobx-keys");function gp(n,t,e){return Za(n)?y1(n,n,t,e):(hl(function(){var r=vu(n,e)[Kt];if(!n[B_]){var a=Object.getPrototypeOf(n),u=new Set([].concat(Rc(n),Rc(a)));u.delete("constructor"),u.delete(Kt),bf(a,B_,u)}n[B_].forEach(function(f){return r.make_(f,t&&f in t?t[f]:!0)})}),n)}var Yw="splice",ta="update",VN=1e4,zN={get:function(t,e){var r=t[Kt];return e===Kt?r:e==="length"?r.getArrayLength_():typeof e=="string"&&!isNaN(e)?r.get_(parseInt(e)):Fa(Pm,e)?Pm[e]:t[e]},set:function(t,e,r){var a=t[Kt];return e==="length"&&a.setArrayLength_(r),typeof e=="symbol"||isNaN(e)?t[e]=r:a.set_(parseInt(e),r),!0},preventExtensions:function(){xe(15)}},vv=(function(){function n(e,r,a,u){e===void 0&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=a,this.legacyMode_=u,this.atom_=new cl(e),this.enhancer_=function(f,g){return r(f,g,"ObservableArray[..]")}}var t=n.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Sf(this,r)},t.observe_=function(r,a){return a===void 0&&(a=!1),a&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Af(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&xe("Out of range: "+r);var a=this.values_.length;if(r!==a)if(r>a){for(var u=new Array(r-a),f=0;f<r-a;f++)u[f]=void 0;this.spliceWithArray_(a,0,u)}else this.spliceWithArray_(r,a-r)},t.updateArrayLength_=function(r,a){r!==this.lastKnownLength_&&xe(16),this.lastKnownLength_+=a,this.legacyMode_&&a>0&&R1(r+a+1)},t.spliceWithArray_=function(r,a,u){var f=this;this.atom_;var g=this.values_.length;if(r===void 0?r=0:r>g?r=g:r<0&&(r=Math.max(0,g+r)),arguments.length===1?a=g-r:a==null?a=0:a=Math.max(0,Math.min(a,g-r)),u===void 0&&(u=py),kr(this)){var _=jr(this,{object:this.proxy_,type:Yw,index:r,removedCount:a,added:u});if(!_)return py;a=_.removedCount,u=_.added}if(u=u.length===0?u:u.map(function(x){return f.enhancer_(x,void 0)}),this.legacyMode_){var v=u.length-a;this.updateArrayLength_(g,v)}var T=this.spliceItemsIntoValues_(r,a,u);return(a!==0||u.length!==0)&&this.notifyArraySplice_(r,u,T),this.dehanceValues_(T)},t.spliceItemsIntoValues_=function(r,a,u){if(u.length<VN){var f;return(f=this.values_).splice.apply(f,[r,a].concat(u))}else{var g=this.values_.slice(r,r+a),_=this.values_.slice(r+a);this.values_.length+=u.length-a;for(var v=0;v<u.length;v++)this.values_[r+v]=u[v];for(var T=0;T<_.length;T++)this.values_[r+u.length+T]=_[T];return g}},t.notifyArrayChildUpdate_=function(r,a,u){var f=!this.owned_&&Xh(),g=ms(this),_=g||f?{observableKind:"array",object:this.proxy_,type:ta,debugObjectName:this.atom_.name_,index:r,newValue:a,oldValue:u}:null;this.atom_.reportChanged(),g&&ps(this,_)},t.notifyArraySplice_=function(r,a,u){var f=!this.owned_&&Xh(),g=ms(this),_=g||f?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Yw,index:r,removed:u,added:a,removedCount:u.length,addedCount:a.length}:null;this.atom_.reportChanged(),g&&ps(this,_)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,a){var u=this.values_;if(this.legacyMode_&&r>u.length&&xe(17,r,u.length),r<u.length){this.atom_;var f=u[r];if(kr(this)){var g=jr(this,{type:ta,object:this.proxy_,index:r,newValue:a});if(!g)return;a=g.newValue}a=this.enhancer_(a,f);var _=a!==f;_&&(u[r]=a,this.notifyArrayChildUpdate_(r,a,f))}else{for(var v=new Array(r+1-u.length),T=0;T<v.length-1;T++)v[T]=void 0;v[v.length-1]=a,this.spliceWithArray_(u.length,0,v)}},n})();function BN(n,t,e,r){return e===void 0&&(e="ObservableArray"),r===void 0&&(r=!1),BA(),hl(function(){var a=new vv(e,t,r,!1);HA(a.values_,Kt,a);var u=new Proxy(a.values_,zN);return a.proxy_=u,n&&n.length&&a.spliceWithArray_(0,0,n),u})}var Pm={clear:function(){return this.splice(0)},replace:function(t){var e=this[Kt];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var r=arguments.length,a=new Array(r>2?r-2:0),u=2;u<r;u++)a[u-2]=arguments[u];var f=this[Kt];switch(arguments.length){case 0:return[];case 1:return f.spliceWithArray_(t);case 2:return f.spliceWithArray_(t,e)}return f.spliceWithArray_(t,e,a)},spliceWithArray:function(t,e,r){return this[Kt].spliceWithArray_(t,e,r)},push:function(){for(var t=this[Kt],e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[Kt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[Kt],e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return Ct.trackingDerivation&&xe(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ct.trackingDerivation&&xe(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[Kt],r=e.dehanceValues_(e.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};We("at",pr);We("concat",pr);We("flat",pr);We("includes",pr);We("indexOf",pr);We("join",pr);We("lastIndexOf",pr);We("slice",pr);We("toString",pr);We("toLocaleString",pr);We("toSorted",pr);We("toSpliced",pr);We("with",pr);We("every",ws);We("filter",ws);We("find",ws);We("findIndex",ws);We("findLast",ws);We("findLastIndex",ws);We("flatMap",ws);We("forEach",ws);We("map",ws);We("some",ws);We("toReversed",ws);We("reduce",w1);We("reduceRight",w1);function We(n,t){typeof Array.prototype[n]=="function"&&(Pm[n]=t(n))}function pr(n){return function(){var t=this[Kt];t.atom_.reportObserved();var e=t.dehanceValues_(t.values_);return e[n].apply(e,arguments)}}function ws(n){return function(t,e){var r=this,a=this[Kt];a.atom_.reportObserved();var u=a.dehanceValues_(a.values_);return u[n](function(f,g){return t.call(e,f,g,r)})}}function w1(n){return function(){var t=this,e=this[Kt];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_),a=arguments[0];return arguments[0]=function(u,f,g){return a(u,f,g,t)},r[n].apply(r,arguments)}}var UN=gu("ObservableArrayAdministration",vv);function _p(n){return hp(n)&&UN(n[Kt])}var FN={},Yo="add",Nm="delete",T1=(function(){function n(e,r,a){var u=this;r===void 0&&(r=ou),a===void 0&&(a="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Kt]=FN,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=a,_s(Map)||xe(18),hl(function(){u.keysAtom_=KA("ObservableMap.keys()"),u.data_=new Map,u.hasMap_=new Map,e&&u.merge(e)})}var t=n.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var a=this;if(!Ct.trackingDerivation)return this.has_(r);var u=this.hasMap_.get(r);if(!u){var f=u=new nu(this.has_(r),fp,"ObservableMap.key?",!1);this.hasMap_.set(r,f),g1(f,function(){return a.hasMap_.delete(r)})}return u.get()},t.set=function(r,a){var u=this.has_(r);if(kr(this)){var f=jr(this,{type:u?ta:Yo,object:this,newValue:a,name:r});if(!f)return this;a=f.newValue}return u?this.updateValue_(r,a):this.addValue_(r,a),this},t.delete=function(r){var a=this;if(this.keysAtom_,kr(this)){var u=jr(this,{type:Nm,object:this,name:r});if(!u)return!1}if(this.has_(r)){var f=Xh(),g=ms(this),_=g||f?{observableKind:"map",debugObjectName:this.name_,type:Nm,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ja(function(){var v;a.keysAtom_.reportChanged(),(v=a.hasMap_.get(r))==null||v.setNewValue_(!1);var T=a.data_.get(r);T.setNewValue_(void 0),a.data_.delete(r)}),g&&ps(this,_),!0}return!1},t.updateValue_=function(r,a){var u=this.data_.get(r);if(a=u.prepareNewValue_(a),a!==Ct.UNCHANGED){var f=Xh(),g=ms(this),_=g||f?{observableKind:"map",debugObjectName:this.name_,type:ta,object:this,oldValue:u.value_,name:r,newValue:a}:null;u.setNewValue_(a),g&&ps(this,_)}},t.addValue_=function(r,a){var u=this;this.keysAtom_,ja(function(){var v,T=new nu(a,u.enhancer_,"ObservableMap.key",!1);u.data_.set(r,T),a=T.value_,(v=u.hasMap_.get(r))==null||v.setNewValue_(!0),u.keysAtom_.reportChanged()});var f=Xh(),g=ms(this),_=g||f?{observableKind:"map",debugObjectName:this.name_,type:Yo,object:this,name:r,newValue:a}:null;g&&ps(this,_)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,a=this.keys();return $w({next:function(){var f=a.next(),g=f.done,_=f.value;return{done:g,value:g?void 0:r.get(_)}}})},t.entries=function(){var r=this,a=this.keys();return $w({next:function(){var f=a.next(),g=f.done,_=f.value;return{done:g,value:g?void 0:[_,r.get(_)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,a){for(var u=yc(this),f;!(f=u()).done;){var g=f.value,_=g[0],v=g[1];r.call(a,v,_,this)}},t.merge=function(r){var a=this;return yu(r)&&(r=new Map(r)),ja(function(){Za(r)?fP(r).forEach(function(u){return a.set(u,r[u])}):Array.isArray(r)?r.forEach(function(u){var f=u[0],g=u[1];return a.set(f,g)}):Fc(r)?(hP(r)||xe(19,r),r.forEach(function(u,f){return a.set(f,u)})):r!=null&&xe(20,r)}),this},t.clear=function(){var r=this;ja(function(){r1(function(){for(var a=yc(r.keys()),u;!(u=a()).done;){var f=u.value;r.delete(f)}})})},t.replace=function(r){var a=this;return ja(function(){for(var u=HN(r),f=new Map,g=!1,_=yc(a.data_.keys()),v;!(v=_()).done;){var T=v.value;if(!u.has(T)){var x=a.delete(T);if(x)g=!0;else{var O=a.data_.get(T);f.set(T,O)}}}for(var D=yc(u.entries()),M;!(M=D()).done;){var z=M.value,k=z[0],ct=z[1],Et=a.data_.has(k);if(a.set(k,ct),a.data_.has(k)){var nt=a.data_.get(k);f.set(k,nt),Et||(g=!0)}}if(!g)if(a.data_.size!==f.size)a.keysAtom_.reportChanged();else for(var Tt=a.data_.keys(),Rt=f.keys(),Dt=Tt.next(),V=Rt.next();!Dt.done;){if(Dt.value!==V.value){a.keysAtom_.reportChanged();break}Dt=Tt.next(),V=Rt.next()}a.data_=f}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,a){return Af(this,r)},t.intercept_=function(r){return Sf(this,r)},Hc(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),yu=gu("ObservableMap",T1);function $w(n){return n[Symbol.toStringTag]="MapIterator",Ev(n)}function HN(n){if(Fc(n)||yu(n))return n;if(Array.isArray(n))return new Map(n);if(Za(n)){var t=new Map;for(var e in n)t.set(e,n[e]);return t}else return xe(21,n)}var qN={},S1=(function(){function n(e,r,a){var u=this;r===void 0&&(r=ou),a===void 0&&(a="ObservableSet"),this.name_=void 0,this[Kt]=qN,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=a,_s(Set)||xe(22),this.enhancer_=function(f,g){return r(f,g,a)},hl(function(){u.atom_=KA(u.name_),e&&u.replace(e)})}var t=n.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;ja(function(){r1(function(){for(var a=yc(r.data_.values()),u;!(u=a()).done;){var f=u.value;r.delete(f)}})})},t.forEach=function(r,a){for(var u=yc(this),f;!(f=u()).done;){var g=f.value;r.call(a,g,g,this)}},t.add=function(r){var a=this;if(this.atom_,kr(this)){var u=jr(this,{type:Yo,object:this,newValue:r});if(!u)return this;r=u.newValue}if(!this.has(r)){ja(function(){a.data_.add(a.enhancer_(r,void 0)),a.atom_.reportChanged()});var f=!1,g=ms(this),_=g||f?{observableKind:"set",debugObjectName:this.name_,type:Yo,object:this,newValue:r}:null;g&&ps(this,_)}return this},t.delete=function(r){var a=this;if(kr(this)){var u=jr(this,{type:Nm,object:this,oldValue:r});if(!u)return!1}if(this.has(r)){var f=!1,g=ms(this),_=g||f?{observableKind:"set",debugObjectName:this.name_,type:Nm,object:this,oldValue:r}:null;return ja(function(){a.atom_.reportChanged(),a.data_.delete(r)}),g&&ps(this,_),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return Qw({next:function(){var u=r.next(),f=u.value,g=u.done;return g?{value:void 0,done:g}:{value:[f,f],done:g}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,a=this.data_.values();return Qw({next:function(){var f=a.next(),g=f.value,_=f.done;return _?{value:void 0,done:_}:{value:r.dehanceValue_(g),done:_}}})},t.intersection=function(r){if(ka(r)&&!$s(r))return r.intersection(this);var a=new Set(this);return a.intersection(r)},t.union=function(r){if(ka(r)&&!$s(r))return r.union(this);var a=new Set(this);return a.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(ka(r)&&!$s(r))return r.symmetricDifference(this);var a=new Set(this);return a.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(ka(r)&&!$s(r))return r.isDisjointFrom(this);var a=new Set(this);return a.isDisjointFrom(r)},t.replace=function(r){var a=this;return $s(r)&&(r=new Set(r)),ja(function(){Array.isArray(r)?(a.clear(),r.forEach(function(u){return a.add(u)})):ka(r)?(a.clear(),r.forEach(function(u){return a.add(u)})):r!=null&&xe("Cannot initialize set from "+r)}),this},t.observe_=function(r,a){return Af(this,r)},t.intercept_=function(r){return Sf(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Hc(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),$s=gu("ObservableSet",S1);function Qw(n){return n[Symbol.toStringTag]="SetIterator",Ev(n)}var Xw=Object.create(null),Jw="remove",A1=(function(){function n(e,r,a,u){r===void 0&&(r=new Map),u===void 0&&(u=FP),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=r,this.name_=a,this.defaultAnnotation_=u,this.keysAtom_=new cl("ObservableObject.keys"),this.isPlainObject_=Za(this.target_)}var t=n.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,a){var u=this.values_.get(r);if(u instanceof ys)return u.set(a),!0;if(kr(this)){var f=jr(this,{type:ta,object:this.proxy_||this.target_,name:r,newValue:a});if(!f)return null;a=f.newValue}if(a=u.prepareNewValue_(a),a!==Ct.UNCHANGED){var g=ms(this),_=!1,v=g||_?{type:ta,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:u.value_,name:r,newValue:a}:null;u.setNewValue_(a),g&&ps(this,v)}return!0},t.get_=function(r){return Ct.trackingDerivation&&!Fa(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,a,u){return u===void 0&&(u=!1),Fa(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,a):u?Reflect.set(this.target_,r,a):(this.target_[r]=a,!0):this.extend_(r,{value:a,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,u)},t.has_=function(r){if(!Ct.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var a=this.pendingKeys_.get(r);return a||(a=new nu(r in this.target_,fp,"ObservableObject.key?",!1),this.pendingKeys_.set(r,a)),a.get()},t.make_=function(r,a){if(a===!0&&(a=this.defaultAnnotation_),a!==!1){if(!(r in this.target_)){var u;if((u=this.target_[Qs])!=null&&u[r])return;xe(1,a.annotationType_,this.name_+"."+r.toString())}for(var f=this.target_;f&&f!==cp;){var g=Am(f,r);if(g){var _=a.make_(this,r,g,f);if(_===0)return;if(_===1)break}f=Object.getPrototypeOf(f)}eT(this,a,r)}},t.extend_=function(r,a,u,f){if(f===void 0&&(f=!1),u===!0&&(u=this.defaultAnnotation_),u===!1)return this.defineProperty_(r,a,f);var g=u.extend_(this,r,a,f);return g&&eT(this,u,r),g},t.defineProperty_=function(r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{zr();var f=this.delete_(r);if(!f)return f;if(kr(this)){var g=jr(this,{object:this.proxy_||this.target_,name:r,type:Yo,newValue:a.value});if(!g)return null;var _=g.newValue;a.value!==_&&(a=au({},a,{value:_}))}if(u){if(!Reflect.defineProperty(this.target_,r,a))return!1}else Xs(this.target_,r,a);this.notifyPropertyAddition_(r,a.value)}finally{Br()}return!0},t.defineObservableProperty_=function(r,a,u,f){f===void 0&&(f=!1),this.keysAtom_;try{zr();var g=this.delete_(r);if(!g)return g;if(kr(this)){var _=jr(this,{object:this.proxy_||this.target_,name:r,type:Yo,newValue:a});if(!_)return null;a=_.newValue}var v=tT(r),T={configurable:Ct.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:v.get,set:v.set};if(f){if(!Reflect.defineProperty(this.target_,r,T))return!1}else Xs(this.target_,r,T);var x=new nu(a,u,"ObservableObject.key",!1);this.values_.set(r,x),this.notifyPropertyAddition_(r,x.value_)}finally{Br()}return!0},t.defineComputedProperty_=function(r,a,u){u===void 0&&(u=!1),this.keysAtom_;try{zr();var f=this.delete_(r);if(!f)return f;if(kr(this)){var g=jr(this,{object:this.proxy_||this.target_,name:r,type:Yo,newValue:void 0});if(!g)return null}a.name||(a.name="ObservableObject.key"),a.context=this.proxy_||this.target_;var _=tT(r),v={configurable:Ct.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:_.get,set:_.set};if(u){if(!Reflect.defineProperty(this.target_,r,v))return!1}else Xs(this.target_,r,v);this.values_.set(r,new ys(a)),this.notifyPropertyAddition_(r,void 0)}finally{Br()}return!0},t.delete_=function(r,a){if(a===void 0&&(a=!1),this.keysAtom_,!Fa(this.target_,r))return!0;if(kr(this)){var u=jr(this,{object:this.proxy_||this.target_,name:r,type:Jw});if(!u)return null}try{var f;zr();var g=ms(this),_=!1,v=this.values_.get(r),T=void 0;if(!v&&(g||_)){var x;T=(x=Am(this.target_,r))==null?void 0:x.value}if(a){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(v&&(this.values_.delete(r),v instanceof nu&&(T=v.value_),c1(v)),this.keysAtom_.reportChanged(),(f=this.pendingKeys_)==null||(f=f.get(r))==null||f.set(r in this.target_),g||_){var O={type:Jw,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:T,name:r};g&&ps(this,O)}}finally{Br()}return!0},t.observe_=function(r,a){return Af(this,r)},t.intercept_=function(r){return Sf(this,r)},t.notifyPropertyAddition_=function(r,a){var u,f=ms(this),g=!1;if(f||g){var _=f||g?{type:Yo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:a}:null;f&&ps(this,_)}(u=this.pendingKeys_)==null||(u=u.get(r))==null||u.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Rc(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n})();function vu(n,t){var e;if(Fa(n,Kt))return n;var r=(e=t==null?void 0:t.name)!=null?e:"ObservableObject",a=new A1(n,new Map,String(r),JP(t));return bf(n,Kt,a),n}var GN=gu("ObservableObjectAdministration",A1);function tT(n){return Xw[n]||(Xw[n]={get:function(){return this[Kt].getObservablePropValue_(n)},set:function(e){return this[Kt].setObservablePropValue_(n,e)}})}function yp(n){return hp(n)?GN(n[Kt]):!1}function eT(n,t,e){var r;(r=n.target_[Qs])==null||delete r[e]}var ZN=C1(0),KN=(function(){var n=!1,t={};return Object.defineProperty(t,"0",{set:function(){n=!0}}),Object.create(t)[0]=1,n===!1})(),U_=0,x1=function(){};function WN(n,t){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,t):n.prototype.__proto__!==void 0?n.prototype.__proto__=t:n.prototype=t}WN(x1,Array.prototype);var bv=(function(n){function t(r,a,u,f){var g;return u===void 0&&(u="ObservableArray"),f===void 0&&(f=!1),g=n.call(this)||this,hl(function(){var _=new vv(u,a,f,!0);_.proxy_=g,HA(g,Kt,_),r&&r.length&&g.spliceWithArray(0,0,r),KN&&Object.defineProperty(g,"0",ZN)}),g}ZA(t,n);var e=t.prototype;return e.concat=function(){this[Kt].atom_.reportObserved();for(var a=arguments.length,u=new Array(a),f=0;f<a;f++)u[f]=arguments[f];return Array.prototype.concat.apply(this.slice(),u.map(function(g){return _p(g)?g.slice():g}))},e[Symbol.iterator]=function(){var r=this,a=0;return Ev({next:function(){return a<r.length?{value:r[a++],done:!1}:{done:!0,value:void 0}}})},Hc(t,[{key:"length",get:function(){return this[Kt].getArrayLength_()},set:function(a){this[Kt].setArrayLength_(a)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(x1);Object.entries(Pm).forEach(function(n){var t=n[0],e=n[1];t!=="concat"&&bf(bv.prototype,t,e)});function C1(n){return{enumerable:!1,configurable:!0,get:function(){return this[Kt].get_(n)},set:function(e){this[Kt].set_(n,e)}}}function YN(n){Xs(bv.prototype,""+n,C1(n))}function R1(n){if(n>U_){for(var t=U_;t<n+100;t++)YN(t);U_=n}}R1(1e3);function $N(n,t,e){return new bv(n,t,e)}function Lm(n,t){if(typeof n=="object"&&n!==null){if(_p(n))return t!==void 0&&xe(23),n[Kt].atom_;if($s(n))return n.atom_;if(yu(n)){if(t===void 0)return n.keysAtom_;var e=n.data_.get(t)||n.hasMap_.get(t);return e||xe(25,t,Sy(n)),e}if(yp(n)){if(!t)return xe(26);var r=n[Kt].values_.get(t);return r||xe(27,t,Sy(n)),r}if(mv(n)||pp(n)||Om(n))return n}else if(_s(n)&&Om(n[Kt]))return n[Kt];xe(28)}function QN(n,t){if(n||xe(29),mv(n)||pp(n)||Om(n)||yu(n)||$s(n))return n;if(n[Kt])return n[Kt];xe(24,n)}function Sy(n,t){var e;if(t!==void 0)e=Lm(n,t);else{if(Ic(n))return n.name;yp(n)||yu(n)||$s(n)?e=QN(n):e=Lm(n)}return e.name_}function hl(n){var t=_u(),e=gv(!0);zr();try{return n()}finally{Br(),_v(e),Ha(t)}}var nT=cp.toString;function I1(n,t,e){return e===void 0&&(e=-1),Ay(n,t,e)}function Ay(n,t,e,r,a){if(n===t)return n!==0||1/n===1/t;if(n==null||t==null)return!1;if(n!==n)return t!==t;var u=typeof n;if(u!=="function"&&u!=="object"&&typeof t!="object")return!1;var f=nT.call(n);if(f!==nT.call(t))return!1;switch(f){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:+n==0?1/+n===1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":e>=0&&e++;break}n=iT(n),t=iT(t);var g=f==="[object Array]";if(!g){if(typeof n!="object"||typeof t!="object")return!1;var _=n.constructor,v=t.constructor;if(_!==v&&!(_s(_)&&_ instanceof _&&_s(v)&&v instanceof v)&&"constructor"in n&&"constructor"in t)return!1}if(e===0)return!1;e<0&&(e=-1),r=r||[],a=a||[];for(var T=r.length;T--;)if(r[T]===n)return a[T]===t;if(r.push(n),a.push(t),g){if(T=n.length,T!==t.length)return!1;for(;T--;)if(!Ay(n[T],t[T],e-1,r,a))return!1}else{var x=Object.keys(n),O=x.length;if(Object.keys(t).length!==O)return!1;for(var D=0;D<O;D++){var M=x[D];if(!(Fa(t,M)&&Ay(n[M],t[M],e-1,r,a)))return!1}}return r.pop(),a.pop(),!0}function iT(n){return _p(n)?n.slice():Fc(n)||yu(n)||ka(n)||$s(n)?Array.from(n.entries()):n}var rT,XN=((rT=up().Iterator)==null?void 0:rT.prototype)||{};function Ev(n){return n[Symbol.iterator]=JN,Object.assign(Object.create(XN),n)}function JN(){return this}["Symbol","Map","Set"].forEach(function(n){var t=up();typeof t[n]>"u"&&xe("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:gN,extras:{getDebugName:Sy},$mobx:Kt});if(!$.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!jN)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function tL(n){n()}function eL(n){n||(n=tL),IN({reactionScheduler:n})}function nL(n){return ON(n)}var iL=1e4,rL=1e4,sL=(function(){function n(t){var e=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=iL),clearTimeout(e.sweepTimeout),e.sweepTimeout=void 0;var a=Date.now();e.registrations.forEach(function(u,f){a-u.registeredAt>=r&&(e.finalize(u.value),e.registrations.delete(f))}),e.registrations.size>0&&e.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){e.sweep(0)}})}return Object.defineProperty(n.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e,r){this.registrations.set(r,{value:e,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(n.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(n.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,rL))}}),n})(),aL=typeof FinalizationRegistry<"u"?FinalizationRegistry:sL,xy=new aL(function(n){var t;(t=n.reaction)===null||t===void 0||t.dispose(),n.reaction=null}),F_={exports:{}},H_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function oL(){if(sT)return H_;sT=1;var n=ap();function t(x,O){return x===O&&(x!==0||1/x===1/O)||x!==x&&O!==O}var e=typeof Object.is=="function"?Object.is:t,r=n.useState,a=n.useEffect,u=n.useLayoutEffect,f=n.useDebugValue;function g(x,O){var D=O(),M=r({inst:{value:D,getSnapshot:O}}),z=M[0].inst,k=M[1];return u(function(){z.value=D,z.getSnapshot=O,_(z)&&k({inst:z})},[x,D,O]),a(function(){return _(z)&&k({inst:z}),x(function(){_(z)&&k({inst:z})})},[x]),f(D),D}function _(x){var O=x.getSnapshot;x=x.value;try{var D=O();return!e(x,D)}catch{return!0}}function v(x,O){return O()}var T=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:g;return H_.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:T,H_}var aT;function lL(){return aT||(aT=1,F_.exports=oL()),F_.exports}var uL=lL();function oT(n){n.reaction=new Ka("observer".concat(n.name),function(){var t;n.stateVersion=Symbol(),(t=n.onStoreChange)===null||t===void 0||t.call(n)})}function cL(n,t){t===void 0&&(t="observed");var e=el.useRef(null);if(!e.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(g){return xy.unregister(r),r.onStoreChange=g,r.reaction||(oT(r),r.stateVersion=Symbol()),function(){var _;r.onStoreChange=null,(_=r.reaction)===null||_===void 0||_.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};e.current=r}var a=e.current;a.reaction||(oT(a),xy.register(e,a,a)),el.useDebugValue(a.reaction,nL),uL.useSyncExternalStore(a.subscribe,a.getSnapshot,a.getSnapshot);var u,f;if(a.reaction.track(function(){try{u=n()}catch(g){f=g}}),f)throw f;return u}var q_,G_,O1=typeof Symbol=="function"&&Symbol.for,hL=(G_=(q_=Object.getOwnPropertyDescriptor(function(){},"name"))===null||q_===void 0?void 0:q_.configurable)!==null&&G_!==void 0?G_:!1,lT=O1?Symbol.for("react.forward_ref"):typeof $.forwardRef=="function"&&$.forwardRef(function(n){return null}).$$typeof,uT=O1?Symbol.for("react.memo"):typeof $.memo=="function"&&$.memo(function(n){return null}).$$typeof;function Ts(n,t){var e;if(uT&&n.$$typeof===uT)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(e=void 0)!==null&&e!==void 0?e:!1,a=n,u=n.displayName||n.name;if(lT&&n.$$typeof===lT&&(r=!0,a=n.render,typeof a!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var f=function(g,_){return cL(function(){return a(g,_)},u)};return f.displayName=n.displayName,hL&&Object.defineProperty(f,"name",{value:n.name,writable:!0,configurable:!0}),n.contextTypes&&(f.contextTypes=n.contextTypes),r&&(f=$.forwardRef(f)),f=$.memo(f),dL(n,f),f}var fL={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function dL(n,t){Object.keys(n).forEach(function(e){fL[e]||Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}var Z_;eL(jA.unstable_batchedUpdates);Z_=xy.finalizeAllImmediately;const mL=()=>{};var cT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},pL=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const a=n[e++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[e++];t[r++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[e++],f=n[e++],g=n[e++],_=((a&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const u=n[e++],f=n[e++];t[r++]=String.fromCharCode((a&15)<<12|(u&63)<<6|f&63)}}return t.join("")},N1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const u=n[a],f=a+1<n.length,g=f?n[a+1]:0,_=a+2<n.length,v=_?n[a+2]:0,T=u>>2,x=(u&3)<<4|g>>4;let O=(g&15)<<2|v>>6,D=v&63;_||(D=64,f||(O=64)),r.push(e[T],e[x],e[O],e[D])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(P1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):pL(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const u=e[n.charAt(a++)],g=a<n.length?e[n.charAt(a)]:0;++a;const v=a<n.length?e[n.charAt(a)]:64;++a;const x=a<n.length?e[n.charAt(a)]:64;if(++a,u==null||g==null||v==null||x==null)throw new gL;const O=u<<2|g>>4;if(r.push(O),v!==64){const D=g<<4&240|v>>2;if(r.push(D),x!==64){const M=v<<6&192|x;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _L=function(n){const t=P1(n);return N1.encodeByteArray(t,!0)},Mm=function(n){return _L(n).replace(/\./g,"")},L1=function(n){try{return N1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=()=>yL().__FIREBASE_DEFAULTS__,bL=()=>{if(typeof process>"u"||typeof cT>"u")return;const n=cT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&L1(n[1]);return t&&JSON.parse(t)},vp=()=>{try{return mL()||vL()||bL()||EL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},M1=n=>{var t,e;return(e=(t=vp())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},wL=n=>{const t=M1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},D1=()=>{var n;return(n=vp())==null?void 0:n.config},k1=n=>{var t;return(t=vp())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",a=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Mm(JSON.stringify(e)),Mm(JSON.stringify(f)),""].join(".")}const Jh={};function AL(){const n={prod:[],emulator:[]};for(const t of Object.keys(Jh))Jh[t]?n.emulator.push(t):n.prod.push(t);return n}function xL(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let hT=!1;function V1(n,t){if(typeof window>"u"||typeof document>"u"||!qc(window.location.host)||Jh[n]===t||Jh[n]||hT)return;Jh[n]=t;function e(O){return`__firebase__banner__${O}`}const r="__firebase__banner",u=AL().prod.length>0;function f(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,D){O.setAttribute("width","24"),O.setAttribute("id",D),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function v(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{hT=!0,f()},O}function T(O,D){O.setAttribute("id",D),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function x(){const O=xL(r),D=e("text"),M=document.getElementById(D)||document.createElement("span"),z=e("learnmore"),k=document.getElementById(z)||document.createElement("a"),ct=e("preprendIcon"),Et=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const nt=O.element;g(nt),T(k,z);const Tt=v();_(Et,ct),nt.append(Et,M,k,Tt),document.body.appendChild(nt)}u?(M.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hi())}function RL(){var t;const n=(t=vp())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function OL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PL(){const n=hi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NL(){return!RL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B1(){try{return typeof indexedDB=="object"}catch{return!1}}function U1(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var u;t(((u=a.error)==null?void 0:u.message)||"")}}catch(e){t(e)}})}function LL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="FirebaseError";class Ss extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=ML,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},a=`${this.service}/${t}`,u=this.errors[t],f=u?DL(u,r):"Error",g=`${this.serviceName}: ${f} (${a}).`;return new Ss(a,g,r)}}function DL(n,t){return n.replace(kL,(e,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const kL=/\{\$([^}]+)}/g;function jL(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function nl(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const a of e){if(!r.includes(a))return!1;const u=n[a],f=t[a];if(fT(u)&&fT(f)){if(!nl(u,f))return!1}else if(u!==f)return!1}for(const a of r)if(!e.includes(a))return!1;return!0}function fT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function qh(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,u]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(u)}}),t}function Gh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function VL(n,t){const e=new zL(n,t);return e.subscribe.bind(e)}class zL{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let a;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");BL(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:r},a.next===void 0&&(a.next=K_),a.error===void 0&&(a.error=K_),a.complete===void 0&&(a.complete=K_);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BL(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function K_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=1e3,FL=2,HL=14400*1e3,qL=.5;function dT(n,t=UL,e=FL){const r=t*Math.pow(e,n),a=Math.round(qL*r*(Math.random()-.5)*2);return Math.min(HL,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n){return n&&n._delegate?n._delegate:n}class vs{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new TL;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KL(t))try{this.getOrInitializeService({instanceIdentifier:Yl})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const u=this.getOrInitializeService({instanceIdentifier:a});r.resolve(u)}catch{}}}}clearInstance(t=Yl){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yl){return this.instances.has(t)}getOptions(t=Yl){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(a)}return a}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(r)??new Set;a.add(t),this.onInitCallbacks.set(r,a);const u=this.instances.get(r);return u&&t(u,r),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const a of r)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZL(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Yl){return this.component?this.component.multipleInstances?t:Yl:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZL(n){return n===Yl?void 0:n}function KL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new GL(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ge||(ge={}));const YL={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},$L=ge.INFO,QL={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},XL=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),a=QL[t];if(a)console[a](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bp{constructor(t){this.name=t,this._logLevel=$L,this._logHandler=XL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}const JL=(n,t)=>t.some(e=>n instanceof e);let mT,pT;function tM(){return mT||(mT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eM(){return pT||(pT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F1=new WeakMap,Cy=new WeakMap,H1=new WeakMap,W_=new WeakMap,wv=new WeakMap;function nM(n){const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",f)},u=()=>{e(Qo(n.result)),a()},f=()=>{r(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",f)});return t.then(e=>{e instanceof IDBCursor&&F1.set(e,n)}).catch(()=>{}),wv.set(t,n),t}function iM(n){if(Cy.has(n))return;const t=new Promise((e,r)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",f),n.removeEventListener("abort",f)},u=()=>{e(),a()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",f),n.addEventListener("abort",f)});Cy.set(n,t)}let Ry={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Cy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||H1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Qo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function rM(n){Ry=n(Ry)}function sM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(Y_(this),t,...e);return H1.set(r,t.sort?t.sort():[t]),Qo(r)}:eM().includes(n)?function(...t){return n.apply(Y_(this),t),Qo(F1.get(this))}:function(...t){return Qo(n.apply(Y_(this),t))}}function aM(n){return typeof n=="function"?sM(n):(n instanceof IDBTransaction&&iM(n),JL(n,tM())?new Proxy(n,Ry):n)}function Qo(n){if(n instanceof IDBRequest)return nM(n);if(W_.has(n))return W_.get(n);const t=aM(n);return t!==n&&(W_.set(n,t),wv.set(t,n)),t}const Y_=n=>wv.get(n);function q1(n,t,{blocked:e,upgrade:r,blocking:a,terminated:u}={}){const f=indexedDB.open(n,t),g=Qo(f);return r&&f.addEventListener("upgradeneeded",_=>{r(Qo(f.result),_.oldVersion,_.newVersion,Qo(f.transaction),_)}),e&&f.addEventListener("blocked",_=>e(_.oldVersion,_.newVersion,_)),g.then(_=>{u&&_.addEventListener("close",()=>u()),a&&_.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const oM=["get","getKey","getAll","getAllKeys","count"],lM=["put","add","delete","clear"],$_=new Map;function gT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if($_.get(t))return $_.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,a=lM.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(a||oM.includes(e)))return;const u=async function(f,...g){const _=this.transaction(f,a?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[e](...g),a&&_.done]))[0]};return $_.set(t,u),u}rM(n=>({...n,get:(t,e,r)=>gT(t,e)||n.get(t,e,r),has:(t,e)=>!!gT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(cM(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function cM(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Iy="@firebase/app",_T="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new bp("@firebase/app"),hM="@firebase/app-compat",fM="@firebase/analytics-compat",dM="@firebase/analytics",mM="@firebase/app-check-compat",pM="@firebase/app-check",gM="@firebase/auth",_M="@firebase/auth-compat",yM="@firebase/database",vM="@firebase/data-connect",bM="@firebase/database-compat",EM="@firebase/functions",wM="@firebase/functions-compat",TM="@firebase/installations",SM="@firebase/installations-compat",AM="@firebase/messaging",xM="@firebase/messaging-compat",CM="@firebase/performance",RM="@firebase/performance-compat",IM="@firebase/remote-config",OM="@firebase/remote-config-compat",PM="@firebase/storage",NM="@firebase/storage-compat",LM="@firebase/firestore",MM="@firebase/ai",DM="@firebase/firestore-compat",kM="firebase",jM="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="[DEFAULT]",VM={[Iy]:"fire-core",[hM]:"fire-core-compat",[dM]:"fire-analytics",[fM]:"fire-analytics-compat",[pM]:"fire-app-check",[mM]:"fire-app-check-compat",[gM]:"fire-auth",[_M]:"fire-auth-compat",[yM]:"fire-rtdb",[vM]:"fire-data-connect",[bM]:"fire-rtdb-compat",[EM]:"fire-fn",[wM]:"fire-fn-compat",[TM]:"fire-iid",[SM]:"fire-iid-compat",[AM]:"fire-fcm",[xM]:"fire-fcm-compat",[CM]:"fire-perf",[RM]:"fire-perf-compat",[IM]:"fire-rc",[OM]:"fire-rc-compat",[PM]:"fire-gcs",[NM]:"fire-gcs-compat",[LM]:"fire-fst",[DM]:"fire-fst-compat",[MM]:"fire-vertex","fire-js":"fire-js",[kM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map,zM=new Map,Py=new Map;function yT(n,t){try{n.container.addComponent(t)}catch(e){Wa.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function oa(n){const t=n.name;if(Py.has(t))return Wa.debug(`There were multiple attempts to register component ${t}.`),!1;Py.set(t,n);for(const e of Dm.values())yT(e,n);for(const e of zM.values())yT(e,n);return!0}function Eu(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ui(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xo=new bu("app","Firebase",BM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=jM;function G1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Oy,automaticDataCollectionEnabled:!0,...t},a=r.name;if(typeof a!="string"||!a)throw Xo.create("bad-app-name",{appName:String(a)});if(e||(e=D1()),!e)throw Xo.create("no-options");const u=Dm.get(a);if(u){if(nl(e,u.options)&&nl(r,u.config))return u;throw Xo.create("duplicate-app",{appName:a})}const f=new WL(a);for(const _ of Py.values())f.addComponent(_);const g=new UM(e,r,f);return Dm.set(a,g),g}function Tv(n=Oy){const t=Dm.get(n);if(!t&&n===Oy&&D1())return G1();if(!t)throw Xo.create("no-app",{appName:n});return t}function Fr(n,t,e){let r=VM[n]??n;e&&(r+=`-${e}`);const a=r.match(/\s|\//),u=t.match(/\s|\//);if(a||u){const f=[`Unable to register library "${r}" with version "${t}":`];a&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wa.warn(f.join(" "));return}oa(new vs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="firebase-heartbeat-database",HM=1,uf="firebase-heartbeat-store";let Q_=null;function Z1(){return Q_||(Q_=q1(FM,HM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(uf)}catch(e){console.warn(e)}}}}).catch(n=>{throw Xo.create("idb-open",{originalErrorMessage:n.message})})),Q_}async function qM(n){try{const e=(await Z1()).transaction(uf),r=await e.objectStore(uf).get(K1(n));return await e.done,r}catch(t){if(t instanceof Ss)Wa.warn(t.message);else{const e=Xo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wa.warn(e.message)}}}async function vT(n,t){try{const r=(await Z1()).transaction(uf,"readwrite");await r.objectStore(uf).put(t,K1(n)),await r.done}catch(e){if(e instanceof Ss)Wa.warn(e.message);else{const r=Xo.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Wa.warn(r.message)}}}function K1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=1024,ZM=30;class KM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new YM(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=bT();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>ZM){const f=$M(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Wa.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bT(),{heartbeatsToSend:r,unsentEntries:a}=WM(this._heartbeatsCache.heartbeats),u=Mm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Wa.warn(e),""}}}function bT(){return new Date().toISOString().substring(0,10)}function WM(n,t=GM){const e=[];let r=n.slice();for(const a of n){const u=e.find(f=>f.agent===a.agent);if(u){if(u.dates.push(a.date),ET(e)>t){u.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),ET(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class YM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B1()?U1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await qM(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ET(n){return Mm(JSON.stringify({version:2,heartbeats:n})).length}function $M(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){oa(new vs("platform-logger",t=>new uM(t),"PRIVATE")),oa(new vs("heartbeat",t=>new KM(t),"PRIVATE")),Fr(Iy,_T,n),Fr(Iy,_T,"esm2020"),Fr("fire-js","")}QM("");function W1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XM=W1,Y1=new bu("auth","Firebase",W1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new bp("@firebase/auth");function JM(n,...t){km.logLevel<=ge.WARN&&km.warn(`Auth (${Gc}): ${n}`,...t)}function cm(n,...t){km.logLevel<=ge.ERROR&&km.error(`Auth (${Gc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(n,...t){throw Av(n,...t)}function gs(n,...t){return Av(n,...t)}function Sv(n,t,e){const r={...XM(),[t]:e};return new bu("auth","Firebase",r).create(t,{appName:n.name})}function ea(n){return Sv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tD(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&Gr(n,"argument-error"),Sv(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Av(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return Y1.create(n,...t)}function qt(n,t,...e){if(!n)throw Av(t,...e)}function za(n){const t="INTERNAL ASSERTION FAILED: "+n;throw cm(t),new Error(t)}function Ya(n,t){n||za(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function eD(){return wT()==="http:"||wT()==="https:"}function wT(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eD()||z1()||"connection"in navigator)?navigator.onLine:!0}function iD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ya(e>t,"Short delay should be less than long delay!"),this.isMobile=CL()||OL()}get(){return nD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(n,t){Ya(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aD=new Cf(3e4,6e4);function Ja(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function to(n,t,e,r,a={}){return Q1(n,a,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const g=xf({key:n.config.apiKey,...f}).slice(1),_=await n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);const v={method:t,headers:_,...u};return IL()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&qc(n.emulatorConfig.host)&&(v.credentials="include"),$1.fetch()(await X1(n,n.config.apiHost,e,g),v)})}async function Q1(n,t,e){n._canInitEmulator=!1;const r={...rD,...t};try{const a=new lD(n),u=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xd(n,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xd(n,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Xd(n,"email-already-in-use",f);if(_==="USER_DISABLED")throw Xd(n,"user-disabled",f);const T=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Sv(n,T,v);Gr(n,T)}}catch(a){if(a instanceof Ss)throw a;Gr(n,"network-request-failed",{message:String(a)})}}async function Rf(n,t,e,r,a={}){const u=await to(n,t,e,r,a);return"mfaPendingCredential"in u&&Gr(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function X1(n,t,e,r){const a=`${t}${e}?${r}`,u=n,f=u.config.emulator?xv(n.config,a):`${n.config.apiScheme}://${a}`;return sD.includes(e)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function oD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(gs(this.auth,"network-request-failed")),aD.get())})}}function Xd(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const a=gs(n,t,r);return a.customData._tokenResponse=e,a}function TT(n){return n!==void 0&&n.enterprise!==void 0}class uD{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return oD(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cD(n,t){return to(n,"GET","/v2/recaptchaConfig",Ja(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(n,t){return to(n,"POST","/v1/accounts:delete",t)}async function jm(n,t){return to(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fD(n,t=!1){const e=En(n),r=await e.getIdToken(t),a=Cv(r);qt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:a,token:r,authTime:tf(X_(a.auth_time)),issuedAtTime:tf(X_(a.iat)),expirationTime:tf(X_(a.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function X_(n){return Number(n)*1e3}function Cv(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const a=L1(e);return a?JSON.parse(a):(cm("Failed to decode base64 JWT payload"),null)}catch(a){return cm("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function ST(n){const t=Cv(n);return qt(t,"internal-error"),qt(typeof t.exp<"u","internal-error"),qt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof Ss&&dD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function dD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=tf(this.lastLoginAt),this.creationTime=tf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(n){var x;const t=n.auth,e=await n.getIdToken(),r=await cf(n,jm(t,{idToken:e}));qt(r==null?void 0:r.users.length,t,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const u=(x=a.providerUserInfo)!=null&&x.length?J1(a.providerUserInfo):[],f=gD(n.providerData,u),g=n.isAnonymous,_=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),v=g?_:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Ly(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function pD(n){const t=En(n);await Vm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gD(n,t){return[...n.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function J1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n,t){const e=await Q1(n,{},async()=>{const r=xf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,f=await X1(n,a,"/v1/token",`key=${u}`),g=await n._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:r};return n.emulatorConfig&&qc(n.emulatorConfig.host)&&(_.credentials="include"),$1.fetch()(f,_)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function yD(n,t){return to(n,"POST","/v2/accounts:revokeToken",Ja(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qt(t.idToken,"internal-error"),qt(typeof t.idToken<"u","internal-error"),qt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ST(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){qt(t.length!==0,"internal-error");const e=ST(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:a,expiresIn:u}=await _D(t,e);this.updateTokensAndExpiration(r,a,Number(u))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:a,expirationTime:u}=e,f=new bc;return r&&(qt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),a&&(qt(typeof a=="string","internal-error",{appName:t}),f.accessToken=a),u&&(qt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return za("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(n,t){qt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ds{constructor({uid:t,auth:e,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new mD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ly(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await cf(this,this.stsTokenManager.getToken(this.auth,t));return qt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return fD(this,t)}reload(){return pD(this)}_assign(t){this!==t&&(qt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ds({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await Vm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ui(this.auth.app))return Promise.reject(ea(this.auth));const t=await this.getIdToken();return await cf(this,hD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,a=e.email??void 0,u=e.phoneNumber??void 0,f=e.photoURL??void 0,g=e.tenantId??void 0,_=e._redirectEventId??void 0,v=e.createdAt??void 0,T=e.lastLoginAt??void 0,{uid:x,emailVerified:O,isAnonymous:D,providerData:M,stsTokenManager:z}=e;qt(x&&z,t,"internal-error");const k=bc.fromJSON(this.name,z);qt(typeof x=="string",t,"internal-error"),Ho(r,t.name),Ho(a,t.name),qt(typeof O=="boolean",t,"internal-error"),qt(typeof D=="boolean",t,"internal-error"),Ho(u,t.name),Ho(f,t.name),Ho(g,t.name),Ho(_,t.name),Ho(v,t.name),Ho(T,t.name);const ct=new ds({uid:x,auth:t,email:a,emailVerified:O,displayName:r,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:k,createdAt:v,lastLoginAt:T});return M&&Array.isArray(M)&&(ct.providerData=M.map(Et=>({...Et}))),_&&(ct._redirectEventId=_),ct}static async _fromIdTokenResponse(t,e,r=!1){const a=new bc;a.updateFromServerResponse(e);const u=new ds({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Vm(u),u}static async _fromGetAccountInfoResponse(t,e,r){const a=e.users[0];qt(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?J1(a.providerUserInfo):[],f=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),g=new bc;g.updateFromIdToken(r);const _=new ds({uid:a.localId,auth:t,stsTokenManager:g,isAnonymous:f}),v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ly(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Map;function Ba(n){Ya(n instanceof Function,"Expected a class definition");let t=AT.get(n);return t?(Ya(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,AT.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}tx.type="NONE";const xT=tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(n,t,e){return`firebase:${n}:${t}:${e}`}class Ec{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:a,name:u}=this.auth;this.fullUserKey=hm(this.userKey,a.apiKey,u),this.fullPersistenceKey=hm("persistence",a.apiKey,u),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await jm(this.auth,{idToken:t}).catch(()=>{});return e?ds._fromGetAccountInfoResponse(this.auth,e,t):null}return ds._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Ec(Ba(xT),t,r);const a=(await Promise.all(e.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=a[0]||Ba(xT);const f=hm(r,t.config.apiKey,t.name);let g=null;for(const v of e)try{const T=await v._get(f);if(T){let x;if(typeof T=="string"){const O=await jm(t,{idToken:T}).catch(()=>{});if(!O)break;x=await ds._fromGetAccountInfoResponse(t,O,T)}else x=ds._fromJSON(t,T);v!==u&&(g=x),u=v;break}}catch{}const _=a.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new Ec(u,t,r):(u=_[0],g&&await u._set(f,g.toJSON()),await Promise.all(e.map(async v=>{if(v!==u)try{await v._remove(f)}catch{}})),new Ec(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ex(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ax(t))return"Blackberry";if(ox(t))return"Webos";if(nx(t))return"Safari";if((t.includes("chrome/")||ix(t))&&!t.includes("edge/"))return"Chrome";if(sx(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ex(n=hi()){return/firefox\//i.test(n)}function nx(n=hi()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ix(n=hi()){return/crios\//i.test(n)}function rx(n=hi()){return/iemobile/i.test(n)}function sx(n=hi()){return/android/i.test(n)}function ax(n=hi()){return/blackberry/i.test(n)}function ox(n=hi()){return/webos/i.test(n)}function Rv(n=hi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vD(n=hi()){var t;return Rv(n)&&!!((t=window.navigator)!=null&&t.standalone)}function bD(){return PL()&&document.documentMode===10}function lx(n=hi()){return Rv(n)||sx(n)||ox(n)||ax(n)||/windows phone/i.test(n)||rx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(n,t=[]){let e;switch(n){case"Browser":e=CT(hi());break;case"Worker":e=`${CT(hi())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=u=>new Promise((f,g)=>{try{const _=t(u);f(_)}catch(_){g(_)}});r.onAbort=e,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(n,t={}){return to(n,"GET","/v2/passwordPolicy",Ja(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=6;class SD{constructor(t){var r;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??TD,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,a,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,e,r,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RT(this),this.idTokenSubscription=new RT(this),this.beforeStateQueue=new ED(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ba(e)),this._initializationPromise=this.queue(async()=>{var r,a,u;if(!this._deleted&&(this.persistenceManager=await Ec.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await jm(this,{idToken:t}),r=await ds._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Ui(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=r==null?void 0:r._redirectEventId,_=await this.tryRedirectSignIn(t);(!f||f===g)&&(_!=null&&_.user)&&(r=_.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Vm(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ui(this.app))return Promise.reject(ea(this));const e=t?En(t):null;return e&&qt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ui(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ui(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ba(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wD(this),e=new SD(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new bu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await yD(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ba(t)||this._popupRedirectResolver;qt(e,this,"argument-error"),this.redirectPersistenceManager=await Ec.create(this,[Ba(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,a){if(this._deleted)return()=>{};const u=typeof e=="function"?e:e.next.bind(e);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof e=="function"){const _=t.addObserver(e,r,a);return()=>{f=!0,_()}}else{const _=t.addObserver(e);return()=>{f=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&JM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ua(n){return En(n)}class RT{constructor(t){this.auth=t,this.observer=null,this.addObserver=VL(e=>this.observer=e)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xD(n){Ep=n}function cx(n){return Ep.loadJS(n)}function CD(){return Ep.recaptchaEnterpriseScript}function RD(){return Ep.gapiScript}function ID(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class OD{constructor(){this.enterprise=new PD}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class PD{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const ND="recaptcha-enterprise",hx="NO_RECAPTCHA";class LD{constructor(t){this.type=ND,this.auth=ua(t)}async verify(t="verify",e=!1){async function r(u){if(!e){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{cD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const v=new uD(_);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,f(v.siteKey)}}).catch(_=>{g(_)})})}function a(u,f,g){const _=window.grecaptcha;TT(_)?_.enterprise.ready(()=>{_.enterprise.execute(u,{action:t}).then(v=>{f(v)}).catch(()=>{f(hx)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(g=>{if(!e&&TT(window.grecaptcha))a(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let _=CD();_.length!==0&&(_+=g),cx(_).then(()=>{a(g,u,f)}).catch(v=>{f(v)})}}).catch(g=>{f(g)})})}}async function IT(n,t,e,r=!1,a=!1){const u=new LD(n);let f;if(a)f=hx;else try{f=await u.verify(e)}catch{f=await u.verify(e,!0)}const g={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,v=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function zm(n,t,e,r,a){var u;if((u=n._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await IT(n,t,e,e==="getOobCode");return r(n,f)}else return r(n,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await IT(n,t,e,e==="getOobCode");return r(n,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n,t){const e=Eu(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),u=e.getOptions();if(nl(u,t??{}))return a;Gr(a,"already-initialized")}return e.initialize({options:t})}function DD(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(Ba);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function kD(n,t,e){const r=ua(n);qt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,u=fx(t),{host:f,port:g}=jD(t),_=g===null?"":`:${g}`,v={url:`${u}//${f}${_}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){qt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qt(nl(v,r.config.emulator)&&nl(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=v,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,qc(f)?(j1(`${u}//${f}${_}`),V1("Auth",!0)):VD()}function fx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function jD(n){const t=fx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const u=a[1];return{host:u,port:OT(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:OT(f)}}}function OT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function VD(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return za("not implemented")}_getIdTokenResponse(t){return za("not implemented")}_linkToIdToken(t,e){return za("not implemented")}_getReauthenticationResolver(t){return za("not implemented")}}async function zD(n,t){return to(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,t){return Rf(n,"POST","/v1/accounts:signInWithPassword",Ja(n,t))}async function UD(n,t){return to(n,"POST","/v1/accounts:sendOobCode",Ja(n,t))}async function FD(n,t){return UD(n,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,t){return Rf(n,"POST","/v1/accounts:signInWithEmailLink",Ja(n,t))}async function qD(n,t){return Rf(n,"POST","/v1/accounts:signInWithEmailLink",Ja(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Iv{constructor(t,e,r,a=null){super("password",r),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new hf(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new hf(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(t,e,"signInWithPassword",BD);case"emailLink":return HD(t,{email:this._email,oobCode:this._password});default:Gr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zm(t,r,"signUpPassword",zD);case"emailLink":return qD(t,{idToken:e,email:this._email,oobCode:this._password});default:Gr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(n,t){return Rf(n,"POST","/v1/accounts:signInWithIdp",Ja(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="http://localhost";class uu extends Iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new uu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Gr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a,...u}=e;if(!r||!a)return null;const f=new uu(r,a);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const e=this.buildRequest();return wc(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,wc(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,wc(t,e)}buildRequest(){const t={requestUri:GD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=xf(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KD(n){const t=qh(Gh(n)).link,e=t?qh(Gh(t)).deep_link_id:null,r=qh(Gh(n)).deep_link_id;return(r?qh(Gh(r)).link:null)||r||e||t||n}class Ov{constructor(t){const e=qh(Gh(t)),r=e.apiKey??null,a=e.oobCode??null,u=ZD(e.mode??null);qt(r&&a&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=KD(t);try{return new Ov(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.providerId=Zc.PROVIDER_ID}static credential(t,e){return hf._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=Ov.parseLink(e);return qt(r,"argument-error"),hf._fromEmailAndCode(t,r.code,r.tenantId)}}Zc.PROVIDER_ID="password";Zc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends Pv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends If{constructor(){super("facebook.com")}static credential(t){return uu._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zo.credentialFromTaggedObject(t)}static credentialFromError(t){return Zo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zo.credential(t.oauthAccessToken)}catch{return null}}}Zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends If{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return uu._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Va.credentialFromTaggedObject(t)}static credentialFromError(t){return Va.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Va.credential(e,r)}catch{return null}}}Va.GOOGLE_SIGN_IN_METHOD="google.com";Va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends If{constructor(){super("github.com")}static credential(t){return uu._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ko.credentialFromTaggedObject(t)}static credentialFromError(t){return Ko.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ko.credential(t.oauthAccessToken)}catch{return null}}}Ko.GITHUB_SIGN_IN_METHOD="github.com";Ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends If{constructor(){super("twitter.com")}static credential(t,e){return uu._fromParams({providerId:Wo.PROVIDER_ID,signInMethod:Wo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Wo.credentialFromTaggedObject(t)}static credentialFromError(t){return Wo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Wo.credential(e,r)}catch{return null}}}Wo.TWITTER_SIGN_IN_METHOD="twitter.com";Wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(n,t){return Rf(n,"POST","/v1/accounts:signUp",Ja(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,a=!1){const u=await ds._fromIdTokenResponse(t,r,a),f=PT(r);return new $a({user:u,providerId:f,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const a=PT(r);return new $a({user:t,providerId:a,_tokenResponse:r,operationType:e})}}function PT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(n){var a;if(Ui(n.app))return Promise.reject(ea(n));const t=ua(n);if(await t._initializationPromise,(a=t.currentUser)!=null&&a.isAnonymous)return new $a({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await dx(t,{returnSecureToken:!0}),r=await $a._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends Ss{constructor(t,e,r,a){super(e.code,e.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Bm.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,a){return new Bm(t,e,r,a)}}function mx(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Bm._fromErrorAndOperation(n,u,t,r):u})}async function YD(n,t,e=!1){const r=await cf(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return $a._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(n,t,e=!1){const{auth:r}=n;if(Ui(r.app))return Promise.reject(ea(r));const a="reauthenticate";try{const u=await cf(n,mx(r,a,t,n),e);qt(u.idToken,r,"internal-error");const f=Cv(u.idToken);qt(f,r,"internal-error");const{sub:g}=f;return qt(n.uid===g,r,"user-mismatch"),$a._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Gr(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(n,t,e=!1){if(Ui(n.app))return Promise.reject(ea(n));const r="signIn",a=await mx(n,r,t),u=await $a._fromIdTokenResponse(n,r,a);return e||await n._updateCurrentUser(u.user),u}async function QD(n,t){return px(ua(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(n){const t=ua(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function XD(n,t,e){const r=ua(n);await zm(r,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",FD)}async function JD(n,t,e){if(Ui(n.app))return Promise.reject(ea(n));const r=ua(n),f=await zm(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dx).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&gx(n),_}),g=await $a._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function tk(n,t,e){return Ui(n.app)?Promise.reject(ea(n)):QD(En(n),Zc.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gx(n),r})}function ek(n,t,e,r){return En(n).onIdTokenChanged(t,e,r)}function nk(n,t,e){return En(n).beforeAuthStateChanged(t,e)}function ik(n,t,e,r){return En(n).onAuthStateChanged(t,e,r)}function rk(n){return En(n).signOut()}const Um="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Um,"1"),this.storage.removeItem(Um),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=1e3,ak=10;class yx extends _x{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),a=this.localCache[e];r!==a&&t(e,a,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((f,g,_)=>{this.notifyListeners(f,_)});return}const r=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const f=this.storage.getItem(r);!e&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);bD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,ak):a()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},sk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}yx.type="LOCAL";const ok=yx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx extends _x{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}vx.type="SESSION";const bx=vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const r=new wp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:a,data:u}=e.data,f=this.handlersMap[a];if(!(f!=null&&f.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const g=Array.from(f).map(async v=>v(e.origin,u)),_=await lk(g);e.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:_})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,f;return new Promise((g,_)=>{const v=Nv("",20);a.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:a,onMessage(x){const O=x;if(O.data.eventId===v)switch(O.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(O.data.response);break;default:clearTimeout(T),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(f),a.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:v,data:e},[a.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return window}function ck(n){na().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){return typeof na().WorkerGlobalScope<"u"&&typeof na().importScripts=="function"}async function hk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function dk(){return Ex()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="firebaseLocalStorageDb",mk=1,Fm="firebaseLocalStorage",Tx="fbase_key";class Of{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Tp(n,t){return n.transaction([Fm],t?"readwrite":"readonly").objectStore(Fm)}function pk(){const n=indexedDB.deleteDatabase(wx);return new Of(n).toPromise()}function My(){const n=indexedDB.open(wx,mk);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fm,{keyPath:Tx})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Fm)?t(r):(r.close(),await pk(),t(await My()))})})}async function NT(n,t,e){const r=Tp(n,!0).put({[Tx]:t,value:e});return new Of(r).toPromise()}async function gk(n,t){const e=Tp(n,!1).get(t),r=await new Of(e).toPromise();return r===void 0?null:r.value}function LT(n,t){const e=Tp(n,!0).delete(t);return new Of(e).toPromise()}const _k=800,yk=3;class Sx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await My(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>yk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ex()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance(dk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await hk(),!this.activeServiceWorker)return;this.sender=new uk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await My();return await NT(t,Um,"1"),await LT(t,Um),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>NT(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>gk(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>LT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const u=Tp(a,!1).getAll();return new Of(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:u}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sx.type="LOCAL";const vk=Sx;new Cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n,t){return t?Ba(t):(qt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv extends Iv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return wc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return wc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function bk(n){return px(n.auth,new Lv(n),n.bypassAuthState)}function Ek(n){const{auth:t,user:e}=n;return qt(e,t,"internal-error"),$D(e,new Lv(n),n.bypassAuthState)}async function wk(n){const{auth:t,user:e}=n;return qt(e,t,"internal-error"),YD(e,new Lv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(t,e,r,a,u=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:a,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:e,sessionId:r,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bk;case"linkViaPopup":case"linkViaRedirect":return wk;case"reauthViaPopup":case"reauthViaRedirect":return Ek;default:Gr(this.auth,"internal-error")}}resolve(t){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new Cf(2e3,1e4);async function Sk(n,t,e){if(Ui(n.app))return Promise.reject(gs(n,"operation-not-supported-in-this-environment"));const r=ua(n);tD(n,t,Pv);const a=Ax(r,e);return new Ql(r,"signInViaPopup",t,a).executeNotNull()}class Ql extends xx{constructor(t,e,r,a,u){super(t,e,a,u),this.provider=r,this.authWindow=null,this.pollId=null,Ql.currentPopupAction&&Ql.currentPopupAction.cancel(),Ql.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qt(t,this.auth,"internal-error"),t}async onExecution(){Ya(this.filter.length===1,"Popup operations only handle one event");const t=Nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ql.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if((r=(e=this.authWindow)==null?void 0:e.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Tk.get())};t()}}Ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="pendingRedirect",fm=new Map;class xk extends xx{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=fm.get(this.auth._key());if(!t){try{const r=await Ck(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}fm.set(this.auth._key(),t)}return this.bypassAuthState||fm.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ck(n,t){const e=Ok(t),r=Ik(n);if(!await r._isAvailable())return!1;const a=await r._get(e)==="true";return await r._remove(e),a}function Rk(n,t){fm.set(n._key(),t)}function Ik(n){return Ba(n._redirectPersistence)}function Ok(n){return hm(Ak,n.config.apiKey,n.name)}async function Pk(n,t,e=!1){if(Ui(n.app))return Promise.reject(ea(n));const r=ua(n),a=Ax(r,t),f=await new xk(r,a,e).execute();return f&&!e&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=600*1e3;class Lk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Mk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!Cx(t)){const a=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";e.onError(gs(this.auth,a))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nk&&this.cachedEventUids.clear(),this.cachedEventUids.has(MT(t))}saveEventToCache(t){this.cachedEventUids.add(MT(t)),this.lastProcessedEventTime=Date.now()}}function MT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Cx({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Mk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(n,t={}){return to(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jk=/^https?/;async function Vk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Dk(n);for(const e of t)try{if(zk(e))return}catch{}Gr(n,"unauthorized-domain")}function zk(n){const t=Ny(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&f.hostname===r}if(!jk.test(e))return!1;if(kk.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new Cf(3e4,6e4);function DT(){const n=na().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Uk(n){return new Promise((t,e)=>{var a,u,f;function r(){DT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{DT(),e(gs(n,"network-request-failed"))},timeout:Bk.get()})}if((u=(a=na().gapi)==null?void 0:a.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=na().gapi)!=null&&f.load)r();else{const g=ID("iframefcb");return na()[g]=()=>{gapi.load?r():e(gs(n,"network-request-failed"))},cx(`${RD()}?onload=${g}`).catch(_=>e(_))}}).catch(t=>{throw dm=null,t})}let dm=null;function Fk(n){return dm=dm||Uk(n),dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new Cf(5e3,15e3),qk="__/auth/iframe",Gk="emulator/auth/iframe",Zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wk(n){const t=n.config;qt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?xv(t,Gk):`https://${n.config.authDomain}/${qk}`,r={apiKey:t.apiKey,appName:n.name,v:Gc},a=Kk.get(n.config.apiHost);a&&(r.eid=a);const u=n._getFrameworks();return u.length&&(r.fw=u.join(",")),`${e}?${xf(r).slice(1)}`}async function Yk(n){const t=await Fk(n),e=na().gapi;return qt(e,n,"internal-error"),t.open({where:document.body,url:Wk(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zk,dontclear:!0},r=>new Promise(async(a,u)=>{await r.restyle({setHideOnLeave:!1});const f=gs(n,"network-request-failed"),g=na().setTimeout(()=>{u(f)},Hk.get());function _(){na().clearTimeout(g),a(r)}r.ping(_).then(_,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qk=500,Xk=600,Jk="_blank",t5="http://localhost";class kT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e5(n,t,e,r=Qk,a=Xk){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const _={...$k,width:r.toString(),height:a.toString(),top:u,left:f},v=hi().toLowerCase();e&&(g=ix(v)?Jk:e),ex(v)&&(t=t||t5,_.scrollbars="yes");const T=Object.entries(_).reduce((O,[D,M])=>`${O}${D}=${M},`,"");if(vD(v)&&g!=="_self")return n5(t||"",g),new kT(null);const x=window.open(t||"",g,T);qt(x,n,"popup-blocked");try{x.focus()}catch{}return new kT(x)}function n5(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="__/auth/handler",r5="emulator/auth/handler",s5=encodeURIComponent("fac");async function jT(n,t,e,r,a,u){qt(n.config.authDomain,n,"auth-domain-config-required"),qt(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Gc,eventId:a};if(t instanceof Pv){t.setDefaultLanguage(n.languageCode),f.providerId=t.providerId||"",jL(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,x]of Object.entries({}))f[T]=x}if(t instanceof If){const T=t.getScopes().filter(x=>x!=="");T.length>0&&(f.scopes=T.join(","))}n.tenantId&&(f.tid=n.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await n._getAppCheckToken(),v=_?`#${s5}=${encodeURIComponent(_)}`:"";return`${a5(n)}?${xf(g).slice(1)}${v}`}function a5({config:n}){return n.emulator?xv(n,r5):`https://${n.authDomain}/${i5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="webStorageSupport";class o5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bx,this._completeRedirectFn=Pk,this._overrideRedirectResult=Rk}async _openPopup(t,e,r,a){var f;Ya((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await jT(t,e,r,Ny(),a);return e5(t,u,Nv())}async _openRedirect(t,e,r,a){await this._originValidation(t);const u=await jT(t,e,r,Ny(),a);return ck(u),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:u}=this.eventManagers[e];return a?Promise.resolve(a):(Ya(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await Yk(t),r=new Lk(t);return e.register("authEvent",a=>(qt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(J_,{type:J_},a=>{var f;const u=(f=a==null?void 0:a[0])==null?void 0:f[J_];u!==void 0&&e(!!u),Gr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Vk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return lx()||nx()||Rv()}}const l5=o5;var VT="@firebase/auth",zT="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h5(n){oa(new vs("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;qt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:f,authDomain:g,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(n)},v=new AD(r,a,u,_);return DD(v,e),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),oa(new vs("auth-internal",t=>{const e=ua(t.getProvider("auth").getImmediate());return(r=>new u5(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(VT,zT,c5(n)),Fr(VT,zT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5=300,d5=k1("authIdTokenMaxAge")||f5;let BT=null;const m5=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>d5)return;const a=e==null?void 0:e.token;BT!==a&&(BT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function p5(n=Tv()){const t=Eu(n,"auth");if(t.isInitialized())return t.getImmediate();const e=MD(n,{popupRedirectResolver:l5,persistence:[vk,ok,bx]}),r=k1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=m5(u.toString());nk(e,f,()=>f(e.currentUser)),ek(e,g=>f(g))}}const a=M1("auth");return a&&kD(e,`http://${a}`),e}function g5(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}xD({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=a=>{const u=gs("internal-error");u.customData=a,e(u)},r.type="text/javascript",r.charset="UTF-8",g5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h5("Browser");var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jo,Rx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,j){function B(){}B.prototype=j.prototype,V.F=j.prototype,V.prototype=new B,V.prototype.constructor=V,V.D=function(Z,q,W){for(var F=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)F[Yt-2]=arguments[Yt];return j.prototype[q].apply(Z,F)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,j,B){B||(B=0);const Z=Array(16);if(typeof j=="string")for(var q=0;q<16;++q)Z[q]=j.charCodeAt(B++)|j.charCodeAt(B++)<<8|j.charCodeAt(B++)<<16|j.charCodeAt(B++)<<24;else for(q=0;q<16;++q)Z[q]=j[B++]|j[B++]<<8|j[B++]<<16|j[B++]<<24;j=V.g[0],B=V.g[1],q=V.g[2];let W=V.g[3],F;F=j+(W^B&(q^W))+Z[0]+3614090360&4294967295,j=B+(F<<7&4294967295|F>>>25),F=W+(q^j&(B^q))+Z[1]+3905402710&4294967295,W=j+(F<<12&4294967295|F>>>20),F=q+(B^W&(j^B))+Z[2]+606105819&4294967295,q=W+(F<<17&4294967295|F>>>15),F=B+(j^q&(W^j))+Z[3]+3250441966&4294967295,B=q+(F<<22&4294967295|F>>>10),F=j+(W^B&(q^W))+Z[4]+4118548399&4294967295,j=B+(F<<7&4294967295|F>>>25),F=W+(q^j&(B^q))+Z[5]+1200080426&4294967295,W=j+(F<<12&4294967295|F>>>20),F=q+(B^W&(j^B))+Z[6]+2821735955&4294967295,q=W+(F<<17&4294967295|F>>>15),F=B+(j^q&(W^j))+Z[7]+4249261313&4294967295,B=q+(F<<22&4294967295|F>>>10),F=j+(W^B&(q^W))+Z[8]+1770035416&4294967295,j=B+(F<<7&4294967295|F>>>25),F=W+(q^j&(B^q))+Z[9]+2336552879&4294967295,W=j+(F<<12&4294967295|F>>>20),F=q+(B^W&(j^B))+Z[10]+4294925233&4294967295,q=W+(F<<17&4294967295|F>>>15),F=B+(j^q&(W^j))+Z[11]+2304563134&4294967295,B=q+(F<<22&4294967295|F>>>10),F=j+(W^B&(q^W))+Z[12]+1804603682&4294967295,j=B+(F<<7&4294967295|F>>>25),F=W+(q^j&(B^q))+Z[13]+4254626195&4294967295,W=j+(F<<12&4294967295|F>>>20),F=q+(B^W&(j^B))+Z[14]+2792965006&4294967295,q=W+(F<<17&4294967295|F>>>15),F=B+(j^q&(W^j))+Z[15]+1236535329&4294967295,B=q+(F<<22&4294967295|F>>>10),F=j+(q^W&(B^q))+Z[1]+4129170786&4294967295,j=B+(F<<5&4294967295|F>>>27),F=W+(B^q&(j^B))+Z[6]+3225465664&4294967295,W=j+(F<<9&4294967295|F>>>23),F=q+(j^B&(W^j))+Z[11]+643717713&4294967295,q=W+(F<<14&4294967295|F>>>18),F=B+(W^j&(q^W))+Z[0]+3921069994&4294967295,B=q+(F<<20&4294967295|F>>>12),F=j+(q^W&(B^q))+Z[5]+3593408605&4294967295,j=B+(F<<5&4294967295|F>>>27),F=W+(B^q&(j^B))+Z[10]+38016083&4294967295,W=j+(F<<9&4294967295|F>>>23),F=q+(j^B&(W^j))+Z[15]+3634488961&4294967295,q=W+(F<<14&4294967295|F>>>18),F=B+(W^j&(q^W))+Z[4]+3889429448&4294967295,B=q+(F<<20&4294967295|F>>>12),F=j+(q^W&(B^q))+Z[9]+568446438&4294967295,j=B+(F<<5&4294967295|F>>>27),F=W+(B^q&(j^B))+Z[14]+3275163606&4294967295,W=j+(F<<9&4294967295|F>>>23),F=q+(j^B&(W^j))+Z[3]+4107603335&4294967295,q=W+(F<<14&4294967295|F>>>18),F=B+(W^j&(q^W))+Z[8]+1163531501&4294967295,B=q+(F<<20&4294967295|F>>>12),F=j+(q^W&(B^q))+Z[13]+2850285829&4294967295,j=B+(F<<5&4294967295|F>>>27),F=W+(B^q&(j^B))+Z[2]+4243563512&4294967295,W=j+(F<<9&4294967295|F>>>23),F=q+(j^B&(W^j))+Z[7]+1735328473&4294967295,q=W+(F<<14&4294967295|F>>>18),F=B+(W^j&(q^W))+Z[12]+2368359562&4294967295,B=q+(F<<20&4294967295|F>>>12),F=j+(B^q^W)+Z[5]+4294588738&4294967295,j=B+(F<<4&4294967295|F>>>28),F=W+(j^B^q)+Z[8]+2272392833&4294967295,W=j+(F<<11&4294967295|F>>>21),F=q+(W^j^B)+Z[11]+1839030562&4294967295,q=W+(F<<16&4294967295|F>>>16),F=B+(q^W^j)+Z[14]+4259657740&4294967295,B=q+(F<<23&4294967295|F>>>9),F=j+(B^q^W)+Z[1]+2763975236&4294967295,j=B+(F<<4&4294967295|F>>>28),F=W+(j^B^q)+Z[4]+1272893353&4294967295,W=j+(F<<11&4294967295|F>>>21),F=q+(W^j^B)+Z[7]+4139469664&4294967295,q=W+(F<<16&4294967295|F>>>16),F=B+(q^W^j)+Z[10]+3200236656&4294967295,B=q+(F<<23&4294967295|F>>>9),F=j+(B^q^W)+Z[13]+681279174&4294967295,j=B+(F<<4&4294967295|F>>>28),F=W+(j^B^q)+Z[0]+3936430074&4294967295,W=j+(F<<11&4294967295|F>>>21),F=q+(W^j^B)+Z[3]+3572445317&4294967295,q=W+(F<<16&4294967295|F>>>16),F=B+(q^W^j)+Z[6]+76029189&4294967295,B=q+(F<<23&4294967295|F>>>9),F=j+(B^q^W)+Z[9]+3654602809&4294967295,j=B+(F<<4&4294967295|F>>>28),F=W+(j^B^q)+Z[12]+3873151461&4294967295,W=j+(F<<11&4294967295|F>>>21),F=q+(W^j^B)+Z[15]+530742520&4294967295,q=W+(F<<16&4294967295|F>>>16),F=B+(q^W^j)+Z[2]+3299628645&4294967295,B=q+(F<<23&4294967295|F>>>9),F=j+(q^(B|~W))+Z[0]+4096336452&4294967295,j=B+(F<<6&4294967295|F>>>26),F=W+(B^(j|~q))+Z[7]+1126891415&4294967295,W=j+(F<<10&4294967295|F>>>22),F=q+(j^(W|~B))+Z[14]+2878612391&4294967295,q=W+(F<<15&4294967295|F>>>17),F=B+(W^(q|~j))+Z[5]+4237533241&4294967295,B=q+(F<<21&4294967295|F>>>11),F=j+(q^(B|~W))+Z[12]+1700485571&4294967295,j=B+(F<<6&4294967295|F>>>26),F=W+(B^(j|~q))+Z[3]+2399980690&4294967295,W=j+(F<<10&4294967295|F>>>22),F=q+(j^(W|~B))+Z[10]+4293915773&4294967295,q=W+(F<<15&4294967295|F>>>17),F=B+(W^(q|~j))+Z[1]+2240044497&4294967295,B=q+(F<<21&4294967295|F>>>11),F=j+(q^(B|~W))+Z[8]+1873313359&4294967295,j=B+(F<<6&4294967295|F>>>26),F=W+(B^(j|~q))+Z[15]+4264355552&4294967295,W=j+(F<<10&4294967295|F>>>22),F=q+(j^(W|~B))+Z[6]+2734768916&4294967295,q=W+(F<<15&4294967295|F>>>17),F=B+(W^(q|~j))+Z[13]+1309151649&4294967295,B=q+(F<<21&4294967295|F>>>11),F=j+(q^(B|~W))+Z[4]+4149444226&4294967295,j=B+(F<<6&4294967295|F>>>26),F=W+(B^(j|~q))+Z[11]+3174756917&4294967295,W=j+(F<<10&4294967295|F>>>22),F=q+(j^(W|~B))+Z[2]+718787259&4294967295,q=W+(F<<15&4294967295|F>>>17),F=B+(W^(q|~j))+Z[9]+3951481745&4294967295,V.g[0]=V.g[0]+j&4294967295,V.g[1]=V.g[1]+(q+(F<<21&4294967295|F>>>11))&4294967295,V.g[2]=V.g[2]+q&4294967295,V.g[3]=V.g[3]+W&4294967295}r.prototype.v=function(V,j){j===void 0&&(j=V.length);const B=j-this.blockSize,Z=this.C;let q=this.h,W=0;for(;W<j;){if(q==0)for(;W<=B;)a(this,V,W),W+=this.blockSize;if(typeof V=="string"){for(;W<j;)if(Z[q++]=V.charCodeAt(W++),q==this.blockSize){a(this,Z),q=0;break}}else for(;W<j;)if(Z[q++]=V[W++],q==this.blockSize){a(this,Z),q=0;break}}this.h=q,this.o+=j},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var j=1;j<V.length-8;++j)V[j]=0;j=this.o*8;for(var B=V.length-8;B<V.length;++B)V[B]=j&255,j/=256;for(this.v(V),V=Array(16),j=0,B=0;B<4;++B)for(let Z=0;Z<32;Z+=8)V[j++]=this.g[B]>>>Z&255;return V};function u(V,j){var B=g;return Object.prototype.hasOwnProperty.call(B,V)?B[V]:B[V]=j(V)}function f(V,j){this.h=j;const B=[];let Z=!0;for(let q=V.length-1;q>=0;q--){const W=V[q]|0;Z&&W==j||(B[q]=W,Z=!1)}this.g=B}var g={};function _(V){return-128<=V&&V<128?u(V,function(j){return new f([j|0],j<0?-1:0)}):new f([V|0],V<0?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return x;if(V<0)return k(v(-V));const j=[];let B=1;for(let Z=0;V>=B;Z++)j[Z]=V/B|0,B*=4294967296;return new f(j,0)}function T(V,j){if(V.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(V.charAt(0)=="-")return k(T(V.substring(1),j));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const B=v(Math.pow(j,8));let Z=x;for(let W=0;W<V.length;W+=8){var q=Math.min(8,V.length-W);const F=parseInt(V.substring(W,W+q),j);q<8?(q=v(Math.pow(j,q)),Z=Z.j(q).add(v(F))):(Z=Z.j(B),Z=Z.add(v(F)))}return Z}var x=_(0),O=_(1),D=_(16777216);n=f.prototype,n.m=function(){if(z(this))return-k(this).m();let V=0,j=1;for(let B=0;B<this.g.length;B++){const Z=this.i(B);V+=(Z>=0?Z:4294967296+Z)*j,j*=4294967296}return V},n.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(z(this))return"-"+k(this).toString(V);const j=v(Math.pow(V,6));var B=this;let Z="";for(;;){const q=Tt(B,j).g;B=ct(B,q.j(j));let W=((B.g.length>0?B.g[0]:B.h)>>>0).toString(V);if(B=q,M(B))return W+Z;for(;W.length<6;)W="0"+W;Z=W+Z}},n.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(let j=0;j<V.g.length;j++)if(V.g[j]!=0)return!1;return!0}function z(V){return V.h==-1}n.l=function(V){return V=ct(this,V),z(V)?-1:M(V)?0:1};function k(V){const j=V.g.length,B=[];for(let Z=0;Z<j;Z++)B[Z]=~V.g[Z];return new f(B,~V.h).add(O)}n.abs=function(){return z(this)?k(this):this},n.add=function(V){const j=Math.max(this.g.length,V.g.length),B=[];let Z=0;for(let q=0;q<=j;q++){let W=Z+(this.i(q)&65535)+(V.i(q)&65535),F=(W>>>16)+(this.i(q)>>>16)+(V.i(q)>>>16);Z=F>>>16,W&=65535,F&=65535,B[q]=F<<16|W}return new f(B,B[B.length-1]&-2147483648?-1:0)};function ct(V,j){return V.add(k(j))}n.j=function(V){if(M(this)||M(V))return x;if(z(this))return z(V)?k(this).j(k(V)):k(k(this).j(V));if(z(V))return k(this.j(k(V)));if(this.l(D)<0&&V.l(D)<0)return v(this.m()*V.m());const j=this.g.length+V.g.length,B=[];for(var Z=0;Z<2*j;Z++)B[Z]=0;for(Z=0;Z<this.g.length;Z++)for(let q=0;q<V.g.length;q++){const W=this.i(Z)>>>16,F=this.i(Z)&65535,Yt=V.i(q)>>>16,ze=V.i(q)&65535;B[2*Z+2*q]+=F*ze,Et(B,2*Z+2*q),B[2*Z+2*q+1]+=W*ze,Et(B,2*Z+2*q+1),B[2*Z+2*q+1]+=F*Yt,Et(B,2*Z+2*q+1),B[2*Z+2*q+2]+=W*Yt,Et(B,2*Z+2*q+2)}for(V=0;V<j;V++)B[V]=B[2*V+1]<<16|B[2*V];for(V=j;V<2*j;V++)B[V]=0;return new f(B,0)};function Et(V,j){for(;(V[j]&65535)!=V[j];)V[j+1]+=V[j]>>>16,V[j]&=65535,j++}function nt(V,j){this.g=V,this.h=j}function Tt(V,j){if(M(j))throw Error("division by zero");if(M(V))return new nt(x,x);if(z(V))return j=Tt(k(V),j),new nt(k(j.g),k(j.h));if(z(j))return j=Tt(V,k(j)),new nt(k(j.g),j.h);if(V.g.length>30){if(z(V)||z(j))throw Error("slowDivide_ only works with positive integers.");for(var B=O,Z=j;Z.l(V)<=0;)B=Rt(B),Z=Rt(Z);var q=Dt(B,1),W=Dt(Z,1);for(Z=Dt(Z,2),B=Dt(B,2);!M(Z);){var F=W.add(Z);F.l(V)<=0&&(q=q.add(B),W=F),Z=Dt(Z,1),B=Dt(B,1)}return j=ct(V,q.j(j)),new nt(q,j)}for(q=x;V.l(j)>=0;){for(B=Math.max(1,Math.floor(V.m()/j.m())),Z=Math.ceil(Math.log(B)/Math.LN2),Z=Z<=48?1:Math.pow(2,Z-48),W=v(B),F=W.j(j);z(F)||F.l(V)>0;)B-=Z,W=v(B),F=W.j(j);M(W)&&(W=O),q=q.add(W),V=ct(V,F)}return new nt(q,V)}n.B=function(V){return Tt(this,V).h},n.and=function(V){const j=Math.max(this.g.length,V.g.length),B=[];for(let Z=0;Z<j;Z++)B[Z]=this.i(Z)&V.i(Z);return new f(B,this.h&V.h)},n.or=function(V){const j=Math.max(this.g.length,V.g.length),B=[];for(let Z=0;Z<j;Z++)B[Z]=this.i(Z)|V.i(Z);return new f(B,this.h|V.h)},n.xor=function(V){const j=Math.max(this.g.length,V.g.length),B=[];for(let Z=0;Z<j;Z++)B[Z]=this.i(Z)^V.i(Z);return new f(B,this.h^V.h)};function Rt(V){const j=V.g.length+1,B=[];for(let Z=0;Z<j;Z++)B[Z]=V.i(Z)<<1|V.i(Z-1)>>>31;return new f(B,V.h)}function Dt(V,j){const B=j>>5;j%=32;const Z=V.g.length-B,q=[];for(let W=0;W<Z;W++)q[W]=j>0?V.i(W+B)>>>j|V.i(W+B+1)<<32-j:V.i(W+B);return new f(q,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Rx=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=T,Jo=f}).apply(typeof UT<"u"?UT:typeof self<"u"?self:typeof window<"u"?window:{});var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ix,Zh,Ox,mm,Dy,Px,Nx,Lx;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jd=="object"&&Jd];for(var w=0;w<d.length;++w){var C=d[w];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=e(this);function a(d,w){if(w)t:{var C=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var J=d[N];if(!(J in C))break t;C=C[J]}d=d[d.length-1],N=C[d],w=w(N),w!=N&&w!=null&&t(C,d,{configurable:!0,writable:!0,value:w})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(w){var C=[],N;for(N in w)Object.prototype.hasOwnProperty.call(w,N)&&C.push([N,w[N]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function _(d,w,C){return d.call.apply(d.bind,arguments)}function v(d,w,C){return v=_,v.apply(null,arguments)}function T(d,w){var C=Array.prototype.slice.call(arguments,1);return function(){var N=C.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function x(d,w){function C(){}C.prototype=w.prototype,d.Z=w.prototype,d.prototype=new C,d.prototype.constructor=d,d.Ob=function(N,J,at){for(var At=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)At[Zt-2]=arguments[Zt];return w.prototype[J].apply(N,At)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function D(d){const w=d.length;if(w>0){const C=Array(w);for(let N=0;N<w;N++)C[N]=d[N];return C}return[]}function M(d,w){for(let N=1;N<arguments.length;N++){const J=arguments[N];var C=typeof J;if(C=C!="object"?C:J?Array.isArray(J)?"array":C:"null",C=="array"||C=="object"&&typeof J.length=="number"){C=d.length||0;const at=J.length||0;d.length=C+at;for(let At=0;At<at;At++)d[C+At]=J[At]}else d.push(J)}}class z{constructor(w,C){this.i=w,this.j=C,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function k(d){f.setTimeout(()=>{throw d},0)}function ct(){var d=V;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class Et{constructor(){this.h=this.g=null}add(w,C){const N=nt.get();N.set(w,C),this.h?this.h.next=N:this.g=N,this.h=N}}var nt=new z(()=>new Tt,d=>d.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(w,C){this.h=w,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,Dt=!1,V=new Et,j=()=>{const d=Promise.resolve(void 0);Rt=()=>{d.then(B)}};function B(){for(var d;d=ct();){try{d.h.call(d.g)}catch(C){k(C)}var w=nt;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}Dt=!1}function Z(){this.u=this.u,this.C=this.C}Z.prototype.u=!1,Z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},Z.prototype[Symbol.dispose]=function(){this.dispose()},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var W=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const C=()=>{};f.addEventListener("test",C,w),f.removeEventListener("test",C,w)}catch{}return d})();function F(d){return/^[\s\xa0]*$/.test(d)}function Yt(d,w){q.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}x(Yt,q),Yt.prototype.init=function(d,w){const C=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(C=="mouseover"?w=d.fromElement:C=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),it=0;function St(d,w,C,N,J){this.listener=d,this.proxy=null,this.src=w,this.type=C,this.capture=!!N,this.ha=J,this.key=++it,this.da=this.fa=!1}function bt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ee(d,w,C){for(const N in d)w.call(C,d[N],N,d)}function G(d,w){for(const C in d)w.call(void 0,d[C],C,d)}function R(d){const w={};for(const C in d)w[C]=d[C];return w}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(d,w){let C,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(C in N)d[C]=N[C];for(let at=0;at<Y.length;at++)C=Y[at],Object.prototype.hasOwnProperty.call(N,C)&&(d[C]=N[C])}}function ht(d){this.src=d,this.g={},this.h=0}ht.prototype.add=function(d,w,C,N,J){const at=d.toString();d=this.g[at],d||(d=this.g[at]=[],this.h++);const At=yt(d,w,N,J);return At>-1?(w=d[At],C||(w.fa=!1)):(w=new St(w,this.src,at,!!N,J),w.fa=C,d.push(w)),w};function mt(d,w){const C=w.type;if(C in d.g){var N=d.g[C],J=Array.prototype.indexOf.call(N,w,void 0),at;(at=J>=0)&&Array.prototype.splice.call(N,J,1),at&&(bt(w),d.g[C].length==0&&(delete d.g[C],d.h--))}}function yt(d,w,C,N){for(let J=0;J<d.length;++J){const at=d[J];if(!at.da&&at.listener==w&&at.capture==!!C&&at.ha==N)return J}return-1}var wt="closure_lm_"+(Math.random()*1e6|0),Lt={};function Ut(d,w,C,N,J){if(Array.isArray(w)){for(let at=0;at<w.length;at++)Ut(d,w[at],C,N,J);return null}return C=Tn(C),d&&d[ze]?d.J(w,C,g(N)?!!N.capture:!1,J):be(d,w,C,!1,N,J)}function be(d,w,C,N,J,at){if(!w)throw Error("Invalid event type");const At=g(J)?!!J.capture:!!J;let Zt=un(d);if(Zt||(d[wt]=Zt=new ht(d)),C=Zt.add(w,C,N,At,at),C.proxy)return C;if(N=fe(),C.proxy=N,N.src=d,N.listener=C,d.addEventListener)W||(J=At),J===void 0&&(J=!1),d.addEventListener(w.toString(),N,J);else if(d.attachEvent)d.attachEvent(Wt(w.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return C}function fe(){function d(C){return w.call(d.src,d.listener,C)}const w=nn;return d}function ve(d,w,C,N,J){if(Array.isArray(w))for(var at=0;at<w.length;at++)ve(d,w[at],C,N,J);else N=g(N)?!!N.capture:!!N,C=Tn(C),d&&d[ze]?(d=d.i,at=String(w).toString(),at in d.g&&(w=d.g[at],C=yt(w,C,N,J),C>-1&&(bt(w[C]),Array.prototype.splice.call(w,C,1),w.length==0&&(delete d.g[at],d.h--)))):d&&(d=un(d))&&(w=d.g[w.toString()],d=-1,w&&(d=yt(w,C,N,J)),(C=d>-1?w[d]:null)&&Be(C))}function Be(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[ze])mt(w.i,d);else{var C=d.type,N=d.proxy;w.removeEventListener?w.removeEventListener(C,N,d.capture):w.detachEvent?w.detachEvent(Wt(C),N):w.addListener&&w.removeListener&&w.removeListener(N),(C=un(w))?(mt(C,d),C.h==0&&(C.src=null,w[wt]=null)):bt(d)}}}function Wt(d){return d in Lt?Lt[d]:Lt[d]="on"+d}function nn(d,w){if(d.da)d=!0;else{w=new Yt(w,this);const C=d.listener,N=d.ha||d.src;d.fa&&Be(d),d=C.call(N,w)}return d}function un(d){return d=d[wt],d instanceof ht?d:null}var pn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tn(d){return typeof d=="function"?d:(d[pn]||(d[pn]=function(w){return d.handleEvent(w)}),d[pn])}function Le(){Z.call(this),this.i=new ht(this),this.M=this,this.G=null}x(Le,Z),Le.prototype[ze]=!0,Le.prototype.removeEventListener=function(d,w,C,N){ve(this,d,w,C,N)};function Se(d,w){var C,N=d.G;if(N)for(C=[];N;N=N.G)C.push(N);if(d=d.M,N=w.type||w,typeof w=="string")w=new q(w,d);else if(w instanceof q)w.target=w.target||d;else{var J=w;w=new q(N,d),lt(w,J)}J=!0;let at,At;if(C)for(At=C.length-1;At>=0;At--)at=w.g=C[At],J=wi(at,N,!0,w)&&J;if(at=w.g=d,J=wi(at,N,!0,w)&&J,J=wi(at,N,!1,w)&&J,C)for(At=0;At<C.length;At++)at=w.g=C[At],J=wi(at,N,!1,w)&&J}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const C=d.g[w];for(let N=0;N<C.length;N++)bt(C[N]);delete d.g[w],d.h--}}this.G=null},Le.prototype.J=function(d,w,C,N){return this.i.add(String(d),w,!1,C,N)},Le.prototype.K=function(d,w,C,N){return this.i.add(String(d),w,!0,C,N)};function wi(d,w,C,N){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let J=!0;for(let at=0;at<w.length;++at){const At=w[at];if(At&&!At.da&&At.capture==C){const Zt=At.listener,Ee=At.ha||At.src;At.fa&&mt(d.i,At),J=Zt.call(Ee,N)!==!1&&J}}return J&&!N.defaultPrevented}function eo(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:f.setTimeout(d,w||0)}function ca(d){d.g=eo(()=>{d.g=null,d.i&&(d.i=!1,ca(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Sn extends Z{constructor(w,C){super(),this.m=w,this.l=C,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ca(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(d){Z.call(this),this.h=d,this.g={}}x(Wr,Z);var gr=[];function xs(d){ee(d.g,function(w,C){this.g.hasOwnProperty(C)&&Be(w)},d),d.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),xs(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=f.JSON.stringify,no=f.JSON.parse,Cs=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Yr(){}function io(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gn(){q.call(this,"d")}x(gn,q);function fi(){q.call(this,"c")}x(fi,q);var rn={},Rs=null;function ro(){return Rs=Rs||new Le}rn.Ia="serverreachability";function Au(d){q.call(this,rn.Ia,d)}x(Au,q);function Zi(d){const w=ro();Se(w,new Au(w))}rn.STAT_EVENT="statevent";function Is(d,w){q.call(this,rn.STAT_EVENT,d),this.stat=w}x(Is,q);function sn(d){const w=ro();Se(w,new Is(w,d))}rn.Ja="timingevent";function _r(d,w){q.call(this,rn.Ja,d),this.size=w}x(_r,q);function yr(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},w)}function Ki(){this.g=!0}Ki.prototype.ua=function(){this.g=!1};function th(d,w,C,N,J,at){d.info(function(){if(d.g)if(at){var At="",Zt=at.split("&");for(let we=0;we<Zt.length;we++){var Ee=Zt[we].split("=");if(Ee.length>1){const Ge=Ee[0];Ee=Ee[1];const Oi=Ge.split("_");At=Oi.length>=2&&Oi[1]=="type"?At+(Ge+"="+Ee+"&"):At+(Ge+"=redacted&")}}}else At=null;else At=at;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+w+`
`+C+`
`+At})}function xu(d,w,C,N,J,at,At){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+w+`
`+C+`
`+at+" "+At})}function vr(d,w,C,N){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+eh(d,C)+(N?" "+N:"")})}function $r(d,w){d.info(function(){return"TIMEOUT: "+w})}Ki.prototype.info=function(){};function eh(d,w){if(!d.g)return w;if(!w)return null;try{const at=JSON.parse(w);if(at){for(d=0;d<at.length;d++)if(Array.isArray(at[d])){var C=at[d];if(!(C.length<2)){var N=C[1];if(Array.isArray(N)&&!(N.length<1)){var J=N[0];if(J!="noop"&&J!="stop"&&J!="close")for(let At=1;At<N.length;At++)N[At]=""}}}}return Gi(at)}catch{return w}}var ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function jn(){}x(jn,Yr),jn.prototype.g=function(){return new XMLHttpRequest},pl=new jn;function Nt(d){return encodeURIComponent(String(d))}function gl(d){var w=1;d=d.split(":");const C=[];for(;w>0&&d.length;)C.push(d.shift()),w--;return d.length&&C.push(d.join(":")),C}function Ti(d,w,C,N){this.j=d,this.i=w,this.l=C,this.S=N||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var an={},cn={};function Wi(d,w,C){d.M=1,d.A=De(Ye(w)),d.u=C,d.R=!0,Yi(d,null)}function Yi(d,w){d.F=Date.now(),br(d),d.B=Ye(d.A);var C=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),Ps(C.i,"t",N),d.C=0,C=d.j.L,d.h=new Si,d.g=Tl(d.j,C?w:null,!d.u),d.P>0&&(d.O=new Sn(v(d.Y,d,d.g),d.P)),w=d.V,C=d.g,N=d.ba;var J="readystatechange";Array.isArray(J)||(J&&(gr[0]=J.toString()),J=gr);for(let at=0;at<J.length;at++){const At=Ut(C,J[at],N||w.handleEvent,!1,w.h||w);if(!At)break;w.g[At.key]=At}w=d.J?R(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Zi(),th(d.i,d.v,d.B,d.l,d.S,d.u)}Ti.prototype.ba=function(d){d=d.target;const w=this.O;w&&Ji(d)==3?w.j():this.Y(d)},Ti.prototype.Y=function(d){try{if(d==this.g)t:{const Zt=Ji(this.g),Ee=this.g.ya(),we=this.g.ca();if(!(Zt<3)&&(Zt!=3||this.g&&(this.h.h||this.g.la()||xn(this.g)))){this.K||Zt!=4||Ee==7||(Ee==8||we<=0?Zi(3):Zi(2)),$i(this);var w=this.g.ca();this.X=w;var C=Cu(this);if(this.o=w==200,xu(this.i,this.v,this.B,this.l,this.S,Zt,w),this.o){if(this.U&&!this.L){e:{if(this.g){var N,J=this.g;if((N=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(N)){var at=N;break e}}at=null}if(d=at)vr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Er(this,d);else{this.o=!1,this.m=3,sn(12),Vn(this),Ai(this);break t}}if(this.R){d=!0;let Ge;for(;!this.K&&this.C<C.length;)if(Ge=Iu(this,C),Ge==cn){Zt==4&&(this.m=4,sn(14),d=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==an){this.m=4,sn(15),vr(this.i,this.l,C,"[Invalid Chunk]"),d=!1;break}else vr(this.i,this.l,Ge,null),Er(this,Ge);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||C.length!=0||this.h.h||(this.m=1,sn(16),d=!1),this.o=this.o&&d,!d)vr(this.i,this.l,C,"[Invalid Chunked Response]"),Vn(this),Ai(this);else if(C.length>0&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.aa&&!At.P&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),El(At),At.P=!0,sn(11))}}else vr(this.i,this.l,C,null),Er(this,C);Zt==4&&Vn(this),this.o&&!this.K&&(Zt==4?pi(this.j,this):(this.o=!1,br(this)))}else tr(this.g),w==400&&C.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),Vn(this),Ai(this)}}}catch{}finally{}};function Cu(d){if(!Ru(d))return d.g.la();const w=xn(d.g);if(w==="")return"";let C="";const N=w.length,J=Ji(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Vn(d),Ai(d),"";d.h.i=new f.TextDecoder}for(let at=0;at<N;at++)d.h.h=!0,C+=d.h.i.decode(w[at],{stream:!(J&&at==N-1)});return w.length=0,d.h.g+=C,d.C=0,d.h.g}function Ru(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Iu(d,w){var C=d.C,N=w.indexOf(`
`,C);return N==-1?cn:(C=Number(w.substring(C,N)),isNaN(C)?an:(N+=1,N+C>w.length?cn:(w=w.slice(N,N+C),d.C=N+C,w)))}Ti.prototype.cancel=function(){this.K=!0,Vn(this)};function br(d){d.T=Date.now()+d.H,so(d,d.H)}function so(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=yr(v(d.aa,d),w)}function $i(d){d.D&&(f.clearTimeout(d.D),d.D=null)}Ti.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?($r(this.i,this.B),this.M!=2&&(Zi(),sn(17)),Vn(this),this.m=2,Ai(this)):so(this,this.T-d)};function Ai(d){d.j.I==0||d.K||pi(d.j,d)}function Vn(d){$i(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,xs(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function Er(d,w){try{var C=d.j;if(C.I!=0&&(C.g==d||xi(C.h,d))){if(!d.L&&xi(C.h,d)&&C.I==3){try{var N=C.Ba.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){t:if(!C.v){if(C.g)if(C.g.F+3e3<d.F)fo(C),Ds(C);else break t;_a(C),sn(18)}}else C.xa=J[1],0<C.xa-C.K&&J[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=yr(v(C.Va,C),6e3));wr(C.h)<=1&&C.ta&&(C.ta=void 0)}else er(C,11)}else if((d.L||C.g==d)&&fo(C),!F(w))for(J=C.Ba.g.parse(w),w=0;w<J.length;w++){let we=J[w];const Ge=we[0];if(!(Ge<=C.K))if(C.K=Ge,we=we[1],C.I==2)if(we[0]=="c"){C.M=we[1],C.ba=we[2];const Oi=we[3];Oi!=null&&(C.ka=Oi,C.j.info("VER="+C.ka));const Pi=we[4];Pi!=null&&(C.za=Pi,C.j.info("SVER="+C.za));const gi=we[5];gi!=null&&typeof gi=="number"&&gi>0&&(N=1.5*gi,C.O=N,C.j.info("backChannelRequestTimeoutMs_="+N)),N=C;const ir=d.g;if(ir){const ya=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var at=N.h;at.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(at.j=at.l,at.g=new Set,at.h&&(Qr(at,at.h),at.h=null))}if(N.G){const va=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(N.wa=va,Ot(N.J,N.G,va))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-d.F,C.j.info("Handshake RTT: "+C.T+"ms")),N=C;var At=d;if(N.na=wl(N,N.L?N.ba:null,N.W),At.L){ao(N.h,At);var Zt=At,Ee=N.O;Ee&&(Zt.H=Ee),Zt.D&&($i(Zt),br(Zt)),N.g=At}else bl(N);C.i.length>0&&ii(C)}else we[0]!="stop"&&we[0]!="close"||er(C,7);else C.I==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?er(C,7):re(C):we[0]!="noop"&&C.l&&C.l.qa(we),C.A=0)}}Zi(4)}catch{}}var hn=class{constructor(d,w){this.g=d,this.map=w}};function _l(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function wr(d){return d.h?1:d.g?d.g.size:0}function xi(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Qr(d,w){d.g?d.g.add(w):d.h=w}function ao(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}_l.prototype.cancel=function(){if(this.i=oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function oo(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const C of d.g.values())w=w.concat(C.G);return w}return D(d.i)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ae(d,w){if(d){d=d.split("&");for(let C=0;C<d.length;C++){const N=d[C].indexOf("=");let J,at=null;N>=0?(J=d[C].substring(0,N),at=d[C].substring(N+1)):J=d[C],w(J,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}function le(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof le?(this.l=d.l,$e(this,d.j),this.o=d.o,this.g=d.g,di(this,d.u),this.h=d.h,fa(this,pa(d.i)),this.m=d.m):d&&(w=String(d).match(Os))?(this.l=!1,$e(this,w[1]||"",!0),this.o=Ci(w[2]||""),this.g=Ci(w[3]||"",!0),di(this,w[4]),this.h=Ci(w[5]||"",!0),fa(this,w[6]||"",!0),this.m=Ci(w[7]||"")):(this.l=!1,this.i=new Ri(null,this.l))}le.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(Tr(w,lo,!0),":");var C=this.g;return(C||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Tr(w,lo,!0),"@"),d.push(Nt(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&d.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&d.push("/"),d.push(Tr(C,C.charAt(0)=="/"?Qi:da,!0))),(C=this.i.toString())&&d.push("?",C),(C=this.m)&&d.push("#",Tr(C,Sr)),d.join("")},le.prototype.resolve=function(d){const w=Ye(this);let C=!!d.j;C?$e(w,d.j):C=!!d.o,C?w.o=d.o:C=!!d.g,C?w.g=d.g:C=d.u!=null;var N=d.h;if(C)di(w,d.u);else if(C=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var J=w.h.lastIndexOf("/");J!=-1&&(N=w.h.slice(0,J+1)+N)}if(J=N,J==".."||J==".")N="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){N=J.lastIndexOf("/",0)==0,J=J.split("/");const at=[];for(let At=0;At<J.length;){const Zt=J[At++];Zt=="."?N&&At==J.length&&at.push(""):Zt==".."?((at.length>1||at.length==1&&at[0]!="")&&at.pop(),N&&At==J.length&&at.push("")):(at.push(Zt),N=!0)}N=at.join("/")}else N=J}return C?w.h=N:C=d.i.toString()!=="",C?fa(w,pa(d.i)):C=!!d.m,C&&(w.m=d.m),w};function Ye(d){return new le(d)}function $e(d,w,C){d.j=C?Ci(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function di(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function fa(d,w,C){w instanceof Ri?(d.i=w,Ns(d.i,d.l)):(C||(w=Tr(w,ke)),d.i=new Ri(w,d.l))}function Ot(d,w,C){d.i.set(w,C)}function De(d){return Ot(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ci(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Tr(d,w,C){return typeof d=="string"?(d=encodeURI(d).replace(w,qe),C&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function qe(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var lo=/[#\/\?@]/g,da=/[#\?:]/g,Qi=/[#\?]/g,ke=/[#\?@]/g,Sr=/#/g;function Ri(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function An(d){d.g||(d.g=new Map,d.h=0,d.i&&ae(d.i,function(w,C){d.add(decodeURIComponent(w.replace(/\+/g," ")),C)}))}n=Ri.prototype,n.add=function(d,w){An(this),this.i=null,d=Ar(this,d);let C=this.g.get(d);return C||this.g.set(d,C=[]),C.push(w),this.h+=1,this};function uo(d,w){An(d),w=Ar(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function Xr(d,w){return An(d),w=Ar(d,w),d.g.has(w)}n.forEach=function(d,w){An(this),this.g.forEach(function(C,N){C.forEach(function(J){d.call(w,J,N,this)},this)},this)};function ma(d,w){An(d);let C=[];if(typeof w=="string")Xr(d,w)&&(C=C.concat(d.g.get(Ar(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)C=C.concat(d[w]);return C}n.set=function(d,w){return An(this),this.i=null,d=Ar(this,d),Xr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=ma(this,d),d.length>0?String(d[0]):w):w};function Ps(d,w,C){uo(d,w),C.length>0&&(d.i=null,d.g.set(Ar(d,w),D(C)),d.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let N=0;N<w.length;N++){var C=w[N];const J=Nt(C);C=ma(this,C);for(let at=0;at<C.length;at++){let At=J;C[at]!==""&&(At+="="+Nt(C[at])),d.push(At)}}return this.i=d.join("&")};function pa(d){const w=new Ri;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function Ar(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function Ns(d,w){w&&!d.j&&(An(d),d.i=null,d.g.forEach(function(C,N){const J=N.toLowerCase();N!=J&&(uo(this,N),Ps(this,J,C))},d)),d.j=w}function ti(d,w){const C=new Ki;if(f.Image){const N=new Image;N.onload=T(ei,C,"TestLoadImage: loaded",!0,w,N),N.onerror=T(ei,C,"TestLoadImage: error",!1,w,N),N.onabort=T(ei,C,"TestLoadImage: abort",!1,w,N),N.ontimeout=T(ei,C,"TestLoadImage: timeout",!1,w,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else w(!1)}function co(d,w){const C=new Ki,N=new AbortController,J=setTimeout(()=>{N.abort(),ei(C,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:N.signal}).then(at=>{clearTimeout(J),at.ok?ei(C,"TestPingServer: ok",!0,w):ei(C,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),ei(C,"TestPingServer: error",!1,w)})}function ei(d,w,C,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(C)}catch{}}function Ls(){this.g=new Cs}function Ft(d){this.i=d.Sb||null,this.h=d.ab||!1}x(Ft,Yr),Ft.prototype.g=function(){return new zn(this.i,this.h)};function zn(d,w){Le.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(zn,Le),n=zn.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,mi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||f).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Jr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ae(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ae(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Jr(this):mi(this),this.readyState==3&&Ae(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Jr(this))},n.Na=function(d){this.g&&(this.response=d,Jr(this))},n.ga=function(){this.g&&Jr(this)};function Jr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,mi(d)}n.setRequestHeader=function(d,w){this.A.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var C=w.next();!C.done;)C=C.value,d.push(C[0]+": "+C[1]),C=w.next();return d.join(`\r
`)};function mi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ni(d){let w="";return ee(d,function(C,N){w+=N,w+=":",w+=C,w+=`\r
`}),w}function ts(d,w,C){t:{for(N in C){var N=!1;break t}N=!0}N||(C=ni(C),typeof d=="string"?C!=null&&Nt(C):Ot(d,w,C))}function de(d){Le.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(de,Le);var Ii=/^https?$/i,es=["POST","PUT"];n=de.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,w,C,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=O(v(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(at){Qe(this,at);return}if(d=C||"",C=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)C.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const at of N.keys())C.set(at,N.get(at));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(C.keys()).find(at=>at.toLowerCase()=="content-type"),J=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(es,w,void 0)>=0)||N||J||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[at,At]of C)this.g.setRequestHeader(at,At);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(at){Qe(this,at)}};function Qe(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,Xi(d),xr(d)}function Xi(d){d.A||(d.A=!0,Se(d,"complete"),Se(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Se(this,"complete"),Se(this,"abort"),xr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),de.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},n.Xa=function(){Ms(this)};function Ms(d){if(d.h&&typeof u<"u"){if(d.v&&Ji(d)==4)setTimeout(d.Ca.bind(d),0);else if(Se(d,"readystatechange"),Ji(d)==4){d.h=!1;try{const at=d.ca();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var C;if(!(C=w)){var N;if(N=at===0){let At=String(d.D).match(Os)[1]||null;!At&&f.self&&f.self.location&&(At=f.self.location.protocol.slice(0,-1)),N=!Ii.test(At?At.toLowerCase():"")}C=N}if(C)Se(d,"complete"),Se(d,"success");else{d.o=6;try{var J=Ji(d)>2?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.ca()+"]",Xi(d)}}finally{xr(d)}}}}function xr(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const C=d.g;d.g=null,w||Se(d,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ji(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Ji(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),no(w)}};function xn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(d){const w={};d=(d.g&&Ji(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(F(d[N]))continue;var C=gl(d[N]);const J=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const at=w[J]||[];w[J]=at,at.push(C)}G(w,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(d,w,C){return C&&C.internalChannelParams&&C.internalChannelParams[d]||w}function ns(d){this.za=0,this.i=[],this.j=new Ki,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cr("baseRetryDelayMs",5e3,d),this.Za=Cr("retryDelaySeedMs",1e4,d),this.Ta=Cr("forwardChannelMaxRetries",2,d),this.va=Cr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(d&&d.concurrentRequestLimit),this.Ba=new Ls,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ns.prototype,n.ka=8,n.I=1,n.connect=function(d,w,C,N){sn(0),this.W=d,this.H=w||{},C&&N!==void 0&&(this.H.OSID=C,this.H.OAID=N),this.F=this.X,this.J=wl(this,null,this.W),ii(this)};function re(d){if(Bn(d),d.I==3){var w=d.V++,C=Ye(d.J);if(Ot(C,"SID",d.M),Ot(C,"RID",w),Ot(C,"TYPE","terminate"),is(d,C),w=new Ti(d,d.j,w),w.M=2,w.A=De(Ye(C)),C=!1,f.navigator&&f.navigator.sendBeacon)try{C=f.navigator.sendBeacon(w.A.toString(),"")}catch{}!C&&f.Image&&(new Image().src=w.A,C=!0),C||(w.g=Tl(w.j,null),w.g.ea(w.A)),w.F=Date.now(),br(w)}nr(d)}function Ds(d){d.g&&(El(d),d.g.cancel(),d.g=null)}function Bn(d){Ds(d),d.v&&(f.clearTimeout(d.v),d.v=null),fo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function ii(d){if(!yl(d.h)&&!d.m){d.m=!0;var w=d.Ea;Rt||j(),Dt||(Rt(),Dt=!0),V.add(w,d),d.D=0}}function ga(d,w){return wr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=yr(v(d.Ea,d,w),Pu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const J=new Ti(this,this.j,d);let at=this.o;if(this.U&&(at?(at=R(at),lt(at,this.U)):at=this.U),this.u!==null||this.R||(J.J=at,at=null),this.S)t:{for(var w=0,C=0;C<this.i.length;C++){e:{var N=this.i[C];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(w+=N,w>4096){w=C;break t}if(w===4096||C===this.i.length-1){w=C+1;break t}}w=1e3}else w=1e3;w=Ou(this,J,w),C=Ye(this.J),Ot(C,"RID",d),Ot(C,"CVER",22),this.G&&Ot(C,"X-HTTP-Session-Id",this.G),is(this,C),at&&(this.R?w="headers="+Nt(ni(at))+"&"+w:this.u&&ts(C,this.u,at)),Qr(this.h,J),this.Ra&&Ot(C,"TYPE","init"),this.S?(Ot(C,"$req",w),Ot(C,"SID","null"),J.U=!0,Wi(J,C,null)):Wi(J,C,w),this.I=2}}else this.I==3&&(d?vl(this,d):this.i.length==0||yl(this.h)||vl(this))};function vl(d,w){var C;w?C=w.l:C=d.V++;const N=Ye(d.J);Ot(N,"SID",d.M),Ot(N,"RID",C),Ot(N,"AID",d.K),is(d,N),d.u&&d.o&&ts(N,d.u,d.o),C=new Ti(d,d.j,C,d.D+1),d.u===null&&(C.J=d.o),w&&(d.i=w.G.concat(d.i)),w=Ou(d,C,1e3),C.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Qr(d.h,C),Wi(C,N,w)}function is(d,w){d.H&&ee(d.H,function(C,N){Ot(w,N,C)}),d.l&&ee({},function(C,N){Ot(w,N,C)})}function Ou(d,w,C){C=Math.min(d.i.length,C);const N=d.l?v(d.l.Ka,d.l,d):null;t:{var J=d.i;let Zt=-1;for(;;){const Ee=["count="+C];Zt==-1?C>0?(Zt=J[0].g,Ee.push("ofs="+Zt)):Zt=0:Ee.push("ofs="+Zt);let we=!0;for(let Ge=0;Ge<C;Ge++){var at=J[Ge].g;const Oi=J[Ge].map;if(at-=Zt,at<0)Zt=Math.max(0,J[Ge].g-100),we=!1;else try{at="req"+at+"_"||"";try{var At=Oi instanceof Map?Oi:Object.entries(Oi);for(const[Pi,gi]of At){let ir=gi;g(gi)&&(ir=Gi(gi)),Ee.push(at+Pi+"="+encodeURIComponent(ir))}}catch(Pi){throw Ee.push(at+"type="+encodeURIComponent("_badmap")),Pi}}catch{N&&N(Oi)}}if(we){At=Ee.join("&");break t}}At=void 0}return d=d.i.splice(0,C),w.G=d,At}function bl(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;Rt||j(),Dt||(Rt(),Dt=!0),V.add(w,d),d.A=0}}function _a(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=yr(v(d.Da,d),Pu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,ho(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=yr(v(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),Ds(this),ho(this))};function El(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function ho(d){d.g=new Ti(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=Ye(d.na);Ot(w,"RID","rpc"),Ot(w,"SID",d.M),Ot(w,"AID",d.K),Ot(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ot(w,"TO",d.ia),Ot(w,"TYPE","xmlhttp"),is(d,w),d.u&&d.o&&ts(w,d.u,d.o),d.O&&(d.g.H=d.O);var C=d.g;d=d.ba,C.M=1,C.A=De(Ye(w)),C.u=null,C.R=!0,Yi(C,d)}n.Va=function(){this.C!=null&&(this.C=null,Ds(this),_a(this),sn(19))};function fo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function pi(d,w){var C=null;if(d.g==w){fo(d),El(d),d.g=null;var N=2}else if(xi(d.h,w))C=w.G,ao(d.h,w),N=1;else return;if(d.I!=0){if(w.o)if(N==1){C=w.u?w.u.length:0,w=Date.now()-w.F;var J=d.D;N=ro(),Se(N,new _r(N,C)),ii(d)}else bl(d);else if(J=w.m,J==3||J==0&&w.X>0||!(N==1&&ga(d,w)||N==2&&_a(d)))switch(C&&C.length>0&&(w=d.h,w.i=w.i.concat(C)),J){case 1:er(d,5);break;case 4:er(d,10);break;case 3:er(d,6);break;default:er(d,2)}}}function Pu(d,w){let C=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(C*=2),C*w}function er(d,w){if(d.j.info("Error code "+w),w==2){var C=v(d.bb,d),N=d.Ua;const J=!N;N=new le(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$e(N,"https"),De(N),J?ti(N.toString(),C):co(N.toString(),C)}else sn(2);d.I=0,d.l&&d.l.pa(w),nr(d),Bn(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function nr(d){if(d.I=0,d.ja=[],d.l){const w=oo(d.h);(w.length!=0||d.i.length!=0)&&(M(d.ja,w),M(d.ja,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.oa()}}function wl(d,w,C){var N=C instanceof le?Ye(C):new le(C);if(N.g!="")w&&(N.g=w+"."+N.g),di(N,N.u);else{var J=f.location;N=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;const at=new le(null);N&&$e(at,N),w&&(at.g=w),J&&di(at,J),C&&(at.h=C),N=at}return C=d.G,w=d.wa,C&&w&&Ot(N,C,w),Ot(N,"VER",d.ka),is(d,N),N}function Tl(d,w,C){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new de(new Ft({ab:C})):new de(d.ma),w.Fa(d.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function mo(){}n=mo.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ks(){}ks.prototype.g=function(d,w){return new Un(d,w)};function Un(d,w){Le.call(this),this.g=new ns(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!F(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!F(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new rs(this)}x(Un,Le),Un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){re(this.g)},Un.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var C={};C.__data__=d,d=C}else this.v&&(C={},C.__data__=Gi(d),d=C);w.i.push(new hn(w.Ya++,d)),w.I==3&&ii(w)},Un.prototype.N=function(){this.g.l=null,delete this.j,re(this.g),delete this.g,Un.Z.N.call(this)};function Sl(d){gn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){t:{for(const C in w){d=C;break t}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}x(Sl,gn);function Nu(){fi.call(this),this.status=1}x(Nu,fi);function rs(d){this.g=d}x(rs,mo),rs.prototype.ra=function(){Se(this.g,"a")},rs.prototype.qa=function(d){Se(this.g,new Sl(d))},rs.prototype.pa=function(d){Se(this.g,new Nu)},rs.prototype.oa=function(){Se(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,Lx=function(){return new ks},Nx=function(){return ro()},Px=rn,Dy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,mm=ha,ml.COMPLETE="complete",Ox=ml,io.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Le.prototype.listen=Le.prototype.J,Zh=io,de.prototype.listenOnce=de.prototype.K,de.prototype.getLastError=de.prototype.Ha,de.prototype.getLastErrorCode=de.prototype.ya,de.prototype.getStatus=de.prototype.ca,de.prototype.getResponseJson=de.prototype.La,de.prototype.getResponseText=de.prototype.la,de.prototype.send=de.prototype.ea,de.prototype.setWithCredentials=de.prototype.Fa,Ix=de}).apply(typeof Jd<"u"?Jd:typeof self<"u"?self:typeof window<"u"?window:{});const FT="@firebase/firestore",HT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}li.UNAUTHENTICATED=new li(null),li.GOOGLE_CREDENTIALS=new li("google-credentials-uid"),li.FIRST_PARTY=new li("first-party-uid"),li.MOCK_USER=new li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new bp("@firebase/firestore");function dc(){return cu.logLevel}function Pt(n,...t){if(cu.logLevel<=ge.DEBUG){const e=t.map(Mv);cu.debug(`Firestore (${Kc}): ${n}`,...e)}}function Qa(n,...t){if(cu.logLevel<=ge.ERROR){const e=t.map(Mv);cu.error(`Firestore (${Kc}): ${n}`,...e)}}function Pc(n,...t){if(cu.logLevel<=ge.WARN){const e=t.map(Mv);cu.warn(`Firestore (${Kc}): ${n}`,...e)}}function Mv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,Mx(n,r,e)}function Mx(n,t,e){let r=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw Qa(r),new Error(r)}function Me(n,t,e,r){let a="Unexpected state";typeof e=="string"?a=e:r=e,n||Mx(t,a,r)}function Xt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends Ss{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(li.UNAUTHENTICATED)))}shutdown(){}}class y5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class v5{constructor(t){this.t=t,this.currentUser=li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Me(this.o===void 0,42304);let r=this.i;const a=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let u=new qa;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qa,t.enqueueRetryable((()=>a(this.currentUser)))};const f=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await a(this.currentUser)}))},g=_=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qa)}}),0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((r=>this.i!==t?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new Dx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Me(t===null||typeof t=="string",2055,{h:t}),new li(t)}}class b5{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=li.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E5{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new b5(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(li.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w5{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ui(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Me(this.o===void 0,3512);const r=u=>{u.error!=null&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,Pt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?e(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const a=u=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>a(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?a(u):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Me(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new qT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=T5(40);for(let u=0;u<a.length;++u)r.length<20&&a[u]<e&&(r+=t.charAt(a[u]%62))}return r}}function _e(n,t){return n<t?-1:n>t?1:0}function ky(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const a=n.charAt(r),u=t.charAt(r);if(a!==u)return ty(a)===ty(u)?_e(a,u):ty(a)?1:-1}return _e(n.length,t.length)}const S5=55296,A5=57343;function ty(n){const t=n.charCodeAt(0);return t>=S5&&t<=A5}function Nc(n,t,e){return n.length===t.length&&n.every(((r,a)=>e(r,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__name__";class Ys{constructor(t,e,r){e===void 0?e=0:e>t.length&&Gt(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&Gt(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ys.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ys?t.forEach((r=>{e.push(r)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let a=0;a<r;a++){const u=Ys.compareSegments(t.get(a),e.get(a));if(u!==0)return u}return _e(t.length,e.length)}static compareSegments(t,e){const r=Ys.isNumericId(t),a=Ys.isNumericId(e);return r&&!a?-1:!r&&a?1:r&&a?Ys.extractNumericId(t).compare(Ys.extractNumericId(e)):ky(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jo.fromString(t.substring(4,t.length-2))}}class Ke extends Ys{construct(t,e,r){return new Ke(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new It(_t.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter((a=>a.length>0)))}return new Ke(e)}static emptyPath(){return new Ke([])}}const x5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends Ys{construct(t,e,r){return new Qn(t,e,r)}static isValidIdentifier(t){return x5.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GT}static keyField(){return new Qn([GT])}static fromServerFormat(t){const e=[];let r="",a=0;const u=()=>{if(r.length===0)throw new It(_t.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let f=!1;for(;a<t.length;){const g=t[a];if(g==="\\"){if(a+1===t.length)throw new It(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[a+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new It(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,a+=2}else g==="`"?(f=!f,a++):g!=="."||f?(r+=g,a++):(u(),a++)}if(u(),f)throw new It(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qn(e)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.path=t}static fromPath(t){return new Bt(Ke.fromString(t))}static fromName(t){return new Bt(Ke.fromString(t).popFirst(5))}static empty(){return new Bt(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ke.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Bt(new Ke(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n,t,e){if(!e)throw new It(_t.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function C5(n,t,e,r){if(t===!0&&r===!0)throw new It(_t.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function ZT(n){if(!Bt.isDocumentKey(n))throw new It(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KT(n){if(Bt.isDocumentKey(n))throw new It(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Sp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Gt(12329,{type:typeof n})}function bs(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new It(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Sp(n);throw new It(_t.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(n,t){const e={typeString:n};return t&&(e.value=t),e}function Pf(n,t){if(!jx(n))throw new It(_t.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const a=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const f=n[r];if(a&&typeof f!==a){e=`JSON field '${r}' must be a ${a}.`;break}if(u!==void 0&&f!==u.value){e=`Expected '${r}' field to equal '${u.value}'`;break}}if(e)throw new It(_t.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=-62135596800,YT=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(t){return Je.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*YT);return new Je(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new It(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new It(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<WT)throw new It(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new It(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YT}_compareTo(t){return this.seconds===t.seconds?_e(this.nanoseconds,t.nanoseconds):_e(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pf(t,Je._jsonSchema))return new Je(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-WT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Ln("string",Je._jsonSchemaVersion),seconds:Ln("number"),nanoseconds:Ln("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{static fromTimestamp(t){return new $t(t)}static min(){return new $t(new Je(0,0))}static max(){return new $t(new Je(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=-1;function R5(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=$t.fromTimestamp(r===1e9?new Je(e+1,0):new Je(e,r));return new il(a,Bt.empty(),t)}function I5(n){return new il(n.readTime,n.key,ff)}class il{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new il($t.min(),Bt.empty(),ff)}static max(){return new il($t.max(),Bt.empty(),ff)}}function O5(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Bt.comparator(n.documentKey,t.documentKey),e!==0?e:_e(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(n){if(n.code!==_t.FAILED_PRECONDITION||n.message!==P5)throw n;Pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new vt(((r,a)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,a)},this.catchCallback=u=>{this.wrapFailure(e,u).next(r,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof vt?e:vt.resolve(e)}catch(e){return vt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):vt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):vt.reject(e)}static resolve(t){return new vt(((e,r)=>{e(t)}))}static reject(t){return new vt(((e,r)=>{r(t)}))}static waitFor(t){return new vt(((e,r)=>{let a=0,u=0,f=!1;t.forEach((g=>{++a,g.next((()=>{++u,f&&u===a&&e()}),(_=>r(_)))})),f=!0,u===a&&e()}))}static or(t){let e=vt.resolve(!1);for(const r of t)e=e.next((a=>a?vt.resolve(a):r()));return e}static forEach(t,e){const r=[];return t.forEach(((a,u)=>{r.push(e.call(this,a,u))})),this.waitFor(r)}static mapArray(t,e){return new vt(((r,a)=>{const u=t.length,f=new Array(u);let g=0;for(let _=0;_<u;_++){const v=_;e(t[v]).next((T=>{f[v]=T,++g,g===u&&r(f)}),(T=>a(T)))}}))}static doWhile(t,e){return new vt(((r,a)=>{const u=()=>{t()===!0?e().next((()=>{u()}),a):r()};u()}))}}function L5(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Yc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ap.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=-1;function xp(n){return n==null}function Hm(n){return n===0&&1/n==-1/0}function M5(n){return typeof n=="number"&&Number.isInteger(n)&&!Hm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="";function D5(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=$T(t)),t=k5(n.get(e),t);return $T(t)}function k5(n,t){let e=t;const r=n.length;for(let a=0;a<r;a++){const u=n.charAt(a);switch(u){case"\0":e+="";break;case Vx:e+="";break;default:e+=u}}return e}function $T(n){return n+Vx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function fl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function zx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,e){this.comparator=t,this.root=e||Yn.EMPTY}insert(t,e){return new ln(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(t){return new ln(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return e+r.left.size;a<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,r)=>(t(e,r),!1)))}toString(){const t=[];return this.inorderTraversal(((e,r)=>(t.push(`${e}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tm(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tm(this.root,t,this.comparator,!1)}getReverseIterator(){return new tm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tm(this.root,t,this.comparator,!0)}}class tm{constructor(t,e,r,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=e?r(t.key,e):1,e&&a&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yn{constructor(t,e,r,a,u){this.key=t,this.value=e,this.color=r??Yn.RED,this.left=a??Yn.EMPTY,this.right=u??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,a,u){return new Yn(t??this.key,e??this.value,r??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let a=this;const u=r(t,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(t,e,r),null):u===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return Yn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Gt(27949);return t+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt(57766)}get value(){throw Gt(16141)}get color(){throw Gt(16727)}get left(){throw Gt(29726)}get right(){throw Gt(36894)}copy(t,e,r,a,u){return this}insert(t,e,r){return new Yn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.comparator=t,this.data=new ln(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,r)=>(t(e),!1)))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new XT(this.data.getIterator())}getIteratorFrom(t){return new XT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((r=>{e=e.add(r)})),e}isEqual(t){if(!(t instanceof kn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=r.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new kn(this.comparator);return e.data=t,e}}class XT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t){this.fields=t,t.sort(Qn.comparator)}static empty(){return new dr([])}unionWith(t){let e=new kn(Qn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new dr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Nc(this.fields,t.fields,((e,r)=>e.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Bx("Invalid base64 string: "+u):u}})(t);return new Xn(e)}static fromUint8Array(t){const e=(function(a){let u="";for(let f=0;f<a.length;++f)u+=String.fromCharCode(a[f]);return u})(t);return new Xn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _e(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xn.EMPTY_BYTE_STRING=new Xn("");const j5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rl(n){if(Me(!!n,39018),typeof n=="string"){let t=0;const e=j5.exec(n);if(Me(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vn(n.seconds),nanos:vn(n.nanos)}}function vn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function sl(n){return typeof n=="string"?Xn.fromBase64String(n):Xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="server_timestamp",Fx="__type__",Hx="__previous_value__",qx="__local_write_time__";function jv(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[Fx])==null?void 0:r.stringValue)===Ux}function Cp(n){const t=n.mapValue.fields[Hx];return jv(t)?Cp(t):t}function df(n){const t=rl(n.mapValue.fields[qx].timestampValue);return new Je(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(t,e,r,a,u,f,g,_,v,T){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=a,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=T}}const qm="(default)";class mf{constructor(t,e){this.projectId=t,this.database=e||qm}static empty(){return new mf("","")}get isDefaultDatabase(){return this.database===qm}isEqual(t){return t instanceof mf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="__type__",z5="__max__",em={mapValue:{}},Zx="__vector__",Gm="value";function al(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jv(n)?4:U5(n)?9007199254740991:B5(n)?10:11:Gt(28295,{value:n})}function la(n,t){if(n===t)return!0;const e=al(n);if(e!==al(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return df(n).isEqual(df(t));case 3:return(function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const f=rl(a.timestampValue),g=rl(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,u){return sl(a.bytesValue).isEqual(sl(u.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,u){return vn(a.geoPointValue.latitude)===vn(u.geoPointValue.latitude)&&vn(a.geoPointValue.longitude)===vn(u.geoPointValue.longitude)})(n,t);case 2:return(function(a,u){if("integerValue"in a&&"integerValue"in u)return vn(a.integerValue)===vn(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const f=vn(a.doubleValue),g=vn(u.doubleValue);return f===g?Hm(f)===Hm(g):isNaN(f)&&isNaN(g)}return!1})(n,t);case 9:return Nc(n.arrayValue.values||[],t.arrayValue.values||[],la);case 10:case 11:return(function(a,u){const f=a.mapValue.fields||{},g=u.mapValue.fields||{};if(QT(f)!==QT(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!la(f[_],g[_])))return!1;return!0})(n,t);default:return Gt(52216,{left:n})}}function pf(n,t){return(n.values||[]).find((e=>la(e,t)))!==void 0}function Lc(n,t){if(n===t)return 0;const e=al(n),r=al(t);if(e!==r)return _e(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return _e(n.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=vn(u.integerValue||u.doubleValue),_=vn(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(n,t);case 3:return JT(n.timestampValue,t.timestampValue);case 4:return JT(df(n),df(t));case 5:return ky(n.stringValue,t.stringValue);case 6:return(function(u,f){const g=sl(u),_=sl(f);return g.compareTo(_)})(n.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),_=f.split("/");for(let v=0;v<g.length&&v<_.length;v++){const T=_e(g[v],_[v]);if(T!==0)return T}return _e(g.length,_.length)})(n.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=_e(vn(u.latitude),vn(f.latitude));return g!==0?g:_e(vn(u.longitude),vn(f.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return tS(n.arrayValue,t.arrayValue);case 10:return(function(u,f){var O,D,M,z;const g=u.fields||{},_=f.fields||{},v=(O=g[Gm])==null?void 0:O.arrayValue,T=(D=_[Gm])==null?void 0:D.arrayValue,x=_e(((M=v==null?void 0:v.values)==null?void 0:M.length)||0,((z=T==null?void 0:T.values)==null?void 0:z.length)||0);return x!==0?x:tS(v,T)})(n.mapValue,t.mapValue);case 11:return(function(u,f){if(u===em.mapValue&&f===em.mapValue)return 0;if(u===em.mapValue)return 1;if(f===em.mapValue)return-1;const g=u.fields||{},_=Object.keys(g),v=f.fields||{},T=Object.keys(v);_.sort(),T.sort();for(let x=0;x<_.length&&x<T.length;++x){const O=ky(_[x],T[x]);if(O!==0)return O;const D=Lc(g[_[x]],v[T[x]]);if(D!==0)return D}return _e(_.length,T.length)})(n.mapValue,t.mapValue);default:throw Gt(23264,{he:e})}}function JT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return _e(n,t);const e=rl(n),r=rl(t),a=_e(e.seconds,r.seconds);return a!==0?a:_e(e.nanos,r.nanos)}function tS(n,t){const e=n.values||[],r=t.values||[];for(let a=0;a<e.length&&a<r.length;++a){const u=Lc(e[a],r[a]);if(u)return u}return _e(e.length,r.length)}function Mc(n){return jy(n)}function jy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const r=rl(e);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return sl(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Bt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let r="[",a=!0;for(const u of e.values||[])a?a=!1:r+=",",r+=jy(u);return r+"]"})(n.arrayValue):"mapValue"in n?(function(e){const r=Object.keys(e.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${jy(e.fields[f])}`;return a+"}"})(n.mapValue):Gt(61005,{value:n})}function pm(n){switch(al(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Cp(n);return t?16+pm(t):16;case 5:return 2*n.stringValue.length;case 6:return sl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,u)=>a+pm(u)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return fl(r.fields,((u,f)=>{a+=u.length+pm(f)})),a})(n.mapValue);default:throw Gt(13486,{value:n})}}function eS(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Vy(n){return!!n&&"integerValue"in n}function Vv(n){return!!n&&"arrayValue"in n}function nS(n){return!!n&&"nullValue"in n}function iS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gm(n){return!!n&&"mapValue"in n}function B5(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[Gx])==null?void 0:r.stringValue)===Zx}function ef(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return fl(n.mapValue.fields,((e,r)=>t.mapValue.fields[e]=ef(r))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ef(n.arrayValue.values[e]);return t}return{...n}}function U5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===z5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.value=t}static empty(){return new Fi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!gm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ef(e)}setAll(t){let e=Qn.emptyPath(),r={},a=[];t.forEach(((f,g)=>{if(!e.isImmediateParentOf(g)){const _=this.getFieldsMap(e);this.applyChanges(_,r,a),r={},a=[],e=g.popLast()}f?r[g.lastSegment()]=ef(f):a.push(g.lastSegment())}));const u=this.getFieldsMap(e);this.applyChanges(u,r,a)}delete(t){const e=this.field(t.popLast());gm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return la(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=e.mapValue.fields[t.get(r)];gm(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,r){fl(e,((a,u)=>t[a]=u));for(const a of r)delete t[a]}clone(){return new Fi(ef(this.value))}}function Kx(n){const t=[];return fl(n.fields,((e,r)=>{const a=new Qn([e]);if(gm(r)){const u=Kx(r.mapValue).fields;if(u.length===0)t.push(a);else for(const f of u)t.push(a.child(f))}else t.push(a)})),new dr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,e,r,a,u,f,g){this.key=t,this.documentType=e,this.version=r,this.readTime=a,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new ui(t,0,$t.min(),$t.min(),$t.min(),Fi.empty(),0)}static newFoundDocument(t,e,r,a){return new ui(t,1,e,$t.min(),r,a,0)}static newNoDocument(t,e){return new ui(t,2,e,$t.min(),$t.min(),Fi.empty(),0)}static newUnknownDocument(t,e){return new ui(t,3,e,$t.min(),$t.min(),Fi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual($t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,e){this.position=t,this.inclusive=e}}function rS(n,t,e){let r=0;for(let a=0;a<n.position.length;a++){const u=t[a],f=n.position[a];if(u.field.isKeyField()?r=Bt.comparator(Bt.fromName(f.referenceValue),e.key):r=Lc(f,e.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!la(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,e="asc"){this.field=t,this.dir=e}}function F5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{}class Nn extends Wx{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new q5(t,e,r):e==="array-contains"?new K5(t,r):e==="in"?new W5(t,r):e==="not-in"?new Y5(t,r):e==="array-contains-any"?new $5(t,r):new Nn(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new G5(t,r):new Z5(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Lc(e,this.value)):e!==null&&al(this.value)===al(e)&&this.matchesComparison(Lc(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends Wx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Es(t,e)}matches(t){return Yx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yx(n){return n.op==="and"}function $x(n){return H5(n)&&Yx(n)}function H5(n){for(const t of n.filters)if(t instanceof Es)return!1;return!0}function zy(n){if(n instanceof Nn)return n.field.canonicalString()+n.op.toString()+Mc(n.value);if($x(n))return n.filters.map((t=>zy(t))).join(",");{const t=n.filters.map((e=>zy(e))).join(",");return`${n.op}(${t})`}}function Qx(n,t){return n instanceof Nn?(function(r,a){return a instanceof Nn&&r.op===a.op&&r.field.isEqual(a.field)&&la(r.value,a.value)})(n,t):n instanceof Es?(function(r,a){return a instanceof Es&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((u,f,g)=>u&&Qx(f,a.filters[g])),!0):!1})(n,t):void Gt(19439)}function Xx(n){return n instanceof Nn?(function(e){return`${e.field.canonicalString()} ${e.op} ${Mc(e.value)}`})(n):n instanceof Es?(function(e){return e.op.toString()+" {"+e.getFilters().map(Xx).join(" ,")+"}"})(n):"Filter"}class q5 extends Nn{constructor(t,e,r){super(t,e,r),this.key=Bt.fromName(r.referenceValue)}matches(t){const e=Bt.comparator(t.key,this.key);return this.matchesComparison(e)}}class G5 extends Nn{constructor(t,e){super(t,"in",e),this.keys=Jx("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Z5 extends Nn{constructor(t,e){super(t,"not-in",e),this.keys=Jx("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Jx(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((r=>Bt.fromName(r.referenceValue)))}class K5 extends Nn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Vv(e)&&pf(e.arrayValue,this.value)}}class W5 extends Nn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&pf(this.value.arrayValue,e)}}class Y5 extends Nn{constructor(t,e){super(t,"not-in",e)}matches(t){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!pf(this.value.arrayValue,e)}}class $5 extends Nn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Vv(e)||!e.arrayValue.values)&&e.arrayValue.values.some((r=>pf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(t,e=null,r=[],a=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=a,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function aS(n,t=null,e=[],r=[],a=null,u=null,f=null){return new Q5(n,t,e,r,a,u,f)}function zv(n){const t=Xt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((r=>zy(r))).join(","),e+="|ob:",e+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),xp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((r=>Mc(r))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((r=>Mc(r))).join(",")),t.Te=e}return t.Te}function Bv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!F5(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Qx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!sS(n.startAt,t.startAt)&&sS(n.endAt,t.endAt)}function By(n){return Bt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,e=null,r=[],a=[],u=null,f="F",g=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=a,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X5(n,t,e,r,a,u,f,g){return new Nf(n,t,e,r,a,u,f,g)}function Uv(n){return new Nf(n)}function oS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tC(n){return n.collectionGroup!==null}function nf(n){const t=Xt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),e.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new kn(Qn.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(t).forEach((u=>{e.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Km(u,r))})),e.has(Qn.keyField().canonicalString())||t.Ie.push(new Km(Qn.keyField(),r))}return t.Ie}function ia(n){const t=Xt(n);return t.Ee||(t.Ee=J5(t,nf(n))),t.Ee}function J5(n,t){if(n.limitType==="F")return aS(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const u=a.dir==="desc"?"asc":"desc";return new Km(a.field,u)}));const e=n.endAt?new Zm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zm(n.startAt.position,n.startAt.inclusive):null;return aS(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Uy(n,t){const e=n.filters.concat([t]);return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Fy(n,t,e){return new Nf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Rp(n,t){return Bv(ia(n),ia(t))&&n.limitType===t.limitType}function eC(n){return`${zv(ia(n))}|lt:${n.limitType}`}function mc(n){return`Query(target=${(function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map((a=>Xx(a))).join(", ")}]`),xp(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map((a=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(a))).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((a=>Mc(a))).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((a=>Mc(a))).join(",")),`Target(${r})`})(ia(n))}; limitType=${n.limitType})`}function Ip(n,t){return t.isFoundDocument()&&(function(r,a){const u=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Bt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(n,t)&&(function(r,a){for(const u of nf(r))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0})(n,t)&&(function(r,a){for(const u of r.filters)if(!u.matches(a))return!1;return!0})(n,t)&&(function(r,a){return!(r.startAt&&!(function(f,g,_){const v=rS(f,g,_);return f.inclusive?v<=0:v<0})(r.startAt,nf(r),a)||r.endAt&&!(function(f,g,_){const v=rS(f,g,_);return f.inclusive?v>=0:v>0})(r.endAt,nf(r),a))})(n,t)}function t4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nC(n){return(t,e)=>{let r=!1;for(const a of nf(n)){const u=e4(a,t,e);if(u!==0)return u;r=r||a.field.isKeyField()}return 0}}function e4(n,t,e){const r=n.field.isKeyField()?Bt.comparator(t.key,e.key):(function(u,f,g){const _=f.data.field(u),v=g.data.field(u);return _!==null&&v!==null?Lc(_,v):Gt(42886)})(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Gt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[a,u]of r)if(this.equalsFn(a,t))return u}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],t))return void(a[u]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[e]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){fl(this.inner,((e,r)=>{for(const[a,u]of r)t(a,u)}))}isEmpty(){return zx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new ln(Bt.comparator);function Xa(){return n4}const iC=new ln(Bt.comparator);function Kh(...n){let t=iC;for(const e of n)t=t.insert(e.key,e);return t}function rC(n){let t=iC;return n.forEach(((e,r)=>t=t.insert(e,r.overlayedDocument))),t}function Xl(){return rf()}function sC(){return rf()}function rf(){return new wu((n=>n.toString()),((n,t)=>n.isEqual(t)))}const i4=new ln(Bt.comparator),r4=new kn(Bt.comparator);function ye(...n){let t=r4;for(const e of n)t=t.add(e);return t}const s4=new kn(_e);function a4(){return s4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hm(t)?"-0":t}}function aC(n){return{integerValue:""+n}}function o4(n,t){return M5(t)?aC(t):Fv(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this._=void 0}}function l4(n,t,e){return n instanceof Wm?(function(a,u){const f={fields:{[Fx]:{stringValue:Ux},[qx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&jv(u)&&(u=Cp(u)),u&&(f.fields[Hx]=u),{mapValue:f}})(e,t):n instanceof gf?lC(n,t):n instanceof _f?uC(n,t):(function(a,u){const f=oC(a,u),g=lS(f)+lS(a.Ae);return Vy(f)&&Vy(a.Ae)?aC(g):Fv(a.serializer,g)})(n,t)}function u4(n,t,e){return n instanceof gf?lC(n,t):n instanceof _f?uC(n,t):e}function oC(n,t){return n instanceof Ym?(function(r){return Vy(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Wm extends Op{}class gf extends Op{constructor(t){super(),this.elements=t}}function lC(n,t){const e=cC(t);for(const r of n.elements)e.some((a=>la(a,r)))||e.push(r);return{arrayValue:{values:e}}}class _f extends Op{constructor(t){super(),this.elements=t}}function uC(n,t){let e=cC(t);for(const r of n.elements)e=e.filter((a=>!la(a,r)));return{arrayValue:{values:e}}}class Ym extends Op{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function lS(n){return vn(n.integerValue||n.doubleValue)}function cC(n){return Vv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function c4(n,t){return n.field.isEqual(t.field)&&(function(r,a){return r instanceof gf&&a instanceof gf||r instanceof _f&&a instanceof _f?Nc(r.elements,a.elements,la):r instanceof Ym&&a instanceof Ym?la(r.Ae,a.Ae):r instanceof Wm&&a instanceof Wm})(n.transform,t.transform)}class h4{constructor(t,e){this.version=t,this.transformResults=e}}class Hr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Hr}static exists(t){return new Hr(void 0,t)}static updateTime(t){return new Hr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _m(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Pp{}function hC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Hv(n.key,Hr.none()):new Lf(n.key,n.data,Hr.none());{const e=n.data,r=Fi.empty();let a=new kn(Qn.comparator);for(let u of t.fields)if(!a.has(u)){let f=e.field(u);f===null&&u.length>1&&(u=u.popLast(),f=e.field(u)),f===null?r.delete(u):r.set(u,f),a=a.add(u)}return new dl(n.key,r,new dr(a.toArray()),Hr.none())}}function f4(n,t,e){n instanceof Lf?(function(a,u,f){const g=a.value.clone(),_=cS(a.fieldTransforms,u,f.transformResults);g.setAll(_),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(n,t,e):n instanceof dl?(function(a,u,f){if(!_m(a.precondition,u))return void u.convertToUnknownDocument(f.version);const g=cS(a.fieldTransforms,u,f.transformResults),_=u.data;_.setAll(fC(a)),_.setAll(g),u.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(n,t,e):(function(a,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,e)}function sf(n,t,e,r){return n instanceof Lf?(function(u,f,g,_){if(!_m(u.precondition,f))return g;const v=u.value.clone(),T=hS(u.fieldTransforms,_,f);return v.setAll(T),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(n,t,e,r):n instanceof dl?(function(u,f,g,_){if(!_m(u.precondition,f))return g;const v=hS(u.fieldTransforms,_,f),T=f.data;return T.setAll(fC(u)),T.setAll(v),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(n,t,e,r):(function(u,f,g){return _m(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(n,t,e)}function d4(n,t){let e=null;for(const r of n.fieldTransforms){const a=t.data.field(r.field),u=oC(r.transform,a||null);u!=null&&(e===null&&(e=Fi.empty()),e.set(r.field,u))}return e||null}function uS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Nc(r,a,((u,f)=>c4(u,f)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Lf extends Pp{constructor(t,e,r,a=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class dl extends Pp{constructor(t,e,r,a,u=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fC(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}})),t}function cS(n,t,e){const r=new Map;Me(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const u=n[a],f=u.transform,g=t.data.field(u.field);r.set(u.field,u4(f,g,e[a]))}return r}function hS(n,t,e){const r=new Map;for(const a of n){const u=a.transform,f=e.data.field(a.field);r.set(a.field,l4(u,f,t))}return r}class Hv extends Pp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m4 extends Pp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(t,e,r,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(t.key)&&f4(u,t,r[a])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=sf(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=sf(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=sC();return this.mutations.forEach((a=>{const u=t.get(a.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=e.has(a.key)?null:g;const _=hC(f,g);_!==null&&r.set(a.key,_),f.isValidDocument()||f.convertToNoDocument($t.min())})),r}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),ye())}isEqual(t){return this.batchId===t.batchId&&Nc(this.mutations,t.mutations,((e,r)=>uS(e,r)))&&Nc(this.baseMutations,t.baseMutations,((e,r)=>uS(e,r)))}}class qv{constructor(t,e,r,a){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=a}static from(t,e,r){Me(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let a=(function(){return i4})();const u=t.mutations;for(let f=0;f<u.length;f++)a=a.insert(u[f].key,r[f].version);return new qv(t,e,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,Te;function y4(n){switch(n){case _t.OK:return Gt(64938);case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0;default:return Gt(15467,{code:n})}}function dC(n){if(n===void 0)return Qa("GRPC error has no .code"),_t.UNKNOWN;switch(n){case Pn.OK:return _t.OK;case Pn.CANCELLED:return _t.CANCELLED;case Pn.UNKNOWN:return _t.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return _t.INTERNAL;case Pn.UNAVAILABLE:return _t.UNAVAILABLE;case Pn.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Pn.NOT_FOUND:return _t.NOT_FOUND;case Pn.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Pn.ABORTED:return _t.ABORTED;case Pn.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Pn.DATA_LOSS:return _t.DATA_LOSS;default:return Gt(39323,{code:n})}}(Te=Pn||(Pn={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Jo([4294967295,4294967295],0);function fS(n){const t=v4().encode(n),e=new Rx;return e.update(t),new Uint8Array(e.digest())}function dS(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Jo([e,r],0),new Jo([a,u],0)]}class Gv{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Wh(`Invalid padding: ${e}`);if(r<0)throw new Wh(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Wh(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Wh(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Jo.fromNumber(this.ge)}ye(t,e,r){let a=t.add(e.multiply(Jo.fromNumber(r)));return a.compare(b4)===1&&(a=new Jo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=fS(t),[r,a]=dS(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,a,u);if(!this.we(f))return!1}return!0}static create(t,e,r){const a=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Gv(u,a,e);return r.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const e=fS(t),[r,a]=dS(e);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,a,u);this.Se(f)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Wh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,e,r,a,u){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const a=new Map;return a.set(t,Mf.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Np($t.min(),a,new ln(_e),Xa(),ye())}}class Mf{constructor(t,e,r,a,u){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new Mf(r,e,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,e,r,a){this.be=t,this.removedTargetIds=e,this.key=r,this.De=a}}class mC{constructor(t,e){this.targetId=t,this.Ce=e}}class pC{constructor(t,e,r=Xn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=a}}class mS{constructor(){this.ve=0,this.Fe=pS(),this.Me=Xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=ye(),e=ye(),r=ye();return this.Fe.forEach(((a,u)=>{switch(u){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:r=r.add(a);break;default:Gt(38017,{changeType:u})}})),new Mf(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=pS()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class E4{constructor(t){this.Ge=t,this.ze=new Map,this.je=Xa(),this.Je=nm(),this.He=nm(),this.Ye=new ln(_e)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:Gt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((r,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,r=t.Ce.count,a=this.ot(e);if(a){const u=a.target;if(By(u))if(r===0){const f=new Bt(u.path);this.et(e,f,ui.newNoDocument(f,$t.min()))}else Me(r===1,20013,{expectedCount:r});else{const f=this._t(e);if(f!==r){const g=this.ut(t),_=g?this.ct(g,t,f):1;if(_!==0){this.it(e);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,v)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:u=0}=e;let f,g;try{f=sl(r).toUint8Array()}catch(_){if(_ instanceof Bx)return Pc("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Gv(f,a,u)}catch(_){return Pc(_ instanceof Wh?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let a=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(e,u,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&By(g.target)){const _=new Bt(g.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,ui.newNoDocument(_,t))}u.Be&&(e.set(f,u.ke()),u.qe())}}));let r=ye();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const a=new Np(t,e,this.Ye,this.je,r);return this.je=Xa(),this.Je=nm(),this.He=nm(),this.Ye=new ln(_e),a}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new mS,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new kn(_e),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new kn(_e),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Pt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mS),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function nm(){return new ln(Bt.comparator)}function pS(){return new ln(Bt.comparator)}const w4={asc:"ASCENDING",desc:"DESCENDING"},T4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S4={and:"AND",or:"OR"};class A4{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Hy(n,t){return n.useProto3Json||xp(t)?t:{value:t}}function $m(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function x4(n,t){return $m(n,t.toTimestamp())}function ra(n){return Me(!!n,49232),$t.fromTimestamp((function(e){const r=rl(e);return new Je(r.seconds,r.nanos)})(n))}function Zv(n,t){return qy(n,t).canonicalString()}function qy(n,t){const e=(function(a){return new Ke(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function _C(n){const t=Ke.fromString(n);return Me(wC(t),10190,{key:t.toString()}),t}function Gy(n,t){return Zv(n.databaseId,t.path)}function ey(n,t){const e=_C(t);if(e.get(1)!==n.databaseId.projectId)throw new It(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new It(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Bt(vC(e))}function yC(n,t){return Zv(n.databaseId,t)}function C4(n){const t=_C(n);return t.length===4?Ke.emptyPath():vC(t)}function Zy(n){return new Ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vC(n){return Me(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gS(n,t,e){return{name:Gy(n,t),fields:e.value.mapValue.fields}}function R4(n,t){let e;if("targetChange"in t){t.targetChange;const r=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Gt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(Me(T===void 0||typeof T=="string",58123),Xn.fromBase64String(T||"")):(Me(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xn.fromUint8Array(T||new Uint8Array))})(n,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(v){const T=v.code===void 0?_t.UNKNOWN:dC(v.code);return new It(T,v.message||"")})(f);e=new pC(r,a,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=ey(n,r.document.name),u=ra(r.document.updateTime),f=r.document.createTime?ra(r.document.createTime):$t.min(),g=new Fi({mapValue:{fields:r.document.fields}}),_=ui.newFoundDocument(a,u,f,g),v=r.targetIds||[],T=r.removedTargetIds||[];e=new ym(v,T,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=ey(n,r.document),u=r.readTime?ra(r.readTime):$t.min(),f=ui.newNoDocument(a,u),g=r.removedTargetIds||[];e=new ym([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=ey(n,r.document),u=r.removedTargetIds||[];e=new ym([],u,a,null)}else{if(!("filter"in t))return Gt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:u}=r,f=new _4(a,u),g=r.targetId;e=new mC(g,f)}}return e}function I4(n,t){let e;if(t instanceof Lf)e={update:gS(n,t.key,t.value)};else if(t instanceof Hv)e={delete:Gy(n,t.key)};else if(t instanceof dl)e={update:gS(n,t.key,t.data),updateMask:V4(t.fieldMask)};else{if(!(t instanceof m4))return Gt(16599,{Vt:t.type});e={verify:Gy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof Wm)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof gf)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof _f)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ym)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Gt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(e.currentDocument=(function(a,u){return u.updateTime!==void 0?{updateTime:x4(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Gt(27497)})(n,t.precondition)),e}function O4(n,t){return n&&n.length>0?(Me(t!==void 0,14353),n.map((e=>(function(a,u){let f=a.updateTime?ra(a.updateTime):ra(u);return f.isEqual($t.min())&&(f=ra(u)),new h4(f,a.transformResults||[])})(e,t)))):[]}function P4(n,t){return{documents:[yC(n,t.path)]}}function N4(n,t){const e={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=yC(n,a);const u=(function(v){if(v.length!==0)return EC(Es.create(v,"and"))})(t.filters);u&&(e.structuredQuery.where=u);const f=(function(v){if(v.length!==0)return v.map((T=>(function(O){return{field:pc(O.field),direction:D4(O.dir)}})(T)))})(t.orderBy);f&&(e.structuredQuery.orderBy=f);const g=Hy(n,t.limit);return g!==null&&(e.structuredQuery.limit=g),t.startAt&&(e.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:e,parent:a}}function L4(n){let t=C4(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let a=null;if(r>0){Me(r===1,65062);const T=e.from[0];T.allDescendants?a=T.collectionId:t=t.child(T.collectionId)}let u=[];e.where&&(u=(function(x){const O=bC(x);return O instanceof Es&&$x(O)?O.getFilters():[O]})(e.where));let f=[];e.orderBy&&(f=(function(x){return x.map((O=>(function(M){return new Km(gc(M.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(O)))})(e.orderBy));let g=null;e.limit&&(g=(function(x){let O;return O=typeof x=="object"?x.value:x,xp(O)?null:O})(e.limit));let _=null;e.startAt&&(_=(function(x){const O=!!x.before,D=x.values||[];return new Zm(D,O)})(e.startAt));let v=null;return e.endAt&&(v=(function(x){const O=!x.before,D=x.values||[];return new Zm(D,O)})(e.endAt)),X5(t,a,f,u,g,"F",_,v)}function M4(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function bC(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=gc(e.unaryFilter.field);return Nn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=gc(e.unaryFilter.field);return Nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=gc(e.unaryFilter.field);return Nn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=gc(e.unaryFilter.field);return Nn.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gt(61313);default:return Gt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Nn.create(gc(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gt(58110);default:return Gt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Es.create(e.compositeFilter.filters.map((r=>bC(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Gt(1026)}})(e.compositeFilter.op))})(n):Gt(30097,{filter:n})}function D4(n){return w4[n]}function k4(n){return T4[n]}function j4(n){return S4[n]}function pc(n){return{fieldPath:n.canonicalString()}}function gc(n){return Qn.fromServerFormat(n.fieldPath)}function EC(n){return n instanceof Nn?(function(e){if(e.op==="=="){if(iS(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NAN"}};if(nS(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(iS(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NAN"}};if(nS(e.value))return{unaryFilter:{field:pc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(e.field),op:k4(e.op),value:e.value}}})(n):n instanceof Es?(function(e){const r=e.getFilters().map((a=>EC(a)));return r.length===1?r[0]:{compositeFilter:{op:j4(e.op),filters:r}}})(n):Gt(54877,{filter:n})}function V4(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function wC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,e,r,a,u=$t.min(),f=$t.min(),g=Xn.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new $o(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(t){this.yt=t}}function B4(n){const t=L4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.Cn=new F4}addToCollectionParentIndex(t,e){return this.Cn.add(e),vt.resolve()}getCollectionParents(t,e){return vt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return vt.resolve()}deleteFieldIndex(t,e){return vt.resolve()}deleteAllFieldIndexes(t){return vt.resolve()}createTargetIndexes(t,e){return vt.resolve()}getDocumentsMatchingTarget(t,e){return vt.resolve(null)}getIndexType(t,e){return vt.resolve(0)}getFieldIndexes(t,e){return vt.resolve([])}getNextCollectionGroupToUpdate(t){return vt.resolve(null)}getMinOffset(t,e){return vt.resolve(il.min())}getMinOffsetFromCollectionGroup(t,e){return vt.resolve(il.min())}updateCollectionGroup(t,e,r){return vt.resolve()}updateIndexEntries(t,e){return vt.resolve()}}class F4{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e]||new kn(Ke.comparator),u=!a.has(r);return this.index[e]=a.add(r),u}has(t){const e=t.lastSegment(),r=t.popLast(),a=this.index[e];return a&&a.has(r)}getEntries(t){return(this.index[t]||new kn(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TC=41943040;class Bi{static withCacheSize(t){return new Bi(t,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi.DEFAULT_COLLECTION_PERCENTILE=10,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bi.DEFAULT=new Bi(TC,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bi.DISABLED=new Bi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Dc(0)}static cr(){return new Dc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="LruGarbageCollector",H4=1048576;function vS([n,t],[e,r]){const a=_e(n,e);return a===0?_e(t,r):a}class q4{constructor(t){this.Ir=t,this.buffer=new kn(vS),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();vS(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class G4{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Pt(yS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Yc(e)?Pt(yS,"Ignoring IndexedDB error during garbage collection: ",e):await Wc(e)}await this.Vr(3e5)}))}}class Z4{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((r=>Math.floor(e/100*r)))}nthSequenceNumber(t,e){if(e===0)return vt.resolve(Ap.ce);const r=new q4(e);return this.mr.forEachTarget(t,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(_S)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_S):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,a,u,f,g,_,v;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),a=this.params.maximumSequenceNumbersToCollect):a=x,f=Date.now(),this.nthSequenceNumber(t,a)))).next((x=>(r=x,g=Date.now(),this.removeTargets(t,r,e)))).next((x=>(u=x,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((x=>(v=Date.now(),dc()<=ge.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${a} in `+(g-f)+`ms
	Removed ${u} targets in `+(_-g)+`ms
	Removed ${x} documents in `+(v-_)+`ms
Total Duration: ${v-T}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:x}))))}}function K4(n,t){return new Z4(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.changes=new wu((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ui.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?vt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t,e,r,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(r!==null&&sf(r.mutation,a,dr.empty(),Je.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.getLocalViewOfDocuments(t,r,ye()).next((()=>r))))}getLocalViewOfDocuments(t,e,r=ye()){const a=Xl();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,r).next((u=>{let f=Kh();return u.forEach(((g,_)=>{f=f.insert(g,_.overlayedDocument)})),f}))))}getOverlayedDocuments(t,e){const r=Xl();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,ye())))}populateOverlays(t,e,r){const a=[];return r.forEach((u=>{e.has(u)||a.push(u)})),this.documentOverlayCache.getOverlays(t,a).next((u=>{u.forEach(((f,g)=>{e.set(f,g)}))}))}computeViews(t,e,r,a){let u=Xa();const f=rf(),g=(function(){return rf()})();return e.forEach(((_,v)=>{const T=r.get(v.key);a.has(v.key)&&(T===void 0||T.mutation instanceof dl)?u=u.insert(v.key,v):T!==void 0?(f.set(v.key,T.mutation.getFieldMask()),sf(T.mutation,v,T.mutation.getFieldMask(),Je.now())):f.set(v.key,dr.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((v,T)=>f.set(v,T))),e.forEach(((v,T)=>g.set(v,new Y4(T,f.get(v)??null)))),g)))}recalculateAndSaveOverlays(t,e){const r=rf();let a=new ln(((f,g)=>f-g)),u=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((f=>{for(const g of f)g.keys().forEach((_=>{const v=e.get(_);if(v===null)return;let T=r.get(_)||dr.empty();T=g.applyToLocalView(v,T),r.set(_,T);const x=(a.get(g.batchId)||ye()).add(_);a=a.insert(g.batchId,x)}))})).next((()=>{const f=[],g=a.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,T=_.value,x=sC();T.forEach((O=>{if(!u.has(O)){const D=hC(e.get(O),r.get(O));D!==null&&x.set(O,D),u=u.add(O)}})),f.push(this.documentOverlayCache.saveOverlays(t,v,x))}return vt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,e,r,a){return(function(f){return Bt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):tC(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,a):this.getDocumentsMatchingCollectionQuery(t,e,r,a)}getNextDocuments(t,e,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,a).next((u=>{const f=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,a-u.size):vt.resolve(Xl());let g=ff,_=u;return f.next((v=>vt.forEach(v,((T,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),u.get(T)?vt.resolve():this.remoteDocumentCache.getEntry(t,T).next((O=>{_=_.insert(T,O)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,_,v,ye()))).next((T=>({batchId:g,changes:rC(T)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Bt(e)).next((r=>{let a=Kh();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,r,a){const u=e.collectionGroup;let f=Kh();return this.indexManager.getCollectionParents(t,u).next((g=>vt.forEach(g,(_=>{const v=(function(x,O){return new Nf(O,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(e,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,r,a).next((T=>{T.forEach(((x,O)=>{f=f.insert(x,O)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,e,r,a){let u;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,u,a)))).next((f=>{u.forEach(((_,v)=>{const T=v.getKey();f.get(T)===null&&(f=f.insert(T,ui.newInvalidDocument(T)))}));let g=Kh();return f.forEach(((_,v)=>{const T=u.get(_);T!==void 0&&sf(T.mutation,v,dr.empty(),Je.now()),Ip(e,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return vt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:ra(a.createTime)}})(e)),vt.resolve()}getNamedQuery(t,e){return vt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:B4(a.bundledQuery),readTime:ra(a.readTime)}})(e)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.overlays=new ln(Bt.comparator),this.qr=new Map}getOverlay(t,e){return vt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Xl();return vt.forEach(e,(a=>this.getOverlay(t,a).next((u=>{u!==null&&r.set(a,u)})))).next((()=>r))}saveOverlays(t,e,r){return r.forEach(((a,u)=>{this.St(t,e,u)})),vt.resolve()}removeOverlaysForBatchId(t,e,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),vt.resolve()}getOverlaysForCollection(t,e,r){const a=Xl(),u=e.length+1,f=new Bt(e.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===u&&_.largestBatchId>r&&a.set(_.getKey(),_)}return vt.resolve(a)}getOverlaysForCollectionGroup(t,e,r,a){let u=new ln(((v,T)=>v-T));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>r){let T=u.get(v.largestBatchId);T===null&&(T=Xl(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const g=Xl(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,T)=>g.set(v,T))),!(g.size()>=a)););return vt.resolve(g)}St(t,e,r){const a=this.overlays.get(r.key);if(a!==null){const f=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new g4(e,r));let u=this.qr.get(e);u===void 0&&(u=ye(),this.qr.set(e,u)),this.qr.set(e,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.sessionToken=Xn.EMPTY_BYTE_STRING}getSessionToken(t){return vt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.Qr=new kn(Gn.$r),this.Ur=new kn(Gn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new Gn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach((r=>this.addReference(r,e)))}removeReference(t,e){this.Gr(new Gn(t,e))}zr(t,e){t.forEach((r=>this.removeReference(r,e)))}jr(t){const e=new Bt(new Ke([])),r=new Gn(e,t),a=new Gn(e,t+1),u=[];return this.Ur.forEachInRange([r,a],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Bt(new Ke([])),r=new Gn(e,t),a=new Gn(e,t+1);let u=ye();return this.Ur.forEachInRange([r,a],(f=>{u=u.add(f.key)})),u}containsKey(t){const e=new Gn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class Gn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Bt.comparator(t.key,e.key)||_e(t.Yr,e.Yr)}static Kr(t,e){return _e(t.Yr,e.Yr)||Bt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new kn(Gn.$r)}checkEmpty(t){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,a){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new p4(u,e,r,a);this.mutationQueue.push(f);for(const g of a)this.Zr=this.Zr.add(new Gn(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return vt.resolve(f)}lookupMutationBatch(t,e){return vt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,a=this.ei(r),u=a<0?0:a;return vt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?kv:this.tr-1)}getAllMutationBatches(t){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Gn(e,0),a=new Gn(e,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,a],(f=>{const g=this.Xr(f.Yr);u.push(g)})),vt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new kn(_e);return e.forEach((a=>{const u=new Gn(a,0),f=new Gn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),vt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,a=r.length+1;let u=r;Bt.isDocumentKey(u)||(u=u.child(""));const f=new Gn(new Bt(u),0);let g=new kn(_e);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===a&&(g=g.add(_.Yr)),!0)}),f),vt.resolve(this.ti(g))}ti(t){const e=[];return t.forEach((r=>{const a=this.Xr(r);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Me(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return vt.forEach(e.mutations,(a=>{const u=new Gn(a.key,e.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,e){const r=new Gn(e,0),a=this.Zr.firstAfterOrEqual(r);return vt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,vt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(t){this.ri=t,this.docs=(function(){return new ln(Bt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,a=this.docs.get(r),u=a?a.size:0,f=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return vt.resolve(r?r.document.mutableCopy():ui.newInvalidDocument(e))}getEntries(t,e){let r=Xa();return e.forEach((a=>{const u=this.docs.get(a);r=r.insert(a,u?u.document.mutableCopy():ui.newInvalidDocument(a))})),vt.resolve(r)}getDocumentsMatchingQuery(t,e,r,a){let u=Xa();const f=e.path,g=new Bt(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:T}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||O5(I5(T),r)<=0||(a.has(T.key)||Ip(e,T))&&(u=u.insert(T.key,T.mutableCopy()))}return vt.resolve(u)}getAllFromCollectionGroup(t,e,r,a){Gt(9500)}ii(t,e){return vt.forEach(this.docs,(r=>e(r)))}newChangeBuffer(t){return new nj(this)}getSize(t){return vt.resolve(this.size)}}class nj extends W4{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(r)})),vt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(t){this.persistence=t,this.si=new wu((e=>zv(e)),Bv),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.oi=0,this._i=new Kv,this.targetCount=0,this.ai=Dc.ur()}forEachTarget(t,e){return this.si.forEach(((r,a)=>e(a))),vt.resolve()}getLastRemoteSnapshotVersion(t){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return vt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),vt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Dc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,vt.resolve()}updateTargetData(t,e){return this.Pr(e),vt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,vt.resolve()}removeTargets(t,e,r){let a=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=e&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),a++)})),vt.waitFor(u).next((()=>a))}getTargetCount(t){return vt.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return vt.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),vt.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const a=this.persistence.referenceDelegate,u=[];return a&&e.forEach((f=>{u.push(a.markPotentiallyOrphaned(t,f))})),vt.waitFor(u)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),vt.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return vt.resolve(r)}containsKey(t,e){return vt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,e){this.ui={},this.overlays={},this.ci=new Ap(0),this.li=!1,this.li=!0,this.hi=new J4,this.referenceDelegate=t(this),this.Pi=new ij(this),this.indexManager=new U4,this.remoteDocumentCache=(function(a){return new ej(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new z4(e),this.Ii=new Q4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new X4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new tj(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){Pt("MemoryPersistence","Starting transaction:",t);const a=new rj(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((u=>this.referenceDelegate.di(a).next((()=>u)))).toPromise().then((u=>(a.raiseOnCommittedEvent(),u)))}Ai(t,e){return vt.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,e))))}}class rj extends N5{constructor(t){super(),this.currentSequenceNumber=t}}class Wv{constructor(t){this.persistence=t,this.Ri=new Kv,this.Vi=null}static mi(t){return new Wv(t)}get fi(){if(this.Vi)return this.Vi;throw Gt(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),vt.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),vt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),vt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.fi,(r=>{const a=Bt.fromPath(r);return this.gi(t,a).next((u=>{u||e.removeEntry(a,$t.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return vt.or([()=>vt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Qm{constructor(t,e){this.persistence=t,this.pi=new wu((r=>D5(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=K4(this,e)}static mi(t,e){return new Qm(t,e)}Ei(){}di(t){return vt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>e.next((a=>r+a))))}wr(t){let e=0;return this.pr(t,(r=>{e++})).next((()=>e))}pr(t,e){return vt.forEach(this.pi,((r,a)=>this.br(t,r,a).next((u=>u?vt.resolve():e(a)))))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.ii(t,(f=>this.br(t,f,e).next((g=>{g||(r++,u.removeEntry(f,$t.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),vt.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),vt.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),vt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),vt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=pm(t.data.value)),e}br(t,e,r){return vt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return vt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t,e,r,a){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=a}static As(t,e){let r=ye(),a=ye();for(const u of e.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new Yv(t,e.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NL()?8:L5(hi())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,a){const u={result:null};return this.ys(t,e).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,e,a,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new sj;return this.Ss(t,e,f).next((g=>{if(u.result=g,this.Vs)return this.bs(t,e,f,g.size)}))})).next((()=>u.result))}bs(t,e,r,a){return r.documentReadCount<this.fs?(dc()<=ge.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",mc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),vt.resolve()):(dc()<=ge.DEBUG&&Pt("QueryEngine","Query:",mc(e),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(dc()<=ge.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",mc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ia(e))):vt.resolve())}ys(t,e){if(oS(e))return vt.resolve(null);let r=ia(e);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Fy(e,null,"F"),r=ia(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=ye(...u);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,r).next((_=>{const v=this.Ds(e,g);return this.Cs(e,v,f,_.readTime)?this.ys(t,Fy(e,null,"F")):this.vs(t,v,e,_)}))))})))))}ws(t,e,r,a){return oS(e)||a.isEqual($t.min())?vt.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(e,u);return this.Cs(e,f,r,a)?vt.resolve(null):(dc()<=ge.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),mc(e)),this.vs(t,f,e,R5(a,ff)).next((g=>g)))}))}Ds(t,e){let r=new kn(nC(t));return e.forEach(((a,u)=>{Ip(t,u)&&(r=r.add(u))})),r}Cs(t,e,r,a){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const u=t.limitType==="F"?e.last():e.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}Ss(t,e,r){return dc()<=ge.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",mc(e)),this.ps.getDocumentsMatchingQuery(t,e,il.min(),r)}vs(t,e,r,a){return this.ps.getDocumentsMatchingQuery(t,r,a).next((u=>(e.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="LocalStore",oj=3e8;class lj{constructor(t,e,r,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new ln(_e),this.xs=new wu((u=>zv(u)),Bv),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function uj(n,t,e,r){return new lj(n,t,e,r)}async function AC(n,t){const e=Xt(n);return await e.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return e.mutationQueue.getAllMutationBatches(r).next((u=>(a=u,e.Bs(t),e.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let _=ye();for(const v of a){f.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}for(const v of u){g.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}return e.localDocuments.getDocuments(r,_).next((v=>({Ls:v,removedBatchIds:f,addedBatchIds:g})))}))}))}function cj(n,t){const e=Xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),u=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,T){const x=v.batch,O=x.keys();let D=vt.resolve();return O.forEach((M=>{D=D.next((()=>T.getEntry(_,M))).next((z=>{const k=v.docVersions.get(M);Me(k!==null,48541),z.version.compareTo(k)<0&&(x.applyToRemoteDocument(z,v),z.isValidDocument()&&(z.setReadTime(v.commitVersion),T.addEntry(z)))}))})),D.next((()=>g.mutationQueue.removeMutationBatch(_,x)))})(e,r,t,u).next((()=>u.apply(r))).next((()=>e.mutationQueue.performConsistencyCheck(r))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let _=ye();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(t)))).next((()=>e.localDocuments.getDocuments(r,a)))}))}function xC(n){const t=Xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function hj(n,t){const e=Xt(n),r=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const g=[];t.targetChanges.forEach(((T,x)=>{const O=a.get(x);if(!O)return;g.push(e.Pi.removeMatchingKeys(u,T.removedDocuments,x).next((()=>e.Pi.addMatchingKeys(u,T.addedDocuments,x))));let D=O.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(x)!==null?D=D.withResumeToken(Xn.EMPTY_BYTE_STRING,$t.min()).withLastLimboFreeSnapshotVersion($t.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,r)),a=a.insert(x,D),(function(z,k,ct){return z.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=oj?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(O,D,T)&&g.push(e.Pi.updateTargetData(u,D))}));let _=Xa(),v=ye();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(fj(u,f,t.documentUpdates).next((T=>{_=T.ks,v=T.qs}))),!r.isEqual($t.min())){const T=e.Pi.getLastRemoteSnapshotVersion(u).next((x=>e.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(T)}return vt.waitFor(g).next((()=>f.apply(u))).next((()=>e.localDocuments.getLocalViewOfDocuments(u,_,v))).next((()=>_))})).then((u=>(e.Ms=a,u)))}function fj(n,t,e){let r=ye(),a=ye();return e.forEach((u=>r=r.add(u))),t.getEntries(n,r).next((u=>{let f=Xa();return e.forEach(((g,_)=>{const v=u.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(g)),_.isNoDocument()&&_.version.isEqual($t.min())?(t.removeEntry(g,_.readTime),f=f.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),f=f.insert(g,_)):Pt($v,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{ks:f,qs:a}}))}function dj(n,t){const e=Xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=kv),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function mj(n,t){const e=Xt(n);return e.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return e.Pi.getTargetData(r,t).next((u=>u?(a=u,vt.resolve(a)):e.Pi.allocateTargetId(r).next((f=>(a=new $o(t,f,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=e.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r}))}async function Ky(n,t,e){const r=Xt(n),a=r.Ms.get(t),u=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Yc(f))throw f;Pt($v,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(a.target)}function bS(n,t,e){const r=Xt(n);let a=$t.min(),u=ye();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,v,T){const x=Xt(_),O=x.xs.get(T);return O!==void 0?vt.resolve(x.Ms.get(O)):x.Pi.getTargetData(v,T)})(r,f,ia(t)).next((g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((_=>{u=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,e?a:$t.min(),e?u:ye()))).next((g=>(pj(r,t4(t),g),{documents:g,Qs:u})))))}function pj(n,t,e){let r=n.Os.get(t)||$t.min();e.forEach(((a,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),n.Os.set(t,r)}class ES{constructor(){this.activeTargetIds=a4()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gj{constructor(){this.Mo=new ES,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ES,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="ConnectivityMonitor";class TS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Pt(wS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Pt(wS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=null;function Wy(){return im===null?im=(function(){return 268435456+Math.round(2147483648*Math.random())})():im++,"0x"+im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="RestConnection",yj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vj{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===qm?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(t,e,r,a,u){const f=Wy(),g=this.zo(t,e.toUriEncodedString());Pt(ny,`Sending RPC '${t}' ${f}:`,g,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,a,u);const{host:v}=new URL(g),T=qc(v);return this.Jo(t,g,_,r,T).then((x=>(Pt(ny,`Received RPC '${t}' ${f}: `,x),x)),(x=>{throw Pc(ny,`RPC '${t}' ${f} failed with error: `,x,"url: ",g,"request:",r),x}))}Ho(t,e,r,a,u,f){return this.Go(t,e,r,a,u)}jo(t,e,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,u)=>t[u]=a)),r&&r.headers.forEach(((a,u)=>t[u]=a))}zo(t,e){const r=yj[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="WebChannelConnection";class Ej extends vj{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,a,u){const f=Wy();return new Promise(((g,_)=>{const v=new Ix;v.setWithCredentials(!0),v.listenOnce(Ox.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case mm.NO_ERROR:const x=v.getResponseJson();Pt(oi,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(x)),g(x);break;case mm.TIMEOUT:Pt(oi,`RPC '${t}' ${f} timed out`),_(new It(_t.DEADLINE_EXCEEDED,"Request time out"));break;case mm.HTTP_ERROR:const O=v.getStatus();if(Pt(oi,`RPC '${t}' ${f} failed with status:`,O,"response text:",v.getResponseText()),O>0){let D=v.getResponseJson();Array.isArray(D)&&(D=D[0]);const M=D==null?void 0:D.error;if(M&&M.status&&M.message){const z=(function(ct){const Et=ct.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(Et)>=0?Et:_t.UNKNOWN})(M.status);_(new It(z,M.message))}else _(new It(_t.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new It(_t.UNAVAILABLE,"Connection failed."));break;default:Gt(9055,{l_:t,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{Pt(oi,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(a);Pt(oi,`RPC '${t}' ${f} sending request:`,a),v.send(e,"POST",T,r,15)}))}T_(t,e,r){const a=Wy(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Lx(),g=Nx(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,e,r),_.encodeInitMessageHeaders=!0;const T=u.join("");Pt(oi,`Creating RPC '${t}' stream ${a}: ${T}`,_);const x=f.createWebChannel(T,_);this.I_(x);let O=!1,D=!1;const M=new bj({Yo:k=>{D?Pt(oi,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(O||(Pt(oi,`Opening RPC '${t}' stream ${a} transport.`),x.open(),O=!0),Pt(oi,`RPC '${t}' stream ${a} sending:`,k),x.send(k))},Zo:()=>x.close()}),z=(k,ct,Et)=>{k.listen(ct,(nt=>{try{Et(nt)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return z(x,Zh.EventType.OPEN,(()=>{D||(Pt(oi,`RPC '${t}' stream ${a} transport opened.`),M.o_())})),z(x,Zh.EventType.CLOSE,(()=>{D||(D=!0,Pt(oi,`RPC '${t}' stream ${a} transport closed`),M.a_(),this.E_(x))})),z(x,Zh.EventType.ERROR,(k=>{D||(D=!0,Pc(oi,`RPC '${t}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),M.a_(new It(_t.UNAVAILABLE,"The operation could not be completed")))})),z(x,Zh.EventType.MESSAGE,(k=>{var ct;if(!D){const Et=k.data[0];Me(!!Et,16349);const nt=Et,Tt=(nt==null?void 0:nt.error)||((ct=nt[0])==null?void 0:ct.error);if(Tt){Pt(oi,`RPC '${t}' stream ${a} received error:`,Tt);const Rt=Tt.status;let Dt=(function(B){const Z=Pn[B];if(Z!==void 0)return dC(Z)})(Rt),V=Tt.message;Dt===void 0&&(Dt=_t.INTERNAL,V="Unknown error status: "+Rt+" with message "+Tt.message),D=!0,M.a_(new It(Dt,V)),x.close()}else Pt(oi,`RPC '${t}' stream ${a} received:`,Et),M.u_(Et)}})),z(g,Px.STAT_EVENT,(k=>{k.stat===Dy.PROXY?Pt(oi,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===Dy.NOPROXY&&Pt(oi,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function iy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n){return new A4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t,e,r=1e3,a=1.5,u=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=a,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-r);a>0&&Pt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="PersistentStream";class RC{constructor(t,e,r,a,u,f,g,_){this.Mi=t,this.S_=r,this.b_=a,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new CC(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===_t.RESOURCE_EXHAUSTED?(Qa(e.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===_t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===e&&this.G_(r,a)}),(r=>{t((()=>{const a=new It(_t.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Pt(SS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(Pt(SS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wj extends RC{constructor(t,e,r,a,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a,f),this.serializer=u}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=R4(this.serializer,t),r=(function(u){if(!("targetChange"in u))return $t.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?$t.min():f.readTime?ra(f.readTime):$t.min()})(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Zy(this.serializer),e.addTarget=(function(u,f){let g;const _=f.target;if(g=By(_)?{documents:P4(u,_)}:{query:N4(u,_).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=gC(u,f.resumeToken);const v=Hy(u,f.expectedCount);v!==null&&(g.expectedCount=v)}else if(f.snapshotVersion.compareTo($t.min())>0){g.readTime=$m(u,f.snapshotVersion.toTimestamp());const v=Hy(u,f.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,t);const r=M4(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Zy(this.serializer),e.removeTarget=t,this.q_(e)}}class Tj extends RC{constructor(t,e,r,a,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Me(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=O4(t.writeResults,t.commitTime),r=ra(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Zy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((r=>I4(this.serializer,r)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{}class Aj extends Sj{constructor(t,e,r,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new It(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,qy(e,r),a,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new It(_t.UNKNOWN,u.toString())}))}Ho(t,e,r,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,qy(e,r),a,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new It(_t.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qa(e),this.aa=!1):Pt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="RemoteStore";class Cj{constructor(t,e,r,a,u){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Tu(this)&&(Pt(hu,"Restarting streams for network reachability change."),await(async function(_){const v=Xt(_);v.Ea.add(4),await Df(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Mp(v)})(this))}))})),this.Ra=new xj(r,a)}}async function Mp(n){if(Tu(n))for(const t of n.da)await t(!0)}async function Df(n){for(const t of n.da)await t(!1)}function IC(n,t){const e=Xt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),t0(e)?Jv(e):$c(e).O_()&&Xv(e,t))}function Qv(n,t){const e=Xt(n),r=$c(e);e.Ia.delete(t),r.O_()&&OC(e,t),e.Ia.size===0&&(r.O_()?r.L_():Tu(e)&&e.Ra.set("Unknown"))}function Xv(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($t.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}$c(n).Y_(t)}function OC(n,t){n.Va.Ue(t),$c(n).Z_(t)}function Jv(n){n.Va=new E4({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),$c(n).start(),n.Ra.ua()}function t0(n){return Tu(n)&&!$c(n).x_()&&n.Ia.size>0}function Tu(n){return Xt(n).Ea.size===0}function PC(n){n.Va=void 0}async function Rj(n){n.Ra.set("Online")}async function Ij(n){n.Ia.forEach(((t,e)=>{Xv(n,t)}))}async function Oj(n,t){PC(n),t0(n)?(n.Ra.ha(t),Jv(n)):n.Ra.set("Unknown")}async function Pj(n,t,e){if(n.Ra.set("Online"),t instanceof pC&&t.state===2&&t.cause)try{await(async function(a,u){const f=u.cause;for(const g of u.targetIds)a.Ia.has(g)&&(await a.remoteSyncer.rejectListen(g,f),a.Ia.delete(g),a.Va.removeTarget(g))})(n,t)}catch(r){Pt(hu,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Xm(n,r)}else if(t instanceof ym?n.Va.Ze(t):t instanceof mC?n.Va.st(t):n.Va.tt(t),!e.isEqual($t.min()))try{const r=await xC(n.localStore);e.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const T=u.Ia.get(v);T&&u.Ia.set(v,T.withResumeToken(_.resumeToken,f))}})),g.targetMismatches.forEach(((_,v)=>{const T=u.Ia.get(_);if(!T)return;u.Ia.set(_,T.withResumeToken(Xn.EMPTY_BYTE_STRING,T.snapshotVersion)),OC(u,_);const x=new $o(T.target,_,v,T.sequenceNumber);Xv(u,x)})),u.remoteSyncer.applyRemoteEvent(g)})(n,e)}catch(r){Pt(hu,"Failed to raise snapshot:",r),await Xm(n,r)}}async function Xm(n,t,e){if(!Yc(t))throw t;n.Ea.add(1),await Df(n),n.Ra.set("Offline"),e||(e=()=>xC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Pt(hu,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Mp(n)}))}function NC(n,t){return t().catch((e=>Xm(n,e,t)))}async function Dp(n){const t=Xt(n),e=ol(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:kv;for(;Nj(t);)try{const a=await dj(t.localStore,r);if(a===null){t.Ta.length===0&&e.L_();break}r=a.batchId,Lj(t,a)}catch(a){await Xm(t,a)}LC(t)&&MC(t)}function Nj(n){return Tu(n)&&n.Ta.length<10}function Lj(n,t){n.Ta.push(t);const e=ol(n);e.O_()&&e.X_&&e.ea(t.mutations)}function LC(n){return Tu(n)&&!ol(n).x_()&&n.Ta.length>0}function MC(n){ol(n).start()}async function Mj(n){ol(n).ra()}async function Dj(n){const t=ol(n);for(const e of n.Ta)t.ea(e.mutations)}async function kj(n,t,e){const r=n.Ta.shift(),a=qv.from(r,t,e);await NC(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Dp(n)}async function jj(n,t){t&&ol(n).X_&&await(async function(r,a){if((function(f){return y4(f)&&f!==_t.ABORTED})(a.code)){const u=r.Ta.shift();ol(r).B_(),await NC(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,a))),await Dp(r)}})(n,t),LC(n)&&MC(n)}async function AS(n,t){const e=Xt(n);e.asyncQueue.verifyOperationInProgress(),Pt(hu,"RemoteStore received new credentials");const r=Tu(e);e.Ea.add(3),await Df(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Mp(e)}async function Vj(n,t){const e=Xt(n);t?(e.Ea.delete(2),await Mp(e)):t||(e.Ea.add(2),await Df(e),e.Ra.set("Unknown"))}function $c(n){return n.ma||(n.ma=(function(e,r,a){const u=Xt(e);return u.sa(),new wj(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(n.datastore,n.asyncQueue,{Xo:Rj.bind(null,n),t_:Ij.bind(null,n),r_:Oj.bind(null,n),H_:Pj.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),t0(n)?Jv(n):n.Ra.set("Unknown")):(await n.ma.stop(),PC(n))}))),n.ma}function ol(n){return n.fa||(n.fa=(function(e,r,a){const u=Xt(e);return u.sa(),new Tj(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Mj.bind(null,n),r_:jj.bind(null,n),ta:Dj.bind(null,n),na:kj.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Dp(n)):(await n.fa.stop(),n.Ta.length>0&&(Pt(hu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t,e,r,a,u){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=a,this.removalCallback=u,this.deferred=new qa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,a,u){const f=Date.now()+r,g=new e0(t,e,f,a,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new It(_t.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n0(n,t){if(Qa("AsyncQueue",`${t}: ${n}`),Yc(n))return new It(_t.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{static emptySet(t){return new Tc(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Bt.comparator(e.key,r.key):(e,r)=>Bt.comparator(e.key,r.key),this.keyedMap=Kh(),this.sortedSet=new ln(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,r)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Tc)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,u=r.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Tc;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.ga=new ln(Bt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Gt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,r)=>{t.push(r)})),t}}class kc{constructor(t,e,r,a,u,f,g,_,v){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,e,r,a,u){const f=[];return e.forEach((g=>{f.push({type:0,doc:g})})),new kc(t,e,Tc.emptySet(e),f,r,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==r[a].type||!e[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Bj{constructor(){this.queries=CS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const a=Xt(e),u=a.queries;a.queries=CS(),u.forEach(((f,g)=>{for(const _ of g.Sa)_.onError(r)}))})(this,new It(_t.ABORTED,"Firestore shutting down"))}}function CS(){return new wu((n=>eC(n)),Rp)}async function DC(n,t){const e=Xt(n);let r=3;const a=t.query;let u=e.queries.get(a);u?!u.ba()&&t.Da()&&(r=2):(u=new zj,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await e.onListen(a,!0);break;case 1:u.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(f){const g=n0(f,`Initialization of query '${mc(t.query)}' failed`);return void t.onError(g)}e.queries.set(a,u),u.Sa.push(t),t.va(e.onlineState),u.wa&&t.Fa(u.wa)&&i0(e)}async function kC(n,t){const e=Xt(n),r=t.query;let a=3;const u=e.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?a=t.Da()?0:1:!u.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function Uj(n,t){const e=Xt(n);let r=!1;for(const a of t){const u=a.query,f=e.queries.get(u);if(f){for(const g of f.Sa)g.Fa(a)&&(r=!0);f.wa=a}}r&&i0(e)}function Fj(n,t,e){const r=Xt(n),a=r.queries.get(t);if(a)for(const u of a.Sa)u.onError(e);r.queries.delete(t)}function i0(n){n.Ca.forEach((t=>{t.next()}))}var Yy,RS;(RS=Yy||(Yy={})).Ma="default",RS.Cache="cache";class jC{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new kc(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=kc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Yy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.key=t}}class zC{constructor(t){this.key=t}}class Hj{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ye(),this.mutatedKeys=ye(),this.eu=nC(t),this.tu=new Tc(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new xS,a=e?e.tu:this.tu;let u=e?e.mutatedKeys:this.mutatedKeys,f=a,g=!1;const _=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((T,x)=>{const O=a.get(T),D=Ip(this.query,x)?x:null,M=!!O&&this.mutatedKeys.has(O.key),z=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;O&&D?O.data.isEqual(D.data)?M!==z&&(r.track({type:3,doc:D}),k=!0):this.su(O,D)||(r.track({type:2,doc:D}),k=!0,(_&&this.eu(D,_)>0||v&&this.eu(D,v)<0)&&(g=!0)):!O&&D?(r.track({type:0,doc:D}),k=!0):O&&!D&&(r.track({type:1,doc:O}),k=!0,(_||v)&&(g=!0)),k&&(D?(f=f.add(D),u=z?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,a){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,x)=>(function(D,M){const z=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt(20277,{Rt:k})}};return z(D)-z(M)})(T.type,x.type)||this.eu(T.doc,x.doc))),this.ou(r),a=a??!1;const g=e&&!a?this._u():[],_=this.Xa.size===0&&this.current&&!a?1:0,v=_!==this.Za;return this.Za=_,f.length!==0||v?{snapshot:new kc(this.query,t.tu,u,f,t.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const e=[];return t.forEach((r=>{this.Xa.has(r)||e.push(new zC(r))})),this.Xa.forEach((r=>{t.has(r)||e.push(new VC(r))})),e}cu(t){this.Ya=t.Qs,this.Xa=ye();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return kc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const r0="SyncEngine";class qj{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Gj{constructor(t){this.key=t,this.hu=!1}}class Zj{constructor(t,e,r,a,u,f){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new wu((g=>eC(g)),Rp),this.Iu=new Map,this.Eu=new Set,this.du=new ln(Bt.comparator),this.Au=new Map,this.Ru=new Kv,this.Vu={},this.mu=new Map,this.fu=Dc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kj(n,t,e=!0){const r=GC(n);let a;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.lu()):a=await BC(r,t,e,!0),a}async function Wj(n,t){const e=GC(n);await BC(e,t,!0,!1)}async function BC(n,t,e,r){const a=await mj(n.localStore,ia(t)),u=a.targetId,f=n.sharedClientState.addLocalQueryTarget(u,e);let g;return r&&(g=await Yj(n,t,u,f==="current",a.resumeToken)),n.isPrimaryClient&&e&&IC(n.remoteStore,a),g}async function Yj(n,t,e,r,a){n.pu=(x,O,D)=>(async function(z,k,ct,Et){let nt=k.view.ru(ct);nt.Cs&&(nt=await bS(z.localStore,k.query,!1).then((({documents:V})=>k.view.ru(V,nt))));const Tt=Et&&Et.targetChanges.get(k.targetId),Rt=Et&&Et.targetMismatches.get(k.targetId)!=null,Dt=k.view.applyChanges(nt,z.isPrimaryClient,Tt,Rt);return OS(z,k.targetId,Dt.au),Dt.snapshot})(n,x,O,D);const u=await bS(n.localStore,t,!0),f=new Hj(t,u.Qs),g=f.ru(u.documents),_=Mf.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",a),v=f.applyChanges(g,n.isPrimaryClient,_);OS(n,e,v.au);const T=new qj(t,e,f);return n.Tu.set(t,T),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),v.snapshot}async function $j(n,t,e){const r=Xt(n),a=r.Tu.get(t),u=r.Iu.get(a.targetId);if(u.length>1)return r.Iu.set(a.targetId,u.filter((f=>!Rp(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ky(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),e&&Qv(r.remoteStore,a.targetId),$y(r,a.targetId)})).catch(Wc)):($y(r,a.targetId),await Ky(r.localStore,a.targetId,!0))}async function Qj(n,t){const e=Xt(n),r=e.Tu.get(t),a=e.Iu.get(r.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Qv(e.remoteStore,r.targetId))}async function Xj(n,t,e){const r=sV(n);try{const a=await(function(f,g){const _=Xt(f),v=Je.now(),T=g.reduce(((D,M)=>D.add(M.key)),ye());let x,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let M=Xa(),z=ye();return _.Ns.getEntries(D,T).next((k=>{M=k,M.forEach(((ct,Et)=>{Et.isValidDocument()||(z=z.add(ct))}))})).next((()=>_.localDocuments.getOverlayedDocuments(D,M))).next((k=>{x=k;const ct=[];for(const Et of g){const nt=d4(Et,x.get(Et.key).overlayedDocument);nt!=null&&ct.push(new dl(Et.key,nt,Kx(nt.value.mapValue),Hr.exists(!0)))}return _.mutationQueue.addMutationBatch(D,v,ct,g)})).next((k=>{O=k;const ct=k.applyToLocalDocumentSet(x,z);return _.documentOverlayCache.saveOverlays(D,k.batchId,ct)}))})).then((()=>({batchId:O.batchId,changes:rC(x)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(f,g,_){let v=f.Vu[f.currentUser.toKey()];v||(v=new ln(_e)),v=v.insert(g,_),f.Vu[f.currentUser.toKey()]=v})(r,a.batchId,e),await kf(r,a.changes),await Dp(r.remoteStore)}catch(a){const u=n0(a,"Failed to persist write");e.reject(u)}}async function UC(n,t){const e=Xt(n);try{const r=await hj(e.localStore,t);t.targetChanges.forEach(((a,u)=>{const f=e.Au.get(u);f&&(Me(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?f.hu=!0:a.modifiedDocuments.size>0?Me(f.hu,14607):a.removedDocuments.size>0&&(Me(f.hu,42227),f.hu=!1))})),await kf(e,r,t)}catch(r){await Wc(r)}}function IS(n,t,e){const r=Xt(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const a=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&a.push(g.snapshot)})),(function(f,g){const _=Xt(f);_.onlineState=g;let v=!1;_.queries.forEach(((T,x)=>{for(const O of x.Sa)O.va(g)&&(v=!0)})),v&&i0(_)})(r.eventManager,t),a.length&&r.Pu.H_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Jj(n,t,e){const r=Xt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const a=r.Au.get(t),u=a&&a.key;if(u){let f=new ln(Bt.comparator);f=f.insert(u,ui.newNoDocument(u,$t.min()));const g=ye().add(u),_=new Np($t.min(),new Map,new ln(_e),f,g);await UC(r,_),r.du=r.du.remove(u),r.Au.delete(t),s0(r)}else await Ky(r.localStore,t,!1).then((()=>$y(r,t,e))).catch(Wc)}async function tV(n,t){const e=Xt(n),r=t.batch.batchId;try{const a=await cj(e.localStore,t);HC(e,r,null),FC(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await kf(e,a)}catch(a){await Wc(a)}}async function eV(n,t,e){const r=Xt(n);try{const a=await(function(f,g){const _=Xt(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return _.mutationQueue.lookupMutationBatch(v,g).next((x=>(Me(x!==null,37113),T=x.keys(),_.mutationQueue.removeMutationBatch(v,x)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>_.localDocuments.getDocuments(v,T)))}))})(r.localStore,t);HC(r,t,e),FC(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await kf(r,a)}catch(a){await Wc(a)}}function FC(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function HC(n,t,e){const r=Xt(n);let a=r.Vu[r.currentUser.toKey()];if(a){const u=a.get(t);u&&(e?u.reject(e):u.resolve(),a=a.remove(t)),r.Vu[r.currentUser.toKey()]=a}}function $y(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((r=>{n.Ru.containsKey(r)||qC(n,r)}))}function qC(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Qv(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),s0(n))}function OS(n,t,e){for(const r of e)r instanceof VC?(n.Ru.addReference(r.key,t),nV(n,r)):r instanceof zC?(Pt(r0,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||qC(n,r.key)):Gt(19791,{wu:r})}function nV(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(Pt(r0,"New document in limbo: "+e),n.Eu.add(r),s0(n))}function s0(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Bt(Ke.fromString(t)),r=n.fu.next();n.Au.set(r,new Gj(e)),n.du=n.du.insert(e,r),IC(n.remoteStore,new $o(ia(Uv(e.path)),r,"TargetPurposeLimboResolution",Ap.ce))}}async function kf(n,t,e){const r=Xt(n),a=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,_)=>{f.push(r.pu(_,t,e).then((v=>{var T;if((v||e)&&r.isPrimaryClient){const x=v?!v.fromCache:(T=e==null?void 0:e.targetChanges.get(_.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(_.targetId,x?"current":"not-current")}if(v){a.push(v);const x=Yv.As(_.targetId,v);u.push(x)}})))})),await Promise.all(f),r.Pu.H_(a),await(async function(_,v){const T=Xt(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>vt.forEach(v,(O=>vt.forEach(O.Es,(D=>T.persistence.referenceDelegate.addReference(x,O.targetId,D))).next((()=>vt.forEach(O.ds,(D=>T.persistence.referenceDelegate.removeReference(x,O.targetId,D)))))))))}catch(x){if(!Yc(x))throw x;Pt($v,"Failed to update sequence numbers: "+x)}for(const x of v){const O=x.targetId;if(!x.fromCache){const D=T.Ms.get(O),M=D.snapshotVersion,z=D.withLastLimboFreeSnapshotVersion(M);T.Ms=T.Ms.insert(O,z)}}})(r.localStore,u))}async function iV(n,t){const e=Xt(n);if(!e.currentUser.isEqual(t)){Pt(r0,"User change. New user:",t.toKey());const r=await AC(e.localStore,t);e.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((_=>{_.reject(new It(_t.CANCELLED,f))}))})),u.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await kf(e,r.Ls)}}function rV(n,t){const e=Xt(n),r=e.Au.get(t);if(r&&r.hu)return ye().add(r.key);{let a=ye();const u=e.Iu.get(t);if(!u)return a;for(const f of u){const g=e.Tu.get(f);a=a.unionWith(g.view.nu)}return a}}function GC(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=UC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jj.bind(null,t),t.Pu.H_=Uj.bind(null,t.eventManager),t.Pu.yu=Fj.bind(null,t.eventManager),t}function sV(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eV.bind(null,t),t}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return uj(this.persistence,new aj,t.initialUser,this.serializer)}Cu(t){return new SC(Wv.mi,this.serializer)}Du(t){return new gj}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class aV extends Jm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Me(this.persistence.referenceDelegate instanceof Qm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new G4(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Bi.withCacheSize(this.cacheSizeBytes):Bi.DEFAULT;return new SC((r=>Qm.mi(r,e)),this.serializer)}}class Qy{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iV.bind(null,this.syncEngine),await Vj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Bj})()}createDatastore(t){const e=Lp(t.databaseInfo.databaseId),r=(function(u){return new Ej(u)})(t.databaseInfo);return(function(u,f,g,_){return new Aj(u,f,g,_)})(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return(function(r,a,u,f,g){return new Cj(r,a,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(e=>IS(this.syncEngine,e,0)),(function(){return TS.v()?new TS:new _j})())}createSyncEngine(t,e){return(function(a,u,f,g,_,v,T){const x=new Zj(a,u,f,g,_,v);return T&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(a){const u=Xt(a);Pt(hu,"RemoteStore shutting down."),u.Ea.add(5),await Df(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}Qy.provider={build:()=>new Qy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qa("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="FirestoreClient";class oV{constructor(t,e,r,a,u){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=a,this.user=li.UNAUTHENTICATED,this.clientId=Dv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{Pt(ll,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(Pt(ll,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=n0(e,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function ry(n,t){n.asyncQueue.verifyOperationInProgress(),Pt(ll,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await AC(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function PS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await lV(n);Pt(ll,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((r=>AS(t.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>AS(t.remoteStore,a))),n._onlineComponents=t}async function lV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pt(ll,"Using user provided OfflineComponentProvider");try{await ry(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===_t.FAILED_PRECONDITION||a.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Pc("Error using user provided cache. Falling back to memory cache: "+e),await ry(n,new Jm)}}else Pt(ll,"Using default OfflineComponentProvider"),await ry(n,new aV(void 0));return n._offlineComponents}async function KC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pt(ll,"Using user provided OnlineComponentProvider"),await PS(n,n._uninitializedComponentsProvider._online)):(Pt(ll,"Using default OnlineComponentProvider"),await PS(n,new Qy))),n._onlineComponents}function uV(n){return KC(n).then((t=>t.syncEngine))}async function WC(n){const t=await KC(n),e=t.eventManager;return e.onListen=Kj.bind(null,t.syncEngine),e.onUnlisten=$j.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Wj.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Qj.bind(null,t.syncEngine),e}function cV(n,t,e={}){const r=new qa;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,_,v){const T=new ZC({next:O=>{T.Nu(),f.enqueueAndForget((()=>kC(u,x)));const D=O.docs.has(g);!D&&O.fromCache?v.reject(new It(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&O.fromCache&&_&&_.source==="server"?v.reject(new It(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(O)},error:O=>v.reject(O)}),x=new jC(Uv(g.path),T,{includeMetadataChanges:!0,qa:!0});return DC(u,x)})(await WC(n),n.asyncQueue,t,e,r))),r.promise}function hV(n,t,e={}){const r=new qa;return n.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,_,v){const T=new ZC({next:O=>{T.Nu(),f.enqueueAndForget((()=>kC(u,x))),O.fromCache&&_.source==="server"?v.reject(new It(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(O)},error:O=>v.reject(O)}),x=new jC(g,T,{includeMetadataChanges:!0,qa:!0});return DC(u,x)})(await WC(n),n.asyncQueue,t,e,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="firestore.googleapis.com",LS=!0;class MS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new It(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$C,this.ssl=LS}else this.host=t.host,this.ssl=t.ssl??LS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=TC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<H4)throw new It(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}C5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YC(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new It(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new It(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new It(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kp{constructor(t,e,r,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new It(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new It(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _5;switch(r.type){case"firstParty":return new E5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new It(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const r=NS.get(e);r&&(Pt("ComponentProvider","Removing Datastore"),NS.delete(e),r.terminate())})(this),Promise.resolve()}}function fV(n,t,e,r={}){var v;n=bs(n,kp);const a=qc(t),u=n._getSettings(),f={...u,emulatorOptions:n._getEmulatorOptions()},g=`${t}:${e}`;a&&(j1(`https://${g}`),V1("Firestore",!0)),u.host!==$C&&u.host!==g&&Pc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:g,ssl:a,emulatorOptions:r};if(!nl(_,f)&&(n._setSettings(_),r.mockUserToken)){let T,x;if(typeof r.mockUserToken=="string")T=r.mockUserToken,x=li.MOCK_USER;else{T=SL(r.mockUserToken,(v=n._app)==null?void 0:v.options.projectId);const O=r.mockUserToken.sub||r.mockUserToken.user_id;if(!O)throw new It(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new li(O)}n._authCredentials=new y5(new Dx(T,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qc(this.firestore,t,this._query)}}class bn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bn(this.firestore,t,this._key)}toJSON(){return{type:bn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if(Pf(e,bn._jsonSchema))return new bn(t,r||null,new Bt(Ke.fromString(e.referencePath)))}}bn._jsonSchemaVersion="firestore/documentReference/1.0",bn._jsonSchema={type:Ln("string",bn._jsonSchemaVersion),referencePath:Ln("string")};class tl extends Qc{constructor(t,e,r){super(t,e,Uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bn(this.firestore,null,new Bt(t))}withConverter(t){return new tl(this.firestore,t,this._path)}}function Jl(n,t,...e){if(n=En(n),kx("collection","path",t),n instanceof kp){const r=Ke.fromString(t,...e);return KT(r),new tl(n,null,r)}{if(!(n instanceof bn||n instanceof tl))throw new It(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(t,...e));return KT(r),new tl(n.firestore,null,r)}}function fu(n,t,...e){if(n=En(n),arguments.length===1&&(t=Dv.newId()),kx("doc","path",t),n instanceof kp){const r=Ke.fromString(t,...e);return ZT(r),new bn(n,null,new Bt(r))}{if(!(n instanceof bn||n instanceof tl))throw new It(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ke.fromString(t,...e));return ZT(r),new bn(n.firestore,n instanceof tl?n.converter:null,new Bt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="AsyncQueue";class kS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new CC(this,"async_queue_retry"),this._c=()=>{const r=iy();r&&Pt(DS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=iy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=iy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new qa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Yc(t))throw t;Pt(DS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Qa("INTERNAL UNHANDLED ERROR: ",jS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=e0.createAndSchedule(this,t,e,r,(u=>this.hc(u)));return this.tc.push(a),a}uc(){this.nc&&Gt(47125,{Pc:jS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,r)=>e.targetTimeMs-r.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function jS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Su extends kp{constructor(t,e,r,a){super(t,e,r,a),this.type="firestore",this._queue=new kS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kS(t),this._firestoreClient=void 0,await t}}}function dV(n,t){const e=typeof n=="object"?n:Tv(),r=typeof n=="string"?n:qm,a=Eu(e,"firestore").getImmediate({identifier:r});if(!a._initialized){const u=wL("firestore");u&&fV(a,...u)}return a}function a0(n){if(n._terminated)throw new It(_t.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mV(n),n._firestoreClient}function mV(n){var r,a,u;const t=n._freezeSettings(),e=(function(g,_,v,T){return new V5(g,_,v,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,YC(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new oV(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vr(Xn.fromBase64String(t))}catch(e){throw new It(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vr(Xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pf(t,Vr._jsonSchema))return Vr.fromBase64String(t.bytes)}}Vr._jsonSchemaVersion="firestore/bytes/1.0",Vr._jsonSchema={type:Ln("string",Vr._jsonSchemaVersion),bytes:Ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new It(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new It(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new It(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return _e(this._lat,t._lat)||_e(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:sa._jsonSchemaVersion}}static fromJSON(t){if(Pf(t,sa._jsonSchema))return new sa(t.latitude,t.longitude)}}sa._jsonSchemaVersion="firestore/geoPoint/1.0",sa._jsonSchema={type:Ln("string",sa._jsonSchemaVersion),latitude:Ln("number"),longitude:Ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==a[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pf(t,aa._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new aa(t.vectorValues);throw new It(_t.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}aa._jsonSchemaVersion="firestore/vectorValue/1.0",aa._jsonSchema={type:Ln("string",aa._jsonSchemaVersion),vectorValues:Ln("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=/^__.*__$/;class gV{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new dl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Lf(t,this.data,e,this.fieldTransforms)}}class QC{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new dl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function XC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt(40011,{Ac:n})}}class l0{constructor(t,e,r,a,u,f){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=a,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new l0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const e=(a=this.path)==null?void 0:a.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){var a;const e=(a=this.path)==null?void 0:a.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return tp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(XC(this.Ac)&&pV.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _V{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Lp(t)}Cc(t,e,r,a=!1){return new l0({Ac:t,methodName:e,Dc:r,path:Qn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(n){const t=n._freezeSettings(),e=Lp(n._databaseId);return new _V(n._databaseId,!!t.ignoreUndefinedProperties,e)}function JC(n,t,e,r,a,u={}){const f=n.Cc(u.merge||u.mergeFields?2:0,t,e,a);u0("Data must be an object, but it was:",f,r);const g=tR(r,f);let _,v;if(u.merge)_=new dr(f.fieldMask),v=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const x of u.mergeFields){const O=Xy(t,x,e);if(!f.contains(O))throw new It(_t.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);nR(T,O)||T.push(O)}_=new dr(T),v=f.fieldTransforms.filter((x=>_.covers(x.field)))}else _=null,v=f.fieldTransforms;return new gV(new Fi(g),_,v)}class zp extends o0{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zp}}function yV(n,t,e,r){const a=n.Cc(1,t,e);u0("Data must be an object, but it was:",a,r);const u=[],f=Fi.empty();fl(r,((_,v)=>{const T=c0(t,_,e);v=En(v);const x=a.yc(T);if(v instanceof zp)u.push(T);else{const O=jf(v,x);O!=null&&(u.push(T),f.set(T,O))}}));const g=new dr(u);return new QC(f,g,a.fieldTransforms)}function vV(n,t,e,r,a,u){const f=n.Cc(1,t,e),g=[Xy(t,r,e)],_=[a];if(u.length%2!=0)throw new It(_t.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<u.length;O+=2)g.push(Xy(t,u[O])),_.push(u[O+1]);const v=[],T=Fi.empty();for(let O=g.length-1;O>=0;--O)if(!nR(v,g[O])){const D=g[O];let M=_[O];M=En(M);const z=f.yc(D);if(M instanceof zp)v.push(D);else{const k=jf(M,z);k!=null&&(v.push(D),T.set(D,k))}}const x=new dr(v);return new QC(T,x,f.fieldTransforms)}function bV(n,t,e,r=!1){return jf(e,n.Cc(r?4:3,t))}function jf(n,t){if(eR(n=En(n)))return u0("Unsupported field value:",t,n),tR(n,t);if(n instanceof o0)return(function(r,a){if(!XC(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(a);u&&a.fieldTransforms.push(u)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,a){const u=[];let f=0;for(const g of r){let _=jf(g,a.wc(f));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}})(n,t)}return(function(r,a){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o4(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Je.fromDate(r);return{timestampValue:$m(a.serializer,u)}}if(r instanceof Je){const u=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$m(a.serializer,u)}}if(r instanceof sa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vr)return{bytesValue:gC(a.serializer,r._byteString)};if(r instanceof bn){const u=a.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw a.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof aa)return(function(f,g){return{mapValue:{fields:{[Gx]:{stringValue:Zx},[Gm]:{arrayValue:{values:f.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Fv(g.serializer,v)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Sp(r)}`)})(n,t)}function tR(n,t){const e={};return zx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fl(n,((r,a)=>{const u=jf(a,t.mc(r));u!=null&&(e[r]=u)})),{mapValue:{fields:e}}}function eR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Je||n instanceof sa||n instanceof Vr||n instanceof bn||n instanceof o0||n instanceof aa)}function u0(n,t,e){if(!eR(e)||!jx(e)){const r=Sp(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function Xy(n,t,e){if((t=En(t))instanceof jp)return t._internalPath;if(typeof t=="string")return c0(n,t);throw tp("Field path arguments must be of type string or ",n,!1,void 0,e)}const EV=new RegExp("[~\\*/\\[\\]]");function c0(n,t,e){if(t.search(EV)>=0)throw tp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new jp(...t.split("."))._internalPath}catch{throw tp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function tp(n,t,e,r,a){const u=r&&!r.isEmpty(),f=a!==void 0;let g=`Function ${t}() called with invalid data`;e&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||f)&&(_+=" (found",u&&(_+=` in field ${r}`),f&&(_+=` in document ${a}`),_+=")"),new It(_t.INVALID_ARGUMENT,g+n+_)}function nR(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,e,r,a,u){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new wV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(h0("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class wV extends iR{data(){return super.data()}}function h0(n,t){return typeof t=="string"?c0(n,t):t instanceof jp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new It(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f0{}class SV extends f0{}function AV(n,t,...e){let r=[];t instanceof f0&&r.push(t),r=r.concat(e),(function(u){const f=u.filter((_=>_ instanceof d0)).length,g=u.filter((_=>_ instanceof Bp)).length;if(f>1||f>0&&g>0)throw new It(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Bp extends SV{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new Bp(t,e,r)}_apply(t){const e=this._parse(t);return rR(t._query,e),new Qc(t.firestore,t.converter,Uy(t._query,e))}_parse(t){const e=Vp(t.firestore);return(function(u,f,g,_,v,T,x){let O;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new It(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){zS(x,T);const M=[];for(const z of x)M.push(VS(_,u,z));O={arrayValue:{values:M}}}else O=VS(_,u,x)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||zS(x,T),O=bV(g,f,x,T==="in"||T==="not-in");return Nn.create(v,T,O)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function xV(n,t,e){const r=t,a=h0("where",n);return Bp._create(a,r,e)}class d0 extends f0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new d0(t,e)}_parse(t){const e=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return e.length===1?e[0]:Es.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,u){let f=a;const g=u.getFlattenedFilters();for(const _ of g)rR(f,_),f=Uy(f,_)})(t._query,e),new Qc(t.firestore,t.converter,Uy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function VS(n,t,e){if(typeof(e=En(e))=="string"){if(e==="")throw new It(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tC(t)&&e.indexOf("/")!==-1)throw new It(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Ke.fromString(e));if(!Bt.isDocumentKey(r))throw new It(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eS(n,new Bt(r))}if(e instanceof bn)return eS(n,e._key);throw new It(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sp(e)}.`)}function zS(n,t){if(!Array.isArray(n)||n.length===0)throw new It(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rR(n,t){const e=(function(a,u){for(const f of a)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new It(_t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new It(_t.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class CV{convertValue(t,e="none"){switch(al(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Gt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return fl(t,((a,u)=>{r[a]=this.convertValue(u,e)})),r}convertVectorValue(t){var r,a,u;const e=(u=(a=(r=t.fields)==null?void 0:r[Gm].arrayValue)==null?void 0:a.values)==null?void 0:u.map((f=>vn(f.doubleValue)));return new aa(e)}convertGeoPoint(t){return new sa(vn(t.latitude),vn(t.longitude))}convertArray(t,e){return(t.values||[]).map((r=>this.convertValue(r,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Cp(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(df(t));default:return null}}convertTimestamp(t){const e=rl(t);return new Je(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Ke.fromString(t);Me(wC(r),9688,{name:t});const a=new mf(r.get(1),r.get(3)),u=new Bt(r.popFirst(5));return a.isEqual(e)||Qa(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(n,t,e){let r;return r=n?n.toFirestore(t):t,r}class Yh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class iu extends iR{constructor(t,e,r,a,u,f){super(t,e,r,a,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(h0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new It(_t.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=iu._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}iu._jsonSchemaVersion="firestore/documentSnapshot/1.0",iu._jsonSchema={type:Ln("string",iu._jsonSchemaVersion),bundleSource:Ln("string","DocumentSnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class vm extends iu{data(t={}){return super.data(t)}}class Sc{constructor(t,e,r,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Yh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((r=>{t.call(e,new vm(this._firestore,this._userDataWriter,r.key,r,new Yh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new It(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,u){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map((g=>{const _=new vm(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Yh(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const _=new vm(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Yh(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,T=-1;return g.type!==0&&(v=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:RV(g.type),doc:_,oldIndex:v,newIndex:T}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new It(_t.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Sc._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],a=[];return this.docs.forEach((u=>{u._document!==null&&(e.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),a.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function RV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(n){n=bs(n,bn);const t=bs(n.firestore,Su);return cV(a0(t),n._key).then((e=>PV(t,n,e)))}Sc._jsonSchemaVersion="firestore/querySnapshot/1.0",Sc._jsonSchema={type:Ln("string",Sc._jsonSchemaVersion),bundleSource:Ln("string","QuerySnapshot"),bundleName:Ln("string"),bundle:Ln("string")};class aR extends CV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bn(this.firestore,null,e)}}function ep(n){n=bs(n,Qc);const t=bs(n.firestore,Su),e=a0(t),r=new aR(t);return TV(n._query),hV(e,n._query).then((a=>new Sc(t,r,n,a)))}function IV(n,t,e){n=bs(n,bn);const r=bs(n.firestore,Su),a=sR(n.converter,t);return Up(r,[JC(Vp(r),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,Hr.none())])}function OV(n,t,e,...r){n=bs(n,bn);const a=bs(n.firestore,Su),u=Vp(a);let f;return f=typeof(t=En(t))=="string"||t instanceof jp?vV(u,"updateDoc",n._key,t,e,r):yV(u,"updateDoc",n._key,t),Up(a,[f.toMutation(n._key,Hr.exists(!0))])}function BS(n){return Up(bs(n.firestore,Su),[new Hv(n._key,Hr.none())])}function tv(n,t){const e=bs(n.firestore,Su),r=fu(n),a=sR(n.converter,t);return Up(e,[JC(Vp(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then((()=>r))}function Up(n,t){return(function(r,a){const u=new qa;return r.asyncQueue.enqueueAndForget((async()=>Xj(await uV(r),a,u))),u.promise})(a0(n),t)}function PV(n,t,e){const r=e.docs.get(t._key),a=new aR(n);return new iu(n,a,t._key,r,new Yh(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){Kc=a})(Gc),oa(new vs("firestore",((r,{instanceIdentifier:a,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new Su(new v5(r.getProvider("auth-internal")),new w5(f,r.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new It(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(v.options.projectId,T)})(f,a),f);return u={useFetchStreams:e,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Fr(FT,HT,t),Fr(FT,HT,"esm2020")})();var NV="firebase",LV="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(NV,LV,"app");const oR="@firebase/installations",m0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1e4,uR=`w:${m0}`,cR="FIS_v2",MV="https://firebaseinstallations.googleapis.com/v1",DV=3600*1e3,kV="installations",jV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},du=new bu(kV,jV,VV);function hR(n){return n instanceof Ss&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR({projectId:n}){return`${MV}/projects/${n}/installations`}function dR(n){return{token:n.token,requestStatus:2,expiresIn:BV(n.expiresIn),creationTime:Date.now()}}async function mR(n,t){const r=(await t.json()).error;return du.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function pR({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function zV(n,{refreshToken:t}){const e=pR(n);return e.append("Authorization",UV(t)),e}async function gR(n){const t=await n();return t.status>=500&&t.status<600?n():t}function BV(n){return Number(n.replace("s","000"))}function UV(n){return`${cR} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FV({appConfig:n,heartbeatServiceProvider:t},{fid:e}){const r=fR(n),a=pR(n),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const f={fid:e,authVersion:cR,appId:n.appId,sdkVersion:uR},g={method:"POST",headers:a,body:JSON.stringify(f)},_=await gR(()=>fetch(r,g));if(_.ok){const v=await _.json();return{fid:v.fid||e,registrationStatus:2,refreshToken:v.refreshToken,authToken:dR(v.authToken)}}else throw await mR("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){return new Promise(t=>{setTimeout(t,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=/^[cdef][\w-]{21}$/,ev="";function GV(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=ZV(n);return qV.test(e)?e:ev}catch{return ev}}function ZV(n){return HV(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new Map;function vR(n,t){const e=Fp(n);bR(e,t),KV(e,t)}function bR(n,t){const e=yR.get(n);if(e)for(const r of e)r(t)}function KV(n,t){const e=WV();e&&e.postMessage({key:n,fid:t}),YV()}let tu=null;function WV(){return!tu&&"BroadcastChannel"in self&&(tu=new BroadcastChannel("[Firebase] FID Change"),tu.onmessage=n=>{bR(n.data.key,n.data.fid)}),tu}function YV(){yR.size===0&&tu&&(tu.close(),tu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="firebase-installations-database",QV=1,mu="firebase-installations-store";let sy=null;function p0(){return sy||(sy=q1($V,QV,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore(mu)}}})),sy}async function np(n,t){const e=Fp(n),a=(await p0()).transaction(mu,"readwrite"),u=a.objectStore(mu),f=await u.get(e);return await u.put(t,e),await a.done,(!f||f.fid!==t.fid)&&vR(n,t.fid),t}async function ER(n){const t=Fp(n),r=(await p0()).transaction(mu,"readwrite");await r.objectStore(mu).delete(t),await r.done}async function Hp(n,t){const e=Fp(n),a=(await p0()).transaction(mu,"readwrite"),u=a.objectStore(mu),f=await u.get(e),g=t(f);return g===void 0?await u.delete(e):await u.put(g,e),await a.done,g&&(!f||f.fid!==g.fid)&&vR(n,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g0(n){let t;const e=await Hp(n.appConfig,r=>{const a=XV(r),u=JV(n,a);return t=u.registrationPromise,u.installationEntry});return e.fid===ev?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function XV(n){const t=n||{fid:GV(),registrationStatus:0};return wR(t)}function JV(n,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(du.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=t3(n,e);return{installationEntry:e,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:e3(n)}:{installationEntry:t}}async function t3(n,t){try{const e=await FV(n,t);return np(n.appConfig,e)}catch(e){throw hR(e)&&e.customData.serverCode===409?await ER(n.appConfig):await np(n.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function e3(n){let t=await US(n.appConfig);for(;t.registrationStatus===1;)await _R(100),t=await US(n.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:r}=await g0(n);return r||e}return t}function US(n){return Hp(n,t=>{if(!t)throw du.create("installation-not-found");return wR(t)})}function wR(n){return n3(n)?{fid:n.fid,registrationStatus:0}:n}function n3(n){return n.registrationStatus===1&&n.registrationTime+lR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i3({appConfig:n,heartbeatServiceProvider:t},e){const r=r3(n,e),a=zV(n,e),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const f={installation:{sdkVersion:uR,appId:n.appId}},g={method:"POST",headers:a,body:JSON.stringify(f)},_=await gR(()=>fetch(r,g));if(_.ok){const v=await _.json();return dR(v)}else throw await mR("Generate Auth Token",_)}function r3(n,{fid:t}){return`${fR(n)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _0(n,t=!1){let e;const r=await Hp(n.appConfig,u=>{if(!TR(u))throw du.create("not-registered");const f=u.authToken;if(!t&&o3(f))return u;if(f.requestStatus===1)return e=s3(n,t),u;{if(!navigator.onLine)throw du.create("app-offline");const g=u3(u);return e=a3(n,g),g}});return e?await e:r.authToken}async function s3(n,t){let e=await FS(n.appConfig);for(;e.authToken.requestStatus===1;)await _R(100),e=await FS(n.appConfig);const r=e.authToken;return r.requestStatus===0?_0(n,t):r}function FS(n){return Hp(n,t=>{if(!TR(t))throw du.create("not-registered");const e=t.authToken;return c3(e)?{...t,authToken:{requestStatus:0}}:t})}async function a3(n,t){try{const e=await i3(n,t),r={...t,authToken:e};return await np(n.appConfig,r),e}catch(e){if(hR(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await ER(n.appConfig);else{const r={...t,authToken:{requestStatus:0}};await np(n.appConfig,r)}throw e}}function TR(n){return n!==void 0&&n.registrationStatus===2}function o3(n){return n.requestStatus===2&&!l3(n)}function l3(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+DV}function u3(n){const t={requestStatus:1,requestTime:Date.now()};return{...n,authToken:t}}function c3(n){return n.requestStatus===1&&n.requestTime+lR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(n){const t=n,{installationEntry:e,registrationPromise:r}=await g0(t);return r?r.catch(console.error):_0(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(n,t=!1){const e=n;return await d3(e),(await _0(e,t)).token}async function d3(n){const{registrationPromise:t}=await g0(n);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(n){if(!n||!n.options)throw ay("App Configuration");if(!n.name)throw ay("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw ay(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function ay(n){return du.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="installations",p3="installations-internal",g3=n=>{const t=n.getProvider("app").getImmediate(),e=m3(t),r=Eu(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_3=n=>{const t=n.getProvider("app").getImmediate(),e=Eu(t,SR).getImmediate();return{getId:()=>h3(e),getToken:a=>f3(e,a)}};function y3(){oa(new vs(SR,g3,"PUBLIC")),oa(new vs(p3,_3,"PRIVATE"))}y3();Fr(oR,m0);Fr(oR,m0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="analytics",v3="firebase_id",b3="origin",E3=60*1e3,w3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",y0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new bp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mr=new bu("analytics","Analytics",T3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(n){if(!n.startsWith(y0)){const t=mr.create("invalid-gtag-resource",{gtagURL:n});return Ei.warn(t.message),""}return n}function AR(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function A3(n,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(n,t)),e}function x3(n,t){const e=A3("firebase-js-sdk-policy",{createScriptURL:S3}),r=document.createElement("script"),a=`${y0}?l=${n}&id=${t}`;r.src=e?e==null?void 0:e.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function C3(n){let t=[];return Array.isArray(window[n])?t=window[n]:window[n]=t,t}async function R3(n,t,e,r,a,u){const f=r[a];try{if(f)await t[f];else{const _=(await AR(e)).find(v=>v.measurementId===a);_&&await t[_.appId]}}catch(g){Ei.error(g)}n("config",a,u)}async function I3(n,t,e,r,a){try{let u=[];if(a&&a.send_to){let f=a.send_to;Array.isArray(f)||(f=[f]);const g=await AR(e);for(const _ of f){const v=g.find(x=>x.measurementId===_),T=v&&t[v.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),n("event",r,a||{})}catch(u){Ei.error(u)}}function O3(n,t,e,r){async function a(u,...f){try{if(u==="event"){const[g,_]=f;await I3(n,t,e,g,_)}else if(u==="config"){const[g,_]=f;await R3(n,t,e,r,g,_)}else if(u==="consent"){const[g,_]=f;n("consent",g,_)}else if(u==="get"){const[g,_,v]=f;n("get",g,_,v)}else if(u==="set"){const[g]=f;n("set",g)}else n(u,...f)}catch(g){Ei.error(g)}}return a}function P3(n,t,e,r,a){let u=function(...f){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(u=window[a]),window[a]=O3(u,n,t,e),{gtagCore:u,wrappedGtag:window[a]}}function N3(n){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(y0)&&e.src.includes(n))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=30,M3=1e3;class D3{constructor(t={},e=M3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const xR=new D3;function k3(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function j3(n){var f;const{appId:t,apiKey:e}=n,r={method:"GET",headers:k3(e)},a=w3.replace("{app-id}",t),u=await fetch(a,r);if(u.status!==200&&u.status!==304){let g="";try{const _=await u.json();(f=_.error)!=null&&f.message&&(g=_.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function V3(n,t=xR,e){const{appId:r,apiKey:a,measurementId:u}=n.options;if(!r)throw mr.create("no-app-id");if(!a){if(u)return{measurementId:u,appId:r};throw mr.create("no-api-key")}const f=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new U3;return setTimeout(async()=>{g.abort()},E3),CR({appId:r,apiKey:a,measurementId:u},f,g,t)}async function CR(n,{throttleEndTimeMillis:t,backoffCount:e},r,a=xR){var g;const{appId:u,measurementId:f}=n;try{await z3(r,t)}catch(_){if(f)return Ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:u,measurementId:f};throw _}try{const _=await j3(n);return a.deleteThrottleMetadata(u),_}catch(_){const v=_;if(!B3(v)){if(a.deleteThrottleMetadata(u),f)return Ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:u,measurementId:f};throw _}const T=Number((g=v==null?void 0:v.customData)==null?void 0:g.httpStatus)===503?dT(e,a.intervalMillis,L3):dT(e,a.intervalMillis),x={throttleEndTimeMillis:Date.now()+T,backoffCount:e+1};return a.setThrottleMetadata(u,x),Ei.debug(`Calling attemptFetch again in ${T} millis`),CR(n,x,r,a)}}function z3(n,t){return new Promise((e,r)=>{const a=Math.max(t-Date.now(),0),u=setTimeout(e,a);n.addEventListener(()=>{clearTimeout(u),r(mr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function B3(n){if(!(n instanceof Ss)||!n.customData)return!1;const t=Number(n.customData.httpStatus);return t===429||t===500||t===503||t===504}class U3{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function F3(n,t,e,r,a){if(a&&a.global){n("event",e,r);return}else{const u=await t,f={...r,send_to:u};n("event",e,f)}}async function H3(n,t,e,r){if(r&&r.global){const a={};for(const u of Object.keys(e))a[`user_properties.${u}`]=e[u];return n("set",a),Promise.resolve()}else{const a=await t;n("config",a,{update:!0,user_properties:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(){if(B1())try{await U1()}catch(n){return Ei.warn(mr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Ei.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function G3(n,t,e,r,a,u,f){const g=V3(n);g.then(O=>{e[O.measurementId]=O.appId,n.options.measurementId&&O.measurementId!==n.options.measurementId&&Ei.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>Ei.error(O)),t.push(g);const _=q3().then(O=>{if(O)return r.getId()}),[v,T]=await Promise.all([g,_]);N3(u)||x3(u,v.measurementId),a("js",new Date);const x=(f==null?void 0:f.config)??{};return x[b3]="firebase",x.update=!0,T!=null&&(x[v3]=T),a("config",v.measurementId,x),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t){this.app=t}_delete(){return delete Ac[this.app.options.appId],Promise.resolve()}}let Ac={},HS=[];const qS={};let oy="dataLayer",K3="gtag",GS,v0,ZS=!1;function W3(){const n=[];if(z1()&&n.push("This is a browser extension environment."),LL()||n.push("Cookies are not available."),n.length>0){const t=n.map((r,a)=>`(${a+1}) ${r}`).join(" "),e=mr.create("invalid-analytics-context",{errorInfo:t});Ei.warn(e.message)}}function Y3(n,t,e){W3();const r=n.options.appId;if(!r)throw mr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mr.create("no-api-key");if(Ac[r]!=null)throw mr.create("already-exists",{id:r});if(!ZS){C3(oy);const{wrappedGtag:u,gtagCore:f}=P3(Ac,HS,qS,oy,K3);v0=u,GS=f,ZS=!0}return Ac[r]=G3(n,HS,qS,t,GS,oy,e),new Z3(n)}function $3(n=Tv()){n=En(n);const t=Eu(n,ip);return t.isInitialized()?t.getImmediate():Q3(n)}function Q3(n,t={}){const e=Eu(n,ip);if(e.isInitialized()){const a=e.getImmediate();if(nl(t,e.getOptions()))return a;throw mr.create("already-initialized")}return e.initialize({options:t})}function X3(n,t,e){n=En(n),H3(v0,Ac[n.app.options.appId],t,e).catch(r=>Ei.error(r))}function J3(n,t,e,r){n=En(n),F3(v0,Ac[n.app.options.appId],t,e,r).catch(a=>Ei.error(a))}const KS="@firebase/analytics",WS="0.10.19";function tz(){oa(new vs(ip,(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return Y3(r,a,e)},"PUBLIC")),oa(new vs("analytics-internal",n,"PRIVATE")),Fr(KS,WS),Fr(KS,WS,"esm2020");function n(t){try{const e=t.getProvider(ip).getImmediate();return{logEvent:(r,a,u)=>J3(e,r,a,u),setUserProperties:(r,a)=>X3(e,r,a)}}catch(e){throw mr.create("interop-component-reg-failed",{reason:e})}}}tz();const ez={apiKey:"AIzaSyBpUED221Qngm9iO2vMU8HRzOaPzAQgbb0",authDomain:"tidal-mare.firebaseapp.com",projectId:"tidal-mare",storageBucket:"tidal-mare.firebasestorage.app",messagingSenderId:"411121995154",appId:"1:411121995154:web:9be647215a9de1efc8454b",measurementId:"G-YZNZQZJT7T"},b0=G1(ez),Go=p5(b0),cr=dV(b0);$3(b0);class $l{static getToken(){return localStorage.getItem(this.TOKEN_KEY)}static setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}static removeToken(){localStorage.removeItem(this.TOKEN_KEY)}}se($l,"TOKEN_KEY","auth_token");class qo{static async login(t,e){const r=await tk(Go,t,e),a=await r.user.getIdToken();return $l.setToken(a),r.user}static async loginWithGoogle(){const t=new Va,r=(await Sk(Go,t)).user,a=await r.getIdToken();return $l.setToken(a),await this.createUserDocument(r),r}static async loginAnonymously(){const t=await WD(Go),e=await t.user.getIdToken();return $l.setToken(e),t.user}static async register(t,e){const a=(await JD(Go,t,e)).user,u=await a.getIdToken();return $l.setToken(u),await this.createUserDocument(a),a}static async resetPassword(t){await XD(Go,t)}static async logout(){await rk(Go),$l.removeToken()}static onAuthStateChanged(t){return ik(Go,t)}static async getUserProfile(t){const e=fu(cr,"users",t),r=await Jy(e);return r.exists()?r.data():null}static async createUserDocument(t){const e=fu(cr,"users",t.uid);(await Jy(e)).exists()||await IV(e,{email:t.email,role:"customer",createdAt:new Date().toISOString(),displayName:t.displayName||"",photoURL:t.photoURL||""})}}class nz{constructor(){se(this,"user",null);se(this,"isLoading",!1);se(this,"error",null);se(this,"sustainabilityStats",{co2Saved:124,treesPlanted:12,distance:850});gp(this,{},{autoBind:!0}),this.checkAuth()}get isAuthenticated(){return!!this.user}get isAdmin(){var t;return((t=this.user)==null?void 0:t.role)==="admin"}async login(t,e){this.isLoading=!0,this.error=null;try{const r=await qo.login(t,e);oe(()=>{this.user={id:r.uid,email:r.email||"",role:"customer"}})}catch(r){oe(()=>{this.error=r.message||"Login failed"})}finally{oe(()=>{this.isLoading=!1})}}async loginWithGoogle(){this.isLoading=!0,this.error=null;try{const t=await qo.loginWithGoogle();oe(()=>{this.user={id:t.uid,email:t.email||"",role:"customer"}})}catch(t){oe(()=>{this.error=t.message||"Google login failed"})}finally{oe(()=>{this.isLoading=!1})}}async loginAnonymously(){this.isLoading=!0,this.error=null;try{const t=await qo.loginAnonymously();oe(()=>{this.user={id:t.uid,email:"guest@tidalmare.com",role:"guest"}})}catch(t){oe(()=>{console.error("Guest login error:",t),this.error=`Error (${t.code}): ${t.message}`})}finally{oe(()=>{this.isLoading=!1})}}async register(t,e){this.isLoading=!0,this.error=null;try{const r=await qo.register(t,e);oe(()=>{this.user={id:r.uid,email:r.email||"",role:"customer"}})}catch(r){oe(()=>{this.error=r.message||"Registration failed"})}finally{oe(()=>{this.isLoading=!1})}}async resetPassword(t){this.isLoading=!0,this.error=null;try{await qo.resetPassword(t)}catch(e){throw oe(()=>{this.error=e.message||"Reset password failed"}),e}finally{oe(()=>{this.isLoading=!1})}}logout(){qo.logout(),this.user=null}checkAuth(){qo.onAuthStateChanged(async t=>{if(t){if(t.isAnonymous){oe(()=>{this.user={id:t.uid,email:"guest@tidalmare.com",role:"guest"}});return}try{const e=await qo.getUserProfile(t.uid);oe(()=>{this.user={id:t.uid,email:t.email||"",role:(e==null?void 0:e.role)||"customer"}})}catch{oe(()=>{this.user={id:t.uid,email:t.email||"",role:"customer"}})}}else oe(()=>{this.user=null})})}}const YS={REQUESTED:"REQUESTED",CONFIRMED:"CONFIRMED",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED"},xc={DUMMY:"DUMMY",GREENWHEELS:"GREENWHEELS",MYWHEELS:"MYWHEELS"},Cc={EV:"EV",HYBRID:"HYBRID",PETROL:"PETROL"},Uh="bookings";class bm{static async createBooking(t){try{return(await tv(Jl(cr,Uh),{...t,createdAt:new Date().toISOString()})).id}catch(e){throw console.error("Error creating booking: ",e),e}}static async getUserBookings(t){try{const e=AV(Jl(cr,Uh),xV("userId","==",t));return(await ep(e)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){return console.error("Error fetching user bookings: ",e),[]}}static async getAllBookings(){try{return(await ep(Jl(cr,Uh))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Error fetching all bookings: ",t),[]}}static async updateBookingStatus(t,e,r){const a=fu(cr,Uh,t);await OV(a,{status:e,cancellationReason:r})}static async getBookingById(t){const e=fu(cr,Uh,t),r=await Jy(e);return r.exists()?{id:r.id,...r.data()}:null}}class RR{constructor(){se(this,"startStreet","");se(this,"startHouseNumber","");se(this,"startPostcode","");se(this,"startCity","");se(this,"startCountry","Nederland");se(this,"isStartAddressValid",!1);se(this,"startLat",null);se(this,"startLng",null);se(this,"endStreet","");se(this,"endHouseNumber","");se(this,"endPostcode","");se(this,"endCity","");se(this,"endCountry","Nederland");se(this,"isEndAddressValid",!1);se(this,"endLat",null);se(this,"endLng",null);se(this,"bookingNote","");se(this,"dateTime",new Date().toISOString());se(this,"passengers",1);se(this,"luggageLevel",0);se(this,"availableCars",[]);se(this,"selectedCar",null);se(this,"isLoading",!1);se(this,"error",null);se(this,"bookingStatus",null);se(this,"selectedBookingDetails",null);se(this,"isCancelling",!1);se(this,"showValidationErrors",!1);gp(this)}setStartAddress(t){this.startStreet=t.street,this.startHouseNumber=t.houseNumber,this.startPostcode=t.postcode,this.startCity=t.city,this.startCountry=t.country,this.startLat=t.latitude,this.startLng=t.longitude,this.isStartAddressValid=!0}setEndAddress(t){this.endStreet=t.street,this.endHouseNumber=t.houseNumber,this.endPostcode=t.postcode,this.endCity=t.city,this.endCountry=t.country,this.endLat=t.latitude,this.endLng=t.longitude,this.isEndAddressValid=!0}updateStartField(t,e){t==="street"?(this.startStreet=e,this.startHouseNumber="",this.startPostcode="",this.startCity=""):t==="houseNumber"?this.startHouseNumber=e:t==="postcode"?this.startPostcode=e:t==="city"&&(this.startCity=e),this.isStartAddressValid=!1}updateEndField(t,e){t==="street"?(this.endStreet=e,this.endHouseNumber="",this.endPostcode="",this.endCity=""):t==="houseNumber"?this.endHouseNumber=e:t==="postcode"?this.endPostcode=e:t==="city"&&(this.endCity=e),this.isEndAddressValid=!1}setPassengers(t){this.passengers=t}setLuggageLevel(t){this.luggageLevel=t}setBookingNote(t){this.bookingNote=t}get canSearch(){return this.isStartAddressValid&&this.isEndAddressValid&&this.passengers>0}async searchCars(){if(this.showValidationErrors=!0,!this.canSearch){oe(()=>{this.error="Vul a.u.b. geldige start- en eindadressen in."});return}this.isLoading=!0,this.error=null,this.availableCars=[],setTimeout(()=>{oe(()=>{this.availableCars=[{id:"car-1",make:"Tesla",model:"Model Y",provider:xc.MYWHEELS,seats:4,fuelType:Cc.EV,luggageCapacity:1,range:450,pricePerHourEstimate:18,rating:4.8,location:{latitude:52.3676,longitude:4.9041,address:"Amsterdam Centrum"}},{id:"car-2",make:"BMW",model:"iX",provider:xc.GREENWHEELS,seats:5,fuelType:Cc.EV,luggageCapacity:2,range:520,pricePerHourEstimate:24,rating:4.9,location:{latitude:52.365,longitude:4.9,address:"Amsterdam Zuid"}},{id:"car-3",make:"Polestar",model:"2",provider:xc.MYWHEELS,seats:4,fuelType:Cc.EV,luggageCapacity:1,range:400,pricePerHourEstimate:16,rating:4.7,location:{latitude:52.37,longitude:4.91,address:"Amsterdam Oost"}}],this.isLoading=!1})},800)}selectCar(t){this.selectedCar=t}async confirmBooking(){if(!this.selectedCar||!this.isStartAddressValid||!this.isEndAddressValid)return;const t=Go.currentUser;if(!t){oe(()=>{this.error="Je moet ingelogd zijn om te boeken."});return}this.isLoading=!0;try{const e={userId:t.uid,carId:this.selectedCar.id,startLocation:{address:`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`,latitude:this.startLat||0,longitude:this.startLng||0},endLocation:{address:`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`,latitude:this.endLat||0,longitude:this.endLng||0},startTime:this.dateTime,totalPrice:this.selectedCar.pricePerHourEstimate*2,note:this.bookingNote,status:YS.REQUESTED};await bm.createBooking(e),oe(()=>{this.bookingStatus=YS.REQUESTED})}catch(e){oe(()=>{this.error=e.message||"Booking failed"})}finally{oe(()=>{this.isLoading=!1})}}clearForm(){this.startStreet="",this.startHouseNumber="",this.startPostcode="",this.startCity="",this.isStartAddressValid=!1,this.endStreet="",this.endHouseNumber="",this.endPostcode="",this.endCity="",this.isEndAddressValid=!1,this.bookingNote="",this.availableCars=[],this.bookingStatus=null}get startAddressSummary(){return this.startStreet?`${this.startStreet} ${this.startHouseNumber}, ${this.startCity}`:"-"}get endAddressSummary(){return this.endStreet?`${this.endStreet} ${this.endHouseNumber}, ${this.endCity}`:"-"}async cancelBooking(t,e){var r;this.isCancelling=!0;try{await bm.updateBookingStatus(t,"CANCELLED",e),((r=this.selectedBookingDetails)==null?void 0:r.id)===t&&await this.loadBookingDetails(t)}catch(a){console.error(a)}finally{oe(()=>{this.isCancelling=!1})}}async loadBookingDetails(t){try{const e=await bm.getBookingById(t);oe(()=>this.selectedBookingDetails=e)}catch(e){console.error(e)}}}function IR(n,t){return function(){return n.apply(t,arguments)}}const{toString:iz}=Object.prototype,{getPrototypeOf:E0}=Object,{iterator:qp,toStringTag:OR}=Symbol,Gp=(n=>t=>{const e=iz.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),As=n=>(n=n.toLowerCase(),t=>Gp(t)===n),Zp=n=>t=>typeof t===n,{isArray:Xc}=Array,jc=Zp("undefined");function Vf(n){return n!==null&&!jc(n)&&n.constructor!==null&&!jc(n.constructor)&&Hi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const PR=As("ArrayBuffer");function rz(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&PR(n.buffer),t}const sz=Zp("string"),Hi=Zp("function"),NR=Zp("number"),zf=n=>n!==null&&typeof n=="object",az=n=>n===!0||n===!1,Em=n=>{if(Gp(n)!=="object")return!1;const t=E0(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(OR in n)&&!(qp in n)},oz=n=>{if(!zf(n)||Vf(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},lz=As("Date"),uz=As("File"),cz=As("Blob"),hz=As("FileList"),fz=n=>zf(n)&&Hi(n.pipe),dz=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Hi(n.append)&&((t=Gp(n))==="formdata"||t==="object"&&Hi(n.toString)&&n.toString()==="[object FormData]"))},mz=As("URLSearchParams"),[pz,gz,_z,yz]=["ReadableStream","Request","Response","Headers"].map(As),vz=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bf(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let r,a;if(typeof n!="object"&&(n=[n]),Xc(n))for(r=0,a=n.length;r<a;r++)t.call(null,n[r],r,n);else{if(Vf(n))return;const u=e?Object.getOwnPropertyNames(n):Object.keys(n),f=u.length;let g;for(r=0;r<f;r++)g=u[r],t.call(null,n[g],g,n)}}function LR(n,t){if(Vf(n))return null;t=t.toLowerCase();const e=Object.keys(n);let r=e.length,a;for(;r-- >0;)if(a=e[r],t===a.toLowerCase())return a;return null}const eu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MR=n=>!jc(n)&&n!==eu;function nv(){const{caseless:n,skipUndefined:t}=MR(this)&&this||{},e={},r=(a,u)=>{const f=n&&LR(e,u)||u;Em(e[f])&&Em(a)?e[f]=nv(e[f],a):Em(a)?e[f]=nv({},a):Xc(a)?e[f]=a.slice():(!t||!jc(a))&&(e[f]=a)};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&Bf(arguments[a],r);return e}const bz=(n,t,e,{allOwnKeys:r}={})=>(Bf(t,(a,u)=>{e&&Hi(a)?n[u]=IR(a,e):n[u]=a},{allOwnKeys:r}),n),Ez=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),wz=(n,t,e,r)=>{n.prototype=Object.create(t.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},Tz=(n,t,e,r)=>{let a,u,f;const g={};if(t=t||{},n==null)return t;do{for(a=Object.getOwnPropertyNames(n),u=a.length;u-- >0;)f=a[u],(!r||r(f,n,t))&&!g[f]&&(t[f]=n[f],g[f]=!0);n=e!==!1&&E0(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},Sz=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const r=n.indexOf(t,e);return r!==-1&&r===e},Az=n=>{if(!n)return null;if(Xc(n))return n;let t=n.length;if(!NR(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},xz=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&E0(Uint8Array)),Cz=(n,t)=>{const r=(n&&n[qp]).call(n);let a;for(;(a=r.next())&&!a.done;){const u=a.value;t.call(n,u[0],u[1])}},Rz=(n,t)=>{let e;const r=[];for(;(e=n.exec(t))!==null;)r.push(e);return r},Iz=As("HTMLFormElement"),Oz=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,r,a){return r.toUpperCase()+a}),$S=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),Pz=As("RegExp"),DR=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),r={};Bf(e,(a,u)=>{let f;(f=t(a,u,n))!==!1&&(r[u]=f||a)}),Object.defineProperties(n,r)},Nz=n=>{DR(n,(t,e)=>{if(Hi(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const r=n[e];if(Hi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Lz=(n,t)=>{const e={},r=a=>{a.forEach(u=>{e[u]=!0})};return Xc(n)?r(n):r(String(n).split(t)),e},Mz=()=>{},Dz=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function kz(n){return!!(n&&Hi(n.append)&&n[OR]==="FormData"&&n[qp])}const jz=n=>{const t=new Array(10),e=(r,a)=>{if(zf(r)){if(t.indexOf(r)>=0)return;if(Vf(r))return r;if(!("toJSON"in r)){t[a]=r;const u=Xc(r)?[]:{};return Bf(r,(f,g)=>{const _=e(f,a+1);!jc(_)&&(u[g]=_)}),t[a]=void 0,u}}return r};return e(n,0)},Vz=As("AsyncFunction"),zz=n=>n&&(zf(n)||Hi(n))&&Hi(n.then)&&Hi(n.catch),kR=((n,t)=>n?setImmediate:t?((e,r)=>(eu.addEventListener("message",({source:a,data:u})=>{a===eu&&u===e&&r.length&&r.shift()()},!1),a=>{r.push(a),eu.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Hi(eu.postMessage)),Bz=typeof queueMicrotask<"u"?queueMicrotask.bind(eu):typeof process<"u"&&process.nextTick||kR,Uz=n=>n!=null&&Hi(n[qp]),ot={isArray:Xc,isArrayBuffer:PR,isBuffer:Vf,isFormData:dz,isArrayBufferView:rz,isString:sz,isNumber:NR,isBoolean:az,isObject:zf,isPlainObject:Em,isEmptyObject:oz,isReadableStream:pz,isRequest:gz,isResponse:_z,isHeaders:yz,isUndefined:jc,isDate:lz,isFile:uz,isBlob:cz,isRegExp:Pz,isFunction:Hi,isStream:fz,isURLSearchParams:mz,isTypedArray:xz,isFileList:hz,forEach:Bf,merge:nv,extend:bz,trim:vz,stripBOM:Ez,inherits:wz,toFlatObject:Tz,kindOf:Gp,kindOfTest:As,endsWith:Sz,toArray:Az,forEachEntry:Cz,matchAll:Rz,isHTMLForm:Iz,hasOwnProperty:$S,hasOwnProp:$S,reduceDescriptors:DR,freezeMethods:Nz,toObjectSet:Lz,toCamelCase:Oz,noop:Mz,toFiniteNumber:Dz,findKey:LR,global:eu,isContextDefined:MR,isSpecCompliantForm:kz,toJSONObject:jz,isAsyncFn:Vz,isThenable:zz,setImmediate:kR,asap:Bz,isIterable:Uz};function te(n,t,e,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ot.inherits(te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.status}}});const jR=te.prototype,VR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{VR[n]={value:n}});Object.defineProperties(te,VR);Object.defineProperty(jR,"isAxiosError",{value:!0});te.from=(n,t,e,r,a,u)=>{const f=Object.create(jR);ot.toFlatObject(n,f,function(T){return T!==Error.prototype},v=>v!=="isAxiosError");const g=n&&n.message?n.message:"Error",_=t==null&&n?n.code:t;return te.call(f,g,_,e,r,a),n&&f.cause==null&&Object.defineProperty(f,"cause",{value:n,configurable:!0}),f.name=n&&n.name||"Error",u&&Object.assign(f,u),f};const Fz=null;function iv(n){return ot.isPlainObject(n)||ot.isArray(n)}function zR(n){return ot.endsWith(n,"[]")?n.slice(0,-2):n}function QS(n,t,e){return n?n.concat(t).map(function(a,u){return a=zR(a),!e&&u?"["+a+"]":a}).join(e?".":""):t}function Hz(n){return ot.isArray(n)&&!n.some(iv)}const qz=ot.toFlatObject(ot,{},null,function(t){return/^is[A-Z]/.test(t)});function Kp(n,t,e){if(!ot.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=ot.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(z,k){return!ot.isUndefined(k[z])});const r=e.metaTokens,a=e.visitor||T,u=e.dots,f=e.indexes,_=(e.Blob||typeof Blob<"u"&&Blob)&&ot.isSpecCompliantForm(t);if(!ot.isFunction(a))throw new TypeError("visitor must be a function");function v(M){if(M===null)return"";if(ot.isDate(M))return M.toISOString();if(ot.isBoolean(M))return M.toString();if(!_&&ot.isBlob(M))throw new te("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(M)||ot.isTypedArray(M)?_&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function T(M,z,k){let ct=M;if(M&&!k&&typeof M=="object"){if(ot.endsWith(z,"{}"))z=r?z:z.slice(0,-2),M=JSON.stringify(M);else if(ot.isArray(M)&&Hz(M)||(ot.isFileList(M)||ot.endsWith(z,"[]"))&&(ct=ot.toArray(M)))return z=zR(z),ct.forEach(function(nt,Tt){!(ot.isUndefined(nt)||nt===null)&&t.append(f===!0?QS([z],Tt,u):f===null?z:z+"[]",v(nt))}),!1}return iv(M)?!0:(t.append(QS(k,z,u),v(M)),!1)}const x=[],O=Object.assign(qz,{defaultVisitor:T,convertValue:v,isVisitable:iv});function D(M,z){if(!ot.isUndefined(M)){if(x.indexOf(M)!==-1)throw Error("Circular reference detected in "+z.join("."));x.push(M),ot.forEach(M,function(ct,Et){(!(ot.isUndefined(ct)||ct===null)&&a.call(t,ct,ot.isString(Et)?Et.trim():Et,z,O))===!0&&D(ct,z?z.concat(Et):[Et])}),x.pop()}}if(!ot.isObject(n))throw new TypeError("data must be an object");return D(n),t}function XS(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function w0(n,t){this._pairs=[],n&&Kp(n,this,t)}const BR=w0.prototype;BR.append=function(t,e){this._pairs.push([t,e])};BR.toString=function(t){const e=t?function(r){return t.call(this,r,XS)}:XS;return this._pairs.map(function(a){return e(a[0])+"="+e(a[1])},"").join("&")};function Gz(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function UR(n,t,e){if(!t)return n;const r=e&&e.encode||Gz;ot.isFunction(e)&&(e={serialize:e});const a=e&&e.serialize;let u;if(a?u=a(t,e):u=ot.isURLSearchParams(t)?t.toString():new w0(t,e).toString(r),u){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class JS{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ot.forEach(this.handlers,function(r){r!==null&&t(r)})}}const FR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zz=typeof URLSearchParams<"u"?URLSearchParams:w0,Kz=typeof FormData<"u"?FormData:null,Wz=typeof Blob<"u"?Blob:null,Yz={isBrowser:!0,classes:{URLSearchParams:Zz,FormData:Kz,Blob:Wz},protocols:["http","https","file","blob","url","data"]},T0=typeof window<"u"&&typeof document<"u",rv=typeof navigator=="object"&&navigator||void 0,$z=T0&&(!rv||["ReactNative","NativeScript","NS"].indexOf(rv.product)<0),Qz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xz=T0&&window.location.href||"http://localhost",Jz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:T0,hasStandardBrowserEnv:$z,hasStandardBrowserWebWorkerEnv:Qz,navigator:rv,origin:Xz},Symbol.toStringTag,{value:"Module"})),ci={...Jz,...Yz};function t6(n,t){return Kp(n,new ci.classes.URLSearchParams,{visitor:function(e,r,a,u){return ci.isNode&&ot.isBuffer(e)?(this.append(r,e.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...t})}function e6(n){return ot.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function n6(n){const t={},e=Object.keys(n);let r;const a=e.length;let u;for(r=0;r<a;r++)u=e[r],t[u]=n[u];return t}function HR(n){function t(e,r,a,u){let f=e[u++];if(f==="__proto__")return!0;const g=Number.isFinite(+f),_=u>=e.length;return f=!f&&ot.isArray(a)?a.length:f,_?(ot.hasOwnProp(a,f)?a[f]=[a[f],r]:a[f]=r,!g):((!a[f]||!ot.isObject(a[f]))&&(a[f]=[]),t(e,r,a[f],u)&&ot.isArray(a[f])&&(a[f]=n6(a[f])),!g)}if(ot.isFormData(n)&&ot.isFunction(n.entries)){const e={};return ot.forEachEntry(n,(r,a)=>{t(e6(r),a,e,0)}),e}return null}function i6(n,t,e){if(ot.isString(n))try{return(t||JSON.parse)(n),ot.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(e||JSON.stringify)(n)}const Uf={transitional:FR,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",a=r.indexOf("application/json")>-1,u=ot.isObject(t);if(u&&ot.isHTMLForm(t)&&(t=new FormData(t)),ot.isFormData(t))return a?JSON.stringify(HR(t)):t;if(ot.isArrayBuffer(t)||ot.isBuffer(t)||ot.isStream(t)||ot.isFile(t)||ot.isBlob(t)||ot.isReadableStream(t))return t;if(ot.isArrayBufferView(t))return t.buffer;if(ot.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return t6(t,this.formSerializer).toString();if((g=ot.isFileList(t))||r.indexOf("multipart/form-data")>-1){const _=this.env&&this.env.FormData;return Kp(g?{"files[]":t}:t,_&&new _,this.formSerializer)}}return u||a?(e.setContentType("application/json",!1),i6(t)):t}],transformResponse:[function(t){const e=this.transitional||Uf.transitional,r=e&&e.forcedJSONParsing,a=this.responseType==="json";if(ot.isResponse(t)||ot.isReadableStream(t))return t;if(t&&ot.isString(t)&&(r&&!this.responseType||a)){const f=!(e&&e.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(g){if(f)throw g.name==="SyntaxError"?te.from(g,te.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ci.classes.FormData,Blob:ci.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],n=>{Uf.headers[n]={}});const r6=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s6=n=>{const t={};let e,r,a;return n&&n.split(`
`).forEach(function(f){a=f.indexOf(":"),e=f.substring(0,a).trim().toLowerCase(),r=f.substring(a+1).trim(),!(!e||t[e]&&r6[e])&&(e==="set-cookie"?t[e]?t[e].push(r):t[e]=[r]:t[e]=t[e]?t[e]+", "+r:r)}),t},tA=Symbol("internals");function Fh(n){return n&&String(n).trim().toLowerCase()}function wm(n){return n===!1||n==null?n:ot.isArray(n)?n.map(wm):String(n)}function a6(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=e.exec(n);)t[r[1]]=r[2];return t}const o6=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ly(n,t,e,r,a){if(ot.isFunction(r))return r.call(this,t,e);if(a&&(t=e),!!ot.isString(t)){if(ot.isString(r))return t.indexOf(r)!==-1;if(ot.isRegExp(r))return r.test(t)}}function l6(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,r)=>e.toUpperCase()+r)}function u6(n,t){const e=ot.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+e,{value:function(a,u,f){return this[r].call(this,t,a,u,f)},configurable:!0})})}let qi=class{constructor(t){t&&this.set(t)}set(t,e,r){const a=this;function u(g,_,v){const T=Fh(_);if(!T)throw new Error("header name must be a non-empty string");const x=ot.findKey(a,T);(!x||a[x]===void 0||v===!0||v===void 0&&a[x]!==!1)&&(a[x||_]=wm(g))}const f=(g,_)=>ot.forEach(g,(v,T)=>u(v,T,_));if(ot.isPlainObject(t)||t instanceof this.constructor)f(t,e);else if(ot.isString(t)&&(t=t.trim())&&!o6(t))f(s6(t),e);else if(ot.isObject(t)&&ot.isIterable(t)){let g={},_,v;for(const T of t){if(!ot.isArray(T))throw TypeError("Object iterator must return a key-value pair");g[v=T[0]]=(_=g[v])?ot.isArray(_)?[..._,T[1]]:[_,T[1]]:T[1]}f(g,e)}else t!=null&&u(e,t,r);return this}get(t,e){if(t=Fh(t),t){const r=ot.findKey(this,t);if(r){const a=this[r];if(!e)return a;if(e===!0)return a6(a);if(ot.isFunction(e))return e.call(this,a,r);if(ot.isRegExp(e))return e.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Fh(t),t){const r=ot.findKey(this,t);return!!(r&&this[r]!==void 0&&(!e||ly(this,this[r],r,e)))}return!1}delete(t,e){const r=this;let a=!1;function u(f){if(f=Fh(f),f){const g=ot.findKey(r,f);g&&(!e||ly(r,r[g],g,e))&&(delete r[g],a=!0)}}return ot.isArray(t)?t.forEach(u):u(t),a}clear(t){const e=Object.keys(this);let r=e.length,a=!1;for(;r--;){const u=e[r];(!t||ly(this,this[u],u,t,!0))&&(delete this[u],a=!0)}return a}normalize(t){const e=this,r={};return ot.forEach(this,(a,u)=>{const f=ot.findKey(r,u);if(f){e[f]=wm(a),delete e[u];return}const g=t?l6(u):String(u).trim();g!==u&&delete e[u],e[g]=wm(a),r[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return ot.forEach(this,(r,a)=>{r!=null&&r!==!1&&(e[a]=t&&ot.isArray(r)?r.join(", "):r)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[tA]=this[tA]={accessors:{}}).accessors,a=this.prototype;function u(f){const g=Fh(f);r[g]||(u6(a,f),r[g]=!0)}return ot.isArray(t)?t.forEach(u):u(t),this}};qi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ot.reduceDescriptors(qi.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(r){this[e]=r}}});ot.freezeMethods(qi);function uy(n,t){const e=this||Uf,r=t||e,a=qi.from(r.headers);let u=r.data;return ot.forEach(n,function(g){u=g.call(e,u,a.normalize(),t?t.status:void 0)}),a.normalize(),u}function qR(n){return!!(n&&n.__CANCEL__)}function Jc(n,t,e){te.call(this,n??"canceled",te.ERR_CANCELED,t,e),this.name="CanceledError"}ot.inherits(Jc,te,{__CANCEL__:!0});function GR(n,t,e){const r=e.config.validateStatus;!e.status||!r||r(e.status)?n(e):t(new te("Request failed with status code "+e.status,[te.ERR_BAD_REQUEST,te.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function c6(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function h6(n,t){n=n||10;const e=new Array(n),r=new Array(n);let a=0,u=0,f;return t=t!==void 0?t:1e3,function(_){const v=Date.now(),T=r[u];f||(f=v),e[a]=_,r[a]=v;let x=u,O=0;for(;x!==a;)O+=e[x++],x=x%n;if(a=(a+1)%n,a===u&&(u=(u+1)%n),v-f<t)return;const D=T&&v-T;return D?Math.round(O*1e3/D):void 0}}function f6(n,t){let e=0,r=1e3/t,a,u;const f=(v,T=Date.now())=>{e=T,a=null,u&&(clearTimeout(u),u=null),n(...v)};return[(...v)=>{const T=Date.now(),x=T-e;x>=r?f(v,T):(a=v,u||(u=setTimeout(()=>{u=null,f(a)},r-x)))},()=>a&&f(a)]}const rp=(n,t,e=3)=>{let r=0;const a=h6(50,250);return f6(u=>{const f=u.loaded,g=u.lengthComputable?u.total:void 0,_=f-r,v=a(_),T=f<=g;r=f;const x={loaded:f,total:g,progress:g?f/g:void 0,bytes:_,rate:v||void 0,estimated:v&&g&&T?(g-f)/v:void 0,event:u,lengthComputable:g!=null,[t?"download":"upload"]:!0};n(x)},e)},eA=(n,t)=>{const e=n!=null;return[r=>t[0]({lengthComputable:e,total:n,loaded:r}),t[1]]},nA=n=>(...t)=>ot.asap(()=>n(...t)),d6=ci.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,ci.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(ci.origin),ci.navigator&&/(msie|trident)/i.test(ci.navigator.userAgent)):()=>!0,m6=ci.hasStandardBrowserEnv?{write(n,t,e,r,a,u,f){if(typeof document>"u")return;const g=[`${n}=${encodeURIComponent(t)}`];ot.isNumber(e)&&g.push(`expires=${new Date(e).toUTCString()}`),ot.isString(r)&&g.push(`path=${r}`),ot.isString(a)&&g.push(`domain=${a}`),u===!0&&g.push("secure"),ot.isString(f)&&g.push(`SameSite=${f}`),document.cookie=g.join("; ")},read(n){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function p6(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function g6(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function ZR(n,t,e){let r=!p6(t);return n&&(r||e==!1)?g6(n,t):t}const iA=n=>n instanceof qi?{...n}:n;function pu(n,t){t=t||{};const e={};function r(v,T,x,O){return ot.isPlainObject(v)&&ot.isPlainObject(T)?ot.merge.call({caseless:O},v,T):ot.isPlainObject(T)?ot.merge({},T):ot.isArray(T)?T.slice():T}function a(v,T,x,O){if(ot.isUndefined(T)){if(!ot.isUndefined(v))return r(void 0,v,x,O)}else return r(v,T,x,O)}function u(v,T){if(!ot.isUndefined(T))return r(void 0,T)}function f(v,T){if(ot.isUndefined(T)){if(!ot.isUndefined(v))return r(void 0,v)}else return r(void 0,T)}function g(v,T,x){if(x in t)return r(v,T);if(x in n)return r(void 0,v)}const _={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:g,headers:(v,T,x)=>a(iA(v),iA(T),x,!0)};return ot.forEach(Object.keys({...n,...t}),function(T){const x=_[T]||a,O=x(n[T],t[T],T);ot.isUndefined(O)&&x!==g||(e[T]=O)}),e}const KR=n=>{const t=pu({},n);let{data:e,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:u,headers:f,auth:g}=t;if(t.headers=f=qi.from(f),t.url=UR(ZR(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),g&&f.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),ot.isFormData(e)){if(ci.hasStandardBrowserEnv||ci.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(ot.isFunction(e.getHeaders)){const _=e.getHeaders(),v=["content-type","content-length"];Object.entries(_).forEach(([T,x])=>{v.includes(T.toLowerCase())&&f.set(T,x)})}}if(ci.hasStandardBrowserEnv&&(r&&ot.isFunction(r)&&(r=r(t)),r||r!==!1&&d6(t.url))){const _=a&&u&&m6.read(u);_&&f.set(a,_)}return t},_6=typeof XMLHttpRequest<"u",y6=_6&&function(n){return new Promise(function(e,r){const a=KR(n);let u=a.data;const f=qi.from(a.headers).normalize();let{responseType:g,onUploadProgress:_,onDownloadProgress:v}=a,T,x,O,D,M;function z(){D&&D(),M&&M(),a.cancelToken&&a.cancelToken.unsubscribe(T),a.signal&&a.signal.removeEventListener("abort",T)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function ct(){if(!k)return;const nt=qi.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),Rt={data:!g||g==="text"||g==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:nt,config:n,request:k};GR(function(V){e(V),z()},function(V){r(V),z()},Rt),k=null}"onloadend"in k?k.onloadend=ct:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(ct)},k.onabort=function(){k&&(r(new te("Request aborted",te.ECONNABORTED,n,k)),k=null)},k.onerror=function(Tt){const Rt=Tt&&Tt.message?Tt.message:"Network Error",Dt=new te(Rt,te.ERR_NETWORK,n,k);Dt.event=Tt||null,r(Dt),k=null},k.ontimeout=function(){let Tt=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Rt=a.transitional||FR;a.timeoutErrorMessage&&(Tt=a.timeoutErrorMessage),r(new te(Tt,Rt.clarifyTimeoutError?te.ETIMEDOUT:te.ECONNABORTED,n,k)),k=null},u===void 0&&f.setContentType(null),"setRequestHeader"in k&&ot.forEach(f.toJSON(),function(Tt,Rt){k.setRequestHeader(Rt,Tt)}),ot.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),g&&g!=="json"&&(k.responseType=a.responseType),v&&([O,M]=rp(v,!0),k.addEventListener("progress",O)),_&&k.upload&&([x,D]=rp(_),k.upload.addEventListener("progress",x),k.upload.addEventListener("loadend",D)),(a.cancelToken||a.signal)&&(T=nt=>{k&&(r(!nt||nt.type?new Jc(null,n,k):nt),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(T),a.signal&&(a.signal.aborted?T():a.signal.addEventListener("abort",T)));const Et=c6(a.url);if(Et&&ci.protocols.indexOf(Et)===-1){r(new te("Unsupported protocol "+Et+":",te.ERR_BAD_REQUEST,n));return}k.send(u||null)})},v6=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let r=new AbortController,a;const u=function(v){if(!a){a=!0,g();const T=v instanceof Error?v:this.reason;r.abort(T instanceof te?T:new Jc(T instanceof Error?T.message:T))}};let f=t&&setTimeout(()=>{f=null,u(new te(`timeout ${t} of ms exceeded`,te.ETIMEDOUT))},t);const g=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(v=>{v.unsubscribe?v.unsubscribe(u):v.removeEventListener("abort",u)}),n=null)};n.forEach(v=>v.addEventListener("abort",u));const{signal:_}=r;return _.unsubscribe=()=>ot.asap(g),_}},b6=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let r=0,a;for(;r<e;)a=r+t,yield n.slice(r,a),r=a},E6=async function*(n,t){for await(const e of w6(n))yield*b6(e,t)},w6=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},rA=(n,t,e,r)=>{const a=E6(n,t);let u=0,f,g=_=>{f||(f=!0,r&&r(_))};return new ReadableStream({async pull(_){try{const{done:v,value:T}=await a.next();if(v){g(),_.close();return}let x=T.byteLength;if(e){let O=u+=x;e(O)}_.enqueue(new Uint8Array(T))}catch(v){throw g(v),v}},cancel(_){return g(_),a.return()}},{highWaterMark:2})},sA=64*1024,{isFunction:rm}=ot,T6=(({Request:n,Response:t})=>({Request:n,Response:t}))(ot.global),{ReadableStream:aA,TextEncoder:oA}=ot.global,lA=(n,...t)=>{try{return!!n(...t)}catch{return!1}},S6=n=>{n=ot.merge.call({skipUndefined:!0},T6,n);const{fetch:t,Request:e,Response:r}=n,a=t?rm(t):typeof fetch=="function",u=rm(e),f=rm(r);if(!a)return!1;const g=a&&rm(aA),_=a&&(typeof oA=="function"?(M=>z=>M.encode(z))(new oA):async M=>new Uint8Array(await new e(M).arrayBuffer())),v=u&&g&&lA(()=>{let M=!1;const z=new e(ci.origin,{body:new aA,method:"POST",get duplex(){return M=!0,"half"}}).headers.has("Content-Type");return M&&!z}),T=f&&g&&lA(()=>ot.isReadableStream(new r("").body)),x={stream:T&&(M=>M.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(M=>{!x[M]&&(x[M]=(z,k)=>{let ct=z&&z[M];if(ct)return ct.call(z);throw new te(`Response type '${M}' is not supported`,te.ERR_NOT_SUPPORT,k)})});const O=async M=>{if(M==null)return 0;if(ot.isBlob(M))return M.size;if(ot.isSpecCompliantForm(M))return(await new e(ci.origin,{method:"POST",body:M}).arrayBuffer()).byteLength;if(ot.isArrayBufferView(M)||ot.isArrayBuffer(M))return M.byteLength;if(ot.isURLSearchParams(M)&&(M=M+""),ot.isString(M))return(await _(M)).byteLength},D=async(M,z)=>{const k=ot.toFiniteNumber(M.getContentLength());return k??O(z)};return async M=>{let{url:z,method:k,data:ct,signal:Et,cancelToken:nt,timeout:Tt,onDownloadProgress:Rt,onUploadProgress:Dt,responseType:V,headers:j,withCredentials:B="same-origin",fetchOptions:Z}=KR(M),q=t||fetch;V=V?(V+"").toLowerCase():"text";let W=v6([Et,nt&&nt.toAbortSignal()],Tt),F=null;const Yt=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let ze;try{if(Dt&&v&&k!=="get"&&k!=="head"&&(ze=await D(j,ct))!==0){let R=new e(z,{method:"POST",body:ct,duplex:"half"}),Y;if(ot.isFormData(ct)&&(Y=R.headers.get("content-type"))&&j.setContentType(Y),R.body){const[lt,ht]=eA(ze,rp(nA(Dt)));ct=rA(R.body,sA,lt,ht)}}ot.isString(B)||(B=B?"include":"omit");const it=u&&"credentials"in e.prototype,St={...Z,signal:W,method:k.toUpperCase(),headers:j.normalize().toJSON(),body:ct,duplex:"half",credentials:it?B:void 0};F=u&&new e(z,St);let bt=await(u?q(F,Z):q(z,St));const ee=T&&(V==="stream"||V==="response");if(T&&(Rt||ee&&Yt)){const R={};["status","statusText","headers"].forEach(mt=>{R[mt]=bt[mt]});const Y=ot.toFiniteNumber(bt.headers.get("content-length")),[lt,ht]=Rt&&eA(Y,rp(nA(Rt),!0))||[];bt=new r(rA(bt.body,sA,lt,()=>{ht&&ht(),Yt&&Yt()}),R)}V=V||"text";let G=await x[ot.findKey(x,V)||"text"](bt,M);return!ee&&Yt&&Yt(),await new Promise((R,Y)=>{GR(R,Y,{data:G,headers:qi.from(bt.headers),status:bt.status,statusText:bt.statusText,config:M,request:F})})}catch(it){throw Yt&&Yt(),it&&it.name==="TypeError"&&/Load failed|fetch/i.test(it.message)?Object.assign(new te("Network Error",te.ERR_NETWORK,M,F),{cause:it.cause||it}):te.from(it,it&&it.code,M,F)}}},A6=new Map,WR=n=>{let t=n&&n.env||{};const{fetch:e,Request:r,Response:a}=t,u=[r,a,e];let f=u.length,g=f,_,v,T=A6;for(;g--;)_=u[g],v=T.get(_),v===void 0&&T.set(_,v=g?new Map:S6(t)),T=v;return v};WR();const S0={http:Fz,xhr:y6,fetch:{get:WR}};ot.forEach(S0,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const uA=n=>`- ${n}`,x6=n=>ot.isFunction(n)||n===null||n===!1;function C6(n,t){n=ot.isArray(n)?n:[n];const{length:e}=n;let r,a;const u={};for(let f=0;f<e;f++){r=n[f];let g;if(a=r,!x6(r)&&(a=S0[(g=String(r)).toLowerCase()],a===void 0))throw new te(`Unknown adapter '${g}'`);if(a&&(ot.isFunction(a)||(a=a.get(t))))break;u[g||"#"+f]=a}if(!a){const f=Object.entries(u).map(([_,v])=>`adapter ${_} `+(v===!1?"is not supported by the environment":"is not available in the build"));let g=e?f.length>1?`since :
`+f.map(uA).join(`
`):" "+uA(f[0]):"as no adapter specified";throw new te("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return a}const YR={getAdapter:C6,adapters:S0};function cy(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Jc(null,n)}function cA(n){return cy(n),n.headers=qi.from(n.headers),n.data=uy.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),YR.getAdapter(n.adapter||Uf.adapter,n)(n).then(function(r){return cy(n),r.data=uy.call(n,n.transformResponse,r),r.headers=qi.from(r.headers),r},function(r){return qR(r)||(cy(n),r&&r.response&&(r.response.data=uy.call(n,n.transformResponse,r.response),r.response.headers=qi.from(r.response.headers))),Promise.reject(r)})}const $R="1.13.2",Wp={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Wp[n]=function(r){return typeof r===n||"a"+(t<1?"n ":" ")+n}});const hA={};Wp.transitional=function(t,e,r){function a(u,f){return"[Axios v"+$R+"] Transitional option '"+u+"'"+f+(r?". "+r:"")}return(u,f,g)=>{if(t===!1)throw new te(a(f," has been removed"+(e?" in "+e:"")),te.ERR_DEPRECATED);return e&&!hA[f]&&(hA[f]=!0,console.warn(a(f," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(u,f,g):!0}};Wp.spelling=function(t){return(e,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function R6(n,t,e){if(typeof n!="object")throw new te("options must be an object",te.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let a=r.length;for(;a-- >0;){const u=r[a],f=t[u];if(f){const g=n[u],_=g===void 0||f(g,u,n);if(_!==!0)throw new te("option "+u+" must be "+_,te.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new te("Unknown option "+u,te.ERR_BAD_OPTION)}}const Tm={assertOptions:R6,validators:Wp},Ks=Tm.validators;let ru=class{constructor(t){this.defaults=t||{},this.interceptors={request:new JS,response:new JS}}async request(t,e){try{return await this._request(t,e)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const u=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=pu(this.defaults,e);const{transitional:r,paramsSerializer:a,headers:u}=e;r!==void 0&&Tm.assertOptions(r,{silentJSONParsing:Ks.transitional(Ks.boolean),forcedJSONParsing:Ks.transitional(Ks.boolean),clarifyTimeoutError:Ks.transitional(Ks.boolean)},!1),a!=null&&(ot.isFunction(a)?e.paramsSerializer={serialize:a}:Tm.assertOptions(a,{encode:Ks.function,serialize:Ks.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Tm.assertOptions(e,{baseUrl:Ks.spelling("baseURL"),withXsrfToken:Ks.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let f=u&&ot.merge(u.common,u[e.method]);u&&ot.forEach(["delete","get","head","post","put","patch","common"],M=>{delete u[M]}),e.headers=qi.concat(f,u);const g=[];let _=!0;this.interceptors.request.forEach(function(z){typeof z.runWhen=="function"&&z.runWhen(e)===!1||(_=_&&z.synchronous,g.unshift(z.fulfilled,z.rejected))});const v=[];this.interceptors.response.forEach(function(z){v.push(z.fulfilled,z.rejected)});let T,x=0,O;if(!_){const M=[cA.bind(this),void 0];for(M.unshift(...g),M.push(...v),O=M.length,T=Promise.resolve(e);x<O;)T=T.then(M[x++],M[x++]);return T}O=g.length;let D=e;for(;x<O;){const M=g[x++],z=g[x++];try{D=M(D)}catch(k){z.call(this,k);break}}try{T=cA.call(this,D)}catch(M){return Promise.reject(M)}for(x=0,O=v.length;x<O;)T=T.then(v[x++],v[x++]);return T}getUri(t){t=pu(this.defaults,t);const e=ZR(t.baseURL,t.url,t.allowAbsoluteUrls);return UR(e,t.params,t.paramsSerializer)}};ot.forEach(["delete","get","head","options"],function(t){ru.prototype[t]=function(e,r){return this.request(pu(r||{},{method:t,url:e,data:(r||{}).data}))}});ot.forEach(["post","put","patch"],function(t){function e(r){return function(u,f,g){return this.request(pu(g||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}ru.prototype[t]=e(),ru.prototype[t+"Form"]=e(!0)});let I6=class QR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(u){e=u});const r=this;this.promise.then(a=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](a);r._listeners=null}),this.promise.then=a=>{let u;const f=new Promise(g=>{r.subscribe(g),u=g}).then(a);return f.cancel=function(){r.unsubscribe(u)},f},t(function(u,f,g){r.reason||(r.reason=new Jc(u,f,g),e(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=r=>{t.abort(r)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new QR(function(a){t=a}),cancel:t}}};function O6(n){return function(e){return n.apply(null,e)}}function P6(n){return ot.isObject(n)&&n.isAxiosError===!0}const sv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(sv).forEach(([n,t])=>{sv[t]=n});function XR(n){const t=new ru(n),e=IR(ru.prototype.request,t);return ot.extend(e,ru.prototype,t,{allOwnKeys:!0}),ot.extend(e,t,null,{allOwnKeys:!0}),e.create=function(a){return XR(pu(n,a))},e}const wn=XR(Uf);wn.Axios=ru;wn.CanceledError=Jc;wn.CancelToken=I6;wn.isCancel=qR;wn.VERSION=$R;wn.toFormData=Kp;wn.AxiosError=te;wn.Cancel=wn.CanceledError;wn.all=function(t){return Promise.all(t)};wn.spread=O6;wn.isAxiosError=P6;wn.mergeConfig=pu;wn.AxiosHeaders=qi;wn.formToJSON=n=>HR(ot.isHTMLForm(n)?new FormData(n):n);wn.getAdapter=YR.getAdapter;wn.HttpStatusCode=sv;wn.default=wn;const{Axios:vB,AxiosError:bB,CanceledError:EB,isCancel:wB,CancelToken:TB,VERSION:SB,all:AB,Cancel:xB,isAxiosError:CB,spread:RB,toFormData:IB,AxiosHeaders:OB,HttpStatusCode:PB,formToJSON:NB,getAdapter:LB,mergeConfig:MB}=wn,N6="http://localhost:3000/api",A0=wn.create({baseURL:N6,headers:{"Content-Type":"application/json"}});A0.interceptors.request.use(n=>{const t=$l.getToken();return t&&(n.headers.Authorization=`Bearer ${t}`),n});A0.interceptors.response.use(n=>n,n=>(n.response&&(n.response.status===401||n.response.status),Promise.reject(n)));class L6{constructor(){se(this,"user",null);se(this,"isLoading",!1);gp(this)}setUser(t){this.user=t}async updateLocations(t,e){this.isLoading=!0;try{const r=await A0.put("/users/me/locations",{homeLocation:t,workLocation:e});oe(()=>{this.user=r.data})}catch(r){throw console.error("Failed to update profile locations",r),r}finally{oe(()=>{this.isLoading=!1})}}}class hc{static async getCars(){return(await ep(Jl(cr,"cars"))).docs.map(e=>({id:e.id,...e.data()}))}static async addCar(t){return{id:(await tv(Jl(cr,"cars"),t)).id,...t}}static async deleteCar(t){await BS(fu(cr,"cars",t))}static async getChargingPoints(){return(await ep(Jl(cr,"charging_points"))).docs.map(e=>({id:e.id,...e.data()}))}static async addChargingPoint(t){return{id:(await tv(Jl(cr,"charging_points"),t)).id,...t}}static async deleteChargingPoint(t){await BS(fu(cr,"charging_points",t))}}class M6{constructor(){se(this,"cars",[]);se(this,"chargingPoints",[]);se(this,"isLoading",!1);gp(this)}async loadData(){this.isLoading=!0;try{const[t,e]=await Promise.all([hc.getCars(),hc.getChargingPoints()]);oe(()=>{this.cars=t,this.chargingPoints=e})}catch(t){console.error("Failed to load admin data",t)}finally{oe(()=>{this.isLoading=!1})}}async addCar(t){this.isLoading=!0;try{const e=await hc.addCar(t);oe(()=>{this.cars.push(e)})}catch(e){throw console.error("Failed to add car",e),e}finally{oe(()=>{this.isLoading=!1})}}async deleteCar(t){this.isLoading=!0;try{await hc.deleteCar(t),oe(()=>{this.cars=this.cars.filter(e=>e.id!==t)})}catch(e){console.error("Failed to delete car",e)}finally{oe(()=>{this.isLoading=!1})}}async addChargingPoint(t){this.isLoading=!0;try{const e=await hc.addChargingPoint(t);oe(()=>{this.chargingPoints.push(e)})}catch(e){throw console.error("Failed to add charging point",e),e}finally{oe(()=>{this.isLoading=!1})}}async deleteChargingPoint(t){this.isLoading=!0;try{await hc.deleteChargingPoint(t),oe(()=>{this.chargingPoints=this.chargingPoints.filter(e=>e.id!==t)})}catch(e){console.error("Failed to delete charging point",e)}finally{oe(()=>{this.isLoading=!1})}}}const bi=new nz,fc=new M6,Hh=new L6,av=({className:n,...t})=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]}),JR=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),t2=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),e2=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0M12 12.75h.008v.008H12v-.008z"})}),sp=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),x0=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),D6=({className:n,...t})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-5 h-5",...t,children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),vi=bi,k6=Ts(()=>{const[n,t]=$.useState(""),[e,r]=$.useState(""),[a,u]=$.useState(!1),[f,g]=$.useState(""),[_,v]=$.useState(null),T=Uc(),x=async z=>{z.preventDefault(),await vi.login(n,e),vi.isAuthenticated&&T("/dashboard")},O=async()=>{await vi.loginWithGoogle(),vi.isAuthenticated&&T("/dashboard")},D=async()=>{await vi.loginAnonymously(),vi.isAuthenticated&&T("/dashboard")},M=async z=>{z.preventDefault();try{await vi.resetPassword(f),v("Check je email voor instructies om je wachtwoord te resetten.")}catch{}};return a?E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Wachtwoord Resetten"}),E.jsx("p",{className:"auth-subtitle",children:"Vul je email in om een reset link te ontvangen."}),vi.error&&E.jsx("p",{className:"error-message mb-4",children:vi.error}),_&&E.jsx("p",{className:"success-message mb-4",style:{color:"green",background:"#e6fffa",padding:"10px",borderRadius:"4px"},children:_}),E.jsxs("form",{onSubmit:M,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email"}),E.jsxs("div",{className:"input-group",children:[E.jsx(sp,{className:"input-icon"}),E.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:f,onChange:z=>g(z.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:vi.isLoading,style:{width:"100%",padding:"12px"},children:vi.isLoading?"Verzenden...":"Reset Link Sturen"})]}),E.jsx("button",{onClick:()=>u(!1),className:"text-btn block mt-4 text-center w-full",style:{background:"none",border:"none",color:"#666",cursor:"pointer",marginTop:"1rem"},children:"Terug naar Inloggen"})]})}):E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Welkom terug"}),E.jsx("p",{className:"auth-subtitle",children:"Log in om verder te gaan met Tidal Mare"}),vi.error&&E.jsx("p",{className:"error-message mb-4",children:vi.error}),E.jsxs("form",{onSubmit:x,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email"}),E.jsxs("div",{className:"input-group",children:[E.jsx(sp,{className:"input-icon"}),E.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:z=>t(z.target.value),required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Wachtwoord"}),E.jsxs("div",{className:"input-group",children:[E.jsx(x0,{className:"input-icon"}),E.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:e,onChange:z=>r(z.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:vi.isLoading,style:{width:"100%",padding:"12px"},children:vi.isLoading?"Bezig met inloggen...":"Inloggen"})]}),E.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),E.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of log in met"}),E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),E.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:E.jsx("button",{onClick:O,className:"social-btn-round",title:"Inloggen met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:E.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),E.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:E.jsx("button",{onClick:D,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),E.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",gap:"0.5rem"},children:[E.jsx("button",{type:"button",onClick:()=>u(!0),style:{background:"none",border:"none",color:"#666",fontSize:"0.9rem",cursor:"pointer",textDecoration:"none"},children:"Wachtwoord vergeten?"}),E.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--slate-500)"},children:["Nog geen account? ",E.jsx(Ur,{to:"/register",style:{fontWeight:600},children:"Registreer hier"})]})]})]})})}),Ws=bi,j6=Ts(()=>{const[n,t]=$.useState(""),[e,r]=$.useState(""),a=Uc(),u=async _=>{_.preventDefault(),await Ws.register(n,e),Ws.isAuthenticated&&a("/dashboard")},f=async()=>{await Ws.loginWithGoogle(),Ws.isAuthenticated&&a("/dashboard")},g=async()=>{await Ws.loginAnonymously(),Ws.isAuthenticated&&a("/dashboard")};return E.jsx("div",{className:"auth-background",children:E.jsxs("div",{className:"auth-card",children:[E.jsx("h2",{className:"auth-title",children:"Maak een account"}),E.jsx("p",{className:"auth-subtitle",children:"Begin vandaag nog met jouw duurzame reis"}),Ws.error&&E.jsx("p",{className:"error-message mb-4",children:Ws.error}),E.jsxs("form",{onSubmit:u,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Email"}),E.jsxs("div",{className:"input-group",children:[E.jsx(sp,{className:"input-icon"}),E.jsx("input",{type:"email",className:"form-input input-with-icon",placeholder:"naam@voorbeeld.nl",value:n,onChange:_=>t(_.target.value),required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Wachtwoord"}),E.jsxs("div",{className:"input-group",children:[E.jsx(x0,{className:"input-icon"}),E.jsx("input",{type:"password",className:"form-input input-with-icon",placeholder:"",value:e,onChange:_=>r(_.target.value),required:!0})]})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full mt-4",disabled:Ws.isLoading,style:{width:"100%",padding:"12px"},children:Ws.isLoading?"Bezig met registreren...":"Registreren"})]}),E.jsxs("div",{className:"divider",style:{display:"flex",alignItems:"center",margin:"2rem 0",color:"#666"},children:[E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}}),E.jsx("span",{style:{padding:"0 10px",fontSize:"0.9rem",color:"#94a3b8"},children:"of registreer met"}),E.jsx("span",{style:{flex:1,height:"1px",background:"#eee"}})]}),E.jsx("div",{className:"social-login-buttons",style:{display:"flex",gap:"20px",justifyContent:"center",marginBottom:"1rem"},children:E.jsx("button",{onClick:f,className:"social-btn-round",title:"Registreren met Google",style:{width:"50px",height:"50px",borderRadius:"50%",border:"1px solid #e2e8f0",background:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 5px rgba(0,0,0,0.05)"},children:E.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:"24px",height:"24px"}})})}),E.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:E.jsx("button",{onClick:g,className:"guest-text-link",style:{background:"none",border:"none",color:"#64748b",fontSize:"0.9rem",cursor:"pointer",textDecoration:"underline",padding:"5px"},children:"Of ga door als gast"})}),E.jsxs("div",{className:"mt-4 text-center",style:{marginTop:"1.5rem",fontSize:"0.9rem",color:"var(--slate-500)"},children:["Heb je al een account? ",E.jsx(Ur,{to:"/login",style:{fontWeight:600},children:"Log in"})]})]})})}),hy=bi,fA=Ts(({roles:n})=>hy.isAuthenticated?n&&hy.user&&!n.includes(hy.user.role)?E.jsx("div",{className:"error-page",children:"403 - Geen toegang"}):E.jsx(CO,{}):E.jsx(xO,{to:"/login",replace:!0})),fy=({value:n,duration:t=2e3})=>{const[e,r]=$.useState(0);return $.useEffect(()=>{let a=null;const u=0,f=g=>{a||(a=g);const _=Math.min((g-a)/t,1),v=1-Math.pow(1-_,4);r(Math.floor(v*(n-u)+u)),_<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},[n,t]),E.jsx("span",{children:e})},V6=Ts(({co2Saved:n,treesPlanted:t,distance:e})=>{const r={background:"linear-gradient(135deg, #4ade80 0%, #059669 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"};return E.jsxs("div",{className:"sustainability-stats",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",marginBottom:"2rem",marginTop:"1rem"},children:[E.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[E.jsx(fy,{value:n})," ",E.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"kg"})]}),E.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"CO2 Bespaard"})]}),E.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsx("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:E.jsx(fy,{value:t})}),E.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Bomen Equivalent"})]}),E.jsxs("div",{className:"stat-card",style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",borderRadius:"16px",padding:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),E.jsxs("div",{style:{fontSize:"2rem",fontWeight:"800",lineHeight:1,...r},children:[E.jsx(fy,{value:e})," ",E.jsx("span",{style:{fontSize:"1rem",verticalAlign:"middle"},children:"km"})]}),E.jsx("div",{style:{fontSize:"0.875rem",color:"#64748b",fontWeight:"600",marginTop:"0.5rem"},children:"Emissievrij Gereden"})]}),E.jsx("style",{children:`
                @media (max-width: 768px) {
                    .sustainability-stats {
                        grid-template-columns: 1fr !important;
                    }
                }
            `})]})}),dA=({booking:n})=>{var e;const t=r=>{switch(r){case"CONFIRMED":return"status-confirmed";case"CANCELLED":return"status-cancelled";case"COMPLETED":return"status-completed";default:return"status-requested"}};return E.jsx(Ur,{to:`/booking/${n.id}`,className:"booking-card-link",children:E.jsxs("div",{className:"booking-card",children:[E.jsxs("div",{className:"booking-card-header",children:[E.jsxs("div",{className:"booking-time",children:[E.jsx("span",{className:"date",children:new Date(n.startTime).toLocaleDateString()}),E.jsx("span",{className:"time",children:new Date(n.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),E.jsx("span",{className:`status-badge ${t(n.status)}`,children:n.status})]}),E.jsxs("div",{className:"booking-route",children:[E.jsxs("div",{className:"route-point",children:[E.jsx("span",{className:"icon text-lg",children:""}),E.jsx("span",{className:"address",children:n.startLocation.address})]}),E.jsx("div",{className:"route-arrow",children:""}),E.jsxs("div",{className:"route-point",children:[E.jsx("span",{className:"icon text-lg",children:""}),E.jsx("span",{className:"address",children:((e=n.endLocation)==null?void 0:e.address)||"Bestemming"})]})]})]})})},z6=Ts(()=>{var a,u;const[n,t]=el.useState([]);el.useEffect(()=>{(async()=>{var _;const g=(_=bi.user)==null?void 0:_.id;if(g)try{const v=await bm.getUserBookings(g);t(v)}catch(v){console.error("Failed to fetch bookings",v)}})()},[bi.user]);const e=n.filter(f=>["REQUESTED","CONFIRMED"].includes(f.status)),r=n.filter(f=>["CANCELLED","COMPLETED"].includes(f.status));return E.jsxs("div",{className:"dashboard app-container",children:[E.jsxs("div",{className:"dashboard-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h2",{style:{fontSize:"2rem",margin:0},children:"Mijn Dashboard"}),E.jsxs("div",{className:"dashboard-actions",style:{display:"flex",gap:"1rem"},children:[E.jsx(Ur,{to:"/request",className:"btn-primary",children:"+ Nieuwe Rit"}),((a=bi.user)==null?void 0:a.role)!=="guest"?E.jsx(Ur,{to:"/profile",className:"logout-btn",style:{textDecoration:"none",display:"inline-flex",alignItems:"center"},children:"Mijn Profiel"}):E.jsx(Ur,{to:"/register",className:"btn-primary",style:{background:"#f59e0b",border:"none"},children:"Account Aanmaken"})]})]}),((u=bi.user)==null?void 0:u.role)==="guest"&&E.jsxs("div",{style:{background:"#fffbeb",border:"1px solid #fcd34d",color:"#92400e",padding:"1rem",borderRadius:"12px",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("span",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsx("strong",{children:"Welkom als gast!"}),E.jsx("p",{style:{margin:0,fontSize:"0.95rem",opacity:.9},children:"Je kunt rondkijken en ritten zoeken, maar om daadwerkelijk te boeken moet je een account aanmaken."})]})]}),E.jsx(V6,{co2Saved:bi.sustainabilityStats.co2Saved,treesPlanted:bi.sustainabilityStats.treesPlanted,distance:bi.sustainabilityStats.distance}),E.jsxs("section",{style:{marginBottom:"3rem"},children:[E.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--slate-200)",paddingBottom:"0.5rem"},children:" Aankomende Ritten"}),e.length===0?E.jsx("div",{className:"empty-state card",style:{textAlign:"center",color:"var(--text-muted)"},children:E.jsx("p",{children:"Je hebt nog geen ritten gepland."})}):E.jsx("div",{className:"bookings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:e.map(f=>E.jsx("div",{className:"booking-wrapper",children:E.jsx(dA,{booking:f})},f.id))})]}),E.jsxs("section",{children:[E.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--slate-200)",paddingBottom:"0.5rem"},children:" Geschiedenis"}),r.length===0?E.jsx("div",{className:"empty-state card",style:{textAlign:"center",color:"var(--text-muted)"},children:E.jsx("p",{children:"Nog geen ritten gemaakt."})}):E.jsx("div",{className:"bookings-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:r.map(f=>E.jsx("div",{className:"booking-wrapper",children:E.jsx(dA,{booking:f})},f.id))})]})]})});var C0={};(function n(t,e,r,a){var u=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),f=typeof Path2D=="function"&&typeof DOMMatrix=="function",g=(function(){if(!t.OffscreenCanvas)return!1;try{var G=new OffscreenCanvas(1,1),R=G.getContext("2d");R.fillRect(0,0,1,1);var Y=G.transferToImageBitmap();R.createPattern(Y,"no-repeat")}catch{return!1}return!0})();function _(){}function v(G){var R=e.exports.Promise,Y=R!==void 0?R:t.Promise;return typeof Y=="function"?new Y(G):(G(_,_),null)}var T=(function(G,R){return{transform:function(Y){if(G)return Y;if(R.has(Y))return R.get(Y);var lt=new OffscreenCanvas(Y.width,Y.height),ht=lt.getContext("2d");return ht.drawImage(Y,0,0),R.set(Y,lt),lt},clear:function(){R.clear()}}})(g,new Map),x=(function(){var G=Math.floor(16.666666666666668),R,Y,lt={},ht=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(R=function(mt){var yt=Math.random();return lt[yt]=requestAnimationFrame(function wt(Lt){ht===Lt||ht+G-1<Lt?(ht=Lt,delete lt[yt],mt()):lt[yt]=requestAnimationFrame(wt)}),yt},Y=function(mt){lt[mt]&&cancelAnimationFrame(lt[mt])}):(R=function(mt){return setTimeout(mt,G)},Y=function(mt){return clearTimeout(mt)}),{frame:R,cancel:Y}})(),O=(function(){var G,R,Y={};function lt(ht){function mt(yt,wt){ht.postMessage({options:yt||{},callback:wt})}ht.init=function(wt){var Lt=wt.transferControlToOffscreen();ht.postMessage({canvas:Lt},[Lt])},ht.fire=function(wt,Lt,Ut){if(R)return mt(wt,null),R;var be=Math.random().toString(36).slice(2);return R=v(function(fe){function ve(Be){Be.data.callback===be&&(delete Y[be],ht.removeEventListener("message",ve),R=null,T.clear(),Ut(),fe())}ht.addEventListener("message",ve),mt(wt,be),Y[be]=ve.bind(null,{data:{callback:be}})}),R},ht.reset=function(){ht.postMessage({reset:!0});for(var wt in Y)Y[wt](),delete Y[wt]}}return function(){if(G)return G;if(!r&&u){var ht=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{G=new Worker(URL.createObjectURL(new Blob([ht])))}catch(mt){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",mt),null}lt(G)}return G}})(),D={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(G,R){return R?R(G):G}function z(G){return G!=null}function k(G,R,Y){return M(G&&z(G[R])?G[R]:D[R],Y)}function ct(G){return G<0?0:Math.floor(G)}function Et(G,R){return Math.floor(Math.random()*(R-G))+G}function nt(G){return parseInt(G,16)}function Tt(G){return G.map(Rt)}function Rt(G){var R=String(G).replace(/[^0-9a-f]/gi,"");return R.length<6&&(R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]),{r:nt(R.substring(0,2)),g:nt(R.substring(2,4)),b:nt(R.substring(4,6))}}function Dt(G){var R=k(G,"origin",Object);return R.x=k(R,"x",Number),R.y=k(R,"y",Number),R}function V(G){G.width=document.documentElement.clientWidth,G.height=document.documentElement.clientHeight}function j(G){var R=G.getBoundingClientRect();G.width=R.width,G.height=R.height}function B(G){var R=document.createElement("canvas");return R.style.position="fixed",R.style.top="0px",R.style.left="0px",R.style.pointerEvents="none",R.style.zIndex=G,R}function Z(G,R,Y,lt,ht,mt,yt,wt,Lt){G.save(),G.translate(R,Y),G.rotate(mt),G.scale(lt,ht),G.arc(0,0,1,yt,wt,Lt),G.restore()}function q(G){var R=G.angle*(Math.PI/180),Y=G.spread*(Math.PI/180);return{x:G.x,y:G.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:G.startVelocity*.5+Math.random()*G.startVelocity,angle2D:-R+(.5*Y-Math.random()*Y),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:G.color,shape:G.shape,tick:0,totalTicks:G.ticks,decay:G.decay,drift:G.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:G.gravity*3,ovalScalar:.6,scalar:G.scalar,flat:G.flat}}function W(G,R){R.x+=Math.cos(R.angle2D)*R.velocity+R.drift,R.y+=Math.sin(R.angle2D)*R.velocity+R.gravity,R.velocity*=R.decay,R.flat?(R.wobble=0,R.wobbleX=R.x+10*R.scalar,R.wobbleY=R.y+10*R.scalar,R.tiltSin=0,R.tiltCos=0,R.random=1):(R.wobble+=R.wobbleSpeed,R.wobbleX=R.x+10*R.scalar*Math.cos(R.wobble),R.wobbleY=R.y+10*R.scalar*Math.sin(R.wobble),R.tiltAngle+=.1,R.tiltSin=Math.sin(R.tiltAngle),R.tiltCos=Math.cos(R.tiltAngle),R.random=Math.random()+2);var Y=R.tick++/R.totalTicks,lt=R.x+R.random*R.tiltCos,ht=R.y+R.random*R.tiltSin,mt=R.wobbleX+R.random*R.tiltCos,yt=R.wobbleY+R.random*R.tiltSin;if(G.fillStyle="rgba("+R.color.r+", "+R.color.g+", "+R.color.b+", "+(1-Y)+")",G.beginPath(),f&&R.shape.type==="path"&&typeof R.shape.path=="string"&&Array.isArray(R.shape.matrix))G.fill(St(R.shape.path,R.shape.matrix,R.x,R.y,Math.abs(mt-lt)*.1,Math.abs(yt-ht)*.1,Math.PI/10*R.wobble));else if(R.shape.type==="bitmap"){var wt=Math.PI/10*R.wobble,Lt=Math.abs(mt-lt)*.1,Ut=Math.abs(yt-ht)*.1,be=R.shape.bitmap.width*R.scalar,fe=R.shape.bitmap.height*R.scalar,ve=new DOMMatrix([Math.cos(wt)*Lt,Math.sin(wt)*Lt,-Math.sin(wt)*Ut,Math.cos(wt)*Ut,R.x,R.y]);ve.multiplySelf(new DOMMatrix(R.shape.matrix));var Be=G.createPattern(T.transform(R.shape.bitmap),"no-repeat");Be.setTransform(ve),G.globalAlpha=1-Y,G.fillStyle=Be,G.fillRect(R.x-be/2,R.y-fe/2,be,fe),G.globalAlpha=1}else if(R.shape==="circle")G.ellipse?G.ellipse(R.x,R.y,Math.abs(mt-lt)*R.ovalScalar,Math.abs(yt-ht)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI):Z(G,R.x,R.y,Math.abs(mt-lt)*R.ovalScalar,Math.abs(yt-ht)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI);else if(R.shape==="star")for(var Wt=Math.PI/2*3,nn=4*R.scalar,un=8*R.scalar,pn=R.x,Tn=R.y,Le=5,Se=Math.PI/Le;Le--;)pn=R.x+Math.cos(Wt)*un,Tn=R.y+Math.sin(Wt)*un,G.lineTo(pn,Tn),Wt+=Se,pn=R.x+Math.cos(Wt)*nn,Tn=R.y+Math.sin(Wt)*nn,G.lineTo(pn,Tn),Wt+=Se;else G.moveTo(Math.floor(R.x),Math.floor(R.y)),G.lineTo(Math.floor(R.wobbleX),Math.floor(ht)),G.lineTo(Math.floor(mt),Math.floor(yt)),G.lineTo(Math.floor(lt),Math.floor(R.wobbleY));return G.closePath(),G.fill(),R.tick<R.totalTicks}function F(G,R,Y,lt,ht){var mt=R.slice(),yt=G.getContext("2d"),wt,Lt,Ut=v(function(be){function fe(){wt=Lt=null,yt.clearRect(0,0,lt.width,lt.height),T.clear(),ht(),be()}function ve(){r&&!(lt.width===a.width&&lt.height===a.height)&&(lt.width=G.width=a.width,lt.height=G.height=a.height),!lt.width&&!lt.height&&(Y(G),lt.width=G.width,lt.height=G.height),yt.clearRect(0,0,lt.width,lt.height),mt=mt.filter(function(Be){return W(yt,Be)}),mt.length?wt=x.frame(ve):fe()}wt=x.frame(ve),Lt=fe});return{addFettis:function(be){return mt=mt.concat(be),Ut},canvas:G,promise:Ut,reset:function(){wt&&x.cancel(wt),Lt&&Lt()}}}function Yt(G,R){var Y=!G,lt=!!k(R||{},"resize"),ht=!1,mt=k(R,"disableForReducedMotion",Boolean),yt=u&&!!k(R||{},"useWorker"),wt=yt?O():null,Lt=Y?V:j,Ut=G&&wt?!!G.__confetti_initialized:!1,be=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,fe;function ve(Wt,nn,un){for(var pn=k(Wt,"particleCount",ct),Tn=k(Wt,"angle",Number),Le=k(Wt,"spread",Number),Se=k(Wt,"startVelocity",Number),wi=k(Wt,"decay",Number),eo=k(Wt,"gravity",Number),ca=k(Wt,"drift",Number),Sn=k(Wt,"colors",Tt),Wr=k(Wt,"ticks",Number),gr=k(Wt,"shapes"),xs=k(Wt,"scalar"),Gi=!!k(Wt,"flat"),no=Dt(Wt),Cs=pn,Yr=[],io=G.width*no.x,Jn=G.height*no.y;Cs--;)Yr.push(q({x:io,y:Jn,angle:Tn,spread:Le,startVelocity:Se,color:Sn[Cs%Sn.length],shape:gr[Et(0,gr.length)],ticks:Wr,decay:wi,gravity:eo,drift:ca,scalar:xs,flat:Gi}));return fe?fe.addFettis(Yr):(fe=F(G,Yr,Lt,nn,un),fe.promise)}function Be(Wt){var nn=mt||k(Wt,"disableForReducedMotion",Boolean),un=k(Wt,"zIndex",Number);if(nn&&be)return v(function(Se){Se()});Y&&fe?G=fe.canvas:Y&&!G&&(G=B(un),document.body.appendChild(G)),lt&&!Ut&&Lt(G);var pn={width:G.width,height:G.height};wt&&!Ut&&wt.init(G),Ut=!0,wt&&(G.__confetti_initialized=!0);function Tn(){if(wt){var Se={getBoundingClientRect:function(){if(!Y)return G.getBoundingClientRect()}};Lt(Se),wt.postMessage({resize:{width:Se.width,height:Se.height}});return}pn.width=pn.height=null}function Le(){fe=null,lt&&(ht=!1,t.removeEventListener("resize",Tn)),Y&&G&&(document.body.contains(G)&&document.body.removeChild(G),G=null,Ut=!1)}return lt&&!ht&&(ht=!0,t.addEventListener("resize",Tn,!1)),wt?wt.fire(Wt,pn,Le):ve(Wt,pn,Le)}return Be.reset=function(){wt&&wt.reset(),fe&&fe.reset()},Be}var ze;function it(){return ze||(ze=Yt(null,{useWorker:!0,resize:!0})),ze}function St(G,R,Y,lt,ht,mt,yt){var wt=new Path2D(G),Lt=new Path2D;Lt.addPath(wt,new DOMMatrix(R));var Ut=new Path2D;return Ut.addPath(Lt,new DOMMatrix([Math.cos(yt)*ht,Math.sin(yt)*ht,-Math.sin(yt)*mt,Math.cos(yt)*mt,Y,lt])),Ut}function bt(G){if(!f)throw new Error("path confetti are not supported in this browser");var R,Y;typeof G=="string"?R=G:(R=G.path,Y=G.matrix);var lt=new Path2D(R),ht=document.createElement("canvas"),mt=ht.getContext("2d");if(!Y){for(var yt=1e3,wt=yt,Lt=yt,Ut=0,be=0,fe,ve,Be=0;Be<yt;Be+=2)for(var Wt=0;Wt<yt;Wt+=2)mt.isPointInPath(lt,Be,Wt,"nonzero")&&(wt=Math.min(wt,Be),Lt=Math.min(Lt,Wt),Ut=Math.max(Ut,Be),be=Math.max(be,Wt));fe=Ut-wt,ve=be-Lt;var nn=10,un=Math.min(nn/fe,nn/ve);Y=[un,0,0,un,-Math.round(fe/2+wt)*un,-Math.round(ve/2+Lt)*un]}return{type:"path",path:R,matrix:Y}}function ee(G){var R,Y=1,lt="#000000",ht='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof G=="string"?R=G:(R=G.text,Y="scalar"in G?G.scalar:Y,ht="fontFamily"in G?G.fontFamily:ht,lt="color"in G?G.color:lt);var mt=10*Y,yt=""+mt+"px "+ht,wt=new OffscreenCanvas(mt,mt),Lt=wt.getContext("2d");Lt.font=yt;var Ut=Lt.measureText(R),be=Math.ceil(Ut.actualBoundingBoxRight+Ut.actualBoundingBoxLeft),fe=Math.ceil(Ut.actualBoundingBoxAscent+Ut.actualBoundingBoxDescent),ve=2,Be=Ut.actualBoundingBoxLeft+ve,Wt=Ut.actualBoundingBoxAscent+ve;be+=ve+ve,fe+=ve+ve,wt=new OffscreenCanvas(be,fe),Lt=wt.getContext("2d"),Lt.font=yt,Lt.fillStyle=lt,Lt.fillText(R,Be,Wt);var nn=1/Y;return{type:"bitmap",bitmap:wt.transferToImageBitmap(),matrix:[nn,0,0,nn,-be*nn/2,-fe*nn/2]}}e.exports=function(){return it().apply(this,arguments)},e.exports.reset=function(){it().reset()},e.exports.create=Yt,e.exports.shapeFromPath=bt,e.exports.shapeFromText=ee})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),C0,!1);const mA=C0.exports;C0.exports.create;class B6{constructor(){se(this,"API_URL","https://api.pdok.nl/bzk/locatieserver/search/v3_1/free")}async search(t){if(!t||t.length<2)return[];try{const e=new URLSearchParams({q:`${t} and type:adres`,rows:"5",fl:"id,weergavenaam,straatnaam,huisnummer,postcode,woonplaatsnaam,centroide_ll"}),r=await fetch(`${this.API_URL}?${e.toString()}`);return r.ok?(await r.json()).response.docs.map(u=>{const{lat:f,lon:g}=this.parseWktPoint(u.centroide_ll);return{id:u.id,displayLabel:u.weergavenaam,street:u.straatnaam,houseNumber:u.huisnummer,postcode:u.postcode,city:u.woonplaatsnaam,country:"Nederland",latitude:f,longitude:g}}):[]}catch(e){return console.error("PDOK API Error:",e),[]}}parseWktPoint(t){try{const e=t.match(/POINT\(([\d.]+) ([\d.]+)\)/);return e&&e.length===3?{lon:parseFloat(e[1]),lat:parseFloat(e[2])}:{lat:0,lon:0}}catch{return{lat:0,lon:0}}}}const pA=new B6,gA=({label:n,value:t,onChange:e,onSelect:r,placeholder:a,className:u,isValid:f,hasError:g})=>{const[_,v]=$.useState([]),[T,x]=$.useState(!1),[O,D]=$.useState(!1),M=$.useRef(null);$.useEffect(()=>{const k=setTimeout(async()=>{if(t.length>=2&&T){D(!0);const ct=await pA.search(t);v(ct),D(!1)}else v([])},300);return()=>clearTimeout(k)},[t,T]),$.useEffect(()=>{const k=ct=>{M.current&&!M.current.contains(ct.target)&&x(!1)};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[]);const z=k=>{r(k),v([]),x(!1)};return E.jsxs("div",{className:`form-group relative ${u||""}`,ref:M,style:{position:"relative"},children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5",style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[E.jsx("label",{className:"form-label",children:n}),f&&E.jsxs("span",{className:"text-green-600",style:{color:"var(--accent-hover)",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px",fontWeight:"bold"},children:[E.jsx(D6,{className:"w-4 h-4"})," Bevestigd"]})]}),E.jsxs("div",{className:"relative group",style:{position:"relative"},children:[E.jsx("div",{className:"absolute inset-y-0 left-0",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:f?"var(--accent-color)":"var(--slate-400)",pointerEvents:"none"},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),E.jsx("input",{type:"text",className:`form-input ${f?"valid":""} ${g?"error":""}`,style:{paddingLeft:"2.5rem",borderColor:g?"#f87171":f?"var(--accent-color)":""},value:t,onChange:k=>{e(k.target.value),x(!0)},onFocus:()=>{x(!0),_.length===0&&t.length>=2&&pA.search(t).then(v)},placeholder:a||"Zoek adres...",autoComplete:"off"}),O&&E.jsx("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)"},children:E.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid var(--primary-color)",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}})})]}),g&&!f&&E.jsx("p",{className:"error-message",style:{marginTop:"0.5rem",marginBottom:0,padding:"0.5rem",fontSize:"0.8rem"},children:"Kies een geldig adres uit de lijst"}),T&&_.length>0&&E.jsxs("ul",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",maxHeight:"18rem",overflowY:"auto",marginTop:"0.5rem",padding:"0.5rem 0",listStyle:"none",border:"1px solid var(--slate-200)"},children:[_.map(k=>E.jsx("li",{style:{padding:"0.75rem 1rem",cursor:"pointer",borderBottom:"1px solid var(--slate-50)",transition:"background-color 0.2s"},onMouseEnter:ct=>ct.currentTarget.style.backgroundColor="var(--slate-50)",onMouseLeave:ct=>ct.currentTarget.style.backgroundColor="transparent",onClick:ct=>{ct.stopPropagation(),z(k)},children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-start"},children:[E.jsx("div",{style:{color:"var(--slate-400)",marginTop:"2px"},children:E.jsxs("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),E.jsxs("div",{style:{marginLeft:"0.75rem"},children:[E.jsxs("p",{style:{margin:0,fontWeight:600,color:"var(--slate-900)",fontSize:"0.9rem"},children:[k.street," ",k.houseNumber]}),E.jsxs("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--slate-500)"},children:[k.postcode," ",k.city]})]})]})},k.id)),E.jsx("li",{style:{padding:"0.5rem 1rem",fontSize:"0.75rem",color:"var(--slate-400)",textAlign:"center",backgroundColor:"var(--slate-50)",borderTop:"1px solid var(--slate-100)",fontStyle:"italic"},children:"Powered by PDOK"})]}),T&&t.length>=2&&!O&&_.length===0&&E.jsx("div",{style:{position:"absolute",zIndex:9999,width:"100%",backgroundColor:"white",boxShadow:"var(--shadow-lg)",borderRadius:"var(--border-radius-sm)",padding:"1rem",textAlign:"center",color:"var(--slate-500)",fontStyle:"italic",marginTop:"0.5rem"},children:"Geen adressen gevonden"})]})};function n2(n,t){const e=$.useRef(t);$.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const U6=1;function F6(n){return Object.freeze({__version:U6,map:n})}function H6(n,t){return Object.freeze({...n,...t})}const R0=$.createContext(null);function I0(){const n=$.use(R0);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function q6(n){function t(e,r){const{instance:a,context:u}=n(e).current;$.useImperativeHandle(r,()=>a);const{children:f}=e;return f==null?null:el.createElement(R0,{value:u},f)}return $.forwardRef(t)}function G6(n){function t(e,r){const[a,u]=$.useState(!1),{instance:f}=n(e,u).current;$.useImperativeHandle(r,()=>f),$.useEffect(function(){a&&f.update()},[f,a,e.children]);const g=f._contentNode;return g?jA.createPortal(e.children,g):null}return $.forwardRef(t)}function Z6(n){function t(e,r){const{instance:a}=n(e).current;return $.useImperativeHandle(r,()=>a),null}return $.forwardRef(t)}function i2(n,t){const e=$.useRef(void 0);$.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function O0(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function K6(n,t){return function(r,a){const u=I0(),f=n(O0(r,u),u);return n2(u.map,r.attribution),i2(f.current,r.eventHandlers),t(f.current,u,r,a),f}}var $h={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var W6=$h.exports,_A;function Y6(){return _A||(_A=1,(function(n,t){(function(e,r){r(t)})(W6,(function(e){var r="1.9.4";function a(o){var c,m,b,S;for(m=1,b=arguments.length;m<b;m++){S=arguments[m];for(c in S)o[c]=S[c]}return o}var u=Object.create||(function(){function o(){}return function(c){return o.prototype=c,new o}})();function f(o,c){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var b=m.call(arguments,2);return function(){return o.apply(c,b.length?b.concat(m.call(arguments)):arguments)}}var g=0;function _(o){return"_leaflet_id"in o||(o._leaflet_id=++g),o._leaflet_id}function v(o,c,m){var b,S,I,U;return U=function(){b=!1,S&&(I.apply(m,S),S=!1)},I=function(){b?S=arguments:(o.apply(m,arguments),setTimeout(U,c),b=!0)},I}function T(o,c,m){var b=c[1],S=c[0],I=b-S;return o===b&&m?o:((o-S)%I+I)%I+S}function x(){return!1}function O(o,c){if(c===!1)return o;var m=Math.pow(10,c===void 0?6:c);return Math.round(o*m)/m}function D(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function M(o){return D(o).split(/\s+/)}function z(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?u(o.options):{});for(var m in c)o.options[m]=c[m];return o.options}function k(o,c,m){var b=[];for(var S in o)b.push(encodeURIComponent(m?S.toUpperCase():S)+"="+encodeURIComponent(o[S]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var ct=/\{ *([\w_ -]+) *\}/g;function Et(o,c){return o.replace(ct,function(m,b){var S=c[b];if(S===void 0)throw new Error("No value provided for variable "+m);return typeof S=="function"&&(S=S(c)),S})}var nt=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function Tt(o,c){for(var m=0;m<o.length;m++)if(o[m]===c)return m;return-1}var Rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Dt(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var V=0;function j(o){var c=+new Date,m=Math.max(0,16-(c-V));return V=c+m,window.setTimeout(o,m)}var B=window.requestAnimationFrame||Dt("RequestAnimationFrame")||j,Z=window.cancelAnimationFrame||Dt("CancelAnimationFrame")||Dt("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function q(o,c,m){if(m&&B===j)o.call(c);else return B.call(window,f(o,c))}function W(o){o&&Z.call(window,o)}var F={__proto__:null,extend:a,create:u,bind:f,get lastId(){return g},stamp:_,throttle:v,wrapNum:T,falseFn:x,formatNum:O,trim:D,splitWords:M,setOptions:z,getParamString:k,template:Et,isArray:nt,indexOf:Tt,emptyImageUrl:Rt,requestFn:B,cancelFn:Z,requestAnimFrame:q,cancelAnimFrame:W};function Yt(){}Yt.extend=function(o){var c=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,b=u(m);b.constructor=c,c.prototype=b;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(c[S]=this[S]);return o.statics&&a(c,o.statics),o.includes&&(ze(o.includes),a.apply(null,[b].concat(o.includes))),a(b,o),delete b.statics,delete b.includes,b.options&&(b.options=m.options?u(m.options):{},a(b.options,o.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,U=b._initHooks.length;I<U;I++)b._initHooks[I].call(this)}},c},Yt.include=function(o){var c=this.prototype.options;return a(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},Yt.mergeOptions=function(o){return a(this.prototype.options,o),this},Yt.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function ze(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=nt(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var it={on:function(o,c,m){if(typeof o=="object")for(var b in o)this._on(b,o[b],c);else{o=M(o);for(var S=0,I=o.length;S<I;S++)this._on(o[S],c,m)}return this},off:function(o,c,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var b in o)this._off(b,o[b],c);else{o=M(o);for(var S=arguments.length===1,I=0,U=o.length;I<U;I++)S?this._off(o[I]):this._off(o[I],c,m)}return this},_on:function(o,c,m,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,m)===!1){m===this&&(m=void 0);var S={fn:c,ctx:m};b&&(S.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(S)}},_off:function(o,c,m){var b,S,I;if(this._events&&(b=this._events[o],!!b)){if(arguments.length===1){if(this._firingCount)for(S=0,I=b.length;S<I;S++)b[S].fn=x;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var U=this._listens(o,c,m);if(U!==!1){var X=b[U];this._firingCount&&(X.fn=x,this._events[o]=b=b.slice()),b.splice(U,1)}}},fire:function(o,c,m){if(!this.listens(o,m))return this;var b=a({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var S=this._events[o];if(S){this._firingCount=this._firingCount+1||1;for(var I=0,U=S.length;I<U;I++){var X=S[I],rt=X.fn;X.once&&this.off(o,rt,X.ctx),rt.call(X.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(o,c,m,b){typeof o!="string"&&console.warn('"string" type argument expected');var S=c;typeof c!="function"&&(b=!!c,S=void 0,m=void 0);var I=this._events&&this._events[o];if(I&&I.length&&this._listens(o,S,m)!==!1)return!0;if(b){for(var U in this._eventParents)if(this._eventParents[U].listens(o,c,m,b))return!0}return!1},_listens:function(o,c,m){if(!this._events)return!1;var b=this._events[o]||[];if(!c)return!!b.length;m===this&&(m=void 0);for(var S=0,I=b.length;S<I;S++)if(b[S].fn===c&&b[S].ctx===m)return S;return!1},once:function(o,c,m){if(typeof o=="object")for(var b in o)this._on(b,o[b],c,!0);else{o=M(o);for(var S=0,I=o.length;S<I;S++)this._on(o[S],c,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[_(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[_(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,a({layer:o.target,propagatedFrom:o.target},o),!0)}};it.addEventListener=it.on,it.removeEventListener=it.clearAllEventListeners=it.off,it.addOneTimeEventListener=it.once,it.fireEvent=it.fire,it.hasEventListeners=it.listens;var St=Yt.extend(it);function bt(o,c,m){this.x=m?Math.round(o):o,this.y=m?Math.round(c):c}var ee=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};bt.prototype={clone:function(){return new bt(this.x,this.y)},add:function(o){return this.clone()._add(G(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(G(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new bt(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new bt(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(o){o=G(o);var c=o.x-this.x,m=o.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(o){return o=G(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=G(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function G(o,c,m){return o instanceof bt?o:nt(o)?new bt(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new bt(o.x,o.y):new bt(o,c,m)}function R(o,c){if(o)for(var m=c?[o,c]:o,b=0,S=m.length;b<S;b++)this.extend(m[b])}R.prototype={extend:function(o){var c,m;if(!o)return this;if(o instanceof bt||typeof o[0]=="number"||"x"in o)c=m=G(o);else if(o=Y(o),c=o.min,m=o.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,m;return typeof o[0]=="number"||o instanceof bt?o=G(o):o=Y(o),o instanceof R?(c=o.min,m=o.max):c=m=o,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=Y(o);var c=this.min,m=this.max,b=o.min,S=o.max,I=S.x>=c.x&&b.x<=m.x,U=S.y>=c.y&&b.y<=m.y;return I&&U},overlaps:function(o){o=Y(o);var c=this.min,m=this.max,b=o.min,S=o.max,I=S.x>c.x&&b.x<m.x,U=S.y>c.y&&b.y<m.y;return I&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,m=this.max,b=Math.abs(c.x-m.x)*o,S=Math.abs(c.y-m.y)*o;return Y(G(c.x-b,c.y-S),G(m.x+b,m.y+S))},equals:function(o){return o?(o=Y(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function Y(o,c){return!o||o instanceof R?o:new R(o,c)}function lt(o,c){if(o)for(var m=c?[o,c]:o,b=0,S=m.length;b<S;b++)this.extend(m[b])}lt.prototype={extend:function(o){var c=this._southWest,m=this._northEast,b,S;if(o instanceof mt)b=o,S=o;else if(o instanceof lt){if(b=o._southWest,S=o._northEast,!b||!S)return this}else return o?this.extend(yt(o)||ht(o)):this;return!c&&!m?(this._southWest=new mt(b.lat,b.lng),this._northEast=new mt(S.lat,S.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),m.lat=Math.max(S.lat,m.lat),m.lng=Math.max(S.lng,m.lng)),this},pad:function(o){var c=this._southWest,m=this._northEast,b=Math.abs(c.lat-m.lat)*o,S=Math.abs(c.lng-m.lng)*o;return new lt(new mt(c.lat-b,c.lng-S),new mt(m.lat+b,m.lng+S))},getCenter:function(){return new mt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new mt(this.getNorth(),this.getWest())},getSouthEast:function(){return new mt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof mt||"lat"in o?o=yt(o):o=ht(o);var c=this._southWest,m=this._northEast,b,S;return o instanceof lt?(b=o.getSouthWest(),S=o.getNorthEast()):b=S=o,b.lat>=c.lat&&S.lat<=m.lat&&b.lng>=c.lng&&S.lng<=m.lng},intersects:function(o){o=ht(o);var c=this._southWest,m=this._northEast,b=o.getSouthWest(),S=o.getNorthEast(),I=S.lat>=c.lat&&b.lat<=m.lat,U=S.lng>=c.lng&&b.lng<=m.lng;return I&&U},overlaps:function(o){o=ht(o);var c=this._southWest,m=this._northEast,b=o.getSouthWest(),S=o.getNorthEast(),I=S.lat>c.lat&&b.lat<m.lat,U=S.lng>c.lng&&b.lng<m.lng;return I&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=ht(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ht(o,c){return o instanceof lt?o:new lt(o,c)}function mt(o,c,m){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,m!==void 0&&(this.alt=+m)}mt.prototype={equals:function(o,c){if(!o)return!1;o=yt(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+O(this.lat,o)+", "+O(this.lng,o)+")"},distanceTo:function(o){return Lt.distance(this,yt(o))},wrap:function(){return Lt.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,m=c/Math.cos(Math.PI/180*this.lat);return ht([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new mt(this.lat,this.lng,this.alt)}};function yt(o,c,m){return o instanceof mt?o:nt(o)&&typeof o[0]!="object"?o.length===3?new mt(o[0],o[1],o[2]):o.length===2?new mt(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new mt(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new mt(o,c,m)}var wt={latLngToPoint:function(o,c){var m=this.projection.project(o),b=this.scale(c);return this.transformation._transform(m,b)},pointToLatLng:function(o,c){var m=this.scale(c),b=this.transformation.untransform(o,m);return this.projection.unproject(b)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(o),b=this.transformation.transform(c.min,m),S=this.transformation.transform(c.max,m);return new R(b,S)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?T(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?T(o.lat,this.wrapLat,!0):o.lat,b=o.alt;return new mt(m,c,b)},wrapLatLngBounds:function(o){var c=o.getCenter(),m=this.wrapLatLng(c),b=c.lat-m.lat,S=c.lng-m.lng;if(b===0&&S===0)return o;var I=o.getSouthWest(),U=o.getNorthEast(),X=new mt(I.lat-b,I.lng-S),rt=new mt(U.lat-b,U.lng-S);return new lt(X,rt)}},Lt=a({},wt,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var m=Math.PI/180,b=o.lat*m,S=c.lat*m,I=Math.sin((c.lat-o.lat)*m/2),U=Math.sin((c.lng-o.lng)*m/2),X=I*I+Math.cos(b)*Math.cos(S)*U*U,rt=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*rt}}),Ut=6378137,be={R:Ut,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,o.lat),-m),S=Math.sin(b*c);return new bt(this.R*o.lng*c,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(o){var c=180/Math.PI;return new mt((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:(function(){var o=Ut*Math.PI;return new R([-o,-o],[o,o])})()};function fe(o,c,m,b){if(nt(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=m,this._d=b}fe.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new bt((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function ve(o,c,m,b){return new fe(o,c,m,b)}var Be=a({},Lt,{code:"EPSG:3857",projection:be,transformation:(function(){var o=.5/(Math.PI*be.R);return ve(o,.5,-o,.5)})()}),Wt=a({},Be,{code:"EPSG:900913"});function nn(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function un(o,c){var m="",b,S,I,U,X,rt;for(b=0,I=o.length;b<I;b++){for(X=o[b],S=0,U=X.length;S<U;S++)rt=X[S],m+=(S?"L":"M")+rt.x+" "+rt.y;m+=c?Nt.svg?"z":"x":""}return m||"M0 0"}var pn=document.documentElement.style,Tn="ActiveXObject"in window,Le=Tn&&!document.addEventListener,Se="msLaunchUri"in navigator&&!("documentMode"in document),wi=jn("webkit"),eo=jn("android"),ca=jn("android 2")||jn("android 3"),Sn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Wr=eo&&jn("Google")&&Sn<537&&!("AudioNode"in window),gr=!!window.opera,xs=!Se&&jn("chrome"),Gi=jn("gecko")&&!wi&&!gr&&!Tn,no=!xs&&jn("safari"),Cs=jn("phantom"),Yr="OTransition"in pn,io=navigator.platform.indexOf("Win")===0,Jn=Tn&&"transition"in pn,gn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ca,fi="MozPerspective"in pn,rn=!window.L_DISABLE_3D&&(Jn||gn||fi)&&!Yr&&!Cs,Rs=typeof orientation<"u"||jn("mobile"),ro=Rs&&wi,Au=Rs&&gn,Zi=!window.PointerEvent&&window.MSPointerEvent,Is=!!(window.PointerEvent||Zi),sn="ontouchstart"in window||!!window.TouchEvent,_r=!window.L_NO_TOUCH&&(sn||Is),yr=Rs&&gr,Ki=Rs&&Gi,th=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,xu=(function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",x,c),window.removeEventListener("testPassiveEventSupport",x,c)}catch{}return o})(),vr=(function(){return!!document.createElement("canvas").getContext})(),$r=!!(document.createElementNS&&nn("svg").createSVGRect),eh=!!$r&&(function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ha=!$r&&(function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),ml=navigator.platform.indexOf("Mac")===0,pl=navigator.platform.indexOf("Linux")===0;function jn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Nt={ie:Tn,ielt9:Le,edge:Se,webkit:wi,android:eo,android23:ca,androidStock:Wr,opera:gr,chrome:xs,gecko:Gi,safari:no,phantom:Cs,opera12:Yr,win:io,ie3d:Jn,webkit3d:gn,gecko3d:fi,any3d:rn,mobile:Rs,mobileWebkit:ro,mobileWebkit3d:Au,msPointer:Zi,pointer:Is,touch:_r,touchNative:sn,mobileOpera:yr,mobileGecko:Ki,retina:th,passiveEvents:xu,canvas:vr,svg:$r,vml:ha,inlineSvg:eh,mac:ml,linux:pl},gl=Nt.msPointer?"MSPointerDown":"pointerdown",Ti=Nt.msPointer?"MSPointerMove":"pointermove",Si=Nt.msPointer?"MSPointerUp":"pointerup",an=Nt.msPointer?"MSPointerCancel":"pointercancel",cn={touchstart:gl,touchmove:Ti,touchend:Si,touchcancel:an},Wi={touchstart:Er,touchmove:Vn,touchend:Vn,touchcancel:Vn},Yi={},Cu=!1;function Ru(o,c,m){return c==="touchstart"&&Ai(),Wi[c]?(m=Wi[c].bind(this,m),o.addEventListener(cn[c],m,!1),m):(console.warn("wrong event specified:",c),x)}function Iu(o,c,m){if(!cn[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(cn[c],m,!1)}function br(o){Yi[o.pointerId]=o}function so(o){Yi[o.pointerId]&&(Yi[o.pointerId]=o)}function $i(o){delete Yi[o.pointerId]}function Ai(){Cu||(document.addEventListener(gl,br,!0),document.addEventListener(Ti,so,!0),document.addEventListener(Si,$i,!0),document.addEventListener(an,$i,!0),Cu=!0)}function Vn(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Yi)c.touches.push(Yi[m]);c.changedTouches=[c],o(c)}}function Er(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Qe(c),Vn(o,c)}function hn(o){var c={},m,b;for(b in o)m=o[b],c[b]=m&&m.bind?m.bind(o):m;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var _l=200;function yl(o,c){o.addEventListener("dblclick",c);var m=0,b;function S(I){if(I.detail!==1){b=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var U=Ms(I);if(!(U.some(function(rt){return rt instanceof HTMLLabelElement&&rt.attributes.for})&&!U.some(function(rt){return rt instanceof HTMLInputElement||rt instanceof HTMLSelectElement}))){var X=Date.now();X-m<=_l?(b++,b===2&&c(hn(I))):b=1,m=X}}}return o.addEventListener("click",S),{dblclick:c,simDblclick:S}}function wr(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var xi=da(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qr=da(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ao=Qr==="webkitTransition"||Qr==="OTransition"?Qr+"End":"transitionend";function oo(o){return typeof o=="string"?document.getElementById(o):o}function Os(o,c){var m=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(o,null);m=b?b[c]:null}return m==="auto"?null:m}function ae(o,c,m){var b=document.createElement(o);return b.className=c||"",m&&m.appendChild(b),b}function le(o){var c=o.parentNode;c&&c.removeChild(o)}function Ye(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function $e(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function di(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function fa(o,c){if(o.classList!==void 0)return o.classList.contains(c);var m=Tr(o);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Ot(o,c){if(o.classList!==void 0)for(var m=M(c),b=0,S=m.length;b<S;b++)o.classList.add(m[b]);else if(!fa(o,c)){var I=Tr(o);Ci(o,(I?I+" ":"")+c)}}function De(o,c){o.classList!==void 0?o.classList.remove(c):Ci(o,D((" "+Tr(o)+" ").replace(" "+c+" "," ")))}function Ci(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function Tr(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function qe(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&lo(o,c)}function lo(o,c){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):o.style.filter+=" progid:"+b+"(opacity="+c+")"}function da(o){for(var c=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in c)return o[m];return!1}function Qi(o,c,m){var b=c||new bt(0,0);o.style[xi]=(Nt.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function ke(o,c){o._leaflet_pos=c,Nt.any3d?Qi(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function Sr(o){return o._leaflet_pos||new bt(0,0)}var Ri,An,uo;if("onselectstart"in document)Ri=function(){Ft(window,"selectstart",Qe)},An=function(){Ae(window,"selectstart",Qe)};else{var Xr=da(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ri=function(){if(Xr){var o=document.documentElement.style;uo=o[Xr],o[Xr]="none"}},An=function(){Xr&&(document.documentElement.style[Xr]=uo,uo=void 0)}}function ma(){Ft(window,"dragstart",Qe)}function Ps(){Ae(window,"dragstart",Qe)}var pa,Ar;function Ns(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ti(),pa=o,Ar=o.style.outlineStyle,o.style.outlineStyle="none",Ft(window,"keydown",ti))}function ti(){pa&&(pa.style.outlineStyle=Ar,pa=void 0,Ar=void 0,Ae(window,"keydown",ti))}function co(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function ei(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var Ls={__proto__:null,TRANSFORM:xi,TRANSITION:Qr,TRANSITION_END:ao,get:oo,getStyle:Os,create:ae,remove:le,empty:Ye,toFront:$e,toBack:di,hasClass:fa,addClass:Ot,removeClass:De,setClass:Ci,getClass:Tr,setOpacity:qe,testProp:da,setTransform:Qi,setPosition:ke,getPosition:Sr,get disableTextSelection(){return Ri},get enableTextSelection(){return An},disableImageDrag:ma,enableImageDrag:Ps,preventOutline:Ns,restoreOutline:ti,getSizedParentNode:co,getScale:ei};function Ft(o,c,m,b){if(c&&typeof c=="object")for(var S in c)ni(o,S,c[S],m);else{c=M(c);for(var I=0,U=c.length;I<U;I++)ni(o,c[I],m,b)}return this}var zn="_leaflet_events";function Ae(o,c,m,b){if(arguments.length===1)Jr(o),delete o[zn];else if(c&&typeof c=="object")for(var S in c)ts(o,S,c[S],m);else if(c=M(c),arguments.length===2)Jr(o,function(X){return Tt(c,X)!==-1});else for(var I=0,U=c.length;I<U;I++)ts(o,c[I],m,b);return this}function Jr(o,c){for(var m in o[zn]){var b=m.split(/\d/)[0];(!c||c(b))&&ts(o,b,null,null,m)}}var mi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ni(o,c,m,b){var S=c+_(m)+(b?"_"+_(b):"");if(o[zn]&&o[zn][S])return this;var I=function(X){return m.call(b||o,X||window.event)},U=I;!Nt.touchNative&&Nt.pointer&&c.indexOf("touch")===0?I=Ru(o,c,I):Nt.touch&&c==="dblclick"?I=yl(o,I):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(mi[c]||c,I,Nt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(I=function(X){X=X||window.event,tr(o,X)&&U(X)},o.addEventListener(mi[c],I,!1)):o.addEventListener(c,U,!1):o.attachEvent("on"+c,I),o[zn]=o[zn]||{},o[zn][S]=I}function ts(o,c,m,b,S){S=S||c+_(m)+(b?"_"+_(b):"");var I=o[zn]&&o[zn][S];if(!I)return this;!Nt.touchNative&&Nt.pointer&&c.indexOf("touch")===0?Iu(o,c,I):Nt.touch&&c==="dblclick"?wr(o,I):"removeEventListener"in o?o.removeEventListener(mi[c]||c,I,!1):o.detachEvent("on"+c,I),o[zn][S]=null}function de(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Ii(o){return ni(o,"wheel",de),this}function es(o){return Ft(o,"mousedown touchstart dblclick contextmenu",de),o._leaflet_disable_click=!0,this}function Qe(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function Xi(o){return Qe(o),de(o),this}function Ms(o){if(o.composedPath)return o.composedPath();for(var c=[],m=o.target;m;)c.push(m),m=m.parentNode;return c}function xr(o,c){if(!c)return new bt(o.clientX,o.clientY);var m=ei(c),b=m.boundingClientRect;return new bt((o.clientX-b.left)/m.x-c.clientLeft,(o.clientY-b.top)/m.y-c.clientTop)}var Ji=Nt.linux&&Nt.chrome?window.devicePixelRatio:Nt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xn(o){return Nt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ji:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function tr(o,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var Cr={__proto__:null,on:Ft,off:Ae,stopPropagation:de,disableScrollPropagation:Ii,disableClickPropagation:es,preventDefault:Qe,stop:Xi,getPropagationPath:Ms,getMousePosition:xr,getWheelDelta:xn,isExternalTarget:tr,addListener:Ft,removeListener:Ae},ns=St.extend({run:function(o,c,m,b){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Sr(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var m=this._startPos.add(this._offset.multiplyBy(o));c&&m._round(),ke(this._el,m),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),re=St.extend({options:{crs:Be,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=z(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(yt(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qr&&Nt.any3d&&!Nt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ft(this._proxy,ao,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(yt(o),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=a({animate:m.animate},m.zoom),m.pan=a({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,m.zoom):this._tryAnimatedPan(o,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(Nt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,m){var b=this.getZoomScale(c),S=this.getSize().divideBy(2),I=o instanceof bt?o:this.latLngToContainerPoint(o),U=I.subtract(S).multiplyBy(1-1/b),X=this.containerPointToLatLng(S.add(U));return this.setView(X,c,{zoom:m})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():ht(o);var m=G(c.paddingTopLeft||c.padding||[0,0]),b=G(c.paddingBottomRight||c.padding||[0,0]),S=this.getBoundsZoom(o,!1,m.add(b));if(S=typeof c.maxZoom=="number"?Math.min(c.maxZoom,S):S,S===1/0)return{center:o.getCenter(),zoom:S};var I=b.subtract(m).divideBy(2),U=this.project(o.getSouthWest(),S),X=this.project(o.getNorthEast(),S),rt=this.unproject(U.add(X).divideBy(2).add(I),S);return{center:rt,zoom:S}},fitBounds:function(o,c){if(o=ht(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=G(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ns,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ot(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,m){if(m=m||{},m.animate===!1||!Nt.any3d)return this.setView(o,c,m);this._stop();var b=this.project(this.getCenter()),S=this.project(o),I=this.getSize(),U=this._zoom;o=yt(o),c=c===void 0?U:c;var X=Math.max(I.x,I.y),rt=X*this.getZoomScale(U,c),pt=S.distanceTo(b)||1,xt=1.42,jt=xt*xt;function ne(on){var os=on?-1:1,wa=on?rt:X,oh=rt*rt-X*X+os*jt*jt*pt*pt,Vl=2*wa*jt*pt,zl=oh/Vl,qs=Math.sqrt(zl*zl+1)-zl,ls=qs<1e-9?-18:Math.log(qs);return ls}function Mn(on){return(Math.exp(on)-Math.exp(-on))/2}function fn(on){return(Math.exp(on)+Math.exp(-on))/2}function _i(on){return Mn(on)/fn(on)}var Ce=ne(0);function Re(on){return X*(fn(Ce)/fn(Ce+xt*on))}function ue(on){return X*(fn(Ce)*_i(Ce+xt*on)-Mn(Ce))/jt}function Fs(on){return 1-Math.pow(1-on,1.5)}var Mi=Date.now(),Fu=(ne(1)-Ce)/xt,Hs=m.duration?1e3*m.duration:1e3*Fu*.8;function ah(){var on=(Date.now()-Mi)/Hs,os=Fs(on)*Fu;on<=1?(this._flyToFrame=q(ah,this),this._move(this.unproject(b.add(S.subtract(b).multiplyBy(ue(os)/pt)),U),this.getScaleZoom(X/Re(os),U),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),ah.call(this),this},flyToBounds:function(o,c){var m=this._getBoundsCenterZoom(o,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(o){return o=ht(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,ht(o));return m.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var m=G(c.paddingTopLeft||c.padding||[0,0]),b=G(c.paddingBottomRight||c.padding||[0,0]),S=this.project(this.getCenter()),I=this.project(o),U=this.getPixelBounds(),X=Y([U.min.add(m),U.max.subtract(b)]),rt=X.getSize();if(!X.contains(I)){this._enforcingBounds=!0;var pt=I.subtract(X.getCenter()),xt=X.extend(I).getSize().subtract(rt);S.x+=pt.x<0?-xt.x:xt.x,S.y+=pt.y<0?-xt.y:xt.y,this.panTo(this.unproject(S),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=a({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=c.divideBy(2).round(),S=m.divideBy(2).round(),I=b.subtract(S);return!I.x&&!I.y?this:(o.animate&&o.pan?this.panBy(I):(o.pan&&this._rawPanBy(I),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=a({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=f(this._handleGeolocationResponse,this),m=f(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,o):navigator.geolocation.getCurrentPosition(c,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,m=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,m=o.coords.longitude,b=new mt(c,m),S=b.toBounds(o.coords.accuracy*2),I=this._locateOptions;if(I.setView){var U=this.getBoundsZoom(S);this.setView(b,I.maxZoom?Math.min(U,I.maxZoom):U)}var X={latlng:b,bounds:S,timestamp:o.timestamp};for(var rt in o.coords)typeof o.coords[rt]=="number"&&(X[rt]=o.coords[rt]);this.fire("locationfound",X)}},addHandler:function(o,c){if(!c)return this;var m=this[o]=new c(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),le(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)le(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),b=ae("div",m,c||this._mapPane);return o&&(this._panes[o]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new lt(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,m){o=ht(o),m=G(m||[0,0]);var b=this.getZoom()||0,S=this.getMinZoom(),I=this.getMaxZoom(),U=o.getNorthWest(),X=o.getSouthEast(),rt=this.getSize().subtract(m),pt=Y(this.project(X,b),this.project(U,b)).getSize(),xt=Nt.any3d?this.options.zoomSnap:1,jt=rt.x/pt.x,ne=rt.y/pt.y,Mn=c?Math.max(jt,ne):Math.min(jt,ne);return b=this.getScaleZoom(Mn,b),xt&&(b=Math.round(b/(xt/100))*(xt/100),b=c?Math.ceil(b/xt)*xt:Math.floor(b/xt)*xt),Math.max(S,Math.min(I,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new bt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var m=this._getTopLeftPoint(o,c);return new R(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(o)/m.scale(c)},getScaleZoom:function(o,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var b=m.zoom(o*m.scale(c));return isNaN(b)?1/0:b},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(yt(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(G(o),c)},layerPointToLatLng:function(o){var c=G(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(yt(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(yt(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ht(o))},distance:function(o,c){return this.options.crs.distance(yt(o),yt(c))},containerPointToLayerPoint:function(o){return G(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return G(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(G(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(yt(o)))},mouseEventToContainerPoint:function(o){return xr(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=oo(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ft(c,"scroll",this._onScroll,this),this._containerId=_(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Nt.any3d,Ot(o,"leaflet-container"+(Nt.touch?" leaflet-touch":"")+(Nt.retina?" leaflet-retina":"")+(Nt.ielt9?" leaflet-oldie":"")+(Nt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Os(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ke(this._mapPane,new bt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ot(o.markerPane,"leaflet-zoom-hide"),Ot(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,m){ke(this._mapPane,new bt(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var S=this._zoom!==c;this._moveStart(S,m)._move(o,c)._moveEnd(S),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,m,b){c===void 0&&(c=this._zoom);var S=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),b?m&&m.pinch&&this.fire("zoom",m):((S||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){ke(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[_(this._container)]=this;var c=o?Ae:Ft;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Nt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var m=[],b,S=c==="mouseout"||c==="mouseover",I=o.target||o.srcElement,U=!1;I;){if(b=this._targets[_(I)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){U=!0;break}if(b&&b.listens(c,!0)&&(S&&!tr(I,o)||(m.push(b),S))||I===this._container)break;I=I.parentNode}return!m.length&&!U&&!S&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var m=o.type;m==="mousedown"&&Ns(c),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,m){if(o.type==="click"){var b=a({},o);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var S=this._findEventTargets(o,c);if(m){for(var I=[],U=0;U<m.length;U++)m[U].listens(c,!0)&&I.push(m[U]);S=I.concat(S)}if(S.length){c==="contextmenu"&&Qe(o);var X=S[0],rt={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var pt=X.getLatLng&&(!X._radius||X._radius<=10);rt.containerPoint=pt?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(o),rt.layerPoint=this.containerPointToLayerPoint(rt.containerPoint),rt.latlng=pt?X.getLatLng():this.layerPointToLatLng(rt.layerPoint)}for(U=0;U<S.length;U++)if(S[U].fire(c,rt,!0),rt.originalEvent._stopped||S[U].options.bubblingMouseEvents===!1&&Tt(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return Sr(this._mapPane)||new bt(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var m=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var m=this.getSize()._divideBy(2);return this.project(o,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,m){var b=this._getNewPixelOrigin(m,c);return this.project(o,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(o,c,m){var b=this._getNewPixelOrigin(m,c);return Y([this.project(o.getSouthWest(),c)._subtract(b),this.project(o.getNorthWest(),c)._subtract(b),this.project(o.getSouthEast(),c)._subtract(b),this.project(o.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,m){if(!m)return o;var b=this.project(o,c),S=this.getSize().divideBy(2),I=new R(b.subtract(S),b.add(S)),U=this._getBoundsOffset(I,m,c);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?o:this.unproject(b.add(U),c)},_limitOffset:function(o,c){if(!c)return o;var m=this.getPixelBounds(),b=new R(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(o,c,m){var b=Y(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),S=b.min.subtract(o.min),I=b.max.subtract(o.max),U=this._rebound(S.x,-I.x),X=this._rebound(S.y,-I.y);return new bt(U,X)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),m=this.getMaxZoom(),b=Nt.any3d?this.options.zoomSnap:1;return b&&(o=Math.round(o/b)*b),Math.max(c,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){De(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var m=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var o=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var m=xi,b=this._proxy.style[m];Qi(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){le(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();Qi(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),S=this._getCenterOffset(o)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(S)?!1:(q(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&De(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ds(o,c){return new re(o,c)}var Bn=Yt.extend({options:{position:"topright"},initialize:function(o){z(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),m=this.getPosition(),b=o._controlCorners[m];return Ot(c,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(le(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),ii=function(o){return new Bn(o)};re.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",m=this._controlContainer=ae("div",c+"control-container",this._container);function b(S,I){var U=c+S+" "+c+I;o[S+I]=ae("div",U,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)le(this._controlCorners[o]);le(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ga=Bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,m,b){return m<b?-1:b<m?1:0}},initialize:function(o,c,m){z(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in o)this._addLayer(o[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Bn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(_(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):De(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return De(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=ae("div",o),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),es(c),Ii(c);var b=this._section=ae("section",o+"-list");m&&(this._map.on("click",this.collapse,this),Ft(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=ae("a",o+"-toggle",c);S.href="#",S.title="Layers",S.setAttribute("role","button"),Ft(S,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){Qe(I),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=ae("div",o+"-base",b),this._separator=ae("div",o+"-separator",b),this._overlaysList=ae("div",o+"-overlays",b),c.appendChild(b)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&_(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(f(function(b,S){return this.options.sortFunction(b.layer,S.layer,b.name,S.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ye(this._baseLayersList),Ye(this._overlaysList),this._layerControlInputs=[];var o,c,m,b,S=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),c=c||b.overlay,o=o||!b.overlay,S+=b.overlay?0:1;return this.options.hideSingleBase&&(o=o&&S>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(_(o.target)),m=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(o,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(o){var c=document.createElement("label"),m=this._map.hasLayer(o.layer),b;o.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+_(this),m),this._layerControlInputs.push(b),b.layerId=_(o.layer),Ft(b,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+o.name;var I=document.createElement("span");c.appendChild(I),I.appendChild(b),I.appendChild(S);var U=o.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,m,b=[],S=[];this._handlingClick=!0;for(var I=o.length-1;I>=0;I--)c=o[I],m=this._getLayer(c.layerId).layer,c.checked?b.push(m):c.checked||S.push(m);for(I=0;I<S.length;I++)this._map.hasLayer(S[I])&&this._map.removeLayer(S[I]);for(I=0;I<b.length;I++)this._map.hasLayer(b[I])||this._map.addLayer(b[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,m,b=this._map.getZoom(),S=o.length-1;S>=0;S--)c=o[S],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,Ft(o,"click",Qe),this.expand();var c=this;setTimeout(function(){Ae(o,"click",Qe),c._preventClick=!1})}}),vl=function(o,c,m){return new ga(o,c,m)},is=Bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",m=ae("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,m,b,S){var I=ae("a",m,b);return I.innerHTML=o,I.href="#",I.title=c,I.setAttribute("role","button"),I.setAttribute("aria-label",c),es(I),Ft(I,"click",Xi),Ft(I,"click",S,this),Ft(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";De(this._zoomInButton,c),De(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ot(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ot(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new is,this.addControl(this.zoomControl))});var Ou=function(o){return new is(o)},bl=Bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",m=ae("div",c),b=this.options;return this._addScales(b,c+"-line",m),o.on(b.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,m){o.metric&&(this._mScale=ae("div",c,m)),o.imperial&&(this._iScale=ae("div",c,m))},_update:function(){var o=this._map,c=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/o)},_updateImperial:function(o){var c=o*3.2808399,m,b,S;c>5280?(m=c/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(S=this._getRoundNum(c),this._updateScale(this._iScale,S+" ft",S/c))},_updateScale:function(o,c,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),m=o/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),_a=function(o){return new bl(o)},El='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ho=Bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Nt.inlineSvg?El+" ":"")+"Leaflet</a>"},initialize:function(o){z(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),es(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new ho().addTo(this)});var fo=function(o){return new ho(o)};Bn.Layers=ga,Bn.Zoom=is,Bn.Scale=bl,Bn.Attribution=ho,ii.layers=vl,ii.zoom=Ou,ii.scale=_a,ii.attribution=fo;var pi=Yt.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});pi.addTo=function(o,c){return o.addHandler(c,this),this};var Pu={Events:it},er=Nt.touch?"touchstart mousedown":"mousedown",nr=St.extend({options:{clickTolerance:3},initialize:function(o,c,m,b){z(this,b),this._element=o,this._dragStartTarget=c||o,this._preventOutline=m},enable:function(){this._enabled||(Ft(this._dragStartTarget,er,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nr._dragging===this&&this.finishDrag(!0),Ae(this._dragStartTarget,er,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!fa(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){nr._dragging===this&&this.finishDrag();return}if(!(nr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(nr._dragging=this,this._preventOutline&&Ns(this._element),ma(),Ri(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,m=co(this._element);this._startPoint=new bt(c.clientX,c.clientY),this._startPos=Sr(this._element),this._parentScale=ei(m);var b=o.type==="mousedown";Ft(document,b?"mousemove":"touchmove",this._onMove,this),Ft(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,m=new bt(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Qe(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ot(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),ke(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){De(document.body,"leaflet-dragging"),this._lastTarget&&(De(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ae(document,"mousemove touchmove",this._onMove,this),Ae(document,"mouseup touchend touchcancel",this._onUp,this),Ps(),An();var c=this._moved&&this._moving;this._moving=!1,nr._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function wl(o,c,m){var b,S=[1,4,2,8],I,U,X,rt,pt,xt,jt,ne;for(I=0,xt=o.length;I<xt;I++)o[I]._code=at(o[I],c);for(X=0;X<4;X++){for(jt=S[X],b=[],I=0,xt=o.length,U=xt-1;I<xt;U=I++)rt=o[I],pt=o[U],rt._code&jt?pt._code&jt||(ne=J(pt,rt,jt,c,m),ne._code=at(ne,c),b.push(ne)):(pt._code&jt&&(ne=J(pt,rt,jt,c,m),ne._code=at(ne,c),b.push(ne)),b.push(rt));o=b}return o}function Tl(o,c){var m,b,S,I,U,X,rt,pt,xt;if(!o||o.length===0)throw new Error("latlngs not passed");Ee(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var jt=yt([0,0]),ne=ht(o),Mn=ne.getNorthWest().distanceTo(ne.getSouthWest())*ne.getNorthEast().distanceTo(ne.getNorthWest());Mn<1700&&(jt=mo(o));var fn=o.length,_i=[];for(m=0;m<fn;m++){var Ce=yt(o[m]);_i.push(c.project(yt([Ce.lat-jt.lat,Ce.lng-jt.lng])))}for(X=rt=pt=0,m=0,b=fn-1;m<fn;b=m++)S=_i[m],I=_i[b],U=S.y*I.x-I.y*S.x,rt+=(S.x+I.x)*U,pt+=(S.y+I.y)*U,X+=U*3;X===0?xt=_i[0]:xt=[rt/X,pt/X];var Re=c.unproject(G(xt));return yt([Re.lat+jt.lat,Re.lng+jt.lng])}function mo(o){for(var c=0,m=0,b=0,S=0;S<o.length;S++){var I=yt(o[S]);c+=I.lat,m+=I.lng,b++}return yt([c/b,m/b])}var ks={__proto__:null,clipPolygon:wl,polygonCenter:Tl,centroid:mo};function Un(o,c){if(!c||!o.length)return o.slice();var m=c*c;return o=w(o,m),o=rs(o,m),o}function Sl(o,c,m){return Math.sqrt(Zt(o,c,m,!0))}function Nu(o,c,m){return Zt(o,c,m)}function rs(o,c){var m=o.length,b=typeof Uint8Array<"u"?Uint8Array:Array,S=new b(m);S[0]=S[m-1]=1,d(o,S,c,0,m-1);var I,U=[];for(I=0;I<m;I++)S[I]&&U.push(o[I]);return U}function d(o,c,m,b,S){var I=0,U,X,rt;for(X=b+1;X<=S-1;X++)rt=Zt(o[X],o[b],o[S],!0),rt>I&&(U=X,I=rt);I>m&&(c[U]=1,d(o,c,m,b,U),d(o,c,m,U,S))}function w(o,c){for(var m=[o[0]],b=1,S=0,I=o.length;b<I;b++)At(o[b],o[S])>c&&(m.push(o[b]),S=b);return S<I-1&&m.push(o[I-1]),m}var C;function N(o,c,m,b,S){var I=b?C:at(o,m),U=at(c,m),X,rt,pt;for(C=U;;){if(!(I|U))return[o,c];if(I&U)return!1;X=I||U,rt=J(o,c,X,m,S),pt=at(rt,m),X===I?(o=rt,I=pt):(c=rt,U=pt)}}function J(o,c,m,b,S){var I=c.x-o.x,U=c.y-o.y,X=b.min,rt=b.max,pt,xt;return m&8?(pt=o.x+I*(rt.y-o.y)/U,xt=rt.y):m&4?(pt=o.x+I*(X.y-o.y)/U,xt=X.y):m&2?(pt=rt.x,xt=o.y+U*(rt.x-o.x)/I):m&1&&(pt=X.x,xt=o.y+U*(X.x-o.x)/I),new bt(pt,xt,S)}function at(o,c){var m=0;return o.x<c.min.x?m|=1:o.x>c.max.x&&(m|=2),o.y<c.min.y?m|=4:o.y>c.max.y&&(m|=8),m}function At(o,c){var m=c.x-o.x,b=c.y-o.y;return m*m+b*b}function Zt(o,c,m,b){var S=c.x,I=c.y,U=m.x-S,X=m.y-I,rt=U*U+X*X,pt;return rt>0&&(pt=((o.x-S)*U+(o.y-I)*X)/rt,pt>1?(S=m.x,I=m.y):pt>0&&(S+=U*pt,I+=X*pt)),U=o.x-S,X=o.y-I,b?U*U+X*X:new bt(S,I)}function Ee(o){return!nt(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function we(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ee(o)}function Ge(o,c){var m,b,S,I,U,X,rt,pt;if(!o||o.length===0)throw new Error("latlngs not passed");Ee(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var xt=yt([0,0]),jt=ht(o),ne=jt.getNorthWest().distanceTo(jt.getSouthWest())*jt.getNorthEast().distanceTo(jt.getNorthWest());ne<1700&&(xt=mo(o));var Mn=o.length,fn=[];for(m=0;m<Mn;m++){var _i=yt(o[m]);fn.push(c.project(yt([_i.lat-xt.lat,_i.lng-xt.lng])))}for(m=0,b=0;m<Mn-1;m++)b+=fn[m].distanceTo(fn[m+1])/2;if(b===0)pt=fn[0];else for(m=0,I=0;m<Mn-1;m++)if(U=fn[m],X=fn[m+1],S=U.distanceTo(X),I+=S,I>b){rt=(I-b)/S,pt=[X.x-rt*(X.x-U.x),X.y-rt*(X.y-U.y)];break}var Ce=c.unproject(G(pt));return yt([Ce.lat+xt.lat,Ce.lng+xt.lng])}var Oi={__proto__:null,simplify:Un,pointToSegmentDistance:Sl,closestPointOnSegment:Nu,clipSegment:N,_getEdgeIntersection:J,_getBitCode:at,_sqClosestPointOnSegment:Zt,isFlat:Ee,_flat:we,polylineCenter:Ge},Pi={project:function(o){return new bt(o.lng,o.lat)},unproject:function(o){return new mt(o.y,o.x)},bounds:new R([-180,-90],[180,90])},gi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new R([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,m=this.R,b=o.lat*c,S=this.R_MINOR/m,I=Math.sqrt(1-S*S),U=I*Math.sin(b),X=Math.tan(Math.PI/4-b/2)/Math.pow((1-U)/(1+U),I/2);return b=-m*Math.log(Math.max(X,1e-10)),new bt(o.lng*c*m,b)},unproject:function(o){for(var c=180/Math.PI,m=this.R,b=this.R_MINOR/m,S=Math.sqrt(1-b*b),I=Math.exp(-o.y/m),U=Math.PI/2-2*Math.atan(I),X=0,rt=.1,pt;X<15&&Math.abs(rt)>1e-7;X++)pt=S*Math.sin(U),pt=Math.pow((1-pt)/(1+pt),S/2),rt=Math.PI/2-2*Math.atan(I*pt)-U,U+=rt;return new mt(U*c,o.x*c/m)}},ir={__proto__:null,LonLat:Pi,Mercator:gi,SphericalMercator:be},ya=a({},Lt,{code:"EPSG:3395",projection:gi,transformation:(function(){var o=.5/(Math.PI*gi.R);return ve(o,.5,-o,.5)})()}),va=a({},Lt,{code:"EPSG:4326",projection:Pi,transformation:ve(1/180,1,-1/180,.5)}),po=a({},wt,{projection:Pi,transformation:ve(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var m=c.lng-o.lng,b=c.lat-o.lat;return Math.sqrt(m*m+b*b)},infinite:!0});wt.Earth=Lt,wt.EPSG3395=ya,wt.EPSG3857=Be,wt.EPSG900913=Wt,wt.EPSG4326=va,wt.Simple=po;var rr=St.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[_(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[_(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});re.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=_(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=_(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return _(o)in this._layers},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},_addLayers:function(o){o=o?nt(o)?o:[o]:[];for(var c=0,m=o.length;c<m;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[_(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=_(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var S=this._zoomBoundLayers[b].options;o=S.minZoom===void 0?o:Math.min(o,S.minZoom),c=S.maxZoom===void 0?c:Math.max(c,S.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var go=rr.extend({initialize:function(o,c){z(this,c),this._layers={};var m,b;if(o)for(m=0,b=o.length;m<b;m++)this.addLayer(o[m])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[o]&&b[o].apply(b,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return _(o)}}),Yp=function(o,c){return new go(o,c)},Rr=go.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),go.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),go.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new lt;for(var c in this._layers){var m=this._layers[c];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),Hf=function(o,c){return new Rr(o,c)},Ir=Yt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){z(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(o,c){var m=this.options,b=m[c+"Size"];typeof b=="number"&&(b=[b,b]);var S=G(b),I=G(c==="shadow"&&m.shadowAnchor||m.iconAnchor||S&&S.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(m.className||""),I&&(o.style.marginLeft=-I.x+"px",o.style.marginTop=-I.y+"px"),S&&(o.style.width=S.x+"px",o.style.height=S.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return Nt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Al(o){return new Ir(o)}var xl=Ir.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof xl.imagePath!="string"&&(xl.imagePath=this._detectIconPath()),(this.options.imagePath||xl.imagePath)+Ir.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(m,b,S){var I=b.exec(m);return I&&I[S]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=ae("div","leaflet-default-icon-path",document.body),c=Os(o,"background-image")||Os(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Cl=pi.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new nr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ot(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&De(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,m=c._map,b=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,I=Sr(c._icon),U=m.getPixelBounds(),X=m.getPixelOrigin(),rt=Y(U.min._subtract(X).add(S),U.max._subtract(X).subtract(S));if(!rt.contains(I)){var pt=G((Math.max(rt.max.x,I.x)-rt.max.x)/(U.max.x-rt.max.x)-(Math.min(rt.min.x,I.x)-rt.min.x)/(U.min.x-rt.min.x),(Math.max(rt.max.y,I.y)-rt.max.y)/(U.max.y-rt.max.y)-(Math.min(rt.min.y,I.y)-rt.min.y)/(U.min.y-rt.min.y)).multiplyBy(b);m.panBy(pt,{animate:!1}),this._draggable._newPos._add(pt),this._draggable._startPos._add(pt),ke(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=q(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,m=c._shadow,b=Sr(c._icon),S=c._map.layerPointToLatLng(b);m&&ke(m,b),c._latlng=S,o.latlng=S,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Rl=rr.extend({options:{icon:new xl,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){z(this,c),this._latlng=yt(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=yt(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),Ot(m,c),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(m,"focus",this._panOnFocus,this);var S=o.icon.createShadow(this._shadow),I=!1;S!==this._shadow&&(this._removeShadow(),I=!0),S&&(Ot(S,c),S.alt=""),this._shadow=S,o.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&I&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(this._icon,"focus",this._panOnFocus,this),le(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&le(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&ke(this._icon,o),this._shadow&&ke(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Cl)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Cl(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&qe(this._icon,o),this._shadow&&qe(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,m=c.iconSize?G(c.iconSize):G(0,0),b=c.iconAnchor?G(c.iconAnchor):G(0,0);o.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qf(o,c){return new Rl(o,c)}var Or=rr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return z(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),_o=Or.extend({options:{fill:!0,radius:10},initialize:function(o,c){z(this,c),this._latlng=yt(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=yt(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return Or.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,m=this._clickTolerance(),b=[o+m,c+m];this._pxBounds=new R(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gf(o,c){return new _o(o,c)}var Lu=_o.extend({initialize:function(o,c,m){if(typeof c=="number"&&(c=a({},m,{radius:c})),z(this,c),this._latlng=yt(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new lt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Or.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===Lt.distance){var S=Math.PI/180,I=this._mRadius/Lt.R/S,U=m.project([c+I,o]),X=m.project([c-I,o]),rt=U.add(X).divideBy(2),pt=m.unproject(rt).lat,xt=Math.acos((Math.cos(I*S)-Math.sin(c*S)*Math.sin(pt*S))/(Math.cos(c*S)*Math.cos(pt*S)))/S;(isNaN(xt)||xt===0)&&(xt=I/Math.cos(Math.PI/180*c)),this._point=rt.subtract(m.getPixelOrigin()),this._radius=isNaN(xt)?0:rt.x-m.project([pt,o-xt]).x,this._radiusY=rt.y-U.y}else{var jt=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(jt).x}this._updateBounds()}});function Zf(o,c,m){return new Lu(o,c,m)}var ss=Or.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){z(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,m=null,b=Zt,S,I,U=0,X=this._parts.length;U<X;U++)for(var rt=this._parts[U],pt=1,xt=rt.length;pt<xt;pt++){S=rt[pt-1],I=rt[pt];var jt=b(o,S,I,!0);jt<c&&(c=jt,m=b(o,S,I))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ge(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=yt(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new lt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Ee(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],m=Ee(o),b=0,S=o.length;b<S;b++)m?(c[b]=yt(o[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(o[b]);return c},_project:function(){var o=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new bt(o,o);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,m){var b=o[0]instanceof mt,S=o.length,I,U;if(b){for(U=[],I=0;I<S;I++)U[I]=this._map.latLngToLayerPoint(o[I]),m.extend(U[I]);c.push(U)}else for(I=0;I<S;I++)this._projectLatlngs(o[I],c,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,b,S,I,U,X,rt;for(m=0,S=0,I=this._rings.length;m<I;m++)for(rt=this._rings[m],b=0,U=rt.length;b<U-1;b++)X=N(rt[b],rt[b+1],o,b,!0),X&&(c[S]=c[S]||[],c[S].push(X[0]),(X[1]!==rt[b+1]||b===U-2)&&(c[S].push(X[1]),S++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,m=0,b=o.length;m<b;m++)o[m]=Un(o[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var m,b,S,I,U,X,rt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,I=this._parts.length;m<I;m++)for(X=this._parts[m],b=0,U=X.length,S=U-1;b<U;S=b++)if(!(!c&&b===0)&&Sl(o,X[S],X[b])<=rt)return!0;return!1}});function $p(o,c){return new ss(o,c)}ss._flat=we;var yo=ss.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Tl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=ss.prototype._convertLatLngs.call(this,o),m=c.length;return m>=2&&c[0]instanceof mt&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(o){ss.prototype._setLatLngs.call(this,o),Ee(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ee(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,m=new bt(c,c);if(o=new R(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,S=this._rings.length,I;b<S;b++)I=wl(this._rings[b],o,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,m,b,S,I,U,X,rt,pt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(I=0,rt=this._parts.length;I<rt;I++)for(m=this._parts[I],U=0,pt=m.length,X=pt-1;U<pt;X=U++)b=m[U],S=m[X],b.y>o.y!=S.y>o.y&&o.x<(S.x-b.x)*(o.y-b.y)/(S.y-b.y)+b.x&&(c=!c);return c||ss.prototype._containsPoint.call(this,o,!0)}});function Qp(o,c){return new yo(o,c)}var as=Rr.extend({initialize:function(o,c){z(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=nt(o)?o:o.features,m,b,S;if(c){for(m=0,b=c.length;m<b;m++)S=c[m],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var I=this.options;if(I.filter&&!I.filter(o))return this;var U=Fn(o,I);return U?(U.feature=ku(o),U.defaultOptions=U.options,this.resetStyle(U),I.onEachFeature&&I.onEachFeature(o,U),this.addLayer(U)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=a({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function Fn(o,c){var m=o.type==="Feature"?o.geometry:o,b=m?m.coordinates:null,S=[],I=c&&c.pointToLayer,U=c&&c.coordsToLatLng||Mu,X,rt,pt,xt;if(!b&&!m)return null;switch(m.type){case"Point":return X=U(b),vo(I,o,X,c);case"MultiPoint":for(pt=0,xt=b.length;pt<xt;pt++)X=U(b[pt]),S.push(vo(I,o,X,c));return new Rr(S);case"LineString":case"MultiLineString":return rt=Il(b,m.type==="LineString"?0:1,U),new ss(rt,c);case"Polygon":case"MultiPolygon":return rt=Il(b,m.type==="Polygon"?1:2,U),new yo(rt,c);case"GeometryCollection":for(pt=0,xt=m.geometries.length;pt<xt;pt++){var jt=Fn({geometry:m.geometries[pt],type:"Feature",properties:o.properties},c);jt&&S.push(jt)}return new Rr(S);case"FeatureCollection":for(pt=0,xt=m.features.length;pt<xt;pt++){var ne=Fn(m.features[pt],c);ne&&S.push(ne)}return new Rr(S);default:throw new Error("Invalid GeoJSON object.")}}function vo(o,c,m,b){return o?o(c,m):new Rl(m,b&&b.markersInheritOptions&&b)}function Mu(o){return new mt(o[1],o[0],o[2])}function Il(o,c,m){for(var b=[],S=0,I=o.length,U;S<I;S++)U=c?Il(o[S],c-1,m):(m||Mu)(o[S]),b.push(U);return b}function Du(o,c){return o=yt(o),o.alt!==void 0?[O(o.lng,c),O(o.lat,c),O(o.alt,c)]:[O(o.lng,c),O(o.lat,c)]}function Ol(o,c,m,b){for(var S=[],I=0,U=o.length;I<U;I++)S.push(c?Ol(o[I],Ee(o[I])?0:c-1,m,b):Du(o[I],b));return!c&&m&&S.length>0&&S.push(S[0].slice()),S}function js(o,c){return o.feature?a({},o.feature,{geometry:c}):ku(c)}function ku(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Vs={toGeoJSON:function(o){return js(this,{type:"Point",coordinates:Du(this.getLatLng(),o)})}};Rl.include(Vs),Lu.include(Vs),_o.include(Vs),ss.include({toGeoJSON:function(o){var c=!Ee(this._latlngs),m=Ol(this._latlngs,c?1:0,!1,o);return js(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),yo.include({toGeoJSON:function(o){var c=!Ee(this._latlngs),m=c&&!Ee(this._latlngs[0]),b=Ol(this._latlngs,m?2:c?1:0,!0,o);return c||(b=[b]),js(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),go.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(o).geometry.coordinates)}),js(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var m=c==="GeometryCollection",b=[];return this.eachLayer(function(S){if(S.toGeoJSON){var I=S.toGeoJSON(o);if(m)b.push(I.geometry);else{var U=ku(I);U.type==="FeatureCollection"?b.push.apply(b,U.features):b.push(U)}}}),m?js(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function ju(o,c){return new as(o,c)}var Pl=ju,bo=rr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,m){this._url=o,this._bounds=ht(c),z(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){le(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&$e(this._image),this},bringToBack:function(){return this._map&&di(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ht(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:ae("img");if(Ot(c,"leaflet-image-layer"),this._zoomAnimated&&Ot(c,"leaflet-zoom-animated"),this.options.className&&Ot(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onload=f(this.fire,this,"load"),c.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Qi(this._image,m,c)},_reset:function(){var o=this._image,c=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();ke(o,c.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){qe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Kf=function(o,c,m){return new bo(o,c,m)},zs=bo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:ae("video");if(Ot(c,"leaflet-image-layer"),this._zoomAnimated&&Ot(c,"leaflet-zoom-animated"),this.options.className&&Ot(c,this.options.className),c.onselectstart=x,c.onmousemove=x,c.onloadeddata=f(this.fire,this,"load"),o){for(var m=c.getElementsByTagName("source"),b=[],S=0;S<m.length;S++)b.push(m[S].src);this._url=m.length>0?b:[c.src];return}nt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var U=ae("source");U.src=this._url[I],c.appendChild(U)}}});function Eo(o,c,m){return new zs(o,c,m)}var Vu=bo.extend({_initImage:function(){var o=this._image=this._url;Ot(o,"leaflet-image-layer"),this._zoomAnimated&&Ot(o,"leaflet-zoom-animated"),this.options.className&&Ot(o,this.options.className),o.onselectstart=x,o.onmousemove=x}});function Wf(o,c,m){return new Vu(o,c,m)}var Hn=rr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof mt||nt(o))?(this._latlng=yt(o),z(this,c)):(z(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&qe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&qe(this._container,1),this.bringToFront(),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(qe(this._container,0),this._removeTimeout=setTimeout(f(le,void 0,this._container),200)):le(this._container),this.options.interactive&&(De(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=yt(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$e(this._container),this},bringToBack:function(){return this._map&&di(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof Rr){c=null;var m=this._source._layers;for(var b in m)if(m[b]._map){c=m[b];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=G(this.options.offset),m=this._getAnchor();this._zoomAnimated?ke(this._container,o.add(m)):c=c.add(o).add(m);var b=this._containerBottom=-c.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(o,c,m,b){var S=c;return S instanceof o||(S=new o(b).setContent(c)),m&&S.setLatLng(m),S}}),rr.include({_initOverlay:function(o,c,m,b){var S=m;return S instanceof o?(z(S,b),S._source=this):(S=c&&!b?c:new o(b,this),S.setContent(m)),S}});var Nl=Hn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Hn.prototype.openOn.call(this,o)},onAdd:function(o){Hn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Or||this._source.on("preclick",de))},onRemove:function(o){Hn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Or||this._source.off("preclick",de))},getEvents:function(){var o=Hn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=ae("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=ae("div",o+"-content-wrapper",c);if(this._contentNode=ae("div",o+"-content",m),es(c),Ii(this._contentNode),Ft(c,"contextmenu",de),this._tipContainer=ae("div",o+"-tip-container",c),this._tip=ae("div",o+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=ae("a",o+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',Ft(b,"click",function(S){Qe(S),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var b=o.offsetHeight,S=this.options.maxHeight,I="leaflet-popup-scrolled";S&&b>S?(c.height=S+"px",Ot(o,I)):De(o,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();ke(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(Os(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,b=this._containerWidth,S=new bt(this._containerLeft,-m-this._containerBottom);S._add(Sr(this._container));var I=o.layerPointToContainerPoint(S),U=G(this.options.autoPanPadding),X=G(this.options.autoPanPaddingTopLeft||U),rt=G(this.options.autoPanPaddingBottomRight||U),pt=o.getSize(),xt=0,jt=0;I.x+b+rt.x>pt.x&&(xt=I.x+b-pt.x+rt.x),I.x-xt-X.x<0&&(xt=I.x-X.x),I.y+m+rt.y>pt.y&&(jt=I.y+m-pt.y+rt.y),I.y-jt-X.y<0&&(jt=I.y-X.y),(xt||jt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([xt,jt]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Yf=function(o,c){return new Nl(o,c)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(o,c,m){return this._initOverlay(Nl,o,c,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),rr.include({bindPopup:function(o,c){return this._popup=this._initOverlay(Nl,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Rr||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){Xi(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof Or)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Ll=Hn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Hn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Hn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Hn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,m,b=this._map,S=this._container,I=b.latLngToContainerPoint(b.getCenter()),U=b.layerPointToContainerPoint(o),X=this.options.direction,rt=S.offsetWidth,pt=S.offsetHeight,xt=G(this.options.offset),jt=this._getAnchor();X==="top"?(c=rt/2,m=pt):X==="bottom"?(c=rt/2,m=0):X==="center"?(c=rt/2,m=pt/2):X==="right"?(c=0,m=pt/2):X==="left"?(c=rt,m=pt/2):U.x<I.x?(X="right",c=0,m=pt/2):(X="left",c=rt+(xt.x+jt.x)*2,m=pt/2),o=o.subtract(G(c,m,!0)).add(xt).add(jt),De(S,"leaflet-tooltip-right"),De(S,"leaflet-tooltip-left"),De(S,"leaflet-tooltip-top"),De(S,"leaflet-tooltip-bottom"),Ot(S,"leaflet-tooltip-"+X),ke(S,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&qe(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xp=function(o,c){return new Ll(o,c)};re.include({openTooltip:function(o,c,m){return this._initOverlay(Ll,o,c,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),rr.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ll,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Rr||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(Ft(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),Ft(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,m,b;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),b=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var $f=Ir.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(Ye(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=G(m.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Jp(o){return new $f(o)}Ir.Default=xl;var wo=rr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Nt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){z(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),le(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($e(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof bt?o:new bt(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,m=-o(-1/0,1/0),b=0,S=c.length,I;b<S;b++)I=c[b].style.zIndex,c[b]!==this._container&&I&&(m=o(m,+I));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Nt.ielt9){qe(this._container,this.options.opacity);var o=+new Date,c=!1,m=!1;for(var b in this._tiles){var S=this._tiles[b];if(!(!S.current||!S.loaded)){var I=Math.min(1,(o-S.loaded)/200);qe(S.el,I),I<1?c=!0:(S.active?m=!0:this._onOpaqueTile(S),S.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(W(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=c-Math.abs(o-m),this._onUpdateLevel(m)):(le(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[o],S=this._map;return b||(b=this._levels[o]={},b.el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=S.project(S.unproject(S.getPixelOrigin()),o).round(),b.zoom=o,this._setZoomTransform(b,S.getCenter(),S.getZoom()),x(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var o,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)le(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,m,b){var S=Math.floor(o/2),I=Math.floor(c/2),U=m-1,X=new bt(+S,+I);X.z=+U;var rt=this._tileCoordsToKey(X),pt=this._tiles[rt];return pt&&pt.active?(pt.retain=!0,!0):(pt&&pt.loaded&&(pt.retain=!0),U>b?this._retainParent(S,I,U,b):!1)},_retainChildren:function(o,c,m,b){for(var S=2*o;S<2*o+2;S++)for(var I=2*c;I<2*c+2;I++){var U=new bt(S,I);U.z=m+1;var X=this._tileCoordsToKey(U),rt=this._tiles[X];if(rt&&rt.active){rt.retain=!0;continue}else rt&&rt.loaded&&(rt.retain=!0);m+1<b&&this._retainChildren(S,I,m+1,b)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,m,b){var S=Math.round(c);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var I=this.options.updateWhenZooming&&S!==this._tileZoom;(!b||I)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,c)},_setZoomTransform:function(o,c,m){var b=this._map.getZoomScale(m,o.zoom),S=o.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,m)).round();Nt.any3d?Qi(o.el,S,b):ke(o.el,S)},_resetGrid:function(){var o=this._map,c=o.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],b).x/m.x),Math.ceil(o.project([0,c.wrapLng[1]],b).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],b).y/m.x),Math.ceil(o.project([c.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(m,this._tileZoom),S=c.project(o,this._tileZoom).floor(),I=c.getSize().divideBy(b*2);return new R(S.subtract(I),S.add(I))},_update:function(o){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(o),S=this._pxBoundsToTileRange(b),I=S.getCenter(),U=[],X=this.options.keepBuffer,rt=new R(S.getBottomLeft().subtract([X,-X]),S.getTopRight().add([X,-X]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pt in this._tiles){var xt=this._tiles[pt].coords;(xt.z!==this._tileZoom||!rt.contains(new bt(xt.x,xt.y)))&&(this._tiles[pt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var jt=S.min.y;jt<=S.max.y;jt++)for(var ne=S.min.x;ne<=S.max.x;ne++){var Mn=new bt(ne,jt);if(Mn.z=this._tileZoom,!!this._isValidTile(Mn)){var fn=this._tiles[this._tileCoordsToKey(Mn)];fn?fn.current=!0:U.push(Mn)}}if(U.sort(function(Ce,Re){return Ce.distanceTo(I)-Re.distanceTo(I)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _i=document.createDocumentFragment();for(ne=0;ne<U.length;ne++)this._addTile(U[ne],_i);this._level.el.appendChild(_i)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!c.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(o);return ht(this.options.bounds).overlaps(b)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,m=this.getTileSize(),b=o.scaleBy(m),S=b.add(m),I=c.unproject(b,o.z),U=c.unproject(S,o.z);return[I,U]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),m=new lt(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),m=new bt(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(o){var c=this._tiles[o];c&&(le(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ot(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=x,o.onmousemove=x,Nt.ielt9&&this.options.opacity<1&&qe(o,this.options.opacity)},_addTile:function(o,c){var m=this._getTilePos(o),b=this._tileCoordsToKey(o),S=this.createTile(this._wrapCoords(o),f(this._tileReady,this,o));this._initTile(S),this.createTile.length<2&&q(f(this._tileReady,this,o,null,S)),ke(S,m),this._tiles[b]={el:S,coords:o,current:!0},c.appendChild(S),this.fire("tileloadstart",{tile:S,coords:o})},_tileReady:function(o,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:o});var b=this._tileCoordsToKey(o);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(qe(m.el,0),W(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Ot(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Nt.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new bt(this._wrapX?T(o.x,this._wrapX):o.x,this._wrapY?T(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new R(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Qf(o){return new wo(o)}var Bs=wo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=z(this,c),c.detectRetina&&Nt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var m=document.createElement("img");return Ft(m,"load",f(this._tileOnLoad,this,c,m)),Ft(m,"error",f(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var c={r:Nt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=m),c["-y"]=m}return Et(this._url,a(c,this.options))},_tileOnLoad:function(o,c){Nt.ielt9?setTimeout(f(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,m){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),o(m,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(o=c-o),o+b},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=x,c.onerror=x,!c.complete)){c.src=Rt;var m=this._tiles[o].coords;le(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",Rt),wo.prototype._removeTile.call(this,o)},_tileReady:function(o,c,m){if(!(!this._map||m&&m.getAttribute("src")===Rt))return wo.prototype._tileReady.call(this,o,c,m)}});function Ni(o,c){return new Bs(o,c)}var Ml=Bs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var m=a({},this.defaultWmsParams);for(var b in c)b in this.options||(m[b]=c[b]);c=z(this,c);var S=c.detectRetina&&Nt.retina?2:1,I=this.getTileSize();m.width=I.x*S,m.height=I.y*S,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Bs.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),m=this._crs,b=Y(m.project(c[0]),m.project(c[1])),S=b.min,I=b.max,U=(this._wmsVersion>=1.3&&this._crs===va?[S.y,S.x,I.y,I.x]:[S.x,S.y,I.x,I.y]).join(","),X=Bs.prototype.getTileUrl.call(this,o);return X+k(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(o,c){return a(this.wmsParams,o),c||this.redraw(),this}});function Li(o,c){return new Ml(o,c)}Bs.WMS=Ml,Ni.wms=Li;var ri=rr.extend({options:{padding:.1},initialize:function(o){z(this,o),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var m=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,c),I=b.multiplyBy(-m).add(S).subtract(this._map._getNewPixelOrigin(o,c));Nt.any3d?Qi(this._container,I,m):ke(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new R(m,m.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zu=ri.extend({options:{tolerance:0},getEvents:function(){var o=ri.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");Ft(o,"mousemove",this._onMouseMove,this),Ft(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ft(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,le(this._container),Ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var o=this._bounds,c=this._container,m=o.getSize(),b=Nt.retina?2:1;ke(c,o.min),c.width=b*m.x,c.height=b*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Nt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[_(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,m=c.next,b=c.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete o._order,delete this._layers[_(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),m=[],b,S;for(S=0;S<c.length;S++){if(b=Number(c[S]),isNaN(b))return;m.push(b)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)o=b.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var m,b,S,I,U=o._parts,X=U.length,rt=this._ctx;if(X){for(rt.beginPath(),m=0;m<X;m++){for(b=0,S=U[m].length;b<S;b++)I=U[m][b],rt[b?"lineTo":"moveTo"](I.x,I.y);c&&rt.closePath()}this._fillStroke(rt,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,m=this._ctx,b=Math.max(Math.round(o._radius),1),S=(Math.max(Math.round(o._radiusY),1)||b)/b;S!==1&&(m.save(),m.scale(1,S)),m.beginPath(),m.arc(c.x,c.y/S,b,0,Math.PI*2,!1),S!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,c){var m=c.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),m,b,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(De(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var m,b,S=this._drawFirst;S;S=S.next)m=S.layer,m.options.interactive&&m._containsPoint(c)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(o),b&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([b],o,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,m){this._map._fireDOMEvent(c,m||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var m=c.next,b=c.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var m=c.next,b=c.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function Dl(o){return Nt.canvas?new zu(o):null}var Us=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),nh={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Us("shape");Ot(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Us("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[_(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;le(c),o.removeInteractiveTarget(c),delete this._layers[_(o)]},_updateStyle:function(o){var c=o._stroke,m=o._fill,b=o.options,S=o._container;S.stroked=!!b.stroke,S.filled=!!b.fill,b.stroke?(c||(c=o._stroke=Us("stroke")),S.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=nt(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(S.removeChild(c),o._stroke=null),b.fill?(m||(m=o._fill=Us("fill")),S.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(S.removeChild(m),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),m=Math.round(o._radius),b=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){$e(o._container)},_bringToBack:function(o){di(o._container)}},Pr=Nt.vml?Us:nn,To=ri.extend({_initContainer:function(){this._container=Pr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){le(this._container),Ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var o=this._bounds,c=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),ke(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=Pr("path");o.options.className&&Ot(c,o.options.className),o.options.interactive&&Ot(c,"leaflet-interactive"),this._updateStyle(o),this._layers[_(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){le(o._path),o.removeInteractiveTarget(o._path),delete this._layers[_(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,m=o.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,un(o._parts,c))},_updateCircle:function(o){var c=o._point,m=Math.max(Math.round(o._radius),1),b=Math.max(Math.round(o._radiusY),1)||m,S="a"+m+","+b+" 0 1,0 ",I=o._empty()?"M0 0":"M"+(c.x-m)+","+c.y+S+m*2+",0 "+S+-m*2+",0 ";this._setPath(o,I)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){$e(o._path)},_bringToBack:function(o){di(o._path)}});Nt.vml&&To.include(nh);function kl(o){return Nt.svg||Nt.vml?new To(o):null}re.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&Dl(o)||kl(o)}});var ba=yo.extend({initialize:function(o,c){yo.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=ht(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function tg(o,c){return new ba(o,c)}To.create=Pr,To.pointsToPath=un,as.geometryToLayer=Fn,as.coordsToLatLng=Mu,as.coordsToLatLngs=Il,as.latLngToCoords=Du,as.latLngsToCoords=Ol,as.getFeature=js,as.asFeature=ku,re.mergeOptions({boxZoom:!0});var si=pi.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){le(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ri(),ma(),this._startPoint=this._map.mouseEventToContainerPoint(o),Ft(document,{contextmenu:Xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),Ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new R(this._point,this._startPoint),m=c.getSize();ke(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(le(this._box),De(this._container,"leaflet-crosshair")),An(),Ps(),Ae(document,{contextmenu:Xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var c=new lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",si),re.mergeOptions({doubleClickZoom:!0});var Bu=pi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,m=c.getZoom(),b=c.options.zoomDelta,S=o.originalEvent.shiftKey?m-b:m+b;c.options.doubleClickZoom==="center"?c.setZoom(S):c.setZoomAround(o.containerPoint,S)}});re.addInitHook("addHandler","doubleClickZoom",Bu),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nr=pi.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new nr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){De(this._map._container,"leaflet-grab"),De(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ht(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,S=(b-c+m)%o+c-m,I=(b+c+m)%o-c-m,U=Math.abs(S+m)<Math.abs(I+m)?S:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(o){var c=this._map,m=c.options,b=!m.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),b)c.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,U=m.easeLinearity,X=S.multiplyBy(U/I),rt=X.distanceTo([0,0]),pt=Math.min(m.inertiaMaxSpeed,rt),xt=X.multiplyBy(pt/rt),jt=pt/(m.inertiaDeceleration*U),ne=xt.multiplyBy(-jt/2).round();!ne.x&&!ne.y?c.fire("moveend"):(ne=c._limitOffset(ne,c.options.maxBounds),q(function(){c.panBy(ne,{duration:jt,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",Nr),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ih=pi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),Ft(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,m=o.scrollTop||c.scrollTop,b=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},m=this.keyCodes,b,S;for(b=0,S=m.left.length;b<S;b++)c[m.left[b]]=[-1*o,0];for(b=0,S=m.right.length;b<S;b++)c[m.right[b]]=[o,0];for(b=0,S=m.down.length;b<S;b++)c[m.down[b]]=[0,o];for(b=0,S=m.up.length;b<S;b++)c[m.up[b]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},m=this.keyCodes,b,S;for(b=0,S=m.zoomIn.length;b<S;b++)c[m.zoomIn[b]]=o;for(b=0,S=m.zoomOut.length;b<S;b++)c[m.zoomOut[b]]=-o},_addHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,m=this._map,b;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[c],o.shiftKey&&(b=G(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(G(b),m.options.maxBounds)),m.options.worldCopyJump){var S=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(S)}else m.panBy(b)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Xi(o)}}});re.addInitHook("addHandler","keyboard",ih),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jl=pi.extend({addHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=xn(o),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),b),Xi(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,I=m?Math.ceil(S/m)*m:S,U=o._limitZoom(c+(this._delta>0?I:-I))-c;this._delta=0,this._startTime=null,U&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+U):o.setZoomAround(this._lastMousePos,c+U))}});re.addInitHook("addHandler","scrollWheelZoom",jl);var Ea=600;re.mergeOptions({tapHold:Nt.touchNative&&Nt.safari&&Nt.mobile,tapTolerance:15});var Uu=pi.extend({addHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new bt(c.clientX,c.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ft(document,"touchend",Qe),Ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Ea),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ae(document,"touchend",Qe),Ae(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new bt(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});re.addInitHook("addHandler","tapHold",Uu),re.mergeOptions({touchZoom:Nt.touch,bounceAtZoomLimits:!0});var rh=pi.extend({addHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){De(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(o.touches[0]),b=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),Qe(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(o.touches[0]),b=c.mouseEventToContainerPoint(o.touches[1]),S=m.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(S,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&S<1||this._zoom>c.getMaxZoom()&&S>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var I=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(S===1&&I.x===0&&I.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var U=f(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(U,this,!0),Qe(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",rh),re.BoxZoom=si,re.DoubleClickZoom=Bu,re.Drag=Nr,re.Keyboard=ih,re.ScrollWheelZoom=jl,re.TapHold=Uu,re.TouchZoom=rh,e.Bounds=R,e.Browser=Nt,e.CRS=wt,e.Canvas=zu,e.Circle=Lu,e.CircleMarker=_o,e.Class=Yt,e.Control=Bn,e.DivIcon=$f,e.DivOverlay=Hn,e.DomEvent=Cr,e.DomUtil=Ls,e.Draggable=nr,e.Evented=St,e.FeatureGroup=Rr,e.GeoJSON=as,e.GridLayer=wo,e.Handler=pi,e.Icon=Ir,e.ImageOverlay=bo,e.LatLng=mt,e.LatLngBounds=lt,e.Layer=rr,e.LayerGroup=go,e.LineUtil=Oi,e.Map=re,e.Marker=Rl,e.Mixin=Pu,e.Path=Or,e.Point=bt,e.PolyUtil=ks,e.Polygon=yo,e.Polyline=ss,e.Popup=Nl,e.PosAnimation=ns,e.Projection=ir,e.Rectangle=ba,e.Renderer=ri,e.SVG=To,e.SVGOverlay=Vu,e.TileLayer=Bs,e.Tooltip=Ll,e.Transformation=fe,e.Util=F,e.VideoOverlay=zs,e.bind=f,e.bounds=Y,e.canvas=Dl,e.circle=Zf,e.circleMarker=Gf,e.control=ii,e.divIcon=Jp,e.extend=a,e.featureGroup=Hf,e.geoJSON=ju,e.geoJson=Pl,e.gridLayer=Qf,e.icon=Al,e.imageOverlay=Kf,e.latLng=yt,e.latLngBounds=ht,e.layerGroup=Yp,e.map=Ds,e.marker=qf,e.point=G,e.polygon=Qp,e.polyline=$p,e.popup=Yf,e.rectangle=tg,e.setOptions=z,e.stamp=_,e.svg=kl,e.svgOverlay=Wf,e.tileLayer=Ni,e.tooltip=Xp,e.transformation=ve,e.version=r,e.videoOverlay=Eo;var sh=window.L;e.noConflict=function(){return window.L=sh,this},window.L=e}))})($h,$h.exports)),$h.exports}var Ff=Y6();const P0=EA(Ff);function N0(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function L0(n,t){return t==null?function(r,a){const u=$.useRef(void 0);return u.current||(u.current=n(r,a)),u}:function(r,a){const u=$.useRef(void 0);u.current||(u.current=n(r,a));const f=$.useRef(r),{instance:g}=u.current;return $.useEffect(function(){f.current!==r&&(t(g,r,f.current),f.current=r)},[g,r,t]),u}}function $6(n,t){$.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function r2(n){return function(e){const r=I0(),a=n(O0(e,r),r);return n2(r.map,e.attribution),i2(a.current,e.eventHandlers),$6(a.current,r),a}}function Q6(n,t){const e=L0(n,t),r=r2(e);return q6(r)}function X6(n,t){const e=L0(n),r=K6(e,t);return G6(r)}function J6(n,t){const e=L0(n,t),r=r2(e);return Z6(r)}function tB(n,t,e){const{opacity:r,zIndex:a}=t;r!=null&&r!==e.opacity&&n.setOpacity(r),a!=null&&a!==e.zIndex&&n.setZIndex(a)}function eB(){return I0().map}function nB({bounds:n,boundsOptions:t,center:e,children:r,className:a,id:u,placeholder:f,style:g,whenReady:_,zoom:v,...T},x){const[O]=$.useState({className:a,id:u,style:g}),[D,M]=$.useState(null),z=$.useRef(void 0);$.useImperativeHandle(x,()=>(D==null?void 0:D.map)??null,[D]);const k=$.useCallback(Et=>{if(Et!==null&&!z.current){const nt=new Ff.Map(Et,T);z.current=nt,e!=null&&v!=null?nt.setView(e,v):n!=null&&nt.fitBounds(n,t),_!=null&&nt.whenReady(_),M(F6(nt))}},[]);$.useEffect(()=>()=>{D==null||D.map.remove()},[D]);const ct=D?el.createElement(R0,{value:D},r):f??null;return el.createElement("div",{...O,ref:k},ct)}const iB=$.forwardRef(nB),yA=Q6(function({position:t,...e},r){const a=new Ff.Marker(t,e);return N0(a,H6(r,{overlayContainer:a}))},function(t,e,r){e.position!==r.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==r.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==r.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==r.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),vA=X6(function(t,e){const r=new Ff.Popup(t,e.overlayContainer);return N0(r,e)},function(t,e,{position:r},a){$.useEffect(function(){const{instance:f}=t;function g(v){v.popup===f&&(f.update(),a(!0))}function _(v){v.popup===f&&a(!1)}return e.map.on({popupopen:g,popupclose:_}),e.overlayContainer==null?(r!=null&&f.setLatLng(r),f.openOn(e.map)):e.overlayContainer.bindPopup(f),function(){var T;e.map.off({popupopen:g,popupclose:_}),(T=e.overlayContainer)==null||T.unbindPopup(),e.map.removeLayer(f)}},[t,e,a,r])}),rB=J6(function({url:t,...e},r){const a=new Ff.TileLayer(t,O0(e,r));return N0(a,r)},function(t,e,r){tB(t,e,r);const{url:a}=e;a!=null&&a!==r.url&&t.setUrl(a)});delete P0.Icon.Default.prototype._getIconUrl;P0.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const sB=new P0.Icon({iconUrl:"https://cdn-icons-png.flaticon.com/512/3202/3202926.png",iconSize:[32,32],iconAnchor:[16,16],popupAnchor:[0,-16]}),aB=({center:n})=>(eB().flyTo(n,13),null),oB=({cars:n,center:t,onSelectCar:e})=>E.jsx("div",{style:{height:"400px",width:"100%",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",border:"1px solid var(--slate-200)"},children:E.jsxs(iB,{center:t,zoom:13,style:{height:"100%",width:"100%"},children:[E.jsx(rB,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),E.jsx(aB,{center:t}),E.jsx(yA,{position:t,children:E.jsx(vA,{children:"Jouw Locatie"})}),n.map((r,a)=>{const u=(Math.random()-.5)*.02,f=(Math.random()-.5)*.02,g=[t[0]+u,t[1]+f];return E.jsx(yA,{position:g,icon:sB,eventHandlers:{click:()=>e(r)},children:E.jsx(vA,{children:E.jsxs("div",{style:{textAlign:"center"},children:[E.jsxs("h3",{style:{margin:"0 0 0.25rem 0",fontSize:"1rem"},children:[r.make," ",r.model]}),E.jsx("p",{style:{margin:0,color:"#64748b"},children:r.provider}),E.jsx("button",{onClick:()=>e(r),style:{marginTop:"0.5rem",background:"#0ea5e9",color:"white",border:"none",padding:"0.25rem 0.75rem",borderRadius:"4px",cursor:"pointer"},children:"Kies deze"})]})})},r.id||a)})]})}),s2=()=>E.jsxs("div",{style:{position:"fixed",inset:0,zIndex:0,overflow:"hidden",pointerEvents:"none",backgroundColor:"#111827"},children:[E.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, #111827, #1f2937, #111827)",opacity:.8}}),E.jsxs("div",{style:{position:"absolute",inset:0,opacity:.3},children:[E.jsx("style",{children:`
                        @keyframes moveRight {
                            0% { transform: translateX(-100%) skewX(-30deg); }
                            100% { transform: translateX(200%) skewX(-30deg); }
                        }
                        @keyframes moveLeft {
                            0% { transform: translateX(200%) skewX(30deg); }
                            100% { transform: translateX(-100%) skewX(30deg); }
                        }
                        .traffic-light {
                            position: absolute;
                            height: 4px;
                            border-radius: 9999px;
                            filter: blur(3px);
                            box-shadow: 0 0 10px currentColor;
                        }
                        .light-red { color: #ef4444; background: currentColor; animation: moveLeft 8s linear infinite; }
                        .light-white { color: #facc15; background: currentColor; animation: moveRight 7s linear infinite; }
                        
                        .delay-1 { animation-delay: 0s; }
                        .delay-2 { animation-delay: 2s; }
                        .delay-3 { animation-delay: 4s; }
                        .delay-4 { animation-delay: 1.5s; }
                        .delay-5 { animation-delay: 3.5s; }
                    `}),E.jsx("div",{className:"traffic-light light-red",style:{width:"16rem",top:"15%",animationDuration:"15s"}}),E.jsx("div",{className:"traffic-light light-white",style:{width:"16rem",top:"18%",animationDuration:"12s",animationDelay:"5s"}}),E.jsx("div",{className:"traffic-light light-red delay-1",style:{width:"24rem",top:"40%"}}),E.jsx("div",{className:"traffic-light light-red delay-2",style:{width:"18rem",top:"42%"}}),E.jsx("div",{className:"traffic-light light-white delay-3",style:{width:"20rem",top:"45%"}}),E.jsx("div",{className:"traffic-light light-white delay-1",style:{width:"24rem",top:"48%"}}),E.jsx("div",{className:"traffic-light light-red",style:{width:"500px",top:"75%",opacity:.6,height:"6px",animationDuration:"6s"}}),E.jsx("div",{className:"traffic-light light-white",style:{width:"500px",top:"80%",opacity:.6,height:"6px",animationDuration:"5s",animationDelay:"1s"}})]}),E.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"url('https://grainy-gradients.vercel.app/noise.svg')",opacity:.1,mixBlendMode:"overlay"}})]}),Vt=new RR,lB=Ts(()=>{const{user:n}=bi,t=Uc(),[e,r]=el.useState(!0),a=()=>{try{const M=window.AudioContext||window.webkitAudioContext;if(!M)return;const z=new M;[{freq:440,type:"sine",delay:0},{freq:554,type:"sine",delay:.1},{freq:659,type:"sine",delay:.2},{freq:880,type:"sine",delay:.3}].forEach(({freq:ct,type:Et,delay:nt})=>{const Tt=z.createOscillator(),Rt=z.createGain();Tt.type=Et,Tt.frequency.setValueAtTime(ct,z.currentTime+nt),Rt.gain.setValueAtTime(0,z.currentTime+nt),Rt.gain.linearRampToValueAtTime(.3,z.currentTime+nt+.1),Rt.gain.exponentialRampToValueAtTime(.001,z.currentTime+nt+.5),Tt.connect(Rt),Rt.connect(z.destination),Tt.start(z.currentTime+nt),Tt.stop(z.currentTime+nt+.6)})}catch(M){console.error("Audio playback failed",M)}};$.useEffect(()=>{if(Vt.bookingStatus==="CONFIRMED"){a();const z=Date.now()+3e3,k=()=>{mA({particleCount:7,angle:60,spread:55,origin:{x:0},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),mA({particleCount:7,angle:120,spread:55,origin:{x:1},colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]}),Date.now()<z&&requestAnimationFrame(k)};k()}},[Vt.bookingStatus]);const u=async M=>{M.preventDefault(),await Vt.searchCars()},f=M=>{M==="home"&&(n!=null&&n.homeLocation)?(Vt.startStreet=n.homeLocation.address,Vt.isStartAddressValid=!0):M==="work"&&(n!=null&&n.workLocation)&&(Vt.startStreet=n.workLocation.address,Vt.isStartAddressValid=!0)},g={maxWidth:"1280px",margin:"0 auto",padding:"2rem 1rem",position:"relative",zIndex:10},_={background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",borderRadius:"16px",padding:"2rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",marginBottom:"1.5rem",border:"1px solid rgba(255, 255, 255, 0.5)"},v={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},T={display:"grid",gridTemplateColumns:"minmax(0, 7fr) minmax(0, 5fr)",gap:"2rem"},x={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(0,0,0,0.05)",padding:"1.5rem 0",marginBottom:"2rem"},O=window.innerWidth<=768,D=()=>{if((n==null?void 0:n.role)==="guest"){confirm("Als gast kun je niet boeken. Wil je een account aanmaken?")&&t("/register");return}Vt.confirmBooking()};return E.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",paddingBottom:"3rem",overflowX:"hidden"},children:[E.jsx(s2,{}),E.jsx("div",{style:{position:"relative",zIndex:20,...x},children:E.jsx("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"0 1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--primary-600)",fontWeight:"700",textTransform:"uppercase",fontSize:"0.85rem",letterSpacing:"0.05em"},children:"Tidal Mare"}),E.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",color:"#111827",margin:"0.25rem 0 0.5rem 0"},children:"Waar wil je heen vandaag?"}),E.jsx("p",{style:{color:"#4b5563",fontSize:"1.1rem"},children:"Regel binnen enkele seconden een comfortabele rit."})]})})}),E.jsxs("div",{style:g,children:[E.jsxs("div",{style:O?{display:"flex",flexDirection:"column",gap:"1.5rem"}:T,children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{style:_,children:[E.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:"var(--primary-100)",color:"var(--primary-600)",padding:"6px",borderRadius:"8px",display:"flex"},children:E.jsx(av,{className:"w-5 h-5"})}),"Startlocatie"]}),E.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[E.jsxs("button",{type:"button",onClick:()=>f("home"),className:"shortcut-chip",children:[E.jsx(t2,{className:"w-4 h-4"})," Thuis"]}),E.jsxs("button",{type:"button",onClick:()=>f("work"),className:"shortcut-chip",children:[E.jsx(e2,{className:"w-4 h-4"})," Werk"]})]}),E.jsx("div",{style:v,children:E.jsx("div",{style:{gridColumn:"1 / -1"},children:E.jsx(gA,{label:"Straat en Huisnummer",value:Vt.startStreet+(Vt.startHouseNumber?` ${Vt.startHouseNumber}`:""),onChange:M=>Vt.updateStartField("street",M),onSelect:M=>Vt.setStartAddress(M),isValid:Vt.isStartAddressValid,hasError:Vt.showValidationErrors&&!Vt.isStartAddressValid,placeholder:"Zoek hier (bijv. Kalverstraat)..."})})}),E.jsxs("div",{style:{...v,marginTop:"1rem"},children:[E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Postcode"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:Vt.startPostcode,onChange:M=>Vt.updateStartField("postcode",M.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Plaats"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:Vt.startCity,onChange:M=>Vt.updateStartField("city",M.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]})]})]}),E.jsxs("div",{style:_,children:[E.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:"#fee2e2",color:"#dc2626",padding:"6px",borderRadius:"8px",display:"flex"},children:E.jsx(av,{className:"w-5 h-5"})}),"Eindlocatie"]}),E.jsx("div",{style:v,children:E.jsx("div",{style:{gridColumn:"1 / -1"},children:E.jsx(gA,{label:"Straat en Huisnummer",value:Vt.endStreet+(Vt.endHouseNumber?` ${Vt.endHouseNumber}`:""),onChange:M=>Vt.updateEndField("street",M),onSelect:M=>Vt.setEndAddress(M),isValid:Vt.isEndAddressValid,hasError:Vt.showValidationErrors&&!Vt.isEndAddressValid,placeholder:"Waar gaat de reis naartoe?"})})}),E.jsxs("div",{style:{...v,marginTop:"1rem"},children:[E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Postcode"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:Vt.endPostcode,onChange:M=>Vt.updateEndField("postcode",M.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Plaats"}),E.jsx("input",{type:"text",className:"form-input",readOnly:!0,value:Vt.endCity,onChange:M=>Vt.updateEndField("city",M.target.value),style:{background:"#f9fafb",cursor:"not-allowed"}})]})]})]}),E.jsxs("div",{style:_,children:[E.jsxs("h2",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[E.jsx("span",{style:{background:"#e0e7ff",color:"#4f46e5",padding:"6px",borderRadius:"8px",display:"flex"},children:E.jsx(JR,{className:"w-5 h-5"})}),"Reisdetails"]}),E.jsxs("div",{style:v,children:[E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Passagiers"}),E.jsx("input",{type:"number",min:"1",max:"8",className:"form-input",value:Vt.passengers,onChange:M=>Vt.setPassengers(parseInt(M.target.value))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"form-label",children:"Bagage"}),E.jsxs("select",{className:"form-input",value:Vt.luggageLevel,onChange:M=>Vt.setLuggageLevel(parseInt(M.target.value)),children:[E.jsx("option",{value:"0",children:"Geen bagage"}),E.jsx("option",{value:"1",children:"Klein (handbagage)"}),E.jsx("option",{value:"2",children:"Normaal"}),E.jsx("option",{value:"3",children:"Veel bagage"})]})]})]}),E.jsxs("div",{style:{marginTop:"1.5rem"},children:[E.jsx("label",{className:"form-label",children:"Opmerkingen (Optioneel)"}),E.jsx("textarea",{className:"form-input",rows:3,style:{resize:"none"},placeholder:"Bijv. graag ophalen aan de achterzijde...",value:Vt.bookingNote,onChange:M=>Vt.setBookingNote(M.target.value)})]})]})]}),E.jsx("div",{style:{position:"relative"},children:E.jsxs("div",{style:{..._,position:"sticky",top:"24px"},children:[E.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700",marginBottom:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:["Samenvatting",E.jsx("span",{className:"status-badge status-requested",children:"Rit info"})]}),E.jsxs("div",{style:{position:"relative",paddingLeft:"24px",marginBottom:"2rem"},children:[E.jsx("div",{style:{position:"absolute",left:"7px",top:"10px",bottom:"10px",width:"2px",background:"linear-gradient(to bottom, #10b981, #e5e7eb, #ef4444)"}}),E.jsxs("div",{style:{marginBottom:"1.5rem",position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-24px",width:"16px",height:"16px",background:"#d1fae5",borderRadius:"50%",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 0 2px #10b981"},children:E.jsx("div",{style:{width:"6px",height:"6px",background:"#047857",borderRadius:"50%"}})}),E.jsx("span",{style:{display:"block",fontSize:"0.75rem",textTransform:"uppercase",color:"var(--slate-500)",fontWeight:"700"},children:"Startlocatie"}),E.jsx("span",{style:{fontWeight:"500",display:"block",color:Vt.startAddressSummary?"#111827":"#9ca3af",fontStyle:Vt.startAddressSummary?"normal":"italic"},children:Vt.startAddressSummary||"Kies een startlocatie"})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-24px",width:"16px",height:"16px",background:"#fee2e2",borderRadius:"50%",border:"2px solid white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 0 2px #ef4444"},children:E.jsx("div",{style:{width:"6px",height:"6px",background:"#b91c1c",borderRadius:"50%"}})}),E.jsx("span",{style:{display:"block",fontSize:"0.75rem",textTransform:"uppercase",color:"var(--slate-500)",fontWeight:"700"},children:"Eindlocatie"}),E.jsx("span",{style:{fontWeight:"500",display:"block",color:Vt.endAddressSummary?"#111827":"#9ca3af",fontStyle:Vt.endAddressSummary?"normal":"italic"},children:Vt.endAddressSummary||"Kies een eindlocatie"})]})]}),E.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem",border:"1px solid #f3f4f6"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",marginBottom:"0.5rem"},children:[E.jsx("span",{style:{color:"#6b7280"},children:"Reizigers"}),E.jsxs("span",{style:{fontWeight:"600",color:"#111827"},children:[Vt.passengers," personen"]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[E.jsx("span",{style:{color:"#6b7280"},children:"Bagage"}),E.jsx("span",{style:{fontWeight:"600",color:"#111827"},children:["Geen","Klein","Normaal","Veel"][Vt.luggageLevel]})]})]}),Vt.error&&E.jsxs("div",{className:"error-message",children:[E.jsx("span",{style:{marginRight:"8px"},children:""}),Vt.error]}),E.jsx("button",{onClick:u,disabled:Vt.isLoading,className:"btn-primary",style:{width:"100%",justifyContent:"center"},children:Vt.isLoading?"Zoeken...":"Zoek Beschikbare Auto's "})]})})]}),Vt.availableCars.length>0&&E.jsxs("div",{style:{marginTop:"4rem"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[E.jsx("h3",{style:{fontSize:"1.8rem",fontWeight:"800",color:"white"},children:"Beschikbare Auto's"}),E.jsxs("div",{style:{display:"flex",background:"#374151",padding:"4px",borderRadius:"12px"},children:[E.jsx("button",{onClick:()=>r(!1),style:{padding:"0.5rem 1.25rem",borderRadius:"8px",background:e?"transparent":"#111827",color:e?"#9ca3af":"white",border:"none",cursor:"pointer",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:" Lijst"}),E.jsx("button",{onClick:()=>r(!0),style:{padding:"0.5rem 1.25rem",borderRadius:"8px",background:e?"#111827":"transparent",color:e?"white":"#9ca3af",border:"none",cursor:"pointer",fontWeight:"600",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"6px"},children:" Kaart"})]})]}),e?E.jsxs("div",{className:"fade-in",children:[E.jsx(oB,{cars:Vt.availableCars,center:[52.3676,4.9041],onSelectCar:M=>{Vt.selectCar(M),D()}}),E.jsx("p",{style:{marginTop:"1rem",color:"#6b7280",fontSize:"0.85rem",textAlign:"center"},children:"* Locaties zijn bij benadering weergegeven."})]}):E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"2rem"},children:Vt.availableCars.map(M=>E.jsxs("div",{style:{..._,padding:0,overflow:"hidden"},children:[E.jsxs("div",{style:{height:"180px",background:"linear-gradient(135deg, #f3f4f6, #e5e7eb)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[E.jsx("div",{style:{fontSize:"4rem",opacity:.8},children:""}),E.jsxs("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255,255,255,0.9)",padding:"0.25rem 0.75rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"700",color:"#374151"},children:[M.seats," stoelen"]})]}),E.jsxs("div",{style:{padding:"1.5rem"},children:[E.jsxs("h4",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"0.5rem",color:"#111827"},children:[M.make," ",M.model]}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[E.jsx("span",{style:{background:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",color:"#4b5563"},children:M.fuelType}),E.jsx("span",{style:{background:"#f3f4f6",padding:"2px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600",color:"#4b5563"},children:"Automaat"})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",borderTop:"1px solid #f3f4f6",paddingTop:"1rem"},children:[E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:"0.75rem",textTransform:"uppercase",color:"#9ca3af",fontWeight:"700",marginBottom:"2px"},children:"Prijs indicatie"}),E.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#111827"},children:["",M.pricePerHourEstimate,E.jsx("span",{style:{fontSize:"0.9rem",color:"#6b7280",fontWeight:"400"},children:"/u"})]})]}),E.jsx("button",{onClick:()=>{Vt.selectCar(M),D()},className:"btn-primary",style:{background:"#111827",boxShadow:"0 4px 6px rgba(0,0,0,0.2)"},children:"Boek Nu"})]})]})]},M.id))}),E.jsx("style",{children:`
                            .fade-in { animation: fadeIn 0.5s ease-out forwards; }
                            @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                        `})]}),Vt.bookingStatus==="CONFIRMED"&&E.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100},children:E.jsxs("div",{style:{background:"white",padding:"2.5rem",borderRadius:"24px",maxWidth:"400px",width:"90%",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)"},children:[E.jsx("div",{style:{width:"64px",height:"64px",background:"#d1fae5",color:"#047857",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto 1.5rem auto"},children:""}),E.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"800",color:"#111827",marginBottom:"0.5rem"},children:"Boeking Bevestigd!"}),E.jsx("p",{style:{color:"#4b5563",marginBottom:"2rem",lineHeight:"1.6"},children:"Je rit is succesvol ingepland. We hebben een bevestiging naar je mail gestuurd."}),E.jsx("button",{onClick:()=>Vt.clearForm(),className:"btn-primary",style:{width:"100%",justifyContent:"center"},children:"Terug naar overzicht"})]})})]})]})}),uB=Ts(({carName:n,licensePlate:t,onUnlock:e})=>{const[r,a]=$.useState(!1),[u,f]=$.useState(0),[g,_]=$.useState(!1),v=$.useRef(null),T=2.5;$.useEffect(()=>{const D=()=>{r&&!g?(f(M=>{const z=M+T;return z>=100?(_(!0),a(!1),e(),100):z}),v.current=requestAnimationFrame(D)):!r&&!g&&u>0&&(f(M=>Math.max(0,M-T*3)),v.current=requestAnimationFrame(D))};return v.current=requestAnimationFrame(D),()=>{v.current!==null&&cancelAnimationFrame(v.current)}},[r,g,u,e]);const x=()=>{g||a(!0)},O=()=>{a(!1)};return E.jsxs("div",{className:"smart-key-container",style:{background:"#111827",borderRadius:"20px",padding:"2.5rem 2rem",color:"white",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px solid #1f2937",userSelect:"none"},children:[g&&E.jsx("div",{onClick:()=>{_(!1),f(0)},style:{position:"absolute",top:"1rem",right:"1rem",background:"#374151",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#9ca3af",transition:"all 0.2s",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"},title:"Vergrendelen",children:E.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}),E.jsxs("div",{style:{marginBottom:"2.5rem",opacity:g?.5:1,transition:"opacity 0.5s"},children:[E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"500",margin:0,color:"#e5e7eb",letterSpacing:"0.025em"},children:n}),t&&E.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#9ca3af",background:"#1f2937",padding:"0.25rem 0.75rem",borderRadius:"4px",display:"inline-block",fontFamily:"monospace",letterSpacing:"1px"},children:t})]}),E.jsxs("div",{onMouseDown:x,onMouseUp:O,onMouseLeave:O,onTouchStart:x,onTouchEnd:O,style:{width:"140px",height:"140px",borderRadius:"50%",background:g?"rgba(16, 185, 129, 0.1)":"linear-gradient(145deg, #1f2937, #111827)",boxShadow:g?"0 0 30px rgba(16, 185, 129, 0.2)":r?"inset 0 4px 10px rgba(0,0,0,0.5)":"5px 5px 15px #0b0f19, -5px -5px 15px #273549",display:"flex",alignItems:"center",justifyContent:"center",cursor:g?"default":"pointer",position:"relative",transform:r?"scale(0.96)":"scale(1)",transition:"all 0.2s ease-out",border:"1px solid #374151",marginBottom:"2rem"},children:[E.jsxs("svg",{width:"140",height:"140",style:{position:"absolute",top:0,left:0,transform:"rotate(-90deg)",pointerEvents:"none"},children:[E.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:"#374151",strokeWidth:"2",fill:"transparent"}),E.jsx("circle",{cx:"70",cy:"70",r:"68",stroke:g?"#10b981":"#3b82f6",strokeWidth:"3",fill:"transparent",strokeDasharray:427,strokeDashoffset:427-427*u/100,strokeLinecap:"round",style:{transition:"stroke-dashoffset 0s linear, opacity 0.3s"},opacity:r||g?1:0})]}),E.jsx("div",{style:{color:g?"#10b981":r?"#60a5fa":"#9ca3af",transition:"color 0.3s"},children:g?E.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}),E.jsx("path",{d:"M7 7h10"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}):E.jsxs("svg",{width:"36",height:"36",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),E.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]}),E.jsxs("div",{style:{minHeight:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center"},children:[E.jsx("p",{style:{fontSize:"0.875rem",color:g?"#10b981":r?"#e5e7eb":"#6b7280",fontWeight:"600",margin:0,letterSpacing:"0.05em",textTransform:"uppercase",transition:"color 0.3s"},children:g?"Auto is open":r?"Authenticeren...":"Houd vast om te openen"}),g&&E.jsx("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"0.5rem 0 0 0",animation:"fadeIn 0.5s"},children:"Verbinding stabiel  Gereed voor start"})]})]})}),Da=new RR,cB=Ts(()=>{var T,x,O,D,M;const{id:n}=fO(),[t,e]=$.useState(""),[r,a]=$.useState(!1);$.useEffect(()=>{n&&Da.loadBookingDetails(n)},[n]);const u=async()=>{n&&(await Da.cancelBooking(n,t),a(!1))};if(Da.isLoading&&!Da.selectedBookingDetails)return E.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Laden..."});if(Da.error)return E.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"#ef4444"},children:["Error: ",Da.error]});const f=Da.selectedBookingDetails;if(!f)return E.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"Geen boeking gevonden."});const g=f.status==="REQUESTED"||f.status==="CONFIRMED",v=(z=>{switch(z){case"CONFIRMED":return{color:"#059669",background:"#d1fae5"};case"CANCELLED":return{color:"#dc2626",background:"#fee2e2"};case"COMPLETED":return{color:"#374151",background:"#f3f4f6"};default:return{color:"#2563eb",background:"#dbeafe"}}})(f.status);return E.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"2rem 1rem"},children:[E.jsx("div",{style:{marginBottom:"1.5rem"},children:E.jsx(Ur,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"#4b5563",textDecoration:"none",padding:"0.5rem 0.75rem",borderRadius:"8px",background:"#f9fafb",transition:"background 0.2s",fontWeight:"500"},children:" Terug naar Dashboard"})}),E.jsxs("div",{style:{background:"white",borderRadius:"16px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",overflow:"hidden",border:"1px solid #f3f4f6"},children:[E.jsxs("div",{style:{background:"#f9fafb",padding:"1.5rem",borderBottom:"1px solid #f3f4f6",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[E.jsxs("div",{children:[E.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#111827",margin:0},children:["Boeking #",f.id.substring(0,8)]}),E.jsxs("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:["Aangemaakt op ",new Date(f.createdAt).toLocaleDateString()," om ",new Date(f.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),E.jsx("div",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.875rem",fontWeight:"700",letterSpacing:"0.025em",...v},children:f.status})]}),E.jsxs("div",{style:{padding:"2rem"},children:[f.status==="CANCELLED"&&E.jsx("div",{style:{background:"#fef2f2",borderLeft:"4px solid #ef4444",padding:"1rem",marginBottom:"2rem",borderRadius:"0 8px 8px 0"},children:E.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[E.jsx("span",{style:{fontSize:"1.25rem"},children:""}),E.jsxs("div",{children:[E.jsx("h4",{style:{fontWeight:"700",color:"#7f1d1d",margin:0},children:"Deze rit is geannuleerd"}),E.jsxs("p",{style:{fontSize:"0.875rem",color:"#b91c1c",marginTop:"0.25rem"},children:["Datum: ",f.cancelledAt?new Date(f.cancelledAt).toLocaleString():"-",f.cancellationReason&&E.jsxs("span",{style:{display:"block",marginTop:"0.25rem",fontStyle:"italic"},children:['"',f.cancellationReason,'"']})]})]})]})}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[E.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[E.jsx("span",{children:""})," Route"]}),E.jsxs("div",{style:{position:"relative",paddingLeft:"1.5rem",marginLeft:"0.5rem",borderLeft:"2px solid #e5e7eb",display:"flex",flexDirection:"column",gap:"2rem"},children:[E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#3b82f6",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Vertrek"}),E.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.startLocation.address})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",left:"-29px",top:"0.25rem",width:"1rem",height:"1rem",borderRadius:"50%",background:"#111827",border:"2px solid white",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}}),E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Aankomst"}),E.jsx("p",{style:{fontWeight:"500",color:"#111827",fontSize:"1.125rem",lineHeight:"1.25",margin:0},children:f.endLocation.address})]})]})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[E.jsxs("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827",borderBottom:"1px solid #e5e7eb",paddingBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",margin:0},children:[E.jsx("span",{children:""})," Details"]}),E.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[E.jsxs("div",{children:[E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Voertuig"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[E.jsx("div",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsxs("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:[(T=f.car)==null?void 0:T.make," ",(x=f.car)==null?void 0:x.model]}),E.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:(O=f.car)==null?void 0:O.provider})]})]})]}),E.jsxs("div",{children:[E.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.25rem"},children:"Tijdstip"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[E.jsx("div",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsx("p",{style:{fontWeight:"700",color:"#111827",margin:0},children:new Date(f.startTime).toLocaleDateString()}),E.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:0},children:new Date(f.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]})]})]})]})]}),f.status==="CONFIRMED"&&E.jsxs("div",{style:{marginTop:"2.5rem",paddingTop:"2rem",borderTop:"1px solid #f3f4f6"},children:[E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",marginBottom:"1.5rem",textAlign:"center"},children:"Jouw Digitale Sleutel"}),E.jsx("div",{style:{maxWidth:"360px",margin:"0 auto"},children:E.jsx(uB,{carName:`${(D=f.car)==null?void 0:D.make} ${(M=f.car)==null?void 0:M.model}`,licensePlate:"T-123-XY",onUnlock:()=>console.log("Unlocked from details!")})})]}),g&&E.jsx("div",{style:{marginTop:"2.5rem",paddingTop:"1.5rem",borderTop:"1px solid #f3f4f6",display:"flex",justifyContent:"flex-end"},children:E.jsx("button",{onClick:()=>a(!0),style:{padding:"0.625rem 1.5rem",background:"white",border:"1px solid #fecaca",color:"#dc2626",fontWeight:"500",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"},children:" Rit Annuleren"})})]}),r&&E.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(17, 24, 39, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",zIndex:1e3},children:E.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"2rem",maxWidth:"28rem",width:"100%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[E.jsx("div",{style:{margin:"0 auto 1rem auto",display:"flex",alignItems:"center",justifyContent:"center",height:"3rem",width:"3rem",borderRadius:"50%",background:"#fee2e2"},children:E.jsx("span",{style:{fontSize:"1.5rem"},children:""})}),E.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700",color:"#111827",margin:0},children:"Weet je het zeker?"}),E.jsx("p",{style:{color:"#6b7280",marginTop:"0.5rem",fontSize:"0.9rem"},children:"Je staat op het punt deze rit te annuleren. Dit kan niet ongedaan worden gemaakt."})]}),E.jsxs("div",{style:{marginBottom:"1.5rem"},children:[E.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"Reden van annulering (optioneel)"}),E.jsx("input",{type:"text",style:{width:"100%",border:"1px solid #d1d5db",padding:"0.5rem 1rem",borderRadius:"8px",outline:"none",transition:"border-color 0.2s"},placeholder:"Bijv. Plannen gewijzigd...",value:t,onChange:z=>e(z.target.value)})]}),E.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[E.jsx("button",{onClick:()=>a(!1),style:{flex:1,padding:"0.625rem 1rem",border:"1px solid #d1d5db",background:"white",color:"#374151",fontWeight:"500",borderRadius:"8px",cursor:"pointer"},children:"Terug"}),E.jsx("button",{onClick:u,disabled:Da.isCancelling,style:{flex:1,padding:"0.625rem 1rem",background:"#dc2626",color:"white",fontWeight:"700",borderRadius:"8px",border:"none",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(220, 38, 38, 0.2)"},children:Da.isCancelling?"Bezig...":"Bevestig"})]})]})})]})}),bA=({title:n,icon:t,children:e})=>E.jsxs("div",{style:{marginBottom:"2rem"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem",paddingBottom:"0.75rem",borderBottom:"1px solid rgba(0,0,0,0.05)"},children:[t&&E.jsx("span",{style:{color:"var(--primary-600)",background:"var(--primary-50)",padding:"0.5rem",borderRadius:"8px",display:"flex"},children:t}),E.jsx("span",{style:{fontSize:"1.1rem",fontWeight:"700",color:"#111827"},children:n})]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:e})]}),hB=Ts(()=>{const{user:n}=bi,{isLoading:t}=Hh,[e,r]=$.useState(""),[a,u]=$.useState("");$.useEffect(()=>{n&&(Hh.setUser(n),n.homeLocation&&r(n.homeLocation.address),n.workLocation&&u(n.workLocation.address))},[n]);const f=async _=>{_.preventDefault(),await Hh.updateLocations(e?{address:e,label:"Thuis"}:void 0,a?{address:a,label:"Werk"}:void 0),Hh.user&&(bi.user=Hh.user),alert("Locaties opgeslagen!")};if(!n)return E.jsx("div",{className:"p-8 text-center text-gray-500",children:"Niet ingelogd."});const g={background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",maxWidth:"800px",margin:"0 auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(255, 255, 255, 0.5)",position:"relative",zIndex:10,overflow:"hidden"};return E.jsxs("div",{style:{minHeight:"100vh",position:"relative",background:"#111827",padding:"2rem 1rem"},children:[E.jsx(s2,{}),E.jsx("div",{style:{maxWidth:"800px",margin:"0 auto 2rem auto",position:"relative",zIndex:10},children:E.jsx(Ur,{to:"/dashboard",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"white",textDecoration:"none",padding:"0.5rem 1rem",borderRadius:"99px",background:"rgba(255,255,255,0.1)",backdropFilter:"blur(4px)",transition:"background 0.2s",fontWeight:"500",fontSize:"0.9rem"},children:" Terug naar Dashboard"})}),E.jsxs("div",{style:g,children:[E.jsx("div",{style:{background:"linear-gradient(to right, #0099cc, #0077a8)",padding:"3rem 2rem",color:"white"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",marginBottom:"1rem"},children:[E.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:""}),E.jsxs("div",{children:[E.jsx("h1",{style:{fontSize:"2rem",fontWeight:"800",margin:0,textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"Mijn Profiel"}),E.jsx("p",{style:{opacity:.9,fontSize:"1.1rem",marginTop:"0.25rem"},children:"Beheer je gegevens en locaties"})]})]})}),E.jsx("div",{style:{padding:"2.5rem"},children:E.jsxs("form",{onSubmit:f,children:[E.jsx(bA,{title:"Accountgegevens",icon:E.jsx("div",{style:{width:"20px",height:"20px"},children:E.jsx(JR,{})}),children:E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[E.jsx("span",{style:{color:"#6b7280"},children:E.jsx(sp,{className:"w-4 h-4"})}),E.jsx("span",{children:"E-mailadres"})]}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx("input",{type:"text",className:"form-input",value:n.email,readOnly:!0,disabled:!0,style:{paddingLeft:"2.5rem",background:"#f3f4f6",color:"#6b7280",cursor:"not-allowed",borderColor:"#e5e7eb"}}),E.jsx("div",{style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},children:E.jsx(x0,{className:"w-4 h-4"})})]}),E.jsx("p",{style:{fontSize:"0.8rem",color:"#9ca3af",marginTop:"0.5rem",fontStyle:"italic"},children:"Je e-mailadres is gekoppeld aan je account en kan niet worden gewijzigd."})]})}),E.jsx("div",{style:{height:"1px",background:"#f3f4f6",margin:"2rem 0"}}),E.jsxs(bA,{title:"Favoriete Locaties",icon:E.jsx("div",{style:{width:"20px",height:"20px"},children:E.jsx(av,{})}),children:[E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[E.jsx("span",{style:{color:"var(--primary-600)"},children:E.jsx(t2,{})}),E.jsx("span",{children:"Thuisadres"})]}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Bijv. Kerkstraat 1, Amsterdam",value:e,onChange:_=>r(_.target.value),style:{transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.05)"}})]}),E.jsxs("div",{className:"form-group",children:[E.jsxs("label",{className:"form-label",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",color:"#374151"},children:[E.jsx("span",{style:{color:"var(--primary-600)"},children:E.jsx(e2,{})}),E.jsx("span",{children:"Werkadres"})]}),E.jsx("input",{type:"text",className:"form-input",placeholder:"Bijv. Stationsplein 5, Utrecht",value:a,onChange:_=>u(_.target.value),style:{transition:"all 0.2s",boxShadow:"0 1px 2px 0 rgba(0,0,0,0.05)"}})]})]}),E.jsxs("div",{style:{marginTop:"3rem",display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[E.jsx(Ur,{to:"/dashboard",style:{padding:"0.75rem 1.5rem",borderRadius:"12px",background:"white",border:"1px solid #e5e7eb",color:"#374151",textDecoration:"none",fontWeight:"600",transition:"background 0.2s"},children:"Annuleren"}),E.jsx("button",{type:"submit",disabled:t,className:"btn-primary",style:{padding:"0.75rem 2rem",borderRadius:"12px",fontWeight:"700",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},children:t?"Opslaan...":"Wijzigingen Opslaan"})]})]})})]})]})}),fB=Ts(()=>{const{cars:n,chargingPoints:t,isLoading:e}=fc,[r,a]=$.useState(!1),[u,f]=$.useState({make:"",model:"",seats:"",luggageCapacity:"",fuelType:Cc.EV,provider:xc.DUMMY,pricePerHourEstimate:""}),[g,_]=$.useState(!1),[v,T]=$.useState({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"});$.useEffect(()=>{fc.loadData()},[]);const x=async D=>{D.preventDefault(),await fc.addCar({...u,seats:Number(u.seats),luggageCapacity:Number(u.luggageCapacity),pricePerHourEstimate:Number(u.pricePerHourEstimate)}),a(!1),f({make:"",model:"",seats:"",luggageCapacity:"",fuelType:Cc.EV,provider:xc.DUMMY,pricePerHourEstimate:""})},O=async D=>{D.preventDefault(),await fc.addChargingPoint({...v,latitude:Number(v.latitude),longitude:Number(v.longitude)}),_(!1),T({name:"",latitude:"",longitude:"",connectorType:"Type 2",status:"AVAILABLE"})};return E.jsxs("div",{className:"admin-panel",children:[E.jsx("h2",{className:"mb-4",children:"Admin Beheer"}),e&&E.jsx("p",{children:"Laden..."}),E.jsxs("section",{className:"admin-section card",children:[E.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h3",{style:{margin:0},children:"Auto's Beheren"}),E.jsx("button",{className:"cta-button",onClick:()=>a(!r),children:r?"Annuleren":"+ Auto Toevoegen"})]}),r&&E.jsxs("form",{className:"admin-form mb-4",onSubmit:x,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Merk"}),E.jsx("input",{type:"text",placeholder:"Bijv. Tesla",value:u.make,onChange:D=>f({...u,make:D.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Model"}),E.jsx("input",{type:"text",placeholder:"Bijv. Model Y",value:u.model,onChange:D=>f({...u,model:D.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Aantal Stoelen"}),E.jsx("input",{type:"number",placeholder:"5",value:u.seats,onChange:D=>f({...u,seats:D.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Bagageruimte"}),E.jsx("input",{type:"number",placeholder:"2",value:u.luggageCapacity,onChange:D=>f({...u,luggageCapacity:D.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Brandstof / Type"}),E.jsx("select",{value:u.fuelType,onChange:D=>f({...u,fuelType:D.target.value}),children:Object.values(Cc).map(D=>E.jsx("option",{value:D,children:D},D))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Prijs per uur ()"}),E.jsx("input",{type:"number",placeholder:"Prijs per uur ()",value:u.pricePerHourEstimate,onChange:D=>f({...u,pricePerHourEstimate:D.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Provider"}),E.jsx("select",{value:u.provider,onChange:D=>f({...u,provider:D.target.value}),children:Object.values(xc).map(D=>E.jsx("option",{value:D,children:D},D))})]}),E.jsx("button",{type:"submit",children:"Opslaan"})]}),E.jsx("div",{style:{overflowX:"auto"},children:E.jsxs("table",{className:"admin-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Merk/Model"}),E.jsx("th",{children:"Provider"}),E.jsx("th",{children:"Prijs/u"}),E.jsx("th",{children:"Acties"})]})}),E.jsx("tbody",{children:n.map(D=>E.jsxs("tr",{children:[E.jsxs("td",{children:[D.make," ",D.model," (",D.fuelType,")"]}),E.jsx("td",{children:D.provider}),E.jsxs("td",{children:["",D.pricePerHourEstimate]}),E.jsx("td",{children:E.jsx("button",{onClick:()=>fc.deleteCar(D.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})})]},D.id))})]})})]}),E.jsxs("section",{className:"admin-section card",children:[E.jsxs("div",{className:"section-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[E.jsx("h3",{style:{margin:0},children:"Laadpunten Beheren"}),E.jsx("button",{className:"cta-button",onClick:()=>_(!g),children:g?"Annuleren":"+ Laadpunt Toevoegen"})]}),g&&E.jsxs("form",{className:"admin-form mb-4",onSubmit:O,style:{background:"#f8fafc",padding:"1.5rem",borderRadius:"8px"},children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Naam"}),E.jsx("input",{type:"text",placeholder:"Bijv. Fastned Rotterdam",value:v.name,onChange:D=>T({...v,name:D.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Status"}),E.jsxs("select",{value:v.status,onChange:D=>T({...v,status:D.target.value}),children:[E.jsx("option",{value:"AVAILABLE",children:"Beschikbaar"}),E.jsx("option",{value:"OCCUPIED",children:"Bezet"}),E.jsx("option",{value:"UNKNOWN",children:"Onbekend"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Latitude"}),E.jsx("input",{type:"number",placeholder:"52.08",step:"any",value:v.latitude,onChange:D=>T({...v,latitude:D.target.value}),required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Longitude"}),E.jsx("input",{type:"number",placeholder:"4.32",step:"any",value:v.longitude,onChange:D=>T({...v,longitude:D.target.value}),required:!0})]}),E.jsx("button",{type:"submit",children:"Opslaan"})]}),E.jsx("ul",{className:"admin-list",style:{listStyle:"none",padding:0},children:t.map(D=>E.jsxs("li",{className:"list-item",style:{padding:"1rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("span",{children:[D.name," (",D.status,") - [",D.latitude.toFixed(3),", ",D.longitude.toFixed(3),"]"]}),E.jsx("button",{onClick:()=>fc.deleteChargingPoint(D.id),className:"delete-btn",style:{borderRadius:"4px",fontSize:"0.8rem",padding:"0.3rem 0.6rem"},children:"Verwijder"})]},D.id))})]})]})}),dB=Ts(()=>{const n=Uc(),{user:t,isAuthenticated:e}=bi,r=()=>{bi.logout(),n("/")};return E.jsx("nav",{className:"navbar",children:E.jsxs("div",{className:"navbar-inner",children:[E.jsx("div",{className:"navbar-brand",children:"Onze Bedrijf Mobility"}),E.jsx("div",{className:"navbar-menu",children:E.jsxs("div",{className:"navbar-links",children:[!e&&E.jsx(fs,{to:"/",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Home"}),e&&(t==null?void 0:t.role)==="customer"&&E.jsxs(E.Fragment,{children:[E.jsx(fs,{to:"/dashboard",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Home"}),E.jsx(fs,{to:"/request",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Reis aanvragen"}),E.jsx(fs,{to:"/profile",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Profiel"})]}),e&&(t==null?void 0:t.role)==="guest"&&E.jsxs(E.Fragment,{children:[E.jsx(fs,{to:"/dashboard",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Home"}),E.jsx(fs,{to:"/request",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Reis aanvragen"})]}),e&&(t==null?void 0:t.role)==="admin"&&E.jsxs(E.Fragment,{children:[E.jsx(fs,{to:"/dashboard",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Dashboard"}),E.jsx(fs,{to:"/admin",className:({isActive:a})=>a?"nav-item active":"nav-item",children:"Admin Panel"})]})]})}),E.jsx("div",{className:"navbar-end",children:e?E.jsx("button",{onClick:r,className:"logout-btn",children:"Uitloggen"}):E.jsxs("div",{className:"navbar-links",children:[E.jsx(fs,{to:"/login",className:"nav-item",children:"Inloggen"}),E.jsx(fs,{to:"/register",className:"nav-item",children:"Registreren"})]})})]})})});function mB(){return E.jsx(XO,{basename:"/tidal-mare",children:E.jsxs("div",{className:"app-shell",children:[E.jsx(dB,{}),E.jsx("main",{className:"app-content",children:E.jsx("div",{className:"app-container",children:E.jsxs(IO,{children:[E.jsx(hs,{path:"/",element:E.jsx(oP,{})}),E.jsx(hs,{path:"/login",element:E.jsx(k6,{})}),E.jsx(hs,{path:"/register",element:E.jsx(j6,{})}),E.jsxs(hs,{element:E.jsx(fA,{roles:["customer","admin","guest"]}),children:[E.jsx(hs,{path:"/dashboard",element:E.jsx(z6,{})}),E.jsx(hs,{path:"/request",element:E.jsx(lB,{})}),E.jsx(hs,{path:"/booking/:id",element:E.jsx(cB,{})}),E.jsx(hs,{path:"/profile",element:E.jsx(hB,{})})]}),E.jsx(hs,{element:E.jsx(fA,{roles:["admin"]}),children:E.jsx(hs,{path:"/admin",element:E.jsx(fB,{})})})]})})})]})})}NI.createRoot(document.getElementById("root")).render(E.jsx($.StrictMode,{children:E.jsx(mB,{})}));
